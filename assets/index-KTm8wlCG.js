(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();function Yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Af={exports:{}},cs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function BS(){if(Hg)return cs;Hg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var h in s)h!=="key"&&(c[h]=s[h])}else c=s;return s=c.ref,{$$typeof:t,type:o,key:d,ref:s!==void 0?s:null,props:c}}return cs.Fragment=e,cs.jsx=r,cs.jsxs=r,cs}var Kg;function OS(){return Kg||(Kg=1,Af.exports=BS()),Af.exports}var b=OS(),Rf={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function FS(){if(Jg)return rt;Jg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function U(j,W,F){this.props=j,this.context=W,this.refs=A,this.updater=F||E}U.prototype.isReactComponent={},U.prototype.setState=function(j,W){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,W,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function C(){}C.prototype=U.prototype;function I(j,W,F){this.props=j,this.context=W,this.refs=A,this.updater=F||E}var B=I.prototype=new C;B.constructor=I,R(B,U.prototype),B.isPureReactComponent=!0;var q=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function ae(j,W,F,Q,te,re){return F=re.ref,{$$typeof:t,type:j,key:W,ref:F!==void 0?F:null,props:re}}function ce(j,W){return ae(j.type,W,void 0,void 0,void 0,j.props)}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function Se(j){var W={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(F){return W[F]})}var Me=/\/+/g;function $(j,W){return typeof j=="object"&&j!==null&&j.key!=null?Se(""+j.key):W.toString(36)}function de(){}function P(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(de,de):(j.status="pending",j.then(function(W){j.status==="pending"&&(j.status="fulfilled",j.value=W)},function(W){j.status==="pending"&&(j.status="rejected",j.reason=W)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function fe(j,W,F,Q,te){var re=typeof j;(re==="undefined"||re==="boolean")&&(j=null);var Z=!1;if(j===null)Z=!0;else switch(re){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(j.$$typeof){case t:case e:Z=!0;break;case y:return Z=j._init,fe(Z(j._payload),W,F,Q,te)}}if(Z)return te=te(j),Z=Q===""?"."+$(j,0):Q,q(te)?(F="",Z!=null&&(F=Z.replace(Me,"$&/")+"/"),fe(te,W,F,"",function(ne){return ne})):te!=null&&(O(te)&&(te=ce(te,F+(te.key==null||j&&j.key===te.key?"":(""+te.key).replace(Me,"$&/")+"/")+Z)),W.push(te)),1;Z=0;var k=Q===""?".":Q+":";if(q(j))for(var M=0;M<j.length;M++)Q=j[M],re=k+$(Q,M),Z+=fe(Q,W,F,re,te);else if(M=S(j),typeof M=="function")for(j=M.call(j),M=0;!(Q=j.next()).done;)Q=Q.value,re=k+$(Q,M++),Z+=fe(Q,W,F,re,te);else if(re==="object"){if(typeof j.then=="function")return fe(P(j),W,F,Q,te);throw W=String(j),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Z}function se(j,W,F){if(j==null)return j;var Q=[],te=0;return fe(j,Q,"","",function(re){return W.call(F,re,te++)}),Q}function oe(j){if(j._status===-1){var W=j._result;W=W(),W.then(function(F){(j._status===0||j._status===-1)&&(j._status=1,j._result=F)},function(F){(j._status===0||j._status===-1)&&(j._status=2,j._result=F)}),j._status===-1&&(j._status=0,j._result=W)}if(j._status===1)return j._result.default;throw j._result}var Ie=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function pe(){}return rt.Children={map:se,forEach:function(j,W,F){se(j,function(){W.apply(this,arguments)},F)},count:function(j){var W=0;return se(j,function(){W++}),W},toArray:function(j){return se(j,function(W){return W})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},rt.Component=U,rt.Fragment=r,rt.Profiler=s,rt.PureComponent=I,rt.StrictMode=o,rt.Suspense=p,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,rt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return G.H.useMemoCache(j)}},rt.cache=function(j){return function(){return j.apply(null,arguments)}},rt.cloneElement=function(j,W,F){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Q=R({},j.props),te=j.key,re=void 0;if(W!=null)for(Z in W.ref!==void 0&&(re=void 0),W.key!==void 0&&(te=""+W.key),W)!le.call(W,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&W.ref===void 0||(Q[Z]=W[Z]);var Z=arguments.length-2;if(Z===1)Q.children=F;else if(1<Z){for(var k=Array(Z),M=0;M<Z;M++)k[M]=arguments[M+2];Q.children=k}return ae(j.type,te,void 0,void 0,re,Q)},rt.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},rt.createElement=function(j,W,F){var Q,te={},re=null;if(W!=null)for(Q in W.key!==void 0&&(re=""+W.key),W)le.call(W,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(te[Q]=W[Q]);var Z=arguments.length-2;if(Z===1)te.children=F;else if(1<Z){for(var k=Array(Z),M=0;M<Z;M++)k[M]=arguments[M+2];te.children=k}if(j&&j.defaultProps)for(Q in Z=j.defaultProps,Z)te[Q]===void 0&&(te[Q]=Z[Q]);return ae(j,re,void 0,void 0,null,te)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(j){return{$$typeof:h,render:j}},rt.isValidElement=O,rt.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:oe}},rt.memo=function(j,W){return{$$typeof:m,type:j,compare:W===void 0?null:W}},rt.startTransition=function(j){var W=G.T,F={};G.T=F;try{var Q=j(),te=G.S;te!==null&&te(F,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(pe,Ie)}catch(re){Ie(re)}finally{G.T=W}},rt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},rt.use=function(j){return G.H.use(j)},rt.useActionState=function(j,W,F){return G.H.useActionState(j,W,F)},rt.useCallback=function(j,W){return G.H.useCallback(j,W)},rt.useContext=function(j){return G.H.useContext(j)},rt.useDebugValue=function(){},rt.useDeferredValue=function(j,W){return G.H.useDeferredValue(j,W)},rt.useEffect=function(j,W,F){var Q=G.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(j,W)},rt.useId=function(){return G.H.useId()},rt.useImperativeHandle=function(j,W,F){return G.H.useImperativeHandle(j,W,F)},rt.useInsertionEffect=function(j,W){return G.H.useInsertionEffect(j,W)},rt.useLayoutEffect=function(j,W){return G.H.useLayoutEffect(j,W)},rt.useMemo=function(j,W){return G.H.useMemo(j,W)},rt.useOptimistic=function(j,W){return G.H.useOptimistic(j,W)},rt.useReducer=function(j,W,F){return G.H.useReducer(j,W,F)},rt.useRef=function(j){return G.H.useRef(j)},rt.useState=function(j){return G.H.useState(j)},rt.useSyncExternalStore=function(j,W,F){return G.H.useSyncExternalStore(j,W,F)},rt.useTransition=function(){return G.H.useTransition()},rt.version="19.1.1",rt}var Yg;function Zd(){return Yg||(Yg=1,Rf.exports=FS()),Rf.exports}var Ne=Zd();const ws=Yv(Ne);var Nf={exports:{}},fs={},Df={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function zS(){return Wg||(Wg=1,(function(t){function e(se,oe){var Ie=se.length;se.push(oe);e:for(;0<Ie;){var pe=Ie-1>>>1,j=se[pe];if(0<s(j,oe))se[pe]=oe,se[Ie]=j,Ie=pe;else break e}}function r(se){return se.length===0?null:se[0]}function o(se){if(se.length===0)return null;var oe=se[0],Ie=se.pop();if(Ie!==oe){se[0]=Ie;e:for(var pe=0,j=se.length,W=j>>>1;pe<W;){var F=2*(pe+1)-1,Q=se[F],te=F+1,re=se[te];if(0>s(Q,Ie))te<j&&0>s(re,Q)?(se[pe]=re,se[te]=Ie,pe=te):(se[pe]=Q,se[F]=Ie,pe=F);else if(te<j&&0>s(re,Ie))se[pe]=re,se[te]=Ie,pe=te;else break e}}return oe}function s(se,oe){var Ie=se.sortIndex-oe.sortIndex;return Ie!==0?Ie:se.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,T=null,S=3,E=!1,R=!1,A=!1,U=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(se){for(var oe=r(m);oe!==null;){if(oe.callback===null)o(m);else if(oe.startTime<=se)o(m),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=r(m)}}function G(se){if(A=!1,q(se),!R)if(r(p)!==null)R=!0,le||(le=!0,$());else{var oe=r(m);oe!==null&&fe(G,oe.startTime-se)}}var le=!1,ae=-1,ce=5,O=-1;function Se(){return U?!0:!(t.unstable_now()-O<ce)}function Me(){if(U=!1,le){var se=t.unstable_now();O=se;var oe=!0;try{e:{R=!1,A&&(A=!1,I(ae),ae=-1),E=!0;var Ie=S;try{t:{for(q(se),T=r(p);T!==null&&!(T.expirationTime>se&&Se());){var pe=T.callback;if(typeof pe=="function"){T.callback=null,S=T.priorityLevel;var j=pe(T.expirationTime<=se);if(se=t.unstable_now(),typeof j=="function"){T.callback=j,q(se),oe=!0;break t}T===r(p)&&o(p),q(se)}else o(p);T=r(p)}if(T!==null)oe=!0;else{var W=r(m);W!==null&&fe(G,W.startTime-se),oe=!1}}break e}finally{T=null,S=Ie,E=!1}oe=void 0}}finally{oe?$():le=!1}}}var $;if(typeof B=="function")$=function(){B(Me)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,P=de.port2;de.port1.onmessage=Me,$=function(){P.postMessage(null)}}else $=function(){C(Me,0)};function fe(se,oe){ae=C(function(){se(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(se){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var Ie=S;S=oe;try{return se()}finally{S=Ie}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(se,oe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Ie=S;S=se;try{return oe()}finally{S=Ie}},t.unstable_scheduleCallback=function(se,oe,Ie){var pe=t.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?pe+Ie:pe):Ie=pe,se){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Ie+j,se={id:y++,callback:oe,priorityLevel:se,startTime:Ie,expirationTime:j,sortIndex:-1},Ie>pe?(se.sortIndex=Ie,e(m,se),r(p)===null&&se===r(m)&&(A?(I(ae),ae=-1):A=!0,fe(G,Ie-pe))):(se.sortIndex=j,e(p,se),R||E||(R=!0,le||(le=!0,$()))),se},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(se){var oe=S;return function(){var Ie=S;S=oe;try{return se.apply(this,arguments)}finally{S=Ie}}}})(Mf)),Mf}var $g;function VS(){return $g||($g=1,Df.exports=zS()),Df.exports}var If={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function GS(){if(Xg)return un;Xg=1;var t=Zd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,un.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},un.flushSync=function(p){var m=d.T,y=o.p;try{if(d.T=null,o.p=2,p)return p()}finally{d.T=m,o.p=y,o.d.f()}},un.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},un.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},un.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:E}):y==="script"&&o.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},un.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},un.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);o.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},un.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},un.requestFormReset=function(p){o.d.r(p)},un.unstable_batchedUpdates=function(p,m){return p(m)},un.useFormState=function(p,m,y){return d.H.useFormState(p,m,y)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.1.1",un}var jg;function qS(){if(jg)return If.exports;jg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),If.exports=GS(),If.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function HS(){if(Zg)return fs;Zg=1;var t=VS(),e=Zd(),r=qS();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(o(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(o(188));return i!==n?null:n}for(var a=n,f=i;;){var g=a.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){a=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===a)return h(g),n;if(x===f)return h(g),i;x=x.sibling}throw Error(o(188))}if(a.return!==f.return)a=g,f=x;else{for(var L=!1,V=g.child;V;){if(V===a){L=!0,a=g,f=x;break}if(V===f){L=!0,f=g,a=x;break}V=V.sibling}if(!L){for(V=x.child;V;){if(V===a){L=!0,a=x,f=g;break}if(V===f){L=!0,f=x,a=g;break}V=V.sibling}if(!L)throw Error(o(189))}}if(a.alternate!==f)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function $(n){return n===null||typeof n!="object"?null:(n=Me&&n[Me]||n["@@iterator"],typeof n=="function"?n:null)}var de=Symbol.for("react.client.reference");function P(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===de?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case U:return"Profiler";case A:return"StrictMode";case G:return"Suspense";case le:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case B:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case q:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ae:return i=n.displayName||null,i!==null?i:P(n.type)||"Memo";case ce:i=n._payload,n=n._init;try{return P(n(i))}catch{}}return null}var fe=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},pe=[],j=-1;function W(n){return{current:n}}function F(n){0>j||(n.current=pe[j],pe[j]=null,j--)}function Q(n,i){j++,pe[j]=n.current,n.current=i}var te=W(null),re=W(null),Z=W(null),k=W(null);function M(n,i){switch(Q(Z,i),Q(re,n),Q(te,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?vg(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=vg(i),n=wg(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(te),Q(te,n)}function ne(){F(te),F(re),F(Z)}function Y(n){n.memoizedState!==null&&Q(k,n);var i=te.current,a=wg(i,n.type);i!==a&&(Q(re,n),Q(te,a))}function z(n){re.current===n&&(F(te),F(re)),k.current===n&&(F(k),os._currentValue=Ie)}var K=Object.prototype.hasOwnProperty,ge=t.unstable_scheduleCallback,D=t.unstable_cancelCallback,H=t.unstable_shouldYield,N=t.unstable_requestPaint,v=t.unstable_now,w=t.unstable_getCurrentPriorityLevel,_=t.unstable_ImmediatePriority,J=t.unstable_UserBlockingPriority,ee=t.unstable_NormalPriority,X=t.unstable_LowPriority,we=t.unstable_IdlePriority,ke=t.log,Ee=t.unstable_setDisableYieldValue,Be=null,Ge=null;function He(n){if(typeof ke=="function"&&Ee(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Be,n)}catch{}}var nt=Math.clz32?Math.clz32:kt,_t=Math.log,$t=Math.LN2;function kt(n){return n>>>=0,n===0?32:31-(_t(n)/$t|0)|0}var it=256,Ft=4194304;function Mt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function pt(n,i,a){var f=n.pendingLanes;if(f===0)return 0;var g=0,x=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var V=f&134217727;return V!==0?(f=V&~x,f!==0?g=Mt(f):(L&=V,L!==0?g=Mt(L):a||(a=V&~n,a!==0&&(g=Mt(a))))):(V=f&~x,V!==0?g=Mt(V):L!==0?g=Mt(L):a||(a=f&~n,a!==0&&(g=Mt(a)))),g===0?0:i!==0&&i!==g&&(i&x)===0&&(x=g&-g,a=i&-i,x>=a||x===32&&(a&4194048)!==0)?i:g}function Kn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Qt(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var n=it;return it<<=1,(it&4194048)===0&&(it=256),n}function di(){var n=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),n}function Jn(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function rn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ct(n,i,a,f,g,x){var L=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var V=n.entanglements,ie=n.expirationTimes,ye=n.hiddenUpdates;for(a=L&~a;0<a;){var De=31-nt(a),Le=1<<De;V[De]=0,ie[De]=-1;var ve=ye[De];if(ve!==null)for(ye[De]=null,De=0;De<ve.length;De++){var xe=ve[De];xe!==null&&(xe.lane&=-536870913)}a&=~Le}f!==0&&sa(n,f,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(L&~i))}function sa(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var f=31-nt(i);n.entangledLanes|=i,n.entanglements[f]=n.entanglements[f]|1073741824|a&4194090}function Wi(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var f=31-nt(a),g=1<<f;g&i|n[f]&i&&(n[f]|=i),a&=~g}}function tr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function hi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cs(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:Og(n.type))}function la(n,i){var a=oe.p;try{return oe.p=n,i()}finally{oe.p=a}}var nr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+nr,Xt="__reactProps$"+nr,mr="__reactContainer$"+nr,ua="__reactEvents$"+nr,As="__reactListeners$"+nr,Au="__reactHandles$"+nr,ca="__reactResources$"+nr,Yn="__reactMarker$"+nr;function pi(n){delete n[Jt],delete n[Xt],delete n[ua],delete n[As],delete n[Au]}function bn(n){var i=n[Jt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[mr]||a[Jt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Eg(n);n!==null;){if(a=n[Jt])return a;n=Eg(n)}return i}n=a,a=n.parentNode}return null}function rr(n){if(n=n[Jt]||n[mr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function mi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function gr(n){var i=n[ca];return i||(i=n[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Lt(n){n[Yn]=!0}var Rs=new Set,fa={};function In(n,i){mn(n,i),mn(n+"Capture",i)}function mn(n,i){for(fa[n]=i,n=0;n<i.length;n++)Rs.add(i[n])}var gi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},Ns={};function yi(n){return K.call(Ns,n)?!0:K.call(Pr,n)?!1:gi.test(n)?Ns[n]=!0:(Pr[n]=!0,!1)}function Br(n,i,a){if(yi(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Or(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function kn(n,i,a,f){if(f===null)n.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+f)}}var da,Ds;function Fr(n){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",Ds=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+n+Ds}var ha=!1;function pa(n,i){if(!n||ha)return"";ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(xe){var ve=xe}Reflect.construct(n,[],Le)}else{try{Le.call()}catch(xe){ve=xe}n.call(Le.prototype)}}else{try{throw Error()}catch(xe){ve=xe}(Le=n())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(xe){if(xe&&ve&&typeof xe.stack=="string")return[xe.stack,ve.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),L=x[0],V=x[1];if(L&&V){var ie=L.split(`
`),ye=V.split(`
`);for(g=f=0;f<ie.length&&!ie[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ye.length&&!ye[g].includes("DetermineComponentFrameRoot");)g++;if(f===ie.length||g===ye.length)for(f=ie.length-1,g=ye.length-1;1<=f&&0<=g&&ie[f]!==ye[g];)g--;for(;1<=f&&0<=g;f--,g--)if(ie[f]!==ye[g]){if(f!==1||g!==1)do if(f--,g--,0>g||ie[f]!==ye[g]){var De=`
`+ie[f].replace(" at new "," at ");return n.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",n.displayName)),De}while(1<=f&&0<=g);break}}}finally{ha=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Fr(a):""}function Ru(n){switch(n.tag){case 26:case 27:case 5:return Fr(n.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return pa(n.type,!1);case 11:return pa(n.type.render,!1);case 1:return pa(n.type,!0);case 31:return Fr("Activity");default:return""}}function Ms(n){try{var i="";do i+=Ru(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Is(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Nu(n){var i=Is(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),f=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,x=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(L){f=""+L,x.call(this,L)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function $i(n){n._valueTracker||(n._valueTracker=Nu(n))}function Xi(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),f="";return n&&(f=Is(n)?n.checked?"true":"false":n.value),n=f,n!==a?(i.setValue(n),!0):!1}function ji(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Du=/[\n"\\]/g;function vn(n){return n.replace(Du,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(n,i,a,f,g,x,L,V){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+gn(i)):n.value!==""+gn(i)&&(n.value=""+gn(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?Zi(n,L,gn(i)):a!=null?Zi(n,L,gn(a)):f!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?n.name=""+gn(V):n.removeAttribute("name")}function ks(n,i,a,f,g,x,L,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),i!=null||a!=null){if(!(x!=="submit"&&x!=="reset"||i!=null))return;a=a!=null?""+gn(a):"",i=i!=null?""+gn(i):a,V||i===n.value||(n.value=i),n.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=V?n.checked:!!f,n.defaultChecked=!!f,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L)}function Zi(n,i,a){i==="number"&&ji(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function zr(n,i,a,f){if(n=n.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=i.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&f&&(n[a].defaultSelected=!0)}else{for(a=""+gn(a),i=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Us(n,i,a){if(i!=null&&(i=""+gn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+gn(a):""}function Ls(n,i,a,f){if(i==null){if(f!=null){if(a!=null)throw Error(o(92));if(fe(f)){if(1<f.length)throw Error(o(93));f=f[0]}a=f}a==null&&(a=""),i=a}a=gn(i),n.defaultValue=a,f=n.textContent,f===a&&f!==""&&f!==null&&(n.value=f)}function Vr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ps(n,i,a){var f=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":f?n.setProperty(i,a):typeof a!="number"||a===0||Mu.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Bs(n,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&a[g]!==f&&Ps(n,g,f)}else for(var x in i)i.hasOwnProperty(x)&&Ps(n,x,i[x])}function ga(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(n){return ku.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ya=null;function Qi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gr=null,yr=null;function va(n){var i=rr(n);if(i&&(n=i.stateNode)){var a=n[Xt]||null;e:switch(n=i.stateNode,i.type){case"input":if(ma(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var f=a[i];if(f!==n&&f.form===n.form){var g=f[Xt]||null;if(!g)throw Error(o(90));ma(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<a.length;i++)f=a[i],f.form===n.form&&Xi(f)}break e;case"textarea":Us(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zr(n,!!a.multiple,i,!1)}}}var wa=!1;function Os(n,i,a){if(wa)return n(i,a);wa=!0;try{var f=n(i);return f}finally{if(wa=!1,(Gr!==null||yr!==null)&&(xl(),Gr&&(i=Gr,n=yr,yr=Gr=null,va(i),n)))for(i=0;i<n.length;i++)va(n[i])}}function wi(n,i){var a=n.stateNode;if(a===null)return null;var f=a[Xt]||null;if(f===null)return null;a=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=!1;if(Wn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){xa=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{xa=!1}var ir=null,eo=null,Ti=null;function be(){if(Ti)return Ti;var n,i=eo,a=i.length,f,g="value"in ir?ir.value:ir.textContent,x=g.length;for(n=0;n<a&&i[n]===g[n];n++);var L=a-n;for(f=1;f<=L&&i[a-f]===g[x-f];f++);return Ti=g.slice(n,1<f?1-f:void 0)}function Te(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ze(){return!0}function Oe(){return!1}function Re(n){function i(a,f,g,x,L){this._reactName=a,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(a=n[V],this[V]=a?a(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ze:Oe,this.isPropagationStopped=Oe,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ze)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ze)},persist:function(){},isPersistent:ze}),i}var Pe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ve=Re(Pe),qe=y({},Pe,{view:0,detail:0}),$e=Re(qe),Ze,tt,yt,zt=y({},qe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yt&&(yt&&n.type==="mousemove"?(Ze=n.screenX-yt.screenX,tt=n.screenY-yt.screenY):tt=Ze=0,yt=n),Ze)},movementY:function(n){return"movementY"in n?n.movementY:tt}}),to=Re(zt),Un=y({},zt,{dataTransfer:0}),Fs=Re(Un),zs=y({},qe,{relatedTarget:0}),Ta=Re(zs),Si=y({},Pe,{animationName:0,elapsedTime:0,pseudoElement:0}),Gx=Re(Si),qx=y({},Pe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hx=Re(qx),Kx=y({},Pe,{data:0}),_h=Re(Kx),Jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $x(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Wx[n])?!!i[n]:!1}function Uu(){return $x}var Xx=y({},qe,{key:function(n){if(n.key){var i=Jx[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Te(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(n){return n.type==="keypress"?Te(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Te(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jx=Re(Xx),Zx=y({},zt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=Re(Zx),Qx=y({},qe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),eT=Re(Qx),tT=y({},Pe,{propertyName:0,elapsedTime:0,pseudoElement:0}),nT=Re(tT),rT=y({},zt,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),iT=Re(rT),oT=y({},Pe,{newState:0,oldState:0}),aT=Re(oT),sT=[9,13,27,32],Lu=Wn&&"CompositionEvent"in window,Sa=null;Wn&&"documentMode"in document&&(Sa=document.documentMode);var lT=Wn&&"TextEvent"in window&&!Sa,Ah=Wn&&(!Lu||Sa&&8<Sa&&11>=Sa),Rh=" ",Nh=!1;function Dh(n,i){switch(n){case"keyup":return sT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var no=!1;function uT(n,i){switch(n){case"compositionend":return Mh(i);case"keypress":return i.which!==32?null:(Nh=!0,Rh);case"textInput":return n=i.data,n===Rh&&Nh?null:n;default:return null}}function cT(n,i){if(no)return n==="compositionend"||!Lu&&Dh(n,i)?(n=be(),Ti=eo=ir=null,no=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ah&&i.locale!=="ko"?null:i.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!fT[n.type]:i==="textarea"}function kh(n,i,a,f){Gr?yr?yr.push(f):yr=[f]:Gr=f,i=Cl(i,"onChange"),0<i.length&&(a=new Ve("onChange","change",null,a,f),n.push({event:a,listeners:i}))}var Ea=null,ba=null;function dT(n){hg(n,0)}function Vs(n){var i=mi(n);if(Xi(i))return n}function Uh(n,i){if(n==="change")return i}var Lh=!1;if(Wn){var Pu;if(Wn){var Bu="oninput"in document;if(!Bu){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),Bu=typeof Ph.oninput=="function"}Pu=Bu}else Pu=!1;Lh=Pu&&(!document.documentMode||9<document.documentMode)}function Bh(){Ea&&(Ea.detachEvent("onpropertychange",Oh),ba=Ea=null)}function Oh(n){if(n.propertyName==="value"&&Vs(ba)){var i=[];kh(i,ba,n,Qi(n)),Os(dT,i)}}function hT(n,i,a){n==="focusin"?(Bh(),Ea=i,ba=a,Ea.attachEvent("onpropertychange",Oh)):n==="focusout"&&Bh()}function pT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vs(ba)}function mT(n,i){if(n==="click")return Vs(i)}function gT(n,i){if(n==="input"||n==="change")return Vs(i)}function yT(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var _n=typeof Object.is=="function"?Object.is:yT;function _a(n,i){if(_n(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),f=Object.keys(i);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var g=a[f];if(!K.call(i,g)||!_n(n[g],i[g]))return!1}return!0}function Fh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zh(n,i){var a=Fh(n);n=0;for(var f;a;){if(a.nodeType===3){if(f=n+a.textContent.length,n<=i&&f>=i)return{node:a,offset:i-n};n=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fh(a)}}function Vh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Vh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Gh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ji(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=ji(n.document)}return i}function Ou(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var vT=Wn&&"documentMode"in document&&11>=document.documentMode,ro=null,Fu=null,Ca=null,zu=!1;function qh(n,i,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zu||ro==null||ro!==ji(f)||(f=ro,"selectionStart"in f&&Ou(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ca&&_a(Ca,f)||(Ca=f,f=Cl(Fu,"onSelect"),0<f.length&&(i=new Ve("onSelect","select",null,i,a),n.push({event:i,listeners:f}),i.target=ro)))}function Ei(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var io={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},Vu={},Hh={};Wn&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function bi(n){if(Vu[n])return Vu[n];if(!io[n])return n;var i=io[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hh)return Vu[n]=i[a];return n}var Kh=bi("animationend"),Jh=bi("animationiteration"),Yh=bi("animationstart"),wT=bi("transitionrun"),xT=bi("transitionstart"),TT=bi("transitioncancel"),Wh=bi("transitionend"),$h=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function $n(n,i){$h.set(n,i),In(i,[n])}var Xh=new WeakMap;function Ln(n,i){if(typeof n=="object"&&n!==null){var a=Xh.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ms(i)},Xh.set(n,i),i)}return{value:n,source:i,stack:Ms(i)}}var Pn=[],oo=0,qu=0;function Gs(){for(var n=oo,i=qu=oo=0;i<n;){var a=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var g=Pn[i];Pn[i++]=null;var x=Pn[i];if(Pn[i++]=null,f!==null&&g!==null){var L=f.pending;L===null?g.next=g:(g.next=L.next,L.next=g),f.pending=g}x!==0&&jh(a,g,x)}}function qs(n,i,a,f){Pn[oo++]=n,Pn[oo++]=i,Pn[oo++]=a,Pn[oo++]=f,qu|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function Hu(n,i,a,f){return qs(n,i,a,f),Hs(n)}function ao(n,i){return qs(n,null,null,i),Hs(n)}function jh(n,i,a){n.lanes|=a;var f=n.alternate;f!==null&&(f.lanes|=a);for(var g=!1,x=n.return;x!==null;)x.childLanes|=a,f=x.alternate,f!==null&&(f.childLanes|=a),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&i!==null&&(g=31-nt(a),n=x.hiddenUpdates,f=n[g],f===null?n[g]=[i]:f.push(i),i.lane=a|536870912),x):null}function Hs(n){if(50<ja)throw ja=0,Xc=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var so={};function ST(n,i,a,f){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,i,a,f){return new ST(n,i,a,f)}function Ku(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vr(n,i){var a=n.alternate;return a===null?(a=Cn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Zh(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ks(n,i,a,f,g,x){var L=0;if(f=n,typeof n=="function")Ku(n)&&(L=1);else if(typeof n=="string")L=bS(n,a,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case O:return n=Cn(31,a,i,g),n.elementType=O,n.lanes=x,n;case R:return _i(a.children,g,x,i);case A:L=8,g|=24;break;case U:return n=Cn(12,a,i,g|2),n.elementType=U,n.lanes=x,n;case G:return n=Cn(13,a,i,g),n.elementType=G,n.lanes=x,n;case le:return n=Cn(19,a,i,g),n.elementType=le,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:case B:L=10;break e;case I:L=9;break e;case q:L=11;break e;case ae:L=14;break e;case ce:L=16,f=null;break e}L=29,a=Error(o(130,n===null?"null":typeof n,"")),f=null}return i=Cn(L,a,i,g),i.elementType=n,i.type=f,i.lanes=x,i}function _i(n,i,a,f){return n=Cn(7,n,f,i),n.lanes=a,n}function Ju(n,i,a){return n=Cn(6,n,null,i),n.lanes=a,n}function Yu(n,i,a){return i=Cn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var lo=[],uo=0,Js=null,Ys=0,Bn=[],On=0,Ci=null,wr=1,xr="";function Ai(n,i){lo[uo++]=Ys,lo[uo++]=Js,Js=n,Ys=i}function Qh(n,i,a){Bn[On++]=wr,Bn[On++]=xr,Bn[On++]=Ci,Ci=n;var f=wr;n=xr;var g=32-nt(f)-1;f&=~(1<<g),a+=1;var x=32-nt(i)+g;if(30<x){var L=g-g%5;x=(f&(1<<L)-1).toString(32),f>>=L,g-=L,wr=1<<32-nt(i)+g|a<<g|f,xr=x+n}else wr=1<<x|a<<g|f,xr=n}function Wu(n){n.return!==null&&(Ai(n,1),Qh(n,1,0))}function $u(n){for(;n===Js;)Js=lo[--uo],lo[uo]=null,Ys=lo[--uo],lo[uo]=null;for(;n===Ci;)Ci=Bn[--On],Bn[On]=null,xr=Bn[--On],Bn[On]=null,wr=Bn[--On],Bn[On]=null}var yn=null,Pt=null,mt=!1,Ri=null,or=!1,Xu=Error(o(519));function Ni(n){var i=Error(o(418,""));throw Na(Ln(i,n)),Xu}function ep(n){var i=n.stateNode,a=n.type,f=n.memoizedProps;switch(i[Jt]=n,i[Xt]=f,a){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(a=0;a<Qa.length;a++)ct(Qa[a],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":ct("invalid",i),ks(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),$i(i);break;case"select":ct("invalid",i);break;case"textarea":ct("invalid",i),Ls(i,f.value,f.defaultValue,f.children),$i(i)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||f.suppressHydrationWarning===!0||yg(i.textContent,a)?(f.popover!=null&&(ct("beforetoggle",i),ct("toggle",i)),f.onScroll!=null&&ct("scroll",i),f.onScrollEnd!=null&&ct("scrollend",i),f.onClick!=null&&(i.onclick=Al),i=!0):i=!1,i||Ni(n)}function tp(n){for(yn=n.return;yn;)switch(yn.tag){case 5:case 13:or=!1;return;case 27:case 3:or=!0;return;default:yn=yn.return}}function Aa(n){if(n!==yn)return!1;if(!mt)return tp(n),mt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||hf(n.type,n.memoizedProps)),a=!a),a&&Pt&&Ni(n),tp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Pt=jn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Pt=null}}else i===27?(i=Pt,ii(n.type)?(n=yf,yf=null,Pt=n):Pt=i):Pt=yn?jn(n.stateNode.nextSibling):null;return!0}function Ra(){Pt=yn=null,mt=!1}function np(){var n=Ri;return n!==null&&(Tn===null?Tn=n:Tn.push.apply(Tn,n),Ri=null),n}function Na(n){Ri===null?Ri=[n]:Ri.push(n)}var ju=W(null),Di=null,Tr=null;function qr(n,i,a){Q(ju,i._currentValue),i._currentValue=a}function Sr(n){n._currentValue=ju.current,F(ju)}function Zu(n,i,a){for(;n!==null;){var f=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),n===a)break;n=n.return}}function Qu(n,i,a,f){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var L=g.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=g;for(var ie=0;ie<i.length;ie++)if(V.context===i[ie]){x.lanes|=a,V=x.alternate,V!==null&&(V.lanes|=a),Zu(x.return,a,n),f||(L=null);break e}x=V.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(o(341));L.lanes|=a,x=L.alternate,x!==null&&(x.lanes|=a),Zu(L,a,n),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===n){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function Da(n,i,a,f){n=null;for(var g=i,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(o(387));if(L=L.memoizedProps,L!==null){var V=g.type;_n(g.pendingProps.value,L.value)||(n!==null?n.push(V):n=[V])}}else if(g===k.current){if(L=g.alternate,L===null)throw Error(o(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(os):n=[os])}g=g.return}n!==null&&Qu(i,n,a,f),i.flags|=262144}function Ws(n){for(n=n.firstContext;n!==null;){if(!_n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Mi(n){Di=n,Tr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ln(n){return rp(Di,n)}function $s(n,i){return Di===null&&Mi(n),rp(n,i)}function rp(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Tr===null){if(n===null)throw Error(o(308));Tr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Tr=Tr.next=i;return a}var ET=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,f){n.push(f)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},bT=t.unstable_scheduleCallback,_T=t.unstable_NormalPriority,jt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new ET,data:new Map,refCount:0}}function Ma(n){n.refCount--,n.refCount===0&&bT(_T,function(){n.controller.abort()})}var Ia=null,tc=0,co=0,fo=null;function CT(n,i){if(Ia===null){var a=Ia=[];tc=0,co=rf(),fo={status:"pending",value:void 0,then:function(f){a.push(f)}}}return tc++,i.then(ip,ip),i}function ip(){if(--tc===0&&Ia!==null){fo!==null&&(fo.status="fulfilled");var n=Ia;Ia=null,co=0,fo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function AT(n,i){var a=[],f={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<a.length;g++)(0,a[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),f}var op=se.S;se.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&CT(n,i),op!==null&&op(n,i)};var Ii=W(null);function nc(){var n=Ii.current;return n!==null?n:Rt.pooledCache}function Xs(n,i){i===null?Q(Ii,Ii.current):Q(Ii,i.pool)}function ap(){var n=nc();return n===null?null:{parent:jt._currentValue,pool:n}}var ka=Error(o(460)),sp=Error(o(474)),js=Error(o(542)),rc={then:function(){}};function lp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Zs(){}function up(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Zs,Zs),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,fp(n),n;default:if(typeof i.status=="string")i.then(Zs,Zs);else{if(n=Rt,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,fp(n),n}throw Ua=i,ka}}var Ua=null;function cp(){if(Ua===null)throw Error(o(459));var n=Ua;return Ua=null,n}function fp(n){if(n===ka||n===js)throw Error(o(483))}var Hr=!1;function ic(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Kr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Jr(n,i,a){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(vt&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=Hs(n),jh(n,null,a),i}return qs(n,f,i,a),Hs(n)}function La(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var f=i.lanes;f&=n.pendingLanes,a|=f,i.lanes=a,Wi(n,a)}}function ac(n,i){var a=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var g=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var L={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};x===null?g=x=L:x=x.next=L,a=a.next}while(a!==null);x===null?g=x=i:x=x.next=i}else g=x=i;a={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var sc=!1;function Pa(){if(sc){var n=fo;if(n!==null)throw n}}function Ba(n,i,a,f){sc=!1;var g=n.updateQueue;Hr=!1;var x=g.firstBaseUpdate,L=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var ie=V,ye=ie.next;ie.next=null,L===null?x=ye:L.next=ye,L=ie;var De=n.alternate;De!==null&&(De=De.updateQueue,V=De.lastBaseUpdate,V!==L&&(V===null?De.firstBaseUpdate=ye:V.next=ye,De.lastBaseUpdate=ie))}if(x!==null){var Le=g.baseState;L=0,De=ye=ie=null,V=x;do{var ve=V.lane&-536870913,xe=ve!==V.lane;if(xe?(ft&ve)===ve:(f&ve)===ve){ve!==0&&ve===co&&(sc=!0),De!==null&&(De=De.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Qe=n,Xe=V;ve=i;var Et=a;switch(Xe.tag){case 1:if(Qe=Xe.payload,typeof Qe=="function"){Le=Qe.call(Et,Le,ve);break e}Le=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Xe.payload,ve=typeof Qe=="function"?Qe.call(Et,Le,ve):Qe,ve==null)break e;Le=y({},Le,ve);break e;case 2:Hr=!0}}ve=V.callback,ve!==null&&(n.flags|=64,xe&&(n.flags|=8192),xe=g.callbacks,xe===null?g.callbacks=[ve]:xe.push(ve))}else xe={lane:ve,tag:V.tag,payload:V.payload,callback:V.callback,next:null},De===null?(ye=De=xe,ie=Le):De=De.next=xe,L|=ve;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;xe=V,V=xe.next,xe.next=null,g.lastBaseUpdate=xe,g.shared.pending=null}}while(!0);De===null&&(ie=Le),g.baseState=ie,g.firstBaseUpdate=ye,g.lastBaseUpdate=De,x===null&&(g.shared.lanes=0),ei|=L,n.lanes=L,n.memoizedState=Le}}function dp(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function hp(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)dp(a[n],i)}var ho=W(null),Qs=W(0);function pp(n,i){n=Nr,Q(Qs,n),Q(ho,i),Nr=n|i.baseLanes}function lc(){Q(Qs,Nr),Q(ho,ho.current)}function uc(){Nr=Qs.current,F(ho),F(Qs)}var Yr=0,ot=null,Tt=null,Yt=null,el=!1,po=!1,ki=!1,tl=0,Oa=0,mo=null,RT=0;function Vt(){throw Error(o(321))}function cc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!_n(n[a],i[a]))return!1;return!0}function fc(n,i,a,f,g,x){return Yr=x,ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,se.H=n===null||n.memoizedState===null?jp:Zp,ki=!1,x=a(f,g),ki=!1,po&&(x=gp(i,a,f,g)),mp(n),x}function mp(n){se.H=sl;var i=Tt!==null&&Tt.next!==null;if(Yr=0,Yt=Tt=ot=null,el=!1,Oa=0,mo=null,i)throw Error(o(300));n===null||en||(n=n.dependencies,n!==null&&Ws(n)&&(en=!0))}function gp(n,i,a,f){ot=n;var g=0;do{if(po&&(mo=null),Oa=0,po=!1,25<=g)throw Error(o(301));if(g+=1,Yt=Tt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}se.H=LT,x=i(a,f)}while(po);return x}function NT(){var n=se.H,i=n.useState()[0];return i=typeof i.then=="function"?Fa(i):i,n=n.useState()[0],(Tt!==null?Tt.memoizedState:null)!==n&&(ot.flags|=1024),i}function dc(){var n=tl!==0;return tl=0,n}function hc(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function pc(n){if(el){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}el=!1}Yr=0,Yt=Tt=ot=null,po=!1,Oa=tl=0,mo=null}function wn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?ot.memoizedState=Yt=n:Yt=Yt.next=n,Yt}function Wt(){if(Tt===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var i=Yt===null?ot.memoizedState:Yt.next;if(i!==null)Yt=i,Tt=n;else{if(n===null)throw ot.alternate===null?Error(o(467)):Error(o(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Yt===null?ot.memoizedState=Yt=n:Yt=Yt.next=n}return Yt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fa(n){var i=Oa;return Oa+=1,mo===null&&(mo=[]),n=up(mo,n,i),i=ot,(Yt===null?i.memoizedState:Yt.next)===null&&(i=i.alternate,se.H=i===null||i.memoizedState===null?jp:Zp),n}function nl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fa(n);if(n.$$typeof===B)return ln(n)}throw Error(o(438,String(n)))}function gc(n){var i=null,a=ot.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var f=ot.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),ot.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),f=0;f<n;f++)a[f]=Se;return i.index++,a}function Er(n,i){return typeof i=="function"?i(n):i}function rl(n){var i=Wt();return yc(i,Tt,n)}function yc(n,i,a){var f=n.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=a;var g=n.baseQueue,x=f.pending;if(x!==null){if(g!==null){var L=g.next;g.next=x.next,x.next=L}i.baseQueue=g=x,f.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{i=g.next;var V=L=null,ie=null,ye=i,De=!1;do{var Le=ye.lane&-536870913;if(Le!==ye.lane?(ft&Le)===Le:(Yr&Le)===Le){var ve=ye.revertLane;if(ve===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Le===co&&(De=!0);else if((Yr&ve)===ve){ye=ye.next,ve===co&&(De=!0);continue}else Le={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ie===null?(V=ie=Le,L=x):ie=ie.next=Le,ot.lanes|=ve,ei|=ve;Le=ye.action,ki&&a(x,Le),x=ye.hasEagerState?ye.eagerState:a(x,Le)}else ve={lane:Le,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ie===null?(V=ie=ve,L=x):ie=ie.next=ve,ot.lanes|=Le,ei|=Le;ye=ye.next}while(ye!==null&&ye!==i);if(ie===null?L=x:ie.next=V,!_n(x,n.memoizedState)&&(en=!0,De&&(a=fo,a!==null)))throw a;n.memoizedState=x,n.baseState=L,n.baseQueue=ie,f.lastRenderedState=x}return g===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function vc(n){var i=Wt(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var f=a.dispatch,g=a.pending,x=i.memoizedState;if(g!==null){a.pending=null;var L=g=g.next;do x=n(x,L.action),L=L.next;while(L!==g);_n(x,i.memoizedState)||(en=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),a.lastRenderedState=x}return[x,f]}function yp(n,i,a){var f=ot,g=Wt(),x=mt;if(x){if(a===void 0)throw Error(o(407));a=a()}else a=i();var L=!_n((Tt||g).memoizedState,a);L&&(g.memoizedState=a,en=!0),g=g.queue;var V=xp.bind(null,f,g,n);if(za(2048,8,V,[n]),g.getSnapshot!==i||L||Yt!==null&&Yt.memoizedState.tag&1){if(f.flags|=2048,go(9,il(),wp.bind(null,f,g,a,i),null),Rt===null)throw Error(o(349));x||(Yr&124)!==0||vp(f,i,a)}return a}function vp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=ot.updateQueue,i===null?(i=mc(),ot.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function wp(n,i,a,f){i.value=a,i.getSnapshot=f,Tp(i)&&Sp(n)}function xp(n,i,a){return a(function(){Tp(i)&&Sp(n)})}function Tp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!_n(n,a)}catch{return!0}}function Sp(n){var i=ao(n,2);i!==null&&Mn(i,n,2)}function wc(n){var i=wn();if(typeof n=="function"){var a=n;if(n=a(),ki){He(!0);try{a()}finally{He(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:n},i}function Ep(n,i,a,f){return n.baseState=a,yc(n,Tt,typeof f=="function"?f:Er)}function DT(n,i,a,f,g){if(al(n))throw Error(o(485));if(n=i.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};se.T!==null?a(!0):x.isTransition=!1,f(x),a=i.pending,a===null?(x.next=i.pending=x,bp(i,x)):(x.next=a.next,i.pending=a.next=x)}}function bp(n,i){var a=i.action,f=i.payload,g=n.state;if(i.isTransition){var x=se.T,L={};se.T=L;try{var V=a(g,f),ie=se.S;ie!==null&&ie(L,V),_p(n,i,V)}catch(ye){xc(n,i,ye)}finally{se.T=x}}else try{x=a(g,f),_p(n,i,x)}catch(ye){xc(n,i,ye)}}function _p(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){Cp(n,i,f)},function(f){return xc(n,i,f)}):Cp(n,i,a)}function Cp(n,i,a){i.status="fulfilled",i.value=a,Ap(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,bp(n,a)))}function xc(n,i,a){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=a,Ap(i),i=i.next;while(i!==f)}n.action=null}function Ap(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Rp(n,i){return i}function Np(n,i){if(mt){var a=Rt.formState;if(a!==null){e:{var f=ot;if(mt){if(Pt){t:{for(var g=Pt,x=or;g.nodeType!==8;){if(!x){g=null;break t}if(g=jn(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Pt=jn(g.nextSibling),f=g.data==="F!";break e}}Ni(f)}f=!1}f&&(i=a[0])}}return a=wn(),a.memoizedState=a.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:i},a.queue=f,a=Wp.bind(null,ot,f),f.dispatch=a,f=wc(!1),x=_c.bind(null,ot,!1,f.queue),f=wn(),g={state:i,dispatch:null,action:n,pending:null},f.queue=g,a=DT.bind(null,ot,g,x,a),g.dispatch=a,f.memoizedState=n,[i,a,!1]}function Dp(n){var i=Wt();return Mp(i,Tt,n)}function Mp(n,i,a){if(i=yc(n,i,Rp)[0],n=rl(Er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Fa(i)}catch(L){throw L===ka?js:L}else f=i;i=Wt();var g=i.queue,x=g.dispatch;return a!==i.memoizedState&&(ot.flags|=2048,go(9,il(),MT.bind(null,g,a),null)),[f,x,n]}function MT(n,i){n.action=i}function Ip(n){var i=Wt(),a=Tt;if(a!==null)return Mp(i,a,n);Wt(),i=i.memoizedState,a=Wt();var f=a.queue.dispatch;return a.memoizedState=n,[i,f,!1]}function go(n,i,a,f){return n={tag:n,create:a,deps:f,inst:i,next:null},i=ot.updateQueue,i===null&&(i=mc(),ot.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(f=a.next,a.next=n,n.next=f,i.lastEffect=n),n}function il(){return{destroy:void 0,resource:void 0}}function kp(){return Wt().memoizedState}function ol(n,i,a,f){var g=wn();f=f===void 0?null:f,ot.flags|=n,g.memoizedState=go(1|i,il(),a,f)}function za(n,i,a,f){var g=Wt();f=f===void 0?null:f;var x=g.memoizedState.inst;Tt!==null&&f!==null&&cc(f,Tt.memoizedState.deps)?g.memoizedState=go(i,x,a,f):(ot.flags|=n,g.memoizedState=go(1|i,x,a,f))}function Up(n,i){ol(8390656,8,n,i)}function Lp(n,i){za(2048,8,n,i)}function Pp(n,i){return za(4,2,n,i)}function Bp(n,i){return za(4,4,n,i)}function Op(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fp(n,i,a){a=a!=null?a.concat([n]):null,za(4,4,Op.bind(null,i,n),a)}function Tc(){}function zp(n,i){var a=Wt();i=i===void 0?null:i;var f=a.memoizedState;return i!==null&&cc(i,f[1])?f[0]:(a.memoizedState=[n,i],n)}function Vp(n,i){var a=Wt();i=i===void 0?null:i;var f=a.memoizedState;if(i!==null&&cc(i,f[1]))return f[0];if(f=n(),ki){He(!0);try{n()}finally{He(!1)}}return a.memoizedState=[f,i],f}function Sc(n,i,a){return a===void 0||(Yr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Hm(),ot.lanes|=n,ei|=n,a)}function Gp(n,i,a,f){return _n(a,i)?a:ho.current!==null?(n=Sc(n,a,f),_n(n,i)||(en=!0),n):(Yr&42)===0?(en=!0,n.memoizedState=a):(n=Hm(),ot.lanes|=n,ei|=n,i)}function qp(n,i,a,f,g){var x=oe.p;oe.p=x!==0&&8>x?x:8;var L=se.T,V={};se.T=V,_c(n,!1,i,a);try{var ie=g(),ye=se.S;if(ye!==null&&ye(V,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var De=AT(ie,f);Va(n,i,De,Dn(n))}else Va(n,i,f,Dn(n))}catch(Le){Va(n,i,{then:function(){},status:"rejected",reason:Le},Dn())}finally{oe.p=x,se.T=L}}function IT(){}function Ec(n,i,a,f){if(n.tag!==5)throw Error(o(476));var g=Hp(n).queue;qp(n,g,i,Ie,a===null?IT:function(){return Kp(n),a(f)})}function Hp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Kp(n){var i=Hp(n).next.queue;Va(n,i,{},Dn())}function bc(){return ln(os)}function Jp(){return Wt().memoizedState}function Yp(){return Wt().memoizedState}function kT(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();n=Kr(a);var f=Jr(i,n,a);f!==null&&(Mn(f,i,a),La(f,i,a)),i={cache:ec()},n.payload=i;return}i=i.return}}function UT(n,i,a){var f=Dn();a={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},al(n)?$p(i,a):(a=Hu(n,i,a,f),a!==null&&(Mn(a,n,f),Xp(a,i,f)))}function Wp(n,i,a){var f=Dn();Va(n,i,a,f)}function Va(n,i,a,f){var g={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(al(n))$p(i,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var L=i.lastRenderedState,V=x(L,a);if(g.hasEagerState=!0,g.eagerState=V,_n(V,L))return qs(n,i,g,0),Rt===null&&Gs(),!1}catch{}finally{}if(a=Hu(n,i,g,f),a!==null)return Mn(a,n,f),Xp(a,i,f),!0}return!1}function _c(n,i,a,f){if(f={lane:2,revertLane:rf(),action:f,hasEagerState:!1,eagerState:null,next:null},al(n)){if(i)throw Error(o(479))}else i=Hu(n,a,f,2),i!==null&&Mn(i,n,2)}function al(n){var i=n.alternate;return n===ot||i!==null&&i===ot}function $p(n,i){po=el=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Xp(n,i,a){if((a&4194048)!==0){var f=i.lanes;f&=n.pendingLanes,a|=f,i.lanes=a,Wi(n,a)}}var sl={readContext:ln,use:nl,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},jp={readContext:ln,use:nl,useCallback:function(n,i){return wn().memoizedState=[n,i===void 0?null:i],n},useContext:ln,useEffect:Up,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,ol(4194308,4,Op.bind(null,i,n),a)},useLayoutEffect:function(n,i){return ol(4194308,4,n,i)},useInsertionEffect:function(n,i){ol(4,2,n,i)},useMemo:function(n,i){var a=wn();i=i===void 0?null:i;var f=n();if(ki){He(!0);try{n()}finally{He(!1)}}return a.memoizedState=[f,i],f},useReducer:function(n,i,a){var f=wn();if(a!==void 0){var g=a(i);if(ki){He(!0);try{a(i)}finally{He(!1)}}}else g=i;return f.memoizedState=f.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},f.queue=n,n=n.dispatch=UT.bind(null,ot,n),[f.memoizedState,n]},useRef:function(n){var i=wn();return n={current:n},i.memoizedState=n},useState:function(n){n=wc(n);var i=n.queue,a=Wp.bind(null,ot,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Tc,useDeferredValue:function(n,i){var a=wn();return Sc(a,n,i)},useTransition:function(){var n=wc(!1);return n=qp.bind(null,ot,n.queue,!0,!1),wn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var f=ot,g=wn();if(mt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),Rt===null)throw Error(o(349));(ft&124)!==0||vp(f,i,a)}g.memoizedState=a;var x={value:a,getSnapshot:i};return g.queue=x,Up(xp.bind(null,f,x,n),[n]),f.flags|=2048,go(9,il(),wp.bind(null,f,x,a,i),null),a},useId:function(){var n=wn(),i=Rt.identifierPrefix;if(mt){var a=xr,f=wr;a=(f&~(1<<32-nt(f)-1)).toString(32)+a,i="«"+i+"R"+a,a=tl++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=RT++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:bc,useFormState:Np,useActionState:Np,useOptimistic:function(n){var i=wn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_c.bind(null,ot,!0,a),a.dispatch=i,[n,i]},useMemoCache:gc,useCacheRefresh:function(){return wn().memoizedState=kT.bind(null,ot)}},Zp={readContext:ln,use:nl,useCallback:zp,useContext:ln,useEffect:Lp,useImperativeHandle:Fp,useInsertionEffect:Pp,useLayoutEffect:Bp,useMemo:Vp,useReducer:rl,useRef:kp,useState:function(){return rl(Er)},useDebugValue:Tc,useDeferredValue:function(n,i){var a=Wt();return Gp(a,Tt.memoizedState,n,i)},useTransition:function(){var n=rl(Er)[0],i=Wt().memoizedState;return[typeof n=="boolean"?n:Fa(n),i]},useSyncExternalStore:yp,useId:Jp,useHostTransitionStatus:bc,useFormState:Dp,useActionState:Dp,useOptimistic:function(n,i){var a=Wt();return Ep(a,Tt,n,i)},useMemoCache:gc,useCacheRefresh:Yp},LT={readContext:ln,use:nl,useCallback:zp,useContext:ln,useEffect:Lp,useImperativeHandle:Fp,useInsertionEffect:Pp,useLayoutEffect:Bp,useMemo:Vp,useReducer:vc,useRef:kp,useState:function(){return vc(Er)},useDebugValue:Tc,useDeferredValue:function(n,i){var a=Wt();return Tt===null?Sc(a,n,i):Gp(a,Tt.memoizedState,n,i)},useTransition:function(){var n=vc(Er)[0],i=Wt().memoizedState;return[typeof n=="boolean"?n:Fa(n),i]},useSyncExternalStore:yp,useId:Jp,useHostTransitionStatus:bc,useFormState:Ip,useActionState:Ip,useOptimistic:function(n,i){var a=Wt();return Tt!==null?Ep(a,Tt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:gc,useCacheRefresh:Yp},yo=null,Ga=0;function ll(n){var i=Ga;return Ga+=1,yo===null&&(yo=[]),up(yo,n,i)}function qa(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function ul(n,i){throw i.$$typeof===T?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Qp(n){var i=n._init;return i(n._payload)}function em(n){function i(he,ue){if(n){var me=he.deletions;me===null?(he.deletions=[ue],he.flags|=16):me.push(ue)}}function a(he,ue){if(!n)return null;for(;ue!==null;)i(he,ue),ue=ue.sibling;return null}function f(he){for(var ue=new Map;he!==null;)he.key!==null?ue.set(he.key,he):ue.set(he.index,he),he=he.sibling;return ue}function g(he,ue){return he=vr(he,ue),he.index=0,he.sibling=null,he}function x(he,ue,me){return he.index=me,n?(me=he.alternate,me!==null?(me=me.index,me<ue?(he.flags|=67108866,ue):me):(he.flags|=67108866,ue)):(he.flags|=1048576,ue)}function L(he){return n&&he.alternate===null&&(he.flags|=67108866),he}function V(he,ue,me,Ue){return ue===null||ue.tag!==6?(ue=Ju(me,he.mode,Ue),ue.return=he,ue):(ue=g(ue,me),ue.return=he,ue)}function ie(he,ue,me,Ue){var Je=me.type;return Je===R?De(he,ue,me.props.children,Ue,me.key):ue!==null&&(ue.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===ce&&Qp(Je)===ue.type)?(ue=g(ue,me.props),qa(ue,me),ue.return=he,ue):(ue=Ks(me.type,me.key,me.props,null,he.mode,Ue),qa(ue,me),ue.return=he,ue)}function ye(he,ue,me,Ue){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==me.containerInfo||ue.stateNode.implementation!==me.implementation?(ue=Yu(me,he.mode,Ue),ue.return=he,ue):(ue=g(ue,me.children||[]),ue.return=he,ue)}function De(he,ue,me,Ue,Je){return ue===null||ue.tag!==7?(ue=_i(me,he.mode,Ue,Je),ue.return=he,ue):(ue=g(ue,me),ue.return=he,ue)}function Le(he,ue,me){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=Ju(""+ue,he.mode,me),ue.return=he,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return me=Ks(ue.type,ue.key,ue.props,null,he.mode,me),qa(me,ue),me.return=he,me;case E:return ue=Yu(ue,he.mode,me),ue.return=he,ue;case ce:var Ue=ue._init;return ue=Ue(ue._payload),Le(he,ue,me)}if(fe(ue)||$(ue))return ue=_i(ue,he.mode,me,null),ue.return=he,ue;if(typeof ue.then=="function")return Le(he,ll(ue),me);if(ue.$$typeof===B)return Le(he,$s(he,ue),me);ul(he,ue)}return null}function ve(he,ue,me,Ue){var Je=ue!==null?ue.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Je!==null?null:V(he,ue,""+me,Ue);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case S:return me.key===Je?ie(he,ue,me,Ue):null;case E:return me.key===Je?ye(he,ue,me,Ue):null;case ce:return Je=me._init,me=Je(me._payload),ve(he,ue,me,Ue)}if(fe(me)||$(me))return Je!==null?null:De(he,ue,me,Ue,null);if(typeof me.then=="function")return ve(he,ue,ll(me),Ue);if(me.$$typeof===B)return ve(he,ue,$s(he,me),Ue);ul(he,me)}return null}function xe(he,ue,me,Ue,Je){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return he=he.get(me)||null,V(ue,he,""+Ue,Je);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case S:return he=he.get(Ue.key===null?me:Ue.key)||null,ie(ue,he,Ue,Je);case E:return he=he.get(Ue.key===null?me:Ue.key)||null,ye(ue,he,Ue,Je);case ce:var st=Ue._init;return Ue=st(Ue._payload),xe(he,ue,me,Ue,Je)}if(fe(Ue)||$(Ue))return he=he.get(me)||null,De(ue,he,Ue,Je,null);if(typeof Ue.then=="function")return xe(he,ue,me,ll(Ue),Je);if(Ue.$$typeof===B)return xe(he,ue,me,$s(ue,Ue),Je);ul(ue,Ue)}return null}function Qe(he,ue,me,Ue){for(var Je=null,st=null,We=ue,je=ue=0,nn=null;We!==null&&je<me.length;je++){We.index>je?(nn=We,We=null):nn=We.sibling;var ht=ve(he,We,me[je],Ue);if(ht===null){We===null&&(We=nn);break}n&&We&&ht.alternate===null&&i(he,We),ue=x(ht,ue,je),st===null?Je=ht:st.sibling=ht,st=ht,We=nn}if(je===me.length)return a(he,We),mt&&Ai(he,je),Je;if(We===null){for(;je<me.length;je++)We=Le(he,me[je],Ue),We!==null&&(ue=x(We,ue,je),st===null?Je=We:st.sibling=We,st=We);return mt&&Ai(he,je),Je}for(We=f(We);je<me.length;je++)nn=xe(We,he,je,me[je],Ue),nn!==null&&(n&&nn.alternate!==null&&We.delete(nn.key===null?je:nn.key),ue=x(nn,ue,je),st===null?Je=nn:st.sibling=nn,st=nn);return n&&We.forEach(function(ui){return i(he,ui)}),mt&&Ai(he,je),Je}function Xe(he,ue,me,Ue){if(me==null)throw Error(o(151));for(var Je=null,st=null,We=ue,je=ue=0,nn=null,ht=me.next();We!==null&&!ht.done;je++,ht=me.next()){We.index>je?(nn=We,We=null):nn=We.sibling;var ui=ve(he,We,ht.value,Ue);if(ui===null){We===null&&(We=nn);break}n&&We&&ui.alternate===null&&i(he,We),ue=x(ui,ue,je),st===null?Je=ui:st.sibling=ui,st=ui,We=nn}if(ht.done)return a(he,We),mt&&Ai(he,je),Je;if(We===null){for(;!ht.done;je++,ht=me.next())ht=Le(he,ht.value,Ue),ht!==null&&(ue=x(ht,ue,je),st===null?Je=ht:st.sibling=ht,st=ht);return mt&&Ai(he,je),Je}for(We=f(We);!ht.done;je++,ht=me.next())ht=xe(We,he,je,ht.value,Ue),ht!==null&&(n&&ht.alternate!==null&&We.delete(ht.key===null?je:ht.key),ue=x(ht,ue,je),st===null?Je=ht:st.sibling=ht,st=ht);return n&&We.forEach(function(PS){return i(he,PS)}),mt&&Ai(he,je),Je}function Et(he,ue,me,Ue){if(typeof me=="object"&&me!==null&&me.type===R&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case S:e:{for(var Je=me.key;ue!==null;){if(ue.key===Je){if(Je=me.type,Je===R){if(ue.tag===7){a(he,ue.sibling),Ue=g(ue,me.props.children),Ue.return=he,he=Ue;break e}}else if(ue.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===ce&&Qp(Je)===ue.type){a(he,ue.sibling),Ue=g(ue,me.props),qa(Ue,me),Ue.return=he,he=Ue;break e}a(he,ue);break}else i(he,ue);ue=ue.sibling}me.type===R?(Ue=_i(me.props.children,he.mode,Ue,me.key),Ue.return=he,he=Ue):(Ue=Ks(me.type,me.key,me.props,null,he.mode,Ue),qa(Ue,me),Ue.return=he,he=Ue)}return L(he);case E:e:{for(Je=me.key;ue!==null;){if(ue.key===Je)if(ue.tag===4&&ue.stateNode.containerInfo===me.containerInfo&&ue.stateNode.implementation===me.implementation){a(he,ue.sibling),Ue=g(ue,me.children||[]),Ue.return=he,he=Ue;break e}else{a(he,ue);break}else i(he,ue);ue=ue.sibling}Ue=Yu(me,he.mode,Ue),Ue.return=he,he=Ue}return L(he);case ce:return Je=me._init,me=Je(me._payload),Et(he,ue,me,Ue)}if(fe(me))return Qe(he,ue,me,Ue);if($(me)){if(Je=$(me),typeof Je!="function")throw Error(o(150));return me=Je.call(me),Xe(he,ue,me,Ue)}if(typeof me.then=="function")return Et(he,ue,ll(me),Ue);if(me.$$typeof===B)return Et(he,ue,$s(he,me),Ue);ul(he,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,ue!==null&&ue.tag===6?(a(he,ue.sibling),Ue=g(ue,me),Ue.return=he,he=Ue):(a(he,ue),Ue=Ju(me,he.mode,Ue),Ue.return=he,he=Ue),L(he)):a(he,ue)}return function(he,ue,me,Ue){try{Ga=0;var Je=Et(he,ue,me,Ue);return yo=null,Je}catch(We){if(We===ka||We===js)throw We;var st=Cn(29,We,null,he.mode);return st.lanes=Ue,st.return=he,st}finally{}}}var vo=em(!0),tm=em(!1),Fn=W(null),ar=null;function Wr(n){var i=n.alternate;Q(Zt,Zt.current&1),Q(Fn,n),ar===null&&(i===null||ho.current!==null||i.memoizedState!==null)&&(ar=n)}function nm(n){if(n.tag===22){if(Q(Zt,Zt.current),Q(Fn,n),ar===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(ar=n)}}else $r()}function $r(){Q(Zt,Zt.current),Q(Fn,Fn.current)}function br(n){F(Fn),ar===n&&(ar=null),F(Zt)}var Zt=W(0);function cl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||gf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Cc(n,i,a,f){i=n.memoizedState,a=a(f,i),a=a==null?i:y({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ac={enqueueSetState:function(n,i,a){n=n._reactInternals;var f=Dn(),g=Kr(f);g.payload=i,a!=null&&(g.callback=a),i=Jr(n,g,f),i!==null&&(Mn(i,n,f),La(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var f=Dn(),g=Kr(f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Jr(n,g,f),i!==null&&(Mn(i,n,f),La(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Dn(),f=Kr(a);f.tag=2,i!=null&&(f.callback=i),i=Jr(n,f,a),i!==null&&(Mn(i,n,a),La(i,n,a))}};function rm(n,i,a,f,g,x,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,x,L):i.prototype&&i.prototype.isPureReactComponent?!_a(a,f)||!_a(g,x):!0}function im(n,i,a,f){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,f),i.state!==n&&Ac.enqueueReplaceState(i,i.state,null)}function Ui(n,i){var a=i;if("ref"in i){a={};for(var f in i)f!=="ref"&&(a[f]=i[f])}if(n=n.defaultProps){a===i&&(a=y({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}var fl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function om(n){fl(n)}function am(n){console.error(n)}function sm(n){fl(n)}function dl(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function lm(n,i,a){try{var f=n.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Rc(n,i,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){dl(n,i)},a}function um(n){return n=Kr(n),n.tag=3,n}function cm(n,i,a,f){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var x=f.value;n.payload=function(){return g(x)},n.callback=function(){lm(i,a,f)}}var L=a.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){lm(i,a,f),typeof g!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var V=f.stack;this.componentDidCatch(f.value,{componentStack:V!==null?V:""})})}function PT(n,i,a,f,g){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=a.alternate,i!==null&&Da(i,a,g,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return ar===null?Zc():a.alternate===null&&Bt===0&&(Bt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,f===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([f]):i.add(f),ef(n,f,g)),!1;case 22:return a.flags|=65536,f===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([f]):a.add(f)),ef(n,f,g)),!1}throw Error(o(435,a.tag))}return ef(n,f,g),Zc(),!1}if(mt)return i=Fn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==Xu&&(n=Error(o(422),{cause:f}),Na(Ln(n,a)))):(f!==Xu&&(i=Error(o(423),{cause:f}),Na(Ln(i,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,f=Ln(f,a),g=Rc(n.stateNode,f,g),ac(n,g),Bt!==4&&(Bt=2)),!1;var x=Error(o(520),{cause:f});if(x=Ln(x,a),Xa===null?Xa=[x]:Xa.push(x),Bt!==4&&(Bt=2),i===null)return!0;f=Ln(f,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=Rc(a.stateNode,f,n),ac(a,n),!1;case 1:if(i=a.type,x=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ti===null||!ti.has(x))))return a.flags|=65536,g&=-g,a.lanes|=g,g=um(g),cm(g,n,a,f),ac(a,g),!1}a=a.return}while(a!==null);return!1}var fm=Error(o(461)),en=!1;function on(n,i,a,f){i.child=n===null?tm(i,null,a,f):vo(i,n.child,a,f)}function dm(n,i,a,f,g){a=a.render;var x=i.ref;if("ref"in f){var L={};for(var V in f)V!=="ref"&&(L[V]=f[V])}else L=f;return Mi(i),f=fc(n,i,a,L,x,g),V=dc(),n!==null&&!en?(hc(n,i,g),_r(n,i,g)):(mt&&V&&Wu(i),i.flags|=1,on(n,i,f,g),i.child)}function hm(n,i,a,f,g){if(n===null){var x=a.type;return typeof x=="function"&&!Ku(x)&&x.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=x,pm(n,i,x,f,g)):(n=Ks(a.type,null,f,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(x=n.child,!Pc(n,g)){var L=x.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(L,f)&&n.ref===i.ref)return _r(n,i,g)}return i.flags|=1,n=vr(x,f),n.ref=i.ref,n.return=i,i.child=n}function pm(n,i,a,f,g){if(n!==null){var x=n.memoizedProps;if(_a(x,f)&&n.ref===i.ref)if(en=!1,i.pendingProps=f=x,Pc(n,g))(n.flags&131072)!==0&&(en=!0);else return i.lanes=n.lanes,_r(n,i,g)}return Nc(n,i,a,f,g)}function mm(n,i,a){var f=i.pendingProps,g=f.children,x=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=x!==null?x.baseLanes|a:a,n!==null){for(g=i.child=n.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;i.childLanes=x&~f}else i.childLanes=0,i.child=null;return gm(n,i,f,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Xs(i,x!==null?x.cachePool:null),x!==null?pp(i,x):lc(),nm(i);else return i.lanes=i.childLanes=536870912,gm(n,i,x!==null?x.baseLanes|a:a,a)}else x!==null?(Xs(i,x.cachePool),pp(i,x),$r(),i.memoizedState=null):(n!==null&&Xs(i,null),lc(),$r());return on(n,i,g,a),i.child}function gm(n,i,a,f){var g=nc();return g=g===null?null:{parent:jt._currentValue,pool:g},i.memoizedState={baseLanes:a,cachePool:g},n!==null&&Xs(i,null),lc(),nm(i),n!==null&&Da(n,i,f,!0),null}function hl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Nc(n,i,a,f,g){return Mi(i),a=fc(n,i,a,f,void 0,g),f=dc(),n!==null&&!en?(hc(n,i,g),_r(n,i,g)):(mt&&f&&Wu(i),i.flags|=1,on(n,i,a,g),i.child)}function ym(n,i,a,f,g,x){return Mi(i),i.updateQueue=null,a=gp(i,f,a,g),mp(n),f=dc(),n!==null&&!en?(hc(n,i,x),_r(n,i,x)):(mt&&f&&Wu(i),i.flags|=1,on(n,i,a,x),i.child)}function vm(n,i,a,f,g){if(Mi(i),i.stateNode===null){var x=so,L=a.contextType;typeof L=="object"&&L!==null&&(x=ln(L)),x=new a(f,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ac,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=f,x.state=i.memoizedState,x.refs={},ic(i),L=a.contextType,x.context=typeof L=="object"&&L!==null?ln(L):so,x.state=i.memoizedState,L=a.getDerivedStateFromProps,typeof L=="function"&&(Cc(i,a,L,f),x.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&Ac.enqueueReplaceState(x,x.state,null),Ba(i,f,x,g),Pa(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(n===null){x=i.stateNode;var V=i.memoizedProps,ie=Ui(a,V);x.props=ie;var ye=x.context,De=a.contextType;L=so,typeof De=="object"&&De!==null&&(L=ln(De));var Le=a.getDerivedStateFromProps;De=typeof Le=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,De||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||ye!==L)&&im(i,x,f,L),Hr=!1;var ve=i.memoizedState;x.state=ve,Ba(i,f,x,g),Pa(),ye=i.memoizedState,V||ve!==ye||Hr?(typeof Le=="function"&&(Cc(i,a,Le,f),ye=i.memoizedState),(ie=Hr||rm(i,a,ie,f,ve,ye,L))?(De||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=ye),x.props=f,x.state=ye,x.context=L,f=ie):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{x=i.stateNode,oc(n,i),L=i.memoizedProps,De=Ui(a,L),x.props=De,Le=i.pendingProps,ve=x.context,ye=a.contextType,ie=so,typeof ye=="object"&&ye!==null&&(ie=ln(ye)),V=a.getDerivedStateFromProps,(ye=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==Le||ve!==ie)&&im(i,x,f,ie),Hr=!1,ve=i.memoizedState,x.state=ve,Ba(i,f,x,g),Pa();var xe=i.memoizedState;L!==Le||ve!==xe||Hr||n!==null&&n.dependencies!==null&&Ws(n.dependencies)?(typeof V=="function"&&(Cc(i,a,V,f),xe=i.memoizedState),(De=Hr||rm(i,a,De,f,ve,xe,ie)||n!==null&&n.dependencies!==null&&Ws(n.dependencies))?(ye||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,xe,ie),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,xe,ie)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&ve===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&ve===n.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=xe),x.props=f,x.state=xe,x.context=ie,f=De):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&ve===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&ve===n.memoizedState||(i.flags|=1024),f=!1)}return x=f,hl(n,i),f=(i.flags&128)!==0,x||f?(x=i.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,n!==null&&f?(i.child=vo(i,n.child,null,g),i.child=vo(i,null,a,g)):on(n,i,a,g),i.memoizedState=x.state,n=i.child):n=_r(n,i,g),n}function wm(n,i,a,f){return Ra(),i.flags|=256,on(n,i,a,f),i.child}var Dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(n){return{baseLanes:n,cachePool:ap()}}function Ic(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=zn),n}function xm(n,i,a){var f=i.pendingProps,g=!1,x=(i.flags&128)!==0,L;if((L=x)||(L=n!==null&&n.memoizedState===null?!1:(Zt.current&2)!==0),L&&(g=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(mt){if(g?Wr(i):$r(),mt){var V=Pt,ie;if(ie=V){e:{for(ie=V,V=or;ie.nodeType!==8;){if(!V){V=null;break e}if(ie=jn(ie.nextSibling),ie===null){V=null;break e}}V=ie}V!==null?(i.memoizedState={dehydrated:V,treeContext:Ci!==null?{id:wr,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},ie=Cn(18,null,null,0),ie.stateNode=V,ie.return=i,i.child=ie,yn=i,Pt=null,ie=!0):ie=!1}ie||Ni(i)}if(V=i.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return gf(V)?i.lanes=32:i.lanes=536870912,null;br(i)}return V=f.children,f=f.fallback,g?($r(),g=i.mode,V=pl({mode:"hidden",children:V},g),f=_i(f,g,a,null),V.return=i,f.return=i,V.sibling=f,i.child=V,g=i.child,g.memoizedState=Mc(a),g.childLanes=Ic(n,L,a),i.memoizedState=Dc,f):(Wr(i),kc(i,V))}if(ie=n.memoizedState,ie!==null&&(V=ie.dehydrated,V!==null)){if(x)i.flags&256?(Wr(i),i.flags&=-257,i=Uc(n,i,a)):i.memoizedState!==null?($r(),i.child=n.child,i.flags|=128,i=null):($r(),g=f.fallback,V=i.mode,f=pl({mode:"visible",children:f.children},V),g=_i(g,V,a,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,vo(i,n.child,null,a),f=i.child,f.memoizedState=Mc(a),f.childLanes=Ic(n,L,a),i.memoizedState=Dc,i=g);else if(Wr(i),gf(V)){if(L=V.nextSibling&&V.nextSibling.dataset,L)var ye=L.dgst;L=ye,f=Error(o(419)),f.stack="",f.digest=L,Na({value:f,source:null,stack:null}),i=Uc(n,i,a)}else if(en||Da(n,i,a,!1),L=(a&n.childLanes)!==0,en||L){if(L=Rt,L!==null&&(f=a&-a,f=(f&42)!==0?1:tr(f),f=(f&(L.suspendedLanes|a))!==0?0:f,f!==0&&f!==ie.retryLane))throw ie.retryLane=f,ao(n,f),Mn(L,n,f),fm;V.data==="$?"||Zc(),i=Uc(n,i,a)}else V.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=ie.treeContext,Pt=jn(V.nextSibling),yn=i,mt=!0,Ri=null,or=!1,n!==null&&(Bn[On++]=wr,Bn[On++]=xr,Bn[On++]=Ci,wr=n.id,xr=n.overflow,Ci=i),i=kc(i,f.children),i.flags|=4096);return i}return g?($r(),g=f.fallback,V=i.mode,ie=n.child,ye=ie.sibling,f=vr(ie,{mode:"hidden",children:f.children}),f.subtreeFlags=ie.subtreeFlags&65011712,ye!==null?g=vr(ye,g):(g=_i(g,V,a,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,V=n.child.memoizedState,V===null?V=Mc(a):(ie=V.cachePool,ie!==null?(ye=jt._currentValue,ie=ie.parent!==ye?{parent:ye,pool:ye}:ie):ie=ap(),V={baseLanes:V.baseLanes|a,cachePool:ie}),g.memoizedState=V,g.childLanes=Ic(n,L,a),i.memoizedState=Dc,f):(Wr(i),a=n.child,n=a.sibling,a=vr(a,{mode:"visible",children:f.children}),a.return=i,a.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=a,i.memoizedState=null,a)}function kc(n,i){return i=pl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function pl(n,i){return n=Cn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Uc(n,i,a){return vo(i,n.child,null,a),n=kc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Tm(n,i,a){n.lanes|=i;var f=n.alternate;f!==null&&(f.lanes|=i),Zu(n.return,i,a)}function Lc(n,i,a,f,g){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=a,x.tailMode=g)}function Sm(n,i,a){var f=i.pendingProps,g=f.revealOrder,x=f.tail;if(on(n,i,f.children,a),f=Zt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tm(n,a,i);else if(n.tag===19)Tm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(Q(Zt,f),g){case"forwards":for(a=i.child,g=null;a!==null;)n=a.alternate,n!==null&&cl(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),Lc(i,!1,g,a,x);break;case"backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&cl(n)===null){i.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}Lc(i,!0,a,null,x);break;case"together":Lc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _r(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ei|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Da(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,a=vr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=vr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Pc(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ws(n)))}function BT(n,i,a){switch(i.tag){case 3:M(i,i.stateNode.containerInfo),qr(i,jt,n.memoizedState.cache),Ra();break;case 27:case 5:Y(i);break;case 4:M(i,i.stateNode.containerInfo);break;case 10:qr(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(Wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xm(n,i,a):(Wr(i),n=_r(n,i,a),n!==null?n.sibling:null);Wr(i);break;case 19:var g=(n.flags&128)!==0;if(f=(a&i.childLanes)!==0,f||(Da(n,i,a,!1),f=(a&i.childLanes)!==0),g){if(f)return Sm(n,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Q(Zt,Zt.current),f)break;return null;case 22:case 23:return i.lanes=0,mm(n,i,a);case 24:qr(i,jt,n.memoizedState.cache)}return _r(n,i,a)}function Em(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)en=!0;else{if(!Pc(n,a)&&(i.flags&128)===0)return en=!1,BT(n,i,a);en=(n.flags&131072)!==0}else en=!1,mt&&(i.flags&1048576)!==0&&Qh(i,Ys,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")Ku(f)?(n=Ui(f,n),i.tag=1,i=vm(null,i,f,n,a)):(i.tag=0,i=Nc(null,i,f,n,a));else{if(f!=null){if(g=f.$$typeof,g===q){i.tag=11,i=dm(null,i,f,n,a);break e}else if(g===ae){i.tag=14,i=hm(null,i,f,n,a);break e}}throw i=P(f)||f,Error(o(306,i,""))}}return i;case 0:return Nc(n,i,i.type,i.pendingProps,a);case 1:return f=i.type,g=Ui(f,i.pendingProps),vm(n,i,f,g,a);case 3:e:{if(M(i,i.stateNode.containerInfo),n===null)throw Error(o(387));f=i.pendingProps;var x=i.memoizedState;g=x.element,oc(n,i),Ba(i,f,null,a);var L=i.memoizedState;if(f=L.cache,qr(i,jt,f),f!==x.cache&&Qu(i,[jt],a,!0),Pa(),f=L.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=wm(n,i,f,a);break e}else if(f!==g){g=Ln(Error(o(424)),i),Na(g),i=wm(n,i,f,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Pt=jn(n.firstChild),yn=i,mt=!0,Ri=null,or=!0,a=tm(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ra(),f===g){i=_r(n,i,a);break e}on(n,i,f,a)}i=i.child}return i;case 26:return hl(n,i),n===null?(a=Ag(i.type,null,i.pendingProps,null))?i.memoizedState=a:mt||(a=i.type,n=i.pendingProps,f=Rl(Z.current).createElement(a),f[Jt]=i,f[Xt]=n,sn(f,a,n),Lt(f),i.stateNode=f):i.memoizedState=Ag(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Y(i),n===null&&mt&&(f=i.stateNode=bg(i.type,i.pendingProps,Z.current),yn=i,or=!0,g=Pt,ii(i.type)?(yf=g,Pt=jn(f.firstChild)):Pt=g),on(n,i,i.pendingProps.children,a),hl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&mt&&((g=f=Pt)&&(f=fS(f,i.type,i.pendingProps,or),f!==null?(i.stateNode=f,yn=i,Pt=jn(f.firstChild),or=!1,g=!0):g=!1),g||Ni(i)),Y(i),g=i.type,x=i.pendingProps,L=n!==null?n.memoizedProps:null,f=x.children,hf(g,x)?f=null:L!==null&&hf(g,L)&&(i.flags|=32),i.memoizedState!==null&&(g=fc(n,i,NT,null,null,a),os._currentValue=g),hl(n,i),on(n,i,f,a),i.child;case 6:return n===null&&mt&&((n=a=Pt)&&(a=dS(a,i.pendingProps,or),a!==null?(i.stateNode=a,yn=i,Pt=null,n=!0):n=!1),n||Ni(i)),null;case 13:return xm(n,i,a);case 4:return M(i,i.stateNode.containerInfo),f=i.pendingProps,n===null?i.child=vo(i,null,f,a):on(n,i,f,a),i.child;case 11:return dm(n,i,i.type,i.pendingProps,a);case 7:return on(n,i,i.pendingProps,a),i.child;case 8:return on(n,i,i.pendingProps.children,a),i.child;case 12:return on(n,i,i.pendingProps.children,a),i.child;case 10:return f=i.pendingProps,qr(i,i.type,f.value),on(n,i,f.children,a),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,Mi(i),g=ln(g),f=f(g),i.flags|=1,on(n,i,f,a),i.child;case 14:return hm(n,i,i.type,i.pendingProps,a);case 15:return pm(n,i,i.type,i.pendingProps,a);case 19:return Sm(n,i,a);case 31:return f=i.pendingProps,a=i.mode,f={mode:f.mode,children:f.children},n===null?(a=pl(f,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=vr(n.child,f),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return mm(n,i,a);case 24:return Mi(i),f=ln(jt),n===null?(g=nc(),g===null&&(g=Rt,x=ec(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=a),g=x),i.memoizedState={parent:f,cache:g},ic(i),qr(i,jt,g)):((n.lanes&a)!==0&&(oc(n,i),Ba(i,null,null,a),Pa()),g=n.memoizedState,x=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),qr(i,jt,f)):(f=x.cache,qr(i,jt,f),f!==g.cache&&Qu(i,[jt],a,!0))),on(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Cr(n){n.flags|=4}function bm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ig(i)){if(i=Fn.current,i!==null&&((ft&4194048)===ft?ar!==null:(ft&62914560)!==ft&&(ft&536870912)===0||i!==ar))throw Ua=rc,sp;n.flags|=8192}}function ml(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?di():536870912,n.lanes|=i,So|=i)}function Ha(n,i){if(!mt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Ut(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,f=0;if(i)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=a,i}function OT(n,i,a){var f=i.pendingProps;switch($u(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return Ut(i),null;case 3:return a=i.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),Sr(jt),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Aa(i)?Cr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,np())),Ut(i),null;case 26:return a=i.memoizedState,n===null?(Cr(i),a!==null?(Ut(i),bm(i,a)):(Ut(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Cr(i),Ut(i),bm(i,a)):(Ut(i),i.flags&=-16777217):(n.memoizedProps!==f&&Cr(i),Ut(i),i.flags&=-16777217),null;case 27:z(i),a=Z.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==f&&Cr(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Ut(i),null}n=te.current,Aa(i)?ep(i):(n=bg(g,f,a),i.stateNode=n,Cr(i))}return Ut(i),null;case 5:if(z(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==f&&Cr(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Ut(i),null}if(n=te.current,Aa(i))ep(i);else{switch(g=Rl(Z.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?g.createElement(a,{is:f.is}):g.createElement(a)}}n[Jt]=i,n[Xt]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(sn(n,a,f),a){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Cr(i)}}return Ut(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==f&&Cr(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(o(166));if(n=Z.current,Aa(i)){if(n=i.stateNode,a=i.memoizedProps,f=null,g=yn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}n[Jt]=i,n=!!(n.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||yg(n.nodeValue,a)),n||Ni(i)}else n=Rl(n).createTextNode(f),n[Jt]=i,i.stateNode=n}return Ut(i),null;case 13:if(f=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Aa(i),f!==null&&f.dehydrated!==null){if(n===null){if(!g)throw Error(o(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[Jt]=i}else Ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),g=!1}else g=np(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(br(i),i):(br(i),null)}if(br(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=f!==null,n=n!==null&&n.memoizedState!==null,a){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),ml(i,i.updateQueue),Ut(i),null;case 4:return ne(),n===null&&lf(i.stateNode.containerInfo),Ut(i),null;case 10:return Sr(i.type),Ut(i),null;case 19:if(F(Zt),g=i.memoizedState,g===null)return Ut(i),null;if(f=(i.flags&128)!==0,x=g.rendering,x===null)if(f)Ha(g,!1);else{if(Bt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(x=cl(n),x!==null){for(i.flags|=128,Ha(g,!1),n=x.updateQueue,i.updateQueue=n,ml(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Zh(a,n),a=a.sibling;return Q(Zt,Zt.current&1|2),i.child}n=n.sibling}g.tail!==null&&v()>vl&&(i.flags|=128,f=!0,Ha(g,!1),i.lanes=4194304)}else{if(!f)if(n=cl(x),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,ml(i,n),Ha(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!mt)return Ut(i),null}else 2*v()-g.renderingStartTime>vl&&a!==536870912&&(i.flags|=128,f=!0,Ha(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(n=g.last,n!==null?n.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=v(),i.sibling=null,n=Zt.current,Q(Zt,f?n&1|2:n&1),i):(Ut(i),null);case 22:case 23:return br(i),uc(),f=i.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(a&536870912)!==0&&(i.flags&128)===0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),a=i.updateQueue,a!==null&&ml(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==a&&(i.flags|=2048),n!==null&&F(Ii),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Sr(jt),Ut(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function FT(n,i){switch($u(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Sr(jt),ne(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return z(i),null;case 13:if(br(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Ra()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return F(Zt),null;case 4:return ne(),null;case 10:return Sr(i.type),null;case 22:case 23:return br(i),uc(),n!==null&&F(Ii),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Sr(jt),null;case 25:return null;default:return null}}function _m(n,i){switch($u(i),i.tag){case 3:Sr(jt),ne();break;case 26:case 27:case 5:z(i);break;case 4:ne();break;case 13:br(i);break;case 19:F(Zt);break;case 10:Sr(i.type);break;case 22:case 23:br(i),uc(),n!==null&&F(Ii);break;case 24:Sr(jt)}}function Ka(n,i){try{var a=i.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var g=f.next;a=g;do{if((a.tag&n)===n){f=void 0;var x=a.create,L=a.inst;f=x(),L.destroy=f}a=a.next}while(a!==g)}}catch(V){At(i,i.return,V)}}function Xr(n,i,a){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&n)===n){var L=f.inst,V=L.destroy;if(V!==void 0){L.destroy=void 0,g=i;var ie=a,ye=V;try{ye()}catch(De){At(g,ie,De)}}}f=f.next}while(f!==x)}}catch(De){At(i,i.return,De)}}function Cm(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{hp(i,a)}catch(f){At(n,n.return,f)}}}function Am(n,i,a){a.props=Ui(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(f){At(n,i,f)}}function Ja(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(g){At(n,i,g)}}function sr(n,i){var a=n.ref,f=n.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(g){At(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){At(n,i,g)}else a.current=null}function Rm(n){var i=n.type,a=n.memoizedProps,f=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break e;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(g){At(n,n.return,g)}}function Bc(n,i,a){try{var f=n.stateNode;aS(f,n.type,a,i),f[Xt]=i}catch(g){At(n,n.return,g)}}function Nm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ii(n.type)||n.tag===4}function Oc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Nm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ii(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fc(n,i,a){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Al));else if(f!==4&&(f===27&&ii(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Fc(n,i,a),n=n.sibling;n!==null;)Fc(n,i,a),n=n.sibling}function gl(n,i,a){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(f!==4&&(f===27&&ii(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(gl(n,i,a),n=n.sibling;n!==null;)gl(n,i,a),n=n.sibling}function Dm(n){var i=n.stateNode,a=n.memoizedProps;try{for(var f=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);sn(i,f,a),i[Jt]=n,i[Xt]=a}catch(x){At(n,n.return,x)}}var Ar=!1,Gt=!1,zc=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,tn=null;function zT(n,i){if(n=n.containerInfo,ff=Ul,n=Gh(n),Ou(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var L=0,V=-1,ie=-1,ye=0,De=0,Le=n,ve=null;t:for(;;){for(var xe;Le!==a||g!==0&&Le.nodeType!==3||(V=L+g),Le!==x||f!==0&&Le.nodeType!==3||(ie=L+f),Le.nodeType===3&&(L+=Le.nodeValue.length),(xe=Le.firstChild)!==null;)ve=Le,Le=xe;for(;;){if(Le===n)break t;if(ve===a&&++ye===g&&(V=L),ve===x&&++De===f&&(ie=L),(xe=Le.nextSibling)!==null)break;Le=ve,ve=Le.parentNode}Le=xe}a=V===-1||ie===-1?null:{start:V,end:ie}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:n,selectionRange:a},Ul=!1,tn=i;tn!==null;)if(i=tn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,tn=n;else for(;tn!==null;){switch(i=tn,x=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,a=i,g=x.memoizedProps,x=x.memoizedState,f=a.stateNode;try{var Qe=Ui(a.type,g,a.elementType===a.type);n=f.getSnapshotBeforeUpdate(Qe,x),f.__reactInternalSnapshotBeforeUpdate=n}catch(Xe){At(a,a.return,Xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)mf(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,tn=n;break}tn=i.return}}function Im(n,i,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:jr(n,a),f&4&&Ka(5,a);break;case 1:if(jr(n,a),f&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(L){At(a,a.return,L)}else{var g=Ui(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){At(a,a.return,L)}}f&64&&Cm(a),f&512&&Ja(a,a.return);break;case 3:if(jr(n,a),f&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hp(n,i)}catch(L){At(a,a.return,L)}}break;case 27:i===null&&f&4&&Dm(a);case 26:case 5:jr(n,a),i===null&&f&4&&Rm(a),f&512&&Ja(a,a.return);break;case 12:jr(n,a);break;case 13:jr(n,a),f&4&&Lm(n,a),f&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=$T.bind(null,a),hS(n,a))));break;case 22:if(f=a.memoizedState!==null||Ar,!f){i=i!==null&&i.memoizedState!==null||Gt,g=Ar;var x=Gt;Ar=f,(Gt=i)&&!x?Zr(n,a,(a.subtreeFlags&8772)!==0):jr(n,a),Ar=g,Gt=x}break;case 30:break;default:jr(n,a)}}function km(n){var i=n.alternate;i!==null&&(n.alternate=null,km(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&pi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var It=null,xn=!1;function Rr(n,i,a){for(a=a.child;a!==null;)Um(n,i,a),a=a.sibling}function Um(n,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Be,a)}catch{}switch(a.tag){case 26:Gt||sr(a,i),Rr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||sr(a,i);var f=It,g=xn;ii(a.type)&&(It=a.stateNode,xn=!1),Rr(n,i,a),ts(a.stateNode),It=f,xn=g;break;case 5:Gt||sr(a,i);case 6:if(f=It,g=xn,It=null,Rr(n,i,a),It=f,xn=g,It!==null)if(xn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(a.stateNode)}catch(x){At(a,i,x)}else try{It.removeChild(a.stateNode)}catch(x){At(a,i,x)}break;case 18:It!==null&&(xn?(n=It,Sg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),us(n)):Sg(It,a.stateNode));break;case 4:f=It,g=xn,It=a.stateNode.containerInfo,xn=!0,Rr(n,i,a),It=f,xn=g;break;case 0:case 11:case 14:case 15:Gt||Xr(2,a,i),Gt||Xr(4,a,i),Rr(n,i,a);break;case 1:Gt||(sr(a,i),f=a.stateNode,typeof f.componentWillUnmount=="function"&&Am(a,i,f)),Rr(n,i,a);break;case 21:Rr(n,i,a);break;case 22:Gt=(f=Gt)||a.memoizedState!==null,Rr(n,i,a),Gt=f;break;default:Rr(n,i,a)}}function Lm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{us(n)}catch(a){At(i,i.return,a)}}function VT(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Mm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Mm),i;default:throw Error(o(435,n.tag))}}function Vc(n,i){var a=VT(n);i.forEach(function(f){var g=XT.bind(null,n,f);a.has(f)||(a.add(f),f.then(g,g))})}function An(n,i){var a=i.deletions;if(a!==null)for(var f=0;f<a.length;f++){var g=a[f],x=n,L=i,V=L;e:for(;V!==null;){switch(V.tag){case 27:if(ii(V.type)){It=V.stateNode,xn=!1;break e}break;case 5:It=V.stateNode,xn=!1;break e;case 3:case 4:It=V.stateNode.containerInfo,xn=!0;break e}V=V.return}if(It===null)throw Error(o(160));Um(x,L,g),It=null,xn=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Pm(i,n),i=i.sibling}var Xn=null;function Pm(n,i){var a=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(i,n),Rn(n),f&4&&(Xr(3,n,n.return),Ka(3,n),Xr(5,n,n.return));break;case 1:An(i,n),Rn(n),f&512&&(Gt||a===null||sr(a,a.return)),f&64&&Ar&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var g=Xn;if(An(i,n),Rn(n),f&512&&(Gt||a===null||sr(a,a.return)),f&4){var x=a!==null?a.memoizedState:null;if(f=n.memoizedState,a===null)if(f===null)if(n.stateNode===null){e:{f=n.type,a=n.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Yn]||x[Jt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(f),g.head.insertBefore(x,g.querySelector("head > title"))),sn(x,f,a),x[Jt]=n,Lt(x),f=x;break e;case"link":var L=Dg("link","href",g).get(f+(a.href||""));if(L){for(var V=0;V<L.length;V++)if(x=L[V],x.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&x.getAttribute("rel")===(a.rel==null?null:a.rel)&&x.getAttribute("title")===(a.title==null?null:a.title)&&x.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){L.splice(V,1);break t}}x=g.createElement(f),sn(x,f,a),g.head.appendChild(x);break;case"meta":if(L=Dg("meta","content",g).get(f+(a.content||""))){for(V=0;V<L.length;V++)if(x=L[V],x.getAttribute("content")===(a.content==null?null:""+a.content)&&x.getAttribute("name")===(a.name==null?null:a.name)&&x.getAttribute("property")===(a.property==null?null:a.property)&&x.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&x.getAttribute("charset")===(a.charSet==null?null:a.charSet)){L.splice(V,1);break t}}x=g.createElement(f),sn(x,f,a),g.head.appendChild(x);break;default:throw Error(o(468,f))}x[Jt]=n,Lt(x),f=x}n.stateNode=f}else Mg(g,n.type,n.stateNode);else n.stateNode=Ng(g,f,n.memoizedProps);else x!==f?(x===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):x.count--,f===null?Mg(g,n.type,n.stateNode):Ng(g,f,n.memoizedProps)):f===null&&n.stateNode!==null&&Bc(n,n.memoizedProps,a.memoizedProps)}break;case 27:An(i,n),Rn(n),f&512&&(Gt||a===null||sr(a,a.return)),a!==null&&f&4&&Bc(n,n.memoizedProps,a.memoizedProps);break;case 5:if(An(i,n),Rn(n),f&512&&(Gt||a===null||sr(a,a.return)),n.flags&32){g=n.stateNode;try{Vr(g,"")}catch(xe){At(n,n.return,xe)}}f&4&&n.stateNode!=null&&(g=n.memoizedProps,Bc(n,g,a!==null?a.memoizedProps:g)),f&1024&&(zc=!0);break;case 6:if(An(i,n),Rn(n),f&4){if(n.stateNode===null)throw Error(o(162));f=n.memoizedProps,a=n.stateNode;try{a.nodeValue=f}catch(xe){At(n,n.return,xe)}}break;case 3:if(Ml=null,g=Xn,Xn=Nl(i.containerInfo),An(i,n),Xn=g,Rn(n),f&4&&a!==null&&a.memoizedState.isDehydrated)try{us(i.containerInfo)}catch(xe){At(n,n.return,xe)}zc&&(zc=!1,Bm(n));break;case 4:f=Xn,Xn=Nl(n.stateNode.containerInfo),An(i,n),Rn(n),Xn=f;break;case 12:An(i,n),Rn(n);break;case 13:An(i,n),Rn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yc=v()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Vc(n,f)));break;case 22:g=n.memoizedState!==null;var ie=a!==null&&a.memoizedState!==null,ye=Ar,De=Gt;if(Ar=ye||g,Gt=De||ie,An(i,n),Gt=De,Ar=ye,Rn(n),f&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(a===null||ie||Ar||Gt||Li(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){ie=a=i;try{if(x=ie.stateNode,g)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{V=ie.stateNode;var Le=ie.memoizedProps.style,ve=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;V.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(xe){At(ie,ie.return,xe)}}}else if(i.tag===6){if(a===null){ie=i;try{ie.stateNode.nodeValue=g?"":ie.memoizedProps}catch(xe){At(ie,ie.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=n.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,Vc(n,a))));break;case 19:An(i,n),Rn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Vc(n,f)));break;case 30:break;case 21:break;default:An(i,n),Rn(n)}}function Rn(n){var i=n.flags;if(i&2){try{for(var a,f=n.return;f!==null;){if(Nm(f)){a=f;break}f=f.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var g=a.stateNode,x=Oc(n);gl(n,x,g);break;case 5:var L=a.stateNode;a.flags&32&&(Vr(L,""),a.flags&=-33);var V=Oc(n);gl(n,V,L);break;case 3:case 4:var ie=a.stateNode.containerInfo,ye=Oc(n);Fc(n,ye,ie);break;default:throw Error(o(161))}}catch(De){At(n,n.return,De)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Bm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Bm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function jr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Im(n,i.alternate,i),i=i.sibling}function Li(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Xr(4,i,i.return),Li(i);break;case 1:sr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Am(i,i.return,a),Li(i);break;case 27:ts(i.stateNode);case 26:case 5:sr(i,i.return),Li(i);break;case 22:i.memoizedState===null&&Li(i);break;case 30:Li(i);break;default:Li(i)}n=n.sibling}}function Zr(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=n,x=i,L=x.flags;switch(x.tag){case 0:case 11:case 15:Zr(g,x,a),Ka(4,x);break;case 1:if(Zr(g,x,a),f=x,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ye){At(f,f.return,ye)}if(f=x,g=f.updateQueue,g!==null){var V=f.stateNode;try{var ie=g.shared.hiddenCallbacks;if(ie!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ie.length;g++)dp(ie[g],V)}catch(ye){At(f,f.return,ye)}}a&&L&64&&Cm(x),Ja(x,x.return);break;case 27:Dm(x);case 26:case 5:Zr(g,x,a),a&&f===null&&L&4&&Rm(x),Ja(x,x.return);break;case 12:Zr(g,x,a);break;case 13:Zr(g,x,a),a&&L&4&&Lm(g,x);break;case 22:x.memoizedState===null&&Zr(g,x,a),Ja(x,x.return);break;case 30:break;default:Zr(g,x,a)}i=i.sibling}}function Gc(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ma(a))}function qc(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ma(n))}function lr(n,i,a,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Om(n,i,a,f),i=i.sibling}function Om(n,i,a,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:lr(n,i,a,f),g&2048&&Ka(9,i);break;case 1:lr(n,i,a,f);break;case 3:lr(n,i,a,f),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ma(n)));break;case 12:if(g&2048){lr(n,i,a,f),n=i.stateNode;try{var x=i.memoizedProps,L=x.id,V=x.onPostCommit;typeof V=="function"&&V(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ie){At(i,i.return,ie)}}else lr(n,i,a,f);break;case 13:lr(n,i,a,f);break;case 23:break;case 22:x=i.stateNode,L=i.alternate,i.memoizedState!==null?x._visibility&2?lr(n,i,a,f):Ya(n,i):x._visibility&2?lr(n,i,a,f):(x._visibility|=2,wo(n,i,a,f,(i.subtreeFlags&10256)!==0)),g&2048&&Gc(L,i);break;case 24:lr(n,i,a,f),g&2048&&qc(i.alternate,i);break;default:lr(n,i,a,f)}}function wo(n,i,a,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var x=n,L=i,V=a,ie=f,ye=L.flags;switch(L.tag){case 0:case 11:case 15:wo(x,L,V,ie,g),Ka(8,L);break;case 23:break;case 22:var De=L.stateNode;L.memoizedState!==null?De._visibility&2?wo(x,L,V,ie,g):Ya(x,L):(De._visibility|=2,wo(x,L,V,ie,g)),g&&ye&2048&&Gc(L.alternate,L);break;case 24:wo(x,L,V,ie,g),g&&ye&2048&&qc(L.alternate,L);break;default:wo(x,L,V,ie,g)}i=i.sibling}}function Ya(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,f=i,g=f.flags;switch(f.tag){case 22:Ya(a,f),g&2048&&Gc(f.alternate,f);break;case 24:Ya(a,f),g&2048&&qc(f.alternate,f);break;default:Ya(a,f)}i=i.sibling}}var Wa=8192;function xo(n){if(n.subtreeFlags&Wa)for(n=n.child;n!==null;)Fm(n),n=n.sibling}function Fm(n){switch(n.tag){case 26:xo(n),n.flags&Wa&&n.memoizedState!==null&&CS(Xn,n.memoizedState,n.memoizedProps);break;case 5:xo(n);break;case 3:case 4:var i=Xn;Xn=Nl(n.stateNode.containerInfo),xo(n),Xn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Wa,Wa=16777216,xo(n),Wa=i):xo(n));break;default:xo(n)}}function zm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function $a(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];tn=f,Gm(f,n)}zm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vm(n),n=n.sibling}function Vm(n){switch(n.tag){case 0:case 11:case 15:$a(n),n.flags&2048&&Xr(9,n,n.return);break;case 3:$a(n);break;case 12:$a(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,yl(n)):$a(n);break;default:$a(n)}}function yl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];tn=f,Gm(f,n)}zm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Xr(8,i,i.return),yl(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yl(i));break;default:yl(i)}n=n.sibling}}function Gm(n,i){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:Xr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ma(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,tn=f;else e:for(a=n;tn!==null;){f=tn;var g=f.sibling,x=f.return;if(km(f),f===a){tn=null;break e}if(g!==null){g.return=x,tn=g;break e}tn=x}}}var GT={getCacheForType:function(n){var i=ln(jt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},qT=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,ut=null,ft=0,wt=0,Nn=null,Qr=!1,To=!1,Hc=!1,Nr=0,Bt=0,ei=0,Pi=0,Kc=0,zn=0,So=0,Xa=null,Tn=null,Jc=!1,Yc=0,vl=1/0,wl=null,ti=null,an=0,ni=null,Eo=null,bo=0,Wc=0,$c=null,qm=null,ja=0,Xc=null;function Dn(){if((vt&2)!==0&&ft!==0)return ft&-ft;if(se.T!==null){var n=co;return n!==0?n:rf()}return Cs()}function Hm(){zn===0&&(zn=(ft&536870912)===0||mt?Lr():536870912);var n=Fn.current;return n!==null&&(n.flags|=32),zn}function Mn(n,i,a){(n===Rt&&(wt===2||wt===9)||n.cancelPendingCommit!==null)&&(_o(n,0),ri(n,ft,zn,!1)),rn(n,a),((vt&2)===0||n!==Rt)&&(n===Rt&&((vt&2)===0&&(Pi|=a),Bt===4&&ri(n,ft,zn,!1)),ur(n))}function Km(n,i,a){if((vt&6)!==0)throw Error(o(327));var f=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Kn(n,i),g=f?JT(n,i):Qc(n,i,!0),x=f;do{if(g===0){To&&!f&&ri(n,i,0,!1);break}else{if(a=n.current.alternate,x&&!HT(a)){g=Qc(n,i,!1),x=!1;continue}if(g===2){if(x=i,n.errorRecoveryDisabledLanes&x)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var V=n;g=Xa;var ie=V.current.memoizedState.isDehydrated;if(ie&&(_o(V,L).flags|=256),L=Qc(V,L,!1),L!==2){if(Hc&&!ie){V.errorRecoveryDisabledLanes|=x,Pi|=x,g=4;break e}x=Tn,Tn=g,x!==null&&(Tn===null?Tn=x:Tn.push.apply(Tn,x))}g=L}if(x=!1,g!==2)continue}}if(g===1){_o(n,0),ri(n,i,0,!0);break}e:{switch(f=n,x=g,x){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:ri(f,i,zn,!Qr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(g=Yc+300-v(),10<g)){if(ri(f,i,zn,!Qr),pt(f,0,!0)!==0)break e;f.timeoutHandle=xg(Jm.bind(null,f,a,Tn,wl,Jc,i,zn,Pi,So,Qr,x,2,-0,0),g);break e}Jm(f,a,Tn,wl,Jc,i,zn,Pi,So,Qr,x,0,-0,0)}}break}while(!0);ur(n)}function Jm(n,i,a,f,g,x,L,V,ie,ye,De,Le,ve,xe){if(n.timeoutHandle=-1,Le=i.subtreeFlags,(Le&8192||(Le&16785408)===16785408)&&(is={stylesheets:null,count:0,unsuspend:_S},Fm(i),Le=AS(),Le!==null)){n.cancelPendingCommit=Le(Qm.bind(null,n,i,x,a,f,g,L,V,ie,De,1,ve,xe)),ri(n,x,L,!ye);return}Qm(n,i,x,a,f,g,L,V,ie)}function HT(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var g=a[f],x=g.getSnapshot;g=g.value;try{if(!_n(x(),g))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(n,i,a,f){i&=~Kc,i&=~Pi,n.suspendedLanes|=i,n.pingedLanes&=~i,f&&(n.warmLanes|=i),f=n.expirationTimes;for(var g=i;0<g;){var x=31-nt(g),L=1<<x;f[x]=-1,g&=~L}a!==0&&sa(n,a,i)}function xl(){return(vt&6)===0?(Za(0),!1):!0}function jc(){if(ut!==null){if(wt===0)var n=ut.return;else n=ut,Tr=Di=null,pc(n),yo=null,Ga=0,n=ut;for(;n!==null;)_m(n.alternate,n),n=n.return;ut=null}}function _o(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,lS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),jc(),Rt=n,ut=a=vr(n.current,null),ft=i,wt=0,Nn=null,Qr=!1,To=Kn(n,i),Hc=!1,So=zn=Kc=Pi=ei=Bt=0,Tn=Xa=null,Jc=!1,(i&8)!==0&&(i|=i&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=i;0<f;){var g=31-nt(f),x=1<<g;i|=n[g],f&=~x}return Nr=i,Gs(),a}function Ym(n,i){ot=null,se.H=sl,i===ka||i===js?(i=cp(),wt=3):i===sp?(i=cp(),wt=4):wt=i===fm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,ut===null&&(Bt=1,dl(n,Ln(i,n.current)))}function Wm(){var n=se.H;return se.H=sl,n===null?sl:n}function $m(){var n=se.A;return se.A=GT,n}function Zc(){Bt=4,Qr||(ft&4194048)!==ft&&Fn.current!==null||(To=!0),(ei&134217727)===0&&(Pi&134217727)===0||Rt===null||ri(Rt,ft,zn,!1)}function Qc(n,i,a){var f=vt;vt|=2;var g=Wm(),x=$m();(Rt!==n||ft!==i)&&(wl=null,_o(n,i)),i=!1;var L=Bt;e:do try{if(wt!==0&&ut!==null){var V=ut,ie=Nn;switch(wt){case 8:jc(),L=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(i=!0);var ye=wt;if(wt=0,Nn=null,Co(n,V,ie,ye),a&&To){L=0;break e}break;default:ye=wt,wt=0,Nn=null,Co(n,V,ie,ye)}}KT(),L=Bt;break}catch(De){Ym(n,De)}while(!0);return i&&n.shellSuspendCounter++,Tr=Di=null,vt=f,se.H=g,se.A=x,ut===null&&(Rt=null,ft=0,Gs()),L}function KT(){for(;ut!==null;)Xm(ut)}function JT(n,i){var a=vt;vt|=2;var f=Wm(),g=$m();Rt!==n||ft!==i?(wl=null,vl=v()+500,_o(n,i)):To=Kn(n,i);e:do try{if(wt!==0&&ut!==null){i=ut;var x=Nn;t:switch(wt){case 1:wt=0,Nn=null,Co(n,i,x,1);break;case 2:case 9:if(lp(x)){wt=0,Nn=null,jm(i);break}i=function(){wt!==2&&wt!==9||Rt!==n||(wt=7),ur(n)},x.then(i,i);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:lp(x)?(wt=0,Nn=null,jm(i)):(wt=0,Nn=null,Co(n,i,x,7));break;case 5:var L=null;switch(ut.tag){case 26:L=ut.memoizedState;case 5:case 27:var V=ut;if(!L||Ig(L)){wt=0,Nn=null;var ie=V.sibling;if(ie!==null)ut=ie;else{var ye=V.return;ye!==null?(ut=ye,Tl(ye)):ut=null}break t}}wt=0,Nn=null,Co(n,i,x,5);break;case 6:wt=0,Nn=null,Co(n,i,x,6);break;case 8:jc(),Bt=6;break e;default:throw Error(o(462))}}YT();break}catch(De){Ym(n,De)}while(!0);return Tr=Di=null,se.H=f,se.A=g,vt=a,ut!==null?0:(Rt=null,ft=0,Gs(),Bt)}function YT(){for(;ut!==null&&!H();)Xm(ut)}function Xm(n){var i=Em(n.alternate,n,Nr);n.memoizedProps=n.pendingProps,i===null?Tl(n):ut=i}function jm(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=ym(a,i,i.pendingProps,i.type,void 0,ft);break;case 11:i=ym(a,i,i.pendingProps,i.type.render,i.ref,ft);break;case 5:pc(i);default:_m(a,i),i=ut=Zh(i,Nr),i=Em(a,i,Nr)}n.memoizedProps=n.pendingProps,i===null?Tl(n):ut=i}function Co(n,i,a,f){Tr=Di=null,pc(i),yo=null,Ga=0;var g=i.return;try{if(PT(n,g,i,a,ft)){Bt=1,dl(n,Ln(a,n.current)),ut=null;return}}catch(x){if(g!==null)throw ut=g,x;Bt=1,dl(n,Ln(a,n.current)),ut=null;return}i.flags&32768?(mt||f===1?n=!0:To||(ft&536870912)!==0?n=!1:(Qr=n=!0,(f===2||f===9||f===3||f===6)&&(f=Fn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Zm(i,n)):Tl(i)}function Tl(n){var i=n;do{if((i.flags&32768)!==0){Zm(i,Qr);return}n=i.return;var a=OT(i.alternate,i,Nr);if(a!==null){ut=a;return}if(i=i.sibling,i!==null){ut=i;return}ut=i=n}while(i!==null);Bt===0&&(Bt=5)}function Zm(n,i){do{var a=FT(n.alternate,n);if(a!==null){a.flags&=32767,ut=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){ut=n;return}ut=n=a}while(n!==null);Bt=6,ut=null}function Qm(n,i,a,f,g,x,L,V,ie){n.cancelPendingCommit=null;do Sl();while(an!==0);if((vt&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(x=i.lanes|i.childLanes,x|=qu,Ct(n,a,x,L,V,ie),n===Rt&&(ut=Rt=null,ft=0),Eo=i,ni=n,bo=a,Wc=x,$c=g,qm=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,jT(ee,function(){return ig(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=se.T,se.T=null,g=oe.p,oe.p=2,L=vt,vt|=4;try{zT(n,i,a)}finally{vt=L,oe.p=g,se.T=f}}an=1,eg(),tg(),ng()}}function eg(){if(an===1){an=0;var n=ni,i=Eo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=se.T,se.T=null;var f=oe.p;oe.p=2;var g=vt;vt|=4;try{Pm(i,n);var x=df,L=Gh(n.containerInfo),V=x.focusedElem,ie=x.selectionRange;if(L!==V&&V&&V.ownerDocument&&Vh(V.ownerDocument.documentElement,V)){if(ie!==null&&Ou(V)){var ye=ie.start,De=ie.end;if(De===void 0&&(De=ye),"selectionStart"in V)V.selectionStart=ye,V.selectionEnd=Math.min(De,V.value.length);else{var Le=V.ownerDocument||document,ve=Le&&Le.defaultView||window;if(ve.getSelection){var xe=ve.getSelection(),Qe=V.textContent.length,Xe=Math.min(ie.start,Qe),Et=ie.end===void 0?Xe:Math.min(ie.end,Qe);!xe.extend&&Xe>Et&&(L=Et,Et=Xe,Xe=L);var he=zh(V,Xe),ue=zh(V,Et);if(he&&ue&&(xe.rangeCount!==1||xe.anchorNode!==he.node||xe.anchorOffset!==he.offset||xe.focusNode!==ue.node||xe.focusOffset!==ue.offset)){var me=Le.createRange();me.setStart(he.node,he.offset),xe.removeAllRanges(),Xe>Et?(xe.addRange(me),xe.extend(ue.node,ue.offset)):(me.setEnd(ue.node,ue.offset),xe.addRange(me))}}}}for(Le=[],xe=V;xe=xe.parentNode;)xe.nodeType===1&&Le.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Le.length;V++){var Ue=Le[V];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}Ul=!!ff,df=ff=null}finally{vt=g,oe.p=f,se.T=a}}n.current=i,an=2}}function tg(){if(an===2){an=0;var n=ni,i=Eo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=se.T,se.T=null;var f=oe.p;oe.p=2;var g=vt;vt|=4;try{Im(n,i.alternate,i)}finally{vt=g,oe.p=f,se.T=a}}an=3}}function ng(){if(an===4||an===3){an=0,N();var n=ni,i=Eo,a=bo,f=qm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?an=5:(an=0,Eo=ni=null,rg(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(ti=null),hi(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Be,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=se.T,g=oe.p,oe.p=2,se.T=null;try{for(var x=n.onRecoverableError,L=0;L<f.length;L++){var V=f[L];x(V.value,{componentStack:V.stack})}}finally{se.T=i,oe.p=g}}(bo&3)!==0&&Sl(),ur(n),g=n.pendingLanes,(a&4194090)!==0&&(g&42)!==0?n===Xc?ja++:(ja=0,Xc=n):ja=0,Za(0)}}function rg(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ma(i)))}function Sl(n){return eg(),tg(),ng(),ig()}function ig(){if(an!==5)return!1;var n=ni,i=Wc;Wc=0;var a=hi(bo),f=se.T,g=oe.p;try{oe.p=32>a?32:a,se.T=null,a=$c,$c=null;var x=ni,L=bo;if(an=0,Eo=ni=null,bo=0,(vt&6)!==0)throw Error(o(331));var V=vt;if(vt|=4,Vm(x.current),Om(x,x.current,L,a),vt=V,Za(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Be,x)}catch{}return!0}finally{oe.p=g,se.T=f,rg(n,i)}}function og(n,i,a){i=Ln(a,i),i=Rc(n.stateNode,i,2),n=Jr(n,i,2),n!==null&&(rn(n,2),ur(n))}function At(n,i,a){if(n.tag===3)og(n,n,a);else for(;i!==null;){if(i.tag===3){og(i,n,a);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ti===null||!ti.has(f))){n=Ln(a,n),a=um(2),f=Jr(i,a,2),f!==null&&(cm(a,f,i,n),rn(f,2),ur(f));break}}i=i.return}}function ef(n,i,a){var f=n.pingCache;if(f===null){f=n.pingCache=new qT;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(a)||(Hc=!0,g.add(a),n=WT.bind(null,n,i,a),i.then(n,n))}function WT(n,i,a){var f=n.pingCache;f!==null&&f.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Rt===n&&(ft&a)===a&&(Bt===4||Bt===3&&(ft&62914560)===ft&&300>v()-Yc?(vt&2)===0&&_o(n,0):Kc|=a,So===ft&&(So=0)),ur(n)}function ag(n,i){i===0&&(i=di()),n=ao(n,i),n!==null&&(rn(n,i),ur(n))}function $T(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),ag(n,a)}function XT(n,i){var a=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(i),ag(n,a)}function jT(n,i){return ge(n,i)}var El=null,Ao=null,tf=!1,bl=!1,nf=!1,Bi=0;function ur(n){n!==Ao&&n.next===null&&(Ao===null?El=Ao=n:Ao=Ao.next=n),bl=!0,tf||(tf=!0,QT())}function Za(n,i){if(!nf&&bl){nf=!0;do for(var a=!1,f=El;f!==null;){if(n!==0){var g=f.pendingLanes;if(g===0)var x=0;else{var L=f.suspendedLanes,V=f.pingedLanes;x=(1<<31-nt(42|n)+1)-1,x&=g&~(L&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(a=!0,cg(f,x))}else x=ft,x=pt(f,f===Rt?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Kn(f,x)||(a=!0,cg(f,x));f=f.next}while(a);nf=!1}}function ZT(){sg()}function sg(){bl=tf=!1;var n=0;Bi!==0&&(sS()&&(n=Bi),Bi=0);for(var i=v(),a=null,f=El;f!==null;){var g=f.next,x=lg(f,i);x===0?(f.next=null,a===null?El=g:a.next=g,g===null&&(Ao=a)):(a=f,(n!==0||(x&3)!==0)&&(bl=!0)),f=g}Za(n)}function lg(n,i){for(var a=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var L=31-nt(x),V=1<<L,ie=g[L];ie===-1?((V&a)===0||(V&f)!==0)&&(g[L]=Qt(V,i)):ie<=i&&(n.expiredLanes|=V),x&=~V}if(i=Rt,a=ft,a=pt(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,a===0||n===i&&(wt===2||wt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&D(f),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Kn(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(f!==null&&D(f),hi(a)){case 2:case 8:a=J;break;case 32:a=ee;break;case 268435456:a=we;break;default:a=ee}return f=ug.bind(null,n),a=ge(a,f),n.callbackPriority=i,n.callbackNode=a,i}return f!==null&&f!==null&&D(f),n.callbackPriority=2,n.callbackNode=null,2}function ug(n,i){if(an!==0&&an!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Sl()&&n.callbackNode!==a)return null;var f=ft;return f=pt(n,n===Rt?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(Km(n,f,i),lg(n,v()),n.callbackNode!=null&&n.callbackNode===a?ug.bind(null,n):null)}function cg(n,i){if(Sl())return null;Km(n,i,!0)}function QT(){uS(function(){(vt&6)!==0?ge(_,ZT):sg()})}function rf(){return Bi===0&&(Bi=Lr()),Bi}function fg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vi(""+n)}function dg(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function eS(n,i,a,f,g){if(i==="submit"&&a&&a.stateNode===g){var x=fg((g[Xt]||null).action),L=f.submitter;L&&(i=(i=L[Xt]||null)?fg(i.formAction):L.getAttribute("formAction"),i!==null&&(x=i,L=null));var V=new Ve("action","action",null,f,g);n.push({event:V,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Bi!==0){var ie=L?dg(g,L):new FormData(g);Ec(a,{pending:!0,data:ie,method:g.method,action:x},null,ie)}}else typeof x=="function"&&(V.preventDefault(),ie=L?dg(g,L):new FormData(g),Ec(a,{pending:!0,data:ie,method:g.method,action:x},x,ie))},currentTarget:g}]})}}for(var of=0;of<Gu.length;of++){var af=Gu[of],tS=af.toLowerCase(),nS=af[0].toUpperCase()+af.slice(1);$n(tS,"on"+nS)}$n(Kh,"onAnimationEnd"),$n(Jh,"onAnimationIteration"),$n(Yh,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(wT,"onTransitionRun"),$n(xT,"onTransitionStart"),$n(TT,"onTransitionCancel"),$n(Wh,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qa));function hg(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var f=n[a],g=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var L=f.length-1;0<=L;L--){var V=f[L],ie=V.instance,ye=V.currentTarget;if(V=V.listener,ie!==x&&g.isPropagationStopped())break e;x=V,g.currentTarget=ye;try{x(g)}catch(De){fl(De)}g.currentTarget=null,x=ie}else for(L=0;L<f.length;L++){if(V=f[L],ie=V.instance,ye=V.currentTarget,V=V.listener,ie!==x&&g.isPropagationStopped())break e;x=V,g.currentTarget=ye;try{x(g)}catch(De){fl(De)}g.currentTarget=null,x=ie}}}}function ct(n,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var f=n+"__bubble";a.has(f)||(pg(i,n,2,!1),a.add(f))}function sf(n,i,a){var f=0;i&&(f|=4),pg(a,n,f,i)}var _l="_reactListening"+Math.random().toString(36).slice(2);function lf(n){if(!n[_l]){n[_l]=!0,Rs.forEach(function(a){a!=="selectionchange"&&(rS.has(a)||sf(a,!1,n),sf(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[_l]||(i[_l]=!0,sf("selectionchange",!1,i))}}function pg(n,i,a,f){switch(Og(i)){case 2:var g=DS;break;case 8:g=MS;break;default:g=Sf}a=g.bind(null,i,a,n),g=void 0,!xa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(i,a,{capture:!0,passive:g}):n.addEventListener(i,a,!0):g!==void 0?n.addEventListener(i,a,{passive:g}):n.addEventListener(i,a,!1)}function uf(n,i,a,f,g){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var L=f.tag;if(L===3||L===4){var V=f.stateNode.containerInfo;if(V===g)break;if(L===4)for(L=f.return;L!==null;){var ie=L.tag;if((ie===3||ie===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;V!==null;){if(L=bn(V),L===null)return;if(ie=L.tag,ie===5||ie===6||ie===26||ie===27){f=x=L;continue e}V=V.parentNode}}f=f.return}Os(function(){var ye=x,De=Qi(a),Le=[];e:{var ve=$h.get(n);if(ve!==void 0){var xe=Ve,Qe=n;switch(n){case"keypress":if(Te(a)===0)break e;case"keydown":case"keyup":xe=jx;break;case"focusin":Qe="focus",xe=Ta;break;case"focusout":Qe="blur",xe=Ta;break;case"beforeblur":case"afterblur":xe=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Fs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=eT;break;case Kh:case Jh:case Yh:xe=Gx;break;case Wh:xe=nT;break;case"scroll":case"scrollend":xe=$e;break;case"wheel":xe=iT;break;case"copy":case"cut":case"paste":xe=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Ch;break;case"toggle":case"beforetoggle":xe=aT}var Xe=(i&4)!==0,Et=!Xe&&(n==="scroll"||n==="scrollend"),he=Xe?ve!==null?ve+"Capture":null:ve;Xe=[];for(var ue=ye,me;ue!==null;){var Ue=ue;if(me=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||me===null||he===null||(Ue=wi(ue,he),Ue!=null&&Xe.push(es(ue,Ue,me))),Et)break;ue=ue.return}0<Xe.length&&(ve=new xe(ve,Qe,null,a,De),Le.push({event:ve,listeners:Xe}))}}if((i&7)===0){e:{if(ve=n==="mouseover"||n==="pointerover",xe=n==="mouseout"||n==="pointerout",ve&&a!==ya&&(Qe=a.relatedTarget||a.fromElement)&&(bn(Qe)||Qe[mr]))break e;if((xe||ve)&&(ve=De.window===De?De:(ve=De.ownerDocument)?ve.defaultView||ve.parentWindow:window,xe?(Qe=a.relatedTarget||a.toElement,xe=ye,Qe=Qe?bn(Qe):null,Qe!==null&&(Et=c(Qe),Xe=Qe.tag,Qe!==Et||Xe!==5&&Xe!==27&&Xe!==6)&&(Qe=null)):(xe=null,Qe=ye),xe!==Qe)){if(Xe=to,Ue="onMouseLeave",he="onMouseEnter",ue="mouse",(n==="pointerout"||n==="pointerover")&&(Xe=Ch,Ue="onPointerLeave",he="onPointerEnter",ue="pointer"),Et=xe==null?ve:mi(xe),me=Qe==null?ve:mi(Qe),ve=new Xe(Ue,ue+"leave",xe,a,De),ve.target=Et,ve.relatedTarget=me,Ue=null,bn(De)===ye&&(Xe=new Xe(he,ue+"enter",Qe,a,De),Xe.target=me,Xe.relatedTarget=Et,Ue=Xe),Et=Ue,xe&&Qe)t:{for(Xe=xe,he=Qe,ue=0,me=Xe;me;me=Ro(me))ue++;for(me=0,Ue=he;Ue;Ue=Ro(Ue))me++;for(;0<ue-me;)Xe=Ro(Xe),ue--;for(;0<me-ue;)he=Ro(he),me--;for(;ue--;){if(Xe===he||he!==null&&Xe===he.alternate)break t;Xe=Ro(Xe),he=Ro(he)}Xe=null}else Xe=null;xe!==null&&mg(Le,ve,xe,Xe,!1),Qe!==null&&Et!==null&&mg(Le,Et,Qe,Xe,!0)}}e:{if(ve=ye?mi(ye):window,xe=ve.nodeName&&ve.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ve.type==="file")var Je=Uh;else if(Ih(ve))if(Lh)Je=gT;else{Je=pT;var st=hT}else xe=ve.nodeName,!xe||xe.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?ye&&ga(ye.elementType)&&(Je=Uh):Je=mT;if(Je&&(Je=Je(n,ye))){kh(Le,Je,a,De);break e}st&&st(n,ve,ye),n==="focusout"&&ye&&ve.type==="number"&&ye.memoizedProps.value!=null&&Zi(ve,"number",ve.value)}switch(st=ye?mi(ye):window,n){case"focusin":(Ih(st)||st.contentEditable==="true")&&(ro=st,Fu=ye,Ca=null);break;case"focusout":Ca=Fu=ro=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,qh(Le,a,De);break;case"selectionchange":if(vT)break;case"keydown":case"keyup":qh(Le,a,De)}var We;if(Lu)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else no?Dh(n,a)&&(je="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Ah&&a.locale!=="ko"&&(no||je!=="onCompositionStart"?je==="onCompositionEnd"&&no&&(We=be()):(ir=De,eo="value"in ir?ir.value:ir.textContent,no=!0)),st=Cl(ye,je),0<st.length&&(je=new _h(je,n,null,a,De),Le.push({event:je,listeners:st}),We?je.data=We:(We=Mh(a),We!==null&&(je.data=We)))),(We=lT?uT(n,a):cT(n,a))&&(je=Cl(ye,"onBeforeInput"),0<je.length&&(st=new _h("onBeforeInput","beforeinput",null,a,De),Le.push({event:st,listeners:je}),st.data=We)),eS(Le,n,ye,a,De)}hg(Le,i)})}function es(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Cl(n,i){for(var a=i+"Capture",f=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=wi(n,a),g!=null&&f.unshift(es(n,g,x)),g=wi(n,i),g!=null&&f.push(es(n,g,x))),n.tag===3)return f;n=n.return}return[]}function Ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function mg(n,i,a,f,g){for(var x=i._reactName,L=[];a!==null&&a!==f;){var V=a,ie=V.alternate,ye=V.stateNode;if(V=V.tag,ie!==null&&ie===f)break;V!==5&&V!==26&&V!==27||ye===null||(ie=ye,g?(ye=wi(a,x),ye!=null&&L.unshift(es(a,ye,ie))):g||(ye=wi(a,x),ye!=null&&L.push(es(a,ye,ie)))),a=a.return}L.length!==0&&n.push({event:i,listeners:L})}var iS=/\r\n?/g,oS=/\u0000|\uFFFD/g;function gg(n){return(typeof n=="string"?n:""+n).replace(iS,`
`).replace(oS,"")}function yg(n,i){return i=gg(i),gg(n)===i}function Al(){}function St(n,i,a,f,g,x){switch(a){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||Vr(n,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&Vr(n,""+f);break;case"className":Or(n,"class",f);break;case"tabIndex":Or(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(n,a,f);break;case"style":Bs(n,f,x);break;case"data":if(i!=="object"){Or(n,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(a);break}f=vi(""+f),n.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(a==="formAction"?(i!=="input"&&St(n,i,"name",g.name,g,null),St(n,i,"formEncType",g.formEncType,g,null),St(n,i,"formMethod",g.formMethod,g,null),St(n,i,"formTarget",g.formTarget,g,null)):(St(n,i,"encType",g.encType,g,null),St(n,i,"method",g.method,g,null),St(n,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(a);break}f=vi(""+f),n.setAttribute(a,f);break;case"onClick":f!=null&&(n.onclick=Al);break;case"onScroll":f!=null&&ct("scroll",n);break;case"onScrollEnd":f!=null&&ct("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(a=f.__html,a!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}a=vi(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,""+f):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":f===!0?n.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,f):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(a,f):n.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(a):n.setAttribute(a,f);break;case"popover":ct("beforetoggle",n),ct("toggle",n),Br(n,"popover",f);break;case"xlinkActuate":kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":kn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":kn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":kn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":kn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Br(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,Br(n,a,f))}}function cf(n,i,a,f,g,x){switch(a){case"style":Bs(n,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(a=f.__html,a!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof f=="string"?Vr(n,f):(typeof f=="number"||typeof f=="bigint")&&Vr(n,""+f);break;case"onScroll":f!=null&&ct("scroll",n);break;case"onScrollEnd":f!=null&&ct("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),i=a.slice(2,g?a.length-7:void 0),x=n[Xt]||null,x=x!=null?x[a]:null,typeof x=="function"&&n.removeEventListener(i,x,g),typeof f=="function")){typeof x!="function"&&x!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,f,g);break e}a in n?n[a]=f:f===!0?n.setAttribute(a,""):Br(n,a,f)}}}function sn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",n),ct("load",n);var f=!1,g=!1,x;for(x in a)if(a.hasOwnProperty(x)){var L=a[x];if(L!=null)switch(x){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:St(n,i,x,L,a,null)}}g&&St(n,i,"srcSet",a.srcSet,a,null),f&&St(n,i,"src",a.src,a,null);return;case"input":ct("invalid",n);var V=x=L=g=null,ie=null,ye=null;for(f in a)if(a.hasOwnProperty(f)){var De=a[f];if(De!=null)switch(f){case"name":g=De;break;case"type":L=De;break;case"checked":ie=De;break;case"defaultChecked":ye=De;break;case"value":x=De;break;case"defaultValue":V=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(o(137,i));break;default:St(n,i,f,De,a,null)}}ks(n,x,V,ie,ye,L,g,!1),$i(n);return;case"select":ct("invalid",n),f=L=x=null;for(g in a)if(a.hasOwnProperty(g)&&(V=a[g],V!=null))switch(g){case"value":x=V;break;case"defaultValue":L=V;break;case"multiple":f=V;default:St(n,i,g,V,a,null)}i=x,a=L,n.multiple=!!f,i!=null?zr(n,!!f,i,!1):a!=null&&zr(n,!!f,a,!0);return;case"textarea":ct("invalid",n),x=g=f=null;for(L in a)if(a.hasOwnProperty(L)&&(V=a[L],V!=null))switch(L){case"value":f=V;break;case"defaultValue":g=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(91));break;default:St(n,i,L,V,a,null)}Ls(n,f,g,x),$i(n);return;case"option":for(ie in a)if(a.hasOwnProperty(ie)&&(f=a[ie],f!=null))switch(ie){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:St(n,i,ie,f,a,null)}return;case"dialog":ct("beforetoggle",n),ct("toggle",n),ct("cancel",n),ct("close",n);break;case"iframe":case"object":ct("load",n);break;case"video":case"audio":for(f=0;f<Qa.length;f++)ct(Qa[f],n);break;case"image":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"embed":case"source":case"link":ct("error",n),ct("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in a)if(a.hasOwnProperty(ye)&&(f=a[ye],f!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:St(n,i,ye,f,a,null)}return;default:if(ga(i)){for(De in a)a.hasOwnProperty(De)&&(f=a[De],f!==void 0&&cf(n,i,De,f,a,void 0));return}}for(V in a)a.hasOwnProperty(V)&&(f=a[V],f!=null&&St(n,i,V,f,a,null))}function aS(n,i,a,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,L=null,V=null,ie=null,ye=null,De=null;for(xe in a){var Le=a[xe];if(a.hasOwnProperty(xe)&&Le!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":ie=Le;default:f.hasOwnProperty(xe)||St(n,i,xe,null,f,Le)}}for(var ve in f){var xe=f[ve];if(Le=a[ve],f.hasOwnProperty(ve)&&(xe!=null||Le!=null))switch(ve){case"type":x=xe;break;case"name":g=xe;break;case"checked":ye=xe;break;case"defaultChecked":De=xe;break;case"value":L=xe;break;case"defaultValue":V=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(o(137,i));break;default:xe!==Le&&St(n,i,ve,xe,f,Le)}}ma(n,L,V,ie,ye,De,x,g);return;case"select":xe=L=V=ve=null;for(x in a)if(ie=a[x],a.hasOwnProperty(x)&&ie!=null)switch(x){case"value":break;case"multiple":xe=ie;default:f.hasOwnProperty(x)||St(n,i,x,null,f,ie)}for(g in f)if(x=f[g],ie=a[g],f.hasOwnProperty(g)&&(x!=null||ie!=null))switch(g){case"value":ve=x;break;case"defaultValue":V=x;break;case"multiple":L=x;default:x!==ie&&St(n,i,g,x,f,ie)}i=V,a=L,f=xe,ve!=null?zr(n,!!a,ve,!1):!!f!=!!a&&(i!=null?zr(n,!!a,i,!0):zr(n,!!a,a?[]:"",!1));return;case"textarea":xe=ve=null;for(V in a)if(g=a[V],a.hasOwnProperty(V)&&g!=null&&!f.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:St(n,i,V,null,f,g)}for(L in f)if(g=f[L],x=a[L],f.hasOwnProperty(L)&&(g!=null||x!=null))switch(L){case"value":ve=g;break;case"defaultValue":xe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==x&&St(n,i,L,g,f,x)}Us(n,ve,xe);return;case"option":for(var Qe in a)if(ve=a[Qe],a.hasOwnProperty(Qe)&&ve!=null&&!f.hasOwnProperty(Qe))switch(Qe){case"selected":n.selected=!1;break;default:St(n,i,Qe,null,f,ve)}for(ie in f)if(ve=f[ie],xe=a[ie],f.hasOwnProperty(ie)&&ve!==xe&&(ve!=null||xe!=null))switch(ie){case"selected":n.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:St(n,i,ie,ve,f,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in a)ve=a[Xe],a.hasOwnProperty(Xe)&&ve!=null&&!f.hasOwnProperty(Xe)&&St(n,i,Xe,null,f,ve);for(ye in f)if(ve=f[ye],xe=a[ye],f.hasOwnProperty(ye)&&ve!==xe&&(ve!=null||xe!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(o(137,i));break;default:St(n,i,ye,ve,f,xe)}return;default:if(ga(i)){for(var Et in a)ve=a[Et],a.hasOwnProperty(Et)&&ve!==void 0&&!f.hasOwnProperty(Et)&&cf(n,i,Et,void 0,f,ve);for(De in f)ve=f[De],xe=a[De],!f.hasOwnProperty(De)||ve===xe||ve===void 0&&xe===void 0||cf(n,i,De,ve,f,xe);return}}for(var he in a)ve=a[he],a.hasOwnProperty(he)&&ve!=null&&!f.hasOwnProperty(he)&&St(n,i,he,null,f,ve);for(Le in f)ve=f[Le],xe=a[Le],!f.hasOwnProperty(Le)||ve===xe||ve==null&&xe==null||St(n,i,Le,ve,f,xe)}var ff=null,df=null;function Rl(n){return n.nodeType===9?n:n.ownerDocument}function vg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wg(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function hf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pf=null;function sS(){var n=window.event;return n&&n.type==="popstate"?n===pf?!1:(pf=n,!0):(pf=null,!1)}var xg=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,Tg=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof Tg<"u"?function(n){return Tg.resolve(null).then(n).catch(cS)}:xg;function cS(n){setTimeout(function(){throw n})}function ii(n){return n==="head"}function Sg(n,i){var a=i,f=0,g=0;do{var x=a.nextSibling;if(n.removeChild(a),x&&x.nodeType===8)if(a=x.data,a==="/$"){if(0<f&&8>f){a=f;var L=n.ownerDocument;if(a&1&&ts(L.documentElement),a&2&&ts(L.body),a&4)for(a=L.head,ts(a),L=a.firstChild;L;){var V=L.nextSibling,ie=L.nodeName;L[Yn]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&L.rel.toLowerCase()==="stylesheet"||a.removeChild(L),L=V}}if(g===0){n.removeChild(x),us(i);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:f=a.charCodeAt(0)-48;else f=0;a=x}while(a);us(i)}function mf(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mf(a),pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function fS(n,i,a,f){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[Yn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=jn(n.nextSibling),n===null)break}return null}function dS(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=jn(n.nextSibling),n===null))return null;return n}function gf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function hS(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var f=function(){i(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function jn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var yf=null;function Eg(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function bg(n,i,a){switch(i=Rl(a),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function ts(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);pi(n)}var Vn=new Map,_g=new Set;function Nl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Dr=oe.d;oe.d={f:pS,r:mS,D:gS,C:yS,L:vS,m:wS,X:TS,S:xS,M:SS};function pS(){var n=Dr.f(),i=xl();return n||i}function mS(n){var i=rr(n);i!==null&&i.tag===5&&i.type==="form"?Kp(i):Dr.r(n)}var No=typeof document>"u"?null:document;function Cg(n,i,a){var f=No;if(f&&typeof i=="string"&&i){var g=vn(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),_g.has(g)||(_g.add(g),n={rel:n,crossOrigin:a,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),sn(i,"link",n),Lt(i),f.head.appendChild(i)))}}function gS(n){Dr.D(n),Cg("dns-prefetch",n,null)}function yS(n,i){Dr.C(n,i),Cg("preconnect",n,i)}function vS(n,i,a){Dr.L(n,i,a);var f=No;if(f&&n&&i){var g='link[rel="preload"][as="'+vn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+vn(a.imageSizes)+'"]')):g+='[href="'+vn(n)+'"]';var x=g;switch(i){case"style":x=Do(n);break;case"script":x=Mo(n)}Vn.has(x)||(n=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Vn.set(x,n),f.querySelector(g)!==null||i==="style"&&f.querySelector(ns(x))||i==="script"&&f.querySelector(rs(x))||(i=f.createElement("link"),sn(i,"link",n),Lt(i),f.head.appendChild(i)))}}function wS(n,i){Dr.m(n,i);var a=No;if(a&&n){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+vn(f)+'"][href="'+vn(n)+'"]',x=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Mo(n)}if(!Vn.has(x)&&(n=y({rel:"modulepreload",href:n},i),Vn.set(x,n),a.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rs(x)))return}f=a.createElement("link"),sn(f,"link",n),Lt(f),a.head.appendChild(f)}}}function xS(n,i,a){Dr.S(n,i,a);var f=No;if(f&&n){var g=gr(f).hoistableStyles,x=Do(n);i=i||"default";var L=g.get(x);if(!L){var V={loading:0,preload:null};if(L=f.querySelector(ns(x)))V.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Vn.get(x))&&vf(n,a);var ie=L=f.createElement("link");Lt(ie),sn(ie,"link",n),ie._p=new Promise(function(ye,De){ie.onload=ye,ie.onerror=De}),ie.addEventListener("load",function(){V.loading|=1}),ie.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Dl(L,i,f)}L={type:"stylesheet",instance:L,count:1,state:V},g.set(x,L)}}}function TS(n,i){Dr.X(n,i);var a=No;if(a&&n){var f=gr(a).hoistableScripts,g=Mo(n),x=f.get(g);x||(x=a.querySelector(rs(g)),x||(n=y({src:n,async:!0},i),(i=Vn.get(g))&&wf(n,i),x=a.createElement("script"),Lt(x),sn(x,"link",n),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function SS(n,i){Dr.M(n,i);var a=No;if(a&&n){var f=gr(a).hoistableScripts,g=Mo(n),x=f.get(g);x||(x=a.querySelector(rs(g)),x||(n=y({src:n,async:!0,type:"module"},i),(i=Vn.get(g))&&wf(n,i),x=a.createElement("script"),Lt(x),sn(x,"link",n),a.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function Ag(n,i,a,f){var g=(g=Z.current)?Nl(g):null;if(!g)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Do(a.href),a=gr(g).hoistableStyles,f=a.get(i),f||(f={type:"style",instance:null,count:0,state:null},a.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Do(a.href);var x=gr(g).hoistableStyles,L=x.get(n);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,L),(x=g.querySelector(ns(n)))&&!x._p&&(L.instance=x,L.state.loading=5),Vn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(n,a),x||ES(g,n,a,L.state))),i&&f===null)throw Error(o(528,""));return L}if(i&&f!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(a),a=gr(g).hoistableScripts,f=a.get(i),f||(f={type:"script",instance:null,count:0,state:null},a.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function Do(n){return'href="'+vn(n)+'"'}function ns(n){return'link[rel="stylesheet"]['+n+"]"}function Rg(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function ES(n,i,a,f){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=n.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),sn(i,"link",a),Lt(i),n.head.appendChild(i))}function Mo(n){return'[src="'+vn(n)+'"]'}function rs(n){return"script[async]"+n}function Ng(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var f=n.querySelector('style[data-href~="'+vn(a.href)+'"]');if(f)return i.instance=f,Lt(f),f;var g=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Lt(f),sn(f,"style",g),Dl(f,a.precedence,n),i.instance=f;case"stylesheet":g=Do(a.href);var x=n.querySelector(ns(g));if(x)return i.state.loading|=4,i.instance=x,Lt(x),x;f=Rg(a),(g=Vn.get(g))&&vf(f,g),x=(n.ownerDocument||n).createElement("link"),Lt(x);var L=x;return L._p=new Promise(function(V,ie){L.onload=V,L.onerror=ie}),sn(x,"link",f),i.state.loading|=4,Dl(x,a.precedence,n),i.instance=x;case"script":return x=Mo(a.src),(g=n.querySelector(rs(x)))?(i.instance=g,Lt(g),g):(f=a,(g=Vn.get(x))&&(f=y({},a),wf(f,g)),n=n.ownerDocument||n,g=n.createElement("script"),Lt(g),sn(g,"link",f),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,Dl(f,a.precedence,n));return i.instance}function Dl(n,i,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,x=g,L=0;L<f.length;L++){var V=f[L];if(V.dataset.precedence===i)x=V;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function vf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function wf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Ml=null;function Dg(n,i,a){if(Ml===null){var f=new Map,g=Ml=new Map;g.set(a,f)}else g=Ml,f=g.get(a),f||(f=new Map,g.set(a,f));if(f.has(n))return f;for(f.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var x=a[g];if(!(x[Yn]||x[Jt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(i)||"";L=n+L;var V=f.get(L);V?V.push(x):f.set(L,[x])}}return f}function Mg(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function bS(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ig(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var is=null;function _S(){}function CS(n,i,a){if(is===null)throw Error(o(475));var f=is;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Do(a.href),x=n.querySelector(ns(g));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=Il.bind(f),n.then(f,f)),i.state.loading|=4,i.instance=x,Lt(x);return}x=n.ownerDocument||n,a=Rg(a),(g=Vn.get(g))&&vf(a,g),x=x.createElement("link"),Lt(x);var L=x;L._p=new Promise(function(V,ie){L.onload=V,L.onerror=ie}),sn(x,"link",a),i.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=Il.bind(f),n.addEventListener("load",i),n.addEventListener("error",i))}}function AS(){if(is===null)throw Error(o(475));var n=is;return n.stylesheets&&n.count===0&&xf(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&xf(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Il(){if(this.count--,this.count===0){if(this.stylesheets)xf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var kl=null;function xf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,kl=new Map,i.forEach(RS,n),kl=null,Il.call(n))}function RS(n,i){if(!(i.state.loading&4)){var a=kl.get(n);if(a)var f=a.get(null);else{a=new Map,kl.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var L=g[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(a.set(L.dataset.precedence,L),f=L)}f&&a.set(null,f)}g=i.instance,L=g.getAttribute("data-precedence"),x=a.get(L)||f,x===f&&a.set(null,g),a.set(L,g),this.count++,f=Il.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var os={$$typeof:B,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function NS(n,i,a,f,g,x,L,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function kg(n,i,a,f,g,x,L,V,ie,ye,De,Le){return n=new NS(n,i,a,L,V,ie,ye,Le),i=1,x===!0&&(i|=24),x=Cn(3,null,null,i),n.current=x,x.stateNode=n,i=ec(),i.refCount++,n.pooledCache=i,i.refCount++,x.memoizedState={element:f,isDehydrated:a,cache:i},ic(x),n}function Ug(n){return n?(n=so,n):so}function Lg(n,i,a,f,g,x){g=Ug(g),f.context===null?f.context=g:f.pendingContext=g,f=Kr(i),f.payload={element:a},x=x===void 0?null:x,x!==null&&(f.callback=x),a=Jr(n,f,i),a!==null&&(Mn(a,n,i),La(a,n,i))}function Pg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Tf(n,i){Pg(n,i),(n=n.alternate)&&Pg(n,i)}function Bg(n){if(n.tag===13){var i=ao(n,67108864);i!==null&&Mn(i,n,67108864),Tf(n,67108864)}}var Ul=!0;function DS(n,i,a,f){var g=se.T;se.T=null;var x=oe.p;try{oe.p=2,Sf(n,i,a,f)}finally{oe.p=x,se.T=g}}function MS(n,i,a,f){var g=se.T;se.T=null;var x=oe.p;try{oe.p=8,Sf(n,i,a,f)}finally{oe.p=x,se.T=g}}function Sf(n,i,a,f){if(Ul){var g=Ef(f);if(g===null)uf(n,i,f,Ll,a),Fg(n,f);else if(kS(g,n,i,a,f))f.stopPropagation();else if(Fg(n,f),i&4&&-1<IS.indexOf(n)){for(;g!==null;){var x=rr(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=Mt(x.pendingLanes);if(L!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;L;){var ie=1<<31-nt(L);V.entanglements[1]|=ie,L&=~ie}ur(x),(vt&6)===0&&(vl=v()+500,Za(0))}}break;case 13:V=ao(x,2),V!==null&&Mn(V,x,2),xl(),Tf(x,2)}if(x=Ef(f),x===null&&uf(n,i,f,Ll,a),x===g)break;g=x}g!==null&&f.stopPropagation()}else uf(n,i,f,null,a)}}function Ef(n){return n=Qi(n),bf(n)}var Ll=null;function bf(n){if(Ll=null,n=bn(n),n!==null){var i=c(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=d(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Ll=n,null}function Og(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(w()){case _:return 2;case J:return 8;case ee:case X:return 32;case we:return 268435456;default:return 32}default:return 32}}var _f=!1,oi=null,ai=null,si=null,as=new Map,ss=new Map,li=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fg(n,i){switch(n){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":as.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(i.pointerId)}}function ls(n,i,a,f,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:i,domEventName:a,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},i!==null&&(i=rr(i),i!==null&&Bg(i)),n):(n.eventSystemFlags|=f,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function kS(n,i,a,f,g){switch(i){case"focusin":return oi=ls(oi,n,i,a,f,g),!0;case"dragenter":return ai=ls(ai,n,i,a,f,g),!0;case"mouseover":return si=ls(si,n,i,a,f,g),!0;case"pointerover":var x=g.pointerId;return as.set(x,ls(as.get(x)||null,n,i,a,f,g)),!0;case"gotpointercapture":return x=g.pointerId,ss.set(x,ls(ss.get(x)||null,n,i,a,f,g)),!0}return!1}function zg(n){var i=bn(n.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){n.blockedOn=i,la(n.priority,function(){if(a.tag===13){var f=Dn();f=tr(f);var g=ao(a,f);g!==null&&Mn(g,a,f),Tf(a,f)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Pl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Ef(n.nativeEvent);if(a===null){a=n.nativeEvent;var f=new a.constructor(a.type,a);ya=f,a.target.dispatchEvent(f),ya=null}else return i=rr(a),i!==null&&Bg(i),n.blockedOn=a,!1;i.shift()}return!0}function Vg(n,i,a){Pl(n)&&a.delete(i)}function US(){_f=!1,oi!==null&&Pl(oi)&&(oi=null),ai!==null&&Pl(ai)&&(ai=null),si!==null&&Pl(si)&&(si=null),as.forEach(Vg),ss.forEach(Vg)}function Bl(n,i){n.blockedOn===i&&(n.blockedOn=null,_f||(_f=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,US)))}var Ol=null;function Gg(n){Ol!==n&&(Ol=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ol===n&&(Ol=null);for(var i=0;i<n.length;i+=3){var a=n[i],f=n[i+1],g=n[i+2];if(typeof f!="function"){if(bf(f||a)===null)continue;break}var x=rr(a);x!==null&&(n.splice(i,3),i-=3,Ec(x,{pending:!0,data:g,method:a.method,action:f},f,g))}}))}function us(n){function i(ie){return Bl(ie,n)}oi!==null&&Bl(oi,n),ai!==null&&Bl(ai,n),si!==null&&Bl(si,n),as.forEach(i),ss.forEach(i);for(var a=0;a<li.length;a++){var f=li[a];f.blockedOn===n&&(f.blockedOn=null)}for(;0<li.length&&(a=li[0],a.blockedOn===null);)zg(a),a.blockedOn===null&&li.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var g=a[f],x=a[f+1],L=g[Xt]||null;if(typeof x=="function")L||Gg(a);else if(L){var V=null;if(x&&x.hasAttribute("formAction")){if(g=x,L=x[Xt]||null)V=L.formAction;else if(bf(g)!==null)continue}else V=L.action;typeof V=="function"?a[f+1]=V:(a.splice(f,3),f-=3),Gg(a)}}}function Cf(n){this._internalRoot=n}Fl.prototype.render=Cf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,f=Dn();Lg(a,f,n,i,null,null)},Fl.prototype.unmount=Cf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Lg(n.current,2,null,n,null,null),xl(),i[mr]=null}};function Fl(n){this._internalRoot=n}Fl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Cs();n={blockedOn:null,target:n,priority:i};for(var a=0;a<li.length&&i!==0&&i<li[a].priority;a++);li.splice(a,0,n),a===0&&zg(n)}};var qg=e.version;if(qg!=="19.1.1")throw Error(o(527,qg,"19.1.1"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var LS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{Be=zl.inject(LS),Ge=zl}catch{}}return fs.createRoot=function(n,i){if(!s(n))throw Error(o(299));var a=!1,f="",g=om,x=am,L=sm,V=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(V=i.unstable_transitionCallbacks)),i=kg(n,1,!1,null,null,a,f,g,x,L,V,null),n[mr]=i.current,lf(n),new Cf(i)},fs.hydrateRoot=function(n,i,a){if(!s(n))throw Error(o(299));var f=!1,g="",x=om,L=am,V=sm,ie=null,ye=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(x=a.onUncaughtError),a.onCaughtError!==void 0&&(L=a.onCaughtError),a.onRecoverableError!==void 0&&(V=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(ie=a.unstable_transitionCallbacks),a.formState!==void 0&&(ye=a.formState)),i=kg(n,1,!0,i,a??null,f,g,x,L,V,ie,ye),i.context=Ug(null),a=i.current,f=Dn(),f=tr(f),g=Kr(f),g.callback=null,Jr(a,g,f),a=f,i.current.lanes=a,rn(i,a),ur(i),n[mr]=i.current,lf(n),new Fl(i)},fs.version="19.1.1",fs}var Qg;function KS(){if(Qg)return Nf.exports;Qg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nf.exports=HS(),Nf.exports}var JS=KS();const YS=Yv(JS),kf=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",WS=t=>{if(!t)return"";try{const e=new Date(t),o=Math.round((new Date().getTime()-e.getTime())/1e3);if(o<2)return"agora";if(o<60)return`${o}s atrás`;const s=Math.round(o/60);if(s<60)return`${s}m atrás`;const c=Math.round(s/60);if(c<24)return`${c}h atrás`;const d=Math.round(c/24);return d<=7?`${d}d atrás`:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}).format(e)}catch{return""}},ey=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"})}),$S=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),ty=({isCollapsed:t})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transition-transform duration-200 ${t?"-rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),XS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),jS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),ny=({width:t,title:e,documents:r,categories:o,activeDocumentId:s,onSelectDocument:c,onUpdateCategoryName:d,onUpdateDocumentTitle:h,onReorderDocuments:p,onReorderCategories:m,onFindReferences:y,totalWordCount:T,searchQuery:S,onSearchChange:E,searchResults:R,onSelectSearchResult:A})=>{const[U,C]=Ne.useState(null),[I,B]=Ne.useState(""),[q,G]=Ne.useState({}),[le,ae]=Ne.useState(!1),[ce,O]=Ne.useState(null),Se=re=>{G(Z=>({...Z,[re]:!Z[re]}))},Me=re=>{const Z=r.find(M=>M.id===re),k=Z==null?void 0:Z.content.some(M=>M.type==="heading");s===re?k&&ae(M=>!M):(c(re),ae(!1))},$=(re,Z,k)=>{C({type:re,id:Z}),B(k)},de=()=>{C(null),B("")},P=()=>{if(!U||!I.trim()){de();return}U.type==="category"?d(U.id,I):U.type==="document"&&h(U.id,I),de()},fe=re=>{re.key==="Enter"?P():re.key==="Escape"&&de()},se=()=>{O(null)},oe=(re,Z)=>{re.dataTransfer.setData("application/json",JSON.stringify({type:"doc",id:Z})),re.dataTransfer.effectAllowed="move",setTimeout(()=>O({type:"doc",id:Z}),0)},Ie=re=>{re.preventDefault(),(ce==null?void 0:ce.type)==="doc"&&re.currentTarget.classList.add("bg-gray-700/50")},pe=re=>{re.currentTarget.classList.remove("bg-gray-700/50")},j=(re,Z)=>{re.preventDefault(),re.currentTarget.classList.remove("bg-gray-700/50");try{const k=JSON.parse(re.dataTransfer.getData("application/json"));k.type==="doc"&&k.id&&k.id!==Z&&p(k.id,Z)}catch(k){console.error(k)}O(null)},W=(re,Z)=>{re.dataTransfer.setData("application/json",JSON.stringify({type:"category",name:Z})),re.dataTransfer.effectAllowed="move",setTimeout(()=>O({type:"category",id:Z}),0)},F=re=>{re.preventDefault(),(ce==null?void 0:ce.type)==="category"&&re.currentTarget.classList.add("bg-gray-700/50")},Q=re=>{re.currentTarget.classList.remove("bg-gray-700/50")},te=(re,Z)=>{re.preventDefault(),re.stopPropagation(),re.currentTarget.classList.remove("bg-gray-700/50");try{const k=JSON.parse(re.dataTransfer.getData("application/json"));k.type==="category"&&k.name&&k.name!==Z&&m(k.name,Z)}catch(k){console.error(k)}O(null)};return b.jsxs("aside",{style:{width:`${t}px`},className:"bg-gray-800 text-white flex flex-col h-full border-r border-gray-700 flex-shrink-0 transition-all duration-300 overflow-hidden",children:[b.jsxs("div",{className:"p-4 border-b border-gray-700",children:[b.jsx("h2",{className:"text-xl font-semibold mb-3",children:e}),b.jsxs("div",{className:"relative text-gray-400 focus-within:text-gray-100",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx(XS,{})}),b.jsx("input",{type:"text",placeholder:"Pesquisar documentos...",value:S,onChange:re=>E(re.target.value),className:"w-full pl-10 pr-10 py-2 bg-gray-900 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),S&&b.jsx("button",{onClick:()=>E(""),className:"absolute inset-y-0 right-0 flex items-center pr-3","aria-label":"Clear search",children:b.jsx(jS,{})})]})]}),b.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:S?b.jsx("div",{children:R.length>0?b.jsx("ul",{className:"space-y-2",children:R.map(re=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>A(re.docId,re.viewMode),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("div",{className:"font-semibold text-indigo-400",children:re.docTitle}),b.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:[re.category," (",re.viewMode.toUpperCase(),")"]}),b.jsx("div",{className:"space-y-1 text-sm text-gray-400 italic",children:re.snippets.slice(0,3).map((Z,k)=>b.jsx("div",{className:"truncate text-ellipsis",children:Z},k))})]})},re.docId))}):b.jsx("div",{className:"text-center text-gray-500 p-4",children:"Nenhum resultado encontrado."})}):o.map(re=>{const Z=r.filter(Y=>Y.category===re);if(Z.length===0)return null;const k=(U==null?void 0:U.type)==="category"&&U.id===re,M=!!q[re],ne=(ce==null?void 0:ce.type)==="category"&&ce.id===re;return b.jsxs("div",{className:`transition-opacity ${ne?"opacity-30":""}`,children:[b.jsx("div",{className:"group flex items-center justify-between mb-2 rounded-md",draggable:!k,onDragStart:k?void 0:Y=>W(Y,re),onDragEnd:k?void 0:se,onDragOver:k?void 0:F,onDragLeave:k?void 0:Q,onDrop:k?void 0:Y=>te(Y,re),style:{cursor:k?"default":"grab"},children:k?b.jsx("input",{type:"text",value:I,onChange:Y=>B(Y.target.value),onBlur:P,onKeyDown:fe,autoFocus:!0,className:"w-full bg-gray-900 text-sm font-bold text-indigo-300 uppercase tracking-wider p-1 rounded border border-indigo-500 outline-none"}):b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>Se(re),className:"flex items-center flex-grow text-left text-sm font-bold text-indigo-400 uppercase tracking-wider p-1 -ml-1 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 group","aria-expanded":!M,"aria-controls":`category-section-${kf(re)}`,children:[b.jsx(ty,{isCollapsed:M}),b.jsx("span",{className:"ml-1 group-hover:text-indigo-300 transition-colors",children:re})]}),b.jsx("button",{onClick:()=>$("category",re,re),className:"text-gray-500 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1 ml-2 flex-shrink-0","aria-label":`Edit category ${re}`,children:b.jsx(ey,{})})]})}),!M&&b.jsx("ul",{id:`category-section-${kf(re)}`,className:"space-y-1 pl-4 border-l border-gray-600 ml-1.5",children:Z.map(Y=>{const z=(U==null?void 0:U.type)==="document"&&U.id===Y.id,K=s===Y.id,ge=Y.content.some(H=>H.type==="heading"),D=(ce==null?void 0:ce.type)==="doc"&&ce.id===Y.id;return b.jsxs("li",{draggable:!z,onDragStart:z?void 0:H=>oe(H,Y.id),onDragEnd:z?void 0:se,onDragOver:z?void 0:Ie,onDragLeave:z?void 0:pe,onDrop:z?void 0:H=>j(H,Y.id),className:`rounded-md transition-opacity ${D?"opacity-30":""}`,children:[b.jsx("div",{className:`group flex items-center justify-between w-full pr-1 transition-colors duration-200 rounded-md ${K?"bg-indigo-600":"hover:bg-gray-700"}`,children:z?b.jsx("input",{type:"text",value:I,onChange:H=>B(H.target.value),onBlur:P,onKeyDown:fe,autoFocus:!0,className:"w-full bg-gray-900 text-sm px-3 py-2 rounded-md border border-indigo-500 outline-none"}):b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>Me(Y.id),className:`flex items-start flex-grow text-left px-3 py-2 text-sm w-full rounded-l-md ${K?"font-semibold":"text-gray-300 group-hover:text-white"}`,style:{cursor:"grab"},"aria-expanded":K&&ge?!le:void 0,"aria-controls":K&&ge?`doc-headings-${Y.id}`:void 0,children:[b.jsx("span",{className:"w-4 mr-1 flex-shrink-0 mt-1",children:K&&ge&&b.jsx(ty,{isCollapsed:le})}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("span",{className:"block truncate",title:Y.title,children:Y.title}),K&&Y.lastEdited&&b.jsx("div",{className:"text-xs font-normal text-indigo-200/80 -mt-0.5",children:WS(Y.lastEdited)})]})]}),b.jsxs("div",{className:"flex items-center flex-shrink-0",children:[b.jsx("button",{onClick:()=>y(Y.id),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Find references for ${Y.title}`,title:`Encontrar referências para ${Y.title}`,children:b.jsx($S,{})}),b.jsx("button",{onClick:()=>$("document",Y.id,Y.title),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Edit title for ${Y.title}`,children:b.jsx(ey,{})})]})]})}),K&&ge&&!le&&b.jsx("ul",{id:`doc-headings-${Y.id}`,className:"pl-4 mt-1 space-y-1 border-l border-gray-600 ml-3",children:Y.content.filter(H=>H.type==="heading").map((H,N)=>{const v=kf(H.text),w=_=>{switch(_){case 1:return"pl-3";case 2:return"pl-6";case 3:return"pl-9";default:return"pl-3"}};return b.jsx("li",{children:b.jsx("a",{href:`#${v}`,onClick:_=>{_.preventDefault();const J=document.getElementById(v);J&&J.scrollIntoView({behavior:"smooth"})},className:`block w-full text-left py-1 text-xs text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors ${w(H.level)}`,children:H.text})},`${Y.id}-heading-${N}`)})})]},Y.id)})})]},re)})}),b.jsxs("footer",{className:"p-4 border-t border-gray-700 text-xs text-gray-400",children:[b.jsxs("div",{className:"font-semibold uppercase tracking-wider mb-2",children:["Estatísticas (",e.split(" ")[0],")"]}),b.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[b.jsx("div",{children:"Documentos:"}),b.jsx("div",{className:"font-bold text-white text-right",children:r.length}),b.jsx("div",{children:"Categorias:"}),b.jsx("div",{className:"font-bold text-white text-right",children:o.length}),b.jsx("div",{children:"Palavras:"}),b.jsx("div",{className:"font-bold text-white text-right",children:T.toLocaleString("pt-BR")}),b.jsx("div",{className:"text-gray-500",children:"Tokens (est.):"}),b.jsxs("div",{className:"font-bold text-gray-500 text-right",children:["~",(T/.75).toLocaleString("pt-BR")]})]})]})]})},Wv=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),ZS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),$v=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 48 48",children:[b.jsx("path",{fill:"#4CAF50",d:"M32.4,18.3l-7.4-12.8L10.3,34.4l7.4,12.8L32.4,18.3z"}),b.jsx("path",{fill:"#FFC107",d:"M10.3,12.8L2.9,25.6l14.7,8.5l7.4-12.8L10.3,12.8z"}),b.jsx("path",{fill:"#2196F3",d:"M45.1,25.6L32.4,47.2l-7.4-12.8L40,12.8L45.1,25.6z"})]}),QS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),ry=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4-2.245 4.5 4.5 0 118.4-2.475c0 1.039-.44 2.002-1.215 2.754a3 3 0 00-1.008 2.836z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 5.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z"})]}),e1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456l1.178.398-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),t1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),Xv=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3v18M3 3h9M3 12h9m-9 9h9M15 3h6m-3 0v18"})}),n1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),r1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12M8.25 17.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),i1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),o1=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})]}),a1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:b.jsx("path",{fillRule:"evenodd",d:"M9.191 2.992c.213.385.418.77.615 1.156a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038zM3 9.75A.75.75 0 013.75 9h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 9.75zm16.491-6.758a.75.75 0 011.107-.038 8.25 8.25 0 011.538 3.327c.079.316.153.636.223.959a.75.75 0 01-.58.871 8.25 8.25 0 00-3.612-.387l-.054.022a.75.75 0 11-.84-1.01c.197-.386.402-.77.615-1.156zM18 9.75a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm-9.841 7.242a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038c.213.385.418.77.615 1.156zm8.682 1.01a.75.75 0 00.84-1.01c-.197-.386-.402-.77-.615-1.156a.75.75 0 00-1.107-.038 8.25 8.25 0 00-1.538 3.327c-.079.316-.153.636-.223.959a.75.75 0 00.58.871 8.25 8.25 0 013.612-.387l.054.022z",clipRule:"evenodd"})}),s1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),l1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Qd=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),u1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),Dd=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),c1=()=>b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 p-8",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Welcome to your GDD"}),b.jsx("p",{className:"mt-2 max-w-md",children:'Select a document from the sidebar to view its content, or use the "Integrate New Idea" button to add new concepts with the help of AI.'})]}),Uf=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",f1=({onClick:t})=>b.jsx("button",{onClick:t,className:"heading-level-button p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Alterar nível do título",children:b.jsx(Xv,{})}),Io=({onClick:t})=>b.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-red-600 hover:text-white transition-all",title:"Apagar bloco",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),iy=({onClick:t})=>b.jsx("div",{className:"absolute inset-x-0 -top-4 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10",children:b.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md",title:"Adicionar bloco",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})}),d1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),h1=({document:t,allDocuments:e,onNavigate:r,onRefineRequest:o,onFindReferences:s,onUpdateBlock:c,onUpdateBlockContent:d,onSetContent:h,scrollToHeading:p,onDidScrollToHeading:m,onOpenImageGenerationModal:y,docSearchQuery:T,docSearchCurrentIndex:S,onDocSearchResultsChange:E})=>{const[R,A]=Ne.useState(null),[U,C]=Ne.useState(null),[I,B]=Ne.useState(null),[q,G]=Ne.useState(""),le=Ne.useRef(null),ae=Ne.useRef(null),ce=Ne.useRef(null),[O,Se]=Ne.useState(null),[Me,$]=Ne.useState(0),[de,P]=Ne.useState(null),[fe,se]=Ne.useState([]),oe=H=>H?H.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"";Ne.useEffect(()=>{if(I&&ae.current){const H=ae.current;H.focus(),H.select(),H.style.height="auto",H.style.height=`${H.scrollHeight}px`}},[I]),Ne.useEffect(()=>{if(!T.trim()||!t){se([]),E(0);return}const H=oe(T);if(!H)return;const N=[],v=(w,_)=>{if(!w)return;const J=oe(w);let ee=0;for(;(ee=J.indexOf(H,ee))!==-1;)N.push({blockIndex:N.length,itemIndex:_,start:ee,end:ee+T.length,ref:ws.createRef()}),ee+=1};t.content.forEach((w,_)=>{const J=N.length;w.type==="heading"||w.type==="paragraph"||w.type==="blockquote"?v(w.text):w.type==="list"&&Array.isArray(w.items)&&typeof w.items[0]=="string"?w.items.forEach((ee,X)=>v(ee,X)):w.type==="definition_list"&&Array.isArray(w.items)?w.items.forEach((ee,X)=>{v(ee.term,`dl-${X}-term`),v(ee.description,`dl-${X}-desc`)}):w.type==="image"&&v(w.caption);for(let ee=J;ee<N.length;ee++)N[ee].blockIndex=_}),se(N),E(N.length)},[T,t,E]),Ne.useEffect(()=>{var H;S!==-1&&fe[S]&&((H=fe[S].ref.current)==null||H.scrollIntoView({behavior:"smooth",block:"center"}))},[S,fe]),Ne.useEffect(()=>{if(p&&t){const H=window.document.getElementById(p);H&&(H.scrollIntoView({behavior:"smooth",block:"start"}),H.classList.add("highlight-scroll"),setTimeout(()=>{H.classList.remove("highlight-scroll")},2e3)),m()}},[p,t,m]),Ne.useEffect(()=>{const H=N=>{R&&N.target instanceof Element&&!N.target.closest(".refine-popup")&&A(null),U&&N.target instanceof Element&&!N.target.closest(".heading-level-popup, .heading-level-button")&&C(null),O&&N.target instanceof Element&&!N.target.closest(".add-block-menu")&&Se(null)};return window.document.addEventListener("mousedown",H),()=>{window.document.removeEventListener("mousedown",H)}},[R,U,O]);const Ie=()=>{var N;if(!t||I)return;const H=window.getSelection();if(H&&!H.isCollapsed&&H.rangeCount>0){const v=H.getRangeAt(0);let w=v.startContainer.parentElement;if(!((N=le.current)!=null&&N.contains(w))){A(null);return}const _=w==null?void 0:w.closest("[data-block-index]");if(!_){A(null);return}const J=_.getAttribute("data-block-index");if(!J)return;const ee=parseInt(J,10),X=t.content[ee];let we,ke="";if(X.type==="list"&&"items"in X&&Array.isArray(X.items)&&typeof X.items[0]=="string"){const Ge=w==null?void 0:w.closest("[data-item-index]");if(Ge){const He=Ge.getAttribute("data-item-index");He&&(we=parseInt(He,10),ke=X.items[we])}else{A(null);return}}else if(X.type==="heading"||X.type==="paragraph"||X.type==="blockquote")ke=X.text;else if(X.type==="image")ke=X.caption;else{A(null);return}if(!ke){A(null);return}const Ee=v.getBoundingClientRect(),Be=le.current.getBoundingClientRect();A({top:Ee.top-Be.top-40,left:Ee.left-Be.left+Ee.width/2-16,docId:t.id,blockIndex:ee,itemIndex:we,text:ke})}else R&&setTimeout(()=>A(null),100)},pe=(H,N,v)=>{A(null),B({blockIndex:H,itemIndex:v}),G(N)},j=()=>{B(null),G("")},W=()=>{if(!t||I===null){j();return}const H=t.content[I.blockIndex];let N="";if(H.type==="list"&&typeof I.itemIndex=="number"?N=H.items[I.itemIndex]:H.type==="heading"||H.type==="paragraph"||H.type==="blockquote"?N=H.text:H.type==="image"&&(N=H.caption),q!==N){const v=typeof I.itemIndex=="number"?I.itemIndex:void 0;c(t.id,I.blockIndex,q,v)}j()},F=H=>{G(H.target.value),H.target.style.height="auto",H.target.style.height=`${H.target.scrollHeight}px`},Q=H=>{H.key==="Escape"?(H.preventDefault(),j()):H.key==="Enter"&&(H.metaKey||H.ctrlKey)&&(H.preventDefault(),W())},te=H=>{if(!t)return;const N=t.content.filter((v,w)=>w!==H);h(t.id,N)},re=(H,N)=>{H.preventDefault();const v=H.currentTarget.getBoundingClientRect(),w=le.current.getBoundingClientRect();Se({index:N,top:v.top-w.top-45,left:v.left-w.left+v.width/2})},Z=(H,N)=>{var w;if(!t)return;if(H==="image"){$(N),(w=ce.current)==null||w.click(),Se(null);return}if(H==="generate-image-ai"){y(t.id,N),Se(null);return}let v=null;switch(H){case"heading":v={type:"heading",level:2,text:"Novo Título"};break;case"paragraph":v={type:"paragraph",text:"Novo parágrafo."};break;case"list":v={type:"list",style:"unordered",items:["Item 1"]};break;case"blockquote":v={type:"blockquote",text:"Citação."};break}if(v){const _=[...t.content];_.splice(N,0,v),h(t.id,_),setTimeout(()=>{(v==null?void 0:v.type)==="list"?pe(N,v.items[0],0):"text"in v&&pe(N,v.text)},50)}Se(null)},k=H=>{var w;const N=(w=H.target.files)==null?void 0:w[0];if(!N||!t)return;const v=new FileReader;v.onload=_=>{var ee;const J=(ee=_.target)==null?void 0:ee.result;if(J){const X={type:"image",id:`img-${Date.now()}`,src:J,caption:"Insira uma legenda para a imagem."},we=[...t.content];we.splice(Me,0,X),h(t.id,we),setTimeout(()=>pe(Me,X.caption),50)}},v.readAsDataURL(N),H.target&&(H.target.value="")},M=(H,N,v)=>{const w=H.currentTarget.getBoundingClientRect(),_=le.current.getBoundingClientRect();C({top:w.bottom-_.top+4,left:w.left-_.left,blockIndex:N,currentLevel:v})},{docTitleMap:ne,headingMap:Y}=Ne.useMemo(()=>{const H=new Map,N=new Map;return e.forEach(v=>{H.set(v.title.toLowerCase(),v.id),v.content.forEach(w=>{w.type==="heading"&&w.text&&(N.has(w.text.toLowerCase())||N.set(w.text.toLowerCase(),{docId:v.id,slug:Uf(w.text)}))})}),{docTitleMap:H,headingMap:N}},[e]),z=(H,N,v)=>{if(!H)return[];const w=[],_=/\[\[(.*?)\]\]/g;let J;for(;(J=_.exec(H))!==null;)w.push({start:J.index,end:J.index+J[0].length,type:"link",data:J[0]});fe.filter(Ee=>Ee.blockIndex===N&&Ee.itemIndex===v).forEach(Ee=>{const Be=fe.findIndex(Ge=>Ge===Ee);w.push({start:Ee.start,end:Ee.end,type:Be===S?"active-highlight":"highlight",data:H.substring(Ee.start,Ee.end),ref:Ee.ref})});const X=w.filter((Ee,Be,Ge)=>Ee.type.includes("highlight")?!Ge.some(He=>He.type==="link"&&Ee.start>=He.start&&Ee.end<=He.end):!0);if(X.length===0)return[H];X.sort((Ee,Be)=>Ee.start-Be.start);const we=[];let ke=0;return X.forEach((Ee,Be)=>{Ee.start>ke&&we.push(H.substring(ke,Ee.start));const Ge=Ee.data;if(Ee.type==="link"){const He=Ge.slice(2,-2);let nt=He,_t=He,$t=!1;if(He.includes("|")){const kt=He.split("|");nt=kt[0],_t=kt.slice(1).join("|"),$t=!0}if(nt.startsWith("img:")){const kt=nt.substring(4),it=t==null?void 0:t.content.find(Ft=>Ft.type==="image"&&Ft.id===kt);it?we.push(b.jsx("span",{onMouseEnter:Ft=>{const Mt=Ft.currentTarget.getBoundingClientRect();P({src:it.src,top:Mt.bottom+5,left:Mt.left})},onMouseLeave:()=>P(null),className:"text-green-400 font-semibold hover:underline bg-green-900/30 px-1 py-0.5 rounded-sm transition-colors cursor-pointer",children:$t?_t:`img:${kt.slice(-4)}`},`${Be}-imglink`)):we.push(b.jsx("span",{className:"text-red-400 line-through px-1",title:`Imagem não encontrada: "${kt}"`,children:$t?_t:kt},`${Be}-imglink`))}else{let kt=nt,it;nt.includes("#")&&([kt,it]=nt.split("#",2));const Ft=ne.get(kt.toLowerCase());if(Ft){const Mt=it?Uf(it):void 0;we.push(b.jsx("button",{onClick:()=>r(Ft,Mt),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:_t},`${Be}-link`))}else if(!it&&Y.has(kt.toLowerCase())){const Mt=Y.get(kt.toLowerCase());we.push(b.jsx("button",{onClick:()=>r(Mt.docId,Mt.slug),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:_t},`${Be}-link`))}else we.push(b.jsx("span",{className:"text-red-400 line-through px-1",title:`Link não encontrado: "${nt}"`,children:_t},`${Be}-link`))}}else we.push(b.jsx("mark",{ref:Ee.ref,className:Ee.type==="active-highlight"?"search-highlight-active":"highlight",children:Ge},`${Be}-highlight`));ke=Ee.end}),ke<H.length&&we.push(H.substring(ke)),we};if(!t)return b.jsx(c1,{});const K=H=>{switch(H){case 1:return"!text-2xl !font-bold !text-indigo-400 !border-b !border-gray-700 !pb-2";case 2:return"!text-xl !font-semibold !text-gray-200 !mt-8 !mb-2";case 3:return"!text-lg !font-medium !text-gray-300 !mt-6 !mb-1";default:return"!text-2xl !font-bold !text-indigo-400"}},ge=()=>"w-full bg-transparent border-none focus:ring-0 resize-none p-0 m-0 overflow-hidden font-inherit leading-relaxed",D=({state:H,onAddBlock:N})=>{const v=Ne.useRef(null),w=[{type:"heading",title:"Título",icon:b.jsx(Xv,{})},{type:"paragraph",title:"Parágrafo",icon:b.jsx(n1,{})},{type:"list",title:"Lista",icon:b.jsx(r1,{})},{type:"blockquote",title:"Citação",icon:b.jsx(a1,{})},{type:"image",title:"Imagem",icon:b.jsx(i1,{})},{type:"generate-image-ai",title:"Gerar Imagem com IA",icon:b.jsx(o1,{})}];return b.jsx("div",{ref:v,className:"add-block-menu absolute z-20 flex items-center space-x-1 bg-gray-900 border border-gray-700 p-1 rounded-lg shadow-lg",style:{top:`${H.top}px`,left:`${H.left}px`,transform:"translateX(-50%)"},children:w.map(_=>b.jsx("button",{title:_.title,onClick:()=>N(_.type,H.index),className:"p-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors",children:_.icon},_.type))})};return b.jsxs("div",{className:"p-4 md:p-8 lg:p-12 prose prose-invert prose-lg max-w-4xl mx-auto relative",ref:le,onMouseUp:Ie,children:[b.jsx("input",{type:"file",accept:"image/*",ref:ce,onChange:k,className:"hidden"}),de&&b.jsx("div",{className:"fixed z-50 p-1 bg-gray-900 border border-gray-600 rounded-md shadow-lg",style:{top:de.top,left:de.left,pointerEvents:"none"},children:b.jsx("img",{src:de.src,alt:"Preview",className:"max-w-xs max-h-48 rounded-sm"})}),R&&b.jsx("button",{className:"refine-popup absolute z-20 bg-yellow-400 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center shadow-lg hover:bg-yellow-300 transition-all scale-100 hover:scale-110",style:{top:`${R.top}px`,left:`${R.left}px`},onClick:()=>{o(R.docId,R.blockIndex,R.text,R.itemIndex),A(null)},title:"Aprimorar texto com IA",children:"✨"}),O&&b.jsx(D,{state:O,onAddBlock:Z}),U&&b.jsx("div",{className:"heading-level-popup absolute z-30 bg-gray-700 rounded-md shadow-lg p-1 flex flex-col",style:{top:`${U.top}px`,left:`${U.left}px`},children:[1,2,3].map(H=>b.jsxs("button",{onClick:()=>{d(t.id,U.blockIndex,{level:H}),C(null)},className:`text-left text-sm px-3 py-1 rounded-sm transition-colors ${U.currentLevel===H?"bg-indigo-600 text-white":"hover:bg-gray-600 text-gray-200"}`,children:["Título ",H]},H))}),b.jsxs("div",{className:"mb-8 pb-4 border-b border-gray-700",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("p",{className:"text-indigo-400 font-semibold",children:t.category}),b.jsxs("button",{onClick:()=>s(t.id),className:"flex items-center space-x-2 text-sm text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md px-2 py-1 transition-colors",title:"Encontrar menções a este documento",children:[b.jsx(d1,{}),b.jsx("span",{children:"Encontrar Referências"})]})]}),b.jsx("h1",{className:"text-4xl font-extrabold text-white !mb-0",children:t.title})]}),b.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[Array.isArray(t.content)&&t.content.map((H,N)=>{if(!H)return null;const v=()=>{switch(H.type){case"heading":{const w=(I==null?void 0:I.blockIndex)===N&&I.itemIndex===void 0,_=Uf(H.text),J=`scroll-mt-24 ${K(H.level)}`;return b.jsxs("div",{className:"group relative",children:[!w&&!I&&b.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:[b.jsx(f1,{onClick:ee=>M(ee,N,H.level)}),b.jsx(Io,{onClick:()=>te(N)})]}),(()=>{const ee=z(H.text,N),X={id:_,"data-block-index":N,className:J,onDoubleClick:()=>pe(N,H.text),style:{display:w?"none":void 0}};switch(H.level){case 1:return b.jsx("h2",{...X,children:ee});case 2:return b.jsx("h3",{...X,children:ee});case 3:return b.jsx("h4",{...X,children:ee});default:return b.jsx("h2",{...X,children:ee})}})(),w&&b.jsx("textarea",{ref:ae,value:q,onChange:F,onBlur:W,onKeyDown:Q,className:`${J} ${ge()}`,rows:1})]})}case"paragraph":{const w=(I==null?void 0:I.blockIndex)===N&&I.itemIndex===void 0;return b.jsxs("div",{className:"group relative",children:[!w&&!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:b.jsx(Io,{onClick:()=>te(N)})}),b.jsx("p",{"data-block-index":N,style:{display:w?"none":void 0},onDoubleClick:()=>pe(N,H.text),children:z(H.text,N)}),w&&b.jsx("textarea",{ref:ae,value:q,onChange:F,onBlur:W,onKeyDown:Q,className:ge(),rows:1})]})}case"blockquote":{const w=(I==null?void 0:I.blockIndex)===N&&I.itemIndex===void 0,_="border-l-4 border-gray-500 pl-4 italic text-gray-400";return b.jsxs("div",{className:"group relative",children:[!w&&!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:b.jsx(Io,{onClick:()=>te(N)})}),b.jsx("blockquote",{"data-block-index":N,className:_,style:{display:w?"none":void 0},onDoubleClick:()=>pe(N,H.text),children:z(H.text,N)}),w&&b.jsx("textarea",{ref:ae,value:q,onChange:F,onBlur:W,onKeyDown:Q,className:`${_} ${ge()}`,rows:1})]})}case"list":{const w=H,_=Array.isArray(w.items)?w.items:[];if(_.length===0)return null;const J=w.style==="ordered"?"ol":"ul";return b.jsxs("div",{className:"group relative",children:[!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Io,{onClick:()=>te(N)})}),b.jsx(J,{"data-block-index":N,className:"pl-8 space-y-2",children:_.map((ee,X)=>{const we=(I==null?void 0:I.blockIndex)===N&&I.itemIndex===X;return b.jsxs("li",{"data-item-index":X,onDoubleClick:()=>pe(N,ee,X),children:[b.jsx("div",{style:{display:we?"none":void 0},children:z(ee,N,X)}),we&&b.jsx("textarea",{ref:ae,value:q,onChange:F,onBlur:W,onKeyDown:Q,className:ge(),rows:1})]},X)})})]})}case"definition_list":{const w=H,_=Array.isArray(w.items)?w.items:[];return _.length===0?null:b.jsxs("div",{className:"group relative my-4",children:[!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Io,{onClick:()=>te(N)})}),b.jsx("dl",{"data-block-index":N,children:_.map((J,ee)=>b.jsxs("div",{className:"mb-2",children:[b.jsx("dt",{className:"font-semibold text-gray-200",children:z(J.term,N,`dl-${ee}-term`)}),b.jsx("dd",{className:"ml-4 text-gray-400",children:z(J.description,N,`dl-${ee}-desc`)})]},ee))})]})}case"image":{const w=(I==null?void 0:I.blockIndex)===N&&I.itemIndex===void 0,_="text-center text-sm italic text-gray-400 mt-2";return b.jsxs("figure",{id:H.id,"data-block-index":N,className:"my-6 not-prose",children:[b.jsxs("div",{className:"group relative",children:[!w&&!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:b.jsx(Io,{onClick:()=>te(N)})}),b.jsx("img",{src:H.src,alt:H.caption,className:"w-full rounded-md shadow-lg"})]}),b.jsx("figcaption",{className:_,style:{display:w?"none":void 0},onDoubleClick:()=>pe(N,H.caption),children:z(H.caption,N)}),w&&b.jsx("textarea",{ref:ae,value:q,onChange:F,onBlur:W,onKeyDown:Q,className:`${_} ${ge()}`,rows:1})]})}default:return null}};return b.jsxs("div",{className:"group relative",children:[b.jsx(iy,{onClick:w=>re(w,N)}),v()]},N)}),Array.isArray(t.content)&&b.jsx("div",{className:"group relative h-8",children:b.jsx(iy,{onClick:H=>re(H,t.content.length)})}),b.jsx("div",{className:"mt-12 text-center",children:b.jsx("button",{onClick:H=>Z("paragraph",t.content.length),className:"text-gray-500 hover:text-indigo-400 transition-colors font-semibold text-sm py-2 px-4 rounded-lg hover:bg-gray-800",children:"[ + ] Adicionar novo bloco"})})]})]})},p1=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[s,c]=Ne.useState(""),[d,h]=Ne.useState(!1),[p,m]=Ne.useState(65e3),[y,T]=Ne.useState(1e4);if(!t)return null;const S=I=>{I.preventDefault(),s.trim()&&(r(s,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=I=>{const B=parseInt(I.target.value,10);m(B),y>=B&&T(Math.max(0,B-512))},R=I=>{const B=parseInt(I.target.value,10);T(B)},A=o==="Secreta"?"Integrar Ideia Estratégica":`Integrar Nova Ideia ao ${o}`,U=o==="Secreta"?"Descreva uma ideia de alto nível, segredo de enredo, ou estratégia de monetização. A IA analisará o GDD e Roteiro como contexto, mas só modificará seus documentos secretos.":`Cole qualquer texto aqui - um novo documento, uma ideia, um parágrafo para adicionar, notas de reunião, etc. A IA irá analisá-lo e sugerir a melhor forma de integrá-lo ao ${o}.`,C=o==="Secreta"?"Ex: O personagem Kael é na verdade um clone do vilão principal, e a profecia é uma farsa para manipular ambos...":"Ex: Vamos adicionar um sistema de criação onde os jogadores podem combinar fragmentos elementais para criar novos feitiços...";return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:I=>I.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:A}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsx("p",{className:"text-gray-400 mb-4",children:U}),b.jsxs("form",{onSubmit:S,children:[b.jsx("textarea",{value:s,onChange:I=>c(I.target.value),placeholder:C,className:"w-full h-64 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configurações Avançadas"]}),d&&b.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[b.jsxs("div",{children:[b.jsxs("label",{htmlFor:"maxOutputTokens",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Saída: ",b.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),b.jsx("input",{id:"maxOutputTokens",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho máximo da resposta da IA. Valores mais altos permitem mudanças mais complexas."})]}),b.jsxs("div",{children:[b.jsxs("label",{htmlFor:"thinkingBudget",className:"block text-sm font-medium text-gray-300",children:["Orçamento de Raciocínio (Thinking Budget): ",b.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),b.jsx("input",{id:"thinkingBudget",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:R,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rápidas, mas de menor qualidade.'})]})]})]}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Deixar a IA Integrar"})]})]})]})})},m1=["Corrigir ortografia e gramática","Tornar o texto mais formal","Simplificar a linguagem","Expandir esta ideia","Resumir este ponto"],g1=({isOpen:t,onClose:e,onSubmit:r,initialText:o,contextType:s})=>{const[c,d]=Ne.useState(""),[h,p]=Ne.useState(!1);if(Ne.useEffect(()=>{t&&(d(""),p(!1))},[t]),!t)return null;const m=y=>{y.preventDefault(),c.trim()&&r(c,h)};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:y=>y.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-white flex items-center",children:"✨ Aprimorar Texto com IA"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Texto Original:"}),b.jsx("blockquote",{className:"bg-gray-900/50 border-l-4 border-gray-600 p-3 rounded-r-md text-gray-300 max-h-32 overflow-y-auto",children:o})]}),b.jsxs("form",{onSubmit:m,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Sugestões:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:m1.map(y=>b.jsx("button",{type:"button",onClick:()=>d(y),className:"px-3 py-1 text-sm bg-gray-700 hover:bg-indigo-600 rounded-full transition-colors",children:y},y))})]}),b.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:"Ou escreva sua própria instrução aqui...",className:"w-full h-24 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),b.jsx("div",{className:"mt-4",children:b.jsxs("label",{className:"flex items-center text-gray-400 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:h,onChange:y=>p(y.target.checked),className:"w-4 h-4 bg-gray-900 border-gray-600 rounded text-indigo-600 focus:ring-indigo-500"}),b.jsxs("span",{className:"ml-2 text-sm select-none",children:["Incluir contexto (enviar todo o ",s," para a IA)"]})]})}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Aprimorar"})]})]})]})})},y1=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[s,c]=Ne.useState(""),[d,h]=Ne.useState(!1),[p,m]=Ne.useState(65e3),[y,T]=Ne.useState(1e4);if(!t)return null;const S=U=>{U.preventDefault(),s.trim()&&(r(s,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=U=>{const C=parseInt(U.target.value,10);m(C),y>=C&&T(Math.max(0,C-512))},R=U=>{const C=parseInt(U.target.value,10);T(C)},A=o==="GDD"?"Ex: Crie uma nova categoria 'Inimigos' e adicione documentos para 'Grunt' e 'Brute' com base na lore existente...":"Ex: Divida o Ato 1 em mais duas missões, focando na introdução da mecânica de furtividade antes do primeiro chefe.";return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:U=>U.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Atualização Global do ",o," com IA"]}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsxs("p",{className:"text-gray-400 mb-4",children:["Forneça uma instrução de alto nível. A IA analisará todo o ",o," e aplicará as mudanças necessárias, como criar novos documentos, atualizar seções existentes e garantir a consistência dos links."]}),b.jsxs("form",{onSubmit:S,children:[b.jsx("textarea",{value:s,onChange:U=>c(U.target.value),placeholder:A,className:"w-full h-48 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configurações Avançadas"]}),d&&b.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[b.jsxs("div",{children:[b.jsxs("label",{htmlFor:"maxOutputTokensGlobal",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Saída: ",b.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),b.jsx("input",{id:"maxOutputTokensGlobal",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho máximo da resposta da IA. Valores mais altos permitem mudanças mais complexas."})]}),b.jsxs("div",{children:[b.jsxs("label",{htmlFor:"thinkingBudgetGlobal",className:"block text-sm font-medium text-gray-300",children:["Orçamento de Raciocínio (Thinking Budget): ",b.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),b.jsx("input",{id:"thinkingBudgetGlobal",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:R,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rápidas, mas de menor qualidade.'})]})]})]}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsxs("button",{type:"submit",disabled:!s.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:["Atualizar ",o]})]})]})]})})},v1=({message:t,currentTokens:e,estimatedTokens:r})=>{const o=r&&e&&r>0?e/r*100:0,s=typeof e=="number"&&typeof r=="number"&&r>0;return b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 text-white",children:[b.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b.jsx("p",{className:"text-xl font-semibold mb-4",children:t}),s&&b.jsxs("div",{className:"w-80 text-center",children:[b.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:b.jsx("div",{className:"bg-indigo-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(o,100)}%`}})}),b.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[e.toLocaleString("pt-BR")," / ",r.toLocaleString("pt-BR")," tokens gerados (estimativa)"]})]})]})},w1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),x1=({isOpen:t,onClose:e,targetDocTitle:r,references:o,onNavigate:s})=>{if(!t)return null;const c=d=>{s(d),e()};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all",onClick:d=>d.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-start mb-6",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(w1,{}),b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-white",children:['Referências a "',r,'"']}),b.jsxs("p",{className:"text-gray-400 text-sm",children:[o.length," menção(ões) encontrada(s)."]})]})]}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),o.length>0?b.jsx("ul",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:o.map((d,h)=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>c(d.docId),className:"w-full text-left bg-gray-900/50 p-4 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("div",{className:"font-semibold text-indigo-400 text-lg",children:d.docTitle}),b.jsx("div",{className:"text-xs text-gray-500 mb-2 uppercase tracking-wider",children:d.category}),b.jsxs("blockquote",{className:"text-gray-300 border-l-2 border-gray-600 pl-3 text-sm italic",children:["...",d.snippet,"..."]})]})},h))}):b.jsx("div",{className:"text-center py-10",children:b.jsx("p",{className:"text-gray-400",children:"Nenhuma referência encontrada para este documento."})})]})})},oy=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75a7.5 7.5 0 01-7.5-7.5"})]}),T1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),S1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v18m-4.5-13.5h9M5.25 6H18.75M8.25 4.5V3.75a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5V4.5m-6 13.5V18a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5v.75"})}),E1=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),b1=({isOpen:t,onToggle:e,messages:r,isLoading:o,onSendMessage:s,onClearChat:c})=>{const[d,h]=Ne.useState(""),p=Ne.useRef(null);Ne.useEffect(()=>{var T;(T=p.current)==null||T.scrollIntoView({behavior:"smooth"})},[r,o]);const m=()=>{d.trim()&&!o&&(s(d),h(""))},y=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),m())};return t?b.jsxs("div",{className:"fixed bottom-4 right-4 w-[calc(100vw-2rem)] max-w-[400px] h-[70vh] max-h-[600px] bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl flex flex-col z-50 animate-fade-in",children:[b.jsxs("header",{className:"flex items-center justify-between p-4 bg-gray-900/50 rounded-t-2xl border-b border-gray-700",children:[b.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[b.jsx(oy,{}),b.jsx("span",{className:"ml-2",children:"Consulta Avançada"})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",title:"Limpar chat",disabled:r.length===0,children:b.jsx(S1,{})}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:b.jsx(T1,{})})]})]}),b.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[r.length===0&&b.jsx("div",{className:"text-center text-gray-400 text-sm h-full flex items-center justify-center",children:b.jsx("p",{children:'Faça uma pergunta sobre o GDD ou o Roteiro. Por exemplo: "Qual o loop de gameplay principal?"'})}),r.map((T,S)=>b.jsx("div",{className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:b.jsx("div",{className:`max-w-[80%] rounded-xl px-4 py-2 ${T.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-200"}`,children:b.jsx("p",{className:"text-sm whitespace-pre-wrap",children:T.text})})},S)),o&&b.jsx("div",{className:"flex justify-start",children:b.jsx("div",{className:"max-w-[80%] rounded-xl px-4 py-2 bg-gray-700 text-gray-200",children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"})]})})}),b.jsx("div",{ref:p})]}),b.jsx("div",{className:"p-4 border-t border-gray-700",children:b.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg pr-2",children:[b.jsx("input",{type:"text",value:d,onChange:T=>h(T.target.value),onKeyPress:y,placeholder:"Pergunte algo...",className:"w-full bg-transparent p-3 text-sm text-gray-200 focus:outline-none",disabled:o}),b.jsx("button",{onClick:m,disabled:!d.trim()||o,className:"p-2 rounded-md text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",children:b.jsx(E1,{})})]})})]}):b.jsx("button",{onClick:e,className:"fixed bottom-4 right-4 md:bottom-6 md:right-6 bg-indigo-600 text-white rounded-full p-4 shadow-lg hover:bg-indigo-500 transition-transform hover:scale-110 z-50",title:"Consulta Avançada",children:b.jsx(oy,{})})},_1=({isOpen:t,onClose:e,insight:r})=>{const[o,s]=Ne.useState(!1);if(!t||!r)return null;const{summary:c,thinkingProcess:d,rawJson:h}=r;let p="";try{p=JSON.stringify(JSON.parse(h),null,2)}catch{p="Erro ao formatar JSON: "+h}return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Análise da Última Ação da IA"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsxs("div",{className:"overflow-y-auto pr-4 -mr-4 space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Resumo da IA"}),b.jsxs("p",{className:"bg-gray-900/50 p-3 rounded-md text-gray-300 italic",children:['"',c,'"']})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Processo de Raciocínio"}),b.jsx("ol",{className:"list-decimal list-inside bg-gray-900/50 p-4 rounded-md text-gray-300 space-y-2",children:d.map((m,y)=>b.jsx("li",{children:m},y))})]}),b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>s(!o),className:"text-sm text-teal-400 hover:text-teal-300 focus:outline-none mb-2",children:[o?"Ocultar":"Mostrar"," Saída JSON Bruta"]}),o&&b.jsx("div",{className:"animate-fade-in bg-gray-900 p-4 rounded-md border border-gray-700 max-h-80 overflow-auto",children:b.jsx("pre",{className:"text-xs text-gray-400",children:b.jsx("code",{children:p})})})]})]})]})})},C1=({isOpen:t,onClose:e,onSubmit:r})=>{const[o,s]=Ne.useState("");if(!t)return null;const c=d=>{d.preventDefault(),r(o),s("")};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:d=>d.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerar Imagem com IA"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsx("p",{className:"text-gray-400 mb-4",children:"Opcionalmente, descreva a cena que você quer gerar. A IA usará o contexto do documento (estilo visual, personagens) para criar um prompt detalhado e gerar uma imagem consistente com o GDD."}),b.jsxs("form",{onSubmit:c,children:[b.jsx("textarea",{value:o,onChange:d=>s(d.target.value),placeholder:"Ex: Kael em uma pose de combate, com seu amuleto brilhando intensamente...",className:"w-full h-40 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 transition-colors",children:"Gerar Imagem"})]})]})]})})},A1=({isOpen:t,onClose:e,onUploadLocal:r,onUploadFromUrl:o,isGoogleAuth:s,onGoogleAuthClick:c})=>{const[d,h]=Ne.useState("");if(!t)return null;const p=m=>{m.preventDefault(),d.trim()&&o(d)};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:m=>m.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar GDD & Roteiro"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Do seu computador"}),b.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Carregue um arquivo .json salvo anteriormente a partir desta aplicação."}),b.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md",children:[b.jsx(Wv,{}),b.jsx("span",{className:"ml-2",children:"Escolher Arquivo do Computador"})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:b.jsx("div",{className:"w-full border-t border-gray-600"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Ou"})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"De um link do Google Drive"}),b.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Cole um link compartilhável de um arquivo .json. Arquivos públicos carregarão diretamente."}),b.jsxs("form",{onSubmit:p,className:"flex items-start space-x-2",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsx("input",{type:"url",value:d,onChange:m=>h(m.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),!s&&b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Para arquivos privados, você precisará"," ",b.jsx("button",{type:"button",onClick:c,className:"text-indigo-400 hover:underline font-semibold",children:"conectar sua conta do Google"}),"."]}),s&&b.jsxs("p",{className:"text-xs text-green-400 mt-1 flex items-center",children:[b.jsx($v,{})," ",b.jsx("span",{className:"ml-1",children:"Conectado ao Google. Arquivos privados podem ser carregados."})]})]}),b.jsx("button",{type:"submit",disabled:!d.trim(),className:"px-4 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 transition-colors flex-shrink-0",children:"Carregar"})]})]})]})]})})},R1=({isOpen:t,onClose:e,isClosable:r=!0,initialUrl:o,initialKey:s,onSaveSettings:c,onUploadClick:d,onDownloadClick:h,isSyncing:p})=>{const[m,y]=Ne.useState(o),[T,S]=Ne.useState(s),[E,R]=Ne.useState(!1);if(!t)return null;const A=()=>{c(m,T)},U=()=>{r&&e()},C=m&&T;return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:U,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-xl transform transition-all animate-dropdown",onClick:I=>I.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[b.jsx(Qd,{}),b.jsx("span",{className:"ml-3",children:"Sincronização na Nuvem"})]}),b.jsx("button",{onClick:U,className:"text-gray-400 hover:text-white text-3xl leading-none disabled:text-gray-600 disabled:cursor-not-allowed",disabled:!r,children:"×"})]}),b.jsxs("div",{className:"space-y-6",children:[!r&&b.jsx("div",{className:"p-3 bg-yellow-900/40 border border-yellow-700 rounded-md text-sm text-yellow-300",children:b.jsx("p",{children:"Por favor, insira e salve suas credenciais de sincronização na nuvem para começar a usar a aplicação."})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Configuração"}),b.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Insira os detalhes do seu Worker Cloudflare e a chave de acesso para ativar a sincronização. As informações serão salvas localmente no seu navegador."}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"worker-url",className:"block text-sm font-medium text-gray-300 mb-1",children:"URL do Worker"}),b.jsx("input",{id:"worker-url",type:"url",value:m,onChange:I=>y(I.target.value),placeholder:"https://meu-gdd.meu-usuario.workers.dev",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"access-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chave de Administrador"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"access-key",type:E?"text":"password",value:T,onChange:I=>S(I.target.value),placeholder:"Sua chave secreta",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-10"}),b.jsx("button",{type:"button",onClick:()=>R(!E),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-300",title:E?"Ocultar chave":"Mostrar chave",children:E?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"})}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.644l.66-1.229a1.012 1.012 0 000-.644l-.66-1.229a1.012 1.012 0 01.644-1.666l1.229.66a1.012 1.012 0 00.644 0l1.229-.66a1.012 1.012 0 011.666.644l-.66 1.229a1.012 1.012 0 000 .644l.66 1.229a1.012 1.012 0 01-.644 1.666l-1.229-.66a1.012 1.012 0 00-.644 0l-1.229.66a1.012 1.012 0 01-1.666-.644l.66-1.229a1.012 1.012 0 000-.644l-.66-1.229z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})]}),b.jsx("button",{onClick:A,className:"mt-4 w-full px-4 py-2 text-sm font-semibold rounded-md text-white bg-gray-600 hover:bg-gray-500 transition-colors",children:"Salvar Configurações"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:b.jsx("div",{className:"w-full border-t border-gray-600"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Ações"})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:d,disabled:!C||p,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors rounded-md",children:p?"Sincronizando...":"Salvar Versão na Nuvem"}),b.jsx("button",{onClick:h,disabled:!C||p,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors rounded-md",children:p?"Sincronizando...":"Carregar Versão da Nuvem"})]}),!C&&b.jsx("p",{className:"text-xs text-yellow-500 mt-2 text-center",children:"Salve a URL e a Chave para ativar as ações de sincronização."})]})]})]})})},N1=({isOpen:t,onClose:e,onConfirm:r,title:o,message:s})=>t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:c=>c.stopPropagation(),children:[b.jsxs("div",{className:"flex items-start",children:[b.jsx("div",{className:"mr-4 flex-shrink-0",children:b.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-900/50 flex items-center justify-center",children:b.jsx(u1,{})})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:o}),b.jsx("p",{className:"text-gray-400 mt-2",children:s})]})]}),b.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 rounded-md font-semibold text-white bg-yellow-600 hover:bg-yellow-500 transition-colors",children:"Confirmar"})]})]})}):null,D1=({isOpen:t,onClose:e,onSave:r,isSaving:o})=>{const[s,c]=Ne.useState("");if(!t)return null;const d=h=>{h.preventDefault(),s.trim()&&r(s)};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:h=>h.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Salvar Versão na Nuvem"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsx("p",{className:"text-gray-400 mb-4",children:'Dê um nome a esta versão para identificá-la facilmente mais tarde. Ex: "Após a reunião de design".'}),b.jsxs("form",{onSubmit:d,children:[b.jsx("input",{type:"text",value:s,onChange:h=>c(h.target.value),placeholder:"Nome da Versão",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,disabled:o,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:!s.trim()||o,className:"px-6 py-2 rounded-md font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:o?"Salvando...":"Salvar"})]})]})]})})},M1=t=>{if(!t)return"Data desconhecida";try{const e=new Date(t);return new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return"Data inválida"}},ay=({title:t,versions:e,onLoadVersion:r})=>b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:t}),e.length>0?b.jsx("ul",{className:"space-y-2",children:e.map(o=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>r(o.id),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.name&&b.jsx("div",{className:"font-semibold text-indigo-400",children:o.name}),b.jsx("div",{className:"text-sm text-gray-400",children:M1(o.timestamp)})]})},o.id))}):b.jsx("p",{className:"text-sm text-gray-500 italic",children:"Nenhuma versão encontrada."})]}),I1=({isOpen:t,onClose:e,onLoadVersion:r,versions:o,isLoading:s,error:c})=>t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all animate-dropdown flex flex-col max-h-[90vh]",onClick:d=>d.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar Versão da Nuvem"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsxs("div",{className:"overflow-y-auto pr-2 -mr-4",children:[s&&b.jsx("p",{className:"text-center text-gray-400",children:"Buscando versões..."}),c&&b.jsx("p",{className:"text-center text-red-400 bg-red-900/50 p-3 rounded-md",children:c}),o&&b.jsxs("div",{className:"space-y-6",children:[b.jsx(ay,{title:"Versões Manuais",versions:o.manual,onLoadVersion:r}),b.jsx(ay,{title:"Backups Automáticos",versions:o.automatic,onLoadVersion:r})]})]})]})}):null,k1=t=>{if(!t)return"Data desconhecida";try{const e=new Date(t);return new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return"Data inválida"}},U1=({isOpen:t,onClose:e,onConfirm:r,latestVersion:o})=>!t||!o?null:b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:s=>s.stopPropagation(),children:[b.jsxs("div",{className:"flex items-start",children:[b.jsx("div",{className:"mr-4 flex-shrink-0",children:b.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-900/50 flex items-center justify-center text-blue-400",children:b.jsx(Qd,{})})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:"Atualização Disponível na Nuvem"}),b.jsx("p",{className:"text-gray-400 mt-2",children:"Uma versão mais recente dos seus documentos foi encontrada na nuvem. Deseja carregá-la agora?"}),b.jsxs("div",{className:"mt-4 p-3 bg-gray-900/50 rounded-md border border-gray-700",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-200",children:o.name?`Nome: ${o.name}`:"Backup Automático"}),b.jsxs("p",{className:"text-xs text-gray-500",children:["Salvo em: ",k1(o.timestamp)]})]}),b.jsx("p",{className:"text-xs text-yellow-400 mt-3",children:"Atenção: Carregar esta versão substituirá quaisquer alterações locais não salvas."})]})]}),b.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Ignorar"}),b.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 rounded-md font-semibold text-white bg-blue-600 hover:bg-blue-500 transition-colors",children:"Carregar Versão Mais Recente"})]})]})}),L1=({isOpen:t,onClose:e,onUnlock:r})=>{const[o,s]=Ne.useState(""),[c,d]=Ne.useState(null),[h,p]=Ne.useState(!1);if(!t)return null;const m=async y=>{if(y.preventDefault(),d(null),!o.trim()){d("A chave não pode estar em branco.");return}p(!0);try{await r(o)||d("A chave de administrador está incorreta ou a verificação falhou.")}catch(T){d(T instanceof Error?T.message:"Ocorreu um erro de comunicação.")}finally{p(!1)}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:y=>y.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[b.jsx(Dd,{}),b.jsx("span",{className:"ml-2",children:"Acessar Categoria Secreta"})]}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsx("p",{className:"text-gray-400 mb-4",children:"Para visualizar e editar documentos estratégicos, por favor, insira sua chave de Administrador do Worker."}),b.jsxs("form",{onSubmit:m,children:[b.jsx("input",{type:"password",value:o,onChange:y=>{s(y.target.value),d(null)},placeholder:"Sua Chave de Administrador",className:`w-full bg-gray-900 border ${c?"border-red-500":"border-gray-700"} rounded-md p-2 text-sm focus:outline-none focus:ring-2 ${c?"focus:ring-red-500":"focus:ring-indigo-500"}`,autoFocus:!0,disabled:h}),c&&b.jsx("p",{className:"text-red-400 text-sm mt-2",children:c}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,disabled:h,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:!o.trim()||h,className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:h?"Verificando...":"Desbloquear"})]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let P1,B1;function O1(){return{geminiUrl:P1,vertexUrl:B1}}function F1(t,e,r,o){var s,c;if(!(t!=null&&t.baseUrl)){const d=O1();return e?(s=d.vertexUrl)!==null&&s!==void 0?s:r:(c=d.geminiUrl)!==null&&c!==void 0?c:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hi{}function Ye(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(o,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const c=e[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function u(t,e,r){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(r))t[h]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(r))for(let m=0;m<p.length;m++){const y=p[m];u(y,e.slice(c+1),r[m])}else for(const m of p)u(m,e.slice(c+1),r)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];u(p[0],e.slice(c+1),r);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const o=e[e.length-1],s=t[o];if(s!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===s)return;if(typeof s=="object"&&typeof r=="object"&&s!==null&&r!==null)Object.assign(s,r);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=r}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const c=t[s];return Array.isArray(c)?c.map(d=>l(d,e.slice(r+1))):void 0}else return}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Md(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sy||(sy={}));var ly;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ly||(ly={}));var lt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(lt||(lt={}));var uy;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(uy||(uy={}));var cy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(cy||(cy={}));var fy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(fy||(fy={}));var dy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dy||(dy={}));var hy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(hy||(hy={}));var py;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(py||(py={}));var my;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(my||(my={}));var gy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(gy||(gy={}));var yy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(yy||(yy={}));var vy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vy||(vy={}));var wy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(wy||(wy={}));var xy;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xy||(xy={}));var ou;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ou||(ou={}));var Ty;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ty||(Ty={}));var Id;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Id||(Id={}));var Sy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Sy||(Sy={}));var Ey;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ey||(Ey={}));var by;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(by||(by={}));var _y;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_y||(_y={}));var Cy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Cy||(Cy={}));var Ay;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ay||(Ay={}));var Ry;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Ry||(Ry={}));var Ny;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ny||(Ny={}));var Dy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Dy||(Dy={}));var My;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(My||(My={}));var Iy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Iy||(Iy={}));var ky;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ky||(ky={}));var Uy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Uy||(Uy={}));var Ly;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ly||(Ly={}));var Py;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Py||(Py={}));var By;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(By||(By={}));var Oy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Oy||(Oy={}));var Fy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Fy||(Fy={}));var zy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(zy||(zy={}));var Vy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Vy||(Vy={}));var Gy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gy||(Gy={}));var qy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qy||(qy={}));var Hy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Hy||(Hy={}));var Ky;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ky||(Ky={}));var Jy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Jy||(Jy={}));var Yy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Yy||(Yy={}));var Wy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Wy||(Wy={}));var Oo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Oo||(Oo={}));class kd{constructor(e){const r={};for(const o of e.headers.entries())r[o[0]]=o[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class ds{get text(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const S of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[E,R]of Object.entries(S))E!=="text"&&E!=="thought"&&(R!==null||R!==void 0)&&T.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,E]of Object.entries(T))S!=="inlineData"&&(E!==null||E!==void 0)&&y.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,r,o,s,c,d,h,p,m;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,r,o,s,c,d,h,p,m;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class $y{}class Xy{}class z1{}class V1{}class G1{}class q1{}class jy{}class Zy{}class Qy{}class H1{}class e0{}class au{_fromAPIResponse({apiResponse:e,isVertexAI:r}){const o=new au;if(o.name=e.name,o.metadata=e.metadata,o.done=e.done,o.error=e.error,r){const s=e.response;if(s){const c=new e0,d=s.videos;c.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?Md(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),c.raiMediaFilteredCount=s.raiMediaFilteredCount,c.raiMediaFilteredReasons=s.raiMediaFilteredReasons,o.response=c}}else{const s=e.response;if(s){const c=new e0,d=s.generateVideoResponse,h=d==null?void 0:d.generatedSamples;c.generatedVideos=h==null?void 0:h.map(p=>{const m=p.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?Md(m==null?void 0:m.encodedVideo):void 0,mimeType:p.encoding}}}),c.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,c.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,o.response=c}}return o}}class t0{}class n0{}class r0{}class K1{}class J1{}class Y1{}class i0{}class W1{get text(){var e,r,o;let s="",c=!1;const d=[];for(const h of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,s+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var e,r,o;let s="";const c=[];for(const d of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&p!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class $1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function jv(t,e){const r=gt(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function Zv(t){return Array.isArray(t)?t.map(e=>su(e)):[su(t)]}function su(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Qv(t){const e=su(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ew(t){const e=su(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function o0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function tw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>o0(e)):[o0(t)]}function Ud(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function a0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function s0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fn(t){if(t==null)throw new Error("ContentUnion is required");return Ud(t)?t:{role:"user",parts:tw(t)}}function nw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const o=fn(r);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const r=fn(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>fn(r)):[fn(e)]}function qn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(a0(t)||s0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fn(t)]}const e=[],r=[],o=Ud(t[0]);for(const s of t){const c=Ud(s);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(s);else{if(a0(s)||s0(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(s)}}return o||e.push({role:"user",parts:tw(r)}),e}function X1(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(o=>o!=="null");if(r.length===1)e.type=Object.values(lt).includes(r[0].toUpperCase())?r[0].toUpperCase():lt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of r)e.anyOf.push({type:Object.values(lt).includes(o.toUpperCase())?o.toUpperCase():lt.TYPE_UNSPECIFIED})}}function Fo(t){const e={},r=["items"],o=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&X1(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(lt).includes(h.toUpperCase())?h.toUpperCase():lt.TYPE_UNSPECIFIED}else if(r.includes(d))e[d]=Fo(h);else if(o.includes(d)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(Fo(m))}e[d]=p}else if(s.includes(d)){const p={};for(const[m,y]of Object.entries(h))p[m]=Fo(y);e[d]=p}else{if(d==="additionalProperties")continue;e[d]=h}return e}function eh(t){return Fo(t)}function th(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function nh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Qo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Fo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Fo(e.response));return t}function ea(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function j1(t,e,r,o=1){const s=!e.startsWith(`${r}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:s?`${r}/${e}`:e}function kr(t,e){if(typeof e!="string")throw new Error("name must be a string");return j1(t,e,"cachedContents")}function rw(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ki(t){return Md(t)}function Z1(t){return t!=null&&typeof t=="object"&&"name"in t}function Q1(t){return t!=null&&typeof t=="object"&&"video"in t}function eE(t){return t!=null&&typeof t=="object"&&"uri"in t}function iw(t){var e;let r;if(Z1(t)&&(r=t.name),!(eE(t)&&(r=t.uri,r===void 0))&&!(Q1(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const s=r.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${r}`);r=s[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function ow(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function aw(t){for(const e of["models","tunedModels","publisherModels"])if(tE(t,e))return t[e];return[]}function tE(t,e){return t!==null&&typeof t=="object"&&e in t}function nE(t,e={}){const r=t,o={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(o.responseJsonSchema=r.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function rE(t,e={}){const r=[],o=new Set;for(const s of t){const c=s.name;if(o.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);o.add(c);const d=nE(s,e);d.functionDeclarations&&r.push(...d.functionDeclarations)}return{functionDeclarations:r}}function sw(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function iE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ta(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function lw(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function aE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function sE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function lE(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],oE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],aE(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],sE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function uw(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>lE(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function uE(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const T=l(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const R=l(t,["minLength"]);R!=null&&u(e,["minLength"],R);const A=l(t,["minProperties"]);A!=null&&u(e,["minProperties"],A);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const C=l(t,["nullable"]);C!=null&&u(e,["nullable"],C);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const B=l(t,["properties"]);B!=null&&u(e,["properties"],B);const q=l(t,["propertyOrdering"]);q!=null&&u(e,["propertyOrdering"],q);const G=l(t,["required"]);G!=null&&u(e,["required"],G);const le=l(t,["title"]);le!=null&&u(e,["title"],le);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function cE(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function fE(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function dE(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function hE(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],dE(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function pE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function mE(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],pE(r)),e}function gE(){return{}}function yE(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function vE(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>fE(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],hE(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],mE(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],gE());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],yE(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function wE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function xE(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function TE(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],xE(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function SE(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],wE(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],TE(o)),e}function EE(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function cw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],EE(r)),e}function bE(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],cw(o)),e}function _E(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>bE(s))),u(e,["speakerVoiceConfigs"],o)}return e}function CE(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],cw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],_E(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function AE(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function RE(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],uw(fn(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const R=l(e,["frequencyPenalty"]);R!=null&&u(o,["frequencyPenalty"],R);const A=l(e,["seed"]);A!=null&&u(o,["seed"],A);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const C=l(e,["responseSchema"]);C!=null&&u(o,["responseSchema"],uE(eh(C)));const I=l(e,["responseJsonSchema"]);if(I!=null&&u(o,["responseJsonSchema"],I),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=l(e,["safetySettings"]);if(r!==void 0&&B!=null){let Me=B;Array.isArray(Me)&&(Me=Me.map($=>cE($))),u(r,["safetySettings"],Me)}const q=l(e,["tools"]);if(r!==void 0&&q!=null){let Me=ea(q);Array.isArray(Me)&&(Me=Me.map($=>vE(Qo($)))),u(r,["tools"],Me)}const G=l(e,["toolConfig"]);if(r!==void 0&&G!=null&&u(r,["toolConfig"],SE(G)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=l(e,["cachedContent"]);r!==void 0&&le!=null&&u(r,["cachedContent"],kr(t,le));const ae=l(e,["responseModalities"]);ae!=null&&u(o,["responseModalities"],ae);const ce=l(e,["mediaResolution"]);ce!=null&&u(o,["mediaResolution"],ce);const O=l(e,["speechConfig"]);if(O!=null&&u(o,["speechConfig"],CE(th(O))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=l(e,["thinkingConfig"]);return Se!=null&&u(o,["thinkingConfig"],AE(Se)),o}function NE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["request","model"],gt(t,o));const s=l(e,["contents"]);if(s!=null){let d=qn(s);Array.isArray(d)&&(d=d.map(h=>uw(h))),u(r,["request","contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["request","generationConfig"],RE(t,c,r)),r}function DE(t,e){const r={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(e,["fileName"]);o!=null&&u(r,["fileName"],o);const s=l(e,["inlinedRequests"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>NE(t,d))),u(r,["requests","requests"],c)}return r}function ME(t,e){const r={},o=l(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function l0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["src"]);s!=null&&u(r,["batch","inputConfig"],DE(t,sw(t,s)));const c=l(e,["config"]);return c!=null&&u(r,["config"],ME(c,r)),r}function IE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ta(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function kE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ta(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function UE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);if(e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function LE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],UE(r,e)),e}function PE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ta(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function BE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["instancesFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const s=l(t,["bigqueryUri"]);if(s!=null&&u(e,["bigquerySource","inputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function OE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["predictionsFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const s=l(t,["bigqueryUri"]);if(s!=null&&u(e,["bigqueryDestination","outputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function FE(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["dest"]);return e!==void 0&&s!=null&&u(e,["outputConfig"],OE(iE(s))),r}function zE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],gt(t,o));const s=l(e,["src"]);s!=null&&u(r,["inputConfig"],BE(sw(t,s)));const c=l(e,["config"]);return c!=null&&u(r,["config"],FE(c,r)),r}function VE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ta(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function GE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ta(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function qE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function HE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],qE(r,e)),e}function KE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ta(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function JE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function YE(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function WE(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $E(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],JE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],YE(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],WE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function XE(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>$E(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function jE(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function ZE(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function QE(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ZE(s))),u(e,["urlMetadata"],o)}return e}function eb(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],XE(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],jE(o));const s=l(t,["tokenCount"]);s!=null&&u(e,["tokenCount"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],QE(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const T=l(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function tb(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>eb(m))),u(e,["candidates"],p)}const s=l(t,["modelVersion"]);s!=null&&u(e,["modelVersion"],s);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function fw(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const s=l(t,["message"]);return s!=null&&u(e,["message"],s),e}function nb(t){const e={},r=l(t,["response"]);r!=null&&u(e,["response"],tb(r));const o=l(t,["error"]);return o!=null&&u(e,["error"],fw(o)),e}function rb(t){const e={},r=l(t,["responsesFile"]);r!=null&&u(e,["fileName"],r);const o=l(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>nb(c))),u(e,["inlinedResponses"],s)}return e}function eu(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["metadata","state"]);s!=null&&u(e,["state"],lw(s));const c=l(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["metadata","endTime"]);d!=null&&u(e,["endTime"],d);const h=l(t,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const p=l(t,["metadata","model"]);p!=null&&u(e,["model"],p);const m=l(t,["metadata","output"]);return m!=null&&u(e,["dest"],rb(m)),e}function ib(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["operations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>eu(d))),u(e,["batchJobs"],c)}return e}function ob(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);return c!=null&&u(e,["error"],fw(c)),e}function dw(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const s=l(t,["message"]);return s!=null&&u(e,["message"],s),e}function ab(t){const e={},r=l(t,["instancesFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const s=l(t,["bigquerySource","inputUri"]);return s!=null&&u(e,["bigqueryUri"],s),e}function sb(t){const e={},r=l(t,["predictionsFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const s=l(t,["bigqueryDestination","outputUri"]);return s!=null&&u(e,["bigqueryUri"],s),e}function Ld(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],lw(s));const c=l(t,["error"]);c!=null&&u(e,["error"],dw(c));const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["startTime"]);h!=null&&u(e,["startTime"],h);const p=l(t,["endTime"]);p!=null&&u(e,["endTime"],p);const m=l(t,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=l(t,["model"]);y!=null&&u(e,["model"],y);const T=l(t,["inputConfig"]);T!=null&&u(e,["src"],ab(T));const S=l(t,["outputConfig"]);return S!=null&&u(e,["dest"],sb(S)),e}function lb(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["batchPredictionJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Ld(d))),u(e,["batchJobs"],c)}return e}function ub(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);return c!=null&&u(e,["error"],dw(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(qi||(qi={}));class Ts{constructor(e,r,o,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,o,s)}init(e,r,o){var s,c;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=r.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cb extends Hi{constructor(e){super(),this.apiClient=e,this.create=async r=>{var o,s;if(this.apiClient.isVertexAI()){const d=Date.now().toString();if(Array.isArray(r.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(r.config=r.config||{},r.config.displayName===void 0&&(r.config.displayName="genaiBatchJob_${timestampStr}"),r.config.dest===void 0&&typeof r.src=="string")if(r.src.startsWith("gs://")&&r.src.endsWith(".jsonl"))r.config.dest=`${r.src.slice(0,-6)}/dest`;else if(r.src.startsWith("bq://"))r.config.dest=`${r.src}_dest_${d}`;else throw new Error("Unsupported source:"+r.src)}else if(Array.isArray(r.src)||typeof r.src!="string"&&r.src.inlinedRequests){let c="",d={};const h=l0(this.apiClient,r);c=Ye("{model}:batchGenerateContent",h._url),d=h._query;const y=h.batch.inputConfig.requests,T=y.requests,S=[];for(const R of T){const A=R;if(A.systemInstruction){const U=A.systemInstruction;delete A.systemInstruction;const C=A.request;C.systemInstruction=U,A.request=C}S.push(A)}return y.requests=S,delete h.config,delete h._url,delete h._query,this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=r.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=r.config)===null||s===void 0?void 0:s.abortSignal}).then(R=>R.json()).then(R=>eu(R))}return await this.createInternal(r)},this.list=async(r={})=>new Ts(qi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(r),r)}async createInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=zE(this.apiClient,e);return h=Ye("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Ld(y))}else{const m=l0(this.apiClient,e);return h=Ye("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>eu(y))}}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=VE(this.apiClient,e);return h=Ye("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Ld(y))}else{const m=IE(this.apiClient,e);return h=Ye("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>eu(y))}}async cancel(e){var r,o,s,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=GE(this.apiClient,e);d=Ye("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=kE(this.apiClient,e);d=Ye("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=HE(e);return h=Ye("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=lb(y),S=new i0;return Object.assign(S,T),S})}else{const m=LE(e);return h=Ye("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=ib(y),S=new i0;return Object.assign(S,T),S})}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=KE(this.apiClient,e);return h=Ye("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>ub(y))}else{const m=PE(this.apiClient,e);return h=Ye("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>ob(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fb(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function db(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function hb(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function pb(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],fb(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],db(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],hb(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function u0(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>pb(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function mb(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function gb(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function yb(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],gb(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function vb(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function wb(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],vb(r)),e}function xb(){return{}}function Tb(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function Sb(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>mb(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],yb(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],wb(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],xb());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],Tb(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function Eb(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function bb(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function _b(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],bb(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function Cb(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],Eb(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],_b(o)),e}function Ab(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&u(e,["expireTime"],s);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let y=qn(d);Array.isArray(y)&&(y=y.map(T=>u0(T))),u(e,["contents"],y)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],u0(fn(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>Sb(T))),u(e,["tools"],y)}const m=l(t,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],Cb(m)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Rb(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],jv(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],Ab(s,r)),r}function Nb(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],kr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function Db(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],kr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function Mb(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&u(e,["expireTime"],s),r}function Ib(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],kr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],Mb(s,r)),r}function kb(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function Ub(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],kb(r,e)),e}function Lb(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function Pb(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function Bb(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function Ob(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],Lb(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],Pb(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],Bb(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function c0(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>Ob(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function Fb(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function zb(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function Vb(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],zb(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function Gb(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function qb(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],Gb(r)),e}function Hb(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function Kb(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function Jb(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],Kb(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function Yb(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],Jb(r)),e}function Wb(){return{}}function $b(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function Xb(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let T=r;Array.isArray(T)&&(T=T.map(S=>Fb(S))),u(e,["functionDeclarations"],T)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],Vb(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],qb(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],Hb(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],Yb(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],Wb());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],$b(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function jb(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function Zb(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function Qb(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],Zb(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function e_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],jb(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],Qb(o)),e}function t_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&u(e,["expireTime"],s);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let T=qn(d);Array.isArray(T)&&(T=T.map(S=>c0(S))),u(e,["contents"],T)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],c0(fn(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>Xb(S))),u(e,["tools"],T)}const m=l(t,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],e_(m));const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),r}function n_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],jv(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],t_(s,r)),r}function r_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],kr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function i_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],kr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function o_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&u(e,["expireTime"],s),r}function a_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],kr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],o_(s,r)),r}function s_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function l_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],s_(r,e)),e}function tu(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["model"]);s!=null&&u(e,["model"],s);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function u_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function c_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>tu(d))),u(e,["cachedContents"],c)}return e}function nu(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["model"]);s!=null&&u(e,["model"],s);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function f_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function d_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>nu(d))),u(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h_ extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Ts(qi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(r),r)}async create(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=n_(this.apiClient,e);return h=Ye("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>nu(y))}else{const m=Rb(this.apiClient,e);return h=Ye("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>tu(y))}}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=r_(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>nu(y))}else{const m=Nb(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>tu(y))}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=i_(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=f_(y),S=new n0;return Object.assign(S,T),S})}else{const m=Db(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=u_(y),S=new n0;return Object.assign(S,T),S})}}async update(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=a_(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>nu(y))}else{const m=Ib(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>tu(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=l_(e);return h=Ye("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=d_(y),S=new r0;return Object.assign(S,T),S})}else{const m=Ub(e);return h=Ye("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=c_(y),S=new r0;return Object.assign(S,T),S})}}}function f0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dt(t){return this instanceof Dt?(this.v=t,this):new Dt(t)}function zo(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(E){return function(R){return Promise.resolve(R).then(E,T)}}function h(E,R){o[E]&&(s[E]=function(A){return new Promise(function(U,C){c.push([E,A,U,C])>1||p(E,A)})},R&&(s[E]=R(s[E])))}function p(E,R){try{m(o[E](R))}catch(A){S(c[0][3],A)}}function m(E){E.value instanceof Dt?Promise.resolve(E.value.v).then(y,T):S(c[0][2],E)}function y(E){p("next",E)}function T(E){p("throw",E)}function S(E,R){E(R),c.shift(),c.length&&p(c[0][0],c[0][1])}}function xs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof f0=="function"?f0(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(c){r[c]=t[c]&&function(d){return new Promise(function(h,p){d=t[c](d),s(h,p,d.done,d.value)})}}function s(c,d,h,p){Promise.resolve(p).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:hw(r)}function hw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function m_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function d0(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let o=0;for(;o<r;)if(t[o].role==="user")e.push(t[o]),o++;else{const s=[];let c=!0;for(;o<r&&t[o].role==="model";)s.push(t[o]),c&&!hw(t[o])&&(c=!1),o++;c?e.push(...s):e.pop()}return e}class g_{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new y_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class y_{constructor(e,r,o,s={},c=[]){this.apiClient=e,this.modelsModule=r,this.model=o,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),m_(c)}async sendMessage(e){var r;await this.sendPromise;const o=fn(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,d,h;const p=await s,m=(d=(c=p.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=p.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(T))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var r;await this.sendPromise;const o=fn(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,o)}getHistory(e=!1){const r=e?d0(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var o,s;return zo(this,arguments,function*(){var d,h,p,m;const y=[];try{for(var T=!0,S=xs(e),E;E=yield Dt(S.next()),d=E.done,!d;T=!0){m=E.value,T=!1;const R=m;if(p_(R)){const A=(s=(o=R.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content;A!==void 0&&y.push(A)}yield yield Dt(R)}}catch(R){h={error:R}}finally{try{!T&&!d&&(p=S.return)&&(yield Dt(p.call(S)))}finally{if(h)throw h.error}}this.recordHistory(r,y)})}recordHistory(e,r,o){let s=[];r.length>0&&r.every(c=>c.role!==void 0)?s=r:s.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...d0(o)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,pu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function w_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],v_(r,e)),e}function x_(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const s=l(t,["code"]);return s!=null&&u(e,["code"],s),e}function T_(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["mimeType"]);s!=null&&u(e,["mimeType"],s);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const T=l(t,["downloadUri"]);T!=null&&u(e,["downloadUri"],T);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const R=l(t,["videoMetadata"]);R!=null&&u(e,["videoMetadata"],R);const A=l(t,["error"]);return A!=null&&u(e,["error"],x_(A)),e}function S_(t){const e={},r=l(t,["file"]);r!=null&&u(e,["file"],T_(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function E_(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],iw(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function b_(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],iw(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function __(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const s=l(t,["code"]);return s!=null&&u(e,["code"],s),e}function Pd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["mimeType"]);s!=null&&u(e,["mimeType"],s);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const T=l(t,["downloadUri"]);T!=null&&u(e,["downloadUri"],T);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const R=l(t,["videoMetadata"]);R!=null&&u(e,["videoMetadata"],R);const A=l(t,["error"]);return A!=null&&u(e,["error"],__(A)),e}function C_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Pd(d))),u(e,["files"],c)}return e}function A_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function R_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N_ extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Ts(qi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>Pd(r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=w_(e);return c=Ye("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=C_(p),y=new K1;return Object.assign(y,m),y})}}async createInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=S_(e);return c=Ye("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=A_(p),y=new J1;return Object.assign(y,m),y})}}async get(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=E_(e);return c=Ye("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Pd(p))}}async delete(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=b_(e);return c=Ye("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=R_(p),y=new Y1;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D_(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function pw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],D_(r)),e}function M_(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],pw(o)),e}function I_(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>M_(s))),u(e,["speakerVoiceConfigs"],o)}return e}function k_(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],pw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],I_(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function U_(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function L_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function P_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function B_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],U_(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],L_(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],P_(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function O_(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>B_(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function F_(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function z_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function V_(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],z_(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function G_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function q_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],G_(r)),e}function H_(){return{}}function K_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function J_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>F_(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],V_(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],q_(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],H_());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],K_(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function Y_(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function h0(){return{}}function W_(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function $_(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],W_(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function X_(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function j_(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],X_(o)),e}function Z_(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function Q_(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],k_(nh(T)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],O_(fn(E)));const R=l(t,["tools"]);if(e!==void 0&&R!=null){let G=ea(R);Array.isArray(G)&&(G=G.map(le=>J_(Qo(le)))),u(e,["setup","tools"],G)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],Y_(A));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],h0());const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],h0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],$_(I));const B=l(t,["contextWindowCompression"]);e!==void 0&&B!=null&&u(e,["setup","contextWindowCompression"],j_(B));const q=l(t,["proactivity"]);return e!==void 0&&q!=null&&u(e,["setup","proactivity"],Z_(q)),r}function eC(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],Q_(s,r)),r}function tC(){return{}}function nC(){return{}}function rC(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],Zv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],ew(o));const s=l(t,["audioStreamEnd"]);s!=null&&u(e,["audioStreamEnd"],s);const c=l(t,["video"]);c!=null&&u(e,["video"],Qv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],tC()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],nC()),e}function mw(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function iC(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>mw(s))),u(e,["weightedPrompts"],o)}return e}function gw(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const s=l(t,["seed"]);s!=null&&u(e,["seed"],s);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const T=l(t,["muteDrums"]);T!=null&&u(e,["muteDrums"],T);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function oC(t){const e={},r=l(t,["musicGenerationConfig"]);return r!=null&&u(e,["musicGenerationConfig"],gw(r)),e}function yw(t){const e={},r=l(t,["model"]);return r!=null&&u(e,["model"],r),e}function vw(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>mw(s))),u(e,["weightedPrompts"],o)}return e}function Bd(t){const e={},r=l(t,["setup"]);r!=null&&u(e,["setup"],yw(r));const o=l(t,["clientContent"]);o!=null&&u(e,["clientContent"],vw(o));const s=l(t,["musicGenerationConfig"]);s!=null&&u(e,["musicGenerationConfig"],gw(s));const c=l(t,["playbackControl"]);return c!=null&&u(e,["playbackControl"],c),e}function aC(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function sC(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],aC(r)),e}function lC(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],sC(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function uC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function cC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function fC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function dC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],uC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],cC(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],fC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function hC(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>dC(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function pC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function mC(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function gC(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],mC(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function yC(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function vC(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],yC(r)),e}function wC(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function xC(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function TC(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],xC(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function SC(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],TC(r)),e}function EC(){return{}}function bC(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function _C(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let T=r;Array.isArray(T)&&(T=T.map(S=>pC(S))),u(e,["functionDeclarations"],T)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],gC(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],vC(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],wC(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],SC(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],EC());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],bC(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function CC(t){const e={},r=l(t,["handle"]);r!=null&&u(e,["handle"],r);const o=l(t,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function p0(){return{}}function AC(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function RC(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],AC(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function NC(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function DC(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],NC(o)),e}function MC(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function IC(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],lC(nh(T)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],hC(fn(E)));const R=l(t,["tools"]);if(e!==void 0&&R!=null){let G=ea(R);Array.isArray(G)&&(G=G.map(le=>_C(Qo(le)))),u(e,["setup","tools"],G)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],CC(A));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],p0());const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],p0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],RC(I));const B=l(t,["contextWindowCompression"]);e!==void 0&&B!=null&&u(e,["setup","contextWindowCompression"],DC(B));const q=l(t,["proactivity"]);return e!==void 0&&q!=null&&u(e,["setup","proactivity"],MC(q)),r}function kC(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],IC(s,r)),r}function UC(){return{}}function LC(){return{}}function PC(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],Zv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],ew(o));const s=l(t,["audioStreamEnd"]);s!=null&&u(e,["audioStreamEnd"],s);const c=l(t,["video"]);c!=null&&u(e,["video"],Qv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],UC()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],LC()),e}function BC(){return{}}function OC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function FC(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function zC(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function VC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],OC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],FC(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],zC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function GC(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>VC(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function m0(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function qC(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function HC(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>qC(s))),u(e,["urlMetadata"],o)}return e}function KC(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],GC(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const s=l(t,["interrupted"]);s!=null&&u(e,["interrupted"],s);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],m0(h));const p=l(t,["outputTranscription"]);p!=null&&u(e,["outputTranscription"],m0(p));const m=l(t,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],HC(m)),e}function JC(t){const e={},r=l(t,["id"]);r!=null&&u(e,["id"],r);const o=l(t,["args"]);o!=null&&u(e,["args"],o);const s=l(t,["name"]);return s!=null&&u(e,["name"],s),e}function YC(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>JC(s))),u(e,["functionCalls"],o)}return e}function WC(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function Vl(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function $C(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const s=l(t,["responseTokenCount"]);s!=null&&u(e,["responseTokenCount"],s);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>Vl(E))),u(e,["promptTokensDetails"],S)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>Vl(E))),u(e,["cacheTokensDetails"],S)}const y=l(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>Vl(E))),u(e,["responseTokensDetails"],S)}const T=l(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(E=>Vl(E))),u(e,["toolUsePromptTokensDetails"],S)}return e}function XC(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function jC(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&u(e,["lastConsumedClientMessageIndex"],s),e}function ZC(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],BC());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],KC(o));const s=l(t,["toolCall"]);s!=null&&u(e,["toolCall"],YC(s));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],WC(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],$C(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],XC(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],jC(p)),e}function QC(){return{}}function eA(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function tA(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>eA(s))),u(e,["weightedPrompts"],o)}return e}function nA(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const s=l(t,["seed"]);s!=null&&u(e,["seed"],s);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const T=l(t,["muteDrums"]);T!=null&&u(e,["muteDrums"],T);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function rA(t){const e={},r=l(t,["clientContent"]);r!=null&&u(e,["clientContent"],tA(r));const o=l(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],nA(o)),e}function iA(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);o!=null&&u(e,["mimeType"],o);const s=l(t,["sourceMetadata"]);return s!=null&&u(e,["sourceMetadata"],rA(s)),e}function oA(t){const e={},r=l(t,["audioChunks"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>iA(s))),u(e,["audioChunks"],o)}return e}function aA(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function sA(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],QC());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],oA(o));const s=l(t,["filteredPrompt"]);return s!=null&&u(e,["filteredPrompt"],aA(s)),e}function lA(t){const e={},r=l(t,["sessionId"]);return r!=null&&u(e,["sessionId"],r),e}function uA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function cA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function fA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function dA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],uA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],cA(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],fA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function hA(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>dA(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function g0(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function pA(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],hA(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const s=l(t,["interrupted"]);s!=null&&u(e,["interrupted"],s);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],g0(h));const p=l(t,["outputTranscription"]);return p!=null&&u(e,["outputTranscription"],g0(p)),e}function mA(t){const e={},r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);return o!=null&&u(e,["name"],o),e}function gA(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>mA(s))),u(e,["functionCalls"],o)}return e}function yA(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function Gl(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function vA(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const s=l(t,["candidatesTokenCount"]);s!=null&&u(e,["responseTokenCount"],s);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(R=>Gl(R))),u(e,["promptTokensDetails"],E)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(R=>Gl(R))),u(e,["cacheTokensDetails"],E)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(R=>Gl(R))),u(e,["responseTokensDetails"],E)}const T=l(t,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(R=>Gl(R))),u(e,["toolUsePromptTokensDetails"],E)}const S=l(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function wA(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function xA(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&u(e,["lastConsumedClientMessageIndex"],s),e}function TA(t){const e={},r=l(t,["setupComplete"]);r!=null&&u(e,["setupComplete"],lA(r));const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],pA(o));const s=l(t,["toolCall"]);s!=null&&u(e,["toolCall"],gA(s));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],yA(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],vA(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],wA(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],xA(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function EA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function bA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function _A(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],SA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],EA(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],bA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function mu(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>_A(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function CA(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const T=l(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const R=l(t,["minLength"]);R!=null&&u(e,["minLength"],R);const A=l(t,["minProperties"]);A!=null&&u(e,["minProperties"],A);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const C=l(t,["nullable"]);C!=null&&u(e,["nullable"],C);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const B=l(t,["properties"]);B!=null&&u(e,["properties"],B);const q=l(t,["propertyOrdering"]);q!=null&&u(e,["propertyOrdering"],q);const G=l(t,["required"]);G!=null&&u(e,["required"],G);const le=l(t,["title"]);le!=null&&u(e,["title"],le);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function AA(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function RA(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function NA(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function DA(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],NA(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function MA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function IA(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],MA(r)),e}function kA(){return{}}function UA(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function LA(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>RA(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],DA(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],IA(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],kA());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],UA(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function PA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function BA(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function OA(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],BA(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function FA(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],PA(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],OA(o)),e}function zA(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function ww(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],zA(r)),e}function VA(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],ww(o)),e}function GA(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>VA(s))),u(e,["speakerVoiceConfigs"],o)}return e}function qA(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],ww(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],GA(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function HA(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function KA(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],mu(fn(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const R=l(e,["frequencyPenalty"]);R!=null&&u(o,["frequencyPenalty"],R);const A=l(e,["seed"]);A!=null&&u(o,["seed"],A);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const C=l(e,["responseSchema"]);C!=null&&u(o,["responseSchema"],CA(eh(C)));const I=l(e,["responseJsonSchema"]);if(I!=null&&u(o,["responseJsonSchema"],I),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=l(e,["safetySettings"]);if(r!==void 0&&B!=null){let Me=B;Array.isArray(Me)&&(Me=Me.map($=>AA($))),u(r,["safetySettings"],Me)}const q=l(e,["tools"]);if(r!==void 0&&q!=null){let Me=ea(q);Array.isArray(Me)&&(Me=Me.map($=>LA(Qo($)))),u(r,["tools"],Me)}const G=l(e,["toolConfig"]);if(r!==void 0&&G!=null&&u(r,["toolConfig"],FA(G)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=l(e,["cachedContent"]);r!==void 0&&le!=null&&u(r,["cachedContent"],kr(t,le));const ae=l(e,["responseModalities"]);ae!=null&&u(o,["responseModalities"],ae);const ce=l(e,["mediaResolution"]);ce!=null&&u(o,["mediaResolution"],ce);const O=l(e,["speechConfig"]);if(O!=null&&u(o,["speechConfig"],qA(th(O))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=l(e,["thinkingConfig"]);return Se!=null&&u(o,["thinkingConfig"],HA(Se)),o}function y0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["contents"]);if(s!=null){let d=qn(s);Array.isArray(d)&&(d=d.map(h=>mu(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],KA(t,c,r)),r}function JA(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const s=l(t,["title"]);e!==void 0&&s!=null&&u(e,["requests[]","title"],s);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function YA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["contents"]);s!=null&&u(r,["requests[]","content"],nw(t,s));const c=l(e,["config"]);c!=null&&u(r,["config"],JA(c,r));const d=l(e,["model"]);return d!==void 0&&u(r,["requests[]","model"],gt(t,d)),r}function WA(t,e){const r={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const p=l(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const y=l(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const T=l(t,["outputMimeType"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","mimeType"],T);const S=l(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=l(t,["imageSize"]);if(e!==void 0&&E!=null&&u(e,["parameters","sampleImageSize"],E),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function $A(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["config"]);return c!=null&&u(r,["config"],WA(c,r)),r}function XA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function jA(t,e,r){const o={},s=l(e,["pageSize"]);r!==void 0&&s!=null&&u(r,["_query","pageSize"],s);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],ow(t,h)),o}function ZA(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],jA(t,o,r)),r}function QA(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function eR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],QA(s,r)),r}function tR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function nR(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function rR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["contents"]);if(s!=null){let d=qn(s);Array.isArray(d)&&(d=d.map(h=>mu(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],nR(c)),r}function xw(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],Ki(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function iR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);if(e!==void 0&&s!=null&&u(e,["instances[0]","image"],xw(s)),l(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return r}function oR(t,e){const r={},o=l(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=l(t,["durationSeconds"]);if(e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=l(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);const h=l(t,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function aR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["image"]);if(c!=null&&u(r,["instances[0]","image"],xw(c)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["source"]);d!=null&&u(r,["config"],iR(d,r));const h=l(e,["config"]);return h!=null&&u(r,["config"],oR(h,r)),r}function sR(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function lR(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function uR(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function cR(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],sR(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],lR(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],uR(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function na(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>cR(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function fR(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const T=l(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const R=l(t,["minLength"]);R!=null&&u(e,["minLength"],R);const A=l(t,["minProperties"]);A!=null&&u(e,["minProperties"],A);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const C=l(t,["nullable"]);C!=null&&u(e,["nullable"],C);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const B=l(t,["properties"]);B!=null&&u(e,["properties"],B);const q=l(t,["propertyOrdering"]);q!=null&&u(e,["propertyOrdering"],q);const G=l(t,["required"]);G!=null&&u(e,["required"],G);const le=l(t,["title"]);le!=null&&u(e,["title"],le);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function dR(t){const e={},r=l(t,["featureSelectionPreference"]);return r!=null&&u(e,["featureSelectionPreference"],r),e}function hR(t){const e={},r=l(t,["method"]);r!=null&&u(e,["method"],r);const o=l(t,["category"]);o!=null&&u(e,["category"],o);const s=l(t,["threshold"]);return s!=null&&u(e,["threshold"],s),e}function pR(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function mR(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function gR(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],mR(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function yR(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function vR(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],yR(r)),e}function wR(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function xR(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function TR(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],xR(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function SR(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],TR(r)),e}function ER(){return{}}function bR(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function Tw(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let T=r;Array.isArray(T)&&(T=T.map(S=>pR(S))),u(e,["functionDeclarations"],T)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],gR(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],vR(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],wR(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],SR(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],ER());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],bR(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function _R(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function CR(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function AR(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],CR(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function RR(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],_R(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],AR(o)),e}function NR(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function DR(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],NR(r)),e}function MR(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],DR(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function IR(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function kR(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],na(fn(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const R=l(e,["frequencyPenalty"]);R!=null&&u(o,["frequencyPenalty"],R);const A=l(e,["seed"]);A!=null&&u(o,["seed"],A);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const C=l(e,["responseSchema"]);C!=null&&u(o,["responseSchema"],fR(eh(C)));const I=l(e,["responseJsonSchema"]);I!=null&&u(o,["responseJsonSchema"],I);const B=l(e,["routingConfig"]);B!=null&&u(o,["routingConfig"],B);const q=l(e,["modelSelectionConfig"]);q!=null&&u(o,["modelConfig"],dR(q));const G=l(e,["safetySettings"]);if(r!==void 0&&G!=null){let fe=G;Array.isArray(fe)&&(fe=fe.map(se=>hR(se))),u(r,["safetySettings"],fe)}const le=l(e,["tools"]);if(r!==void 0&&le!=null){let fe=ea(le);Array.isArray(fe)&&(fe=fe.map(se=>Tw(Qo(se)))),u(r,["tools"],fe)}const ae=l(e,["toolConfig"]);r!==void 0&&ae!=null&&u(r,["toolConfig"],RR(ae));const ce=l(e,["labels"]);r!==void 0&&ce!=null&&u(r,["labels"],ce);const O=l(e,["cachedContent"]);r!==void 0&&O!=null&&u(r,["cachedContent"],kr(t,O));const Se=l(e,["responseModalities"]);Se!=null&&u(o,["responseModalities"],Se);const Me=l(e,["mediaResolution"]);Me!=null&&u(o,["mediaResolution"],Me);const $=l(e,["speechConfig"]);$!=null&&u(o,["speechConfig"],MR(th($)));const de=l(e,["audioTimestamp"]);de!=null&&u(o,["audioTimestamp"],de);const P=l(e,["thinkingConfig"]);return P!=null&&u(o,["thinkingConfig"],IR(P)),o}function v0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["contents"]);if(s!=null){let d=qn(s);Array.isArray(d)&&(d=d.map(h=>na(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],kR(t,c,r)),r}function UR(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const s=l(t,["title"]);e!==void 0&&s!=null&&u(e,["instances[]","title"],s);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const d=l(t,["mimeType"]);e!==void 0&&d!=null&&u(e,["instances[]","mimeType"],d);const h=l(t,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),r}function LR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["contents"]);s!=null&&u(r,["instances[]","content"],nw(t,s));const c=l(e,["config"]);return c!=null&&u(r,["config"],UR(c,r)),r}function PR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&u(e,["parameters","negativePrompt"],s);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const R=l(t,["outputMimeType"]);e!==void 0&&R!=null&&u(e,["parameters","outputOptions","mimeType"],R);const A=l(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&u(e,["parameters","outputOptions","compressionQuality"],A);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&u(e,["parameters","addWatermark"],U);const C=l(t,["imageSize"]);e!==void 0&&C!=null&&u(e,["parameters","sampleImageSize"],C);const I=l(t,["enhancePrompt"]);return e!==void 0&&I!=null&&u(e,["parameters","enhancePrompt"],I),r}function BR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["config"]);return c!=null&&u(r,["config"],PR(c,r)),r}function pr(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ki(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function OR(t){const e={},r=l(t,["maskMode"]);r!=null&&u(e,["maskMode"],r);const o=l(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const s=l(t,["maskDilation"]);return s!=null&&u(e,["dilation"],s),e}function FR(t){const e={},r=l(t,["controlType"]);r!=null&&u(e,["controlType"],r);const o=l(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function zR(t){const e={},r=l(t,["styleDescription"]);return r!=null&&u(e,["styleDescription"],r),e}function VR(t){const e={},r=l(t,["subjectType"]);r!=null&&u(e,["subjectType"],r);const o=l(t,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function GR(t){const e={},r=l(t,["referenceImage"]);r!=null&&u(e,["referenceImage"],pr(r));const o=l(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const s=l(t,["referenceType"]);s!=null&&u(e,["referenceType"],s);const c=l(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],OR(c));const d=l(t,["controlImageConfig"]);d!=null&&u(e,["controlImageConfig"],FR(d));const h=l(t,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],zR(h));const p=l(t,["subjectImageConfig"]);return p!=null&&u(e,["subjectImageConfig"],VR(p)),e}function qR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&u(e,["parameters","negativePrompt"],s);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const R=l(t,["outputMimeType"]);e!==void 0&&R!=null&&u(e,["parameters","outputOptions","mimeType"],R);const A=l(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&u(e,["parameters","outputOptions","compressionQuality"],A);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&u(e,["parameters","addWatermark"],U);const C=l(t,["editMode"]);e!==void 0&&C!=null&&u(e,["parameters","editMode"],C);const I=l(t,["baseSteps"]);return e!==void 0&&I!=null&&u(e,["parameters","editConfig","baseSteps"],I),r}function HR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>GR(p))),u(r,["instances[0]","referenceImages"],h)}const d=l(e,["config"]);return d!=null&&u(r,["config"],qR(d,r)),r}function KR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const c=l(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);const d=l(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const h=l(t,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=l(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=l(t,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);const y=l(t,["mode"]);return e!==void 0&&y!=null&&u(e,["parameters","mode"],y),r}function JR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["image"]);s!=null&&u(r,["instances[0]","image"],pr(s));const c=l(e,["upscaleFactor"]);c!=null&&u(r,["parameters","upscaleConfig","upscaleFactor"],c);const d=l(e,["config"]);return d!=null&&u(r,["config"],KR(d,r)),r}function YR(t){const e={},r=l(t,["productImage"]);return r!=null&&u(e,["image"],pr(r)),e}function WR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["personImage"]);e!==void 0&&s!=null&&u(e,["instances[0]","personImage","image"],pr(s));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>YR(h))),u(e,["instances[0]","productImages"],d)}return r}function $R(t,e){const r={},o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["baseSteps"]);e!==void 0&&s!=null&&u(e,["parameters","editConfig","baseSteps"],s);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=l(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const m=l(t,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const T=l(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","compressionQuality"],T);const S=l(t,["enhancePrompt"]);return e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S),r}function XR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["source"]);s!=null&&u(r,["config"],WR(s,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],$R(c,r)),r}function jR(t){const e={},r=l(t,["image"]);return r!=null&&u(e,["image"],pr(r)),e}function ZR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);e!==void 0&&s!=null&&u(e,["instances[0]","image"],pr(s));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],jR(c)),r}function QR(t,e){const r={},o=l(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const s=l(t,["maxPredictions"]);e!==void 0&&s!=null&&u(e,["parameters","maxPredictions"],s);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const d=l(t,["maskDilation"]);e!==void 0&&d!=null&&u(e,["parameters","maskDilation"],d);const h=l(t,["binaryColorThreshold"]);return e!==void 0&&h!=null&&u(e,["parameters","binaryColorThreshold"],h),r}function eN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["source"]);s!=null&&u(r,["config"],ZR(s,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],QR(c,r)),r}function tN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function nN(t,e,r){const o={},s=l(e,["pageSize"]);r!==void 0&&s!=null&&u(r,["_query","pageSize"],s);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],ow(t,h)),o}function rN(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],nN(t,o,r)),r}function iN(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function oN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],iN(s,r)),r}function aN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function sN(t,e){const r={},o=l(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],na(fn(o)));const s=l(t,["tools"]);if(e!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Tw(h))),u(e,["tools"],d)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],c),r}function lN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["contents"]);if(s!=null){let d=qn(s);Array.isArray(d)&&(d=d.map(h=>na(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],sN(c,r)),r}function uN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["contents"]);if(s!=null){let d=qn(s);Array.isArray(d)&&(d=d.map(h=>na(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],c),r}function Sw(t){const e={},r=l(t,["uri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ki(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function cN(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);e!==void 0&&s!=null&&u(e,["instances[0]","image"],pr(s));const c=l(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],Sw(c)),r}function fN(t){const e={},r=l(t,["image"]);r!=null&&u(e,["image"],pr(r));const o=l(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function dN(t,e){const r={},o=l(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["outputGcsUri"]);e!==void 0&&s!=null&&u(e,["parameters","storageUri"],s);const c=l(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const d=l(t,["durationSeconds"]);e!==void 0&&d!=null&&u(e,["parameters","durationSeconds"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const p=l(t,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const m=l(t,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(t,["pubsubTopic"]);e!==void 0&&T!=null&&u(e,["parameters","pubsubTopic"],T);const S=l(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const E=l(t,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const R=l(t,["generateAudio"]);e!==void 0&&R!=null&&u(e,["parameters","generateAudio"],R);const A=l(t,["lastFrame"]);e!==void 0&&A!=null&&u(e,["instances[0]","lastFrame"],pr(A));const U=l(t,["referenceImages"]);if(e!==void 0&&U!=null){let I=U;Array.isArray(I)&&(I=I.map(B=>fN(B))),u(e,["instances[0]","referenceImages"],I)}const C=l(t,["compressionQuality"]);return e!==void 0&&C!=null&&u(e,["parameters","compressionQuality"],C),r}function hN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],gt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["image"]);c!=null&&u(r,["instances[0]","image"],pr(c));const d=l(e,["video"]);d!=null&&u(r,["instances[0]","video"],Sw(d));const h=l(e,["source"]);h!=null&&u(r,["config"],cN(h,r));const p=l(e,["config"]);return p!=null&&u(r,["config"],dN(p,r)),r}function pN(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function mN(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function gN(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function yN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],pN(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],mN(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],gN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function vN(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>yN(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function wN(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function xN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function TN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>xN(s))),u(e,["urlMetadata"],o)}return e}function SN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],vN(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],wN(o));const s=l(t,["tokenCount"]);s!=null&&u(e,["tokenCount"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],TN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const T=l(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function w0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>SN(m))),u(e,["candidates"],p)}const s=l(t,["modelVersion"]);s!=null&&u(e,["modelVersion"],s);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function EN(t){const e={},r=l(t,["values"]);return r!=null&&u(e,["values"],r),e}function bN(){return{}}function _N(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>EN(d))),u(e,["embeddings"],c)}return l(t,["metadata"])!=null&&u(e,["metadata"],bN()),e}function CN(t){const e={},r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],Ki(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ew(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const s=l(t,["contentType"]);return s!=null&&u(e,["contentType"],s),e}function AN(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],CN(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const s=l(t,["_self"]);return s!=null&&u(e,["safetyAttributes"],Ew(s)),e}function RN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>AN(d))),u(e,["generatedImages"],c)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&u(e,["positivePromptSafetyAttributes"],Ew(s)),e}function NN(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const s=l(t,["updateTime"]);return s!=null&&u(e,["updateTime"],s),e}function Od(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["version"]);c!=null&&u(e,["version"],c);const d=l(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],NN(d));const h=l(t,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const p=l(t,["outputTokenLimit"]);p!=null&&u(e,["outputTokenLimit"],p);const m=l(t,["supportedGenerationMethods"]);return m!=null&&u(e,["supportedActions"],m),e}function DN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["_self"]);if(s!=null){let c=aw(s);Array.isArray(c)&&(c=c.map(d=>Od(d))),u(e,["models"],c)}return e}function MN(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function IN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const s=l(t,["cachedContentTokenCount"]);return s!=null&&u(e,["cachedContentTokenCount"],s),e}function kN(t){const e={},r=l(t,["video","uri"]);r!=null&&u(e,["uri"],r);const o=l(t,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Ki(o));const s=l(t,["encoding"]);return s!=null&&u(e,["mimeType"],s),e}function UN(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],kN(r)),e}function LN(t){const e={},r=l(t,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>UN(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function PN(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response","generateVideoResponse"]);return d!=null&&u(e,["response"],LN(d)),e}function BN(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function ON(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function FN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function zN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],BN(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],ON(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],FN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function VN(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>zN(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function GN(t){const e={},r=l(t,["citations"]);return r!=null&&u(e,["citations"],r),e}function qN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function HN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>qN(s))),u(e,["urlMetadata"],o)}return e}function KN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],VN(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],GN(o));const s=l(t,["finishMessage"]);s!=null&&u(e,["finishMessage"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],HN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const T=l(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function x0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>KN(y))),u(e,["candidates"],m)}const s=l(t,["createTime"]);s!=null&&u(e,["createTime"],s);const c=l(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=l(t,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const h=l(t,["responseId"]);h!=null&&u(e,["responseId"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function JN(t){const e={},r=l(t,["truncated"]);r!=null&&u(e,["truncated"],r);const o=l(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function YN(t){const e={},r=l(t,["values"]);r!=null&&u(e,["values"],r);const o=l(t,["statistics"]);return o!=null&&u(e,["statistics"],JN(o)),e}function WN(t){const e={},r=l(t,["billableCharacterCount"]);return r!=null&&u(e,["billableCharacterCount"],r),e}function $N(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions[]","embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>YN(d))),u(e,["embeddings"],c)}const s=l(t,["metadata"]);return s!=null&&u(e,["metadata"],WN(s)),e}function bw(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Ki(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function _w(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const s=l(t,["contentType"]);return s!=null&&u(e,["contentType"],s),e}function gu(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],bw(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const s=l(t,["_self"]);s!=null&&u(e,["safetyAttributes"],_w(s));const c=l(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function XN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>gu(d))),u(e,["generatedImages"],c)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&u(e,["positivePromptSafetyAttributes"],_w(s)),e}function jN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>gu(c))),u(e,["generatedImages"],s)}return e}function ZN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>gu(c))),u(e,["generatedImages"],s)}return e}function QN(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>gu(s))),u(e,["generatedImages"],o)}return e}function eD(t){const e={},r=l(t,["label"]);r!=null&&u(e,["label"],r);const o=l(t,["score"]);return o!=null&&u(e,["score"],o),e}function tD(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["mask"],bw(r));const o=l(t,["labels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>eD(c))),u(e,["labels"],s)}return e}function nD(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>tD(s))),u(e,["generatedMasks"],o)}return e}function rD(t){const e={},r=l(t,["endpoint"]);r!=null&&u(e,["name"],r);const o=l(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function iD(t){const e={},r=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const s=l(t,["updateTime"]);return s!=null&&u(e,["updateTime"],s),e}function oD(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const s=l(t,["step"]);return s!=null&&u(e,["step"],s),e}function Fd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["versionId"]);c!=null&&u(e,["version"],c);const d=l(t,["deployedModels"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(S=>rD(S))),u(e,["endpoints"],T)}const h=l(t,["labels"]);h!=null&&u(e,["labels"],h);const p=l(t,["_self"]);p!=null&&u(e,["tunedModelInfo"],iD(p));const m=l(t,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const y=l(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>oD(S))),u(e,["checkpoints"],T)}return e}function aD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["_self"]);if(s!=null){let c=aw(s);Array.isArray(c)&&(c=c.map(d=>Fd(d))),u(e,["models"],c)}return e}function sD(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function lD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function uD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["tokensInfo"]);return o!=null&&u(e,["tokensInfo"],o),e}function cD(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["uri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Ki(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function fD(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],cD(r)),e}function dD(t){const e={},r=l(t,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>fD(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function hD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response"]);return d!=null&&u(e,["response"],dD(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pD="Content-Type",mD="X-Server-Timeout",gD="User-Agent",zd="x-goog-api-client",yD="1.17.0",vD=`google-genai-sdk/${yD}`,wD="v1beta1",xD="v1beta",T0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class TD{constructor(e){var r,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wD,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:xD,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,o){const s=[this.getRequestUrlInternal(r)];return o&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,r,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))s.searchParams.append(d,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.unaryApiCall(s,c,e.httpMethod)}patchHttpOptions(e,r){const o=JSON.parse(JSON.stringify(e));for(const[s,c]of Object.entries(r))typeof c=="object"?o[s]=Object.assign(Object.assign({},o[s]),c):c!==void 0&&(o[s]=c);return o}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,r,o);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.streamApiCall(s,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,o){if(r&&r.timeout||o){const s=new AbortController,c=s.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const d=setTimeout(()=>s.abort(),r.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=c}return r&&r.extraBody!==null&&SD(e,r.extraBody),e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async s=>(await S0(s),new kd(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async s=>(await S0(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var r;return zo(this,arguments,function*(){const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:p}=yield Dt(s.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(p,{stream:!0});try{const T=JSON.parse(m);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),E=S.status,R=S.code,A=`got status: ${E}. ${JSON.stringify(T)}`;if(R>=400&&R<600)throw new pu({message:A,status:R})}}catch(T){if(T.name==="ApiError")throw T}d+=m;let y=d.match(T0);for(;y;){const T=y[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Dt(new kd(S)),d=d.slice(y[0].length),y=d.match(T0)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},r=vD+" "+this.clientOptions.userAgentExtra;return e[gD]=r,e[zd]=r,e[pD]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))r.append(o,s);e.timeout&&e.timeout>0&&r.append(mD,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var o;const s={};r!=null&&(s.mimeType=r.mimeType,s.name=r.name,s.displayName=r.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);s.sizeBytes=String(d.size);const h=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const p=await this.fetchUploadUrl(s,r);return c.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var o;let s={};r!=null&&r.httpOptions?s=r.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:Ye("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:s});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function S0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(o);throw r>=400&&r<600?new pu({message:s,status:r}):new Error(s)}}function SD(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(c,d){const h=Object.assign({},c);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p)){const m=d[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=o(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const s=o(r,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ED="mcp_used/unknown";let bD=!1;function Cw(t){for(const e of t)if(_D(e)||typeof e=="object"&&"inputSchema"in e)return!0;return bD}function Aw(t){var e;const r=(e=t[zd])!==null&&e!==void 0?e:"";t[zd]=(r+` ${ED}`).trimStart()}function _D(t){return t!==null&&typeof t=="object"&&t instanceof rh}function CD(t,e=100){return zo(this,arguments,function*(){let o,s=0;for(;s<e;){const c=yield Dt(t.listTools({cursor:o}));for(const d of c.tools)yield yield Dt(d),s++;if(!c.nextCursor)break;o=c.nextCursor}})}class rh{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new rh(e,r)}async initialize(){var e,r,o,s;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var h=!0,p=(r=void 0,xs(CD(y))),m;m=await p.next(),e=m.done,!e;h=!0){s=m.value,h=!1;const T=s;d.push(T);const S=T.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=y}}catch(T){r={error:T}}finally{try{!h&&!e&&(o=p.return)&&await o.call(p)}finally{if(r)throw r.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),rE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[o.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await s.callTool({name:o.name,arguments:o.args},void 0,c);r.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AD(t,e,r){const o=new $1;let s;r.data instanceof Blob?s=JSON.parse(await r.data.text()):s=JSON.parse(r.data);const c=sA(s);Object.assign(o,c),e(o)}class RD{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o}async connect(e){var r,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=MD(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(B=>{m=B}),T=e.callbacks,S=function(){m({})},E=this.apiClient,R={onopen:S,onmessage:B=>{AD(E,T.onmessage,B)},onerror:(r=T==null?void 0:T.onerror)!==null&&r!==void 0?r:function(B){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(B){}},A=this.webSocketFactory.create(p,DD(d),R);A.connect(),await y;const U=gt(this.apiClient,e.model),C=yw({model:U}),I=Bd({setup:C});return A.send(JSON.stringify(I)),new ND(A,this.apiClient)}}class ND{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=iC(e),o=vw(r);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=oC(e),o=Bd(r);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const r=Bd({playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Oo.PLAY)}pause(){this.sendPlaybackControl(Oo.PAUSE)}stop(){this.sendPlaybackControl(Oo.STOP)}resetContext(){this.sendPlaybackControl(Oo.RESET_CONTEXT)}close(){this.conn.close()}}function DD(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function MD(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ID="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kD(t,e,r){const o=new W1;let s;r.data instanceof Blob?s=await r.data.text():r.data instanceof ArrayBuffer?s=new TextDecoder().decode(r.data):s=r.data;const c=JSON.parse(s);if(t.isVertexAI()){const d=TA(c);Object.assign(o,d)}else{const d=ZC(c);Object.assign(o,d)}e(o)}class UD{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o,this.music=new RD(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,o,s,c,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Cw(e.config.tools)&&Aw(T);const S=OD(T);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const O=this.apiClient.getApiKey();let Se="BidiGenerateContent",Me="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Se="BidiGenerateContentConstrained",Me="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${Se}?${Me}=${O}`}let E=()=>{};const R=new Promise(O=>{E=O}),A=e.callbacks,U=function(){var O;(O=A==null?void 0:A.onopen)===null||O===void 0||O.call(A),E({})},C=this.apiClient,I={onopen:U,onmessage:O=>{kD(C,A.onmessage,O)},onerror:(r=A==null?void 0:A.onerror)!==null&&r!==void 0?r:function(O){},onclose:(o=A==null?void 0:A.onclose)!==null&&o!==void 0?o:function(O){}},B=this.webSocketFactory.create(y,BD(S),I);B.connect(),await R;let q=gt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const O=this.apiClient.getProject(),Se=this.apiClient.getLocation();q=`projects/${O}/locations/${Se}/`+q}let G={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ou.AUDIO]}:e.config.responseModalities=[ou.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const le=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],ae=[];for(const O of le)if(this.isCallableTool(O)){const Se=O;ae.push(await Se.tool())}else ae.push(O);ae.length>0&&(e.config.tools=ae);const ce={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=kC(this.apiClient,ce):G=eC(this.apiClient,ce),delete G.config,B.send(JSON.stringify(G)),new PD(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const LD={turnComplete:!0};class PD{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let o=[];try{o=qn(r.turns),e.isVertexAI()?o=o.map(s=>na(s)):o=o.map(s=>mu(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:o,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let o=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?o=r.functionResponses:o=[r.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const c of o){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(ID)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},LD),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:PC(e)}:r={realtimeInput:rC(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function BD(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function OD(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E0=10;function b0(t){var e,r,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const d of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(Vo(d)){s=!0;break}if(!s)return!0;const c=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Vo(t){return"callTool"in t&&typeof t.callTool=="function"}function FD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(s=>Vo(s)))!==null&&o!==void 0?o:!1}function zD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(s=>!Vo(s)))!==null&&o!==void 0?o:!1}function _0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VD extends Hi{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var o,s,c,d,h;const p=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!FD(r)||b0(r.config))return await this.generateContentInternal(p);if(zD(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const T=qn(p.contents),S=(c=(s=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:E0;let E=0;for(;E<S&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const R=m.candidates[0].content,A=[];for(const U of(h=(d=r.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Vo(U)){const I=await U.callTool(m.functionCalls);A.push(...I)}E++,y={role:"user",parts:A},p.contents=qn(p.contents),p.contents.push(R),p.contents.push(y),_0(p.config)&&(T.push(R),T.push(y))}return _0(p.config)&&(m.automaticFunctionCallingHistory=T),m},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),b0(r.config)){const o=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(o=>{var s;let c;const d=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((s=p==null?void 0:p.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=p==null?void 0:p.safetyAttributes:d.push(p);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async r=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ts(qi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async r=>{const o={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(o.referenceImages=r.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async r=>{let o={numberOfImages:1,mode:"upscale"};r.config&&(o=Object.assign(Object.assign({},o),r.config));const s={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:o};return await this.upscaleImageInternal(s)},this.generateVideos=async r=>{if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,o,s;const c=(r=e.config)===null||r===void 0?void 0:r.tools;if(!c)return e;const d=await Promise.all(c.map(async p=>Vo(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&Cw(e.config.tools)){const p=(s=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Aw(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var r,o,s;const c=new Map;for(const d of(o=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&o!==void 0?o:[])if(Vo(d)){const h=d,p=await h.tool();for(const m of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(e){var r,o,s;const c=(s=(o=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:E0;let d=!1,h=0;const p=await this.initAfcToolsMap(e);return(function(m,y,T){var S,E;return zo(this,arguments,function*(){for(var R,A,U,C;h<c;){d&&(h++,d=!1);const G=yield Dt(m.processParamsMaybeAddMcpUsage(T)),le=yield Dt(m.generateContentStreamInternal(G)),ae=[],ce=[];try{for(var I=!0,B=(A=void 0,xs(le)),q;q=yield Dt(B.next()),R=q.done,!R;I=!0){C=q.value,I=!1;const O=C;if(yield yield Dt(O),O.candidates&&(!((S=O.candidates[0])===null||S===void 0)&&S.content)){ce.push(O.candidates[0].content);for(const Se of(E=O.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<c&&Se.functionCall){if(!Se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Se.functionCall.name)){const Me=yield Dt(y.get(Se.functionCall.name).callTool([Se.functionCall]));ae.push(...Me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Se.functionCall.name}`)}}}}catch(O){A={error:O}}finally{try{!I&&!R&&(U=B.return)&&(yield Dt(U.call(B)))}finally{if(A)throw A.error}}if(ae.length>0){d=!0;const O=new ds;O.candidates=[{content:{role:"user",parts:ae}}],yield yield Dt(O);const Se=[];Se.push(...ce),Se.push({role:"user",parts:ae});const Me=qn(T.contents).concat(Se);T.contents=Me}else break}})})(this,p,e)}async generateContentInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=v0(this.apiClient,e);return h=Ye("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=x0(y),S=new ds;return Object.assign(S,T),S})}else{const m=y0(this.apiClient,e);return h=Ye("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=w0(y),S=new ds;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=v0(this.apiClient,e);return h=Ye("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(T){return zo(this,arguments,function*(){var S,E,R,A;try{for(var U=!0,C=xs(T),I;I=yield Dt(C.next()),S=I.done,!S;U=!0){A=I.value,U=!1;const B=A,q=x0(yield Dt(B.json()));q.sdkHttpResponse={headers:B.headers};const G=new ds;Object.assign(G,q),yield yield Dt(G)}}catch(B){E={error:B}}finally{try{!U&&!S&&(R=C.return)&&(yield Dt(R.call(C)))}finally{if(E)throw E.error}}})})}else{const m=y0(this.apiClient,e);return h=Ye("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(T){return zo(this,arguments,function*(){var S,E,R,A;try{for(var U=!0,C=xs(T),I;I=yield Dt(C.next()),S=I.done,!S;U=!0){A=I.value,U=!1;const B=A,q=w0(yield Dt(B.json()));q.sdkHttpResponse={headers:B.headers};const G=new ds;Object.assign(G,q),yield yield Dt(G)}}catch(B){E={error:B}}finally{try{!U&&!S&&(R=C.return)&&(yield Dt(R.call(C)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=LR(this.apiClient,e);return h=Ye("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=$N(y),S=new $y;return Object.assign(S,T),S})}else{const m=YA(this.apiClient,e);return h=Ye("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=_N(y),S=new $y;return Object.assign(S,T),S})}}async generateImagesInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=BR(this.apiClient,e);return h=Ye("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=XN(y),S=new Xy;return Object.assign(S,T),S})}else{const m=$A(this.apiClient,e);return h=Ye("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=RN(y),S=new Xy;return Object.assign(S,T),S})}}async editImageInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=HR(this.apiClient,e);return c=Ye("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=jN(p),y=new z1;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=JR(this.apiClient,e);return c=Ye("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=ZN(p),y=new V1;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=XR(this.apiClient,e);return c=Ye("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=QN(p),y=new G1;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=eN(this.apiClient,e);return c=Ye("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=nD(p),y=new q1;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=tN(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Fd(y))}else{const m=XA(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Od(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=rN(this.apiClient,e);return h=Ye("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=aD(y),S=new jy;return Object.assign(S,T),S})}else{const m=ZA(this.apiClient,e);return h=Ye("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=DN(y),S=new jy;return Object.assign(S,T),S})}}async update(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=oN(this.apiClient,e);return h=Ye("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Fd(y))}else{const m=eR(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Od(y))}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=aN(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=sD(y),S=new Zy;return Object.assign(S,T),S})}else{const m=tR(this.apiClient,e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=MN(y),S=new Zy;return Object.assign(S,T),S})}}async countTokens(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=lN(this.apiClient,e);return h=Ye("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=lD(y),S=new Qy;return Object.assign(S,T),S})}else{const m=rR(this.apiClient,e);return h=Ye("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=IN(y),S=new Qy;return Object.assign(S,T),S})}}async computeTokens(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=uN(this.apiClient,e);return c=Ye("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=uD(p),y=new H1;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=hN(this.apiClient,e);return h=Ye("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>{const T=hD(y),S=new au;return Object.assign(S,T),S})}else{const m=aR(this.apiClient,e);return h=Ye("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const T=PN(y),S=new au;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function qD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["operationName"],r);const o=l(t,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const s=l(t,["config"]);return s!=null&&u(e,["config"],s),e}function HD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KD extends Hi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=HD(e);return h=Ye("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d}else{const m=GD(e);return h=Ye("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=qD(e);return c=Ye("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JD(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Rw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],JD(r)),e}function YD(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Rw(o)),e}function WD(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>YD(s))),u(e,["speakerVoiceConfigs"],o)}return e}function $D(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Rw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],WD(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function XD(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function jD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ZD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function QD(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],XD(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],jD(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],ZD(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function eM(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>QD(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function tM(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function nM(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function rM(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],nM(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iM(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function oM(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],iM(r)),e}function aM(){return{}}function sM(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function lM(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>tM(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],rM(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],oM(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],aM());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],sM(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function uM(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function C0(){return{}}function cM(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function fM(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],cM(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function dM(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function hM(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],dM(o)),e}function pM(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function mM(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],$D(nh(T)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],eM(fn(E)));const R=l(t,["tools"]);if(e!==void 0&&R!=null){let G=ea(R);Array.isArray(G)&&(G=G.map(le=>lM(Qo(le)))),u(e,["setup","tools"],G)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],uM(A));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],C0());const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],C0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],fM(I));const B=l(t,["contextWindowCompression"]);e!==void 0&&B!=null&&u(e,["setup","contextWindowCompression"],hM(B));const q=l(t,["proactivity"]);return e!==void 0&&q!=null&&u(e,["setup","proactivity"],pM(q)),r}function gM(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],gt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],mM(s,r)),r}function yM(t,e,r){const o={},s=l(e,["expireTime"]);r!==void 0&&s!=null&&u(r,["expireTime"],s);const c=l(e,["newSessionExpireTime"]);r!==void 0&&c!=null&&u(r,["newSessionExpireTime"],c);const d=l(e,["uses"]);r!==void 0&&d!=null&&u(r,["uses"],d);const h=l(e,["liveConnectConstraints"]);r!==void 0&&h!=null&&u(r,["bidiGenerateContentSetup"],gM(t,h));const p=l(e,["lockAdditionalFields"]);return r!==void 0&&p!=null&&u(r,["fieldMask"],p),o}function vM(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],yM(t,o,r)),r}function wM(t){const e={},r=l(t,["name"]);return r!=null&&u(e,["name"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xM(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const s=Object.keys(o).map(c=>`${r}.${c}`);e.push(...s)}else e.push(r)}return e.join(",")}function TM(t,e){let r=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const c=o.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,r=c):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(r){const c=xM(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(m=>d.includes(m)?`generationConfig.${m}`:m));const p=[];c&&p.push(c),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class SM extends Hi{constructor(e){super(),this.apiClient=e}async create(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=vM(this.apiClient,e);c=Ye("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const p=TM(h,e.config);return s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>wM(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function bM(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function _M(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],bM(r,e)),e}function CM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function AM(t){const e={},r=l(t,["textInput"]);r!=null&&u(e,["textInput"],r);const o=l(t,["output"]);return o!=null&&u(e,["output"],o),e}function RM(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>AM(s))),u(e,["examples","examples"],o)}return e}function NM(t,e){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(t,["epochCount"]);e!==void 0&&s!=null&&u(e,["tuningTask","hyperparameters","epochCount"],s);const c=l(t,["learningRateMultiplier"]);if(c!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(t,["batchSize"]);e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","batchSize"],d);const h=l(t,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),r}function DM(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const s=l(t,["trainingDataset"]);s!=null&&u(e,["tuningTask","trainingData"],RM(s));const c=l(t,["config"]);return c!=null&&u(e,["config"],NM(c,e)),e}function MM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function IM(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function kM(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],IM(r,e)),e}function UM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function LM(t,e){const r={},o=l(t,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const s=l(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function PM(t,e){const r={},o=l(t,["gcsUri"]);o!=null&&u(r,["validationDatasetUri"],o);const s=l(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s),r}function BM(t,e){const r={},o=l(t,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],PM(o,r));const s=l(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&u(e,["tunedModelDisplayName"],s);const c=l(t,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=l(t,["epochCount"]);e!==void 0&&d!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=l(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=l(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=l(t,["preTunedModelCheckpointId"]);m!=null&&u(r,["preTunedModel","checkpointId"],m);const y=l(t,["adapterSize"]);if(e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function OM(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const s=l(t,["trainingDataset"]);s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],LM(s,e));const c=l(t,["config"]);return c!=null&&u(e,["config"],BM(c,e)),e}function FM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["model"],r);const o=l(t,["name"]);return o!=null&&u(e,["endpoint"],o),e}function Nw(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],rw(s));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["tuningTask","startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["tuningTask","completeTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["description"]);m!=null&&u(e,["description"],m);const y=l(t,["baseModel"]);y!=null&&u(e,["baseModel"],y);const T=l(t,["_self"]);T!=null&&u(e,["tunedModel"],FM(T));const S=l(t,["customBaseModel"]);S!=null&&u(e,["customBaseModel"],S);const E=l(t,["experiment"]);E!=null&&u(e,["experiment"],E);const R=l(t,["labels"]);R!=null&&u(e,["labels"],R);const A=l(t,["outputUri"]);A!=null&&u(e,["outputUri"],A);const U=l(t,["pipelineJob"]);U!=null&&u(e,["pipelineJob"],U);const C=l(t,["serviceAccount"]);C!=null&&u(e,["serviceAccount"],C);const I=l(t,["tunedModelDisplayName"]);return I!=null&&u(e,["tunedModelDisplayName"],I),e}function zM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Nw(d))),u(e,["tuningJobs"],c)}return e}function VM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["metadata"]);s!=null&&u(e,["metadata"],s);const c=l(t,["done"]);c!=null&&u(e,["done"],c);const d=l(t,["error"]);return d!=null&&u(e,["error"],d),e}function GM(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const s=l(t,["step"]);s!=null&&u(e,["step"],s);const c=l(t,["endpoint"]);return c!=null&&u(e,["endpoint"],c),e}function qM(t){const e={},r=l(t,["model"]);r!=null&&u(e,["model"],r);const o=l(t,["endpoint"]);o!=null&&u(e,["endpoint"],o);const s=l(t,["checkpoints"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>GM(d))),u(e,["checkpoints"],c)}return e}function Vd(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],rw(s));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["endTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["error"]);m!=null&&u(e,["error"],m);const y=l(t,["description"]);y!=null&&u(e,["description"],y);const T=l(t,["baseModel"]);T!=null&&u(e,["baseModel"],T);const S=l(t,["tunedModel"]);S!=null&&u(e,["tunedModel"],qM(S));const E=l(t,["preTunedModel"]);E!=null&&u(e,["preTunedModel"],E);const R=l(t,["supervisedTuningSpec"]);R!=null&&u(e,["supervisedTuningSpec"],R);const A=l(t,["tuningDataStats"]);A!=null&&u(e,["tuningDataStats"],A);const U=l(t,["encryptionSpec"]);U!=null&&u(e,["encryptionSpec"],U);const C=l(t,["partnerModelTuningSpec"]);C!=null&&u(e,["partnerModelTuningSpec"],C);const I=l(t,["customBaseModel"]);I!=null&&u(e,["customBaseModel"],I);const B=l(t,["experiment"]);B!=null&&u(e,["experiment"],B);const q=l(t,["labels"]);q!=null&&u(e,["labels"],q);const G=l(t,["outputUri"]);G!=null&&u(e,["outputUri"],G);const le=l(t,["pipelineJob"]);le!=null&&u(e,["pipelineJob"],le);const ae=l(t,["serviceAccount"]);ae!=null&&u(e,["serviceAccount"],ae);const ce=l(t,["tunedModelDisplayName"]);return ce!=null&&u(e,["tunedModelDisplayName"],ce),e}function HM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Vd(d))),u(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KM extends Hi{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new Ts(qi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const o={tunedModelName:r.baseModel},s=Object.assign(Object.assign({},r),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},r);return await this.tuneInternal(o)}else{const o=Object.assign({},r),s=await this.tuneMldevInternal(o);let c="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?c=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(c=s.name.split("/operations/")[0]),{name:c,state:Id.JOB_STATE_QUEUED}}}}async getInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=MM(e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Vd(y))}else{const m=EM(e);return h=Ye("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Nw(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=kM(e);return h=Ye("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=HM(y),S=new t0;return Object.assign(S,T),S})}else{const m=_M(e);return h=Ye("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=zM(y),S=new t0;return Object.assign(S,T),S})}}async cancel(e){var r,o,s,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=UM(e);d=Ye("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=CM(e);d=Ye("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=OM(e);return c=Ye("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>Vd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=DM(e);return c=Ye("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>VM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JM{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const YM=1024*1024*8,WM=3,$M=1e3,XM=2,Lf="x-goog-upload-status";async function jM(t,e,r){var o,s,c;let d=0,h=0,p=new kd(new Response),m="upload";for(d=t.size;h<d;){const T=Math.min(YM,d-h),S=t.slice(h,h+T);h+T>=d&&(m+=", finalize");let E=0,R=$M;for(;E<WM&&(p=await r.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((o=p==null?void 0:p.headers)===null||o===void 0)&&o[Lf]));)E++,await QM(R),R=R*XM;if(h+=T,((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[Lf])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((c=p==null?void 0:p.headers)===null||c===void 0?void 0:c[Lf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function ZM(t){return{size:t.size,type:t.type}}function QM(t){return new Promise(e=>setTimeout(e,t))}class eI{async upload(e,r,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jM(e,r,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tI{create(e,r,o){return new nI(e,r,o)}}class nI{constructor(e,r,o){this.url=e,this.headers=r,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A0="x-goog-api-key";class rI{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(A0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(A0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iI="gl-node/";class oI{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const o=F1(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const s=new rI(this.apiKey);this.apiClient=new TD({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:iI+"web",uploader:new eI,downloader:new JM}),this.models=new VD(this.apiClient),this.live=new UD(this.apiClient,s,new tI),this.batches=new cb(this.apiClient),this.chats=new g_(this.models,this.apiClient),this.caches=new h_(this.apiClient),this.files=new N_(this.apiClient),this.operations=new KD(this.apiClient),this.authTokens=new SM(this.apiClient),this.tunings=new KM(this.apiClient)}}const Ss=new oI({apiKey:"PLACEHOLDER_API_KEY"}),aI=t=>t.map(e=>{if(e.type==="image"){const{src:r,...o}=e;return o}return e}),er=t=>t.map(e=>({...e,content:aI(e.content)})),Gd=t=>Math.round((t||"").length/3.5),R0=t=>Array.isArray(t)?t.map(e=>{if(e.type==="list"){const r=e;if(typeof r.text=="string"&&!Array.isArray(r.items))return{type:"list",style:r.style||"unordered",items:[r.text]}}return e}):[],N0=t=>(t.newDocuments&&(t.newDocuments=t.newDocuments.map(e=>({...e,content:R0(e.content)}))),t.updatedDocuments&&(t.updatedDocuments=t.updatedDocuments.map(e=>({...e,content:R0(e.content)}))),t),D0={type:lt.OBJECT,properties:{id:{type:lt.STRING},title:{type:lt.STRING},category:{type:lt.STRING},content:{type:lt.ARRAY,items:{type:lt.OBJECT,properties:{type:{type:lt.STRING,enum:["heading","paragraph","list","image","blockquote","definition_list"]},level:{type:lt.INTEGER,description:"Apenas para blocos 'heading'. Níveis 1, 2 ou 3."},text:{type:lt.STRING,description:"O conteúdo de texto para blocos 'heading', 'paragraph' e 'blockquote'."},style:{type:lt.STRING,enum:["unordered","ordered"],description:"Apenas para blocos 'list'."},items:{oneOf:[{type:lt.ARRAY,items:{type:lt.STRING},description:"Uma array de strings de itens para blocos 'list'."},{type:lt.ARRAY,items:{type:lt.OBJECT,properties:{term:{type:lt.STRING},description:{type:lt.STRING}},required:["term","description"]},description:"Apenas para blocos 'definition_list'. Uma array de objetos com 'term' e 'description'."}]},id:{type:lt.STRING,description:"O ID único para blocos 'image'."},caption:{type:lt.STRING,description:"A legenda para blocos 'image'."}},required:["type"]}}},required:["id","title","category","content"]},yu={type:lt.OBJECT,properties:{newDocuments:{type:lt.ARRAY,description:"Array de documentos inteiramente novos. Se nenhum for criado, retorne um array vazio [].",items:D0},updatedDocuments:{type:lt.ARRAY,description:"Array de documentos existentes que foram modificados. Retorne o objeto completo para cada documento modificado. Se nenhum for modificado, retorne um array vazio [].",items:D0},deletedDocumentIds:{type:lt.ARRAY,description:"Array de IDs de documentos a serem excluídos. Se nenhum for removido, retorne um array vazio [].",items:{type:lt.STRING}},summary:{type:lt.STRING,description:"Um breve resumo em uma frase das mudanças feitas."},thinkingProcess:{type:lt.ARRAY,description:"Uma lista passo a passo em Português Brasileiro descrevendo o raciocínio para as mudanças feitas.",items:{type:lt.STRING}}},required:["newDocuments","updatedDocuments","deletedDocumentIds","summary","thinkingProcess"]};async function vu(t,e,r,o){const s=async(d,h=0)=>{const p=await Ss.models.generateContentStream({model:"gemini-2.5-flash",contents:d,config:e});let m="";for await(const y of p)y.text&&(m+=y.text,r(h+Gd(m)));return m};let c=await s(t);try{let d=JSON.parse(c);if(!d.newDocuments||!d.updatedDocuments||!d.deletedDocumentIds||!d.summary||!d.thinkingProcess)throw new Error("A resposta da IA está faltando campos obrigatórios.");return d=N0(d),{payload:d,rawJson:c}}catch(d){console.warn("Falha ao analisar o JSON da primeira tentativa, tentando continuar.",{error:d,partialJson:c}),o("A resposta da IA foi longa e foi cortada. Solicitando a continuação para completar a tarefa...");let h="Nenhum processo de raciocínio foi capturado na resposta parcial.";try{const S=c.match(/"thinkingProcess"\s*:\s*\[\s*([^\]]*)/);if(S&&S[1]){const E=S[1].match(/"(.*?)"/g);E&&(h=E.map(R=>` - ${JSON.parse(R)}`).join(`
`))}}catch(S){console.error("Não foi possível extrair o processo de raciocínio.",S)}const p=`${t}

---
CONTEXTO DA SUA TENTATIVA ANTERIOR (que foi interrompida):
Seu processo de raciocínio parcial foi:
${h}

Sua resposta JSON parcial foi:
${c}
---

Continue o que estava fazendo.`,m=Gd(c),y=await s(p,m),T=c+y;try{let S=JSON.parse(T);if(!S.newDocuments||!S.updatedDocuments||!S.deletedDocumentIds||!S.summary||!S.thinkingProcess)throw new Error("A resposta da IA na segunda tentativa também está faltando campos obrigatórios.");return console.log("Continuação bem-sucedida! JSON combinado analisado com sucesso."),S=N0(S),{payload:S,rawJson:T}}catch(S){throw console.error("Falha ao analisar o JSON mesmo após a continuação.",{retryError:S,finalJson:T}),new Error("Falha ao obter uma resposta JSON válida da IA, mesmo após uma nova tentativa. A resposta combinada era inválida. Por favor, tente simplificar sua instrução.")}}}async function sI(t,e,r,o,s,c){const d=er(e),p=`
    ${r==="GDD"?"Você é um game designer especialista gerenciando um Documento de Design de Jogo (GDD) interligado.":"Você é um roteirista sênior gerenciando um Roteiro de Jogo cronológico interligado."}
    Sua tarefa é integrar de forma inteligente e focada uma nova ideia/texto fornecida por um usuário na estrutura do documento existente.
    O objetivo principal é manter cada documento coeso e focado em seu próprio assunto, evitando a saturação de links e informações tangenciais.

    **REGRAS CRÍTicas:**
    1.  **Princípio do Foco do Documento:** Cada documento deve ter um propósito claro e se concentrar em seu próprio tópico. Não adicione detalhes extensos sobre um conceito se ele já tiver seu próprio documento dedicado. A integração deve ocorrer no local mais apropriado.
    2.  **Integração Direta:** Analise a ideia do usuário e determine o melhor local para integrá-la. Isso pode significar criar um novo documento para uma nova mecânica ou adicionar um parágrafo a um documento existente.
    3.  **Links Internos com Moderação:** Ao adicionar conteúdo, crie um link para outro documento (usando [[Título do Documento]]) SOMENTE se a referência for **essencial e direta** para a compreensão do texto atual. Evite links para documentos com relação apenas indireta. NÃO sature o texto com links; a clareza é mais importante que a interconexão exaustiva. Se você renomear um documento, atualize os links existentes para ele.
    4.  **Edições Precisas:** Faça apenas as alterações estritamente necessárias. NÃO reescreva partes de um documento que não foram afetadas pela ideia. Modifique apenas o texto relevante para incorporar a nova ideia.
    5.  **Formato de Saída:** Sua resposta DEVE ser um único objeto JSON com as chaves especificadas no esquema.
    6.  **Raciocínio (thinkingProcess):** Forneça uma lista passo a passo descrevendo seu raciocínio. Explique por que você está criando ou atualizando documentos específicos, justificando a relevância da alteração para aquele documento. Este campo é OBRIGATÓRIO.
    7.  **Preservar IDs:** Você DEVE preservar o 'id' dos documentos e blocos de imagem existentes.
    8.  **Novos IDs:** Para novos documentos, gere um ID único usando o timestamp atual como uma string (ex: "${Date.now()}").
    9.  **Idioma:** Toda a sua saída (títulos, conteúdo, resumo) DEVE ESTAR EM PORTUGUÊS BRASILEIRO.
    10. **Estrutura do Conteúdo:** Adira à estrutura de blocos de conteúdo.

    **Novos Blocos de Conteúdo:**
    - **Blockquote (\`blockquote\`):** Use para citações, diálogos, ou para destacar um parágrafo que necessita de ênfase especial, separando-o visualmente do texto principal.
    - **Lista de Definição (\`definition_list\`):** Use para pares de termo-definição. Ideal para explicar mecânicas, atributos, ou glossários. Exemplo: 'Mecânica: [descrição]' deve se tornar um item em uma lista de definição.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(d,null,2)}
    ---

    **NOVA IDEIA PARA INTEGRAR:**
    ---
    ${t}
    ---

    Agora, execute a integração focada e retorne APENAS AS ALTERAÇÕES no formato JSON especificado.
  `,m={responseMimeType:"application/json",responseSchema:yu,maxOutputTokens:c.maxOutputTokens,thinkingConfig:{thinkingBudget:c.thinkingBudget}};try{return await vu(p,m,o,s)}catch(y){throw console.error("Erro final ao chamar a API Gemini para integração de ideia:",y),new Error(y instanceof Error?y.message:"Falha ao obter uma resposta válida da IA.")}}async function lI(t,e,r,o,s,c){const d=er(e),h=er(r),p=`
    Você é um roteirista sênior gerenciando um Roteiro de Jogo cronológico. Você tem acesso de LEITURA ao Game Design Document (GDD) completo para ter contexto.
    Sua tarefa é integrar de forma inteligente e focada uma nova ideia/texto fornecida por um usuário na estrutura do Roteiro existente.

    **REGRAS CRÍTicas:**
    1.  **ESCOPO DE MODIFICAÇÃO:** Você SÓ PODE modificar, criar ou deletar documentos do 'Roteiro'. O GDD é apenas para referência e NÃO PODE ser alterado nesta tarefa.
    2.  **Princípio do Foco do Documento:** Cada documento de roteiro deve ter um propósito claro (uma missão, uma cutscene, etc.). A integração deve ocorrer no local mais apropriado.
    3.  **SEM Links Novos:** NÃO CRIE novos links internos (usando [[Título do Documento]]) no Roteiro. O roteiro deve ser um documento linear sem links para o GDD. Você pode referenciar conceitos do GDD por nome (ex: 'Amuletos'), mas não crie um link para eles.
    4.  **Edições Precisas:** Faça apenas as alterações estritamente necessárias. NÃO reescreva partes de um documento que não foram afetadas pela ideia.
    5.  **Formato de Saída:** Sua resposta DEVE ser um único objeto JSON com as chaves especificadas no esquema, afetando APENAS a coleção de documentos do Roteiro.
    6.  **Raciocínio (thinkingProcess):** Forneça uma lista passo a passo descrevendo seu raciocínio.
    7.  **Preservar IDs:** Você DEVE preservar o 'id' dos documentos existentes.
    8.  **Novos IDs:** Para novos documentos, gere um ID único usando o timestamp (ex: "${Date.now()}").
    9.  **Idioma:** Toda a sua saída DEVE ESTAR EM PORTUGUÊS BRASILEIRO.
    10. **Estrutura do Conteúdo:** Adira à estrutura de blocos de conteúdo.

    **Novos Blocos de Conteúdo:**
    - **Blockquote (\`blockquote\`):** Use para citações, diálogos, ou para destacar um parágrafo que necessita de ênfase especial, separando-o visualmente do texto principal.
    - **Lista de Definição (\`definition_list\`):** Use para pares de termo-definição. Ideal para explicar mecânicas, atributos, ou glossários. Exemplo: 'Mecânica: [descrição]' deve se tornar um item em uma lista de definição.

    **CONTEXTO DE LEITURA - GDD:**
    ---
    ${JSON.stringify(h,null,2)}
    ---

    **DOCUMENTOS DO ROTEIRO (Seu escopo de trabalho):**
    ---
    ${JSON.stringify(d,null,2)}
    ---

    **NOVA IDEIA PARA INTEGRAR:**
    ---
    ${t}
    ---

    Agora, execute a integração focada no Roteiro e retorne APENAS AS ALTERAÇÕES no formato JSON especificado.
  `,m={responseMimeType:"application/json",responseSchema:yu,maxOutputTokens:c.maxOutputTokens,thinkingConfig:{thinkingBudget:c.thinkingBudget}};try{return await vu(p,m,o,s)}catch(y){throw console.error("Erro final ao chamar a API Gemini para a ideia de roteiro:",y),new Error(y instanceof Error?y.message:"Falha ao obter uma resposta válida da IA.")}}async function uI(t,e,r,o,s,c,d){const h=er(e),p=er(r),m=er(o),y=`
    Você é um diretor de jogo sênior e estrategista. Sua tarefa é gerenciar um conjunto de documentos secretos e de alto nível.
    Você tem acesso de LEITURA ao Game Design Document (GDD) e ao Roteiro completos para ter contexto total sobre o jogo.

    **REGRAS CRÍTicas:**
    1.  **ESCOPO DE MODIFICAÇÃO:** Você SÓ PODE modificar, criar ou deletar os 'DOCUMENTOS SECRETOS'. O GDD e o Roteiro são apenas para referência e NÃO PODEM ser alterados nesta tarefa.
    2.  **Integração Estratégica:** Analise a nova 'IDEIA ESTRATÉGICA' e integre-a de forma inteligente nos 'DOCUMENTOS SECRETOS'. Isso pode envolver a criação de novos documentos secretos ou a atualização dos existentes.
    3.  **Links:** Você pode criar links dos documentos secretos para os documentos do GDD ou Roteiro (usando [[Título do Documento]]), mas não o contrário.
    4.  **Formato de Saída:** Sua resposta DEVE ser um único objeto JSON afetando APENAS a coleção de documentos secretos.
    5.  **Raciocínio (thinkingProcess):** Explique seu raciocínio estratégico para as mudanças.
    6.  **IDs:** Preserve os IDs existentes. Crie novos IDs para novos documentos usando o timestamp.
    7.  **Idioma:** Toda a sua saída DEVE ESTAR EM PORTUGUÊS BRASILEIRO.

    **CONTEXTO DE LEITURA - GDD:**
    ---
    ${JSON.stringify(p,null,2)}
    ---

    **CONTEXTO DE LEITURA - Roteiro:**
    ---
    ${JSON.stringify(m,null,2)}
    ---

    **DOCUMENTOS SECRETOS (Seu escopo de trabalho):**
    ---
    ${JSON.stringify(h,null,2)}
    ---

    **NOVA IDEIA ESTRATÉGICA PARA INTEGRAR:**
    ---
    ${t}
    ---

    Agora, execute a integração estratégica nos documentos secretos e retorne APENAS AS ALTERAÇÕES no formato JSON especificado.
  `,T={responseMimeType:"application/json",responseSchema:yu,maxOutputTokens:d.maxOutputTokens,thinkingConfig:{thinkingBudget:d.thinkingBudget}};try{return await vu(y,T,s,c)}catch(S){throw console.error("Erro final ao chamar a API Gemini para a ideia secreta:",S),new Error(S instanceof Error?S.message:"Falha ao obter uma resposta válida da IA.")}}async function cI(t,e,r,o){const c=`
      Você é um assistente de escrita. Sua tarefa é reescrever o texto fornecido com base na instrução dada.
      ${r?`
      CONTEXTO DO DOCUMENTO (APENAS DOCUMENTOS RELEVANTES):
      ---
      ${JSON.stringify(er(r).map(d=>({title:d.title,category:d.category,content:d.content})),null,2)}
      ---
    `:""}
      Responda APENAS com o texto reescrito, dentro de um objeto JSON com uma única chave "rewrittenText". Não adicione nenhuma explicação ou formatação extra.
      Todos os links internos no formato [[Título do Documento]], [[Título do Documento#Texto do Título]] ou [[img:id-da-imagem]] devem ser preservados.

      INSTRUÇÃO:
      "${e}"

      TEXTO ORIGINAL A SER REESCRITO:
      ---
      ${t}
      ---
    `;try{const d=await Ss.models.generateContentStream({model:"gemini-2.5-flash",contents:c,config:{responseMimeType:"application/json",responseSchema:{type:lt.OBJECT,properties:{rewrittenText:{type:lt.STRING,description:"O texto reescrito."}},required:["rewrittenText"]},maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}});let h="";for await(const y of d)y.text&&(h+=y.text,o(Gd(h)));const p=h.trim(),m=JSON.parse(p);if(typeof m.rewrittenText!="string")throw new Error("A resposta da IA não continha o texto reescrito esperado.");return m.rewrittenText}catch(d){throw console.error("Erro ao chamar a API Gemini para aprimorar o texto:",d),new Error("Falha ao obter uma resposta válida da IA para o aprimoramento do texto.")}}async function fI(t,e,r,o,s,c){const d=r==="GDD"?"Documento de Design de Jogo (GDD)":"Roteiro de Jogo",h=er(e),p=`
    Você é um especialista encarregado de gerenciar um ${d} interligado.
    Sua tarefa é realizar uma atualização de alto nível em todo o documento com base na instrução de um usuário.

    **REGRAS CRÍTICAS:**
    1.  **Formato de Saída:** Sua resposta DEVE ser um único objeto JSON com as chaves especificadas no esquema.
    2.  **Raciocínio (thinkingProcess):** Forneça uma lista passo a passo descrevendo seu raciocínio para as mudanças. Explique por que você está criando, atualizando ou excluindo documentos. Este campo é OBRIGATÓRIO.
    3.  **Preservar IDs:** Ao atualizar um documento existente, você DEVE preservar seu 'id' original. Para blocos de imagem, você DEVE preservar seu 'id' original.
    4.  **IDs de Novos Documentos:** Para quaisquer novos documentos que você criar, gere um ID único usando o timestamp atual como uma string (ex: "${Date.now()}").
    5.  **Edições Focadas:** Faça apenas as alterações estritamente necessárias para cumprir a instrução. Não reescreva ou reorganize partes do documento que não estão diretamente relacionadas à instrução do usuário.
    6.  **Blocos de Imagem:** Você NÃO PODE criar novos blocos de imagem ou inventar IDs de imagem. Você pode mover blocos de imagem existentes, alterar suas legendas ('caption') ou excluí-los, mas o campo 'id' de uma imagem existente DEVE ser preservado.
    7.  **Sem Deleções de Documentos:** Por segurança, não delete nenhum documento. Você pode atualizar o conteúdo para ficar vazio ou marcar o documento como obsoleto no título, mas não o remova do array de saída.
    8.  **Links Internos:** Mantenha e atualize meticulosamente todos os links internos. Use o formato [[Título do Documento]] para vincular a um documento. Para vincular a um título específico dentro de um documento, use o formato [[Título do Documento#Texto do Título]]. Se você renomear um documento ou um título, atualize TODOS os links que apontam para ele em todo o GDD/Roteiro. Links de imagem usam [[img:id-da-imagem]].
    9.  **Idioma:** Toda a sua saída (títulos, conteúdo, etc.) DEVE ESTAR EM PORTUGUÊS BRASILEIRO.
    
    **Novos Blocos de Conteúdo:**
    - **Blockquote (\`blockquote\`):** Use para citações, diálogos, ou para destacar um parágrafo que necessita de ênfase especial, separando-o visualmente do texto principal.
    - **Lista de Definição (\`definition_list\`):** Use para pares de termo-definição. Ideal para explicar mecânicas, atributos, ou glossários. Exemplo: 'Mecânica: [descrição]' deve se tornar um item em uma lista de definição.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(h,null,2)}
    ---

    **INSTRUÇÃO DO USUÁRIO:**
    ---
    ${t}
    ---

    Agora, execute as atualizações solicitadas e retorne APENAS AS ALTERAÇÕES no formato JSON especificado.
  `,m={responseMimeType:"application/json",responseSchema:yu,maxOutputTokens:c.maxOutputTokens,thinkingConfig:{thinkingBudget:c.thinkingBudget}};try{return await vu(p,m,o,s)}catch(y){throw console.error("Erro final ao chamar a API Gemini para atualização global:",y),new Error(y instanceof Error?y.message:"Falha ao obter uma resposta válida da IA.")}}function dI(t,e){const r={GDD:er(t),Roteiro:er(e)},o=`
        Você é um assistente especialista em design de jogos. Sua finalidade é responder a perguntas sobre o Documento de Design de Jogo (GDD) e o Roteiro fornecidos. 
        Você NÃO DEVE inventar informações. Baseie todas as suas respostas estritamente no contexto fornecido.
        NÃO se ofereça para modificar os documentos. Seu papel é apenas consultivo.
        Seja conciso e direto em suas respostas.

        Aqui está o contexto completo:
        ---
        ${JSON.stringify(r,null,2)}
        ---
    `;return Ss.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:o,maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}})}async function hI(t,e,r,o){let s="";t.content.slice(Math.max(0,e-2),e+1).forEach(p=>{"text"in p&&p.text&&(s+=p.text+`
`),"items"in p&&Array.isArray(p.items)&&(s+=p.items.join(`
`)+`
`)}),s||(s=t.content.map(p=>"text"in p?p.text:"").join(`
`));const d=er(r),h=`
        Você é um diretor de arte e artista conceitual trabalhando em um jogo. Sua tarefa é escrever um prompt de geração de imagem detalhado e vívido para o modelo de imagem 'Imagen'.

        **REGRAS CRÍTICAS:**
        1.  **Contexto Completo:** Use o JSON 'DOCUMENTO COMPLETO' abaixo para entender o estilo visual geral, design de personagens, ambientação e lore do jogo. Sua imagem DEVE ser consistente com este contexto.
        2.  **Contexto Específico:** O 'CONTEXTO ESPECÍFICO DA CENA' descreve onde a imagem será inserida. Use-o para entender a cena imediata, a ação e o humor.
        3.  **Instrução do Usuário:** Se uma 'INSTRUÇÃO DO USUÁRIO' for fornecida, ela tem a MAIOR prioridade para o conteúdo da cena. Integre a instrução do usuário de forma criativa, mas AINDA mantenha a consistência com o estilo visual do 'DOCUMENTO COMPLETO'.
        4.  **Formato do Prompt:** O prompt que você escrever deve ser em inglês, altamente descritivo, focado em detalhes visuais e usar termos artísticos. Pense em composição, iluminação, paleta de cores, estilo artístico e emoção.
        5.  **Saída:** Sua resposta DEVE ser um único objeto JSON com uma única chave "image_prompt".

        **DOCUMENTO COMPLETO (GDD/Roteiro):**
        ---
        ${JSON.stringify(d,null,2)}
        ---

        **CONTEXTO ESPECÍFICO DA CENA:**
        ---
        ${s.trim()}
        ---

        **INSTRUÇÃO DO USUÁRIO (se houver):**
        ---
        ${o||"Nenhuma. Crie a imagem com base no contexto da cena e no GDD."}
        ---

        Agora, escreva o prompt para o modelo de imagem e retorne-o no formato JSON especificado.
    `;try{const m=(await Ss.models.generateContent({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:{type:lt.OBJECT,properties:{image_prompt:{type:lt.STRING,description:"O prompt de geração de imagem detalhado em inglês."}},required:["image_prompt"]},thinkingConfig:{thinkingBudget:5e3}}})).text.trim(),y=JSON.parse(m);if(typeof y.image_prompt!="string"||!y.image_prompt)throw new Error("A IA não gerou um prompt de imagem válido.");return y.image_prompt}catch(p){throw console.error("Erro ao chamar a API Gemini para gerar o prompt de imagem:",p),new Error("Falha ao criar um prompt para a imagem. O serviço pode estar indisponível.")}}async function pI(t){try{const e=await Ss.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:"16:9"}});if(!e.generatedImages||e.generatedImages.length===0||!e.generatedImages[0].image.imageBytes)throw new Error("A API de imagem não retornou dados de imagem.");return{base64:e.generatedImages[0].image.imageBytes,mimeType:"image/png"}}catch(e){throw console.error("Erro ao chamar a API Imagen para gerar imagem:",e),new Error("Falha ao gerar a imagem. Verifique o prompt ou a disponibilidade do serviço.")}}function mI(t){const e=t.split(",");if(e.length<2)throw new Error("Invalid data URL format for blob conversion");const r=e[0].match(/:(.*?);/);if(!r)throw new Error("Could not parse MIME type from data URL");const o=r[1],s=atob(e[1]);let c=s.length;const d=new Uint8Array(c);for(;c--;)d[c]=s.charCodeAt(c);return new Blob([d],{type:o})}async function M0(t,e,r,o,s){const c=t.replace(/\/$/,""),d=JSON.parse(JSON.stringify(r)),h=o?JSON.parse(JSON.stringify(o)):null,p=[],m=[...d.gdd,...d.script,...h||[]];for(const y of m)if(!(!y.content||!Array.isArray(y.content))){for(const T of y.content)if(T.type==="image"&&T.src&&T.src.startsWith("data:image")){const S=(async()=>{try{const E=mI(T.src),R=new File([E],`image-${Date.now()}.${E.type.split("/")[1]||"png"}`,{type:E.type}),A=new FormData;A.append("file",R);const U=await fetch(`${c}/upload-imagem`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:A});if(!U.ok){const I=await U.text();throw new Error(`Falha no upload da imagem: ${U.status} - ${I}`)}const C=await U.json();if(!C.url)throw new Error("A resposta do upload de imagem não continha uma URL.");T.src=C.url}catch(E){throw console.error("Erro ao processar e fazer upload de uma imagem:",E),E}})();p.push(S)}}try{await Promise.all(p);const y=await fetch(`${c}/versions`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({type:s.type,name:s.name,gddData:d,secretData:h})});if(!y.ok){const T=await y.text();throw new Error(`Erro do servidor ao salvar a versão: ${y.status} - ${T}`)}return await y.json()}catch(y){throw console.error("Falha ao salvar versão na nuvem:",y),new Error(`Falha na comunicação com o servidor: ${y instanceof Error?y.message:"Erro desconhecido"}`)}}async function gI(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/versions`,{method:"GET",headers:{"X-Access-Key":e}});if(!o.ok){const c=await o.text();throw new Error(`Erro do servidor: ${o.status} - ${c}`)}const s=await o.json();if(!s||!Array.isArray(s.manual)||!Array.isArray(s.automatic))throw new Error("Dados de versões recebidos da nuvem estão em um formato inválido.");return s}catch(o){throw console.error("Falha ao buscar versões da nuvem:",o),new Error(`Falha na comunicação com o servidor: ${o instanceof Error?o.message:"Erro desconhecido"}`)}}async function I0(t,e,r){const o=t.replace(/\/$/,"");try{const s=await fetch(`${o}/versions/${r}`,{method:"GET",headers:{"X-Access-Key":e}});if(!s.ok){const d=await s.text();throw new Error(`Erro do servidor: ${s.status} - ${d}`)}const c=await s.json();if(!c||!Array.isArray(c.gdd)||!Array.isArray(c.script))throw new Error("Dados da versão recebidos da nuvem estão em um formato inválido.");return c}catch(s){throw console.error("Falha ao carregar versão da nuvem:",s),new Error(`Falha na comunicação com o servidor: ${s instanceof Error?s.message:"Erro desconhecido"}`)}}async function k0(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/versions/latest/meta`,{method:"GET",headers:{"X-Access-Key":e}});if(o.status===404)return null;if(!o.ok){const c=await o.text();throw new Error(`Erro do servidor: ${o.status} - ${c}`)}const s=await o.json();if(!s||!s.id||!s.timestamp)throw new Error("Metadados da versão mais recente recebidos em formato inválido.");return s}catch(o){throw console.error("Falha ao buscar metadados da versão mais recente:",o),new Error(`Falha na comunicação com o servidor: ${o instanceof Error?o.message:"Erro desconhecido"}`)}}async function yI(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/verify-admin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})});return o.status===200?(await o.json()).valid===!0:!1}catch(o){throw console.error("Falha ao verificar a chave de administrador:",o),new Error("Não foi possível conectar ao servidor para verificar a chave. Verifique a URL do Worker e sua conexão.")}}async function U0(t,e,r,o){const s=t.replace(/\/$/,""),c=new FormData;if(r&&c.append("gdd_docx",r,"GDD.docx"),o&&c.append("script_docx",o,"Script.docx"),!r&&!o){console.log("Nenhum blob .docx para enviar.");return}try{const d=await fetch(`${s}/latest-docx`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:c});if(!d.ok){const h=await d.text();throw new Error(`Erro do servidor ao salvar .docx: ${d.status} - ${h}`)}console.log("Arquivos .docx salvos com sucesso na nuvem.")}catch(d){console.error("Falha ao salvar arquivos .docx na nuvem:",d)}}const vI="GDD_DATABASE",wI=2,lu="gdd_documents",uu="script_documents",cu="secret_documents",Dw="all_docs";let hs=null;function Mw(){return hs||(hs=new Promise((t,e)=>{const r=indexedDB.open(vI,wI);r.onerror=()=>{console.error("IndexedDB error:",r.error),e("Error opening IndexedDB."),hs=null},r.onsuccess=()=>{t(r.result)},r.onupgradeneeded=o=>{const s=o.target.result;s.objectStoreNames.contains(lu)||s.createObjectStore(lu),s.objectStoreNames.contains(uu)||s.createObjectStore(uu),s.objectStoreNames.contains(cu)||s.createObjectStore(cu)}}),hs)}async function ih(t){const e=await Mw();return new Promise((r,o)=>{const d=e.transaction(t,"readonly").objectStore(t).get(Dw);d.onerror=()=>o(`Error getting docs from ${t}`),d.onsuccess=()=>r(d.result||null)})}async function oh(t,e){const r=await Mw();return new Promise((o,s)=>{const h=r.transaction(t,"readwrite").objectStore(t).put(e,Dw);h.onerror=()=>s(`Error saving docs to ${t}`),h.onsuccess=()=>o()})}const xI=()=>ih(lu),TI=t=>oh(lu,t),SI=()=>ih(uu),EI=t=>oh(uu,t),bI=()=>ih(cu),_I=t=>oh(cu,t),L0="nil",CI=()=>{const[t,e]=Ne.useState(null),[r,o]=Ne.useState(null);return Ne.useEffect(()=>{if(window.opener&&window.location.hash.includes("access_token")){try{const d=new URLSearchParams(window.location.hash.substring(1)).get("access_token");d&&window.opener.handleGoogleAuthCallback&&window.opener.handleGoogleAuthCallback(d)}catch(c){console.error("Erro ao processar o callback de autenticação do Google:",c)}finally{window.close()}return}return window.handleGoogleAuthCallback=c=>{c&&e(c)},()=>{delete window.handleGoogleAuthCallback}},[]),{googleAccessToken:t,authError:r,handleGoogleAuthClick:()=>{if(o(null),L0.startsWith("SEU_ID_DE_CLIENTE_AQUI")){o("Por favor, configure o ID de Cliente do Google para usar a integração com o Google Drive.");return}let c;try{const S=window.top.location;c=`${S.protocol}//${S.host}${S.pathname}`}catch(S){console.warn("Não foi possível acessar window.top.location para determinar a URI de redirecionamento, recorrendo a window.location.",S);const E=window.location;c=`${E.protocol}//${E.host}${E.pathname}`}const h=`https://accounts.google.com/o/oauth2/v2/auth?scope=${encodeURIComponent("https://www.googleapis.com/auth/drive.file")}&include_granted_scopes=true&response_type=token&redirect_uri=${encodeURIComponent(c)}&client_id=${L0}`,p=600,m=700,y=(window.innerWidth-p)/2,T=(window.innerHeight-m)/2;window.open(h,"googleAuth",`width=${p},height=${m},left=${y},top=${T},resizable=yes,scrollbars=yes,status=yes`)}}};var AI=Object.defineProperty,RI=Object.defineProperties,NI=Object.getOwnPropertyDescriptors,P0=Object.getOwnPropertySymbols,DI=Object.prototype.hasOwnProperty,MI=Object.prototype.propertyIsEnumerable,qd=(t,e,r)=>e in t?AI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dt=(t,e)=>{for(var r in e||(e={}))DI.call(e,r)&&qd(t,r,e[r]);if(P0)for(var r of P0(e))MI.call(e,r)&&qd(t,r,e[r]);return t},Yo=(t,e)=>RI(t,NI(e)),_e=(t,e,r)=>(qd(t,typeof e!="symbol"?e+"":e,r),r),ql=(t,e,r)=>new Promise((o,s)=>{var c=p=>{try{h(r.next(p))}catch(m){s(m)}},d=p=>{try{h(r.throw(p))}catch(m){s(m)}},h=p=>p.done?o(p.value):Promise.resolve(p.value).then(c,d);h((r=r.apply(t,e)).next())});class fu{constructor(e){_e(this,"rootKey"),this.rootKey=e}}const II=Object.seal({});class Ce extends fu{constructor(e){super(e),_e(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const o=this.root.map(s=>s instanceof fu?s.prepForXml(e):s).filter(s=>s!==void 0);return e.stack.pop(),{[this.rootKey]:o.length?o.length===1&&((r=o[0])!=null&&r._attr)?o[0]:o:II}}addChildElement(e){return this.root.push(e),this}}class wu extends Ce{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Ke extends fu{constructor(e){super("_attr"),_e(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.keys(this.root).forEach(o=>{const s=this.root[o];if(s!==void 0){const c=this.xmlKeys&&this.xmlKeys[o]||o;r[c]=s}}),{_attr:r}}}class ra extends fu{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:o})=>o!==void 0).reduce((o,{key:s,value:c})=>Yo(dt({},o),{[s]:c}),{})}}}class Ht extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kw={},ah={exports:{}},Go=typeof Reflect=="object"?Reflect:null,B0=Go&&typeof Go.apply=="function"?Go.apply:function(e,r,o){return Function.prototype.apply.call(e,r,o)},ru;Go&&typeof Go.ownKeys=="function"?ru=Go.ownKeys:Object.getOwnPropertySymbols?ru=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ru=function(e){return Object.getOwnPropertyNames(e)};function kI(t){console&&console.warn&&console.warn(t)}var Uw=Number.isNaN||function(e){return e!==e};function bt(){bt.init.call(this)}ah.exports=bt;ah.exports.once=BI;bt.EventEmitter=bt;bt.prototype._events=void 0;bt.prototype._eventsCount=0;bt.prototype._maxListeners=void 0;var O0=10;function xu(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(bt,"defaultMaxListeners",{enumerable:!0,get:function(){return O0},set:function(t){if(typeof t!="number"||t<0||Uw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");O0=t}});bt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};bt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Uw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Lw(t){return t._maxListeners===void 0?bt.defaultMaxListeners:t._maxListeners}bt.prototype.getMaxListeners=function(){return Lw(this)};bt.prototype.emit=function(e){for(var r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);var s=e==="error",c=this._events;if(c!==void 0)s=s&&c.error===void 0;else if(!s)return!1;if(s){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var p=c[e];if(p===void 0)return!1;if(typeof p=="function")B0(p,this,r);else for(var m=p.length,y=zw(p,m),o=0;o<m;++o)B0(y[o],this,r);return!0};function Pw(t,e,r,o){var s,c,d;if(xu(r),c=t._events,c===void 0?(c=t._events=Object.create(null),t._eventsCount=0):(c.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),c=t._events),d=c[e]),d===void 0)d=c[e]=r,++t._eventsCount;else if(typeof d=="function"?d=c[e]=o?[r,d]:[d,r]:o?d.unshift(r):d.push(r),s=Lw(t),s>0&&d.length>s&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=d.length,kI(h)}return t}bt.prototype.addListener=function(e,r){return Pw(this,e,r,!1)};bt.prototype.on=bt.prototype.addListener;bt.prototype.prependListener=function(e,r){return Pw(this,e,r,!0)};function UI(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bw(t,e,r){var o={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=UI.bind(o);return s.listener=r,o.wrapFn=s,s}bt.prototype.once=function(e,r){return xu(r),this.on(e,Bw(this,e,r)),this};bt.prototype.prependOnceListener=function(e,r){return xu(r),this.prependListener(e,Bw(this,e,r)),this};bt.prototype.removeListener=function(e,r){var o,s,c,d,h;if(xu(r),s=this._events,s===void 0)return this;if(o=s[e],o===void 0)return this;if(o===r||o.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,o.listener||r));else if(typeof o!="function"){for(c=-1,d=o.length-1;d>=0;d--)if(o[d]===r||o[d].listener===r){h=o[d].listener,c=d;break}if(c<0)return this;c===0?o.shift():LI(o,c),o.length===1&&(s[e]=o[0]),s.removeListener!==void 0&&this.emit("removeListener",e,h||r)}return this};bt.prototype.off=bt.prototype.removeListener;bt.prototype.removeAllListeners=function(e){var r,o,s;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[e]),this;if(arguments.length===0){var c=Object.keys(o),d;for(s=0;s<c.length;++s)d=c[s],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=o[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function Ow(t,e,r){var o=t._events;if(o===void 0)return[];var s=o[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?PI(s):zw(s,s.length)}bt.prototype.listeners=function(e){return Ow(this,e,!0)};bt.prototype.rawListeners=function(e){return Ow(this,e,!1)};bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Fw.call(t,e)};bt.prototype.listenerCount=Fw;function Fw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}bt.prototype.eventNames=function(){return this._eventsCount>0?ru(this._events):[]};function zw(t,e){for(var r=new Array(e),o=0;o<e;++o)r[o]=t[o];return r}function LI(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function PI(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function BI(t,e){return new Promise(function(r,o){function s(d){t.removeListener(e,c),o(d)}function c(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}Vw(t,e,c,{once:!0}),e!=="error"&&OI(t,s,{once:!0})})}function OI(t,e,r){typeof t.on=="function"&&Vw(t,"error",e,r)}function Vw(t,e,r,o){if(typeof t.on=="function")o.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(c){o.once&&t.removeEventListener(e,s),r(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var sh=ah.exports,Hd={exports:{}};typeof Object.create=="function"?Hd.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Hd.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}};var Ji=Hd.exports;function FI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gw={exports:{}},Kt=Gw.exports={},cr,fr;function Kd(){throw new Error("setTimeout has not been defined")}function Jd(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cr=setTimeout:cr=Kd}catch{cr=Kd}try{typeof clearTimeout=="function"?fr=clearTimeout:fr=Jd}catch{fr=Jd}})();function qw(t){if(cr===setTimeout)return setTimeout(t,0);if((cr===Kd||!cr)&&setTimeout)return cr=setTimeout,setTimeout(t,0);try{return cr(t,0)}catch{try{return cr.call(null,t,0)}catch{return cr.call(this,t,0)}}}function zI(t){if(fr===clearTimeout)return clearTimeout(t);if((fr===Jd||!fr)&&clearTimeout)return fr=clearTimeout,clearTimeout(t);try{return fr(t)}catch{try{return fr.call(null,t)}catch{return fr.call(this,t)}}}var Ir=[],qo=!1,Vi,iu=-1;function VI(){!qo||!Vi||(qo=!1,Vi.length?Ir=Vi.concat(Ir):iu=-1,Ir.length&&Hw())}function Hw(){if(!qo){var t=qw(VI);qo=!0;for(var e=Ir.length;e;){for(Vi=Ir,Ir=[];++iu<e;)Vi&&Vi[iu].run();iu=-1,e=Ir.length}Vi=null,qo=!1,zI(t)}}Kt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ir.push(new Kw(t,e)),Ir.length===1&&!qo&&qw(Hw)};function Kw(t,e){this.fun=t,this.array=e}Kw.prototype.run=function(){this.fun.apply(null,this.array)};Kt.title="browser";Kt.browser=!0;Kt.env={};Kt.argv=[];Kt.version="";Kt.versions={};function Ur(){}Kt.on=Ur;Kt.addListener=Ur;Kt.once=Ur;Kt.off=Ur;Kt.removeListener=Ur;Kt.removeAllListeners=Ur;Kt.emit=Ur;Kt.prependListener=Ur;Kt.prependOnceListener=Ur;Kt.listeners=function(t){return[]};Kt.binding=function(t){throw new Error("process.binding is not supported")};Kt.cwd=function(){return"/"};Kt.chdir=function(t){throw new Error("process.chdir is not supported")};Kt.umask=function(){return 0};var GI=Gw.exports;const at=FI(GI);var Pf,F0;function Jw(){return F0||(F0=1,Pf=sh.EventEmitter),Pf}var Bf={},ps={},z0;function qI(){if(z0)return ps;z0=1,ps.byteLength=h,ps.toByteArray=m,ps.fromByteArray=S;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)t[s]=o[s],e[o.charCodeAt(s)]=s;e[45]=62,e[95]=63;function d(E){var R=E.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=E.indexOf("=");A===-1&&(A=R);var U=A===R?0:4-A%4;return[A,U]}function h(E){var R=d(E),A=R[0],U=R[1];return(A+U)*3/4-U}function p(E,R,A){return(R+A)*3/4-A}function m(E){var R,A=d(E),U=A[0],C=A[1],I=new r(p(E,U,C)),B=0,q=C>0?U-4:U,G;for(G=0;G<q;G+=4)R=e[E.charCodeAt(G)]<<18|e[E.charCodeAt(G+1)]<<12|e[E.charCodeAt(G+2)]<<6|e[E.charCodeAt(G+3)],I[B++]=R>>16&255,I[B++]=R>>8&255,I[B++]=R&255;return C===2&&(R=e[E.charCodeAt(G)]<<2|e[E.charCodeAt(G+1)]>>4,I[B++]=R&255),C===1&&(R=e[E.charCodeAt(G)]<<10|e[E.charCodeAt(G+1)]<<4|e[E.charCodeAt(G+2)]>>2,I[B++]=R>>8&255,I[B++]=R&255),I}function y(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function T(E,R,A){for(var U,C=[],I=R;I<A;I+=3)U=(E[I]<<16&16711680)+(E[I+1]<<8&65280)+(E[I+2]&255),C.push(y(U));return C.join("")}function S(E){for(var R,A=E.length,U=A%3,C=[],I=16383,B=0,q=A-U;B<q;B+=I)C.push(T(E,B,B+I>q?q:B+I));return U===1?(R=E[A-1],C.push(t[R>>2]+t[R<<4&63]+"==")):U===2&&(R=(E[A-2]<<8)+E[A-1],C.push(t[R>>10]+t[R>>4&63]+t[R<<2&63]+"=")),C.join("")}return ps}var Hl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var V0;function HI(){return V0||(V0=1,Hl.read=function(t,e,r,o,s){var c,d,h=s*8-o-1,p=(1<<h)-1,m=p>>1,y=-7,T=r?s-1:0,S=r?-1:1,E=t[e+T];for(T+=S,c=E&(1<<-y)-1,E>>=-y,y+=h;y>0;c=c*256+t[e+T],T+=S,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=o;y>0;d=d*256+t[e+T],T+=S,y-=8);if(c===0)c=1-m;else{if(c===p)return d?NaN:(E?-1:1)*(1/0);d=d+Math.pow(2,o),c=c-m}return(E?-1:1)*d*Math.pow(2,c-o)},Hl.write=function(t,e,r,o,s,c){var d,h,p,m=c*8-s-1,y=(1<<m)-1,T=y>>1,S=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=o?0:c-1,R=o?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,d=y):(d=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-d))<1&&(d--,p*=2),d+T>=1?e+=S/p:e+=S*Math.pow(2,1-T),e*p>=2&&(d++,p/=2),d+T>=y?(h=0,d=y):d+T>=1?(h=(e*p-1)*Math.pow(2,s),d=d+T):(h=e*Math.pow(2,T-1)*Math.pow(2,s),d=0));s>=8;t[r+E]=h&255,E+=R,h/=256,s-=8);for(d=d<<s|h,m+=s;m>0;t[r+E]=d&255,E+=R,d/=256,m-=8);t[r+E-R]|=A*128}),Hl}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var G0;function Tu(){return G0||(G0=1,(function(t){var e=qI(),r=HI(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var N=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(N,v),N.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(N){if(N>s)throw new RangeError('The value "'+N+'" is invalid for option "size"');var v=new Uint8Array(N);return Object.setPrototypeOf(v,h.prototype),v}function h(N,v,w){if(typeof N=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(N)}return p(N,v,w)}h.poolSize=8192;function p(N,v,w){if(typeof N=="string")return S(N,v);if(ArrayBuffer.isView(N))return R(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(ge(N,ArrayBuffer)||N&&ge(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ge(N,SharedArrayBuffer)||N&&ge(N.buffer,SharedArrayBuffer)))return A(N,v,w);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _=N.valueOf&&N.valueOf();if(_!=null&&_!==N)return h.from(_,v,w);var J=U(N);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return h.from(N[Symbol.toPrimitive]("string"),v,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}h.from=function(N,v,w){return p(N,v,w)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function y(N,v,w){return m(N),N<=0?d(N):v!==void 0?typeof w=="string"?d(N).fill(v,w):d(N).fill(v):d(N)}h.alloc=function(N,v,w){return y(N,v,w)};function T(N){return m(N),d(N<0?0:C(N)|0)}h.allocUnsafe=function(N){return T(N)},h.allocUnsafeSlow=function(N){return T(N)};function S(N,v){if((typeof v!="string"||v==="")&&(v="utf8"),!h.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var w=B(N,v)|0,_=d(w),J=_.write(N,v);return J!==w&&(_=_.slice(0,J)),_}function E(N){for(var v=N.length<0?0:C(N.length)|0,w=d(v),_=0;_<v;_+=1)w[_]=N[_]&255;return w}function R(N){if(ge(N,Uint8Array)){var v=new Uint8Array(N);return A(v.buffer,v.byteOffset,v.byteLength)}return E(N)}function A(N,v,w){if(v<0||N.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<v+(w||0))throw new RangeError('"length" is outside of buffer bounds');var _;return v===void 0&&w===void 0?_=new Uint8Array(N):w===void 0?_=new Uint8Array(N,v):_=new Uint8Array(N,v,w),Object.setPrototypeOf(_,h.prototype),_}function U(N){if(h.isBuffer(N)){var v=C(N.length)|0,w=d(v);return w.length===0||N.copy(w,0,0,v),w}if(N.length!==void 0)return typeof N.length!="number"||D(N.length)?d(0):E(N);if(N.type==="Buffer"&&Array.isArray(N.data))return E(N.data)}function C(N){if(N>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return N|0}function I(N){return+N!=N&&(N=0),h.alloc(+N)}h.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==h.prototype},h.compare=function(v,w){if(ge(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),ge(w,Uint8Array)&&(w=h.from(w,w.offset,w.byteLength)),!h.isBuffer(v)||!h.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===w)return 0;for(var _=v.length,J=w.length,ee=0,X=Math.min(_,J);ee<X;++ee)if(v[ee]!==w[ee]){_=v[ee],J=w[ee];break}return _<J?-1:J<_?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,w){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return h.alloc(0);var _;if(w===void 0)for(w=0,_=0;_<v.length;++_)w+=v[_].length;var J=h.allocUnsafe(w),ee=0;for(_=0;_<v.length;++_){var X=v[_];if(ge(X,Uint8Array))ee+X.length>J.length?h.from(X).copy(J,ee):Uint8Array.prototype.set.call(J,X,ee);else if(h.isBuffer(X))X.copy(J,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=X.length}return J};function B(N,v){if(h.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||ge(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var w=N.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&w===0)return 0;for(var J=!1;;)switch(v){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return M(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return z(N).length;default:if(J)return _?-1:M(N).length;v=(""+v).toLowerCase(),J=!0}}h.byteLength=B;function q(N,v,w){var _=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,v>>>=0,w<=v))return"";for(N||(N="utf8");;)switch(N){case"hex":return pe(this,v,w);case"utf8":case"utf-8":return P(this,v,w);case"ascii":return oe(this,v,w);case"latin1":case"binary":return Ie(this,v,w);case"base64":return de(this,v,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,v,w);default:if(_)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),_=!0}}h.prototype._isBuffer=!0;function G(N,v,w){var _=N[v];N[v]=N[w],N[w]=_}h.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<v;w+=2)G(this,w,w+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<v;w+=4)G(this,w,w+3),G(this,w+1,w+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<v;w+=8)G(this,w,w+7),G(this,w+1,w+6),G(this,w+2,w+5),G(this,w+3,w+4);return this},h.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?P(this,0,v):q.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:h.compare(this,v)===0},h.prototype.inspect=function(){var v="",w=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(v+=" ... "),"<Buffer "+v+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(v,w,_,J,ee){if(ge(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),!h.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(w===void 0&&(w=0),_===void 0&&(_=v?v.length:0),J===void 0&&(J=0),ee===void 0&&(ee=this.length),w<0||_>v.length||J<0||ee>this.length)throw new RangeError("out of range index");if(J>=ee&&w>=_)return 0;if(J>=ee)return-1;if(w>=_)return 1;if(w>>>=0,_>>>=0,J>>>=0,ee>>>=0,this===v)return 0;for(var X=ee-J,we=_-w,ke=Math.min(X,we),Ee=this.slice(J,ee),Be=v.slice(w,_),Ge=0;Ge<ke;++Ge)if(Ee[Ge]!==Be[Ge]){X=Ee[Ge],we=Be[Ge];break}return X<we?-1:we<X?1:0};function le(N,v,w,_,J){if(N.length===0)return-1;if(typeof w=="string"?(_=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,D(w)&&(w=J?0:N.length-1),w<0&&(w=N.length+w),w>=N.length){if(J)return-1;w=N.length-1}else if(w<0)if(J)w=0;else return-1;if(typeof v=="string"&&(v=h.from(v,_)),h.isBuffer(v))return v.length===0?-1:ae(N,v,w,_,J);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(N,v,w):Uint8Array.prototype.lastIndexOf.call(N,v,w):ae(N,[v],w,_,J);throw new TypeError("val must be string, number or Buffer")}function ae(N,v,w,_,J){var ee=1,X=N.length,we=v.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(N.length<2||v.length<2)return-1;ee=2,X/=2,we/=2,w/=2}function ke(nt,_t){return ee===1?nt[_t]:nt.readUInt16BE(_t*ee)}var Ee;if(J){var Be=-1;for(Ee=w;Ee<X;Ee++)if(ke(N,Ee)===ke(v,Be===-1?0:Ee-Be)){if(Be===-1&&(Be=Ee),Ee-Be+1===we)return Be*ee}else Be!==-1&&(Ee-=Ee-Be),Be=-1}else for(w+we>X&&(w=X-we),Ee=w;Ee>=0;Ee--){for(var Ge=!0,He=0;He<we;He++)if(ke(N,Ee+He)!==ke(v,He)){Ge=!1;break}if(Ge)return Ee}return-1}h.prototype.includes=function(v,w,_){return this.indexOf(v,w,_)!==-1},h.prototype.indexOf=function(v,w,_){return le(this,v,w,_,!0)},h.prototype.lastIndexOf=function(v,w,_){return le(this,v,w,_,!1)};function ce(N,v,w,_){w=Number(w)||0;var J=N.length-w;_?(_=Number(_),_>J&&(_=J)):_=J;var ee=v.length;_>ee/2&&(_=ee/2);for(var X=0;X<_;++X){var we=parseInt(v.substr(X*2,2),16);if(D(we))return X;N[w+X]=we}return X}function O(N,v,w,_){return K(M(v,N.length-w),N,w,_)}function Se(N,v,w,_){return K(ne(v),N,w,_)}function Me(N,v,w,_){return K(z(v),N,w,_)}function $(N,v,w,_){return K(Y(v,N.length-w),N,w,_)}h.prototype.write=function(v,w,_,J){if(w===void 0)J="utf8",_=this.length,w=0;else if(_===void 0&&typeof w=="string")J=w,_=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(_)?(_=_>>>0,J===void 0&&(J="utf8")):(J=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ee=this.length-w;if((_===void 0||_>ee)&&(_=ee),v.length>0&&(_<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var X=!1;;)switch(J){case"hex":return ce(this,v,w,_);case"utf8":case"utf-8":return O(this,v,w,_);case"ascii":case"latin1":case"binary":return Se(this,v,w,_);case"base64":return Me(this,v,w,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,v,w,_);default:if(X)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),X=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function de(N,v,w){return v===0&&w===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(v,w))}function P(N,v,w){w=Math.min(N.length,w);for(var _=[],J=v;J<w;){var ee=N[J],X=null,we=ee>239?4:ee>223?3:ee>191?2:1;if(J+we<=w){var ke,Ee,Be,Ge;switch(we){case 1:ee<128&&(X=ee);break;case 2:ke=N[J+1],(ke&192)===128&&(Ge=(ee&31)<<6|ke&63,Ge>127&&(X=Ge));break;case 3:ke=N[J+1],Ee=N[J+2],(ke&192)===128&&(Ee&192)===128&&(Ge=(ee&15)<<12|(ke&63)<<6|Ee&63,Ge>2047&&(Ge<55296||Ge>57343)&&(X=Ge));break;case 4:ke=N[J+1],Ee=N[J+2],Be=N[J+3],(ke&192)===128&&(Ee&192)===128&&(Be&192)===128&&(Ge=(ee&15)<<18|(ke&63)<<12|(Ee&63)<<6|Be&63,Ge>65535&&Ge<1114112&&(X=Ge))}}X===null?(X=65533,we=1):X>65535&&(X-=65536,_.push(X>>>10&1023|55296),X=56320|X&1023),_.push(X),J+=we}return se(_)}var fe=4096;function se(N){var v=N.length;if(v<=fe)return String.fromCharCode.apply(String,N);for(var w="",_=0;_<v;)w+=String.fromCharCode.apply(String,N.slice(_,_+=fe));return w}function oe(N,v,w){var _="";w=Math.min(N.length,w);for(var J=v;J<w;++J)_+=String.fromCharCode(N[J]&127);return _}function Ie(N,v,w){var _="";w=Math.min(N.length,w);for(var J=v;J<w;++J)_+=String.fromCharCode(N[J]);return _}function pe(N,v,w){var _=N.length;(!v||v<0)&&(v=0),(!w||w<0||w>_)&&(w=_);for(var J="",ee=v;ee<w;++ee)J+=H[N[ee]];return J}function j(N,v,w){for(var _=N.slice(v,w),J="",ee=0;ee<_.length-1;ee+=2)J+=String.fromCharCode(_[ee]+_[ee+1]*256);return J}h.prototype.slice=function(v,w){var _=this.length;v=~~v,w=w===void 0?_:~~w,v<0?(v+=_,v<0&&(v=0)):v>_&&(v=_),w<0?(w+=_,w<0&&(w=0)):w>_&&(w=_),w<v&&(w=v);var J=this.subarray(v,w);return Object.setPrototypeOf(J,h.prototype),J};function W(N,v,w){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+v>w)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(v,w,_){v=v>>>0,w=w>>>0,_||W(v,w,this.length);for(var J=this[v],ee=1,X=0;++X<w&&(ee*=256);)J+=this[v+X]*ee;return J},h.prototype.readUintBE=h.prototype.readUIntBE=function(v,w,_){v=v>>>0,w=w>>>0,_||W(v,w,this.length);for(var J=this[v+--w],ee=1;w>0&&(ee*=256);)J+=this[v+--w]*ee;return J},h.prototype.readUint8=h.prototype.readUInt8=function(v,w){return v=v>>>0,w||W(v,1,this.length),this[v]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(v,w){return v=v>>>0,w||W(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(v,w){return v=v>>>0,w||W(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(v,w){return v=v>>>0,w||W(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(v,w){return v=v>>>0,w||W(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,w,_){v=v>>>0,w=w>>>0,_||W(v,w,this.length);for(var J=this[v],ee=1,X=0;++X<w&&(ee*=256);)J+=this[v+X]*ee;return ee*=128,J>=ee&&(J-=Math.pow(2,8*w)),J},h.prototype.readIntBE=function(v,w,_){v=v>>>0,w=w>>>0,_||W(v,w,this.length);for(var J=w,ee=1,X=this[v+--J];J>0&&(ee*=256);)X+=this[v+--J]*ee;return ee*=128,X>=ee&&(X-=Math.pow(2,8*w)),X},h.prototype.readInt8=function(v,w){return v=v>>>0,w||W(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},h.prototype.readInt16LE=function(v,w){v=v>>>0,w||W(v,2,this.length);var _=this[v]|this[v+1]<<8;return _&32768?_|4294901760:_},h.prototype.readInt16BE=function(v,w){v=v>>>0,w||W(v,2,this.length);var _=this[v+1]|this[v]<<8;return _&32768?_|4294901760:_},h.prototype.readInt32LE=function(v,w){return v=v>>>0,w||W(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,w){return v=v>>>0,w||W(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,w){return v=v>>>0,w||W(v,4,this.length),r.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,w){return v=v>>>0,w||W(v,4,this.length),r.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,w){return v=v>>>0,w||W(v,8,this.length),r.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,w){return v=v>>>0,w||W(v,8,this.length),r.read(this,v,!1,52,8)};function F(N,v,w,_,J,ee){if(!h.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>J||v<ee)throw new RangeError('"value" argument is out of bounds');if(w+_>N.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(v,w,_,J){if(v=+v,w=w>>>0,_=_>>>0,!J){var ee=Math.pow(2,8*_)-1;F(this,v,w,_,ee,0)}var X=1,we=0;for(this[w]=v&255;++we<_&&(X*=256);)this[w+we]=v/X&255;return w+_},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(v,w,_,J){if(v=+v,w=w>>>0,_=_>>>0,!J){var ee=Math.pow(2,8*_)-1;F(this,v,w,_,ee,0)}var X=_-1,we=1;for(this[w+X]=v&255;--X>=0&&(we*=256);)this[w+X]=v/we&255;return w+_},h.prototype.writeUint8=h.prototype.writeUInt8=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,1,255,0),this[w]=v&255,w+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,2,65535,0),this[w]=v&255,this[w+1]=v>>>8,w+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,2,65535,0),this[w]=v>>>8,this[w+1]=v&255,w+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,4,4294967295,0),this[w+3]=v>>>24,this[w+2]=v>>>16,this[w+1]=v>>>8,this[w]=v&255,w+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,4,4294967295,0),this[w]=v>>>24,this[w+1]=v>>>16,this[w+2]=v>>>8,this[w+3]=v&255,w+4},h.prototype.writeIntLE=function(v,w,_,J){if(v=+v,w=w>>>0,!J){var ee=Math.pow(2,8*_-1);F(this,v,w,_,ee-1,-ee)}var X=0,we=1,ke=0;for(this[w]=v&255;++X<_&&(we*=256);)v<0&&ke===0&&this[w+X-1]!==0&&(ke=1),this[w+X]=(v/we>>0)-ke&255;return w+_},h.prototype.writeIntBE=function(v,w,_,J){if(v=+v,w=w>>>0,!J){var ee=Math.pow(2,8*_-1);F(this,v,w,_,ee-1,-ee)}var X=_-1,we=1,ke=0;for(this[w+X]=v&255;--X>=0&&(we*=256);)v<0&&ke===0&&this[w+X+1]!==0&&(ke=1),this[w+X]=(v/we>>0)-ke&255;return w+_},h.prototype.writeInt8=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,1,127,-128),v<0&&(v=255+v+1),this[w]=v&255,w+1},h.prototype.writeInt16LE=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,2,32767,-32768),this[w]=v&255,this[w+1]=v>>>8,w+2},h.prototype.writeInt16BE=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,2,32767,-32768),this[w]=v>>>8,this[w+1]=v&255,w+2},h.prototype.writeInt32LE=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,4,2147483647,-2147483648),this[w]=v&255,this[w+1]=v>>>8,this[w+2]=v>>>16,this[w+3]=v>>>24,w+4},h.prototype.writeInt32BE=function(v,w,_){return v=+v,w=w>>>0,_||F(this,v,w,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[w]=v>>>24,this[w+1]=v>>>16,this[w+2]=v>>>8,this[w+3]=v&255,w+4};function Q(N,v,w,_,J,ee){if(w+_>N.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function te(N,v,w,_,J){return v=+v,w=w>>>0,J||Q(N,v,w,4),r.write(N,v,w,_,23,4),w+4}h.prototype.writeFloatLE=function(v,w,_){return te(this,v,w,!0,_)},h.prototype.writeFloatBE=function(v,w,_){return te(this,v,w,!1,_)};function re(N,v,w,_,J){return v=+v,w=w>>>0,J||Q(N,v,w,8),r.write(N,v,w,_,52,8),w+8}h.prototype.writeDoubleLE=function(v,w,_){return re(this,v,w,!0,_)},h.prototype.writeDoubleBE=function(v,w,_){return re(this,v,w,!1,_)},h.prototype.copy=function(v,w,_,J){if(!h.isBuffer(v))throw new TypeError("argument should be a Buffer");if(_||(_=0),!J&&J!==0&&(J=this.length),w>=v.length&&(w=v.length),w||(w=0),J>0&&J<_&&(J=_),J===_||v.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),v.length-w<J-_&&(J=v.length-w+_);var ee=J-_;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,_,J):Uint8Array.prototype.set.call(v,this.subarray(_,J),w),ee},h.prototype.fill=function(v,w,_,J){if(typeof v=="string"){if(typeof w=="string"?(J=w,w=0,_=this.length):typeof _=="string"&&(J=_,_=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!h.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(v.length===1){var ee=v.charCodeAt(0);(J==="utf8"&&ee<128||J==="latin1")&&(v=ee)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(w<0||this.length<w||this.length<_)throw new RangeError("Out of range index");if(_<=w)return this;w=w>>>0,_=_===void 0?this.length:_>>>0,v||(v=0);var X;if(typeof v=="number")for(X=w;X<_;++X)this[X]=v;else{var we=h.isBuffer(v)?v:h.from(v,J),ke=we.length;if(ke===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(X=0;X<_-w;++X)this[X+w]=we[X%ke]}return this};var Z=/[^+/0-9A-Za-z-_]/g;function k(N){if(N=N.split("=")[0],N=N.trim().replace(Z,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function M(N,v){v=v||1/0;for(var w,_=N.length,J=null,ee=[],X=0;X<_;++X){if(w=N.charCodeAt(X),w>55295&&w<57344){if(!J){if(w>56319){(v-=3)>-1&&ee.push(239,191,189);continue}else if(X+1===_){(v-=3)>-1&&ee.push(239,191,189);continue}J=w;continue}if(w<56320){(v-=3)>-1&&ee.push(239,191,189),J=w;continue}w=(J-55296<<10|w-56320)+65536}else J&&(v-=3)>-1&&ee.push(239,191,189);if(J=null,w<128){if((v-=1)<0)break;ee.push(w)}else if(w<2048){if((v-=2)<0)break;ee.push(w>>6|192,w&63|128)}else if(w<65536){if((v-=3)<0)break;ee.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((v-=4)<0)break;ee.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return ee}function ne(N){for(var v=[],w=0;w<N.length;++w)v.push(N.charCodeAt(w)&255);return v}function Y(N,v){for(var w,_,J,ee=[],X=0;X<N.length&&!((v-=2)<0);++X)w=N.charCodeAt(X),_=w>>8,J=w%256,ee.push(J),ee.push(_);return ee}function z(N){return e.toByteArray(k(N))}function K(N,v,w,_){for(var J=0;J<_&&!(J+w>=v.length||J>=N.length);++J)v[J+w]=N[J];return J}function ge(N,v){return N instanceof v||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===v.name}function D(N){return N!==N}var H=(function(){for(var N="0123456789abcdef",v=new Array(256),w=0;w<16;++w)for(var _=w*16,J=0;J<16;++J)v[_+J]=N[w]+N[J];return v})()})(Bf)),Bf}var Of={},Ff={},zf,q0;function Yw(){return q0||(q0=1,zf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,r);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),zf}var Vf,H0;function lh(){if(H0)return Vf;H0=1;var t=Yw();return Vf=function(){return t()&&!!Symbol.toStringTag},Vf}var Gf,K0;function KI(){if(K0)return Gf;K0=1;var t=typeof Symbol<"u"&&Symbol,e=Yw();return Gf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Gf}var qf,J0;function JI(){if(J0)return qf;J0=1;var t={foo:{}},e=Object;return qf=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},qf}var Hf,Y0;function YI(){if(Y0)return Hf;Y0=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,o="[object Function]",s=function(p,m){for(var y=[],T=0;T<p.length;T+=1)y[T]=p[T];for(var S=0;S<m.length;S+=1)y[S+p.length]=m[S];return y},c=function(p,m){for(var y=[],T=m,S=0;T<p.length;T+=1,S+=1)y[S]=p[T];return y},d=function(h,p){for(var m="",y=0;y<h.length;y+=1)m+=h[y],y+1<h.length&&(m+=p);return m};return Hf=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==o)throw new TypeError(t+m);for(var y=c(arguments,1),T,S=function(){if(this instanceof T){var C=m.apply(this,s(y,arguments));return Object(C)===C?C:this}return m.apply(p,s(y,arguments))},E=r(0,m.length-y.length),R=[],A=0;A<E;A++)R[A]="$"+A;if(T=Function("binder","return function ("+d(R,",")+"){ return binder.apply(this,arguments); }")(S),m.prototype){var U=function(){};U.prototype=m.prototype,T.prototype=new U,U.prototype=null}return T},Hf}var Kf,W0;function uh(){if(W0)return Kf;W0=1;var t=YI();return Kf=Function.prototype.bind||t,Kf}var Jf,$0;function WI(){if($0)return Jf;$0=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=uh();return Jf=r.call(t,e),Jf}var Yf,X0;function ia(){if(X0)return Yf;X0=1;var t,e=SyntaxError,r=Function,o=TypeError,s=function($){try{return r('"use strict"; return ('+$+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var d=function(){throw new o},h=c?(function(){try{return arguments.callee,d}catch{try{return c(arguments,"callee").get}catch{return d}}})():d,p=KI()(),m=JI()(),y=Object.getPrototypeOf||(m?function($){return $.__proto__}:null),T={},S=typeof Uint8Array>"u"||!y?t:y(Uint8Array),E={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":p&&y?y([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&y?y(y([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!p||!y?t:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!p||!y?t:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&y?y(""[Symbol.iterator]()):t,"%Symbol%":p?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":h,"%TypedArray%":S,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(y)try{null.error}catch($){var R=y(y($));E["%Error.prototype%"]=R}var A=function $(de){var P;if(de==="%AsyncFunction%")P=s("async function () {}");else if(de==="%GeneratorFunction%")P=s("function* () {}");else if(de==="%AsyncGeneratorFunction%")P=s("async function* () {}");else if(de==="%AsyncGenerator%"){var fe=$("%AsyncGeneratorFunction%");fe&&(P=fe.prototype)}else if(de==="%AsyncIteratorPrototype%"){var se=$("%AsyncGenerator%");se&&y&&(P=y(se.prototype))}return E[de]=P,P},U={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=uh(),I=WI(),B=C.call(Function.call,Array.prototype.concat),q=C.call(Function.apply,Array.prototype.splice),G=C.call(Function.call,String.prototype.replace),le=C.call(Function.call,String.prototype.slice),ae=C.call(Function.call,RegExp.prototype.exec),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,Se=function(de){var P=le(de,0,1),fe=le(de,-1);if(P==="%"&&fe!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(fe==="%"&&P!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var se=[];return G(de,ce,function(oe,Ie,pe,j){se[se.length]=pe?G(j,O,"$1"):Ie||oe}),se},Me=function(de,P){var fe=de,se;if(I(U,fe)&&(se=U[fe],fe="%"+se[0]+"%"),I(E,fe)){var oe=E[fe];if(oe===T&&(oe=A(fe)),typeof oe>"u"&&!P)throw new o("intrinsic "+de+" exists, but is not available. Please file an issue!");return{alias:se,name:fe,value:oe}}throw new e("intrinsic "+de+" does not exist!")};return Yf=function(de,P){if(typeof de!="string"||de.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof P!="boolean")throw new o('"allowMissing" argument must be a boolean');if(ae(/^%?[^%]*%?$/,de)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var fe=Se(de),se=fe.length>0?fe[0]:"",oe=Me("%"+se+"%",P),Ie=oe.name,pe=oe.value,j=!1,W=oe.alias;W&&(se=W[0],q(fe,B([0,1],W)));for(var F=1,Q=!0;F<fe.length;F+=1){var te=fe[F],re=le(te,0,1),Z=le(te,-1);if((re==='"'||re==="'"||re==="`"||Z==='"'||Z==="'"||Z==="`")&&re!==Z)throw new e("property names with quotes must have matching quotes");if((te==="constructor"||!Q)&&(j=!0),se+="."+te,Ie="%"+se+"%",I(E,Ie))pe=E[Ie];else if(pe!=null){if(!(te in pe)){if(!P)throw new o("base intrinsic for "+de+" exists, but the property is not available.");return}if(c&&F+1>=fe.length){var k=c(pe,te);Q=!!k,Q&&"get"in k&&!("originalValue"in k.get)?pe=k.get:pe=pe[te]}else Q=I(pe,te),pe=pe[te];Q&&!j&&(E[Ie]=pe)}}return pe},Yf}var Wf={exports:{}},$f,j0;function Ww(){if(j0)return $f;j0=1;var t=ia(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},$f=r,$f}var Xf,Z0;function ch(){if(Z0)return Xf;Z0=1;var t=ia(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Xf=e,Xf}var jf,Q0;function $I(){if(Q0)return jf;Q0=1;var t=Ww()(),e=ia(),r=t&&e("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var o=e("%SyntaxError%"),s=e("%TypeError%"),c=ch();return jf=function(h,p,m){if(!h||typeof h!="object"&&typeof h!="function")throw new s("`obj` must be an object or a function`");if(typeof p!="string"&&typeof p!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var y=arguments.length>3?arguments[3]:null,T=arguments.length>4?arguments[4]:null,S=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,R=!!c&&c(h,p);if(r)r(h,p,{configurable:S===null&&R?R.configurable:!S,enumerable:y===null&&R?R.enumerable:!y,value:m,writable:T===null&&R?R.writable:!T});else if(E||!y&&!T&&!S)h[p]=m;else throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},jf}var Zf,ev;function XI(){if(ev)return Zf;ev=1;var t=ia(),e=$I(),r=Ww()(),o=ch(),s=t("%TypeError%"),c=t("%Math.floor%");return Zf=function(h,p){if(typeof h!="function")throw new s("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||c(p)!==p)throw new s("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],y=!0,T=!0;if("length"in h&&o){var S=o(h,"length");S&&!S.configurable&&(y=!1),S&&!S.writable&&(T=!1)}return(y||T||!m)&&(r?e(h,"length",p,!0,!0):e(h,"length",p)),h},Zf}var tv;function $w(){return tv||(tv=1,(function(t){var e=uh(),r=ia(),o=XI(),s=r("%TypeError%"),c=r("%Function.prototype.apply%"),d=r("%Function.prototype.call%"),h=r("%Reflect.apply%",!0)||e.call(d,c),p=r("%Object.defineProperty%",!0),m=r("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}t.exports=function(S){if(typeof S!="function")throw new s("a function is required");var E=h(e,d,arguments);return o(E,1+m(0,S.length-(arguments.length-1)),!0)};var y=function(){return h(e,c,arguments)};p?p(t.exports,"apply",{value:y}):t.exports.apply=y})(Wf)),Wf.exports}var Qf,nv;function Xw(){if(nv)return Qf;nv=1;var t=ia(),e=$w(),r=e(t("String.prototype.indexOf"));return Qf=function(s,c){var d=t(s,!!c);return typeof d=="function"&&r(s,".prototype.")>-1?e(d):d},Qf}var ed,rv;function jI(){if(rv)return ed;rv=1;var t=lh()(),e=Xw(),r=e("Object.prototype.toString"),o=function(h){return t&&h&&typeof h=="object"&&Symbol.toStringTag in h?!1:r(h)==="[object Arguments]"},s=function(h){return o(h)?!0:h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&r(h)!=="[object Array]"&&r(h.callee)==="[object Function]"},c=(function(){return o(arguments)})();return o.isLegacyArguments=s,ed=c?o:s,ed}var td,iv;function ZI(){if(iv)return td;iv=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,o=lh()(),s=Object.getPrototypeOf,c=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},d;return td=function(p){if(typeof p!="function")return!1;if(r.test(e.call(p)))return!0;if(!o){var m=t.call(p);return m==="[object GeneratorFunction]"}if(!s)return!1;if(typeof d>"u"){var y=c();d=y?s(y):!1}return s(p)===d},td}var nd,ov;function QI(){if(ov)return nd;ov=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,r)}catch(I){I!==o&&(e=null)}else e=null;var s=/^\s*class\b/,c=function(B){try{var q=t.call(B);return s.test(q)}catch{return!1}},d=function(B){try{return c(B)?!1:(t.call(B),!0)}catch{return!1}},h=Object.prototype.toString,p="[object Object]",m="[object Function]",y="[object GeneratorFunction]",T="[object HTMLAllCollection]",S="[object HTML document.all class]",E="[object HTMLCollection]",R=typeof Symbol=="function"&&!!Symbol.toStringTag,A=!(0 in[,]),U=function(){return!1};if(typeof document=="object"){var C=document.all;h.call(C)===h.call(document.all)&&(U=function(B){if((A||!B)&&(typeof B>"u"||typeof B=="object"))try{var q=h.call(B);return(q===T||q===S||q===E||q===p)&&B("")==null}catch{}return!1})}return nd=e?function(B){if(U(B))return!0;if(!B||typeof B!="function"&&typeof B!="object")return!1;try{e(B,null,r)}catch(q){if(q!==o)return!1}return!c(B)&&d(B)}:function(B){if(U(B))return!0;if(!B||typeof B!="function"&&typeof B!="object")return!1;if(R)return d(B);if(c(B))return!1;var q=h.call(B);return q!==m&&q!==y&&!/^\[object HTML/.test(q)?!1:d(B)},nd}var rd,av;function e5(){if(av)return rd;av=1;var t=QI(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,o=function(p,m,y){for(var T=0,S=p.length;T<S;T++)r.call(p,T)&&(y==null?m(p[T],T,p):m.call(y,p[T],T,p))},s=function(p,m,y){for(var T=0,S=p.length;T<S;T++)y==null?m(p.charAt(T),T,p):m.call(y,p.charAt(T),T,p)},c=function(p,m,y){for(var T in p)r.call(p,T)&&(y==null?m(p[T],T,p):m.call(y,p[T],T,p))},d=function(p,m,y){if(!t(m))throw new TypeError("iterator must be a function");var T;arguments.length>=3&&(T=y),e.call(p)==="[object Array]"?o(p,m,T):typeof p=="string"?s(p,m,T):c(p,m,T)};return rd=d,rd}var id,sv;function t5(){if(sv)return id;sv=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?hr:globalThis;return id=function(){for(var o=[],s=0;s<t.length;s++)typeof e[t[s]]=="function"&&(o[o.length]=t[s]);return o},id}var od,lv;function jw(){if(lv)return od;lv=1;var t=e5(),e=t5(),r=$w(),o=Xw(),s=ch(),c=o("Object.prototype.toString"),d=lh()(),h=typeof globalThis>"u"?hr:globalThis,p=e(),m=o("String.prototype.slice"),y=Object.getPrototypeOf,T=o("Array.prototype.indexOf",!0)||function(U,C){for(var I=0;I<U.length;I+=1)if(U[I]===C)return I;return-1},S={__proto__:null};d&&s&&y?t(p,function(A){var U=new h[A];if(Symbol.toStringTag in U){var C=y(U),I=s(C,Symbol.toStringTag);if(!I){var B=y(C);I=s(B,Symbol.toStringTag)}S["$"+A]=r(I.get)}}):t(p,function(A){var U=new h[A],C=U.slice||U.set;C&&(S["$"+A]=r(C))});var E=function(U){var C=!1;return t(S,function(I,B){if(!C)try{"$"+I(U)===B&&(C=m(B,1))}catch{}}),C},R=function(U){var C=!1;return t(S,function(I,B){if(!C)try{I(U),C=m(B,1)}catch{}}),C};return od=function(U){if(!U||typeof U!="object")return!1;if(!d){var C=m(c(U),8,-1);return T(p,C)>-1?C:C!=="Object"?!1:R(U)}return s?E(U):null},od}var ad,uv;function n5(){if(uv)return ad;uv=1;var t=jw();return ad=function(r){return!!t(r)},ad}var cv;function r5(){return cv||(cv=1,(function(t){var e=jI(),r=ZI(),o=jw(),s=n5();function c(_){return _.call.bind(_)}var d=typeof BigInt<"u",h=typeof Symbol<"u",p=c(Object.prototype.toString),m=c(Number.prototype.valueOf),y=c(String.prototype.valueOf),T=c(Boolean.prototype.valueOf);if(d)var S=c(BigInt.prototype.valueOf);if(h)var E=c(Symbol.prototype.valueOf);function R(_,J){if(typeof _!="object")return!1;try{return J(_),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=s;function A(_){return typeof Promise<"u"&&_ instanceof Promise||_!==null&&typeof _=="object"&&typeof _.then=="function"&&typeof _.catch=="function"}t.isPromise=A;function U(_){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(_):s(_)||Q(_)}t.isArrayBufferView=U;function C(_){return o(_)==="Uint8Array"}t.isUint8Array=C;function I(_){return o(_)==="Uint8ClampedArray"}t.isUint8ClampedArray=I;function B(_){return o(_)==="Uint16Array"}t.isUint16Array=B;function q(_){return o(_)==="Uint32Array"}t.isUint32Array=q;function G(_){return o(_)==="Int8Array"}t.isInt8Array=G;function le(_){return o(_)==="Int16Array"}t.isInt16Array=le;function ae(_){return o(_)==="Int32Array"}t.isInt32Array=ae;function ce(_){return o(_)==="Float32Array"}t.isFloat32Array=ce;function O(_){return o(_)==="Float64Array"}t.isFloat64Array=O;function Se(_){return o(_)==="BigInt64Array"}t.isBigInt64Array=Se;function Me(_){return o(_)==="BigUint64Array"}t.isBigUint64Array=Me;function $(_){return p(_)==="[object Map]"}$.working=typeof Map<"u"&&$(new Map);function de(_){return typeof Map>"u"?!1:$.working?$(_):_ instanceof Map}t.isMap=de;function P(_){return p(_)==="[object Set]"}P.working=typeof Set<"u"&&P(new Set);function fe(_){return typeof Set>"u"?!1:P.working?P(_):_ instanceof Set}t.isSet=fe;function se(_){return p(_)==="[object WeakMap]"}se.working=typeof WeakMap<"u"&&se(new WeakMap);function oe(_){return typeof WeakMap>"u"?!1:se.working?se(_):_ instanceof WeakMap}t.isWeakMap=oe;function Ie(_){return p(_)==="[object WeakSet]"}Ie.working=typeof WeakSet<"u"&&Ie(new WeakSet);function pe(_){return Ie(_)}t.isWeakSet=pe;function j(_){return p(_)==="[object ArrayBuffer]"}j.working=typeof ArrayBuffer<"u"&&j(new ArrayBuffer);function W(_){return typeof ArrayBuffer>"u"?!1:j.working?j(_):_ instanceof ArrayBuffer}t.isArrayBuffer=W;function F(_){return p(_)==="[object DataView]"}F.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&F(new DataView(new ArrayBuffer(1),0,1));function Q(_){return typeof DataView>"u"?!1:F.working?F(_):_ instanceof DataView}t.isDataView=Q;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(_){return p(_)==="[object SharedArrayBuffer]"}function Z(_){return typeof te>"u"?!1:(typeof re.working>"u"&&(re.working=re(new te)),re.working?re(_):_ instanceof te)}t.isSharedArrayBuffer=Z;function k(_){return p(_)==="[object AsyncFunction]"}t.isAsyncFunction=k;function M(_){return p(_)==="[object Map Iterator]"}t.isMapIterator=M;function ne(_){return p(_)==="[object Set Iterator]"}t.isSetIterator=ne;function Y(_){return p(_)==="[object Generator]"}t.isGeneratorObject=Y;function z(_){return p(_)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=z;function K(_){return R(_,m)}t.isNumberObject=K;function ge(_){return R(_,y)}t.isStringObject=ge;function D(_){return R(_,T)}t.isBooleanObject=D;function H(_){return d&&R(_,S)}t.isBigIntObject=H;function N(_){return h&&R(_,E)}t.isSymbolObject=N;function v(_){return K(_)||ge(_)||D(_)||H(_)||N(_)}t.isBoxedPrimitive=v;function w(_){return typeof Uint8Array<"u"&&(W(_)||Z(_))}t.isAnyArrayBuffer=w,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(_){Object.defineProperty(t,_,{enumerable:!1,value:function(){throw new Error(_+" is not supported in userland")}})})})(Ff)),Ff}var sd,fv;function i5(){return fv||(fv=1,sd=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),sd}var dv;function Zw(){return dv||(dv=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(Q){for(var te=Object.keys(Q),re={},Z=0;Z<te.length;Z++)re[te[Z]]=Object.getOwnPropertyDescriptor(Q,te[Z]);return re},r=/%[sdj%]/g;t.format=function(F){if(!G(F)){for(var Q=[],te=0;te<arguments.length;te++)Q.push(d(arguments[te]));return Q.join(" ")}for(var te=1,re=arguments,Z=re.length,k=String(F).replace(r,function(ne){if(ne==="%%")return"%";if(te>=Z)return ne;switch(ne){case"%s":return String(re[te++]);case"%d":return Number(re[te++]);case"%j":try{return JSON.stringify(re[te++])}catch{return"[Circular]"}default:return ne}}),M=re[te];te<Z;M=re[++te])I(M)||!O(M)?k+=" "+M:k+=" "+d(M);return k},t.deprecate=function(F,Q){if(typeof at<"u"&&at.noDeprecation===!0)return F;if(typeof at>"u")return function(){return t.deprecate(F,Q).apply(this,arguments)};var te=!1;function re(){if(!te){if(at.throwDeprecation)throw new Error(Q);at.traceDeprecation?console.trace(Q):console.error(Q),te=!0}return F.apply(this,arguments)}return re};var o={},s=/^$/;if(at.env.NODE_DEBUG){var c=at.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+c+"$","i")}t.debuglog=function(F){if(F=F.toUpperCase(),!o[F])if(s.test(F)){var Q=at.pid;o[F]=function(){var te=t.format.apply(t,arguments);console.error("%s %d: %s",F,Q,te)}}else o[F]=function(){};return o[F]};function d(F,Q){var te={seen:[],stylize:p};return arguments.length>=3&&(te.depth=arguments[2]),arguments.length>=4&&(te.colors=arguments[3]),C(Q)?te.showHidden=Q:Q&&t._extend(te,Q),ae(te.showHidden)&&(te.showHidden=!1),ae(te.depth)&&(te.depth=2),ae(te.colors)&&(te.colors=!1),ae(te.customInspect)&&(te.customInspect=!0),te.colors&&(te.stylize=h),y(te,F,te.depth)}t.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(F,Q){var te=d.styles[Q];return te?"\x1B["+d.colors[te][0]+"m"+F+"\x1B["+d.colors[te][1]+"m":F}function p(F,Q){return F}function m(F){var Q={};return F.forEach(function(te,re){Q[te]=!0}),Q}function y(F,Q,te){if(F.customInspect&&Q&&$(Q.inspect)&&Q.inspect!==t.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var re=Q.inspect(te,F);return G(re)||(re=y(F,re,te)),re}var Z=T(F,Q);if(Z)return Z;var k=Object.keys(Q),M=m(k);if(F.showHidden&&(k=Object.getOwnPropertyNames(Q)),Me(Q)&&(k.indexOf("message")>=0||k.indexOf("description")>=0))return S(Q);if(k.length===0){if($(Q)){var ne=Q.name?": "+Q.name:"";return F.stylize("[Function"+ne+"]","special")}if(ce(Q))return F.stylize(RegExp.prototype.toString.call(Q),"regexp");if(Se(Q))return F.stylize(Date.prototype.toString.call(Q),"date");if(Me(Q))return S(Q)}var Y="",z=!1,K=["{","}"];if(U(Q)&&(z=!0,K=["[","]"]),$(Q)){var ge=Q.name?": "+Q.name:"";Y=" [Function"+ge+"]"}if(ce(Q)&&(Y=" "+RegExp.prototype.toString.call(Q)),Se(Q)&&(Y=" "+Date.prototype.toUTCString.call(Q)),Me(Q)&&(Y=" "+S(Q)),k.length===0&&(!z||Q.length==0))return K[0]+Y+K[1];if(te<0)return ce(Q)?F.stylize(RegExp.prototype.toString.call(Q),"regexp"):F.stylize("[Object]","special");F.seen.push(Q);var D;return z?D=E(F,Q,te,M,k):D=k.map(function(H){return R(F,Q,te,M,H,z)}),F.seen.pop(),A(D,Y,K)}function T(F,Q){if(ae(Q))return F.stylize("undefined","undefined");if(G(Q)){var te="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(te,"string")}if(q(Q))return F.stylize(""+Q,"number");if(C(Q))return F.stylize(""+Q,"boolean");if(I(Q))return F.stylize("null","null")}function S(F){return"["+Error.prototype.toString.call(F)+"]"}function E(F,Q,te,re,Z){for(var k=[],M=0,ne=Q.length;M<ne;++M)Ie(Q,String(M))?k.push(R(F,Q,te,re,String(M),!0)):k.push("");return Z.forEach(function(Y){Y.match(/^\d+$/)||k.push(R(F,Q,te,re,Y,!0))}),k}function R(F,Q,te,re,Z,k){var M,ne,Y;if(Y=Object.getOwnPropertyDescriptor(Q,Z)||{value:Q[Z]},Y.get?Y.set?ne=F.stylize("[Getter/Setter]","special"):ne=F.stylize("[Getter]","special"):Y.set&&(ne=F.stylize("[Setter]","special")),Ie(re,Z)||(M="["+Z+"]"),ne||(F.seen.indexOf(Y.value)<0?(I(te)?ne=y(F,Y.value,null):ne=y(F,Y.value,te-1),ne.indexOf(`
`)>-1&&(k?ne=ne.split(`
`).map(function(z){return"  "+z}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(z){return"   "+z}).join(`
`))):ne=F.stylize("[Circular]","special")),ae(M)){if(k&&Z.match(/^\d+$/))return ne;M=JSON.stringify(""+Z),M.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.slice(1,-1),M=F.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=F.stylize(M,"string"))}return M+": "+ne}function A(F,Q,te){var re=F.reduce(function(Z,k){return k.indexOf(`
`)>=0,Z+k.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?te[0]+(Q===""?"":Q+`
 `)+" "+F.join(`,
  `)+" "+te[1]:te[0]+Q+" "+F.join(", ")+" "+te[1]}t.types=r5();function U(F){return Array.isArray(F)}t.isArray=U;function C(F){return typeof F=="boolean"}t.isBoolean=C;function I(F){return F===null}t.isNull=I;function B(F){return F==null}t.isNullOrUndefined=B;function q(F){return typeof F=="number"}t.isNumber=q;function G(F){return typeof F=="string"}t.isString=G;function le(F){return typeof F=="symbol"}t.isSymbol=le;function ae(F){return F===void 0}t.isUndefined=ae;function ce(F){return O(F)&&P(F)==="[object RegExp]"}t.isRegExp=ce,t.types.isRegExp=ce;function O(F){return typeof F=="object"&&F!==null}t.isObject=O;function Se(F){return O(F)&&P(F)==="[object Date]"}t.isDate=Se,t.types.isDate=Se;function Me(F){return O(F)&&(P(F)==="[object Error]"||F instanceof Error)}t.isError=Me,t.types.isNativeError=Me;function $(F){return typeof F=="function"}t.isFunction=$;function de(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}t.isPrimitive=de,t.isBuffer=i5();function P(F){return Object.prototype.toString.call(F)}function fe(F){return F<10?"0"+F.toString(10):F.toString(10)}var se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function oe(){var F=new Date,Q=[fe(F.getHours()),fe(F.getMinutes()),fe(F.getSeconds())].join(":");return[F.getDate(),se[F.getMonth()],Q].join(" ")}t.log=function(){console.log("%s - %s",oe(),t.format.apply(t,arguments))},t.inherits=Ji,t._extend=function(F,Q){if(!Q||!O(Q))return F;for(var te=Object.keys(Q),re=te.length;re--;)F[te[re]]=Q[te[re]];return F};function Ie(F,Q){return Object.prototype.hasOwnProperty.call(F,Q)}var pe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');if(pe&&Q[pe]){var te=Q[pe];if(typeof te!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(te,pe,{value:te,enumerable:!1,writable:!1,configurable:!0}),te}function te(){for(var re,Z,k=new Promise(function(Y,z){re=Y,Z=z}),M=[],ne=0;ne<arguments.length;ne++)M.push(arguments[ne]);M.push(function(Y,z){Y?Z(Y):re(z)});try{Q.apply(this,M)}catch(Y){Z(Y)}return k}return Object.setPrototypeOf(te,Object.getPrototypeOf(Q)),pe&&Object.defineProperty(te,pe,{value:te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(te,e(Q))},t.promisify.custom=pe;function j(F,Q){if(!F){var te=new Error("Promise was rejected with a falsy value");te.reason=F,F=te}return Q(F)}function W(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function Q(){for(var te=[],re=0;re<arguments.length;re++)te.push(arguments[re]);var Z=te.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var k=this,M=function(){return Z.apply(k,arguments)};F.apply(this,te).then(function(ne){at.nextTick(M.bind(null,null,ne))},function(ne){at.nextTick(j.bind(null,ne,M))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(F)),Object.defineProperties(Q,e(F)),Q}t.callbackify=W})(Of)),Of}var ld,hv;function o5(){if(hv)return ld;hv=1;function t(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(S);E&&(A=A.filter(function(U){return Object.getOwnPropertyDescriptor(S,U).enumerable})),R.push.apply(R,A)}return R}function e(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?t(Object(R),!0).forEach(function(A){r(S,A,R[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):t(Object(R)).forEach(function(A){Object.defineProperty(S,A,Object.getOwnPropertyDescriptor(R,A))})}return S}function r(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function o(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function s(S,E){for(var R=0;R<E.length;R++){var A=E[R];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}function c(S,E,R){return E&&s(S.prototype,E),S}var d=Tu(),h=d.Buffer,p=Zw(),m=p.inspect,y=m&&m.custom||"inspect";function T(S,E,R){h.prototype.copy.call(S,E,R)}return ld=(function(){function S(){o(this,S),this.head=null,this.tail=null,this.length=0}return c(S,[{key:"push",value:function(R){var A={data:R,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(R){var A={data:R,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var A=this.head,U=""+A.data;A=A.next;)U+=R+A.data;return U}},{key:"concat",value:function(R){if(this.length===0)return h.alloc(0);for(var A=h.allocUnsafe(R>>>0),U=this.head,C=0;U;)T(U.data,A,C),C+=U.data.length,U=U.next;return A}},{key:"consume",value:function(R,A){var U;return R<this.head.data.length?(U=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?U=this.shift():U=A?this._getString(R):this._getBuffer(R),U}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var A=this.head,U=1,C=A.data;for(R-=C.length;A=A.next;){var I=A.data,B=R>I.length?I.length:R;if(B===I.length?C+=I:C+=I.slice(0,R),R-=B,R===0){B===I.length?(++U,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=I.slice(B));break}++U}return this.length-=U,C}},{key:"_getBuffer",value:function(R){var A=h.allocUnsafe(R),U=this.head,C=1;for(U.data.copy(A),R-=U.data.length;U=U.next;){var I=U.data,B=R>I.length?I.length:R;if(I.copy(A,A.length-R,0,B),R-=B,R===0){B===I.length?(++C,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=I.slice(B));break}++C}return this.length-=C,A}},{key:y,value:function(R,A){return m(this,e({},A,{depth:0,customInspect:!1}))}}]),S})(),ld}var ud,pv;function Qw(){if(pv)return ud;pv=1;function t(d,h){var p=this,m=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return m||y?(h?h(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,at.nextTick(s,this,d)):at.nextTick(s,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(T){!h&&T?p._writableState?p._writableState.errorEmitted?at.nextTick(r,p):(p._writableState.errorEmitted=!0,at.nextTick(e,p,T)):at.nextTick(e,p,T):h?(at.nextTick(r,p),h(T)):at.nextTick(r,p)}),this)}function e(d,h){s(d,h),r(d)}function r(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(d,h){d.emit("error",h)}function c(d,h){var p=d._readableState,m=d._writableState;p&&p.autoDestroy||m&&m.autoDestroy?d.destroy(h):d.emit("error",h)}return ud={destroy:t,undestroy:o,errorOrDestroy:c},ud}var cd={},mv;function oa(){if(mv)return cd;mv=1;function t(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var e={};function r(h,p,m){m||(m=Error);function y(S,E,R){return typeof p=="string"?p:p(S,E,R)}var T=(function(S){t(E,S);function E(R,A,U){return S.call(this,y(R,A,U))||this}return E})(m);T.prototype.name=m.name,T.prototype.code=h,e[h]=T}function o(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(y){return String(y)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function s(h,p,m){return h.substr(0,p.length)===p}function c(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function d(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}return r("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(h,p,m){var y;typeof p=="string"&&s(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var T;if(c(h," argument"))T="The ".concat(h," ").concat(y," ").concat(o(p,"type"));else{var S=d(h,".")?"property":"argument";T='The "'.concat(h,'" ').concat(S," ").concat(y," ").concat(o(p,"type"))}return T+=". Received type ".concat(typeof m),T},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),cd.codes=e,cd}var fd,gv;function ex(){if(gv)return fd;gv=1;var t=oa().codes.ERR_INVALID_OPT_VALUE;function e(o,s,c){return o.highWaterMark!=null?o.highWaterMark:s?o[c]:null}function r(o,s,c,d){var h=e(s,d,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var p=d?c:"highWaterMark";throw new t(p,h)}return Math.floor(h)}return o.objectMode?16:16*1024}return fd={getHighWaterMark:r},fd}var dd,yv;function a5(){if(yv)return dd;yv=1,dd=t;function t(r,o){if(e("noDeprecation"))return r;var s=!1;function c(){if(!s){if(e("throwDeprecation"))throw new Error(o);e("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return r.apply(this,arguments)}return c}function e(r){try{if(!hr.localStorage)return!1}catch{return!1}var o=hr.localStorage[r];return o==null?!1:String(o).toLowerCase()==="true"}return dd}var hd,vv;function tx(){if(vv)return hd;vv=1,hd=ce;function t(Z){var k=this;this.next=null,this.entry=null,this.finish=function(){re(k,Z)}}var e;ce.WritableState=le;var r={deprecate:a5()},o=Jw(),s=Tu().Buffer,c=hr.Uint8Array||function(){};function d(Z){return s.from(Z)}function h(Z){return s.isBuffer(Z)||Z instanceof c}var p=Qw(),m=ex(),y=m.getHighWaterMark,T=oa().codes,S=T.ERR_INVALID_ARG_TYPE,E=T.ERR_METHOD_NOT_IMPLEMENTED,R=T.ERR_MULTIPLE_CALLBACK,A=T.ERR_STREAM_CANNOT_PIPE,U=T.ERR_STREAM_DESTROYED,C=T.ERR_STREAM_NULL_VALUES,I=T.ERR_STREAM_WRITE_AFTER_END,B=T.ERR_UNKNOWN_ENCODING,q=p.errorOrDestroy;Ji(ce,o);function G(){}function le(Z,k,M){e=e||Wo(),Z=Z||{},typeof M!="boolean"&&(M=k instanceof e),this.objectMode=!!Z.objectMode,M&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=y(this,Z,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=Z.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){se(k,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}le.prototype.getBuffer=function(){for(var k=this.bufferedRequest,M=[];k;)M.push(k),k=k.next;return M},(function(){try{Object.defineProperty(le.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ae;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(ce,Symbol.hasInstance,{value:function(k){return ae.call(this,k)?!0:this!==ce?!1:k&&k._writableState instanceof le}})):ae=function(k){return k instanceof this};function ce(Z){e=e||Wo();var k=this instanceof e;if(!k&&!ae.call(ce,this))return new ce(Z);this._writableState=new le(Z,this,k),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),o.call(this)}ce.prototype.pipe=function(){q(this,new A)};function O(Z,k){var M=new I;q(Z,M),at.nextTick(k,M)}function Se(Z,k,M,ne){var Y;return M===null?Y=new C:typeof M!="string"&&!k.objectMode&&(Y=new S("chunk",["string","Buffer"],M)),Y?(q(Z,Y),at.nextTick(ne,Y),!1):!0}ce.prototype.write=function(Z,k,M){var ne=this._writableState,Y=!1,z=!ne.objectMode&&h(Z);return z&&!s.isBuffer(Z)&&(Z=d(Z)),typeof k=="function"&&(M=k,k=null),z?k="buffer":k||(k=ne.defaultEncoding),typeof M!="function"&&(M=G),ne.ending?O(this,M):(z||Se(this,ne,Z,M))&&(ne.pendingcb++,Y=$(this,ne,z,Z,k,M)),Y},ce.prototype.cork=function(){this._writableState.corked++},ce.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&pe(this,Z))},ce.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new B(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(ce.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Me(Z,k,M){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof k=="string"&&(k=s.from(k,M)),k}Object.defineProperty(ce.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $(Z,k,M,ne,Y,z){if(!M){var K=Me(k,ne,Y);ne!==K&&(M=!0,Y="buffer",ne=K)}var ge=k.objectMode?1:ne.length;k.length+=ge;var D=k.length<k.highWaterMark;if(D||(k.needDrain=!0),k.writing||k.corked){var H=k.lastBufferedRequest;k.lastBufferedRequest={chunk:ne,encoding:Y,isBuf:M,callback:z,next:null},H?H.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else de(Z,k,!1,ge,ne,Y,z);return D}function de(Z,k,M,ne,Y,z,K){k.writelen=ne,k.writecb=K,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new U("write")):M?Z._writev(Y,k.onwrite):Z._write(Y,z,k.onwrite),k.sync=!1}function P(Z,k,M,ne,Y){--k.pendingcb,M?(at.nextTick(Y,ne),at.nextTick(Q,Z,k),Z._writableState.errorEmitted=!0,q(Z,ne)):(Y(ne),Z._writableState.errorEmitted=!0,q(Z,ne),Q(Z,k))}function fe(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function se(Z,k){var M=Z._writableState,ne=M.sync,Y=M.writecb;if(typeof Y!="function")throw new R;if(fe(M),k)P(Z,M,ne,k,Y);else{var z=j(M)||Z.destroyed;!z&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&pe(Z,M),ne?at.nextTick(oe,Z,M,z,Y):oe(Z,M,z,Y)}}function oe(Z,k,M,ne){M||Ie(Z,k),k.pendingcb--,ne(),Q(Z,k)}function Ie(Z,k){k.length===0&&k.needDrain&&(k.needDrain=!1,Z.emit("drain"))}function pe(Z,k){k.bufferProcessing=!0;var M=k.bufferedRequest;if(Z._writev&&M&&M.next){var ne=k.bufferedRequestCount,Y=new Array(ne),z=k.corkedRequestsFree;z.entry=M;for(var K=0,ge=!0;M;)Y[K]=M,M.isBuf||(ge=!1),M=M.next,K+=1;Y.allBuffers=ge,de(Z,k,!0,k.length,Y,"",z.finish),k.pendingcb++,k.lastBufferedRequest=null,z.next?(k.corkedRequestsFree=z.next,z.next=null):k.corkedRequestsFree=new t(k),k.bufferedRequestCount=0}else{for(;M;){var D=M.chunk,H=M.encoding,N=M.callback,v=k.objectMode?1:D.length;if(de(Z,k,!1,v,D,H,N),M=M.next,k.bufferedRequestCount--,k.writing)break}M===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=M,k.bufferProcessing=!1}ce.prototype._write=function(Z,k,M){M(new E("_write()"))},ce.prototype._writev=null,ce.prototype.end=function(Z,k,M){var ne=this._writableState;return typeof Z=="function"?(M=Z,Z=null,k=null):typeof k=="function"&&(M=k,k=null),Z!=null&&this.write(Z,k),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||te(this,ne,M),this},Object.defineProperty(ce.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function W(Z,k){Z._final(function(M){k.pendingcb--,M&&q(Z,M),k.prefinished=!0,Z.emit("prefinish"),Q(Z,k)})}function F(Z,k){!k.prefinished&&!k.finalCalled&&(typeof Z._final=="function"&&!k.destroyed?(k.pendingcb++,k.finalCalled=!0,at.nextTick(W,Z,k)):(k.prefinished=!0,Z.emit("prefinish")))}function Q(Z,k){var M=j(k);if(M&&(F(Z,k),k.pendingcb===0&&(k.finished=!0,Z.emit("finish"),k.autoDestroy))){var ne=Z._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&Z.destroy()}return M}function te(Z,k,M){k.ending=!0,Q(Z,k),M&&(k.finished?at.nextTick(M):Z.once("finish",M)),k.ended=!0,Z.writable=!1}function re(Z,k,M){var ne=Z.entry;for(Z.entry=null;ne;){var Y=ne.callback;k.pendingcb--,Y(M),ne=ne.next}k.corkedRequestsFree.next=Z}return Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),ce.prototype.destroy=p.destroy,ce.prototype._undestroy=p.undestroy,ce.prototype._destroy=function(Z,k){k(Z)},hd}var pd,wv;function Wo(){if(wv)return pd;wv=1;var t=Object.keys||function(m){var y=[];for(var T in m)y.push(T);return y};pd=d;var e=nx(),r=tx();Ji(d,e);for(var o=t(r.prototype),s=0;s<o.length;s++){var c=o[s];d.prototype[c]||(d.prototype[c]=r.prototype[c])}function d(m){if(!(this instanceof d))return new d(m);e.call(this,m),r.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||at.nextTick(p,this)}function p(m){m.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),pd}var md={},Kl={exports:{}},xv;function s5(){return xv||(xv=1,(function(t,e){var r=Tu(),o=r.Buffer;function s(d,h){for(var p in d)h[p]=d[p]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=c);function c(d,h,p){return o(d,h,p)}s(o,c),c.from=function(d,h,p){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,h,p)},c.alloc=function(d,h,p){if(typeof d!="number")throw new TypeError("Argument must be a number");var m=o(d);return h!==void 0?typeof p=="string"?m.fill(h,p):m.fill(h):m.fill(0),m},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}})(Kl,Kl.exports)),Kl.exports}var Tv;function Yd(){if(Tv)return md;Tv=1;var t=s5().Buffer,e=t.isEncoding||function(C){switch(C=""+C,C&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(C){if(!C)return"utf8";for(var I;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(I)return;C=(""+C).toLowerCase(),I=!0}}function o(C){var I=r(C);if(typeof I!="string"&&(t.isEncoding===e||!e(C)))throw new Error("Unknown encoding: "+C);return I||C}md.StringDecoder=s;function s(C){this.encoding=o(C);var I;switch(this.encoding){case"utf16le":this.text=T,this.end=S,I=4;break;case"utf8":this.fillLast=p,I=4;break;case"base64":this.text=E,this.end=R,I=3;break;default:this.write=A,this.end=U;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}s.prototype.write=function(C){if(C.length===0)return"";var I,B;if(this.lastNeed){if(I=this.fillLast(C),I===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<C.length?I?I+this.text(C,B):this.text(C,B):I||""},s.prototype.end=y,s.prototype.text=m,s.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length};function c(C){return C<=127?0:C>>5===6?2:C>>4===14?3:C>>3===30?4:C>>6===2?-1:-2}function d(C,I,B){var q=I.length-1;if(q<B)return 0;var G=c(I[q]);return G>=0?(G>0&&(C.lastNeed=G-1),G):--q<B||G===-2?0:(G=c(I[q]),G>=0?(G>0&&(C.lastNeed=G-2),G):--q<B||G===-2?0:(G=c(I[q]),G>=0?(G>0&&(G===2?G=0:C.lastNeed=G-3),G):0))}function h(C,I,B){if((I[0]&192)!==128)return C.lastNeed=0,"�";if(C.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return C.lastNeed=1,"�";if(C.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return C.lastNeed=2,"�"}}function p(C){var I=this.lastTotal-this.lastNeed,B=h(this,C);if(B!==void 0)return B;if(this.lastNeed<=C.length)return C.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,I,0,C.length),this.lastNeed-=C.length}function m(C,I){var B=d(this,C,I);if(!this.lastNeed)return C.toString("utf8",I);this.lastTotal=B;var q=C.length-(B-this.lastNeed);return C.copy(this.lastChar,0,q),C.toString("utf8",I,q)}function y(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+"�":I}function T(C,I){if((C.length-I)%2===0){var B=C.toString("utf16le",I);if(B){var q=B.charCodeAt(B.length-1);if(q>=55296&&q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",I,C.length-1)}function S(C){var I=C&&C.length?this.write(C):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,B)}return I}function E(C,I){var B=(C.length-I)%3;return B===0?C.toString("base64",I):(this.lastNeed=3-B,this.lastTotal=3,B===1?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",I,C.length-B))}function R(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function A(C){return C.toString(this.encoding)}function U(C){return C&&C.length?this.write(C):""}return md}var gd,Sv;function fh(){if(Sv)return gd;Sv=1;var t=oa().codes.ERR_STREAM_PREMATURE_CLOSE;function e(c){var d=!1;return function(){if(!d){d=!0;for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];c.apply(this,p)}}}function r(){}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,d,h){if(typeof d=="function")return s(c,null,d);d||(d={}),h=e(h||r);var p=d.readable||d.readable!==!1&&c.readable,m=d.writable||d.writable!==!1&&c.writable,y=function(){c.writable||S()},T=c._writableState&&c._writableState.finished,S=function(){m=!1,T=!0,p||h.call(c)},E=c._readableState&&c._readableState.endEmitted,R=function(){p=!1,E=!0,m||h.call(c)},A=function(B){h.call(c,B)},U=function(){var B;if(p&&!E)return(!c._readableState||!c._readableState.ended)&&(B=new t),h.call(c,B);if(m&&!T)return(!c._writableState||!c._writableState.ended)&&(B=new t),h.call(c,B)},C=function(){c.req.on("finish",S)};return o(c)?(c.on("complete",S),c.on("abort",U),c.req?C():c.on("request",C)):m&&!c._writableState&&(c.on("end",y),c.on("close",y)),c.on("end",R),c.on("finish",S),d.error!==!1&&c.on("error",A),c.on("close",U),function(){c.removeListener("complete",S),c.removeListener("abort",U),c.removeListener("request",C),c.req&&c.req.removeListener("finish",S),c.removeListener("end",y),c.removeListener("close",y),c.removeListener("finish",S),c.removeListener("end",R),c.removeListener("error",A),c.removeListener("close",U)}}return gd=s,gd}var yd,Ev;function l5(){if(Ev)return yd;Ev=1;var t;function e(C,I,B){return I in C?Object.defineProperty(C,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[I]=B,C}var r=fh(),o=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),m=Symbol("stream");function y(C,I){return{value:C,done:I}}function T(C){var I=C[o];if(I!==null){var B=C[m].read();B!==null&&(C[h]=null,C[o]=null,C[s]=null,I(y(B,!1)))}}function S(C){at.nextTick(T,C)}function E(C,I){return function(B,q){C.then(function(){if(I[d]){B(y(void 0,!0));return}I[p](B,q)},q)}}var R=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((t={get stream(){return this[m]},next:function(){var I=this,B=this[c];if(B!==null)return Promise.reject(B);if(this[d])return Promise.resolve(y(void 0,!0));if(this[m].destroyed)return new Promise(function(ae,ce){at.nextTick(function(){I[c]?ce(I[c]):ae(y(void 0,!0))})});var q=this[h],G;if(q)G=new Promise(E(q,this));else{var le=this[m].read();if(le!==null)return Promise.resolve(y(le,!1));G=new Promise(this[p])}return this[h]=G,G}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var I=this;return new Promise(function(B,q){I[m].destroy(null,function(G){if(G){q(G);return}B(y(void 0,!0))})})}),t),R),U=function(I){var B,q=Object.create(A,(B={},e(B,m,{value:I,writable:!0}),e(B,o,{value:null,writable:!0}),e(B,s,{value:null,writable:!0}),e(B,c,{value:null,writable:!0}),e(B,d,{value:I._readableState.endEmitted,writable:!0}),e(B,p,{value:function(le,ae){var ce=q[m].read();ce?(q[h]=null,q[o]=null,q[s]=null,le(y(ce,!1))):(q[o]=le,q[s]=ae)},writable:!0}),B));return q[h]=null,r(I,function(G){if(G&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"){var le=q[s];le!==null&&(q[h]=null,q[o]=null,q[s]=null,le(G)),q[c]=G;return}var ae=q[o];ae!==null&&(q[h]=null,q[o]=null,q[s]=null,ae(y(void 0,!0))),q[d]=!0}),I.on("readable",S.bind(null,q)),q};return yd=U,yd}var vd,bv;function u5(){return bv||(bv=1,vd=function(){throw new Error("Readable.from is not available in the browser")}),vd}var wd,_v;function nx(){if(_v)return wd;_v=1,wd=O;var t;O.ReadableState=ce,sh.EventEmitter;var e=function(K,ge){return K.listeners(ge).length},r=Jw(),o=Tu().Buffer,s=hr.Uint8Array||function(){};function c(z){return o.from(z)}function d(z){return o.isBuffer(z)||z instanceof s}var h=Zw(),p;h&&h.debuglog?p=h.debuglog("stream"):p=function(){};var m=o5(),y=Qw(),T=ex(),S=T.getHighWaterMark,E=oa().codes,R=E.ERR_INVALID_ARG_TYPE,A=E.ERR_STREAM_PUSH_AFTER_EOF,U=E.ERR_METHOD_NOT_IMPLEMENTED,C=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,B,q;Ji(O,r);var G=y.errorOrDestroy,le=["error","close","destroy","pause","resume"];function ae(z,K,ge){if(typeof z.prependListener=="function")return z.prependListener(K,ge);!z._events||!z._events[K]?z.on(K,ge):Array.isArray(z._events[K])?z._events[K].unshift(ge):z._events[K]=[ge,z._events[K]]}function ce(z,K,ge){t=t||Wo(),z=z||{},typeof ge!="boolean"&&(ge=K instanceof t),this.objectMode=!!z.objectMode,ge&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=S(this,z,"readableHighWaterMark",ge),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(I||(I=Yd().StringDecoder),this.decoder=new I(z.encoding),this.encoding=z.encoding)}function O(z){if(t=t||Wo(),!(this instanceof O))return new O(z);var K=this instanceof t;this._readableState=new ce(z,this,K),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),r.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),O.prototype.destroy=y.destroy,O.prototype._undestroy=y.undestroy,O.prototype._destroy=function(z,K){K(z)},O.prototype.push=function(z,K){var ge=this._readableState,D;return ge.objectMode?D=!0:typeof z=="string"&&(K=K||ge.defaultEncoding,K!==ge.encoding&&(z=o.from(z,K),K=""),D=!0),Se(this,z,K,!1,D)},O.prototype.unshift=function(z){return Se(this,z,null,!0,!1)};function Se(z,K,ge,D,H){p("readableAddChunk",K);var N=z._readableState;if(K===null)N.reading=!1,se(z,N);else{var v;if(H||(v=$(N,K)),v)G(z,v);else if(N.objectMode||K&&K.length>0)if(typeof K!="string"&&!N.objectMode&&Object.getPrototypeOf(K)!==o.prototype&&(K=c(K)),D)N.endEmitted?G(z,new C):Me(z,N,K,!0);else if(N.ended)G(z,new A);else{if(N.destroyed)return!1;N.reading=!1,N.decoder&&!ge?(K=N.decoder.write(K),N.objectMode||K.length!==0?Me(z,N,K,!1):pe(z,N)):Me(z,N,K,!1)}else D||(N.reading=!1,pe(z,N))}return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function Me(z,K,ge,D){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,z.emit("data",ge)):(K.length+=K.objectMode?1:ge.length,D?K.buffer.unshift(ge):K.buffer.push(ge),K.needReadable&&oe(z)),pe(z,K)}function $(z,K){var ge;return!d(K)&&typeof K!="string"&&K!==void 0&&!z.objectMode&&(ge=new R("chunk",["string","Buffer","Uint8Array"],K)),ge}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(z){I||(I=Yd().StringDecoder);var K=new I(z);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var ge=this._readableState.buffer.head,D="";ge!==null;)D+=K.write(ge.data),ge=ge.next;return this._readableState.buffer.clear(),D!==""&&this._readableState.buffer.push(D),this._readableState.length=D.length,this};var de=1073741824;function P(z){return z>=de?z=de:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function fe(z,K){return z<=0||K.length===0&&K.ended?0:K.objectMode?1:z!==z?K.flowing&&K.length?K.buffer.head.data.length:K.length:(z>K.highWaterMark&&(K.highWaterMark=P(z)),z<=K.length?z:K.ended?K.length:(K.needReadable=!0,0))}O.prototype.read=function(z){p("read",z),z=parseInt(z,10);var K=this._readableState,ge=z;if(z!==0&&(K.emittedReadable=!1),z===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return p("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?M(this):oe(this),null;if(z=fe(z,K),z===0&&K.ended)return K.length===0&&M(this),null;var D=K.needReadable;p("need readable",D),(K.length===0||K.length-z<K.highWaterMark)&&(D=!0,p("length less than watermark",D)),K.ended||K.reading?(D=!1,p("reading or ended",D)):D&&(p("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(z=fe(ge,K)));var H;return z>0?H=k(z,K):H=null,H===null?(K.needReadable=K.length<=K.highWaterMark,z=0):(K.length-=z,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),ge!==z&&K.ended&&M(this)),H!==null&&this.emit("data",H),H};function se(z,K){if(p("onEofChunk"),!K.ended){if(K.decoder){var ge=K.decoder.end();ge&&ge.length&&(K.buffer.push(ge),K.length+=K.objectMode?1:ge.length)}K.ended=!0,K.sync?oe(z):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,Ie(z)))}}function oe(z){var K=z._readableState;p("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(p("emitReadable",K.flowing),K.emittedReadable=!0,at.nextTick(Ie,z))}function Ie(z){var K=z._readableState;p("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(z.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,Z(z)}function pe(z,K){K.readingMore||(K.readingMore=!0,at.nextTick(j,z,K))}function j(z,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var ge=K.length;if(p("maybeReadMore read 0"),z.read(0),ge===K.length)break}K.readingMore=!1}O.prototype._read=function(z){G(this,new U("_read()"))},O.prototype.pipe=function(z,K){var ge=this,D=this._readableState;switch(D.pipesCount){case 0:D.pipes=z;break;case 1:D.pipes=[D.pipes,z];break;default:D.pipes.push(z);break}D.pipesCount+=1,p("pipe count=%d opts=%j",D.pipesCount,K);var H=(!K||K.end!==!1)&&z!==at.stdout&&z!==at.stderr,N=H?w:Be;D.endEmitted?at.nextTick(N):ge.once("end",N),z.on("unpipe",v);function v(Ge,He){p("onunpipe"),Ge===ge&&He&&He.hasUnpiped===!1&&(He.hasUnpiped=!0,ee())}function w(){p("onend"),z.end()}var _=W(ge);z.on("drain",_);var J=!1;function ee(){p("cleanup"),z.removeListener("close",ke),z.removeListener("finish",Ee),z.removeListener("drain",_),z.removeListener("error",we),z.removeListener("unpipe",v),ge.removeListener("end",w),ge.removeListener("end",Be),ge.removeListener("data",X),J=!0,D.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&_()}ge.on("data",X);function X(Ge){p("ondata");var He=z.write(Ge);p("dest.write",He),He===!1&&((D.pipesCount===1&&D.pipes===z||D.pipesCount>1&&Y(D.pipes,z)!==-1)&&!J&&(p("false write response, pause",D.awaitDrain),D.awaitDrain++),ge.pause())}function we(Ge){p("onerror",Ge),Be(),z.removeListener("error",we),e(z,"error")===0&&G(z,Ge)}ae(z,"error",we);function ke(){z.removeListener("finish",Ee),Be()}z.once("close",ke);function Ee(){p("onfinish"),z.removeListener("close",ke),Be()}z.once("finish",Ee);function Be(){p("unpipe"),ge.unpipe(z)}return z.emit("pipe",ge),D.flowing||(p("pipe resume"),ge.resume()),z};function W(z){return function(){var ge=z._readableState;p("pipeOnDrain",ge.awaitDrain),ge.awaitDrain&&ge.awaitDrain--,ge.awaitDrain===0&&e(z,"data")&&(ge.flowing=!0,Z(z))}}O.prototype.unpipe=function(z){var K=this._readableState,ge={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return z&&z!==K.pipes?this:(z||(z=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,z&&z.emit("unpipe",this,ge),this);if(!z){var D=K.pipes,H=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var N=0;N<H;N++)D[N].emit("unpipe",this,{hasUnpiped:!1});return this}var v=Y(K.pipes,z);return v===-1?this:(K.pipes.splice(v,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),z.emit("unpipe",this,ge),this)},O.prototype.on=function(z,K){var ge=r.prototype.on.call(this,z,K),D=this._readableState;return z==="data"?(D.readableListening=this.listenerCount("readable")>0,D.flowing!==!1&&this.resume()):z==="readable"&&!D.endEmitted&&!D.readableListening&&(D.readableListening=D.needReadable=!0,D.flowing=!1,D.emittedReadable=!1,p("on readable",D.length,D.reading),D.length?oe(this):D.reading||at.nextTick(Q,this)),ge},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(z,K){var ge=r.prototype.removeListener.call(this,z,K);return z==="readable"&&at.nextTick(F,this),ge},O.prototype.removeAllListeners=function(z){var K=r.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&at.nextTick(F,this),K};function F(z){var K=z._readableState;K.readableListening=z.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:z.listenerCount("data")>0&&z.resume()}function Q(z){p("readable nexttick read 0"),z.read(0)}O.prototype.resume=function(){var z=this._readableState;return z.flowing||(p("resume"),z.flowing=!z.readableListening,te(this,z)),z.paused=!1,this};function te(z,K){K.resumeScheduled||(K.resumeScheduled=!0,at.nextTick(re,z,K))}function re(z,K){p("resume",K.reading),K.reading||z.read(0),K.resumeScheduled=!1,z.emit("resume"),Z(z),K.flowing&&!K.reading&&z.read(0)}O.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(z){var K=z._readableState;for(p("flow",K.flowing);K.flowing&&z.read()!==null;);}O.prototype.wrap=function(z){var K=this,ge=this._readableState,D=!1;z.on("end",function(){if(p("wrapped end"),ge.decoder&&!ge.ended){var v=ge.decoder.end();v&&v.length&&K.push(v)}K.push(null)}),z.on("data",function(v){if(p("wrapped data"),ge.decoder&&(v=ge.decoder.write(v)),!(ge.objectMode&&v==null)&&!(!ge.objectMode&&(!v||!v.length))){var w=K.push(v);w||(D=!0,z.pause())}});for(var H in z)this[H]===void 0&&typeof z[H]=="function"&&(this[H]=(function(w){return function(){return z[w].apply(z,arguments)}})(H));for(var N=0;N<le.length;N++)z.on(le[N],this.emit.bind(this,le[N]));return this._read=function(v){p("wrapped _read",v),D&&(D=!1,z.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=l5()),B(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),O._fromList=k,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function k(z,K){if(K.length===0)return null;var ge;return K.objectMode?ge=K.buffer.shift():!z||z>=K.length?(K.decoder?ge=K.buffer.join(""):K.buffer.length===1?ge=K.buffer.first():ge=K.buffer.concat(K.length),K.buffer.clear()):ge=K.buffer.consume(z,K.decoder),ge}function M(z){var K=z._readableState;p("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,at.nextTick(ne,K,z))}function ne(z,K){if(p("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,K.readable=!1,K.emit("end"),z.autoDestroy)){var ge=K._writableState;(!ge||ge.autoDestroy&&ge.finished)&&K.destroy()}}typeof Symbol=="function"&&(O.from=function(z,K){return q===void 0&&(q=u5()),q(O,z,K)});function Y(z,K){for(var ge=0,D=z.length;ge<D;ge++)if(z[ge]===K)return ge;return-1}return wd}var xd,Cv;function rx(){if(Cv)return xd;Cv=1,xd=h;var t=oa().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,c=Wo();Ji(h,c);function d(y,T){var S=this._transformState;S.transforming=!1;var E=S.writecb;if(E===null)return this.emit("error",new r);S.writechunk=null,S.writecb=null,T!=null&&this.push(T),E(y);var R=this._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);c.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(T,S){m(y,T,S)}):m(this,null,null)}h.prototype.push=function(y,T){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,T)},h.prototype._transform=function(y,T,S){S(new e("_transform()"))},h.prototype._write=function(y,T,S){var E=this._transformState;if(E.writecb=S,E.writechunk=y,E.writeencoding=T,!E.transforming){var R=this._readableState;(E.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},h.prototype._read=function(y){var T=this._transformState;T.writechunk!==null&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0},h.prototype._destroy=function(y,T){c.prototype._destroy.call(this,y,function(S){T(S)})};function m(y,T,S){if(T)return y.emit("error",T);if(S!=null&&y.push(S),y._writableState.length)throw new s;if(y._transformState.transforming)throw new o;return y.push(null)}return xd}var Td,Av;function c5(){if(Av)return Td;Av=1,Td=e;var t=rx();Ji(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,o,s){s(null,r)},Td}var Sd,Rv;function f5(){if(Rv)return Sd;Rv=1;var t;function e(S){var E=!1;return function(){E||(E=!0,S.apply(void 0,arguments))}}var r=oa().codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function c(S){if(S)throw S}function d(S){return S.setHeader&&typeof S.abort=="function"}function h(S,E,R,A){A=e(A);var U=!1;S.on("close",function(){U=!0}),t===void 0&&(t=fh()),t(S,{readable:E,writable:R},function(I){if(I)return A(I);U=!0,A()});var C=!1;return function(I){if(!U&&!C){if(C=!0,d(S))return S.abort();if(typeof S.destroy=="function")return S.destroy();A(I||new s("pipe"))}}}function p(S){S()}function m(S,E){return S.pipe(E)}function y(S){return!S.length||typeof S[S.length-1]!="function"?c:S.pop()}function T(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];var A=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new o("streams");var U,C=E.map(function(I,B){var q=B<E.length-1,G=B>0;return h(I,q,G,function(le){U||(U=le),le&&C.forEach(p),!q&&(C.forEach(p),A(U))})});return E.reduce(m)}return Sd=T,Sd}var dh=Hn,hh=sh.EventEmitter,d5=Ji;d5(Hn,hh);Hn.Readable=nx();Hn.Writable=tx();Hn.Duplex=Wo();Hn.Transform=rx();Hn.PassThrough=c5();Hn.finished=fh();Hn.pipeline=f5();Hn.Stream=Hn;function Hn(){hh.call(this)}Hn.prototype.pipe=function(t,e){var r=this;function o(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}r.on("data",o);function s(){r.readable&&r.resume&&r.resume()}t.on("drain",s),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",d),r.on("close",h));var c=!1;function d(){c||(c=!0,t.end())}function h(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function p(y){if(m(),hh.listenerCount(this,"error")===0)throw y}r.on("error",p),t.on("error",p);function m(){r.removeListener("data",o),t.removeListener("drain",s),r.removeListener("end",d),r.removeListener("close",h),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t};(function(t){(function(e){e.parser=function(k,M){return new o(k,M)},e.SAXParser=o,e.SAXStream=y,e.createStream=m,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(k,M){if(!(this instanceof o))return new o(k,M);var ne=this;c(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=M||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!k,ne.noscript=!!(k||ne.opt.noscript),ne.state=O.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(A)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),Me(ne,"onready")}Object.create||(Object.create=function(k){function M(){}M.prototype=k;var ne=new M;return ne}),Object.keys||(Object.keys=function(k){var M=[];for(var ne in k)k.hasOwnProperty(ne)&&M.push(ne);return M});function s(k){for(var M=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,Y=0,z=r.length;Y<z;Y++){var K=k[r[Y]].length;if(K>M)switch(r[Y]){case"textNode":de(k);break;case"cdata":$(k,"oncdata",k.cdata),k.cdata="";break;case"script":$(k,"onscript",k.script),k.script="";break;default:fe(k,"Max buffer length exceeded: "+r[Y])}ne=Math.max(ne,K)}var ge=e.MAX_BUFFER_LENGTH-ne;k.bufferCheckPosition=ge+k.position}function c(k){for(var M=0,ne=r.length;M<ne;M++)k[r[M]]=""}function d(k){de(k),k.cdata!==""&&($(k,"oncdata",k.cdata),k.cdata=""),k.script!==""&&($(k,"onscript",k.script),k.script="")}o.prototype={end:function(){se(this)},write:Z,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var h;try{h=dh.Stream}catch{h=function(){}}var p=e.EVENTS.filter(function(k){return k!=="error"&&k!=="end"});function m(k,M){return new y(k,M)}function y(k,M){if(!(this instanceof y))return new y(k,M);h.apply(this),this._parser=new o(k,M),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(Y){ne.emit("error",Y),ne._parser.error=null},this._decoder=null,p.forEach(function(Y){Object.defineProperty(ne,"on"+Y,{get:function(){return ne._parser["on"+Y]},set:function(z){if(!z)return ne.removeAllListeners(Y),ne._parser["on"+Y]=z,z;ne.on(Y,z)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(h.prototype,{constructor:{value:y}}),y.prototype.write=function(k){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(k)){if(!this._decoder){var M=Yd().StringDecoder;this._decoder=new M("utf8")}k=this._decoder.write(k)}return this._parser.write(k.toString()),this.emit("data",k),!0},y.prototype.end=function(k){return k&&k.length&&this.write(k),this._parser.end(),!0},y.prototype.on=function(k,M){var ne=this;return!ne._parser["on"+k]&&p.indexOf(k)!==-1&&(ne._parser["on"+k]=function(){var Y=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Y.splice(0,0,k),ne.emit.apply(ne,Y)}),h.prototype.on.call(ne,k,M)};var T="[CDATA[",S="DOCTYPE",E="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/2000/xmlns/",A={xml:E,xmlns:R},U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function q(k){return k===" "||k===`
`||k==="\r"||k==="	"}function G(k){return k==='"'||k==="'"}function le(k){return k===">"||q(k)}function ae(k,M){return k.test(M)}function ce(k,M){return!ae(k,M)}var O=0;e.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(k){var M=e.ENTITIES[k],ne=typeof M=="number"?String.fromCharCode(M):M;e.ENTITIES[k]=ne});for(var Se in e.STATE)e.STATE[e.STATE[Se]]=Se;O=e.STATE;function Me(k,M,ne){k[M]&&k[M](ne)}function $(k,M,ne){k.textNode&&de(k),Me(k,M,ne)}function de(k){k.textNode=P(k.opt,k.textNode),k.textNode&&Me(k,"ontext",k.textNode),k.textNode=""}function P(k,M){return k.trim&&(M=M.trim()),k.normalize&&(M=M.replace(/\s+/g," ")),M}function fe(k,M){return de(k),k.trackPosition&&(M+=`
Line: `+k.line+`
Column: `+k.column+`
Char: `+k.c),M=new Error(M),k.error=M,Me(k,"onerror",M),k}function se(k){return k.sawRoot&&!k.closedRoot&&oe(k,"Unclosed root tag"),k.state!==O.BEGIN&&k.state!==O.BEGIN_WHITESPACE&&k.state!==O.TEXT&&fe(k,"Unexpected end"),de(k),k.c="",k.closed=!0,Me(k,"onend"),o.call(k,k.strict,k.opt),k}function oe(k,M){if(typeof k!="object"||!(k instanceof o))throw new Error("bad call to strictFail");k.strict&&fe(k,M)}function Ie(k){k.strict||(k.tagName=k.tagName[k.looseCase]());var M=k.tags[k.tags.length-1]||k,ne=k.tag={name:k.tagName,attributes:{}};k.opt.xmlns&&(ne.ns=M.ns),k.attribList.length=0,$(k,"onopentagstart",ne)}function pe(k,M){var ne=k.indexOf(":"),Y=ne<0?["",k]:k.split(":"),z=Y[0],K=Y[1];return M&&k==="xmlns"&&(z="xmlns",K=""),{prefix:z,local:K}}function j(k){if(k.strict||(k.attribName=k.attribName[k.looseCase]()),k.attribList.indexOf(k.attribName)!==-1||k.tag.attributes.hasOwnProperty(k.attribName)){k.attribName=k.attribValue="";return}if(k.opt.xmlns){var M=pe(k.attribName,!0),ne=M.prefix,Y=M.local;if(ne==="xmlns")if(Y==="xml"&&k.attribValue!==E)oe(k,"xml: prefix must be bound to "+E+`
Actual: `+k.attribValue);else if(Y==="xmlns"&&k.attribValue!==R)oe(k,"xmlns: prefix must be bound to "+R+`
Actual: `+k.attribValue);else{var z=k.tag,K=k.tags[k.tags.length-1]||k;z.ns===K.ns&&(z.ns=Object.create(K.ns)),z.ns[Y]=k.attribValue}k.attribList.push([k.attribName,k.attribValue])}else k.tag.attributes[k.attribName]=k.attribValue,$(k,"onattribute",{name:k.attribName,value:k.attribValue});k.attribName=k.attribValue=""}function W(k,M){if(k.opt.xmlns){var ne=k.tag,Y=pe(k.tagName);ne.prefix=Y.prefix,ne.local=Y.local,ne.uri=ne.ns[Y.prefix]||"",ne.prefix&&!ne.uri&&(oe(k,"Unbound namespace prefix: "+JSON.stringify(k.tagName)),ne.uri=Y.prefix);var z=k.tags[k.tags.length-1]||k;ne.ns&&z.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(X){$(k,"onopennamespace",{prefix:X,uri:ne.ns[X]})});for(var K=0,ge=k.attribList.length;K<ge;K++){var D=k.attribList[K],H=D[0],N=D[1],v=pe(H,!0),w=v.prefix,_=v.local,J=w===""?"":ne.ns[w]||"",ee={name:H,value:N,prefix:w,local:_,uri:J};w&&w!=="xmlns"&&!J&&(oe(k,"Unbound namespace prefix: "+JSON.stringify(w)),ee.uri=w),k.tag.attributes[H]=ee,$(k,"onattribute",ee)}k.attribList.length=0}k.tag.isSelfClosing=!!M,k.sawRoot=!0,k.tags.push(k.tag),$(k,"onopentag",k.tag),M||(!k.noscript&&k.tagName.toLowerCase()==="script"?k.state=O.SCRIPT:k.state=O.TEXT,k.tag=null,k.tagName=""),k.attribName=k.attribValue="",k.attribList.length=0}function F(k){if(!k.tagName){oe(k,"Weird empty close tag."),k.textNode+="</>",k.state=O.TEXT;return}if(k.script){if(k.tagName!=="script"){k.script+="</"+k.tagName+">",k.tagName="",k.state=O.SCRIPT;return}$(k,"onscript",k.script),k.script=""}var M=k.tags.length,ne=k.tagName;k.strict||(ne=ne[k.looseCase]());for(var Y=ne;M--;){var z=k.tags[M];if(z.name!==Y)oe(k,"Unexpected close tag");else break}if(M<0){oe(k,"Unmatched closing tag: "+k.tagName),k.textNode+="</"+k.tagName+">",k.state=O.TEXT;return}k.tagName=ne;for(var K=k.tags.length;K-- >M;){var ge=k.tag=k.tags.pop();k.tagName=k.tag.name,$(k,"onclosetag",k.tagName);var D={};for(var H in ge.ns)D[H]=ge.ns[H];var N=k.tags[k.tags.length-1]||k;k.opt.xmlns&&ge.ns!==N.ns&&Object.keys(ge.ns).forEach(function(v){var w=ge.ns[v];$(k,"onclosenamespace",{prefix:v,uri:w})})}M===0&&(k.closedRoot=!0),k.tagName=k.attribValue=k.attribName="",k.attribList.length=0,k.state=O.TEXT}function Q(k){var M=k.entity,ne=M.toLowerCase(),Y,z="";return k.ENTITIES[M]?k.ENTITIES[M]:k.ENTITIES[ne]?k.ENTITIES[ne]:(M=ne,M.charAt(0)==="#"&&(M.charAt(1)==="x"?(M=M.slice(2),Y=parseInt(M,16),z=Y.toString(16)):(M=M.slice(1),Y=parseInt(M,10),z=Y.toString(10))),M=M.replace(/^0+/,""),isNaN(Y)||z.toLowerCase()!==M?(oe(k,"Invalid character entity"),"&"+k.entity+";"):String.fromCodePoint(Y))}function te(k,M){M==="<"?(k.state=O.OPEN_WAKA,k.startTagPosition=k.position):q(M)||(oe(k,"Non-whitespace before first tag."),k.textNode=M,k.state=O.TEXT)}function re(k,M){var ne="";return M<k.length&&(ne=k.charAt(M)),ne}function Z(k){var M=this;if(this.error)throw this.error;if(M.closed)return fe(M,"Cannot write after close. Assign an onready handler.");if(k===null)return se(M);typeof k=="object"&&(k=k.toString());for(var ne=0,Y="";Y=re(k,ne++),M.c=Y,!!Y;)switch(M.trackPosition&&(M.position++,Y===`
`?(M.line++,M.column=0):M.column++),M.state){case O.BEGIN:if(M.state=O.BEGIN_WHITESPACE,Y==="\uFEFF")continue;te(M,Y);continue;case O.BEGIN_WHITESPACE:te(M,Y);continue;case O.TEXT:if(M.sawRoot&&!M.closedRoot){for(var z=ne-1;Y&&Y!=="<"&&Y!=="&";)Y=re(k,ne++),Y&&M.trackPosition&&(M.position++,Y===`
`?(M.line++,M.column=0):M.column++);M.textNode+=k.substring(z,ne-1)}Y==="<"&&!(M.sawRoot&&M.closedRoot&&!M.strict)?(M.state=O.OPEN_WAKA,M.startTagPosition=M.position):(!q(Y)&&(!M.sawRoot||M.closedRoot)&&oe(M,"Text data outside of root node."),Y==="&"?M.state=O.TEXT_ENTITY:M.textNode+=Y);continue;case O.SCRIPT:Y==="<"?M.state=O.SCRIPT_ENDING:M.script+=Y;continue;case O.SCRIPT_ENDING:Y==="/"?M.state=O.CLOSE_TAG:(M.script+="<"+Y,M.state=O.SCRIPT);continue;case O.OPEN_WAKA:if(Y==="!")M.state=O.SGML_DECL,M.sgmlDecl="";else if(!q(Y))if(ae(U,Y))M.state=O.OPEN_TAG,M.tagName=Y;else if(Y==="/")M.state=O.CLOSE_TAG,M.tagName="";else if(Y==="?")M.state=O.PROC_INST,M.procInstName=M.procInstBody="";else{if(oe(M,"Unencoded <"),M.startTagPosition+1<M.position){var K=M.position-M.startTagPosition;Y=new Array(K).join(" ")+Y}M.textNode+="<"+Y,M.state=O.TEXT}continue;case O.SGML_DECL:(M.sgmlDecl+Y).toUpperCase()===T?($(M,"onopencdata"),M.state=O.CDATA,M.sgmlDecl="",M.cdata=""):M.sgmlDecl+Y==="--"?(M.state=O.COMMENT,M.comment="",M.sgmlDecl=""):(M.sgmlDecl+Y).toUpperCase()===S?(M.state=O.DOCTYPE,(M.doctype||M.sawRoot)&&oe(M,"Inappropriately located doctype declaration"),M.doctype="",M.sgmlDecl=""):Y===">"?($(M,"onsgmldeclaration",M.sgmlDecl),M.sgmlDecl="",M.state=O.TEXT):(G(Y)&&(M.state=O.SGML_DECL_QUOTED),M.sgmlDecl+=Y);continue;case O.SGML_DECL_QUOTED:Y===M.q&&(M.state=O.SGML_DECL,M.q=""),M.sgmlDecl+=Y;continue;case O.DOCTYPE:Y===">"?(M.state=O.TEXT,$(M,"ondoctype",M.doctype),M.doctype=!0):(M.doctype+=Y,Y==="["?M.state=O.DOCTYPE_DTD:G(Y)&&(M.state=O.DOCTYPE_QUOTED,M.q=Y));continue;case O.DOCTYPE_QUOTED:M.doctype+=Y,Y===M.q&&(M.q="",M.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:M.doctype+=Y,Y==="]"?M.state=O.DOCTYPE:G(Y)&&(M.state=O.DOCTYPE_DTD_QUOTED,M.q=Y);continue;case O.DOCTYPE_DTD_QUOTED:M.doctype+=Y,Y===M.q&&(M.state=O.DOCTYPE_DTD,M.q="");continue;case O.COMMENT:Y==="-"?M.state=O.COMMENT_ENDING:M.comment+=Y;continue;case O.COMMENT_ENDING:Y==="-"?(M.state=O.COMMENT_ENDED,M.comment=P(M.opt,M.comment),M.comment&&$(M,"oncomment",M.comment),M.comment=""):(M.comment+="-"+Y,M.state=O.COMMENT);continue;case O.COMMENT_ENDED:Y!==">"?(oe(M,"Malformed comment"),M.comment+="--"+Y,M.state=O.COMMENT):M.state=O.TEXT;continue;case O.CDATA:Y==="]"?M.state=O.CDATA_ENDING:M.cdata+=Y;continue;case O.CDATA_ENDING:Y==="]"?M.state=O.CDATA_ENDING_2:(M.cdata+="]"+Y,M.state=O.CDATA);continue;case O.CDATA_ENDING_2:Y===">"?(M.cdata&&$(M,"oncdata",M.cdata),$(M,"onclosecdata"),M.cdata="",M.state=O.TEXT):Y==="]"?M.cdata+="]":(M.cdata+="]]"+Y,M.state=O.CDATA);continue;case O.PROC_INST:Y==="?"?M.state=O.PROC_INST_ENDING:q(Y)?M.state=O.PROC_INST_BODY:M.procInstName+=Y;continue;case O.PROC_INST_BODY:if(!M.procInstBody&&q(Y))continue;Y==="?"?M.state=O.PROC_INST_ENDING:M.procInstBody+=Y;continue;case O.PROC_INST_ENDING:Y===">"?($(M,"onprocessinginstruction",{name:M.procInstName,body:M.procInstBody}),M.procInstName=M.procInstBody="",M.state=O.TEXT):(M.procInstBody+="?"+Y,M.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:ae(C,Y)?M.tagName+=Y:(Ie(M),Y===">"?W(M):Y==="/"?M.state=O.OPEN_TAG_SLASH:(q(Y)||oe(M,"Invalid character in tag name"),M.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:Y===">"?(W(M,!0),F(M)):(oe(M,"Forward-slash in opening tag not followed by >"),M.state=O.ATTRIB);continue;case O.ATTRIB:if(q(Y))continue;Y===">"?W(M):Y==="/"?M.state=O.OPEN_TAG_SLASH:ae(U,Y)?(M.attribName=Y,M.attribValue="",M.state=O.ATTRIB_NAME):oe(M,"Invalid attribute name");continue;case O.ATTRIB_NAME:Y==="="?M.state=O.ATTRIB_VALUE:Y===">"?(oe(M,"Attribute without value"),M.attribValue=M.attribName,j(M),W(M)):q(Y)?M.state=O.ATTRIB_NAME_SAW_WHITE:ae(C,Y)?M.attribName+=Y:oe(M,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if(Y==="=")M.state=O.ATTRIB_VALUE;else{if(q(Y))continue;oe(M,"Attribute without value"),M.tag.attributes[M.attribName]="",M.attribValue="",$(M,"onattribute",{name:M.attribName,value:""}),M.attribName="",Y===">"?W(M):ae(U,Y)?(M.attribName=Y,M.state=O.ATTRIB_NAME):(oe(M,"Invalid attribute name"),M.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(q(Y))continue;G(Y)?(M.q=Y,M.state=O.ATTRIB_VALUE_QUOTED):(oe(M,"Unquoted attribute value"),M.state=O.ATTRIB_VALUE_UNQUOTED,M.attribValue=Y);continue;case O.ATTRIB_VALUE_QUOTED:if(Y!==M.q){Y==="&"?M.state=O.ATTRIB_VALUE_ENTITY_Q:M.attribValue+=Y;continue}j(M),M.q="",M.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:q(Y)?M.state=O.ATTRIB:Y===">"?W(M):Y==="/"?M.state=O.OPEN_TAG_SLASH:ae(U,Y)?(oe(M,"No whitespace between attributes"),M.attribName=Y,M.attribValue="",M.state=O.ATTRIB_NAME):oe(M,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!le(Y)){Y==="&"?M.state=O.ATTRIB_VALUE_ENTITY_U:M.attribValue+=Y;continue}j(M),Y===">"?W(M):M.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(M.tagName)Y===">"?F(M):ae(C,Y)?M.tagName+=Y:M.script?(M.script+="</"+M.tagName,M.tagName="",M.state=O.SCRIPT):(q(Y)||oe(M,"Invalid tagname in closing tag"),M.state=O.CLOSE_TAG_SAW_WHITE);else{if(q(Y))continue;ce(U,Y)?M.script?(M.script+="</"+Y,M.state=O.SCRIPT):oe(M,"Invalid tagname in closing tag."):M.tagName=Y}continue;case O.CLOSE_TAG_SAW_WHITE:if(q(Y))continue;Y===">"?F(M):oe(M,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var ge,D;switch(M.state){case O.TEXT_ENTITY:ge=O.TEXT,D="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:ge=O.ATTRIB_VALUE_QUOTED,D="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:ge=O.ATTRIB_VALUE_UNQUOTED,D="attribValue";break}Y===";"?(M[D]+=Q(M),M.entity="",M.state=ge):ae(M.entity.length?B:I,Y)?M.entity+=Y:(oe(M,"Invalid character in entity name"),M[D]+="&"+M.entity+Y,M.entity="",M.state=ge);continue;default:throw new Error(M,"Unknown state: "+M.state)}return M.position>=M.bufferCheckPosition&&s(M),M}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var k=String.fromCharCode,M=Math.floor,ne=function(){var Y=16384,z=[],K,ge,D=-1,H=arguments.length;if(!H)return"";for(var N="";++D<H;){var v=Number(arguments[D]);if(!isFinite(v)||v<0||v>1114111||M(v)!==v)throw RangeError("Invalid code point: "+v);v<=65535?z.push(v):(v-=65536,K=(v>>10)+55296,ge=v%1024+56320,z.push(K,ge)),(D+1===H||z.length>Y)&&(N+=k.apply(null,z),z.length=0)}return N};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne})()})(t)})(kw);var ph={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},h5=ph.isArray,mh={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!h5(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},p5=kw,xt=mh,Ho=ph.isArray,Ae,et;function m5(t){return Ae=xt.copyOptions(t),xt.ensureFlagExists("ignoreDeclaration",Ae),xt.ensureFlagExists("ignoreInstruction",Ae),xt.ensureFlagExists("ignoreAttributes",Ae),xt.ensureFlagExists("ignoreText",Ae),xt.ensureFlagExists("ignoreComment",Ae),xt.ensureFlagExists("ignoreCdata",Ae),xt.ensureFlagExists("ignoreDoctype",Ae),xt.ensureFlagExists("compact",Ae),xt.ensureFlagExists("alwaysChildren",Ae),xt.ensureFlagExists("addParent",Ae),xt.ensureFlagExists("trim",Ae),xt.ensureFlagExists("nativeType",Ae),xt.ensureFlagExists("nativeTypeAttributes",Ae),xt.ensureFlagExists("sanitize",Ae),xt.ensureFlagExists("instructionHasAttributes",Ae),xt.ensureFlagExists("captureSpacesBetweenElements",Ae),xt.ensureAlwaysArrayExists(Ae),xt.ensureKeyExists("declaration",Ae),xt.ensureKeyExists("instruction",Ae),xt.ensureKeyExists("attributes",Ae),xt.ensureKeyExists("text",Ae),xt.ensureKeyExists("comment",Ae),xt.ensureKeyExists("cdata",Ae),xt.ensureKeyExists("doctype",Ae),xt.ensureKeyExists("type",Ae),xt.ensureKeyExists("name",Ae),xt.ensureKeyExists("elements",Ae),xt.ensureKeyExists("parent",Ae),Ae}function ix(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function Es(t,e){var r;if(Ae.compact){if(!et[Ae[t+"Key"]]&&(Ho(Ae.alwaysArray)?Ae.alwaysArray.indexOf(Ae[t+"Key"])!==-1:Ae.alwaysArray)&&(et[Ae[t+"Key"]]=[]),et[Ae[t+"Key"]]&&!Ho(et[Ae[t+"Key"]])&&(et[Ae[t+"Key"]]=[et[Ae[t+"Key"]]]),t+"Fn"in Ae&&typeof e=="string"&&(e=Ae[t+"Fn"](e,et)),t==="instruction"&&("instructionFn"in Ae||"instructionNameFn"in Ae)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in Ae)e[r]=Ae.instructionFn(e[r],r,et);else{var o=e[r];delete e[r],e[Ae.instructionNameFn(r,o,et)]=o}}Ho(et[Ae[t+"Key"]])?et[Ae[t+"Key"]].push(e):et[Ae[t+"Key"]]=e}else{et[Ae.elementsKey]||(et[Ae.elementsKey]=[]);var s={};if(s[Ae.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;s[Ae.nameKey]="instructionNameFn"in Ae?Ae.instructionNameFn(r,e,et):r,Ae.instructionHasAttributes?(s[Ae.attributesKey]=e[r][Ae.attributesKey],"instructionFn"in Ae&&(s[Ae.attributesKey]=Ae.instructionFn(s[Ae.attributesKey],r,et))):("instructionFn"in Ae&&(e[r]=Ae.instructionFn(e[r],r,et)),s[Ae.instructionKey]=e[r])}else t+"Fn"in Ae&&(e=Ae[t+"Fn"](e,et)),s[Ae[t+"Key"]]=e;Ae.addParent&&(s[Ae.parentKey]=et),et[Ae.elementsKey].push(s)}}function ox(t){if("attributesFn"in Ae&&t&&(t=Ae.attributesFn(t,et)),(Ae.trim||"attributeValueFn"in Ae||"attributeNameFn"in Ae||Ae.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(Ae.trim&&(t[e]=t[e].trim()),Ae.nativeTypeAttributes&&(t[e]=ix(t[e])),"attributeValueFn"in Ae&&(t[e]=Ae.attributeValueFn(t[e],e,et)),"attributeNameFn"in Ae)){var r=t[e];delete t[e],t[Ae.attributeNameFn(e,t[e],et)]=r}}return t}function g5(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||Ae.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,o;(o=r.exec(t.body))!==null;)e[o[1]]=o[2]||o[3]||o[4];e=ox(e)}if(t.name.toLowerCase()==="xml"){if(Ae.ignoreDeclaration)return;et[Ae.declarationKey]={},Object.keys(e).length&&(et[Ae.declarationKey][Ae.attributesKey]=e),Ae.addParent&&(et[Ae.declarationKey][Ae.parentKey]=et)}else{if(Ae.ignoreInstruction)return;Ae.trim&&(t.body=t.body.trim());var s={};Ae.instructionHasAttributes&&Object.keys(e).length?(s[t.name]={},s[t.name][Ae.attributesKey]=e):s[t.name]=t.body,Es("instruction",s)}}function y5(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=ox(e),"elementNameFn"in Ae&&(t=Ae.elementNameFn(t,et)),Ae.compact){if(r={},!Ae.ignoreAttributes&&e&&Object.keys(e).length){r[Ae.attributesKey]={};var o;for(o in e)e.hasOwnProperty(o)&&(r[Ae.attributesKey][o]=e[o])}!(t in et)&&(Ho(Ae.alwaysArray)?Ae.alwaysArray.indexOf(t)!==-1:Ae.alwaysArray)&&(et[t]=[]),et[t]&&!Ho(et[t])&&(et[t]=[et[t]]),Ho(et[t])?et[t].push(r):et[t]=r}else et[Ae.elementsKey]||(et[Ae.elementsKey]=[]),r={},r[Ae.typeKey]="element",r[Ae.nameKey]=t,!Ae.ignoreAttributes&&e&&Object.keys(e).length&&(r[Ae.attributesKey]=e),Ae.alwaysChildren&&(r[Ae.elementsKey]=[]),et[Ae.elementsKey].push(r);r[Ae.parentKey]=et,et=r}function v5(t){Ae.ignoreText||!t.trim()&&!Ae.captureSpacesBetweenElements||(Ae.trim&&(t=t.trim()),Ae.nativeType&&(t=ix(t)),Ae.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),Es("text",t))}function w5(t){Ae.ignoreComment||(Ae.trim&&(t=t.trim()),Es("comment",t))}function x5(t){var e=et[Ae.parentKey];Ae.addParent||delete et[Ae.parentKey],et=e}function T5(t){Ae.ignoreCdata||(Ae.trim&&(t=t.trim()),Es("cdata",t))}function S5(t){Ae.ignoreDoctype||(t=t.replace(/^ /,""),Ae.trim&&(t=t.trim()),Es("doctype",t))}function E5(t){t.note=t}var ax=function(t,e){var r=p5.parser(!0,{}),o={};if(et=o,Ae=m5(e),r.opt={strictEntities:!0},r.onopentag=y5,r.ontext=v5,r.oncomment=w5,r.onclosetag=x5,r.onerror=E5,r.oncdata=T5,r.ondoctype=S5,r.onprocessinginstruction=g5,r.write(t).close(),o[Ae.elementsKey]){var s=o[Ae.elementsKey];delete o[Ae.elementsKey],o[Ae.elementsKey]=s,delete o.text}return o},Nv=mh,b5=ax;function _5(t){var e=Nv.copyOptions(t);return Nv.ensureSpacesExists(e),e}var C5=function(t,e){var r,o,s,c;return r=_5(e),o=b5(t,r),c="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?s=JSON.stringify(o,function(d,h){return d===c?"_":h},r.spaces):s=JSON.stringify(o,null,r.spaces),s.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Nt=mh,A5=ph.isArray,dn,hn;function R5(t){var e=Nt.copyOptions(t);return Nt.ensureFlagExists("ignoreDeclaration",e),Nt.ensureFlagExists("ignoreInstruction",e),Nt.ensureFlagExists("ignoreAttributes",e),Nt.ensureFlagExists("ignoreText",e),Nt.ensureFlagExists("ignoreComment",e),Nt.ensureFlagExists("ignoreCdata",e),Nt.ensureFlagExists("ignoreDoctype",e),Nt.ensureFlagExists("compact",e),Nt.ensureFlagExists("indentText",e),Nt.ensureFlagExists("indentCdata",e),Nt.ensureFlagExists("indentAttributes",e),Nt.ensureFlagExists("indentInstruction",e),Nt.ensureFlagExists("fullTagEmptyElement",e),Nt.ensureFlagExists("noQuotesForNativeAttributes",e),Nt.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),Nt.ensureKeyExists("declaration",e),Nt.ensureKeyExists("instruction",e),Nt.ensureKeyExists("attributes",e),Nt.ensureKeyExists("text",e),Nt.ensureKeyExists("comment",e),Nt.ensureKeyExists("cdata",e),Nt.ensureKeyExists("doctype",e),Nt.ensureKeyExists("type",e),Nt.ensureKeyExists("name",e),Nt.ensureKeyExists("elements",e),e}function dr(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function Su(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,hn,dn));var o,s,c,d,h=[];for(o in t)t.hasOwnProperty(o)&&t[o]!==null&&t[o]!==void 0&&(d=e.noQuotesForNativeAttributes&&typeof t[o]!="string"?"":'"',s=""+t[o],s=s.replace(/"/g,"&quot;"),c="attributeNameFn"in e?e.attributeNameFn(o,s,hn,dn):o,h.push(e.spaces&&e.indentAttributes?dr(e,r+1,!1):" "),h.push(c+"="+d+("attributeValueFn"in e?e.attributeValueFn(s,o,hn,dn):s)+d));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&h.push(dr(e,r,!1)),h.join("")}function sx(t,e,r){return dn=t,hn="xml",e.ignoreDeclaration?"":"<?xml"+Su(t[e.attributesKey],e,r)+"?>"}function lx(t,e,r){if(e.ignoreInstruction)return"";var o;for(o in t)if(t.hasOwnProperty(o))break;var s="instructionNameFn"in e?e.instructionNameFn(o,t[o],hn,dn):o;if(typeof t[o]=="object")return dn=t,hn=s,"<?"+s+Su(t[o][e.attributesKey],e,r)+"?>";var c=t[o]?t[o]:"";return"instructionFn"in e&&(c=e.instructionFn(c,o,hn,dn)),"<?"+s+(c?" "+c:"")+"?>"}function ux(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,hn,dn):t)+"-->"}function cx(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,hn,dn):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function fx(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,hn,dn):t)+">"}function gh(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,hn,dn):t)}function N5(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function D5(t,e,r){dn=t,hn=t.name;var o=[],s="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;o.push("<"+s),t[e.attributesKey]&&o.push(Su(t[e.attributesKey],e,r));var c=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return c||("fullTagEmptyElementFn"in e?c=e.fullTagEmptyElementFn(t.name,t):c=e.fullTagEmptyElement),c?(o.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(o.push(dx(t[e.elementsKey],e,r+1)),dn=t,hn=t.name),o.push(e.spaces&&N5(t,e)?`
`+Array(r+1).join(e.spaces):""),o.push("</"+s+">")):o.push("/>"),o.join("")}function dx(t,e,r,o){return t.reduce(function(s,c){var d=dr(e,r,o&&!s);switch(c.type){case"element":return s+d+D5(c,e,r);case"comment":return s+d+ux(c[e.commentKey],e);case"doctype":return s+d+fx(c[e.doctypeKey],e);case"cdata":return s+(e.indentCdata?d:"")+cx(c[e.cdataKey],e);case"text":return s+(e.indentText?d:"")+gh(c[e.textKey],e);case"instruction":var h={};return h[c[e.nameKey]]=c[e.attributesKey]?c:c[e.instructionKey],s+(e.indentInstruction?d:"")+lx(h,e,r)}},"")}function hx(t,e,r){var o;for(o in t)if(t.hasOwnProperty(o))switch(o){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function M5(t,e,r,o,s){dn=t,hn=e;var c="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var d=[];if(e){if(d.push("<"+c),typeof t!="object")return d.push(">"+gh(t,r)+"</"+c+">"),d.join("");t[r.attributesKey]&&d.push(Su(t[r.attributesKey],r,o));var h=hx(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(h||("fullTagEmptyElementFn"in r?h=r.fullTagEmptyElementFn(e,t):h=r.fullTagEmptyElement),h)d.push(">");else return d.push("/>"),d.join("")}return d.push(px(t,r,o+1,!1)),dn=t,hn=e,e&&d.push((s?dr(r,o,!1):"")+"</"+c+">"),d.join("")}function px(t,e,r,o){var s,c,d,h=[];for(c in t)if(t.hasOwnProperty(c))for(d=A5(t[c])?t[c]:[t[c]],s=0;s<d.length;++s){switch(c){case e.declarationKey:h.push(sx(d[s],e,r));break;case e.instructionKey:h.push((e.indentInstruction?dr(e,r,o):"")+lx(d[s],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:h.push((e.indentText?dr(e,r,o):"")+gh(d[s],e));break;case e.cdataKey:h.push((e.indentCdata?dr(e,r,o):"")+cx(d[s],e));break;case e.doctypeKey:h.push(dr(e,r,o)+fx(d[s],e));break;case e.commentKey:h.push(dr(e,r,o)+ux(d[s],e));break;default:h.push(dr(e,r,o)+M5(d[s],c,e,r,hx(d[s],e)))}o=o&&!h.length}return h.join("")}var mx=function(t,e){e=R5(e);var r=[];return dn=t,hn="_root_",e.compact?r.push(px(t,e,0,!0)):(t[e.declarationKey]&&r.push(sx(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(dx(t[e.elementsKey],e,0,!r.length))),r.join("")},I5=mx,k5=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return I5(r,e)},U5=ax,L5=C5,P5=mx,B5=k5,gx={xml2js:U5,xml2json:L5,js2xml:P5,json2xml:B5};const yh=t=>{switch(t.type){case void 0:case"element":const e=new F5(t.name,t.attributes),r=t.elements||[];for(const o of r){const s=yh(o);s!==void 0&&e.push(s)}return e;case"text":return t.text;default:return}};class O5 extends Ke{}class F5 extends Ce{static fromXmlString(e){const r=gx.xml2js(e,{compact:!1});return yh(r)}constructor(e,r){super(e),r&&this.root.push(new O5(r))}push(e){this.root.push(e)}}class z5 extends Ce{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class yx extends Ce{constructor(e,r){super(e),r&&(this.root=r.root)}}const En=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Eu=t=>{const e=En(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},vx=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},Dv=t=>vx(t,1),wx=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},xx=t=>{const e=wx(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},$o=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return vx(e,3)},Gi=t=>typeof t=="string"?wx(t):En(t),V5=t=>typeof t=="string"?xx(t):Eu(t),Qn=t=>typeof t=="string"?xx(t):Eu(t),G5=Eu,q5=Eu,H5=t=>t.toISOString();class Fe extends Ce{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new Ht({val:r}))}}class Ed extends Ce{constructor(e,r){super(e),this.root.push(new Ht({val:V5(r)}))}}class Ko extends Ce{constructor(e,r){super(e),this.root.push(new Ht({val:r}))}}const ms=(t,e)=>new pn({name:t,attributes:{value:{key:"w:val",value:e}}});class vh extends Ce{constructor(e,r){super(e),this.root.push(new Ht({val:r}))}}class Oi extends Ce{constructor(e,r){super(e),this.root.push(r)}}class pn extends Ce{constructor({name:e,attributes:r,children:o}){super(e),r&&this.root.push(new ra(r)),o&&this.root.push(...o)}}const Sn={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class K5 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{val:"w:val"})}}class J5 extends Ce{constructor(e){super("w:jc"),this.root.push(new K5({val:e}))}}class Ot extends Ce{constructor(e,{color:r,size:o,space:s,style:c}){super(e),this.root.push(new Y5({style:c,color:r===void 0?void 0:$o(r),size:o===void 0?void 0:G5(o),space:s===void 0?void 0:q5(s)}))}}class Y5 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const wh={SINGLE:"single",NONE:"none"};class W5 extends wu{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Ot("w:top",e.top)),e.bottom&&this.root.push(new Ot("w:bottom",e.bottom)),e.left&&this.root.push(new Ot("w:left",e.left)),e.right&&this.root.push(new Ot("w:right",e.right))}}class $5 extends Ce{constructor(){super("w:pBdr");const e=new Ot("w:bottom",{color:"auto",space:1,style:wh.SINGLE,size:6});this.root.push(e)}}class X5 extends Ce{constructor({start:e,end:r,left:o,right:s,hanging:c,firstLine:d}){super("w:ind"),this.root.push(new ra({start:{key:"w:start",value:e===void 0?void 0:Gi(e)},end:{key:"w:end",value:r===void 0?void 0:Gi(r)},left:{key:"w:left",value:o===void 0?void 0:Gi(o)},right:{key:"w:right",value:s===void 0?void 0:Gi(s)},hanging:{key:"w:hanging",value:c===void 0?void 0:Qn(c)},firstLine:{key:"w:firstLine",value:d===void 0?void 0:Qn(d)}}))}}let j5=class extends Ce{constructor(){super("w:br")}};const xh={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Th extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Jl extends Ce{constructor(e){super("w:fldChar"),this.root.push(new Th({type:xh.BEGIN,dirty:e}))}}class Yl extends Ce{constructor(e){super("w:fldChar"),this.root.push(new Th({type:xh.SEPARATE,dirty:e}))}}class Wl extends Ce{constructor(e){super("w:fldChar"),this.root.push(new Th({type:xh.END,dirty:e}))}}const Xo={DEFAULT:"default",PRESERVE:"preserve"};class jo extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{space:"xml:space"})}}class Z5 extends Ce{constructor(){super("w:instrText"),this.root.push(new jo({space:Xo.PRESERVE})),this.root.push("PAGE")}}class Q5 extends Ce{constructor(){super("w:instrText"),this.root.push(new jo({space:Xo.PRESERVE})),this.root.push("NUMPAGES")}}class ek extends Ce{constructor(){super("w:instrText"),this.root.push(new jo({space:Xo.PRESERVE})),this.root.push("SECTIONPAGES")}}class tk extends Ce{constructor(){super("w:instrText"),this.root.push(new jo({space:Xo.PRESERVE})),this.root.push("SECTION")}}class nk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Tx extends Ce{constructor({fill:e,color:r,type:o}){super("w:shd"),this.root.push(new nk({fill:e===void 0?void 0:$o(e),color:r===void 0?void 0:$o(r),type:o}))}}class rk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const ik={DOT:"dot"};class ok extends Ce{constructor(e){super("w:em"),this.root.push(new Ht({val:e}))}}class ak extends ok{constructor(e=ik.DOT){super(e)}}class sk extends Ce{constructor(e){super("w:spacing"),this.root.push(new Ht({val:Gi(e)}))}}class lk extends Ce{constructor(e){super("w:color"),this.root.push(new Ht({val:$o(e)}))}}class uk extends Ce{constructor(e){super("w:highlight"),this.root.push(new Ht({val:e}))}}class ck extends Ce{constructor(e){super("w:highlightCs"),this.root.push(new Ht({val:e}))}}const fk=t=>new pn({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class Mv extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class bd extends Ce{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const o=e;this.root.push(new Mv({ascii:o,cs:o,eastAsia:o,hAnsi:o,hint:r}))}else{const o=e;this.root.push(new Mv(o))}}}let Sx=class extends Ce{constructor(e){super("w:vertAlign"),this.root.push(new Ht({val:e}))}};class dk extends Sx{constructor(){super("superscript")}}class hk extends Sx{constructor(){super("subscript")}}const Sh={SINGLE:"single"};class pk extends Ce{constructor(e=Sh.SINGLE,r){super("w:u"),this.root.push(new Ht({val:e,color:r===void 0?void 0:$o(r)}))}}class Yi extends wu{constructor(e){var r,o;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Fe("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Fe("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Fe("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Fe("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Fe("w:iCs",(o=e.italicsComplexScript)!=null?o:e.italics)),e.underline&&this.push(new pk(e.underline.type,e.underline.color)),e.effect&&this.push(new Ko("w:effect",e.effect)),e.emphasisMark&&this.push(new ak(e.emphasisMark.type)),e.color&&this.push(new lk(e.color)),e.kern&&this.push(new Ed("w:kern",e.kern)),e.position&&this.push(new Ko("w:position",e.position)),e.size!==void 0&&this.push(new Ed("w:sz",e.size));const s=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;s&&this.push(new Ed("w:szCs",s)),e.rightToLeft!==void 0&&this.push(new Fe("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Fe("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Fe("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Fe("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Fe("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new hk),e.superScript&&this.push(new dk),e.style&&this.push(new Ko("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new bd(e.font)):"name"in e.font?this.push(new bd(e.font.name,e.font.hint)):this.push(new bd(e.font))),e.highlight&&this.push(new uk(e.highlight));const c=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;c&&this.push(new ck(c)),e.characterSpacing&&this.push(new sk(e.characterSpacing)),e.emboss!==void 0&&this.push(new Fe("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Fe("w:imprint",e.imprint)),e.shading&&this.push(new Tx(e.shading)),e.revision&&this.push(new mk(e.revision)),e.border&&this.push(new Ot("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Fe("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Fe("w:vanish",e.vanish)),e.specVanish&&this.push(new Fe("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new vh("w:w",e.scale)),e.language&&this.push(fk(e.language)),e.math&&this.push(new Fe("w:oMath",e.math))}push(e){this.root.push(e)}}class mk extends Ce{constructor(e){super("w:rPrChange"),this.root.push(new rk({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Yi(e))}}class Wd extends Ce{constructor(e){var r;return super("w:t"),typeof e=="string"?(this.root.push(new jo({space:Xo.PRESERVE})),this.root.push(e),this):(this.root.push(new jo({space:(r=e.space)!=null?r:Xo.DEFAULT})),this.root.push(e.text),this)}}const $l={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class bs extends Ce{constructor(e){if(super("w:r"),_e(this,"properties"),this.properties=new Yi(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new j5);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case $l.CURRENT:this.root.push(new Jl),this.root.push(new Z5),this.root.push(new Yl),this.root.push(new Wl);break;case $l.TOTAL_PAGES:this.root.push(new Jl),this.root.push(new Q5),this.root.push(new Yl),this.root.push(new Wl);break;case $l.TOTAL_PAGES_IN_SECTION:this.root.push(new Jl),this.root.push(new ek),this.root.push(new Yl),this.root.push(new Wl);break;case $l.CURRENT_SECTION:this.root.push(new Jl),this.root.push(new tk),this.root.push(new Yl),this.root.push(new Wl);break;default:this.root.push(new Wd(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new Wd(e.text))}}class zi extends bs{constructor(e){if(typeof e=="string")return super({}),this.root.push(new Wd(e)),this;super(e)}}let gk="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",yk=(t,e=21)=>(r=e)=>{let o="",s=r;for(;s--;)o+=t[Math.random()*t.length|0];return o},vk=(t=21)=>{let e="",r=t;for(;r--;)e+=gk[Math.random()*64|0];return e};const Zn=t=>Math.floor(t*72*20),bu=(t=0)=>{let e=t;return()=>++e},wk=()=>bu(),xk=()=>bu(1),Tk=()=>bu(),Sk=()=>bu(),Ex=()=>vk().toLowerCase(),gs=t=>yk("1234567890abcdef",t)(),Ek=()=>`${gs(8)}-${gs(4)}-${gs(4)}-${gs(4)}-${gs(12)}`,bk={PAGE:"page"},_k={PAGE:"page"};class Ck extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{x:"x",y:"y"})}}class Ak extends Ce{constructor(){super("wp:simplePos"),this.root.push(new Ck({x:0,y:0}))}}class bx extends Ce{constructor(e){super("wp:align"),this.root.push(e)}}class _x extends Ce{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class Rk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class Nk extends Ce{constructor(e){if(super("wp:positionH"),this.root.push(new Rk({relativeFrom:e.relative||bk.PAGE})),e.align)this.root.push(new bx(e.align));else if(e.offset!==void 0)this.root.push(new _x(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class Dk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class Mk extends Ce{constructor(e){if(super("wp:positionV"),this.root.push(new Dk({relativeFrom:e.relative||_k.PAGE})),e.align)this.root.push(new bx(e.align));else if(e.offset!==void 0)this.root.push(new _x(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class Ik extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{uri:"uri"})}}class kk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{embed:"r:embed",cstate:"cstate"})}}class Uk extends Ce{constructor(e){super("a:blip"),this.root.push(new kk({embed:`rId{${e.fileName}}`,cstate:"none"}))}}class Lk extends Ce{constructor(){super("a:srcRect")}}class Pk extends Ce{constructor(){super("a:fillRect")}}class Bk extends Ce{constructor(){super("a:stretch"),this.root.push(new Pk)}}class Ok extends Ce{constructor(e){super("pic:blipFill"),this.root.push(new Uk(e)),this.root.push(new Lk),this.root.push(new Bk)}}class Fk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class zk extends Ce{constructor(){super("a:picLocks"),this.root.push(new Fk({noChangeAspect:1,noChangeArrowheads:1}))}}class Vk extends Ce{constructor(){super("pic:cNvPicPr"),this.root.push(new zk)}}const Cx=(t,e)=>new pn({name:"a:hlinkClick",attributes:Yo(dt({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class Gk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class qk extends Ce{constructor(){super("pic:cNvPr"),this.root.push(new Gk({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof Eh){this.root.push(Cx(o.linkId,!1));break}}return super.prepForXml(e)}}class Hk extends Ce{constructor(){super("pic:nvPicPr"),this.root.push(new qk),this.root.push(new Vk)}}class Kk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class Jk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Yk extends Ce{constructor(e,r){super("a:ext"),_e(this,"attributes"),this.attributes=new Jk({cx:e,cy:r}),this.root.push(this.attributes)}}class Wk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{x:"x",y:"y"})}}class $k extends Ce{constructor(){super("a:off"),this.root.push(new Wk({x:0,y:0}))}}class Xk extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class jk extends Ce{constructor(e){var r,o;super("a:xfrm"),_e(this,"extents"),this.root.push(new Xk({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(o=e.flip)==null?void 0:o.horizontal,rotation:e.rotation})),this.extents=new Yk(e.emus.x,e.emus.y),this.root.push(new $k),this.root.push(this.extents)}}const Ax=()=>new pn({name:"a:noFill"}),Zk=t=>new pn({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),Qk=t=>new pn({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),Iv=t=>new pn({name:"a:solidFill",children:[t.type==="rgb"?Qk(t):Zk(t)]}),e6=t=>new pn({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?Ax():t.solidFillType==="rgb"?Iv({type:"rgb",value:t.value}):Iv({type:"scheme",value:t.value})]});class t6 extends Ce{constructor(){super("a:avLst")}}class n6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{prst:"prst"})}}class r6 extends Ce{constructor(){super("a:prstGeom"),this.root.push(new n6({prst:"rect"})),this.root.push(new t6)}}class i6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{bwMode:"bwMode"})}}class o6 extends Ce{constructor({outline:e,transform:r}){super("pic:spPr"),_e(this,"form"),this.root.push(new i6({bwMode:"auto"})),this.form=new jk(r),this.root.push(this.form),this.root.push(new r6),e&&(this.root.push(Ax()),this.root.push(e6(e)))}}class a6 extends Ce{constructor({mediaData:e,transform:r,outline:o}){super("pic:pic"),this.root.push(new Kk({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new Hk),this.root.push(new Ok(e)),this.root.push(new o6({transform:r,outline:o}))}}class s6 extends Ce{constructor({mediaData:e,transform:r,outline:o}){super("a:graphicData"),_e(this,"pic"),this.root.push(new Ik({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new a6({mediaData:e,transform:r,outline:o}),this.root.push(this.pic)}}class l6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{a:"xmlns:a"})}}class Rx extends Ce{constructor({mediaData:e,transform:r,outline:o}){super("a:graphic"),_e(this,"data"),this.root.push(new l6({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new s6({mediaData:e,transform:r,outline:o}),this.root.push(this.data)}}const Xl={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},u6={BOTH_SIDES:"bothSides"};class kv extends Ce{constructor(){super("wp:wrapNone")}}class c6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class f6 extends Ce{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new c6({wrapText:e.side||u6.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class d6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class h6 extends Ce{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new d6({distT:e.top,distB:e.bottom}))}}class p6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class m6 extends Ce{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new p6({distT:e.top,distB:e.bottom}))}}class Nx extends Ce{constructor({name:e,description:r,title:o}={name:"",description:"",title:""}){super("wp:docPr"),_e(this,"docPropertiesUniqueNumericId",Tk()),this.root.push(new ra({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:r},title:{key:"title",value:o}}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof Eh){this.root.push(Cx(o.linkId,!0));break}}return super.prepForXml(e)}}const Dx=({top:t,right:e,bottom:r,left:o})=>new pn({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:o}}});class g6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Mx extends Ce{constructor(e,r){super("wp:extent"),_e(this,"attributes"),this.attributes=new g6({cx:e,cy:r}),this.root.push(this.attributes)}}class y6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class v6 extends Ce{constructor(){super("a:graphicFrameLocks"),this.root.push(new y6({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class Ix extends Ce{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new v6)}}class w6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class x6 extends Ce{constructor({mediaData:e,transform:r,drawingOptions:o}){super("wp:anchor");const s=dt({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},o.floating);if(this.root.push(new w6({distT:s.margins&&s.margins.top||0,distB:s.margins&&s.margins.bottom||0,distL:s.margins&&s.margins.left||0,distR:s.margins&&s.margins.right||0,simplePos:"0",allowOverlap:s.allowOverlap===!0?"1":"0",behindDoc:s.behindDocument===!0?"1":"0",locked:s.lockAnchor===!0?"1":"0",layoutInCell:s.layoutInCell===!0?"1":"0",relativeHeight:s.zIndex?s.zIndex:r.emus.y})),this.root.push(new Ak),this.root.push(new Nk(s.horizontalPosition)),this.root.push(new Mk(s.verticalPosition)),this.root.push(new Mx(r.emus.x,r.emus.y)),this.root.push(Dx({top:0,right:0,bottom:0,left:0})),o.floating!==void 0&&o.floating.wrap!==void 0)switch(o.floating.wrap.type){case Xl.SQUARE:this.root.push(new f6(o.floating.wrap,o.floating.margins));break;case Xl.TIGHT:this.root.push(new h6(o.floating.margins));break;case Xl.TOP_AND_BOTTOM:this.root.push(new m6(o.floating.margins));break;case Xl.NONE:default:this.root.push(new kv)}else this.root.push(new kv);this.root.push(new Nx(o.docProperties)),this.root.push(new Ix),this.root.push(new Rx({mediaData:e,transform:r,outline:o.outline}))}}const T6=({mediaData:t,transform:e,docProperties:r,outline:o})=>{var s,c,d,h;return new pn({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new Mx(e.emus.x,e.emus.y),Dx(o?{top:((s=o.width)!=null?s:9525)*2,right:((c=o.width)!=null?c:9525)*2,bottom:((d=o.width)!=null?d:9525)*2,left:((h=o.width)!=null?h:9525)*2}:{top:0,right:0,bottom:0,left:0}),new Nx(r),new Ix,new Rx({mediaData:t,transform:e,outline:o})]})};class S6 extends Ce{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new x6({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(T6({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}class E6 extends bs{constructor(e){super({}),_e(this,"key",`${Ex()}.png`),_e(this,"imageData");const r=typeof e.data=="string"?this.convertDataURIToBinary(e.data):e.data;this.imageData={stream:r,fileName:this.key,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}};const o=new S6(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(o)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),super.prepForXml(e)}convertDataURIToBinary(e){if(typeof atob=="function"){const r=";base64,",o=e.indexOf(r),s=o===-1?0:o+r.length;return new Uint8Array(atob(e.substring(s)).split("").map(c=>c.charCodeAt(0)))}else{const r=require("buffer");return new r.Buffer(e,"base64")}}}class b6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class _6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class C6 extends Ce{constructor({id:e,initials:r,author:o,date:s=new Date,children:c}){super("w:comment"),this.root.push(new b6({id:e,initials:r,author:o,date:s.toISOString()}));for(const d of c)this.root.push(d)}}class A6 extends Ce{constructor({children:e}){super("w:comments"),this.root.push(new _6({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new C6(r))}}class R6 extends Ce{constructor(){super("w:pageBreakBefore")}}const $d={AUTO:"auto"};class N6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class D6 extends Ce{constructor(e){super("w:spacing"),this.root.push(new N6(e))}}const ko={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",TITLE:"Title"};let jl=class extends Ce{constructor(e){super("w:pStyle"),this.root.push(new Ht({val:e}))}};class M6 extends Ce{constructor(e){super("w:tabs");for(const r of e)this.root.push(new k6(r))}}const Uv={LEFT:"left",RIGHT:"right"};class I6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class k6 extends Ce{constructor({type:e,position:r,leader:o}){super("w:tab"),this.root.push(new I6({val:e,pos:r,leader:o}))}}class Lv extends Ce{constructor(e,r){super("w:numPr"),this.root.push(new U6(r)),this.root.push(new L6(e))}}class U6 extends Ce{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ht({val:e}))}}class L6 extends Ce{constructor(e){super("w:numId"),this.root.push(new Ht({val:typeof e=="string"?`{${e}}`:e}))}}class P6 extends Ce{constructor(){super(...arguments),_e(this,"fileChild",Symbol())}}class B6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const O6={EXTERNAL:"External"};class F6 extends Ce{constructor(e,r,o,s){super("Relationship"),this.root.push(new B6({id:e,type:r,target:o,targetMode:s}))}}class z6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Eh extends Ce{constructor(e,r,o){super("w:hyperlink"),_e(this,"linkId"),this.linkId=r;const s={history:1,anchor:o||void 0,id:o?void 0:`rId${this.linkId}`},c=new z6(s);this.root.push(c),e.forEach(d=>{this.root.push(d)})}}class V6 extends Ce{constructor(e){super("w:externalHyperlink"),this.options=e}}class G6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class q6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{id:"w:id"})}}class H6{constructor(e){_e(this,"bookmarkUniqueNumericId",Sk()),_e(this,"start"),_e(this,"children"),_e(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new K6(e.id,r),this.children=e.children,this.end=new J6(r)}}class K6 extends Ce{constructor(e,r){super("w:bookmarkStart");const o=new G6({name:e,id:r});this.root.push(o)}}class J6 extends Ce{constructor(e){super("w:bookmarkEnd");const r=new q6({id:e});this.root.push(r)}}class Y6 extends Ce{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Ht({val:e}))}}class W6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{verticalAlign:"w:val"})}}class $6 extends Ce{constructor(e){super("w:vAlign"),this.root.push(new W6({verticalAlign:e}))}}const Jo={DEFAULT:"default",FIRST:"first",EVEN:"even"};class X6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Pv={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class _d extends Ce{constructor(e,r){super(e),this.root.push(new X6({type:r.type||Jo.DEFAULT,id:`rId${r.id}`}))}}class j6 extends Ce{constructor({space:e,count:r,separate:o,equalWidth:s,children:c}){super("w:cols"),this.root.push(new ra({space:{key:"w:space",value:e===void 0?void 0:Qn(e)},count:{key:"w:num",value:r===void 0?void 0:En(r)},separate:{key:"w:sep",value:o},equalWidth:{key:"w:equalWidth",value:s}})),!s&&c&&c.forEach(d=>this.addChildElement(d))}}class Z6 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class Q6 extends Ce{constructor(e,r,o){super("w:docGrid"),this.root.push(new Z6({type:o,linePitch:En(e),charSpace:r?En(r):void 0}))}}const e4=({countBy:t,start:e,restart:r,distance:o})=>new pn({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:En(t)},start:{key:"w:start",value:e===void 0?void 0:En(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:o===void 0?void 0:Qn(o)}}});class Bv extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class t4 extends wu{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new Bv({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new Bv({})),e.pageBorderTop&&this.root.push(new Ot("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Ot("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Ot("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Ot("w:right",e.pageBorderRight))}}class n4 extends Ce{constructor(e,r,o,s,c,d,h){super("w:pgMar"),this.root.push(new ra({top:{key:"w:top",value:Gi(e)},right:{key:"w:right",value:Qn(r)},bottom:{key:"w:bottom",value:Gi(o)},left:{key:"w:left",value:Qn(s)},header:{key:"w:header",value:Qn(c)},footer:{key:"w:footer",value:Qn(d)},gutter:{key:"w:gutter",value:Qn(h)}}))}}class r4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class i4 extends Ce{constructor({start:e,formatType:r,separator:o}){super("w:pgNumType"),this.root.push(new r4({start:e===void 0?void 0:En(e),formatType:r,separator:o}))}}const kx={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class o4 extends Ce{constructor(e,r,o){super("w:pgSz");const s=o===kx.LANDSCAPE,c=Qn(e),d=Qn(r);this.root.push(new ra({width:{key:"w:w",value:s?d:c},height:{key:"w:h",value:s?c:d},orientation:{key:"w:orient",value:o}}))}}class a4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{val:"w:val"})}}class s4 extends Ce{constructor(e){super("w:textDirection"),this.root.push(new a4({val:e}))}}class l4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{val:"w:val"})}}class u4 extends Ce{constructor(e){super("w:type"),this.root.push(new l4({val:e}))}}const Fi={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Cd={WIDTH:11906,HEIGHT:16838,ORIENTATION:kx.PORTRAIT};class c4 extends Ce{constructor({page:{size:{width:e=Cd.WIDTH,height:r=Cd.HEIGHT,orientation:o=Cd.ORIENTATION}={},margin:{top:s=Fi.TOP,right:c=Fi.RIGHT,bottom:d=Fi.BOTTOM,left:h=Fi.LEFT,header:p=Fi.HEADER,footer:m=Fi.FOOTER,gutter:y=Fi.GUTTER}={},pageNumbers:T={},borders:S,textDirection:E}={},grid:{linePitch:R=360,charSpace:A,type:U}={},headerWrapperGroup:C={},footerWrapperGroup:I={},lineNumbers:B,titlePage:q,verticalAlign:G,column:le,type:ae}={}){super("w:sectPr"),this.addHeaderFooterGroup(Pv.HEADER,C),this.addHeaderFooterGroup(Pv.FOOTER,I),ae&&this.root.push(new u4(ae)),this.root.push(new o4(e,r,o)),this.root.push(new n4(s,c,d,h,p,m,y)),S&&this.root.push(new t4(S)),B&&this.root.push(e4(B)),this.root.push(new i4(T)),le&&this.root.push(new j6(le)),G&&this.root.push(new $6(G)),q!==void 0&&this.root.push(new Fe("w:titlePg",q)),E&&this.root.push(new s4(E)),this.root.push(new Q6(R,A,U))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new _d(e,{type:Jo.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new _d(e,{type:Jo.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new _d(e,{type:Jo.EVEN,id:r.even.View.ReferenceId}))}}class f4 extends Ce{constructor(){super("w:body"),_e(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new c4(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new cn({}),o=new Zo({});return o.push(e),r.addChildElement(o),r}}class _s extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class d4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class h4 extends Ce{constructor(e){super("w:background"),this.root.push(new d4({color:e.color===void 0?void 0:$o(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:Dv(e.themeShade),themeTint:e.themeTint===void 0?void 0:Dv(e.themeTint)}))}}class p4 extends Ce{constructor(e){super("w:document"),_e(this,"body"),this.root.push(new _s({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new f4,e.background&&this.root.push(new h4(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class m4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{xmlns:"xmlns"})}}class aa extends Ce{constructor(){super("Relationships"),this.root.push(new m4({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,o,s){const c=new F6(`rId${e}`,r,o,s);return this.root.push(c),c}get RelationshipCount(){return this.root.length-1}}class Ux{constructor(e){_e(this,"document"),_e(this,"relationships"),this.document=new p4(e),this.relationships=new aa}get View(){return this.document}get Relationships(){return this.relationships}}class g4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{val:"w:val"})}}class y4 extends Ce{constructor(){super("w:wordWrap"),this.root.push(new g4({val:0}))}}const v4=t=>{var e,r;return new pn({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Zo extends wu{constructor(e){var r,o;if(super("w:pPr"),_e(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new jl(e.heading)),e.bullet&&this.push(new jl("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new jl("ListParagraph"))),e.style&&this.push(new jl(e.style)),e.keepNext!==void 0&&this.push(new Fe("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Fe("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new R6),e.frame&&this.push(v4(e.frame)),e.widowControl!==void 0&&this.push(new Fe("w:widowControl",e.widowControl)),e.bullet&&this.push(new Lv(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Lv(`${e.numbering.reference}-${(o=e.numbering.instance)!=null?o:0}`,e.numbering.level))),e.border&&this.push(new W5(e.border)),e.thematicBreak&&this.push(new $5),e.shading&&this.push(new Tx(e.shading)),e.wordWrap&&this.push(new y4),e.overflowPunctuation&&this.push(new Fe("w:overflowPunct",e.overflowPunctuation));const s=[...e.rightTabStop!==void 0?[{type:Uv.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:Uv.LEFT,position:e.leftTabStop}]:[]];s.length>0&&this.push(new M6(s)),e.bidirectional!==void 0&&this.push(new Fe("w:bidi",e.bidirectional)),e.spacing&&this.push(new D6(e.spacing)),e.indent&&this.push(new X5(e.indent)),e.contextualSpacing!==void 0&&this.push(new Fe("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new J5(e.alignment)),e.outlineLevel!==void 0&&this.push(new Y6(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Fe("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Fe("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Yi(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Ux)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class cn extends P6{constructor(e){if(super("w:p"),_e(this,"properties"),typeof e=="string")return this.properties=new Zo({}),this.root.push(this.properties),this.root.push(new zi(e)),this;if(this.properties=new Zo(e),this.root.push(this.properties),e.text&&this.root.push(new zi(e.text)),e.children)for(const r of e.children){if(r instanceof H6){this.root.push(r.start);for(const o of r.children)this.root.push(o);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof V6){const o=this.root.indexOf(r),s=new Eh(r.options.children,Ex());e.viewWrapper.Relationships.createRelationship(s.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,O6.EXTERNAL),this.root[o]=s}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const Uo={style:wh.NONE,size:0,color:"auto"},Lo={style:wh.SINGLE,size:4,color:"auto"};class w4 extends Ce{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Ot("w:top",e.top)):this.root.push(new Ot("w:top",Lo)),e.left?this.root.push(new Ot("w:left",e.left)):this.root.push(new Ot("w:left",Lo)),e.bottom?this.root.push(new Ot("w:bottom",e.bottom)):this.root.push(new Ot("w:bottom",Lo)),e.right?this.root.push(new Ot("w:right",e.right)):this.root.push(new Ot("w:right",Lo)),e.insideHorizontal?this.root.push(new Ot("w:insideH",e.insideHorizontal)):this.root.push(new Ot("w:insideH",Lo)),e.insideVertical?this.root.push(new Ot("w:insideV",e.insideVertical)):this.root.push(new Ot("w:insideV",Lo))}}_e(w4,"NONE",{top:Uo,bottom:Uo,left:Uo,right:Uo,insideHorizontal:Uo,insideVertical:Uo});class x4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class T4 extends Ce{constructor(){super("Properties"),this.root.push(new x4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class S4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{xmlns:"xmlns"})}}class E4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class ci extends Ce{constructor(e,r){super("Default"),this.root.push(new E4({contentType:e,extension:r}))}}class b4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Gn extends Ce{constructor(e,r){super("Override"),this.root.push(new b4({contentType:e,partName:r}))}}class _4 extends Ce{constructor(){super("Types"),this.root.push(new S4({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new ci("image/png","png")),this.root.push(new ci("image/jpeg","jpeg")),this.root.push(new ci("image/jpeg","jpg")),this.root.push(new ci("image/bmp","bmp")),this.root.push(new ci("image/gif","gif")),this.root.push(new ci("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new ci("application/xml","xml")),this.root.push(new ci("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Gn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class C4 extends Ce{constructor(e){super("cp:coreProperties"),this.root.push(new _s({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new Oi("dc:title",e.title)),e.subject&&this.root.push(new Oi("dc:subject",e.subject)),e.creator&&this.root.push(new Oi("dc:creator",e.creator)),e.keywords&&this.root.push(new Oi("cp:keywords",e.keywords)),e.description&&this.root.push(new Oi("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Oi("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Oi("cp:revision",String(e.revision))),this.root.push(new Ov("dcterms:created")),this.root.push(new Ov("dcterms:modified"))}}class Ov extends Ce{constructor(e){super(e),this.root.push(new _s({type:"dcterms:W3CDTF"})),this.root.push(H5(new Date))}}class A4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class R4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class N4 extends Ce{constructor(e,r){super("property"),this.root.push(new R4({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new D4(r.value))}}class D4 extends Ce{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class M4 extends Ce{constructor(e){super("Properties"),_e(this,"nextId"),_e(this,"properties",[]),this.root.push(new A4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new N4(this.nextId++,e))}}class I4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let k4=class extends yx{constructor(e,r){super("w:ftr",r),_e(this,"refId"),this.refId=e,r||this.root.push(new I4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class U4{constructor(e,r,o){_e(this,"footer"),_e(this,"relationships"),this.media=e,this.footer=new k4(r,o),this.relationships=new aa}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class L4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class P4 extends Ce{constructor(){super("w:footnoteRef")}}class B4 extends bs{constructor(){super({style:"FootnoteReference"}),this.root.push(new P4)}}const Fv={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Ad extends Ce{constructor(e){super("w:footnote"),this.root.push(new L4({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const o=e.children[r];r===0&&o.addRunToFront(new B4),this.root.push(o)}}}class O4 extends Ce{constructor(){super("w:continuationSeparator")}}class F4 extends bs{constructor(){super({}),this.root.push(new O4)}}class z4 extends Ce{constructor(){super("w:separator")}}class V4 extends bs{constructor(){super({}),this.root.push(new z4)}}class G4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class q4 extends Ce{constructor(){super("w:footnotes"),this.root.push(new G4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Ad({id:-1,type:Fv.SEPERATOR,children:[new cn({spacing:{after:0,line:240,lineRule:$d.AUTO},children:[new V4]})]});this.root.push(e);const r=new Ad({id:0,type:Fv.CONTINUATION_SEPERATOR,children:[new cn({spacing:{after:0,line:240,lineRule:$d.AUTO},children:[new F4]})]});this.root.push(r)}createFootNote(e,r){const o=new Ad({id:e,children:r});this.root.push(o)}}class H4{constructor(){_e(this,"footnotess"),_e(this,"relationships"),this.footnotess=new q4,this.relationships=new aa}get View(){return this.footnotess}get Relationships(){return this.relationships}}class K4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let J4=class extends yx{constructor(e,r){super("w:hdr",r),_e(this,"refId"),this.refId=e,r||this.root.push(new K4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Y4{constructor(e,r,o){_e(this,"header"),_e(this,"relationships"),this.media=e,this.header=new J4(r,o),this.relationships=new aa}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class W4{constructor(){_e(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Mr={BULLET:"bullet"};class $4 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class X4 extends Ce{constructor(e){super("w:numFmt"),this.root.push(new Ht({val:e}))}}class j4 extends Ce{constructor(e){super("w:lvlText"),this.root.push(new Ht({val:e}))}}class Z4 extends Ce{constructor(e){super("w:lvlJc"),this.root.push(new Ht({val:e}))}}class Q4 extends Ce{constructor(e){super("w:suff"),this.root.push(new Ht({val:e}))}}class e3 extends Ce{constructor(){super("w:isLgl")}}class t3 extends Ce{constructor({level:e,format:r,text:o,alignment:s=Sn.START,start:c=1,style:d,suffix:h,isLegalNumberingStyle:p}){if(super("w:lvl"),_e(this,"paragraphProperties"),_e(this,"runProperties"),this.root.push(new vh("w:start",En(c))),r&&this.root.push(new X4(r)),h&&this.root.push(new Q4(h)),p&&this.root.push(new e3),o&&this.root.push(new j4(o)),this.root.push(new Z4(s)),this.paragraphProperties=new Zo(d&&d.paragraph),this.runProperties=new Yi(d&&d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new $4({ilvl:En(e),tentative:1}))}}class n3 extends t3{}class r3 extends Ce{constructor(e){super("w:multiLevelType"),this.root.push(new Ht({val:e}))}}class i3 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class zv extends Ce{constructor(e,r){super("w:abstractNum"),_e(this,"id"),this.root.push(new i3({abstractNumId:En(e),restartNumberingAfterBreak:0})),this.root.push(new r3("hybridMultilevel")),this.id=e;for(const o of r)this.root.push(new n3(o))}}class o3 extends Ce{constructor(e){super("w:abstractNumId"),this.root.push(new Ht({val:e}))}}class a3 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{numId:"w:numId"})}}class Vv extends Ce{constructor(e){if(super("w:num"),_e(this,"numId"),_e(this,"reference"),_e(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new a3({numId:En(e.numId)})),this.root.push(new o3(En(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new l3(r.num,r.start))}}class s3 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{ilvl:"w:ilvl"})}}class l3 extends Ce{constructor(e,r){super("w:lvlOverride"),this.root.push(new s3({ilvl:e})),r!==void 0&&this.root.push(new c3(r))}}class u3 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{val:"w:val"})}}class c3 extends Ce{constructor(e){super("w:startOverride"),this.root.push(new u3({val:e}))}}class f3 extends Ce{constructor(e){super("w:numbering"),_e(this,"abstractNumberingMap",new Map),_e(this,"concreteNumberingMap",new Map),_e(this,"referenceConfigMap",new Map),_e(this,"abstractNumUniqueNumericId",wk()),_e(this,"concreteNumUniqueNumericId",xk()),this.root.push(new _s({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new zv(this.abstractNumUniqueNumericId(),[{level:0,format:Mr.BULLET,text:"●",alignment:Sn.LEFT,style:{paragraph:{indent:{left:Zn(.5),hanging:Zn(.25)}}}},{level:1,format:Mr.BULLET,text:"○",alignment:Sn.LEFT,style:{paragraph:{indent:{left:Zn(1),hanging:Zn(.25)}}}},{level:2,format:Mr.BULLET,text:"■",alignment:Sn.LEFT,style:{paragraph:{indent:{left:2160,hanging:Zn(.25)}}}},{level:3,format:Mr.BULLET,text:"●",alignment:Sn.LEFT,style:{paragraph:{indent:{left:2880,hanging:Zn(.25)}}}},{level:4,format:Mr.BULLET,text:"○",alignment:Sn.LEFT,style:{paragraph:{indent:{left:3600,hanging:Zn(.25)}}}},{level:5,format:Mr.BULLET,text:"■",alignment:Sn.LEFT,style:{paragraph:{indent:{left:4320,hanging:Zn(.25)}}}},{level:6,format:Mr.BULLET,text:"●",alignment:Sn.LEFT,style:{paragraph:{indent:{left:5040,hanging:Zn(.25)}}}},{level:7,format:Mr.BULLET,text:"●",alignment:Sn.LEFT,style:{paragraph:{indent:{left:5760,hanging:Zn(.25)}}}},{level:8,format:Mr.BULLET,text:"●",alignment:Sn.LEFT,style:{paragraph:{indent:{left:6480,hanging:Zn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Vv({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const o of e.config)this.abstractNumberingMap.set(o.reference,new zv(this.abstractNumUniqueNumericId(),o.levels)),this.referenceConfigMap.set(o.reference,o.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const o=this.abstractNumberingMap.get(e);if(!o)return;const s=`${e}-${r}`;if(this.concreteNumberingMap.has(s))return;const c=this.referenceConfigMap.get(e),d=c&&c[0].start,h={numId:this.concreteNumUniqueNumericId(),abstractNumId:o.id,reference:e,instance:r,overrideLevels:[d&&Number.isInteger(d)?{num:0,start:d}:{num:0,start:1}]};this.concreteNumberingMap.set(s,new Vv(h))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class d3 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class h3 extends Ce{constructor(e){super("w:compatSetting"),this.root.push(new d3({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class p3 extends Ce{constructor(e){super("w:compat"),e.version&&this.root.push(new h3(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Fe("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Fe("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Fe("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Fe("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Fe("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Fe("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Fe("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Fe("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Fe("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Fe("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Fe("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Fe("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Fe("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Fe("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Fe("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Fe("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Fe("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Fe("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Fe("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Fe("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Fe("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Fe("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Fe("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Fe("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Fe("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Fe("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Fe("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Fe("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Fe("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Fe("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Fe("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Fe("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Fe("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Fe("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Fe("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Fe("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Fe("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Fe("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Fe("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Fe("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Fe("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Fe("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Fe("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Fe("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Fe("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Fe("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Fe("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Fe("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Fe("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Fe("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Fe("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Fe("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Fe("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Fe("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Fe("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Fe("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Fe("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Fe("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Fe("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Fe("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Fe("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Fe("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Fe("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Fe("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Fe("w:cachedColBalance",e.cachedColumnBalance))}}class m3 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class g3 extends Ce{constructor(e){var r,o,s,c;super("w:settings"),this.root.push(new m3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Fe("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Fe("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Fe("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Fe("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new vh("w:defaultTabStop",e.defaultTabStop)),this.root.push(new p3(Yo(dt({},(r=e.compatibility)!=null?r:{}),{version:(c=(s=(o=e.compatibility)==null?void 0:o.version)!=null?s:e.compatibilityModeVersion)!=null?c:15})))}}class Lx extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{val:"w:val"})}}class y3 extends Ce{constructor(e){super("w:name"),this.root.push(new Lx({val:e}))}}class v3 extends Ce{constructor(e){super("w:uiPriority"),this.root.push(new Lx({val:En(e)}))}}class w3 extends Ke{constructor(){super(...arguments),_e(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Px extends Ce{constructor(e,r){super("w:style"),this.root.push(new w3(e)),r.name&&this.root.push(new y3(r.name)),r.basedOn&&this.root.push(new Ko("w:basedOn",r.basedOn)),r.next&&this.root.push(new Ko("w:next",r.next)),r.link&&this.root.push(new Ko("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new v3(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Fe("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Fe("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Fe("w:qFormat",r.quickFormat))}}class _u extends Px{constructor(e){super({type:"paragraph",styleId:e.id},e),_e(this,"paragraphProperties"),_e(this,"runProperties"),this.paragraphProperties=new Zo(e.paragraph),this.runProperties=new Yi(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Cu extends Px{constructor(e){super({type:"character",styleId:e.id},dt({uiPriority:99,unhideWhenUsed:!0},e)),_e(this,"runProperties"),this.runProperties=new Yi(e.run),this.root.push(this.runProperties)}}class fi extends _u{constructor(e){super(dt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class x3 extends fi{constructor(e){super(dt({id:"Title",name:"Title"},e))}}class T3 extends fi{constructor(e){super(dt({id:"Heading1",name:"Heading 1"},e))}}class S3 extends fi{constructor(e){super(dt({id:"Heading2",name:"Heading 2"},e))}}class E3 extends fi{constructor(e){super(dt({id:"Heading3",name:"Heading 3"},e))}}class b3 extends fi{constructor(e){super(dt({id:"Heading4",name:"Heading 4"},e))}}class _3 extends fi{constructor(e){super(dt({id:"Heading5",name:"Heading 5"},e))}}class C3 extends fi{constructor(e){super(dt({id:"Heading6",name:"Heading 6"},e))}}class A3 extends fi{constructor(e){super(dt({id:"Strong",name:"Strong"},e))}}class R3 extends _u{constructor(e){super(dt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class N3 extends _u{constructor(e){super(dt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:$d.AUTO}},run:{size:20}},e))}}class D3 extends Cu{constructor(e){super(dt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class M3 extends Cu{constructor(e){super(dt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class I3 extends Cu{constructor(e){super(dt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Sh.SINGLE}}},e))}}class Xd extends Ce{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new _u(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new Cu(r))}}class k3 extends Ce{constructor(e){super("w:pPrDefault"),this.root.push(new Zo(e))}}class U3 extends Ce{constructor(e){super("w:rPrDefault"),this.root.push(new Yi(e))}}class L3 extends Ce{constructor(e){super("w:docDefaults"),_e(this,"runPropertiesDefaults"),_e(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new U3(e.run),this.paragraphPropertiesDefaults=new k3(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class P3{newInstance(e){const r=gx.xml2js(e,{compact:!1});let o;for(const d of r.elements||[])d.name==="w:styles"&&(o=d);if(o===void 0)throw new Error("can not find styles element");const s=o.elements||[];return new Xd({initialStyles:new z5(o.attributes),importedStyles:s.map(d=>yh(d))})}}class Gv{newInstance(e={}){var r;return{initialStyles:new _s({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new L3((r=e.document)!=null?r:{}),new x3(dt({run:{size:56}},e.title)),new T3(dt({run:{color:"2E74B5",size:32}},e.heading1)),new S3(dt({run:{color:"2E74B5",size:26}},e.heading2)),new E3(dt({run:{color:"1F4D78",size:24}},e.heading3)),new b3(dt({run:{color:"2E74B5",italics:!0}},e.heading4)),new _3(dt({run:{color:"2E74B5"}},e.heading5)),new C3(dt({run:{color:"1F4D78"}},e.heading6)),new A3(dt({run:{bold:!0}},e.strong)),new R3(e.listParagraph||{}),new I3(e.hyperlink||{}),new D3(e.footnoteReference||{}),new N3(e.footnoteText||{}),new M3(e.footnoteTextChar||{})]}}}const Zl=({id:t,fontKey:e,subsetted:r},o)=>new pn({name:o,attributes:dt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Fe("w:subsetted",r)]:[]]}),B3=({name:t,altName:e,panose1:r,charset:o,family:s,notTrueType:c,pitch:d,sig:h,embedRegular:p,embedBold:m,embedItalic:y,embedBoldItalic:T})=>new pn({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[ms("w:altName",e)]:[],...r?[ms("w:panose1",r)]:[],...o?[ms("w:charset",o)]:[],ms("w:family",s),...c?[new Fe("w:notTrueType",c)]:[],ms("w:pitch",d),...h?[new pn({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:h.usb0},usb1:{key:"w:usb1",value:h.usb1},usb2:{key:"w:usb2",value:h.usb2},usb3:{key:"w:usb3",value:h.usb3},csb0:{key:"w:csb0",value:h.csb0},csb1:{key:"w:csb1",value:h.csb1}}})]:[],...p?[Zl(p,"w:embedRegular")]:[],...m?[Zl(m,"w:embedBold")]:[],...y?[Zl(y,"w:embedItalic")]:[],...T?[Zl(T,"w:embedBoldItalic")]:[]]}),O3=({name:t,index:e,fontKey:r,characterSet:o})=>B3({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),F3=t=>new pn({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>O3({name:e.name,index:r+1,fontKey:e.fontKey}))});class z3{constructor(e){_e(this,"fontTable"),_e(this,"relationships"),_e(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Yo(dt({},r),{fontKey:Ek()})),this.fontTable=F3(this.fontOptionsWithKey),this.relationships=new aa;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}let V3=class{constructor(e){_e(this,"currentRelationshipId",1),_e(this,"documentWrapper"),_e(this,"headers",[]),_e(this,"footers",[]),_e(this,"coreProperties"),_e(this,"numbering"),_e(this,"media"),_e(this,"fileRelationships"),_e(this,"footnotesWrapper"),_e(this,"settings"),_e(this,"contentTypes"),_e(this,"customProperties"),_e(this,"appProperties"),_e(this,"styles"),_e(this,"comments"),_e(this,"fontWrapper");var r,o,s,c,d,h,p,m;if(this.coreProperties=new C4(Yo(dt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(o=e.revision)!=null?o:1,lastModifiedBy:(s=e.lastModifiedBy)!=null?s:"Un-named"})),this.numbering=new f3(e.numbering?e.numbering:{config:[]}),this.comments=new A6((c=e.comments)!=null?c:{children:[]}),this.fileRelationships=new aa,this.customProperties=new M4((d=e.customProperties)!=null?d:[]),this.appProperties=new T4,this.footnotesWrapper=new H4,this.contentTypes=new _4,this.documentWrapper=new Ux({background:e.background}),this.settings=new g3({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(h=e.features)==null?void 0:h.trackRevisions,updateFields:(p=e.features)==null?void 0:p.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new W4,e.externalStyles){const y=new P3;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const T=new Gv().newInstance(e.styles.default);this.styles=new Xd(dt(dt({},T),e.styles))}else{const y=new Gv;this.styles=new Xd(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new z3((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:r={},children:o,properties:s}){this.documentWrapper.View.Body.addSection(Yo(dt({},s),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const c of o)this.documentWrapper.View.add(c)}createHeader(e){const r=new Y4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addHeaderToDocument(r),r}createFooter(e){const r=new U4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Jo.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Jo.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};function Ql(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bx={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return(function r(o,s,c){function d(m,y){if(!s[m]){if(!o[m]){var T=typeof Ql=="function"&&Ql;if(!y&&T)return T(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var E=s[m]={exports:{}};o[m][0].call(E.exports,function(R){var A=o[m][1][R];return d(A||R)},E,E.exports,r,o,s,c)}return s[m].exports}for(var h=typeof Ql=="function"&&Ql,p=0;p<c.length;p++)d(c[p]);return d})({1:[function(r,o,s){var c=r("./utils"),d=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(p){for(var m,y,T,S,E,R,A,U=[],C=0,I=p.length,B=I,q=c.getTypeOf(p)!=="string";C<p.length;)B=I-C,T=q?(m=p[C++],y=C<I?p[C++]:0,C<I?p[C++]:0):(m=p.charCodeAt(C++),y=C<I?p.charCodeAt(C++):0,C<I?p.charCodeAt(C++):0),S=m>>2,E=(3&m)<<4|y>>4,R=1<B?(15&y)<<2|T>>6:64,A=2<B?63&T:64,U.push(h.charAt(S)+h.charAt(E)+h.charAt(R)+h.charAt(A));return U.join("")},s.decode=function(p){var m,y,T,S,E,R,A=0,U=0,C="data:";if(p.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var I,B=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&B--,p.charAt(p.length-2)===h.charAt(64)&&B--,B%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=d.uint8array?new Uint8Array(0|B):new Array(0|B);A<p.length;)m=h.indexOf(p.charAt(A++))<<2|(S=h.indexOf(p.charAt(A++)))>>4,y=(15&S)<<4|(E=h.indexOf(p.charAt(A++)))>>2,T=(3&E)<<6|(R=h.indexOf(p.charAt(A++))),I[U++]=m,E!==64&&(I[U++]=y),R!==64&&(I[U++]=T);return I}},{"./support":30,"./utils":32}],2:[function(r,o,s){var c=r("./external"),d=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function m(y,T,S,E,R){this.compressedSize=y,this.uncompressedSize=T,this.crc32=S,this.compression=E,this.compressedContent=R}m.prototype={getContentWorker:function(){var y=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),T=this;return y.on("end",function(){if(this.streamInfo.data_length!==T.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,T,S){return y.pipe(new h).pipe(new p("uncompressedSize")).pipe(T.compressWorker(S)).pipe(new p("compressedSize")).withStreamInfo("compression",T)},o.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,s){var c=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,s){var c=r("./utils"),d=(function(){for(var h,p=[],m=0;m<256;m++){h=m;for(var y=0;y<8;y++)h=1&h?3988292384^h>>>1:h>>>1;p[m]=h}return p})();o.exports=function(h,p){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,y,T,S){var E=d,R=S+T;m^=-1;for(var A=S;A<R;A++)m=m>>>8^E[255&(m^y[A])];return-1^m})(0|p,h,h.length,0):(function(m,y,T,S){var E=d,R=S+T;m^=-1;for(var A=S;A<R;A++)m=m>>>8^E[255&(m^y.charCodeAt(A))];return-1^m})(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,o,s){var c=null;c=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:c}},{lie:37}],7:[function(r,o,s){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=r("pako"),h=r("./utils"),p=r("./stream/GenericWorker"),m=c?"uint8array":"array";function y(T,S){p.call(this,"FlateWorker/"+T),this._pako=null,this._pakoAction=T,this._pakoOptions=S,this.meta={}}s.magic="\b\0",h.inherits(y,p),y.prototype.processChunk=function(T){this.meta=T.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,T.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var T=this;this._pako.onData=function(S){T.push({data:S,meta:T.meta})}},s.compressWorker=function(T){return new y("Deflate",T)},s.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,s){function c(E,R){var A,U="";for(A=0;A<R;A++)U+=String.fromCharCode(255&E),E>>>=8;return U}function d(E,R,A,U,C,I){var B,q,G=E.file,le=E.compression,ae=I!==m.utf8encode,ce=h.transformTo("string",I(G.name)),O=h.transformTo("string",m.utf8encode(G.name)),Se=G.comment,Me=h.transformTo("string",I(Se)),$=h.transformTo("string",m.utf8encode(Se)),de=O.length!==G.name.length,P=$.length!==Se.length,fe="",se="",oe="",Ie=G.dir,pe=G.date,j={crc32:0,compressedSize:0,uncompressedSize:0};R&&!A||(j.crc32=E.crc32,j.compressedSize=E.compressedSize,j.uncompressedSize=E.uncompressedSize);var W=0;R&&(W|=8),ae||!de&&!P||(W|=2048);var F=0,Q=0;Ie&&(F|=16),C==="UNIX"?(Q=798,F|=(function(re,Z){var k=re;return re||(k=Z?16893:33204),(65535&k)<<16})(G.unixPermissions,Ie)):(Q=20,F|=(function(re){return 63&(re||0)})(G.dosPermissions)),B=pe.getUTCHours(),B<<=6,B|=pe.getUTCMinutes(),B<<=5,B|=pe.getUTCSeconds()/2,q=pe.getUTCFullYear()-1980,q<<=4,q|=pe.getUTCMonth()+1,q<<=5,q|=pe.getUTCDate(),de&&(se=c(1,1)+c(y(ce),4)+O,fe+="up"+c(se.length,2)+se),P&&(oe=c(1,1)+c(y(Me),4)+$,fe+="uc"+c(oe.length,2)+oe);var te="";return te+=`
\0`,te+=c(W,2),te+=le.magic,te+=c(B,2),te+=c(q,2),te+=c(j.crc32,4),te+=c(j.compressedSize,4),te+=c(j.uncompressedSize,4),te+=c(ce.length,2),te+=c(fe.length,2),{fileRecord:T.LOCAL_FILE_HEADER+te+ce+fe,dirRecord:T.CENTRAL_FILE_HEADER+c(Q,2)+te+c(Me.length,2)+"\0\0\0\0"+c(F,4)+c(U,4)+ce+fe+Me}}var h=r("../utils"),p=r("../stream/GenericWorker"),m=r("../utf8"),y=r("../crc32"),T=r("../signature");function S(E,R,A,U){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=A,this.encodeFileName=U,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,p),S.prototype.push=function(E){var R=E.meta.percent||0,A=this.entriesCount,U=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,p.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:A?(R+100*(A-U-1))/A:100}}))},S.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var R=this.streamFiles&&!E.file.dir;if(R){var A=d(E,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(E){this.accumulate=!1;var R=this.streamFiles&&!E.file.dir,A=d(E,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),R)this.push({data:(function(U){return T.DATA_DESCRIPTOR+c(U.crc32,4)+c(U.compressedSize,4)+c(U.uncompressedSize,4)})(E),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var E=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var A=this.bytesWritten-E,U=(function(C,I,B,q,G){var le=h.transformTo("string",G(q));return T.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(C,2)+c(C,2)+c(I,4)+c(B,4)+c(le.length,2)+le})(this.dirRecords.length,A,E,this.zipComment,this.encodeFileName);this.push({data:U,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(E){this._sources.push(E);var R=this;return E.on("data",function(A){R.processChunk(A)}),E.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),E.on("error",function(A){R.error(A)}),this},S.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(E){var R=this._sources;if(!p.prototype.error.call(this,E))return!1;for(var A=0;A<R.length;A++)try{R[A].error(E)}catch{}return!0},S.prototype.lock=function(){p.prototype.lock.call(this);for(var E=this._sources,R=0;R<E.length;R++)E[R].lock()},o.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,s){var c=r("../compressions"),d=r("./ZipFileWorker");s.generateWorker=function(h,p,m){var y=new d(p.streamFiles,m,p.platform,p.encodeFileName),T=0;try{h.forEach(function(S,E){T++;var R=(function(I,B){var q=I||B,G=c[q];if(!G)throw new Error(q+" is not a valid compression method !");return G})(E.options.compression,p.compression),A=E.options.compressionOptions||p.compressionOptions||{},U=E.dir,C=E.date;E._compressWorker(R,A).withStreamInfo("file",{name:S,dir:U,date:C,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(y)}),y.entriesCount=T}catch(S){y.error(S)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,s){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=r("./object")).loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=r("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,s){var c=r("./utils"),d=r("./external"),h=r("./utf8"),p=r("./zipEntries"),m=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function T(S){return new d.Promise(function(E,R){var A=S.decompressed.getContentWorker().pipe(new m);A.on("error",function(U){R(U)}).on("end",function(){A.streamInfo.crc32!==S.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}o.exports=function(S,E){var R=this;return E=c.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),y.isNode&&y.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,E.optimizedBinaryString,E.base64).then(function(A){var U=new p(E);return U.load(A),U}).then(function(A){var U=[d.Promise.resolve(A)],C=A.files;if(E.checkCRC32)for(var I=0;I<C.length;I++)U.push(T(C[I]));return d.Promise.all(U)}).then(function(A){for(var U=A.shift(),C=U.files,I=0;I<C.length;I++){var B=C[I],q=B.fileNameStr,G=c.resolve(B.fileNameStr);R.file(G,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:E.createFolders}),B.dir||(R.file(G).unsafeOriginalName=q)}return U.zipComment.length&&(R.comment=U.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,s){var c=r("../utils"),d=r("../stream/GenericWorker");function h(p,m){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,d),h.prototype._bindStream=function(p){var m=this;(this._stream=p).pause(),p.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,s){var c=r("readable-stream").Readable;function d(h,p,m){c.call(this,p),this._helper=h;var y=this;h.on("data",function(T,S){y.push(T)||y._helper.pause(),m&&m(S)}).on("error",function(T){y.emit("error",T)}).on("end",function(){y.push(null)})}r("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(r,o,s){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,o,s){function c(G,le,ae){var ce,O=h.getTypeOf(le),Se=h.extend(ae||{},y);Se.date=Se.date||new Date,Se.compression!==null&&(Se.compression=Se.compression.toUpperCase()),typeof Se.unixPermissions=="string"&&(Se.unixPermissions=parseInt(Se.unixPermissions,8)),Se.unixPermissions&&16384&Se.unixPermissions&&(Se.dir=!0),Se.dosPermissions&&16&Se.dosPermissions&&(Se.dir=!0),Se.dir&&(G=C(G)),Se.createFolders&&(ce=U(G))&&I.call(this,ce,!0);var Me=O==="string"&&Se.binary===!1&&Se.base64===!1;ae&&ae.binary!==void 0||(Se.binary=!Me),(le instanceof T&&le.uncompressedSize===0||Se.dir||!le||le.length===0)&&(Se.base64=!1,Se.binary=!0,le="",Se.compression="STORE",O="string");var $=null;$=le instanceof T||le instanceof p?le:R.isNode&&R.isStream(le)?new A(G,le):h.prepareContent(G,le,Se.binary,Se.optimizedBinaryString,Se.base64);var de=new S(G,$,Se);this.files[G]=de}var d=r("./utf8"),h=r("./utils"),p=r("./stream/GenericWorker"),m=r("./stream/StreamHelper"),y=r("./defaults"),T=r("./compressedObject"),S=r("./zipObject"),E=r("./generate"),R=r("./nodejsUtils"),A=r("./nodejs/NodejsStreamInputAdapter"),U=function(G){G.slice(-1)==="/"&&(G=G.substring(0,G.length-1));var le=G.lastIndexOf("/");return 0<le?G.substring(0,le):""},C=function(G){return G.slice(-1)!=="/"&&(G+="/"),G},I=function(G,le){return le=le!==void 0?le:y.createFolders,G=C(G),this.files[G]||c.call(this,G,null,{dir:!0,createFolders:le}),this.files[G]};function B(G){return Object.prototype.toString.call(G)==="[object RegExp]"}var q={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(G){var le,ae,ce;for(le in this.files)ce=this.files[le],(ae=le.slice(this.root.length,le.length))&&le.slice(0,this.root.length)===this.root&&G(ae,ce)},filter:function(G){var le=[];return this.forEach(function(ae,ce){G(ae,ce)&&le.push(ce)}),le},file:function(G,le,ae){if(arguments.length!==1)return G=this.root+G,c.call(this,G,le,ae),this;if(B(G)){var ce=G;return this.filter(function(Se,Me){return!Me.dir&&ce.test(Se)})}var O=this.files[this.root+G];return O&&!O.dir?O:null},folder:function(G){if(!G)return this;if(B(G))return this.filter(function(O,Se){return Se.dir&&G.test(O)});var le=this.root+G,ae=I.call(this,le),ce=this.clone();return ce.root=ae.name,ce},remove:function(G){G=this.root+G;var le=this.files[G];if(le||(G.slice(-1)!=="/"&&(G+="/"),le=this.files[G]),le&&!le.dir)delete this.files[G];else for(var ae=this.filter(function(O,Se){return Se.name.slice(0,G.length)===G}),ce=0;ce<ae.length;ce++)delete this.files[ae[ce].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(G){var le,ae={};try{if((ae=h.extend(G||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=ae.type.toLowerCase(),ae.compression=ae.compression.toUpperCase(),ae.type==="binarystring"&&(ae.type="string"),!ae.type)throw new Error("No output type specified.");h.checkSupport(ae.type),ae.platform!=="darwin"&&ae.platform!=="freebsd"&&ae.platform!=="linux"&&ae.platform!=="sunos"||(ae.platform="UNIX"),ae.platform==="win32"&&(ae.platform="DOS");var ce=ae.comment||this.comment||"";le=E.generateWorker(this,ae,ce)}catch(O){(le=new p("error")).error(O)}return new m(le,ae.type||"string",ae.mimeType)},generateAsync:function(G,le){return this.generateInternalStream(G).accumulate(le)},generateNodeStream:function(G,le){return(G=G||{}).type||(G.type="nodebuffer"),this.generateInternalStream(G).toNodejsStream(le)}};o.exports=q},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,s){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,s){var c=r("./DataReader");function d(h){c.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),T=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===p&&this.data[S+1]===m&&this.data[S+2]===y&&this.data[S+3]===T)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),T=h.charCodeAt(3),S=this.readData(4);return p===S[0]&&m===S[1]&&y===S[2]&&T===S[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(r,o,s){var c=r("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,m=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)m=(m<<8)+this.byteAt(p);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(r,o,s){var c=r("./Uint8ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,s){var c=r("./DataReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(r,o,s){var c=r("./ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,s){var c=r("../utils"),d=r("../support"),h=r("./ArrayReader"),p=r("./StringReader"),m=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(T){var S=c.getTypeOf(T);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(T):d.uint8array?new y(c.transformTo("uint8array",T)):new h(c.transformTo("array",T)):new p(T)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,s){var c=r("./GenericWorker"),d=r("../utils");function h(p){c.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,s){var c=r("./GenericWorker"),d=r("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,c),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,s){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(h,d),h.prototype.processChunk=function(p){if(p){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,s){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=c.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,m);break;case"uint8array":p=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":p=this.data.slice(this.index,m)}return this.index=m,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,s){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(r,o,s){var c=r("../utils"),d=r("./ConvertWorker"),h=r("./GenericWorker"),p=r("../base64"),m=r("../support"),y=r("../external"),T=null;if(m.nodestream)try{T=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(R,A){return new y.Promise(function(U,C){var I=[],B=R._internalType,q=R._outputType,G=R._mimeType;R.on("data",function(le,ae){I.push(le),A&&A(ae)}).on("error",function(le){I=[],C(le)}).on("end",function(){try{var le=(function(ae,ce,O){switch(ae){case"blob":return c.newBlob(c.transformTo("arraybuffer",ce),O);case"base64":return p.encode(ce);default:return c.transformTo(ae,ce)}})(q,(function(ae,ce){var O,Se=0,Me=null,$=0;for(O=0;O<ce.length;O++)$+=ce[O].length;switch(ae){case"string":return ce.join("");case"array":return Array.prototype.concat.apply([],ce);case"uint8array":for(Me=new Uint8Array($),O=0;O<ce.length;O++)Me.set(ce[O],Se),Se+=ce[O].length;return Me;case"nodebuffer":return Buffer.concat(ce);default:throw new Error("concat : unsupported type '"+ae+"'")}})(B,I),G);U(le)}catch(ae){C(ae)}I=[]}).resume()})}function E(R,A,U){var C=A;switch(A){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=A,this._mimeType=U,c.checkSupport(C),this._worker=R.pipe(new d(C)),R.lock()}catch(I){this._worker=new h("error"),this._worker.error(I)}}E.prototype={accumulate:function(R){return S(this,R)},on:function(R,A){var U=this;return R==="data"?this._worker.on(R,function(C){A.call(U,C.data,C.meta)}):this._worker.on(R,function(){c.delay(A,arguments,U)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:this._outputType!=="nodebuffer"},R)}},o.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var c=new ArrayBuffer(0);try{s.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),s.blob=d.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,s){for(var c=r("./utils"),d=r("./support"),h=r("./nodejsUtils"),p=r("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function T(){p.call(this,"utf-8 decode"),this.leftOver=null}function S(){p.call(this,"utf-8 encode")}s.utf8encode=function(E){return d.nodebuffer?h.newBufferFrom(E,"utf-8"):(function(R){var A,U,C,I,B,q=R.length,G=0;for(I=0;I<q;I++)(64512&(U=R.charCodeAt(I)))==55296&&I+1<q&&(64512&(C=R.charCodeAt(I+1)))==56320&&(U=65536+(U-55296<<10)+(C-56320),I++),G+=U<128?1:U<2048?2:U<65536?3:4;for(A=d.uint8array?new Uint8Array(G):new Array(G),I=B=0;B<G;I++)(64512&(U=R.charCodeAt(I)))==55296&&I+1<q&&(64512&(C=R.charCodeAt(I+1)))==56320&&(U=65536+(U-55296<<10)+(C-56320),I++),U<128?A[B++]=U:(U<2048?A[B++]=192|U>>>6:(U<65536?A[B++]=224|U>>>12:(A[B++]=240|U>>>18,A[B++]=128|U>>>12&63),A[B++]=128|U>>>6&63),A[B++]=128|63&U);return A})(E)},s.utf8decode=function(E){return d.nodebuffer?c.transformTo("nodebuffer",E).toString("utf-8"):(function(R){var A,U,C,I,B=R.length,q=new Array(2*B);for(A=U=0;A<B;)if((C=R[A++])<128)q[U++]=C;else if(4<(I=m[C]))q[U++]=65533,A+=I-1;else{for(C&=I===2?31:I===3?15:7;1<I&&A<B;)C=C<<6|63&R[A++],I--;1<I?q[U++]=65533:C<65536?q[U++]=C:(C-=65536,q[U++]=55296|C>>10&1023,q[U++]=56320|1023&C)}return q.length!==U&&(q.subarray?q=q.subarray(0,U):q.length=U),c.applyFromCharCode(q)})(E=c.transformTo(d.uint8array?"uint8array":"array",E))},c.inherits(T,p),T.prototype.processChunk=function(E){var R=c.transformTo(d.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var A=R;(R=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),R.set(A,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var U=(function(I,B){var q;for((B=B||I.length)>I.length&&(B=I.length),q=B-1;0<=q&&(192&I[q])==128;)q--;return q<0||q===0?B:q+m[I[q]]>B?q:B})(R),C=R;U!==R.length&&(d.uint8array?(C=R.subarray(0,U),this.leftOver=R.subarray(U,R.length)):(C=R.slice(0,U),this.leftOver=R.slice(U,R.length))),this.push({data:s.utf8decode(C),meta:E.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=T,c.inherits(S,p),S.prototype.processChunk=function(E){this.push({data:s.utf8encode(E.data),meta:E.meta})},s.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,s){var c=r("./support"),d=r("./base64"),h=r("./nodejsUtils"),p=r("./external");function m(A){return A}function y(A,U){for(var C=0;C<A.length;++C)U[C]=255&A.charCodeAt(C);return U}r("setimmediate"),s.newBlob=function(A,U){s.checkSupport("blob");try{return new Blob([A],{type:U})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(A),C.getBlob(U)}catch{throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(A,U,C){var I=[],B=0,q=A.length;if(q<=C)return String.fromCharCode.apply(null,A);for(;B<q;)U==="array"||U==="nodebuffer"?I.push(String.fromCharCode.apply(null,A.slice(B,Math.min(B+C,q)))):I.push(String.fromCharCode.apply(null,A.subarray(B,Math.min(B+C,q)))),B+=C;return I.join("")},stringifyByChar:function(A){for(var U="",C=0;C<A.length;C++)U+=String.fromCharCode(A[C]);return U},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(A){var U=65536,C=s.getTypeOf(A),I=!0;if(C==="uint8array"?I=T.applyCanBeUsed.uint8array:C==="nodebuffer"&&(I=T.applyCanBeUsed.nodebuffer),I)for(;1<U;)try{return T.stringifyByChunk(A,C,U)}catch{U=Math.floor(U/2)}return T.stringifyByChar(A)}function E(A,U){for(var C=0;C<A.length;C++)U[C]=A[C];return U}s.applyFromCharCode=S;var R={};R.string={string:m,array:function(A){return y(A,new Array(A.length))},arraybuffer:function(A){return R.string.uint8array(A).buffer},uint8array:function(A){return y(A,new Uint8Array(A.length))},nodebuffer:function(A){return y(A,h.allocBuffer(A.length))}},R.array={string:S,array:m,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return h.newBufferFrom(A)}},R.arraybuffer={string:function(A){return S(new Uint8Array(A))},array:function(A){return E(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:m,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return h.newBufferFrom(new Uint8Array(A))}},R.uint8array={string:S,array:function(A){return E(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:m,nodebuffer:function(A){return h.newBufferFrom(A)}},R.nodebuffer={string:S,array:function(A){return E(A,new Array(A.length))},arraybuffer:function(A){return R.nodebuffer.uint8array(A).buffer},uint8array:function(A){return E(A,new Uint8Array(A.length))},nodebuffer:m},s.transformTo=function(A,U){if(U=U||"",!A)return U;s.checkSupport(A);var C=s.getTypeOf(U);return R[C][A](U)},s.resolve=function(A){for(var U=A.split("/"),C=[],I=0;I<U.length;I++){var B=U[I];B==="."||B===""&&I!==0&&I!==U.length-1||(B===".."?C.pop():C.push(B))}return C.join("/")},s.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(A)?"nodebuffer":c.uint8array&&A instanceof Uint8Array?"uint8array":c.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(A){if(!c[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(A){var U,C,I="";for(C=0;C<(A||"").length;C++)I+="\\x"+((U=A.charCodeAt(C))<16?"0":"")+U.toString(16).toUpperCase();return I},s.delay=function(A,U,C){setImmediate(function(){A.apply(C||null,U||[])})},s.inherits=function(A,U){function C(){}C.prototype=U.prototype,A.prototype=new C},s.extend=function(){var A,U,C={};for(A=0;A<arguments.length;A++)for(U in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],U)&&C[U]===void 0&&(C[U]=arguments[A][U]);return C},s.prepareContent=function(A,U,C,I,B){return p.Promise.resolve(U).then(function(q){return c.blob&&(q instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(q))!==-1)&&typeof FileReader<"u"?new p.Promise(function(G,le){var ae=new FileReader;ae.onload=function(ce){G(ce.target.result)},ae.onerror=function(ce){le(ce.target.error)},ae.readAsArrayBuffer(q)}):q}).then(function(q){var G=s.getTypeOf(q);return G?(G==="arraybuffer"?q=s.transformTo("uint8array",q):G==="string"&&(B?q=d.decode(q):C&&I!==!0&&(q=(function(le){return y(le,c.uint8array?new Uint8Array(le.length):new Array(le.length))})(q))),q):p.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,s){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./signature"),p=r("./zipEntry"),m=r("./support");function y(T){this.files=[],this.loadOptions=T}y.prototype={checkSignature:function(T){if(!this.reader.readAndCheckSignature(T)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(T)+")")}},isSignature:function(T,S){var E=this.reader.index;this.reader.setIndex(T);var R=this.reader.readString(4)===S;return this.reader.setIndex(E),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var T=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",E=d.transformTo(S,T);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var T,S,E,R=this.zip64EndOfCentralSize-44;0<R;)T=this.reader.readInt(2),S=this.reader.readInt(4),E=this.reader.readData(S),this.zip64ExtensibleData[T]={id:T,length:S,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var T,S;for(T=0;T<this.files.length;T++)S=this.files[T],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var T;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(T=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(T);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var T=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(T<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(T);var S=T;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(T=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(T),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var R=S-E;if(0<R)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(T){this.reader=c(T)},load:function(T){this.prepareReader(T),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,s){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./compressedObject"),p=r("./crc32"),m=r("./utf8"),y=r("./compressions"),T=r("./support");function S(E,R){this.options=E,this.loadOptions=R}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var R,A;if(E.skip(22),this.fileNameLength=E.readInt(2),A=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=(function(U){for(var C in y)if(Object.prototype.hasOwnProperty.call(y,C)&&y[C].magic===U)return y[C];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,R,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var R=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(R),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var R,A,U,C=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<C;)R=E.readInt(2),A=E.readInt(2),U=E.readData(A),this.extraFields[R]={id:R,length:A,value:U};E.setIndex(C)},handleUTF8:function(){var E=T.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var A=d.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var U=this.findExtraFieldUnicodeComment();if(U!==null)this.fileCommentStr=U;else{var C=d.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var R=c(E.value);return R.readInt(1)!==1||p(this.fileName)!==R.readInt(4)?null:m.utf8decode(R.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var R=c(E.value);return R.readInt(1)!==1||p(this.fileComment)!==R.readInt(4)?null:m.utf8decode(R.readData(E.length-5))}return null}},o.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,s){function c(R,A,U){this.name=R,this.dir=U.dir,this.date=U.date,this.comment=U.comment,this.unixPermissions=U.unixPermissions,this.dosPermissions=U.dosPermissions,this._data=A,this._dataBinary=U.binary,this.options={compression:U.compression,compressionOptions:U.compressionOptions}}var d=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),p=r("./utf8"),m=r("./compressedObject"),y=r("./stream/GenericWorker");c.prototype={internalStream:function(R){var A=null,U="string";try{if(!R)throw new Error("No output type specified.");var C=(U=R.toLowerCase())==="string"||U==="text";U!=="binarystring"&&U!=="text"||(U="string"),A=this._decompressWorker();var I=!this._dataBinary;I&&!C&&(A=A.pipe(new p.Utf8EncodeWorker)),!I&&C&&(A=A.pipe(new p.Utf8DecodeWorker))}catch(B){(A=new y("error")).error(B)}return new d(A,U,"")},async:function(R,A){return this.internalStream(R).accumulate(A)},nodeStream:function(R,A){return this.internalStream(R||"nodebuffer").toNodejsStream(A)},_compressWorker:function(R,A){if(this._data instanceof m&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var U=this._decompressWorker();return this._dataBinary||(U=U.pipe(new p.Utf8EncodeWorker)),m.createWorkerFrom(U,R,A)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new h(this._data)}};for(var T=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<T.length;E++)c.prototype[T[E]]=S;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,s){(function(c){var d,h,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var m=0,y=new p(R),T=c.document.createTextNode("");y.observe(T,{characterData:!0}),d=function(){T.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var A=c.document.createElement("script");A.onreadystatechange=function(){R(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},c.document.documentElement.appendChild(A)}:function(){setTimeout(R,0)};else{var S=new c.MessageChannel;S.port1.onmessage=R,d=function(){S.port2.postMessage(0)}}var E=[];function R(){var A,U;h=!0;for(var C=E.length;C;){for(U=E,E=[],A=-1;++A<C;)U[A]();C=E.length}h=!1}o.exports=function(A){E.push(A)!==1||h||d()}}).call(this,typeof hr<"u"?hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,s){var c=r("immediate");function d(){}var h={},p=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function T(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,C!==d&&A(this,C)}function S(C,I,B){this.promise=C,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function E(C,I,B){c(function(){var q;try{q=I(B)}catch(G){return h.reject(C,G)}q===C?h.reject(C,new TypeError("Cannot resolve promise with itself")):h.resolve(C,q)})}function R(C){var I=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof I=="function")return function(){I.apply(C,arguments)}}function A(C,I){var B=!1;function q(ae){B||(B=!0,h.reject(C,ae))}function G(ae){B||(B=!0,h.resolve(C,ae))}var le=U(function(){I(G,q)});le.status==="error"&&q(le.value)}function U(C,I){var B={};try{B.value=C(I),B.status="success"}catch(q){B.status="error",B.value=q}return B}(o.exports=T).prototype.finally=function(C){if(typeof C!="function")return this;var I=this.constructor;return this.then(function(B){return I.resolve(C()).then(function(){return B})},function(B){return I.resolve(C()).then(function(){throw B})})},T.prototype.catch=function(C){return this.then(null,C)},T.prototype.then=function(C,I){if(typeof C!="function"&&this.state===m||typeof I!="function"&&this.state===p)return this;var B=new this.constructor(d);return this.state!==y?E(B,this.state===m?C:I,this.outcome):this.queue.push(new S(B,C,I)),B},S.prototype.callFulfilled=function(C){h.resolve(this.promise,C)},S.prototype.otherCallFulfilled=function(C){E(this.promise,this.onFulfilled,C)},S.prototype.callRejected=function(C){h.reject(this.promise,C)},S.prototype.otherCallRejected=function(C){E(this.promise,this.onRejected,C)},h.resolve=function(C,I){var B=U(R,I);if(B.status==="error")return h.reject(C,B.value);var q=B.value;if(q)A(C,q);else{C.state=m,C.outcome=I;for(var G=-1,le=C.queue.length;++G<le;)C.queue[G].callFulfilled(I)}return C},h.reject=function(C,I){C.state=p,C.outcome=I;for(var B=-1,q=C.queue.length;++B<q;)C.queue[B].callRejected(I);return C},T.resolve=function(C){return C instanceof this?C:h.resolve(new this(d),C)},T.reject=function(C){var I=new this(d);return h.reject(I,C)},T.all=function(C){var I=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=C.length,q=!1;if(!B)return this.resolve([]);for(var G=new Array(B),le=0,ae=-1,ce=new this(d);++ae<B;)O(C[ae],ae);return ce;function O(Se,Me){I.resolve(Se).then(function($){G[Me]=$,++le!==B||q||(q=!0,h.resolve(ce,G))},function($){q||(q=!0,h.reject(ce,$))})}},T.race=function(C){var I=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=C.length,q=!1;if(!B)return this.resolve([]);for(var G=-1,le=new this(d);++G<B;)ae=C[G],I.resolve(ae).then(function(ce){q||(q=!0,h.resolve(le,ce))},function(ce){q||(q=!0,h.reject(le,ce))});var ae;return le}},{immediate:36}],38:[function(r,o,s){var c={};(0,r("./lib/utils/common").assign)(c,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,s){var c=r("./zlib/deflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/messages"),m=r("./zlib/zstream"),y=Object.prototype.toString,T=0,S=-1,E=0,R=8;function A(C){if(!(this instanceof A))return new A(C);this.options=d.assign({level:S,method:R,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},C||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var B=c.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(B!==T)throw new Error(p[B]);if(I.header&&c.deflateSetHeader(this.strm,I.header),I.dictionary){var q;if(q=typeof I.dictionary=="string"?h.string2buf(I.dictionary):y.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(B=c.deflateSetDictionary(this.strm,q))!==T)throw new Error(p[B]);this._dict_set=!0}}function U(C,I){var B=new A(I);if(B.push(C,!0),B.err)throw B.msg||p[B.err];return B.result}A.prototype.push=function(C,I){var B,q,G=this.strm,le=this.options.chunkSize;if(this.ended)return!1;q=I===~~I?I:I===!0?4:0,typeof C=="string"?G.input=h.string2buf(C):y.call(C)==="[object ArrayBuffer]"?G.input=new Uint8Array(C):G.input=C,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new d.Buf8(le),G.next_out=0,G.avail_out=le),(B=c.deflate(G,q))!==1&&B!==T)return this.onEnd(B),!(this.ended=!0);G.avail_out!==0&&(G.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(G.output,G.next_out))):this.onData(d.shrinkBuf(G.output,G.next_out)))}while((0<G.avail_in||G.avail_out===0)&&B!==1);return q===4?(B=c.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===T):q!==2||(this.onEnd(T),!(G.avail_out=0))},A.prototype.onData=function(C){this.chunks.push(C)},A.prototype.onEnd=function(C){C===T&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},s.Deflate=A,s.deflate=U,s.deflateRaw=function(C,I){return(I=I||{}).raw=!0,U(C,I)},s.gzip=function(C,I){return(I=I||{}).gzip=!0,U(C,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,s){var c=r("./zlib/inflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/constants"),m=r("./zlib/messages"),y=r("./zlib/zstream"),T=r("./zlib/gzheader"),S=Object.prototype.toString;function E(A){if(!(this instanceof E))return new E(A);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},A||{});var U=this.options;U.raw&&0<=U.windowBits&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),!(0<=U.windowBits&&U.windowBits<16)||A&&A.windowBits||(U.windowBits+=32),15<U.windowBits&&U.windowBits<48&&(15&U.windowBits)==0&&(U.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var C=c.inflateInit2(this.strm,U.windowBits);if(C!==p.Z_OK)throw new Error(m[C]);this.header=new T,c.inflateGetHeader(this.strm,this.header)}function R(A,U){var C=new E(U);if(C.push(A,!0),C.err)throw C.msg||m[C.err];return C.result}E.prototype.push=function(A,U){var C,I,B,q,G,le,ae=this.strm,ce=this.options.chunkSize,O=this.options.dictionary,Se=!1;if(this.ended)return!1;I=U===~~U?U:U===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof A=="string"?ae.input=h.binstring2buf(A):S.call(A)==="[object ArrayBuffer]"?ae.input=new Uint8Array(A):ae.input=A,ae.next_in=0,ae.avail_in=ae.input.length;do{if(ae.avail_out===0&&(ae.output=new d.Buf8(ce),ae.next_out=0,ae.avail_out=ce),(C=c.inflate(ae,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&O&&(le=typeof O=="string"?h.string2buf(O):S.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,C=c.inflateSetDictionary(this.strm,le)),C===p.Z_BUF_ERROR&&Se===!0&&(C=p.Z_OK,Se=!1),C!==p.Z_STREAM_END&&C!==p.Z_OK)return this.onEnd(C),!(this.ended=!0);ae.next_out&&(ae.avail_out!==0&&C!==p.Z_STREAM_END&&(ae.avail_in!==0||I!==p.Z_FINISH&&I!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(B=h.utf8border(ae.output,ae.next_out),q=ae.next_out-B,G=h.buf2string(ae.output,B),ae.next_out=q,ae.avail_out=ce-q,q&&d.arraySet(ae.output,ae.output,B,q,0),this.onData(G)):this.onData(d.shrinkBuf(ae.output,ae.next_out)))),ae.avail_in===0&&ae.avail_out===0&&(Se=!0)}while((0<ae.avail_in||ae.avail_out===0)&&C!==p.Z_STREAM_END);return C===p.Z_STREAM_END&&(I=p.Z_FINISH),I===p.Z_FINISH?(C=c.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===p.Z_OK):I!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(ae.avail_out=0))},E.prototype.onData=function(A){this.chunks.push(A)},E.prototype.onEnd=function(A){A===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},s.Inflate=E,s.inflate=R,s.inflateRaw=function(A,U){return(U=U||{}).raw=!0,R(A,U)},s.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,s){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var T in y)y.hasOwnProperty(T)&&(p[T]=y[T])}}return p},s.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var d={arraySet:function(p,m,y,T,S){if(m.subarray&&p.subarray)p.set(m.subarray(y,y+T),S);else for(var E=0;E<T;E++)p[S+E]=m[y+E]},flattenChunks:function(p){var m,y,T,S,E,R;for(m=T=0,y=p.length;m<y;m++)T+=p[m].length;for(R=new Uint8Array(T),m=S=0,y=p.length;m<y;m++)E=p[m],R.set(E,S),S+=E.length;return R}},h={arraySet:function(p,m,y,T,S){for(var E=0;E<T;E++)p[S+E]=m[y+E]},flattenChunks:function(p){return[].concat.apply([],p)}};s.setTyped=function(p){p?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,d)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,h))},s.setTyped(c)},{}],42:[function(r,o,s){var c=r("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new c.Buf8(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(T,S){if(S<65537&&(T.subarray&&h||!T.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(T,S));for(var E="",R=0;R<S;R++)E+=String.fromCharCode(T[R]);return E}p[254]=p[254]=1,s.string2buf=function(T){var S,E,R,A,U,C=T.length,I=0;for(A=0;A<C;A++)(64512&(E=T.charCodeAt(A)))==55296&&A+1<C&&(64512&(R=T.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(R-56320),A++),I+=E<128?1:E<2048?2:E<65536?3:4;for(S=new c.Buf8(I),A=U=0;U<I;A++)(64512&(E=T.charCodeAt(A)))==55296&&A+1<C&&(64512&(R=T.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(R-56320),A++),E<128?S[U++]=E:(E<2048?S[U++]=192|E>>>6:(E<65536?S[U++]=224|E>>>12:(S[U++]=240|E>>>18,S[U++]=128|E>>>12&63),S[U++]=128|E>>>6&63),S[U++]=128|63&E);return S},s.buf2binstring=function(T){return y(T,T.length)},s.binstring2buf=function(T){for(var S=new c.Buf8(T.length),E=0,R=S.length;E<R;E++)S[E]=T.charCodeAt(E);return S},s.buf2string=function(T,S){var E,R,A,U,C=S||T.length,I=new Array(2*C);for(E=R=0;E<C;)if((A=T[E++])<128)I[R++]=A;else if(4<(U=p[A]))I[R++]=65533,E+=U-1;else{for(A&=U===2?31:U===3?15:7;1<U&&E<C;)A=A<<6|63&T[E++],U--;1<U?I[R++]=65533:A<65536?I[R++]=A:(A-=65536,I[R++]=55296|A>>10&1023,I[R++]=56320|1023&A)}return y(I,R)},s.utf8border=function(T,S){var E;for((S=S||T.length)>T.length&&(S=T.length),E=S-1;0<=E&&(192&T[E])==128;)E--;return E<0||E===0?S:E+p[T[E]]>S?E:S}},{"./common":41}],43:[function(r,o,s){o.exports=function(c,d,h,p){for(var m=65535&c|0,y=c>>>16&65535|0,T=0;h!==0;){for(h-=T=2e3<h?2e3:h;y=y+(m=m+d[p++]|0)|0,--T;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(r,o,s){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,s){var c=(function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h})();o.exports=function(d,h,p,m){var y=c,T=m+p;d^=-1;for(var S=m;S<T;S++)d=d>>>8^y[255&(d^h[S])];return-1^d}},{}],46:[function(r,o,s){var c,d=r("../utils/common"),h=r("./trees"),p=r("./adler32"),m=r("./crc32"),y=r("./messages"),T=0,S=4,E=0,R=-2,A=-1,U=4,C=2,I=8,B=9,q=286,G=30,le=19,ae=2*q+1,ce=15,O=3,Se=258,Me=Se+O+1,$=42,de=113,P=1,fe=2,se=3,oe=4;function Ie(D,H){return D.msg=y[H],H}function pe(D){return(D<<1)-(4<D?9:0)}function j(D){for(var H=D.length;0<=--H;)D[H]=0}function W(D){var H=D.state,N=H.pending;N>D.avail_out&&(N=D.avail_out),N!==0&&(d.arraySet(D.output,H.pending_buf,H.pending_out,N,D.next_out),D.next_out+=N,H.pending_out+=N,D.total_out+=N,D.avail_out-=N,H.pending-=N,H.pending===0&&(H.pending_out=0))}function F(D,H){h._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,H),D.block_start=D.strstart,W(D.strm)}function Q(D,H){D.pending_buf[D.pending++]=H}function te(D,H){D.pending_buf[D.pending++]=H>>>8&255,D.pending_buf[D.pending++]=255&H}function re(D,H){var N,v,w=D.max_chain_length,_=D.strstart,J=D.prev_length,ee=D.nice_match,X=D.strstart>D.w_size-Me?D.strstart-(D.w_size-Me):0,we=D.window,ke=D.w_mask,Ee=D.prev,Be=D.strstart+Se,Ge=we[_+J-1],He=we[_+J];D.prev_length>=D.good_match&&(w>>=2),ee>D.lookahead&&(ee=D.lookahead);do if(we[(N=H)+J]===He&&we[N+J-1]===Ge&&we[N]===we[_]&&we[++N]===we[_+1]){_+=2,N++;do;while(we[++_]===we[++N]&&we[++_]===we[++N]&&we[++_]===we[++N]&&we[++_]===we[++N]&&we[++_]===we[++N]&&we[++_]===we[++N]&&we[++_]===we[++N]&&we[++_]===we[++N]&&_<Be);if(v=Se-(Be-_),_=Be-Se,J<v){if(D.match_start=H,ee<=(J=v))break;Ge=we[_+J-1],He=we[_+J]}}while((H=Ee[H&ke])>X&&--w!=0);return J<=D.lookahead?J:D.lookahead}function Z(D){var H,N,v,w,_,J,ee,X,we,ke,Ee=D.w_size;do{if(w=D.window_size-D.lookahead-D.strstart,D.strstart>=Ee+(Ee-Me)){for(d.arraySet(D.window,D.window,Ee,Ee,0),D.match_start-=Ee,D.strstart-=Ee,D.block_start-=Ee,H=N=D.hash_size;v=D.head[--H],D.head[H]=Ee<=v?v-Ee:0,--N;);for(H=N=Ee;v=D.prev[--H],D.prev[H]=Ee<=v?v-Ee:0,--N;);w+=Ee}if(D.strm.avail_in===0)break;if(J=D.strm,ee=D.window,X=D.strstart+D.lookahead,we=w,ke=void 0,ke=J.avail_in,we<ke&&(ke=we),N=ke===0?0:(J.avail_in-=ke,d.arraySet(ee,J.input,J.next_in,ke,X),J.state.wrap===1?J.adler=p(J.adler,ee,ke,X):J.state.wrap===2&&(J.adler=m(J.adler,ee,ke,X)),J.next_in+=ke,J.total_in+=ke,ke),D.lookahead+=N,D.lookahead+D.insert>=O)for(_=D.strstart-D.insert,D.ins_h=D.window[_],D.ins_h=(D.ins_h<<D.hash_shift^D.window[_+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[_+O-1])&D.hash_mask,D.prev[_&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=_,_++,D.insert--,!(D.lookahead+D.insert<O)););}while(D.lookahead<Me&&D.strm.avail_in!==0)}function k(D,H){for(var N,v;;){if(D.lookahead<Me){if(Z(D),D.lookahead<Me&&H===T)return P;if(D.lookahead===0)break}if(N=0,D.lookahead>=O&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+O-1])&D.hash_mask,N=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),N!==0&&D.strstart-N<=D.w_size-Me&&(D.match_length=re(D,N)),D.match_length>=O)if(v=h._tr_tally(D,D.strstart-D.match_start,D.match_length-O),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=O){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+O-1])&D.hash_mask,N=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else v=h._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(v&&(F(D,!1),D.strm.avail_out===0))return P}return D.insert=D.strstart<O-1?D.strstart:O-1,H===S?(F(D,!0),D.strm.avail_out===0?se:oe):D.last_lit&&(F(D,!1),D.strm.avail_out===0)?P:fe}function M(D,H){for(var N,v,w;;){if(D.lookahead<Me){if(Z(D),D.lookahead<Me&&H===T)return P;if(D.lookahead===0)break}if(N=0,D.lookahead>=O&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+O-1])&D.hash_mask,N=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=O-1,N!==0&&D.prev_length<D.max_lazy_match&&D.strstart-N<=D.w_size-Me&&(D.match_length=re(D,N),D.match_length<=5&&(D.strategy===1||D.match_length===O&&4096<D.strstart-D.match_start)&&(D.match_length=O-1)),D.prev_length>=O&&D.match_length<=D.prev_length){for(w=D.strstart+D.lookahead-O,v=h._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-O),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=w&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+O-1])&D.hash_mask,N=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=O-1,D.strstart++,v&&(F(D,!1),D.strm.avail_out===0))return P}else if(D.match_available){if((v=h._tr_tally(D,0,D.window[D.strstart-1]))&&F(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return P}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(v=h._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<O-1?D.strstart:O-1,H===S?(F(D,!0),D.strm.avail_out===0?se:oe):D.last_lit&&(F(D,!1),D.strm.avail_out===0)?P:fe}function ne(D,H,N,v,w){this.good_length=D,this.max_lazy=H,this.nice_length=N,this.max_chain=v,this.func=w}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*ae),this.dyn_dtree=new d.Buf16(2*(2*G+1)),this.bl_tree=new d.Buf16(2*(2*le+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(ce+1),this.heap=new d.Buf16(2*q+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*q+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(D){var H;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=C,(H=D.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?$:de,D.adler=H.wrap===2?0:1,H.last_flush=T,h._tr_init(H),E):Ie(D,R)}function K(D){var H=z(D);return H===E&&(function(N){N.window_size=2*N.w_size,j(N.head),N.max_lazy_match=c[N.level].max_lazy,N.good_match=c[N.level].good_length,N.nice_match=c[N.level].nice_length,N.max_chain_length=c[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=O-1,N.match_available=0,N.ins_h=0})(D.state),H}function ge(D,H,N,v,w,_){if(!D)return R;var J=1;if(H===A&&(H=6),v<0?(J=0,v=-v):15<v&&(J=2,v-=16),w<1||B<w||N!==I||v<8||15<v||H<0||9<H||_<0||U<_)return Ie(D,R);v===8&&(v=9);var ee=new Y;return(D.state=ee).strm=D,ee.wrap=J,ee.gzhead=null,ee.w_bits=v,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=w+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+O-1)/O),ee.window=new d.Buf8(2*ee.w_size),ee.head=new d.Buf16(ee.hash_size),ee.prev=new d.Buf16(ee.w_size),ee.lit_bufsize=1<<w+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new d.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=H,ee.strategy=_,ee.method=N,K(D)}c=[new ne(0,0,0,0,function(D,H){var N=65535;for(N>D.pending_buf_size-5&&(N=D.pending_buf_size-5);;){if(D.lookahead<=1){if(Z(D),D.lookahead===0&&H===T)return P;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var v=D.block_start+N;if((D.strstart===0||D.strstart>=v)&&(D.lookahead=D.strstart-v,D.strstart=v,F(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-Me&&(F(D,!1),D.strm.avail_out===0))return P}return D.insert=0,H===S?(F(D,!0),D.strm.avail_out===0?se:oe):(D.strstart>D.block_start&&(F(D,!1),D.strm.avail_out),P)}),new ne(4,4,8,4,k),new ne(4,5,16,8,k),new ne(4,6,32,32,k),new ne(4,4,16,16,M),new ne(8,16,32,32,M),new ne(8,16,128,128,M),new ne(8,32,128,256,M),new ne(32,128,258,1024,M),new ne(32,258,258,4096,M)],s.deflateInit=function(D,H){return ge(D,H,I,15,8,0)},s.deflateInit2=ge,s.deflateReset=K,s.deflateResetKeep=z,s.deflateSetHeader=function(D,H){return D&&D.state?D.state.wrap!==2?R:(D.state.gzhead=H,E):R},s.deflate=function(D,H){var N,v,w,_;if(!D||!D.state||5<H||H<0)return D?Ie(D,R):R;if(v=D.state,!D.output||!D.input&&D.avail_in!==0||v.status===666&&H!==S)return Ie(D,D.avail_out===0?-5:R);if(v.strm=D,N=v.last_flush,v.last_flush=H,v.status===$)if(v.wrap===2)D.adler=0,Q(v,31),Q(v,139),Q(v,8),v.gzhead?(Q(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),Q(v,255&v.gzhead.time),Q(v,v.gzhead.time>>8&255),Q(v,v.gzhead.time>>16&255),Q(v,v.gzhead.time>>24&255),Q(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),Q(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(Q(v,255&v.gzhead.extra.length),Q(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(D.adler=m(D.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(Q(v,0),Q(v,0),Q(v,0),Q(v,0),Q(v,0),Q(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),Q(v,3),v.status=de);else{var J=I+(v.w_bits-8<<4)<<8;J|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(J|=32),J+=31-J%31,v.status=de,te(v,J),v.strstart!==0&&(te(v,D.adler>>>16),te(v,65535&D.adler)),D.adler=1}if(v.status===69)if(v.gzhead.extra){for(w=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>w&&(D.adler=m(D.adler,v.pending_buf,v.pending-w,w)),W(D),w=v.pending,v.pending!==v.pending_buf_size));)Q(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>w&&(D.adler=m(D.adler,v.pending_buf,v.pending-w,w)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){w=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>w&&(D.adler=m(D.adler,v.pending_buf,v.pending-w,w)),W(D),w=v.pending,v.pending===v.pending_buf_size)){_=1;break}_=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,Q(v,_)}while(_!==0);v.gzhead.hcrc&&v.pending>w&&(D.adler=m(D.adler,v.pending_buf,v.pending-w,w)),_===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){w=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>w&&(D.adler=m(D.adler,v.pending_buf,v.pending-w,w)),W(D),w=v.pending,v.pending===v.pending_buf_size)){_=1;break}_=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,Q(v,_)}while(_!==0);v.gzhead.hcrc&&v.pending>w&&(D.adler=m(D.adler,v.pending_buf,v.pending-w,w)),_===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&W(D),v.pending+2<=v.pending_buf_size&&(Q(v,255&D.adler),Q(v,D.adler>>8&255),D.adler=0,v.status=de)):v.status=de),v.pending!==0){if(W(D),D.avail_out===0)return v.last_flush=-1,E}else if(D.avail_in===0&&pe(H)<=pe(N)&&H!==S)return Ie(D,-5);if(v.status===666&&D.avail_in!==0)return Ie(D,-5);if(D.avail_in!==0||v.lookahead!==0||H!==T&&v.status!==666){var ee=v.strategy===2?(function(X,we){for(var ke;;){if(X.lookahead===0&&(Z(X),X.lookahead===0)){if(we===T)return P;break}if(X.match_length=0,ke=h._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,ke&&(F(X,!1),X.strm.avail_out===0))return P}return X.insert=0,we===S?(F(X,!0),X.strm.avail_out===0?se:oe):X.last_lit&&(F(X,!1),X.strm.avail_out===0)?P:fe})(v,H):v.strategy===3?(function(X,we){for(var ke,Ee,Be,Ge,He=X.window;;){if(X.lookahead<=Se){if(Z(X),X.lookahead<=Se&&we===T)return P;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=O&&0<X.strstart&&(Ee=He[Be=X.strstart-1])===He[++Be]&&Ee===He[++Be]&&Ee===He[++Be]){Ge=X.strstart+Se;do;while(Ee===He[++Be]&&Ee===He[++Be]&&Ee===He[++Be]&&Ee===He[++Be]&&Ee===He[++Be]&&Ee===He[++Be]&&Ee===He[++Be]&&Ee===He[++Be]&&Be<Ge);X.match_length=Se-(Ge-Be),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=O?(ke=h._tr_tally(X,1,X.match_length-O),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(ke=h._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),ke&&(F(X,!1),X.strm.avail_out===0))return P}return X.insert=0,we===S?(F(X,!0),X.strm.avail_out===0?se:oe):X.last_lit&&(F(X,!1),X.strm.avail_out===0)?P:fe})(v,H):c[v.level].func(v,H);if(ee!==se&&ee!==oe||(v.status=666),ee===P||ee===se)return D.avail_out===0&&(v.last_flush=-1),E;if(ee===fe&&(H===1?h._tr_align(v):H!==5&&(h._tr_stored_block(v,0,0,!1),H===3&&(j(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),W(D),D.avail_out===0))return v.last_flush=-1,E}return H!==S?E:v.wrap<=0?1:(v.wrap===2?(Q(v,255&D.adler),Q(v,D.adler>>8&255),Q(v,D.adler>>16&255),Q(v,D.adler>>24&255),Q(v,255&D.total_in),Q(v,D.total_in>>8&255),Q(v,D.total_in>>16&255),Q(v,D.total_in>>24&255)):(te(v,D.adler>>>16),te(v,65535&D.adler)),W(D),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?E:1)},s.deflateEnd=function(D){var H;return D&&D.state?(H=D.state.status)!==$&&H!==69&&H!==73&&H!==91&&H!==103&&H!==de&&H!==666?Ie(D,R):(D.state=null,H===de?Ie(D,-3):E):R},s.deflateSetDictionary=function(D,H){var N,v,w,_,J,ee,X,we,ke=H.length;if(!D||!D.state||(_=(N=D.state).wrap)===2||_===1&&N.status!==$||N.lookahead)return R;for(_===1&&(D.adler=p(D.adler,H,ke,0)),N.wrap=0,ke>=N.w_size&&(_===0&&(j(N.head),N.strstart=0,N.block_start=0,N.insert=0),we=new d.Buf8(N.w_size),d.arraySet(we,H,ke-N.w_size,N.w_size,0),H=we,ke=N.w_size),J=D.avail_in,ee=D.next_in,X=D.input,D.avail_in=ke,D.next_in=0,D.input=H,Z(N);N.lookahead>=O;){for(v=N.strstart,w=N.lookahead-(O-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[v+O-1])&N.hash_mask,N.prev[v&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=v,v++,--w;);N.strstart=v,N.lookahead=O-1,Z(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=O-1,N.match_available=0,D.next_in=ee,D.input=X,D.avail_in=J,N.wrap=_,E},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,s){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,s){o.exports=function(c,d){var h,p,m,y,T,S,E,R,A,U,C,I,B,q,G,le,ae,ce,O,Se,Me,$,de,P,fe;h=c.state,p=c.next_in,P=c.input,m=p+(c.avail_in-5),y=c.next_out,fe=c.output,T=y-(d-c.avail_out),S=y+(c.avail_out-257),E=h.dmax,R=h.wsize,A=h.whave,U=h.wnext,C=h.window,I=h.hold,B=h.bits,q=h.lencode,G=h.distcode,le=(1<<h.lenbits)-1,ae=(1<<h.distbits)-1;e:do{B<15&&(I+=P[p++]<<B,B+=8,I+=P[p++]<<B,B+=8),ce=q[I&le];t:for(;;){if(I>>>=O=ce>>>24,B-=O,(O=ce>>>16&255)===0)fe[y++]=65535&ce;else{if(!(16&O)){if((64&O)==0){ce=q[(65535&ce)+(I&(1<<O)-1)];continue t}if(32&O){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}Se=65535&ce,(O&=15)&&(B<O&&(I+=P[p++]<<B,B+=8),Se+=I&(1<<O)-1,I>>>=O,B-=O),B<15&&(I+=P[p++]<<B,B+=8,I+=P[p++]<<B,B+=8),ce=G[I&ae];n:for(;;){if(I>>>=O=ce>>>24,B-=O,!(16&(O=ce>>>16&255))){if((64&O)==0){ce=G[(65535&ce)+(I&(1<<O)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(Me=65535&ce,B<(O&=15)&&(I+=P[p++]<<B,(B+=8)<O&&(I+=P[p++]<<B,B+=8)),E<(Me+=I&(1<<O)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(I>>>=O,B-=O,(O=y-T)<Me){if(A<(O=Me-O)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(de=C,($=0)===U){if($+=R-O,O<Se){for(Se-=O;fe[y++]=C[$++],--O;);$=y-Me,de=fe}}else if(U<O){if($+=R+U-O,(O-=U)<Se){for(Se-=O;fe[y++]=C[$++],--O;);if($=0,U<Se){for(Se-=O=U;fe[y++]=C[$++],--O;);$=y-Me,de=fe}}}else if($+=U-O,O<Se){for(Se-=O;fe[y++]=C[$++],--O;);$=y-Me,de=fe}for(;2<Se;)fe[y++]=de[$++],fe[y++]=de[$++],fe[y++]=de[$++],Se-=3;Se&&(fe[y++]=de[$++],1<Se&&(fe[y++]=de[$++]))}else{for($=y-Me;fe[y++]=fe[$++],fe[y++]=fe[$++],fe[y++]=fe[$++],2<(Se-=3););Se&&(fe[y++]=fe[$++],1<Se&&(fe[y++]=fe[$++]))}break}}break}}while(p<m&&y<S);p-=Se=B>>3,I&=(1<<(B-=Se<<3))-1,c.next_in=p,c.next_out=y,c.avail_in=p<m?m-p+5:5-(p-m),c.avail_out=y<S?S-y+257:257-(y-S),h.hold=I,h.bits=B}},{}],49:[function(r,o,s){var c=r("../utils/common"),d=r("./adler32"),h=r("./crc32"),p=r("./inffast"),m=r("./inftrees"),y=1,T=2,S=0,E=-2,R=1,A=852,U=592;function C($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B($){var de;return $&&$.state?(de=$.state,$.total_in=$.total_out=de.total=0,$.msg="",de.wrap&&($.adler=1&de.wrap),de.mode=R,de.last=0,de.havedict=0,de.dmax=32768,de.head=null,de.hold=0,de.bits=0,de.lencode=de.lendyn=new c.Buf32(A),de.distcode=de.distdyn=new c.Buf32(U),de.sane=1,de.back=-1,S):E}function q($){var de;return $&&$.state?((de=$.state).wsize=0,de.whave=0,de.wnext=0,B($)):E}function G($,de){var P,fe;return $&&$.state?(fe=$.state,de<0?(P=0,de=-de):(P=1+(de>>4),de<48&&(de&=15)),de&&(de<8||15<de)?E:(fe.window!==null&&fe.wbits!==de&&(fe.window=null),fe.wrap=P,fe.wbits=de,q($))):E}function le($,de){var P,fe;return $?(fe=new I,($.state=fe).window=null,(P=G($,de))!==S&&($.state=null),P):E}var ae,ce,O=!0;function Se($){if(O){var de;for(ae=new c.Buf32(512),ce=new c.Buf32(32),de=0;de<144;)$.lens[de++]=8;for(;de<256;)$.lens[de++]=9;for(;de<280;)$.lens[de++]=7;for(;de<288;)$.lens[de++]=8;for(m(y,$.lens,0,288,ae,0,$.work,{bits:9}),de=0;de<32;)$.lens[de++]=5;m(T,$.lens,0,32,ce,0,$.work,{bits:5}),O=!1}$.lencode=ae,$.lenbits=9,$.distcode=ce,$.distbits=5}function Me($,de,P,fe){var se,oe=$.state;return oe.window===null&&(oe.wsize=1<<oe.wbits,oe.wnext=0,oe.whave=0,oe.window=new c.Buf8(oe.wsize)),fe>=oe.wsize?(c.arraySet(oe.window,de,P-oe.wsize,oe.wsize,0),oe.wnext=0,oe.whave=oe.wsize):(fe<(se=oe.wsize-oe.wnext)&&(se=fe),c.arraySet(oe.window,de,P-fe,se,oe.wnext),(fe-=se)?(c.arraySet(oe.window,de,P-fe,fe,0),oe.wnext=fe,oe.whave=oe.wsize):(oe.wnext+=se,oe.wnext===oe.wsize&&(oe.wnext=0),oe.whave<oe.wsize&&(oe.whave+=se))),0}s.inflateReset=q,s.inflateReset2=G,s.inflateResetKeep=B,s.inflateInit=function($){return le($,15)},s.inflateInit2=le,s.inflate=function($,de){var P,fe,se,oe,Ie,pe,j,W,F,Q,te,re,Z,k,M,ne,Y,z,K,ge,D,H,N,v,w=0,_=new c.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return E;(P=$.state).mode===12&&(P.mode=13),Ie=$.next_out,se=$.output,j=$.avail_out,oe=$.next_in,fe=$.input,pe=$.avail_in,W=P.hold,F=P.bits,Q=pe,te=j,H=S;e:for(;;)switch(P.mode){case R:if(P.wrap===0){P.mode=13;break}for(;F<16;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if(2&P.wrap&&W===35615){_[P.check=0]=255&W,_[1]=W>>>8&255,P.check=h(P.check,_,2,0),F=W=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&W)<<8)+(W>>8))%31){$.msg="incorrect header check",P.mode=30;break}if((15&W)!=8){$.msg="unknown compression method",P.mode=30;break}if(F-=4,D=8+(15&(W>>>=4)),P.wbits===0)P.wbits=D;else if(D>P.wbits){$.msg="invalid window size",P.mode=30;break}P.dmax=1<<D,$.adler=P.check=1,P.mode=512&W?10:12,F=W=0;break;case 2:for(;F<16;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if(P.flags=W,(255&P.flags)!=8){$.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){$.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=W>>8&1),512&P.flags&&(_[0]=255&W,_[1]=W>>>8&255,P.check=h(P.check,_,2,0)),F=W=0,P.mode=3;case 3:for(;F<32;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}P.head&&(P.head.time=W),512&P.flags&&(_[0]=255&W,_[1]=W>>>8&255,_[2]=W>>>16&255,_[3]=W>>>24&255,P.check=h(P.check,_,4,0)),F=W=0,P.mode=4;case 4:for(;F<16;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}P.head&&(P.head.xflags=255&W,P.head.os=W>>8),512&P.flags&&(_[0]=255&W,_[1]=W>>>8&255,P.check=h(P.check,_,2,0)),F=W=0,P.mode=5;case 5:if(1024&P.flags){for(;F<16;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}P.length=W,P.head&&(P.head.extra_len=W),512&P.flags&&(_[0]=255&W,_[1]=W>>>8&255,P.check=h(P.check,_,2,0)),F=W=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(pe<(re=P.length)&&(re=pe),re&&(P.head&&(D=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),c.arraySet(P.head.extra,fe,oe,re,D)),512&P.flags&&(P.check=h(P.check,fe,re,oe)),pe-=re,oe+=re,P.length-=re),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(pe===0)break e;for(re=0;D=fe[oe+re++],P.head&&D&&P.length<65536&&(P.head.name+=String.fromCharCode(D)),D&&re<pe;);if(512&P.flags&&(P.check=h(P.check,fe,re,oe)),pe-=re,oe+=re,D)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(pe===0)break e;for(re=0;D=fe[oe+re++],P.head&&D&&P.length<65536&&(P.head.comment+=String.fromCharCode(D)),D&&re<pe;);if(512&P.flags&&(P.check=h(P.check,fe,re,oe)),pe-=re,oe+=re,D)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;F<16;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if(W!==(65535&P.check)){$.msg="header crc mismatch",P.mode=30;break}F=W=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),$.adler=P.check=0,P.mode=12;break;case 10:for(;F<32;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}$.adler=P.check=C(W),F=W=0,P.mode=11;case 11:if(P.havedict===0)return $.next_out=Ie,$.avail_out=j,$.next_in=oe,$.avail_in=pe,P.hold=W,P.bits=F,2;$.adler=P.check=1,P.mode=12;case 12:if(de===5||de===6)break e;case 13:if(P.last){W>>>=7&F,F-=7&F,P.mode=27;break}for(;F<3;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}switch(P.last=1&W,F-=1,3&(W>>>=1)){case 0:P.mode=14;break;case 1:if(Se(P),P.mode=20,de!==6)break;W>>>=2,F-=2;break e;case 2:P.mode=17;break;case 3:$.msg="invalid block type",P.mode=30}W>>>=2,F-=2;break;case 14:for(W>>>=7&F,F-=7&F;F<32;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if((65535&W)!=(W>>>16^65535)){$.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&W,F=W=0,P.mode=15,de===6)break e;case 15:P.mode=16;case 16:if(re=P.length){if(pe<re&&(re=pe),j<re&&(re=j),re===0)break e;c.arraySet(se,fe,oe,re,Ie),pe-=re,oe+=re,j-=re,Ie+=re,P.length-=re;break}P.mode=12;break;case 17:for(;F<14;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if(P.nlen=257+(31&W),W>>>=5,F-=5,P.ndist=1+(31&W),W>>>=5,F-=5,P.ncode=4+(15&W),W>>>=4,F-=4,286<P.nlen||30<P.ndist){$.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;F<3;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}P.lens[J[P.have++]]=7&W,W>>>=3,F-=3}for(;P.have<19;)P.lens[J[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,N={bits:P.lenbits},H=m(0,P.lens,0,19,P.lencode,0,P.work,N),P.lenbits=N.bits,H){$.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;ne=(w=P.lencode[W&(1<<P.lenbits)-1])>>>16&255,Y=65535&w,!((M=w>>>24)<=F);){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if(Y<16)W>>>=M,F-=M,P.lens[P.have++]=Y;else{if(Y===16){for(v=M+2;F<v;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if(W>>>=M,F-=M,P.have===0){$.msg="invalid bit length repeat",P.mode=30;break}D=P.lens[P.have-1],re=3+(3&W),W>>>=2,F-=2}else if(Y===17){for(v=M+3;F<v;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}F-=M,D=0,re=3+(7&(W>>>=M)),W>>>=3,F-=3}else{for(v=M+7;F<v;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}F-=M,D=0,re=11+(127&(W>>>=M)),W>>>=7,F-=7}if(P.have+re>P.nlen+P.ndist){$.msg="invalid bit length repeat",P.mode=30;break}for(;re--;)P.lens[P.have++]=D}}if(P.mode===30)break;if(P.lens[256]===0){$.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,N={bits:P.lenbits},H=m(y,P.lens,0,P.nlen,P.lencode,0,P.work,N),P.lenbits=N.bits,H){$.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,N={bits:P.distbits},H=m(T,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,N),P.distbits=N.bits,H){$.msg="invalid distances set",P.mode=30;break}if(P.mode=20,de===6)break e;case 20:P.mode=21;case 21:if(6<=pe&&258<=j){$.next_out=Ie,$.avail_out=j,$.next_in=oe,$.avail_in=pe,P.hold=W,P.bits=F,p($,te),Ie=$.next_out,se=$.output,j=$.avail_out,oe=$.next_in,fe=$.input,pe=$.avail_in,W=P.hold,F=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;ne=(w=P.lencode[W&(1<<P.lenbits)-1])>>>16&255,Y=65535&w,!((M=w>>>24)<=F);){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if(ne&&(240&ne)==0){for(z=M,K=ne,ge=Y;ne=(w=P.lencode[ge+((W&(1<<z+K)-1)>>z)])>>>16&255,Y=65535&w,!(z+(M=w>>>24)<=F);){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}W>>>=z,F-=z,P.back+=z}if(W>>>=M,F-=M,P.back+=M,P.length=Y,ne===0){P.mode=26;break}if(32&ne){P.back=-1,P.mode=12;break}if(64&ne){$.msg="invalid literal/length code",P.mode=30;break}P.extra=15&ne,P.mode=22;case 22:if(P.extra){for(v=P.extra;F<v;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}P.length+=W&(1<<P.extra)-1,W>>>=P.extra,F-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;ne=(w=P.distcode[W&(1<<P.distbits)-1])>>>16&255,Y=65535&w,!((M=w>>>24)<=F);){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if((240&ne)==0){for(z=M,K=ne,ge=Y;ne=(w=P.distcode[ge+((W&(1<<z+K)-1)>>z)])>>>16&255,Y=65535&w,!(z+(M=w>>>24)<=F);){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}W>>>=z,F-=z,P.back+=z}if(W>>>=M,F-=M,P.back+=M,64&ne){$.msg="invalid distance code",P.mode=30;break}P.offset=Y,P.extra=15&ne,P.mode=24;case 24:if(P.extra){for(v=P.extra;F<v;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}P.offset+=W&(1<<P.extra)-1,W>>>=P.extra,F-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){$.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(j===0)break e;if(re=te-j,P.offset>re){if((re=P.offset-re)>P.whave&&P.sane){$.msg="invalid distance too far back",P.mode=30;break}Z=re>P.wnext?(re-=P.wnext,P.wsize-re):P.wnext-re,re>P.length&&(re=P.length),k=P.window}else k=se,Z=Ie-P.offset,re=P.length;for(j<re&&(re=j),j-=re,P.length-=re;se[Ie++]=k[Z++],--re;);P.length===0&&(P.mode=21);break;case 26:if(j===0)break e;se[Ie++]=P.length,j--,P.mode=21;break;case 27:if(P.wrap){for(;F<32;){if(pe===0)break e;pe--,W|=fe[oe++]<<F,F+=8}if(te-=j,$.total_out+=te,P.total+=te,te&&($.adler=P.check=P.flags?h(P.check,se,te,Ie-te):d(P.check,se,te,Ie-te)),te=j,(P.flags?W:C(W))!==P.check){$.msg="incorrect data check",P.mode=30;break}F=W=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;F<32;){if(pe===0)break e;pe--,W+=fe[oe++]<<F,F+=8}if(W!==(4294967295&P.total)){$.msg="incorrect length check",P.mode=30;break}F=W=0}P.mode=29;case 29:H=1;break e;case 30:H=-3;break e;case 31:return-4;case 32:default:return E}return $.next_out=Ie,$.avail_out=j,$.next_in=oe,$.avail_in=pe,P.hold=W,P.bits=F,(P.wsize||te!==$.avail_out&&P.mode<30&&(P.mode<27||de!==4))&&Me($,$.output,$.next_out,te-$.avail_out)?(P.mode=31,-4):(Q-=$.avail_in,te-=$.avail_out,$.total_in+=Q,$.total_out+=te,P.total+=te,P.wrap&&te&&($.adler=P.check=P.flags?h(P.check,se,te,$.next_out-te):d(P.check,se,te,$.next_out-te)),$.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(Q==0&&te===0||de===4)&&H===S&&(H=-5),H)},s.inflateEnd=function($){if(!$||!$.state)return E;var de=$.state;return de.window&&(de.window=null),$.state=null,S},s.inflateGetHeader=function($,de){var P;return $&&$.state?(2&(P=$.state).wrap)==0?E:((P.head=de).done=!1,S):E},s.inflateSetDictionary=function($,de){var P,fe=de.length;return $&&$.state?(P=$.state).wrap!==0&&P.mode!==11?E:P.mode===11&&d(1,de,fe,0)!==P.check?-3:Me($,de,fe,fe)?(P.mode=31,-4):(P.havedict=1,S):E},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,s){var c=r("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,T,S,E,R,A,U,C){var I,B,q,G,le,ae,ce,O,Se,Me=C.bits,$=0,de=0,P=0,fe=0,se=0,oe=0,Ie=0,pe=0,j=0,W=0,F=null,Q=0,te=new c.Buf16(16),re=new c.Buf16(16),Z=null,k=0;for($=0;$<=15;$++)te[$]=0;for(de=0;de<E;de++)te[T[S+de]]++;for(se=Me,fe=15;1<=fe&&te[fe]===0;fe--);if(fe<se&&(se=fe),fe===0)return R[A++]=20971520,R[A++]=20971520,C.bits=1,0;for(P=1;P<fe&&te[P]===0;P++);for(se<P&&(se=P),$=pe=1;$<=15;$++)if(pe<<=1,(pe-=te[$])<0)return-1;if(0<pe&&(y===0||fe!==1))return-1;for(re[1]=0,$=1;$<15;$++)re[$+1]=re[$]+te[$];for(de=0;de<E;de++)T[S+de]!==0&&(U[re[T[S+de]]++]=de);if(ae=y===0?(F=Z=U,19):y===1?(F=d,Q-=257,Z=h,k-=257,256):(F=p,Z=m,-1),$=P,le=A,Ie=de=W=0,q=-1,G=(j=1<<(oe=se))-1,y===1&&852<j||y===2&&592<j)return 1;for(;;){for(ce=$-Ie,Se=U[de]<ae?(O=0,U[de]):U[de]>ae?(O=Z[k+U[de]],F[Q+U[de]]):(O=96,0),I=1<<$-Ie,P=B=1<<oe;R[le+(W>>Ie)+(B-=I)]=ce<<24|O<<16|Se|0,B!==0;);for(I=1<<$-1;W&I;)I>>=1;if(I!==0?(W&=I-1,W+=I):W=0,de++,--te[$]==0){if($===fe)break;$=T[S+U[de]]}if(se<$&&(W&G)!==q){for(Ie===0&&(Ie=se),le+=P,pe=1<<(oe=$-Ie);oe+Ie<fe&&!((pe-=te[oe+Ie])<=0);)oe++,pe<<=1;if(j+=1<<oe,y===1&&852<j||y===2&&592<j)return 1;R[q=W&G]=se<<24|oe<<16|le-A|0}}return W!==0&&(R[le+W]=$-Ie<<24|64<<16|0),C.bits=se,0}},{"../utils/common":41}],51:[function(r,o,s){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,s){var c=r("../utils/common"),d=0,h=1;function p(w){for(var _=w.length;0<=--_;)w[_]=0}var m=0,y=29,T=256,S=T+1+y,E=30,R=19,A=2*S+1,U=15,C=16,I=7,B=256,q=16,G=17,le=18,ae=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Me=new Array(2*(S+2));p(Me);var $=new Array(2*E);p($);var de=new Array(512);p(de);var P=new Array(256);p(P);var fe=new Array(y);p(fe);var se,oe,Ie,pe=new Array(E);function j(w,_,J,ee,X){this.static_tree=w,this.extra_bits=_,this.extra_base=J,this.elems=ee,this.max_length=X,this.has_stree=w&&w.length}function W(w,_){this.dyn_tree=w,this.max_code=0,this.stat_desc=_}function F(w){return w<256?de[w]:de[256+(w>>>7)]}function Q(w,_){w.pending_buf[w.pending++]=255&_,w.pending_buf[w.pending++]=_>>>8&255}function te(w,_,J){w.bi_valid>C-J?(w.bi_buf|=_<<w.bi_valid&65535,Q(w,w.bi_buf),w.bi_buf=_>>C-w.bi_valid,w.bi_valid+=J-C):(w.bi_buf|=_<<w.bi_valid&65535,w.bi_valid+=J)}function re(w,_,J){te(w,J[2*_],J[2*_+1])}function Z(w,_){for(var J=0;J|=1&w,w>>>=1,J<<=1,0<--_;);return J>>>1}function k(w,_,J){var ee,X,we=new Array(U+1),ke=0;for(ee=1;ee<=U;ee++)we[ee]=ke=ke+J[ee-1]<<1;for(X=0;X<=_;X++){var Ee=w[2*X+1];Ee!==0&&(w[2*X]=Z(we[Ee]++,Ee))}}function M(w){var _;for(_=0;_<S;_++)w.dyn_ltree[2*_]=0;for(_=0;_<E;_++)w.dyn_dtree[2*_]=0;for(_=0;_<R;_++)w.bl_tree[2*_]=0;w.dyn_ltree[2*B]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function ne(w){8<w.bi_valid?Q(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function Y(w,_,J,ee){var X=2*_,we=2*J;return w[X]<w[we]||w[X]===w[we]&&ee[_]<=ee[J]}function z(w,_,J){for(var ee=w.heap[J],X=J<<1;X<=w.heap_len&&(X<w.heap_len&&Y(_,w.heap[X+1],w.heap[X],w.depth)&&X++,!Y(_,ee,w.heap[X],w.depth));)w.heap[J]=w.heap[X],J=X,X<<=1;w.heap[J]=ee}function K(w,_,J){var ee,X,we,ke,Ee=0;if(w.last_lit!==0)for(;ee=w.pending_buf[w.d_buf+2*Ee]<<8|w.pending_buf[w.d_buf+2*Ee+1],X=w.pending_buf[w.l_buf+Ee],Ee++,ee===0?re(w,X,_):(re(w,(we=P[X])+T+1,_),(ke=ae[we])!==0&&te(w,X-=fe[we],ke),re(w,we=F(--ee),J),(ke=ce[we])!==0&&te(w,ee-=pe[we],ke)),Ee<w.last_lit;);re(w,B,_)}function ge(w,_){var J,ee,X,we=_.dyn_tree,ke=_.stat_desc.static_tree,Ee=_.stat_desc.has_stree,Be=_.stat_desc.elems,Ge=-1;for(w.heap_len=0,w.heap_max=A,J=0;J<Be;J++)we[2*J]!==0?(w.heap[++w.heap_len]=Ge=J,w.depth[J]=0):we[2*J+1]=0;for(;w.heap_len<2;)we[2*(X=w.heap[++w.heap_len]=Ge<2?++Ge:0)]=1,w.depth[X]=0,w.opt_len--,Ee&&(w.static_len-=ke[2*X+1]);for(_.max_code=Ge,J=w.heap_len>>1;1<=J;J--)z(w,we,J);for(X=Be;J=w.heap[1],w.heap[1]=w.heap[w.heap_len--],z(w,we,1),ee=w.heap[1],w.heap[--w.heap_max]=J,w.heap[--w.heap_max]=ee,we[2*X]=we[2*J]+we[2*ee],w.depth[X]=(w.depth[J]>=w.depth[ee]?w.depth[J]:w.depth[ee])+1,we[2*J+1]=we[2*ee+1]=X,w.heap[1]=X++,z(w,we,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],(function(He,nt){var _t,$t,kt,it,Ft,Mt,pt=nt.dyn_tree,Kn=nt.max_code,Qt=nt.stat_desc.static_tree,Lr=nt.stat_desc.has_stree,di=nt.stat_desc.extra_bits,Jn=nt.stat_desc.extra_base,rn=nt.stat_desc.max_length,Ct=0;for(it=0;it<=U;it++)He.bl_count[it]=0;for(pt[2*He.heap[He.heap_max]+1]=0,_t=He.heap_max+1;_t<A;_t++)rn<(it=pt[2*pt[2*($t=He.heap[_t])+1]+1]+1)&&(it=rn,Ct++),pt[2*$t+1]=it,Kn<$t||(He.bl_count[it]++,Ft=0,Jn<=$t&&(Ft=di[$t-Jn]),Mt=pt[2*$t],He.opt_len+=Mt*(it+Ft),Lr&&(He.static_len+=Mt*(Qt[2*$t+1]+Ft)));if(Ct!==0){do{for(it=rn-1;He.bl_count[it]===0;)it--;He.bl_count[it]--,He.bl_count[it+1]+=2,He.bl_count[rn]--,Ct-=2}while(0<Ct);for(it=rn;it!==0;it--)for($t=He.bl_count[it];$t!==0;)Kn<(kt=He.heap[--_t])||(pt[2*kt+1]!==it&&(He.opt_len+=(it-pt[2*kt+1])*pt[2*kt],pt[2*kt+1]=it),$t--)}})(w,_),k(we,Ge,w.bl_count)}function D(w,_,J){var ee,X,we=-1,ke=_[1],Ee=0,Be=7,Ge=4;for(ke===0&&(Be=138,Ge=3),_[2*(J+1)+1]=65535,ee=0;ee<=J;ee++)X=ke,ke=_[2*(ee+1)+1],++Ee<Be&&X===ke||(Ee<Ge?w.bl_tree[2*X]+=Ee:X!==0?(X!==we&&w.bl_tree[2*X]++,w.bl_tree[2*q]++):Ee<=10?w.bl_tree[2*G]++:w.bl_tree[2*le]++,we=X,Ge=(Ee=0)===ke?(Be=138,3):X===ke?(Be=6,3):(Be=7,4))}function H(w,_,J){var ee,X,we=-1,ke=_[1],Ee=0,Be=7,Ge=4;for(ke===0&&(Be=138,Ge=3),ee=0;ee<=J;ee++)if(X=ke,ke=_[2*(ee+1)+1],!(++Ee<Be&&X===ke)){if(Ee<Ge)for(;re(w,X,w.bl_tree),--Ee!=0;);else X!==0?(X!==we&&(re(w,X,w.bl_tree),Ee--),re(w,q,w.bl_tree),te(w,Ee-3,2)):Ee<=10?(re(w,G,w.bl_tree),te(w,Ee-3,3)):(re(w,le,w.bl_tree),te(w,Ee-11,7));we=X,Ge=(Ee=0)===ke?(Be=138,3):X===ke?(Be=6,3):(Be=7,4)}}p(pe);var N=!1;function v(w,_,J,ee){te(w,(m<<1)+(ee?1:0),3),(function(X,we,ke,Ee){ne(X),Q(X,ke),Q(X,~ke),c.arraySet(X.pending_buf,X.window,we,ke,X.pending),X.pending+=ke})(w,_,J)}s._tr_init=function(w){N||((function(){var _,J,ee,X,we,ke=new Array(U+1);for(X=ee=0;X<y-1;X++)for(fe[X]=ee,_=0;_<1<<ae[X];_++)P[ee++]=X;for(P[ee-1]=X,X=we=0;X<16;X++)for(pe[X]=we,_=0;_<1<<ce[X];_++)de[we++]=X;for(we>>=7;X<E;X++)for(pe[X]=we<<7,_=0;_<1<<ce[X]-7;_++)de[256+we++]=X;for(J=0;J<=U;J++)ke[J]=0;for(_=0;_<=143;)Me[2*_+1]=8,_++,ke[8]++;for(;_<=255;)Me[2*_+1]=9,_++,ke[9]++;for(;_<=279;)Me[2*_+1]=7,_++,ke[7]++;for(;_<=287;)Me[2*_+1]=8,_++,ke[8]++;for(k(Me,S+1,ke),_=0;_<E;_++)$[2*_+1]=5,$[2*_]=Z(_,5);se=new j(Me,ae,T+1,S,U),oe=new j($,ce,0,E,U),Ie=new j(new Array(0),O,0,R,I)})(),N=!0),w.l_desc=new W(w.dyn_ltree,se),w.d_desc=new W(w.dyn_dtree,oe),w.bl_desc=new W(w.bl_tree,Ie),w.bi_buf=0,w.bi_valid=0,M(w)},s._tr_stored_block=v,s._tr_flush_block=function(w,_,J,ee){var X,we,ke=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=(function(Ee){var Be,Ge=4093624447;for(Be=0;Be<=31;Be++,Ge>>>=1)if(1&Ge&&Ee.dyn_ltree[2*Be]!==0)return d;if(Ee.dyn_ltree[18]!==0||Ee.dyn_ltree[20]!==0||Ee.dyn_ltree[26]!==0)return h;for(Be=32;Be<T;Be++)if(Ee.dyn_ltree[2*Be]!==0)return h;return d})(w)),ge(w,w.l_desc),ge(w,w.d_desc),ke=(function(Ee){var Be;for(D(Ee,Ee.dyn_ltree,Ee.l_desc.max_code),D(Ee,Ee.dyn_dtree,Ee.d_desc.max_code),ge(Ee,Ee.bl_desc),Be=R-1;3<=Be&&Ee.bl_tree[2*Se[Be]+1]===0;Be--);return Ee.opt_len+=3*(Be+1)+5+5+4,Be})(w),X=w.opt_len+3+7>>>3,(we=w.static_len+3+7>>>3)<=X&&(X=we)):X=we=J+5,J+4<=X&&_!==-1?v(w,_,J,ee):w.strategy===4||we===X?(te(w,2+(ee?1:0),3),K(w,Me,$)):(te(w,4+(ee?1:0),3),(function(Ee,Be,Ge,He){var nt;for(te(Ee,Be-257,5),te(Ee,Ge-1,5),te(Ee,He-4,4),nt=0;nt<He;nt++)te(Ee,Ee.bl_tree[2*Se[nt]+1],3);H(Ee,Ee.dyn_ltree,Be-1),H(Ee,Ee.dyn_dtree,Ge-1)})(w,w.l_desc.max_code+1,w.d_desc.max_code+1,ke+1),K(w,w.dyn_ltree,w.dyn_dtree)),M(w),ee&&ne(w)},s._tr_tally=function(w,_,J){return w.pending_buf[w.d_buf+2*w.last_lit]=_>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&_,w.pending_buf[w.l_buf+w.last_lit]=255&J,w.last_lit++,_===0?w.dyn_ltree[2*J]++:(w.matches++,_--,w.dyn_ltree[2*(P[J]+T+1)]++,w.dyn_dtree[2*F(_)]++),w.last_lit===w.lit_bufsize-1},s._tr_align=function(w){te(w,2,3),re(w,B,Me),(function(_){_.bi_valid===16?(Q(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):8<=_.bi_valid&&(_.pending_buf[_.pending++]=255&_.bi_buf,_.bi_buf>>=8,_.bi_valid-=8)})(w)}},{"../utils/common":41}],53:[function(r,o,s){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,s){(function(c){(function(d,h){if(!d.setImmediate){var p,m,y,T,S=1,E={},R=!1,A=d.document,U=Object.getPrototypeOf&&Object.getPrototypeOf(d);U=U&&U.setTimeout?U:d,p={}.toString.call(d.process)==="[object process]"?function(q){at.nextTick(function(){I(q)})}:(function(){if(d.postMessage&&!d.importScripts){var q=!0,G=d.onmessage;return d.onmessage=function(){q=!1},d.postMessage("","*"),d.onmessage=G,q}})()?(T="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",B,!1):d.attachEvent("onmessage",B),function(q){d.postMessage(T+q,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(q){I(q.data)},function(q){y.port2.postMessage(q)}):A&&"onreadystatechange"in A.createElement("script")?(m=A.documentElement,function(q){var G=A.createElement("script");G.onreadystatechange=function(){I(q),G.onreadystatechange=null,m.removeChild(G),G=null},m.appendChild(G)}):function(q){setTimeout(I,0,q)},U.setImmediate=function(q){typeof q!="function"&&(q=new Function(""+q));for(var G=new Array(arguments.length-1),le=0;le<G.length;le++)G[le]=arguments[le+1];var ae={callback:q,args:G};return E[S]=ae,p(S),S++},U.clearImmediate=C}function C(q){delete E[q]}function I(q){if(R)setTimeout(I,0,q);else{var G=E[q];if(G){R=!0;try{(function(le){var ae=le.callback,ce=le.args;switch(ce.length){case 0:ae();break;case 1:ae(ce[0]);break;case 2:ae(ce[0],ce[1]);break;case 3:ae(ce[0],ce[1],ce[2]);break;default:ae.apply(h,ce)}})(G)}finally{C(q),R=!1}}}}function B(q){q.source===d&&typeof q.data=="string"&&q.data.indexOf(T)===0&&I(+q.data.slice(T.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof hr<"u"?hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Bx);var G3=Bx.exports;const q3=Iw(G3);var du={exports:{}},H3={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function K3(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,r){return H3[r]}):t}var J3=K3,jd=J3,qv=dh.Stream,Y3="    ";function W3(t,e){typeof e!="object"&&(e={indent:e});var r=e.stream?new qv:null,o="",s=!1,c=e.indent?e.indent===!0?Y3:e.indent:"",d=!0;function h(S){d?at.nextTick(S):S()}function p(S,E){if(E!==void 0&&(o+=E),S&&!s&&(r=r||new qv,s=!0),S&&s){var R=o;h(function(){r.emit("data",R)}),o=""}}function m(S,E){bh(p,hu(S,c,c?1:0),E)}function y(){if(r){var S=o;h(function(){r.emit("data",S),r.emit("end"),r.readable=!1,r.emit("close")})}}function T(S){var E=S.encoding||"UTF-8",R={version:"1.0",encoding:E};S.standalone&&(R.standalone=S.standalone),m({"?xml":{_attr:R}}),o=o.replace("/>","?>")}return h(function(){d=!1}),e.declaration&&T(e.declaration),t&&t.forEach?t.forEach(function(S,E){var R;E+1===t.length&&(R=y),m(S,R)}):m(t,y),r?(r.readable=!0,r):o}function $3(){var t=Array.prototype.slice.call(arguments),e={_elem:hu(t)};return e.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var o=this,s=this._elem.indent;bh(this.append,hu(r,s,this._elem.icount+(s?1:0)),function(){o.append(!0)})},e.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},e}function X3(t,e){return new Array(e||0).join(t||"")}function hu(t,e,r){r=r||0;var o=X3(e,r),s,c=t,d=!1;if(typeof t=="object"){var h=Object.keys(t);if(s=h[0],c=t[s],c&&c._elem)return c._elem.name=s,c._elem.icount=r,c._elem.indent=e,c._elem.indents=o,c._elem.interrupt=c,c._elem}var p=[],m=[],y;function T(S){var E=Object.keys(S);E.forEach(function(R){p.push(j3(R,S[R]))})}switch(typeof c){case"object":if(c===null)break;c._attr&&T(c._attr),c._cdata&&m.push(("<![CDATA["+c._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),c.forEach&&(y=!1,m.push(""),c.forEach(function(S){if(typeof S=="object"){var E=Object.keys(S)[0];E=="_attr"?T(S._attr):m.push(hu(S,e,r+1))}else m.pop(),y=!0,m.push(jd(S))}),y||m.push(""));break;default:m.push(jd(c))}return{name:s,interrupt:d,attributes:p,content:m,icount:r,indents:o,indent:e}}function bh(t,e,r){if(typeof e!="object")return t(!1,e);var o=e.interrupt?1:e.content.length;function s(){for(;e.content.length;){var d=e.content.shift();if(d!==void 0){if(c(d))return;bh(t,d)}}t(!1,(o>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!r?`
`:"")),r&&r()}function c(d){return d.interrupt?(d.interrupt.append=t,d.interrupt.end=s,d.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(o?e.name?">":"":e.name?"/>":"")+(e.indent&&o>1?`
`:"")),!o)return t(!1,e.indent?`
`:"");c(e)||s()}function j3(t,e){return t+'="'+jd(e)+'"'}du.exports=W3;du.exports.element=du.exports.Element=$3;var Z3=du.exports;const qt=Iw(Z3),Hv=0,Kv=32,Q3=32,eU=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==Q3)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const s=r.replace(/(..)/g,"$1 ").trim().split(" ").map(p=>parseInt(p,16));s.reverse();const d=t.slice(Hv,Kv).map((p,m)=>p^s[m%s.length]);return Buffer.concat([t.slice(0,Hv),d,t.slice(Kv)])};class tU{format(e,r={stack:[]}){const o=e.prepForXml(r);if(o)return o;throw Error("XMLComponent did not format correctly")}}class nU{replace(e,r,o){let s=e;return r.forEach((c,d)=>{s=s.replace(new RegExp(`{${c.fileName}}`,"g"),(o+d).toString())}),s}getMediaData(e,r){return r.Array.filter(o=>e.search(`{${o.fileName}}`)>0)}}class rU{replace(e,r){let o=e;for(const s of r)o=o.replace(new RegExp(`{${s.reference}-${s.instance}}`,"g"),s.numId.toString());return o}}class iU{constructor(){_e(this,"formatter"),_e(this,"imageReplacer"),_e(this,"numberingReplacer"),this.formatter=new tU,this.imageReplacer=new nU,this.numberingReplacer=new rU}compile(e,r){const o=new q3,s=this.xmlifyFile(e,r),c=new Map(Object.entries(s));for(const[,d]of c)if(Array.isArray(d))for(const h of d)o.file(h.path,h.data);else o.file(d.path,d.data);for(const{stream:d,fileName:h}of e.Media.Array)o.file(`word/media/${h}`,d);for(const{data:d,name:h,fontKey:p}of e.FontTable.fontOptionsWithKey){const[m]=h.split(".");o.file(`word/fonts/${m}.odttf`,eU(d,p))}return o}xmlifyFile(e,r){const o=e.Document.Relationships.RelationshipCount+1,s=qt(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(s,e.Media);return{Relationships:{data:(c.forEach((d,h)=>{e.Document.Relationships.createRelationship(o+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),qt(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const d=this.imageReplacer.replace(s,c,o);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const d=qt(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:qt(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:qt(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:qt(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,h)=>{const p=qt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,T)=>{d.Relationships.createRelationship(T,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:qt(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,h)=>{const p=qt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,T)=>{d.Relationships.createRelationship(T,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:qt(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:e.Headers.map((d,h)=>{const p=qt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:e.Footers.map((d,h)=>{const p=qt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:qt(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:qt(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:qt(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:qt(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:qt(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:qt(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:qt(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:qt(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:qt(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const oU={WITH_2_BLANKS:"  "},ys=t=>t===!0?oU.WITH_2_BLANKS:t===!1?void 0:t;class Ox{static toString(e,r){return ql(this,null,function*(){return yield this.compiler.compile(e,ys(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,r){return ql(this,null,function*(){return yield this.compiler.compile(e,ys(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,r){return ql(this,null,function*(){return yield this.compiler.compile(e,ys(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,r){return ql(this,null,function*(){return yield this.compiler.compile(e,ys(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,r){const o=new dh.Stream;return this.compiler.compile(e,ys(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(c=>{o.emit("data",c),o.emit("end")}),o}}_e(Ox,"compiler",new iU);const Po=async(t,e)=>{if(!t||t.length===0)return null;const r=d=>d?d.split(/(\[\[.*?\]\])/g).filter(Boolean).map(p=>{if(p.startsWith("[[")&&p.endsWith("]]")){const m=p.slice(2,-2);return new zi({text:m,style:"LinkStyle"})}return new zi(p)}):[],o=[];o.push(new cn({text:e==="GDD"?"Game Design Document":"Roteiro do Jogo",heading:ko.TITLE,alignment:Sn.CENTER}));const s=[...new Set(t.map(d=>d.category))];for(const d of s){o.push(new cn({text:d,heading:ko.HEADING_1,spacing:{before:400,after:200}}));const h=t.filter(p=>p.category===d);for(const p of h){if(o.push(new cn({text:p.title,heading:ko.HEADING_2,spacing:{before:300,after:150}})),!p.content||p.content.length===0){o.push(new cn({children:[new zi({text:"[Este documento está vazio.]",italics:!0,color:"808080"})],spacing:{after:200}}));continue}for(const m of p.content)switch(m.type){case"heading":{const y=m.level===1?ko.HEADING_3:m.level===2?ko.HEADING_4:ko.HEADING_5;o.push(new cn({children:r(m.text),heading:y}));break}case"paragraph":{o.push(new cn({children:r(m.text),spacing:{after:120}}));break}case"blockquote":{o.push(new cn({children:r(m.text),style:"IntenseQuote"}));break}case"definition_list":{if(Array.isArray(m.items))for(const y of m.items)o.push(new cn({children:[new zi({text:y.term,bold:!0})]})),o.push(new cn({children:r(y.description),indent:{left:400},spacing:{after:100}}));break}case"list":{if(Array.isArray(m.items))for(const y of m.items)typeof y=="string"&&o.push(new cn({children:r(y),...m.style==="ordered"?{numbering:{reference:"default-numbering",level:0}}:{bullet:{level:0}}}));break}case"image":{if(m.src&&m.src.includes(","))try{const y=m.src.split(",")[1],T=atob(y),S=T.length,E=new Uint8Array(S);for(let R=0;R<S;R++)E[R]=T.charCodeAt(R);o.push(new cn({children:[new E6({data:E,width:500,height:375})],alignment:Sn.CENTER})),m.caption&&o.push(new cn({children:r(m.caption),style:"Caption"}))}catch(y){console.error("Erro ao processar imagem para o docx:",y),o.push(new cn({children:[new zi({text:`[Falha ao carregar imagem: ${m.id}]`,color:"FF0000"})]}))}break}}}}const c=new V3({creator:"AI-Powered Interactive GDD",title:e,numbering:{config:[{reference:"default-numbering",levels:[{level:0,format:"decimal",text:"%1.",alignment:Sn.START}]}]},styles:{paragraphStyles:[{id:"Caption",name:"Caption",basedOn:"Normal",next:"Normal",run:{italics:!0,size:18,color:"808080"},paragraph:{alignment:Sn.CENTER,spacing:{after:200}}},{id:"IntenseQuote",name:"Intense Quote",basedOn:"Normal",next:"Normal",run:{color:"5A5A5A",italics:!0},paragraph:{indent:{left:400},border:{left:{color:"auto",space:4,style:"single",size:6}},spacing:{before:200,after:200}}}],characterStyles:[{id:"LinkStyle",name:"Link Style",basedOn:"Default",run:{color:"0000FF",underline:{type:Sh.SINGLE,color:"0000FF"}}}]},sections:[{children:o}]});return Ox.toBlob(c)},aU=t=>Math.round((t||"").length/3.5),Jv=(t,e)=>{const r=new Map;t.forEach(p=>{p.content.forEach(m=>{m.type==="image"&&m.src&&r.set(m.id,m.src)})});const o=p=>({...p,content:p.content.map(m=>{if(m.type==="image"&&m.id&&!m.src){const y=r.get(m.id);return{...m,src:y||""}}return m})}),s=new Date().toISOString(),c=new Map(t.map(p=>[p.id,p]));e.deletedDocumentIds.forEach(p=>{c.delete(p)}),e.updatedDocuments.forEach(p=>{const m=o(p);c.set(p.id,{...m,lastEdited:s})});const d=e.newDocuments.map(p=>({...o(p),lastEdited:s}));return[...c.values(),...d]},vs=t=>{if(!Array.isArray(t))return[];const e=new Date().toISOString();return t.map(r=>({...r,lastEdited:r.lastEdited||e}))},sU="Kael-is-the-key-to-stop-the-end-of-the-world-prophecy",Fx=new TextEncoder,lU=new TextDecoder,zx=t=>{const e=Fx.encode(sU),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t[o]^e[o%e.length];return r};function uU(t){const e=JSON.stringify(t),r=Fx.encode(e),o=zx(r),s=8192;let c="";for(let d=0;d<o.length;d+=s){const h=o.subarray(d,d+s);c+=String.fromCharCode.apply(null,h)}return btoa(c)}function cU(t){const e=atob(t),r=new Uint8Array(e.length).map((c,d)=>e.charCodeAt(d)),o=zx(r),s=lU.decode(o);return JSON.parse(s)}const Rd=[{id:"1",title:"Princípios de Design de Personagem",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Nosso design de personagem segue uma abordagem de 'realismo estilizado'. As características principais incluem silhuetas exageradas e rostos expressivos. Todos os personagens devem se encaixar na estética definida no [[Guia de Estilo Visual]]. O protagonista principal, Kael, é projetado para ser ágil e misterioso."}]},{id:"2",title:"Guia de Estilo Visual",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O estilo visual do jogo é uma fusão de cyberpunk e mitologia antiga. Usamos uma paleta de cores de alto contraste com detalhes em neon contra ambientes escuros e chuvosos. A inspiração é tirada de filmes clássicos neo-noir. Todos os assets devem seguir estas diretrizes."}]},{id:"3",title:"Loop Principal de Gameplay",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O loop principal é: EXPLORAR, LUTAR, MELHORAR. Os jogadores exploram o mundo para encontrar recursos e missões. Eles se envolvem em nossas [[Mecânicas de Combate]] para superar desafios. Finalmente, eles usam recompensas para melhorar seus equipamentos e habilidades."}]},{id:"4",title:"Mecânicas de Combate",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O combate é um sistema de terceira pessoa em ritmo acelerado, focado em esquivar e contra-atacar. Os jogadores têm um ataque leve, um ataque pesado e habilidades especiais ligadas aos [[Amuletos]] equipados. O gerenciamento de estamina é crucial."}]},{id:"5",title:"Música Tema Principal",category:"Som",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O tema principal é uma peça orquestral com toques eletrônicos, refletindo o cenário do jogo. Deve ser memorável e evoluir durante momentos chave da história, conforme descrito no [[Arco da História Principal]]."}]},{id:"6",title:"Arco da História Principal",category:"História",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"A história segue Kael, um pária que descobre ser a chave para impedir uma profecia de fim do mundo. O arco é dividido em três atos: O Despertar, A Descida e O Acerto de Contas. A jornada de Kael é de autodescoberta e sacrifício."}]},{id:"7",title:"Amuletos",category:"Lógica",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Amuletos são itens mágicos que concedem habilidades especiais. Existem três tipos: Ofensivo, Defensivo e Utilitário. Cada amuleto tem um período de recarga e um custo de energia. Os jogadores podem equipar até dois ao mesmo tempo."}]}],Nd=[{id:"script-1",title:"Ato 1: O Despertar - Missão 1",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Cutscene de Abertura",level:2},{type:"paragraph",text:"A cena começa com Kael acordando em um beco chuvoso, sem memória. Uma figura misteriosa se aproxima e lhe entrega um amuleto brilhante antes de desaparecer nas sombras."},{type:"heading",text:"Objetivos da Missão",level:2},{type:"list",style:"ordered",items:["Siga o rastro da figura misteriosa.","Aprenda a usar as habilidades básicas de combate.","Encontre o primeiro refúgio seguro."]}]},{id:"script-2",title:"Ato 1: O Despertar - Missão 2",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Encontrando o Mentor",level:2},{type:"paragraph",text:"Kael chega ao refúgio e encontra um velho chamado Elara, que explica a importância dos [[Amuletos]] e o perigo que se aproxima. Elara se torna o mentor de Kael."},{type:"heading",text:"Diálogo Chave",level:2},{type:"paragraph",text:'Elara: "Esse amuleto... é parte de você agora. Ele o guiará, mas também o marcará como um alvo. Você deve aprender a controlá-lo antes que eles o encontrem."'}]}],Bo="currentCloudVersionMeta";function fU(){var Ti;const{googleAccessToken:t,authError:e,handleGoogleAuthClick:r}=CI(),[o,s]=Ne.useState(null),[c,d]=Ne.useState(null),[h,p]=Ne.useState(null),[m,y]=Ne.useState(!0),[T,S]=Ne.useState(null),[E,R]=Ne.useState("gdd"),[A,U]=Ne.useState(null),[C,I]=Ne.useState(null),[B,q]=Ne.useState(null),[G,le]=Ne.useState(!1),[ae,ce]=Ne.useState(320),[O,Se]=Ne.useState(!1),[Me,$]=Ne.useState(320),de=Ne.useRef(!1),[P,fe]=Ne.useState(!1),[se,oe]=Ne.useState(!1),[Ie,pe]=Ne.useState(!1),[j,W]=Ne.useState(!1),[F,Q]=Ne.useState(!1),[te,re]=Ne.useState(!1),[Z,k]=Ne.useState(null),[M,ne]=Ne.useState(null),[Y,z]=Ne.useState({isOpen:!1,docId:null,blockIndex:null,itemIndex:void 0,initialText:""}),[K,ge]=Ne.useState({isOpen:!1,targetDoc:null,references:[]}),[D,H]=Ne.useState({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),[N,v]=Ne.useState(null),[w,_]=Ne.useState(!1),[J,ee]=Ne.useState([]),[X,we]=Ne.useState(!1),ke=Ne.useRef(null),[Ee,Be]=Ne.useState(!1),Ge=Ne.useRef(null),[He,nt]=Ne.useState(""),[_t,$t]=Ne.useState(0),[kt,it]=Ne.useState(-1),[Ft,Mt]=Ne.useState(!1),[pt,Kn]=Ne.useState(""),[Qt,Lr]=Ne.useState(""),[di,Jn]=Ne.useState(!1),[rn,Ct]=Ne.useState(null),[sa,Wi]=Ne.useState(!0),[tr,hi]=Ne.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[Cs,la]=Ne.useState(!1),[nr,Jt]=Ne.useState(!1),[Xt,mr]=Ne.useState(null),[ua,As]=Ne.useState(!1),[Au,ca]=Ne.useState(null),[Yn,pi]=Ne.useState(null),[bn,rr]=Ne.useState(""),[mi,gr]=Ne.useState(null),[Lt,Rs]=Ne.useState(window.innerWidth<768),[fa,In]=Ne.useState(!1);Ne.useEffect(()=>{const be=()=>Rs(window.innerWidth<768);return window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]);const mn=Ne.useMemo(()=>E==="gdd"?o||[]:E==="script"?c||[]:E==="secret"?h||[]:[],[E,o,c,h]),gi=Ne.useMemo(()=>E==="gdd"?A:E==="script"?C:E==="secret"?B:null,[E,A,C,B]),Pr=Ne.useMemo(()=>mn.find(be=>be.id===gi)||null,[gi,mn]),Ns=Ne.useMemo(()=>[...new Set(mn.map(be=>be.category))],[mn]),yi=(be,Te)=>{const ze=Te||E;ze==="gdd"&&U(be),ze==="script"&&I(be),ze==="secret"&&q(be),rr("")},Br=Ne.useRef(o),Or=Ne.useRef(c),kn=Ne.useRef(h);Ne.useEffect(()=>{Br.current=o},[o]),Ne.useEffect(()=>{Or.current=c},[c]),Ne.useEffect(()=>{kn.current=h},[h]),Ne.useEffect(()=>{async function be(){try{let Te=await xI(),ze=await SI(),Oe=await bI();Te||(Te=Rd),ze||(ze=Nd),Oe||(Oe=[]),s(vs(Te)),d(vs(ze)),p(vs(Oe)),Te.length>0&&U(Te[0].id),ze.length>0&&I(ze[0].id),Oe.length>0&&q(Oe[0].id)}catch(Te){console.error("Falha ao carregar documentos da persistência",Te),S("Não foi possível carregar os dados salvos."),s(vs(Rd)),d(vs(Nd)),p([])}finally{y(!1)}}be()},[]),Ne.useEffect(()=>{o&&!m&&TI(o)},[o,m]),Ne.useEffect(()=>{c&&!m&&EI(c)},[c,m]),Ne.useEffect(()=>{h&&!m&&_I(h)},[h,m]),Ne.useEffect(()=>{if(!m){const be=localStorage.getItem("cloudSyncUrl"),Te=localStorage.getItem("cloudSyncKey");be&&Te?(Kn(be),Lr(Te)):(Wi(!1),Mt(!0))}},[m]),Ne.useEffect(()=>{!m&&!Ft&&(async()=>{if(!pt||!Qt)return;const Te=localStorage.getItem(Bo);if(Te)try{const ze=JSON.parse(Te),Oe=await k0(pt,Qt);Oe&&Oe.id!==ze.id&&new Date(Oe.timestamp)>new Date(ze.timestamp)&&pi(Oe)}catch(ze){console.error("Failed to check for new versions:",ze)}})()},[pt,Qt,m,Ft]),Ne.useEffect(()=>{const be=ze=>{if(!de.current)return;const Oe=Math.max(240,Math.min(ze.clientX,600));ce(Oe)},Te=()=>{de.current=!1,document.body.style.cursor="auto",document.body.style.userSelect="auto"};return window.addEventListener("mousemove",be),window.addEventListener("mouseup",Te),()=>{window.removeEventListener("mousemove",be),window.removeEventListener("mouseup",Te)}},[]),Ne.useEffect(()=>{const be=Te=>{Ge.current&&!Ge.current.contains(Te.target)&&Be(!1)};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[]),Ne.useEffect(()=>{nt(""),$t(0),it(-1)},[Pr==null?void 0:Pr.id]);const da=be=>{O||(be.preventDefault(),de.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none")},Ds=()=>{Se(be=>{const Te=!be;return Te?($(ae),ce(0)):ce(Me),Te})};Ne.useEffect(()=>{T&&v(T)},[T]),Ne.useEffect(()=>{e&&v(e)},[e]);const Fr=be=>{nt(be),it(be.trim()?0:-1)},ha=()=>{_t>0&&it(be=>(be-1+_t)%_t)},pa=()=>{_t>0&&it(be=>(be+1)%_t)},Ru=Ne.useMemo(()=>{if(!bn.trim())return[];const be=[],Te=bn.trim().toLowerCase(),ze=[...(o||[]).map(Re=>({...Re,viewMode:"gdd"})),...(c||[]).map(Re=>({...Re,viewMode:"script"}))],Oe=Re=>{const Pe=Re.toLowerCase().indexOf(Te);if(Pe===-1)return null;const Ve=Math.max(0,Pe-40),qe=Math.min(Re.length,Pe+Te.length+40),$e=(Ve>0?"...":"")+Re.substring(Ve,qe)+(qe<Re.length?"...":""),Ze=new RegExp(`(${bn.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi"),tt=$e.split(Ze);return ws.createElement(ws.Fragment,null,...tt.map((yt,zt)=>zt%2===1?ws.createElement("mark",{key:zt,className:"bg-yellow-400 text-black px-0.5 rounded-sm"},yt):yt))};return ze.forEach(Re=>{const Pe=new Set;if(Re.title.toLowerCase().includes(Te)){const Ve=Oe(Re.title);Ve&&Pe.add(Ve)}Re.content.forEach(Ve=>{let qe=[];(Ve.type==="heading"||Ve.type==="paragraph")&&Ve.text?qe.push(Ve.text):Ve.type==="list"&&Ve.items?qe.push(...Ve.items.filter(Boolean)):Ve.type==="image"&&Ve.caption&&qe.push(Ve.caption),qe.forEach($e=>{if($e.toLowerCase().includes(Te)){const Ze=Oe($e);Ze&&Pe.add(Ze)}})}),Pe.size>0&&be.push({docId:Re.id,docTitle:Re.title,category:Re.category,viewMode:Re.viewMode,snippets:Array.from(Pe)})}),be},[bn,o,c]),Ms=(be,Te)=>{nt(bn),R(Te),Te==="gdd"?U(be):I(be),rr("")},gn=async(be,Te)=>{if(!pt||!Qt||Te==="secret"){console.log("Cloud sync not configured or in secret mode, skipping automatic save.");return}const ze=Te==="gdd"?be:Br.current,Oe=Te==="script"?be:Or.current;if(!ze||!Oe){console.warn("Skipping auto-save because one of the document sets is not available.");return}Ct("Salvando backup automático na nuvem...");try{const Pe=await M0(pt,Qt,{gdd:ze,script:Oe},kn.current,{type:"automatic"});localStorage.setItem(Bo,JSON.stringify(Pe)),Ct("Backup automático salvo com sucesso!"),(async()=>{try{const Ve=await Po(ze,"GDD"),qe=await Po(Oe,"Roteiro");await U0(pt,Qt,Ve,qe),console.log("Backup automático de .docx em segundo plano concluído.")}catch(Ve){console.error("Falha ao gerar ou enviar o backup automático de .docx:",Ve)}})()}catch(Re){const Pe=Re instanceof Error?`Falha no backup automático: ${Re.message}`:"Falha no backup automático.";Ct(Pe),console.error(Pe,Re)}finally{setTimeout(()=>{Ct(Re=>Re!=null&&Re.includes("backup")?null:Re)},5e3)}},Is=async(be,Te)=>{fe(!1),v(null);const ze=E==="gdd"?"GDD":E==="script"?"Roteiro":"Secreta";H({isLoading:!0,message:"A IA está analisando sua ideia...",currentTokens:0,estimatedTokens:Te.maxOutputTokens});const Oe=Pe=>{H(Ve=>({...Ve,currentTokens:Pe}))},Re=Pe=>{H(Ve=>({...Ve,message:Pe}))};try{let Pe,Ve;if(E==="secret"){const tt=await uI(be,h||[],o||[],c||[],Oe,Re,Te);Pe=tt.payload,Ve=tt.rawJson}else if(E==="script"){const tt=await lI(be,c||[],o||[],Oe,Re,Te);Pe=tt.payload,Ve=tt.rawJson}else{const yt=await sI(be,o||[],ze,Oe,Re,Te);Pe=yt.payload,Ve=yt.rawJson}ne({...Pe,rawJson:Ve}),H(tt=>({...tt,message:`Integrando sugestão da IA: ${Pe.summary}`}));const qe=E==="gdd"?s:E==="script"?d:p;let $e=[];qe(tt=>($e=Jv(tt||[],Pe),$e)),E!=="secret"&&gn($e,E);const Ze=Pe.newDocuments;Ze.length>0?yi(Ze[0].id):setTimeout(()=>{!$e.some(yt=>yt.id===gi)&&$e.length>0&&yi($e[0].id)},0)}catch(Pe){console.error(Pe),v(Pe instanceof Error?Pe.message:"Ocorreu um erro desconhecido.")}finally{setTimeout(()=>H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},Nu=async(be,Te)=>{if(oe(!1),v(null),E==="secret")return;const ze=(E==="gdd"?o:c)||[],Oe=E==="gdd"?s:d,Re=E==="gdd"?"GDD":"Roteiro";H({isLoading:!0,message:"A IA está reestruturando os documentos...",currentTokens:0,estimatedTokens:Te.maxOutputTokens});const Pe=qe=>{H($e=>({...$e,currentTokens:qe}))},Ve=qe=>{H($e=>({...$e,message:qe}))};try{const{payload:qe,rawJson:$e}=await fI(be,ze,Re,Pe,Ve,Te);ne({...qe,rawJson:$e});let Ze=[];Oe(tt=>(Ze=Jv(tt||[],qe),Ze)),gn(Ze,E),H(tt=>({...tt,message:qe.summary||"Documentos atualizados com sucesso!"})),setTimeout(()=>{!Ze.some(yt=>yt.id===gi)&&Ze.length>0&&yi(Ze[0].id)},0)}catch(qe){console.error(qe),v(qe instanceof Error?qe.message:`Ocorreu um erro desconhecido durante a atualização global do ${Re}.`)}finally{setTimeout(()=>H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1e3)}},$i=()=>{v(null);try{const Te=uU({gdd:o,script:c}),ze=new Blob([Te],{type:"text/plain"}),Oe=URL.createObjectURL(ze),Re=document.createElement("a");Re.href=Oe,Re.download="gdd-e-roteiro-data.json",document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(Oe)}catch(be){console.error("Falha ao fazer o download dos dados",be),v(be instanceof Error?be.message:"Falha ao fazer o download dos dados.")}},Xi=be=>{try{let Te;try{Te=JSON.parse(be)}catch(Oe){try{Te=cU(be)}catch(Re){throw console.error("Falha na descriptografia e na análise JSON:",{jsonError:Oe,decryptError:Re}),new Error("Formato de arquivo inválido. O arquivo deve ser um JSON válido ou um arquivo criptografado válido deste aplicativo.")}}const ze=Oe=>Array.isArray(Oe)&&Oe.every(Re=>Re&&typeof Re=="object"&&"id"in Re&&"title"in Re&&"category"in Re&&"content"in Re);if(localStorage.removeItem(Bo),Te&&typeof Te=="object"&&"gdd"in Te&&"script"in Te&&!Array.isArray(Te)){if(!ze(Te.gdd)||!ze(Te.script))throw new Error("Formato de arquivo inválido. O arquivo combinado deve conter arrays de documentos válidos para GDD e Roteiro.");s(Te.gdd),d(Te.script)}else if(ze(Te))s(Te);else throw new Error("Formato de arquivo desconhecido ou inválido. O arquivo deve conter um GDD e Roteiro combinados ou apenas um GDD antigo.")}catch(Te){console.error("Falha ao analisar o arquivo carregado",Te),v(Te instanceof Error?Te.message:"Falha ao processar o arquivo. Certifique-se de que é um arquivo JSON válido ou um arquivo criptografado válido deste aplicativo.")}finally{H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},ji=()=>{Q(!1),v(null);const be=document.createElement("input");be.type="file",be.accept="application/json,.json,text/plain",be.onchange=Te=>{var Pe;const Oe=(Pe=Te.target.files)==null?void 0:Pe[0];if(!Oe)return;H({isLoading:!0,message:"Processando arquivo...",currentTokens:0,estimatedTokens:0});const Re=new FileReader;Re.onload=Ve=>{var $e;const qe=($e=Ve.target)==null?void 0:$e.result;typeof qe=="string"&&Xi(qe)},Re.onerror=()=>{v("Falha ao ler o arquivo."),H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},Re.readAsText(Oe)},be.click()},Du=async be=>{Q(!1),v(null);const Te=be.match(/file\/d\/([a-zA-Z0-9_-]+)/);if(!Te||!Te[1]){v("URL do Google Drive inválida. Certifique-se de que é um link de compartilhamento de arquivo.");return}const ze=Te[1];H({isLoading:!0,message:"Baixando arquivo do Google Drive...",currentTokens:0,estimatedTokens:0});try{const Oe=`https://www.googleapis.com/drive/v3/files/${ze}?alt=media&key=PLACEHOLDER_API_KEY`,Re=await fetch(Oe);if(Re.ok){const qe=await Re.text();H($e=>({...$e,message:"Processando arquivo público..."})),Xi(qe);return}if(!t)throw new Error("Não foi possível buscar o arquivo público. Se for um arquivo privado, por favor, conecte sua conta do Google primeiro.");H(qe=>({...qe,message:"Tentando acesso privado..."}));const Pe=await fetch(`https://www.googleapis.com/drive/v3/files/${ze}?alt=media`,{headers:{Authorization:`Bearer ${t}`}});if(!Pe.ok)throw Pe.status===401?new Error("Não autorizado. Sua sessão do Google pode ter expirado. Por favor, conecte-se novamente."):new Error(`Falha ao buscar o arquivo do Google Drive: ${Pe.statusText}`);const Ve=await Pe.text();H(qe=>({...qe,message:"Processando arquivo privado..."})),Xi(Ve)}catch(Oe){console.error("Falha ao carregar do Google Drive",Oe),v(Oe instanceof Error?Oe.message:"Ocorreu um erro desconhecido ao carregar do Google Drive."),H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},vn=async()=>{v(null),H({isLoading:!0,message:"Gerando arquivos .docx...",currentTokens:0,estimatedTokens:0});try{const be=(Oe,Re)=>{const Pe=URL.createObjectURL(Oe),Ve=document.createElement("a");Ve.href=Pe,Ve.download=Re,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),URL.revokeObjectURL(Pe)},Te=await Po(o,"GDD");Te&&be(Te,"GDD.docx"),await new Promise(Oe=>setTimeout(Oe,200));const ze=await Po(c,"Roteiro");ze&&be(ze,"Roteiro.docx"),H(Oe=>({...Oe,message:"Documentos gerados com sucesso!"}))}catch(be){console.error("Falha ao gerar documentos",be),v(be instanceof Error?be.message:"Falha ao gerar os documentos.")}finally{setTimeout(()=>{H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},1500)}},ma=(be,Te,ze,Oe)=>{z({isOpen:!0,docId:be,blockIndex:Te,initialText:ze,itemIndex:Oe})},ks=async(be,Te)=>{const{docId:ze,blockIndex:Oe,itemIndex:Re,initialText:Pe}=Y;if(ze===null||Oe===null||!Pe)return;z({...Y,isOpen:!1}),v(null);const Ve=Math.round(aU(Pe)*1.5);H({isLoading:!0,message:"A IA está aprimorando o texto...",currentTokens:0,estimatedTokens:Ve});const qe=$e=>{H(Ze=>({...Ze,currentTokens:$e}))};try{const tt=await cI(Pe,be,Te?(E==="gdd"?o:E==="script"?c:h)||[]:void 0,qe);yr(ze,Oe,tt,Re)}catch($e){console.error("Falha ao aprimorar o texto",$e),v($e instanceof Error?$e.message:"Falha ao aprimorar o texto.")}finally{H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},Zi=be=>{const Te=[...o||[],...c||[],...h||[]],ze=Te.find(Ve=>Ve.id===be);if(!ze)return;const Oe=[],Re=new RegExp(`(\\[\\[${ze.title.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\])`),Pe=Ve=>Ve.split(Re).map((qe,$e)=>Re.test(qe)?b.jsx("strong",{className:"bg-yellow-400/30 text-yellow-200",children:qe},$e):qe);Te.forEach(Ve=>{Ve.id!==ze.id&&Ve.content.forEach(qe=>{let $e=[];(qe.type==="heading"||qe.type==="paragraph"||qe.type==="blockquote")&&qe.text?$e.push(qe.text):qe.type==="list"&&qe.items?$e.push(...qe.items.filter(Boolean)):qe.type==="image"&&qe.caption&&$e.push(qe.caption),$e.forEach(Ze=>{Re.test(Ze)&&Oe.push({docId:Ve.id,docTitle:Ve.title,category:Ve.category,snippet:b.jsx(b.Fragment,{children:Pe(Ze)})})})})}),ge({isOpen:!0,targetDoc:ze,references:Oe})},zr=()=>{ge({isOpen:!1,targetDoc:null,references:[]})},Us=()=>{_(be=>!be)},Ls=()=>{ee([]),ke.current=null},Vr=async be=>{if(!o||!c)return;const Te={role:"user",text:be};ee(ze=>[...ze,Te]),we(!0);try{ke.current||(ke.current=dI(o,c));const Oe={role:"model",text:(await ke.current.sendMessage({message:be})).text};ee(Re=>[...Re,Oe])}catch(ze){console.error("Erro na consulta avançada do chat:",ze);const Oe={role:"model",text:"Desculpe, ocorreu um erro ao processar sua pergunta. Por favor, tente novamente."};ee(Re=>[...Re,Oe])}finally{we(!1)}},Mu=(be,Te)=>{k({docId:be,insertionIndex:Te}),W(!0)},Ps=async be=>{if(!Z)return;const{docId:Te,insertionIndex:ze}=Z,Re=mn.find(Pe=>Pe.id===Te);if(!Re){v("Documento alvo para geração de imagem não encontrado.");return}W(!1),v(null);try{H({isLoading:!0,message:"A IA está criando um prompt de imagem detalhado...",currentTokens:0,estimatedTokens:0});const Pe=await hI(Re,ze,[...o||[],...c||[]],be);H(tt=>({...tt,message:"A IA está gerando a imagem..."}));const{base64:Ve,mimeType:qe}=await pI(Pe),$e={type:"image",id:`img-ai-${Date.now()}`,src:`data:${qe};base64,${Ve}`,caption:Pe},Ze=[...Re.content];Ze.splice(ze,0,$e),va(Te,Ze),H(tt=>({...tt,message:"Imagem gerada e inserida com sucesso!"}))}catch(Pe){console.error("Falha ao gerar a imagem com IA",Pe),v(Pe instanceof Error?Pe.message:"Ocorreu um erro desconhecido durante a geração da imagem.")}finally{k(null),setTimeout(()=>H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},Bs=async(be,Te)=>{Kn(be),Lr(Te),localStorage.setItem("cloudSyncUrl",be),localStorage.setItem("cloudSyncKey",Te);const ze=!sa;if(Ct("Configurações salvas com sucesso!"),ze){Mt(!1),Wi(!0);const Oe=JSON.stringify(Br.current)===JSON.stringify(Rd),Re=JSON.stringify(Or.current)===JSON.stringify(Nd);if(Oe&&Re){H({isLoading:!0,message:"Buscando a versão mais recente da nuvem...",currentTokens:0,estimatedTokens:0});try{const Pe=await k0(be,Te);if(Pe){H(qe=>({...qe,message:"Baixando a versão mais recente..."}));const Ve=await I0(be,Te,Pe.id);s(Ve.gdd),d(Ve.script),localStorage.setItem(Bo,JSON.stringify(Pe)),H(qe=>({...qe,message:"Versão mais recente carregada com sucesso!"}))}else H(Ve=>({...Ve,message:"Nenhuma versão encontrada na nuvem. Mantendo documentos padrão."}))}catch(Pe){console.error("Falha ao buscar automaticamente a versão mais recente:",Pe);const Ve=Pe instanceof Error?Pe.message:"Não foi possível carregar a versão mais recente da nuvem.";v(Ve),Ct(`Erro ao carregar da nuvem: ${Ve}`)}finally{setTimeout(()=>H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),2e3)}}}setTimeout(()=>Ct(null),5e3)},ga=()=>{if(!pt||!Qt){Ct("Erro: URL do Worker ou Chave não configurada."),setTimeout(()=>Ct(null),5e3);return}la(!0)},Iu=async be=>{Jn(!0),Ct("Enviando versão para a nuvem..."),la(!1);try{const Te=o||[],ze=c||[],Pe=await M0(pt,Qt,{gdd:Te,script:ze},h,{type:"manual",name:be});Ct(`Versão "${Pe.name}" salva com sucesso!`),localStorage.setItem(Bo,JSON.stringify(Pe)),(async()=>{try{const Ve=await Po(Te,"GDD"),qe=await Po(ze,"Roteiro");await U0(pt,Qt,Ve,qe),console.log("Backup .docx em segundo plano concluído.")}catch(Ve){console.error("Falha ao gerar ou enviar o backup .docx:",Ve)}})()}catch(Te){Ct(Te instanceof Error?`Erro no upload: ${Te.message}`:"Erro desconhecido no upload.")}finally{Jn(!1),setTimeout(()=>Ct(null),5e3)}},ku=async()=>{if(!pt||!Qt){Ct("Erro: URL do Worker ou Chave não configurada."),setTimeout(()=>Ct(null),5e3);return}As(!0),ca(null),mr(null),Jt(!0);try{const be=await gI(pt,Qt);be.manual.sort((Te,ze)=>new Date(ze.timestamp).getTime()-new Date(Te.timestamp).getTime()),be.automatic.sort((Te,ze)=>new Date(ze.timestamp).getTime()-new Date(Te.timestamp).getTime()),mr(be)}catch(be){ca(be instanceof Error?be.message:"Erro desconhecido ao buscar versões.")}finally{As(!1)}},vi=(be,Te)=>{hi({isOpen:!0,title:"Confirmar Carregamento de Versão",message:"Isso substituirá seus documentos locais (GDD e Roteiro). Se você usar a chave de Administrador, os documentos secretos também serão substituídos. Deseja continuar?",onConfirm:async()=>{Jt(!1),Jn(!0),Ct("Baixando versão da nuvem...");try{const Oe=await I0(pt,Qt,be);Ct("Dados recebidos. Atualizando documentos..."),s(Oe.gdd),d(Oe.script),Oe.secret&&Array.isArray(Oe.secret)&&(p(Oe.secret),le(!0),console.log("Documentos secretos carregados e categoria desbloqueada."));let Re=Te;!Re&&Xt&&(Re=[...Xt.manual,...Xt.automatic].find(Ve=>Ve.id===be)),Re&&localStorage.setItem(Bo,JSON.stringify(Re)),Ct("Dados carregados da nuvem com sucesso!")}catch(Oe){Ct(Oe instanceof Error?`Erro no download: ${Oe.message}`:"Erro desconhecido no download.")}finally{Jn(!1),setTimeout(()=>Ct(null),5e3)}}})},ya=Ne.useMemo(()=>{const be=Te=>Te?Te.trim().split(/\s+/).filter(Boolean).length:0;return mn.reduce((Te,ze)=>{let Oe=be(ze.title);return Array.isArray(ze.content)&&ze.content.forEach(Re=>{Re.type==="heading"||Re.type==="paragraph"?Oe+=be(Re.text):Re.type==="list"&&Array.isArray(Re.items)?Re.items.forEach(Pe=>Oe+=be(Pe)):Re.type==="image"&&(Oe+=be(Re.caption))}),Te+Oe},0)},[mn]),Qi=(be,Te)=>{const ze=(o||[]).some(Pe=>Pe.id===be),Oe=(c||[]).some(Pe=>Pe.id===be),Re=(h||[]).some(Pe=>Pe.id===be);ze?R("gdd"):Oe?R("script"):Re&&G&&R("secret"),yi(be),gr(Te||null)},Gr=()=>gr(null),yr=(be,Te,ze,Oe)=>{const Re=E==="gdd"?s:E==="script"?d:p,Pe=new Date().toISOString();Re(Ve=>(Ve||[]).map(qe=>{if(qe.id!==be)return qe;const $e=[...qe.content],Ze={...$e[Te]};if(Ze.type==="list"&&Oe!==void 0&&Array.isArray(Ze.items)){const tt=[...Ze.items];tt[Oe]=ze,Ze.items=tt}else Ze.type==="heading"||Ze.type==="paragraph"||Ze.type==="blockquote"?Ze.text=ze:Ze.type==="image"&&Oe===void 0&&(Ze.caption=ze);return $e[Te]=Ze,{...qe,content:$e,lastEdited:Pe}}))},va=(be,Te)=>{const ze=E==="gdd"?s:E==="script"?d:p,Oe=new Date().toISOString();ze(Re=>(Re||[]).map(Pe=>Pe.id===be?{...Pe,content:Te,lastEdited:Oe}:Pe))},wa=(be,Te,ze)=>{const Oe=E==="gdd"?s:E==="script"?d:p,Re=new Date().toISOString();Oe(Pe=>(Pe||[]).map(Ve=>{if(Ve.id!==be)return Ve;const qe=[...Ve.content],$e=qe[Te];return $e?(qe[Te]={...$e,...ze},{...Ve,content:qe,lastEdited:Re}):Ve}))},Os=(be,Te)=>{if(!Te||Te.trim()===""||be===Te)return;const ze=E==="gdd"?s:E==="script"?d:p,Oe=new Date().toISOString();ze(Re=>(Re||[]).map(Pe=>Pe.category===be?{...Pe,category:Te,lastEdited:Oe}:Pe))},wi=(be,Te)=>{if(!Te||Te.trim()==="")return;const ze=E==="gdd"?s:E==="script"?d:p,Oe=new Date().toISOString();ze(Re=>{var Ze;const Pe=Re||[],Ve=(Ze=Pe.find(tt=>tt.id===be))==null?void 0:Ze.title;if(!Ve||Ve===Te)return Pe;const qe=new RegExp(`\\[\\[${Ve.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\]`,"gi"),$e=`[[${Te}]]`;return Pe.map(tt=>{let yt=!1,zt={...tt};tt.id===be&&(zt.title=Te,yt=!0);const to=zt.content.map(Un=>{var Fs;if((Un.type==="heading"||Un.type==="paragraph")&&((Fs=Un.text)!=null&&Fs.match(qe)))return yt=!0,{...Un,text:Un.text.replace(qe,$e)};if(Un.type==="list"&&Array.isArray(Un.items)){let zs=!1;const Ta=Un.items.map(Si=>Si!=null&&Si.match(qe)?(zs=!0,Si.replace(qe,$e)):Si);if(zs)return yt=!0,{...Un,items:Ta}}return Un});return yt&&(zt.lastEdited=Oe),{...zt,content:to}})})},Wn=(be,Te)=>{(E==="gdd"?s:E==="script"?d:p)(Oe=>{const Re=Oe||[],Pe=Re.findIndex(yt=>yt.id===be),Ve=Re.findIndex(yt=>yt.id===Te);if(Pe===-1||Ve===-1)return Re;const qe=Re[Pe],$e=Re[Ve];if(qe.category!==$e.category)return Re;const Ze=[...Re];Ze.splice(Pe,1);const tt=Ze.findIndex(yt=>yt.id===Te);return Ze.splice(tt,0,qe),Ze})},xa=(be,Te)=>{(E==="gdd"?s:E==="script"?d:p)(Oe=>{const Re=Oe||[],Pe=[...new Set(Re.map(zt=>zt.category))],Ve=Pe.indexOf(be),qe=Pe.indexOf(Te);if(Ve===-1||qe===-1)return Re;const $e=[...Pe],[Ze]=$e.splice(Ve,1);$e.splice(qe,0,Ze);const tt=new Map;Re.forEach(zt=>{tt.has(zt.category)||tt.set(zt.category,[]),tt.get(zt.category).push(zt)});const yt=[];return $e.forEach(zt=>{const to=tt.get(zt)||[];yt.push(...to)}),yt})},xi=async be=>{if(!pt)return v("A URL de sincronização na nuvem não está configurada. Não é possível verificar a chave."),!1;H({isLoading:!0,message:"Verificando chave de administrador...",currentTokens:0,estimatedTokens:0});try{return await yI(pt,be)?(be!==Qt&&(Lr(be),localStorage.setItem("cloudSyncKey",be)),le(!0),re(!1),R("secret"),!0):!1}catch(Te){return v(Te instanceof Error?Te.message:"Ocorreu um erro desconhecido durante a verificação da chave."),!1}finally{H({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},ir=rn&&(rn.toLowerCase().includes("erro")||rn.toLowerCase().includes("falha")),eo={title:E==="gdd"?"GDD Explorer":E==="script"?"Roteiro Explorer":"Documentos Secretos",documents:mn,categories:Ns,activeDocumentId:gi,onUpdateCategoryName:Os,onUpdateDocumentTitle:wi,onReorderDocuments:Wn,onReorderCategories:xa,onFindReferences:Zi,totalWordCount:ya,searchQuery:bn,onSearchChange:rr,searchResults:Ru,onSelectDocument:(be,Te)=>{yi(be,Te),Lt&&In(!1)},onSelectSearchResult:(be,Te)=>{Ms(be,Te),Lt&&In(!1)}};return b.jsxs("div",{className:"flex h-screen font-sans relative",children:[(D.isLoading||m)&&b.jsx(v1,{message:m?"Carregando banco de dados...":D.message,currentTokens:D.currentTokens,estimatedTokens:D.estimatedTokens}),b.jsx("div",{className:`md:hidden fixed top-0 left-0 h-full z-50 transition-transform duration-300 ease-in-out ${fa?"translate-x-0":"-translate-x-full"}`,children:b.jsx(ny,{width:Math.min(320,window.innerWidth*.85),...eo})}),Lt&&fa&&b.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden animate-fade-in",onClick:()=>In(!1)}),b.jsx("div",{className:"hidden md:flex h-full flex-shrink-0",children:b.jsx(ny,{width:ae,...eo})}),b.jsx("div",{className:"hidden md:block",children:!O&&b.jsx("div",{onMouseDown:da,className:"w-1.5 h-full flex-shrink-0 bg-gray-700 hover:bg-indigo-500 transition-colors duration-200",style:{cursor:"col-resize"}})}),b.jsx("button",{onClick:Ds,className:"absolute top-1/2 -translate-y-1/2 bg-gray-800 hover:bg-indigo-600 border border-gray-700 text-white rounded-full p-1 z-30 transition-all duration-200 shadow-lg hidden md:block",style:{left:O?"8px":`${ae-16}px`},title:O?"Expandir":"Recolher","aria-label":O?"Expandir painel lateral":"Recolher painel lateral",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${O?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),b.jsxs("main",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto min-w-0",children:[b.jsxs("header",{className:"sticky top-0 z-30 flex items-center justify-between p-4 bg-gray-900/80 backdrop-blur-sm border-b border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 flex-shrink-0",children:[b.jsx("button",{onClick:()=>In(!0),className:"p-1 rounded-full text-gray-300 hover:bg-gray-700 md:hidden","aria-label":"Abrir menu lateral",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),b.jsxs("div",{className:"bg-gray-800 p-1 rounded-lg flex items-center",children:[b.jsx("button",{onClick:()=>R("gdd"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${E==="gdd"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"GDD"}),b.jsx("button",{onClick:()=>R("script"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${E==="script"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"Roteiro"}),G&&b.jsxs("button",{onClick:()=>R("secret"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors flex items-center ${E==="secret"?"bg-red-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[b.jsx(Dd,{})," ",b.jsx("span",{className:"ml-1.5",children:"Secreta"})]})]}),b.jsx("div",{className:"h-6 w-px bg-gray-700 hidden md:block"}),b.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[b.jsxs("button",{onClick:()=>{fe(!0)},className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md shadow-sm",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),b.jsx("span",{className:"ml-2 hidden lg:inline",children:"Integrar Ideia"})]}),b.jsxs("button",{onClick:()=>{oe(!0)},className:"flex items-center px-4 py-2 text-sm text-gray-200 bg-gray-700 hover:bg-gray-600 transition-colors rounded-md shadow-sm disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed",title:`Atualizar todo o ${E.toUpperCase()} com uma instrução`,disabled:E==="secret",children:[b.jsx(ry,{}),b.jsx("span",{className:"ml-2 hidden lg:inline",children:"Atualização Global"})]})]})]}),b.jsx("div",{className:"flex-grow flex justify-center px-2 md:px-4",children:Pr&&b.jsxs("div",{className:"relative w-full max-w-lg",children:[b.jsx("input",{type:"text",value:He,onChange:be=>Fr(be.target.value),placeholder:"Pesquisar neste documento...",className:"w-full bg-gray-800 border border-gray-600 rounded-full py-2 pl-4 pr-32 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),He&&b.jsxs("div",{className:"absolute inset-y-0 right-2 flex items-center space-x-1 text-gray-400",children:[b.jsx("span",{className:"text-xs px-2",children:_t>0?`${kt+1} de ${_t}`:"0/0"}),b.jsx("button",{onClick:ha,disabled:_t===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:b.jsx(s1,{})}),b.jsx("button",{onClick:pa,disabled:_t===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:b.jsx(l1,{})})]})]})}),b.jsxs("div",{className:"relative flex-shrink-0",ref:Ge,children:[b.jsx("button",{onClick:()=>Be(be=>!be),className:"p-2 rounded-full hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500","aria-haspopup":"true","aria-expanded":Ee,title:"Menu de Ações",children:b.jsx(t1,{})}),Ee&&b.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700 rounded-lg shadow-2xl p-2 z-50 animate-dropdown",children:[b.jsxs("div",{className:"md:hidden border-b border-gray-600 my-1",children:[b.jsxs("button",{onClick:()=>{fe(!0),Be(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),b.jsx("span",{className:"ml-3",children:"Integrar Ideia"})]}),b.jsxs("button",{onClick:()=>{oe(!0),Be(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent",disabled:E==="secret",children:[b.jsx(ry,{}),b.jsx("span",{className:"ml-3",children:"Atualização Global"})]})]}),b.jsxs("button",{onClick:()=>{Q(!0),Be(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Carregar GDD e Roteiro",children:[b.jsx(Wv,{}),b.jsx("span",{className:"ml-3",children:"Carregar GDD & Roteiro"})]}),b.jsxs("button",{onClick:()=>{$i(),Be(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Salvar GDD e Roteiro no computador",children:[b.jsx(ZS,{}),b.jsx("span",{className:"ml-3",children:"Salvar GDD & Roteiro"})]}),b.jsxs("button",{onClick:()=>{vn(),Be(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Gerar e baixar o documento completo",children:[b.jsx(QS,{}),b.jsx("span",{className:"ml-3",children:"Gerar Documentos .docx"})]}),b.jsx("hr",{className:"border-gray-600 my-1"}),b.jsxs("button",{onClick:()=>{Wi(!0),Mt(!0),Be(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Configurar e usar a sincronização na nuvem",children:[b.jsx(Qd,{}),b.jsx("span",{className:"ml-3",children:"Sincronização na Nuvem"})]}),b.jsxs("button",{onClick:()=>{r(),Be(!1)},disabled:!!t,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:t?"Conectado ao Google Drive":"Conectar ao Google Drive para salvar backups",children:[b.jsx($v,{}),b.jsx("span",{className:"ml-3",children:t?"Conectado ao Google Drive":"Conectar ao Google Drive"})]}),b.jsx("hr",{className:"border-gray-600 my-1"}),b.jsxs("button",{onClick:()=>{re(!0),Be(!1)},disabled:!pt,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:"Acessar documentos estratégicos e secretos",children:[b.jsx(Dd,{}),b.jsx("span",{className:"ml-3",children:"Acessar Categoria Secreta"})]}),b.jsxs("button",{onClick:()=>{pe(!0),Be(!1)},disabled:!M,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:"Ver o processo de raciocínio da última ação da IA",children:[b.jsx(e1,{}),b.jsx("span",{className:"ml-3",children:"Ver Raciocínio da IA"})]})]})]})]}),N&&b.jsxs("div",{className:"m-4 p-4 bg-red-800/50 border border-red-600 text-red-200 rounded-md relative animate-fade-in",children:[b.jsx("h3",{className:"font-bold",children:"Ocorreu um Erro"}),b.jsx("p",{children:N}),b.jsx("button",{onClick:()=>v(null),className:"absolute top-2 right-2 text-red-200 hover:text-white p-1",children:"×"})]}),b.jsx(h1,{document:Pr,allDocuments:[...o||[],...c||[],...h||[]],onNavigate:Qi,onRefineRequest:ma,onFindReferences:Zi,onUpdateBlock:yr,onUpdateBlockContent:wa,onSetContent:va,scrollToHeading:mi,onDidScrollToHeading:Gr,onOpenImageGenerationModal:Mu,docSearchQuery:He,docSearchCurrentIndex:kt,onDocSearchResultsChange:$t})]}),rn&&b.jsx("div",{className:`fixed bottom-6 right-6 z-50 p-3 rounded-lg shadow-lg text-sm font-semibold transition-all duration-300 animate-fade-in ${ir?"bg-red-600 text-white":"bg-gray-700 text-gray-200"}`,children:rn}),b.jsx(p1,{isOpen:P,onClose:()=>fe(!1),onSubmit:Is,contextType:E==="gdd"?"GDD":E==="script"?"Roteiro":"Secreta"}),b.jsx(y1,{isOpen:se,onClose:()=>oe(!1),onSubmit:Nu,contextType:E==="gdd"?"GDD":"Roteiro"}),b.jsx(C1,{isOpen:j,onClose:()=>W(!1),onSubmit:Ps}),b.jsx(A1,{isOpen:F,onClose:()=>Q(!1),onUploadLocal:ji,onUploadFromUrl:Du,isGoogleAuth:!!t,onGoogleAuthClick:()=>{r()}}),b.jsx(g1,{isOpen:Y.isOpen,onClose:()=>z({...Y,isOpen:!1}),onSubmit:ks,initialText:Y.initialText,contextType:E==="gdd"?"GDD":"Roteiro"}),b.jsx(x1,{isOpen:K.isOpen,onClose:zr,targetDocTitle:((Ti=K.targetDoc)==null?void 0:Ti.title)||"",references:K.references,onNavigate:Qi}),b.jsx(_1,{isOpen:Ie,onClose:()=>pe(!1),insight:M}),b.jsx(R1,{isOpen:Ft,onClose:()=>Mt(!1),isClosable:sa,initialUrl:pt,initialKey:Qt,onSaveSettings:Bs,onUploadClick:ga,onDownloadClick:ku,isSyncing:di}),b.jsx(D1,{isOpen:Cs,onClose:()=>la(!1),onSave:Iu,isSaving:di}),b.jsx(I1,{isOpen:nr,onClose:()=>Jt(!1),onLoadVersion:vi,versions:Xt,isLoading:ua,error:Au}),b.jsx(N1,{isOpen:tr.isOpen,onClose:()=>hi({...tr,isOpen:!1}),onConfirm:()=>{tr.onConfirm(),hi({...tr,isOpen:!1})},title:tr.title,message:tr.message}),b.jsx(U1,{isOpen:!!Yn,onClose:()=>pi(null),onConfirm:()=>{Yn&&vi(Yn.id,Yn),pi(null)},latestVersion:Yn}),b.jsx(L1,{isOpen:te,onClose:()=>re(!1),onUnlock:xi}),b.jsx(b1,{isOpen:w,onToggle:Us,messages:J,isLoading:X,onSendMessage:Vr,onClearChat:Ls})]})}const Vx=document.getElementById("root");if(!Vx)throw new Error("Could not find root element to mount to");const dU=YS.createRoot(Vx);dU.render(b.jsx(ws.StrictMode,{children:b.jsx(fU,{})}));

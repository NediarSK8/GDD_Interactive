(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function Uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gf={exports:{}},Xs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function k1(){if(kg)return Xs;kg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var h in a)h!=="key"&&(c[h]=a[h])}else c=a;return a=c.ref,{$$typeof:t,type:o,key:d,ref:a!==void 0?a:null,props:c}}return Xs.Fragment=e,Xs.jsx=r,Xs.jsxs=r,Xs}var Ug;function U1(){return Ug||(Ug=1,gf.exports=k1()),gf.exports}var _=U1(),yf={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function L1(){if(Lg)return je;Lg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function S(K){return K===null||typeof K!="object"?null:(K=w&&K[w]||K["@@iterator"],typeof K=="function"?K:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,C={};function U(K,Y,O){this.props=K,this.context=Y,this.refs=C,this.updater=O||E}U.prototype.isReactComponent={},U.prototype.setState=function(K,Y){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,Y,"setState")},U.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function R(){}R.prototype=U.prototype;function I(K,Y,O){this.props=K,this.context=Y,this.refs=C,this.updater=O||E}var P=I.prototype=new R;P.constructor=I,D(P,U.prototype),P.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function ae(K,Y,O,J,Q,ee){return O=ee.ref,{$$typeof:t,type:K,key:Y,ref:O!==void 0?O:null,props:ee}}function de(K,Y){return ae(K.type,Y,void 0,void 0,void 0,K.props)}function z(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function Te(K){var Y={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(O){return Y[O]})}var Re=/\/+/g;function Z(K,Y){return typeof K=="object"&&K!==null&&K.key!=null?Te(""+K.key):Y.toString(36)}function pe(){}function B(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(pe,pe):(K.status="pending",K.then(function(Y){K.status==="pending"&&(K.status="fulfilled",K.value=Y)},function(Y){K.status==="pending"&&(K.status="rejected",K.reason=Y)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function he(K,Y,O,J,Q){var ee=typeof K;(ee==="undefined"||ee==="boolean")&&(K=null);var $=!1;if(K===null)$=!0;else switch(ee){case"bigint":case"string":case"number":$=!0;break;case"object":switch(K.$$typeof){case t:case e:$=!0;break;case y:return $=K._init,he($(K._payload),Y,O,J,Q)}}if($)return Q=Q(K),$=J===""?"."+Z(K,0):J,H(Q)?(O="",$!=null&&(O=$.replace(Re,"$&/")+"/"),he(Q,Y,O,"",function(te){return te})):Q!=null&&(z(Q)&&(Q=de(Q,O+(Q.key==null||K&&K.key===Q.key?"":(""+Q.key).replace(Re,"$&/")+"/")+$)),Y.push(Q)),1;$=0;var M=J===""?".":J+":";if(H(K))for(var N=0;N<K.length;N++)J=K[N],ee=M+Z(J,N),$+=he(J,Y,O,ee,Q);else if(N=S(K),typeof N=="function")for(K=N.call(K),N=0;!(J=K.next()).done;)J=J.value,ee=M+Z(J,N++),$+=he(J,Y,O,ee,Q);else if(ee==="object"){if(typeof K.then=="function")return he(B(K),Y,O,J,Q);throw Y=String(K),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return $}function le(K,Y,O){if(K==null)return K;var J=[],Q=0;return he(K,J,"","",function(ee){return Y.call(O,ee,Q++)}),J}function se(K){if(K._status===-1){var Y=K._result;Y=Y(),Y.then(function(O){(K._status===0||K._status===-1)&&(K._status=1,K._result=O)},function(O){(K._status===0||K._status===-1)&&(K._status=2,K._result=O)}),K._status===-1&&(K._status=0,K._result=Y)}if(K._status===1)return K._result.default;throw K._result}var Ce=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function ue(){}return je.Children={map:le,forEach:function(K,Y,O){le(K,function(){Y.apply(this,arguments)},O)},count:function(K){var Y=0;return le(K,function(){Y++}),Y},toArray:function(K){return le(K,function(Y){return Y})||[]},only:function(K){if(!z(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},je.Component=U,je.Fragment=r,je.Profiler=a,je.PureComponent=I,je.StrictMode=o,je.Suspense=p,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,je.__COMPILER_RUNTIME={__proto__:null,c:function(K){return q.H.useMemoCache(K)}},je.cache=function(K){return function(){return K.apply(null,arguments)}},je.cloneElement=function(K,Y,O){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var J=D({},K.props),Q=K.key,ee=void 0;if(Y!=null)for($ in Y.ref!==void 0&&(ee=void 0),Y.key!==void 0&&(Q=""+Y.key),Y)!ce.call(Y,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&Y.ref===void 0||(J[$]=Y[$]);var $=arguments.length-2;if($===1)J.children=O;else if(1<$){for(var M=Array($),N=0;N<$;N++)M[N]=arguments[N+2];J.children=M}return ae(K.type,Q,void 0,void 0,ee,J)},je.createContext=function(K){return K={$$typeof:d,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:c,_context:K},K},je.createElement=function(K,Y,O){var J,Q={},ee=null;if(Y!=null)for(J in Y.key!==void 0&&(ee=""+Y.key),Y)ce.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Q[J]=Y[J]);var $=arguments.length-2;if($===1)Q.children=O;else if(1<$){for(var M=Array($),N=0;N<$;N++)M[N]=arguments[N+2];Q.children=M}if(K&&K.defaultProps)for(J in $=K.defaultProps,$)Q[J]===void 0&&(Q[J]=$[J]);return ae(K,ee,void 0,void 0,null,Q)},je.createRef=function(){return{current:null}},je.forwardRef=function(K){return{$$typeof:h,render:K}},je.isValidElement=z,je.lazy=function(K){return{$$typeof:y,_payload:{_status:-1,_result:K},_init:se}},je.memo=function(K,Y){return{$$typeof:m,type:K,compare:Y===void 0?null:Y}},je.startTransition=function(K){var Y=q.T,O={};q.T=O;try{var J=K(),Q=q.S;Q!==null&&Q(O,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ue,Ce)}catch(ee){Ce(ee)}finally{q.T=Y}},je.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},je.use=function(K){return q.H.use(K)},je.useActionState=function(K,Y,O){return q.H.useActionState(K,Y,O)},je.useCallback=function(K,Y){return q.H.useCallback(K,Y)},je.useContext=function(K){return q.H.useContext(K)},je.useDebugValue=function(){},je.useDeferredValue=function(K,Y){return q.H.useDeferredValue(K,Y)},je.useEffect=function(K,Y,O){var J=q.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(K,Y)},je.useId=function(){return q.H.useId()},je.useImperativeHandle=function(K,Y,O){return q.H.useImperativeHandle(K,Y,O)},je.useInsertionEffect=function(K,Y){return q.H.useInsertionEffect(K,Y)},je.useLayoutEffect=function(K,Y){return q.H.useLayoutEffect(K,Y)},je.useMemo=function(K,Y){return q.H.useMemo(K,Y)},je.useOptimistic=function(K,Y){return q.H.useOptimistic(K,Y)},je.useReducer=function(K,Y,O){return q.H.useReducer(K,Y,O)},je.useRef=function(K){return q.H.useRef(K)},je.useState=function(K){return q.H.useState(K)},je.useSyncExternalStore=function(K,Y,O){return q.H.useSyncExternalStore(K,Y,O)},je.useTransition=function(){return q.H.useTransition()},je.version="19.1.1",je}var Bg;function Pd(){return Bg||(Bg=1,yf.exports=L1()),yf.exports}var Ie=Pd();const oa=Uv(Ie);var vf={exports:{}},Zs={},wf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function B1(){return Pg||(Pg=1,(function(t){function e(le,se){var Ce=le.length;le.push(se);e:for(;0<Ce;){var ue=Ce-1>>>1,K=le[ue];if(0<a(K,se))le[ue]=se,le[Ce]=K,Ce=ue;else break e}}function r(le){return le.length===0?null:le[0]}function o(le){if(le.length===0)return null;var se=le[0],Ce=le.pop();if(Ce!==se){le[0]=Ce;e:for(var ue=0,K=le.length,Y=K>>>1;ue<Y;){var O=2*(ue+1)-1,J=le[O],Q=O+1,ee=le[Q];if(0>a(J,Ce))Q<K&&0>a(ee,J)?(le[ue]=ee,le[Q]=Ce,ue=Q):(le[ue]=J,le[O]=Ce,ue=O);else if(Q<K&&0>a(ee,Ce))le[ue]=ee,le[Q]=Ce,ue=Q;else break e}}return se}function a(le,se){var Ce=le.sortIndex-se.sortIndex;return Ce!==0?Ce:le.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,w=null,S=3,E=!1,D=!1,C=!1,U=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function H(le){for(var se=r(m);se!==null;){if(se.callback===null)o(m);else if(se.startTime<=le)o(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=r(m)}}function q(le){if(C=!1,H(le),!D)if(r(p)!==null)D=!0,ce||(ce=!0,Z());else{var se=r(m);se!==null&&he(q,se.startTime-le)}}var ce=!1,ae=-1,de=5,z=-1;function Te(){return U?!0:!(t.unstable_now()-z<de)}function Re(){if(U=!1,ce){var le=t.unstable_now();z=le;var se=!0;try{e:{D=!1,C&&(C=!1,I(ae),ae=-1),E=!0;var Ce=S;try{t:{for(H(le),w=r(p);w!==null&&!(w.expirationTime>le&&Te());){var ue=w.callback;if(typeof ue=="function"){w.callback=null,S=w.priorityLevel;var K=ue(w.expirationTime<=le);if(le=t.unstable_now(),typeof K=="function"){w.callback=K,H(le),se=!0;break t}w===r(p)&&o(p),H(le)}else o(p);w=r(p)}if(w!==null)se=!0;else{var Y=r(m);Y!==null&&he(q,Y.startTime-le),se=!1}}break e}finally{w=null,S=Ce,E=!1}se=void 0}}finally{se?Z():ce=!1}}}var Z;if(typeof P=="function")Z=function(){P(Re)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,B=pe.port2;pe.port1.onmessage=Re,Z=function(){B.postMessage(null)}}else Z=function(){R(Re,0)};function he(le,se){ae=R(function(){le(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(le){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var Ce=S;S=se;try{return le()}finally{S=Ce}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(le,se){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Ce=S;S=le;try{return se()}finally{S=Ce}},t.unstable_scheduleCallback=function(le,se,Ce){var ue=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?ue+Ce:ue):Ce=ue,le){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Ce+K,le={id:y++,callback:se,priorityLevel:le,startTime:Ce,expirationTime:K,sortIndex:-1},Ce>ue?(le.sortIndex=Ce,e(m,le),r(p)===null&&le===r(m)&&(C?(I(ae),ae=-1):C=!0,he(q,Ce-ue))):(le.sortIndex=K,e(p,le),D||E||(D=!0,ce||(ce=!0,Z()))),le},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(le){var se=S;return function(){var Ce=S;S=se;try{return le.apply(this,arguments)}finally{S=Ce}}}})(xf)),xf}var Og;function P1(){return Og||(Og=1,wf.exports=B1()),wf.exports}var Tf={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function O1(){if(Fg)return nn;Fg=1;var t=Pd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(p,m,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:p,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,nn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},nn.flushSync=function(p){var m=d.T,y=o.p;try{if(d.T=null,o.p=2,p)return p()}finally{d.T=m,o.p=y,o.d.f()}},nn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},nn.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},nn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,w=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:E}):y==="script"&&o.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},nn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},nn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,w=h(y,m.crossOrigin);o.d.L(p,y,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},nn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},nn.requestFormReset=function(p){o.d.r(p)},nn.unstable_batchedUpdates=function(p,m){return p(m)},nn.useFormState=function(p,m,y){return d.H.useFormState(p,m,y)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var zg;function F1(){if(zg)return Tf.exports;zg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tf.exports=O1(),Tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function z1(){if(Gg)return Zs;Gg=1;var t=P1(),e=Pd(),r=F1();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(o(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(o(188));return i!==n?null:n}for(var s=n,f=i;;){var g=s.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){s=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===s)return h(g),n;if(x===f)return h(g),i;x=x.sibling}throw Error(o(188))}if(s.return!==f.return)s=g,f=x;else{for(var L=!1,V=g.child;V;){if(V===s){L=!0,s=g,f=x;break}if(V===f){L=!0,f=g,s=x;break}V=V.sibling}if(!L){for(V=x.child;V;){if(V===s){L=!0,s=x,f=g;break}if(V===f){L=!0,f=x,s=g;break}V=V.sibling}if(!L)throw Error(o(189))}}if(s.alternate!==f)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=Re&&n[Re]||n["@@iterator"],typeof n=="function"?n:null)}var pe=Symbol.for("react.client.reference");function B(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case U:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case ce:return"SuspenseList";case z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case P:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case H:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ae:return i=n.displayName||null,i!==null?i:B(n.type)||"Memo";case de:i=n._payload,n=n._init;try{return B(n(i))}catch{}}return null}var he=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},ue=[],K=-1;function Y(n){return{current:n}}function O(n){0>K||(n.current=ue[K],ue[K]=null,K--)}function J(n,i){K++,ue[K]=n.current,n.current=i}var Q=Y(null),ee=Y(null),$=Y(null),M=Y(null);function N(n,i){switch(J($,i),J(ee,n),J(Q,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?ag(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=ag(i),n=lg(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(Q),J(Q,n)}function te(){O(Q),O(ee),O($)}function W(n){n.memoizedState!==null&&J(M,n);var i=Q.current,s=lg(i,n.type);i!==s&&(J(ee,n),J(Q,s))}function G(n){ee.current===n&&(O(Q),O(ee)),M.current===n&&(O(M),Ks._currentValue=Ce)}var F=Object.prototype.hasOwnProperty,ie=t.unstable_scheduleCallback,b=t.unstable_cancelCallback,re=t.unstable_shouldYield,k=t.unstable_requestPaint,v=t.unstable_now,T=t.unstable_getCurrentPriorityLevel,A=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,ne=t.unstable_NormalPriority,j=t.unstable_LowPriority,ge=t.unstable_IdlePriority,De=t.log,be=t.unstable_setDisableYieldValue,Ue=null,Be=null;function Ge(n){if(typeof De=="function"&&be(n),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Ue,n)}catch{}}var Ze=Math.clz32?Math.clz32:St,Nt=Math.log,Dt=Math.LN2;function St(n){return n>>>=0,n===0?32:31-(Nt(n)/Dt|0)|0}var dt=256,xn=4194304;function un(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ct(n,i,s){var f=n.pendingLanes;if(f===0)return 0;var g=0,x=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var V=f&134217727;return V!==0?(f=V&~x,f!==0?g=un(f):(L&=V,L!==0?g=un(L):s||(s=V&~n,s!==0&&(g=un(s))))):(V=f&~x,V!==0?g=un(V):L!==0?g=un(L):s||(s=f&~n,s!==0&&(g=un(s)))),g===0?0:i!==0&&i!==g&&(i&x)===0&&(x=g&-g,s=i&-i,x>=s||x===32&&(s&4194048)!==0)?i:g}function Gn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ui(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(){var n=dt;return dt<<=1,(dt&4194048)===0&&(dt=256),n}function Mr(){var n=xn;return xn<<=1,(xn&62914560)===0&&(xn=4194304),n}function Vn(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Lt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ur(n,i,s,f,g,x){var L=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var V=n.entanglements,oe=n.expirationTimes,ve=n.hiddenUpdates;for(s=L&~s;0<s;){var Ae=31-Ze(s),Me=1<<Ae;V[Ae]=0,oe[Ae]=-1;var we=ve[Ae];if(we!==null)for(ve[Ae]=null,Ae=0;Ae<we.length;Ae++){var xe=we[Ae];xe!==null&&(xe.lane&=-536870913)}s&=~Me}f!==0&&Nn(n,f,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(L&~i))}function Nn(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var f=31-Ze(i);n.entangledLanes|=i,n.entanglements[f]=n.entanglements[f]|1073741824|s&4194090}function $o(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var f=31-Ze(s),g=1<<f;g&i|n[f]&i&&(n[f]|=i),s&=~g}}function Li(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ir(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function fa(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:Ag(n.type))}function cn(n,i){var s=se.p;try{return se.p=n,i()}finally{se.p=s}}var qn=Math.random().toString(36).slice(2),Vt="__reactFiber$"+qn,Bt="__reactProps$"+qn,$n="__reactContainer$"+qn,Xo="__reactEvents$"+qn,Zo="__reactListeners$"+qn,du="__reactHandles$"+qn,Bi="__reactResources$"+qn,Xn="__reactMarker$"+qn;function Pi(n){delete n[Vt],delete n[Bt],delete n[Xo],delete n[Zo],delete n[du]}function kr(n){var i=n[Vt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[$n]||s[Vt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=dg(n);n!==null;){if(s=n[Vt])return s;n=dg(n)}return i}n=s,s=n.parentNode}return null}function cr(n){if(n=n[Vt]||n[$n]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function si(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function fr(n){var i=n[Bi];return i||(i=n[Bi]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(n){n[Xn]=!0}var Oi=new Set,da={};function dr(n,i){Ur(n,i),Ur(n+"Capture",i)}function Ur(n,i){for(da[n]=i,n=0;n<i.length;n++)Oi.add(i[n])}var hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ha={},pa={};function pu(n){return F.call(pa,n)?!0:F.call(ha,n)?!1:hu.test(n)?pa[n]=!0:(ha[n]=!0,!1)}function Fi(n,i,s){if(pu(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function zi(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Tn(n,i,s,f){if(f===null)n.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+f)}}var jo,ma;function Lr(n){if(jo===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);jo=i&&i[1]||"",ma=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+n+ma}var Qo=!1;function es(n,i){if(!n||Qo)return"";Qo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(xe){var we=xe}Reflect.construct(n,[],Me)}else{try{Me.call()}catch(xe){we=xe}n.call(Me.prototype)}}else{try{throw Error()}catch(xe){we=xe}(Me=n())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(xe){if(xe&&we&&typeof xe.stack=="string")return[xe.stack,we.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),L=x[0],V=x[1];if(L&&V){var oe=L.split(`
`),ve=V.split(`
`);for(g=f=0;f<oe.length&&!oe[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ve.length&&!ve[g].includes("DetermineComponentFrameRoot");)g++;if(f===oe.length||g===ve.length)for(f=oe.length-1,g=ve.length-1;1<=f&&0<=g&&oe[f]!==ve[g];)g--;for(;1<=f&&0<=g;f--,g--)if(oe[f]!==ve[g]){if(f!==1||g!==1)do if(f--,g--,0>g||oe[f]!==ve[g]){var Ae=`
`+oe[f].replace(" at new "," at ");return n.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",n.displayName)),Ae}while(1<=f&&0<=g);break}}}finally{Qo=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Lr(s):""}function ga(n){switch(n.tag){case 26:case 27:case 5:return Lr(n.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return es(n.type,!1);case 11:return es(n.type.render,!1);case 1:return es(n.type,!0);case 31:return Lr("Activity");default:return""}}function ya(n){try{var i="";do i+=ga(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function va(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mu(n){var i=va(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),f=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var g=s.get,x=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(L){f=""+L,x.call(this,L)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Gi(n){n._valueTracker||(n._valueTracker=mu(n))}function wa(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),f="";return n&&(f=va(n)?n.checked?"true":"false":n.value),n=f,n!==s?(i.setValue(n),!0):!1}function Vi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var gu=/[\n"\\]/g;function hn(n){return n.replace(gu,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ts(n,i,s,f,g,x,L,V){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+dn(i)):n.value!==""+dn(i)&&(n.value=""+dn(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?qi(n,L,dn(i)):s!=null?qi(n,L,dn(s)):f!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?n.name=""+dn(V):n.removeAttribute("name")}function ns(n,i,s,f,g,x,L,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),i!=null||s!=null){if(!(x!=="submit"&&x!=="reset"||i!=null))return;s=s!=null?""+dn(s):"",i=i!=null?""+dn(i):s,V||i===n.value||(n.value=i),n.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=V?n.checked:!!f,n.defaultChecked=!!f,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L)}function qi(n,i,s){i==="number"&&Vi(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Le(n,i,s,f){if(n=n.options,i){i={};for(var g=0;g<s.length;g++)i["$"+s[g]]=!0;for(s=0;s<n.length;s++)g=i.hasOwnProperty("$"+n[s].value),n[s].selected!==g&&(n[s].selected=g),g&&f&&(n[s].defaultSelected=!0)}else{for(s=""+dn(s),i=null,g=0;g<n.length;g++){if(n[g].value===s){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Pe(n,i,s){if(i!=null&&(i=""+dn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+dn(s):""}function Ke(n,i,s,f){if(i==null){if(f!=null){if(s!=null)throw Error(o(92));if(he(f)){if(1<f.length)throw Error(o(93));f=f[0]}s=f}s==null&&(s=""),i=s}s=dn(i),n.defaultValue=s,f=n.textContent,f===s&&f!==""&&f!==null&&(n.value=f)}function Ve(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var $e=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gt(n,i,s){var f=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?f?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":f?n.setProperty(i,s):typeof s!="number"||s===0||$e.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function qe(n,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,s!=null){for(var f in s)!s.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&s[g]!==f&&gt(n,g,f)}else for(var x in i)i.hasOwnProperty(x)&&gt(n,x,i[x])}function Qe(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function en(n){return Xt.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ai=null;function rs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Dn=null,Zn=null;function uh(n){var i=cr(n);if(i&&(n=i.stateNode)){var s=n[Bt]||null;e:switch(n=i.stateNode,i.type){case"input":if(ts(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var f=s[i];if(f!==n&&f.form===n.form){var g=f[Bt]||null;if(!g)throw Error(o(90));ts(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<s.length;i++)f=s[i],f.form===n.form&&wa(f)}break e;case"textarea":Pe(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Le(n,!!s.multiple,i,!1)}}}var yu=!1;function ch(n,i,s){if(yu)return n(i,s);yu=!0;try{var f=n(i);return f}finally{if(yu=!1,(Dn!==null||Zn!==null)&&(il(),Dn&&(i=Dn,n=Zn,Zn=Dn=null,uh(i),n)))for(i=0;i<n.length;i++)uh(n[i])}}function is(n,i){var s=n.stateNode;if(s===null)return null;var f=s[Bt]||null;if(f===null)return null;s=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=!1;if(hr)try{var os={};Object.defineProperty(os,"passive",{get:function(){vu=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{vu=!1}var Br=null,wu=null,xa=null;function fh(){if(xa)return xa;var n,i=wu,s=i.length,f,g="value"in Br?Br.value:Br.textContent,x=g.length;for(n=0;n<s&&i[n]===g[n];n++);var L=s-n;for(f=1;f<=L&&i[s-f]===g[x-f];f++);return xa=g.slice(n,1<f?1-f:void 0)}function Ta(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Sa(){return!0}function dh(){return!1}function pn(n){function i(s,f,g,x,L){this._reactName=s,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(s=n[V],this[V]=s?s(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Sa:dh,this.isPropagationStopped=dh,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),i}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=pn(li),ss=y({},li,{view:0,detail:0}),kx=pn(ss),xu,Tu,as,_a=y({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==as&&(as&&n.type==="mousemove"?(xu=n.screenX-as.screenX,Tu=n.screenY-as.screenY):Tu=xu=0,as=n),xu)},movementY:function(n){return"movementY"in n?n.movementY:Tu}}),hh=pn(_a),Ux=y({},_a,{dataTransfer:0}),Lx=pn(Ux),Bx=y({},ss,{relatedTarget:0}),Su=pn(Bx),Px=y({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Ox=pn(Px),Fx=y({},li,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zx=pn(Fx),Gx=y({},li,{data:0}),ph=pn(Gx),Vx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kx(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Hx[n])?!!i[n]:!1}function Eu(){return Kx}var Yx=y({},ss,{key:function(n){if(n.key){var i=Vx[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ta(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(n){return n.type==="keypress"?Ta(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ta(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Jx=pn(Yx),Wx=y({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mh=pn(Wx),$x=y({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),Xx=pn($x),Zx=y({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),jx=pn(Zx),Qx=y({},_a,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),eT=pn(Qx),tT=y({},li,{newState:0,oldState:0}),nT=pn(tT),rT=[9,13,27,32],_u=hr&&"CompositionEvent"in window,ls=null;hr&&"documentMode"in document&&(ls=document.documentMode);var iT=hr&&"TextEvent"in window&&!ls,gh=hr&&(!_u||ls&&8<ls&&11>=ls),yh=" ",vh=!1;function wh(n,i){switch(n){case"keyup":return rT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hi=!1;function oT(n,i){switch(n){case"compositionend":return xh(i);case"keypress":return i.which!==32?null:(vh=!0,yh);case"textInput":return n=i.data,n===yh&&vh?null:n;default:return null}}function sT(n,i){if(Hi)return n==="compositionend"||!_u&&wh(n,i)?(n=fh(),xa=wu=Br=null,Hi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gh&&i.locale!=="ko"?null:i.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!aT[n.type]:i==="textarea"}function Sh(n,i,s,f){Dn?Zn?Zn.push(f):Zn=[f]:Dn=f,i=cl(i,"onChange"),0<i.length&&(s=new Ea("onChange","change",null,s,f),n.push({event:s,listeners:i}))}var us=null,cs=null;function lT(n){ng(n,0)}function ba(n){var i=si(n);if(wa(i))return n}function Eh(n,i){if(n==="change")return i}var _h=!1;if(hr){var bu;if(hr){var Cu="oninput"in document;if(!Cu){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),Cu=typeof bh.oninput=="function"}bu=Cu}else bu=!1;_h=bu&&(!document.documentMode||9<document.documentMode)}function Ch(){us&&(us.detachEvent("onpropertychange",Ah),cs=us=null)}function Ah(n){if(n.propertyName==="value"&&ba(cs)){var i=[];Sh(i,cs,n,rs(n)),ch(lT,i)}}function uT(n,i,s){n==="focusin"?(Ch(),us=i,cs=s,us.attachEvent("onpropertychange",Ah)):n==="focusout"&&Ch()}function cT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ba(cs)}function fT(n,i){if(n==="click")return ba(i)}function dT(n,i){if(n==="input"||n==="change")return ba(i)}function hT(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Sn=typeof Object.is=="function"?Object.is:hT;function fs(n,i){if(Sn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),f=Object.keys(i);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var g=s[f];if(!F.call(i,g)||!Sn(n[g],i[g]))return!1}return!0}function Rh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Nh(n,i){var s=Rh(n);n=0;for(var f;s;){if(s.nodeType===3){if(f=n+s.textContent.length,n<=i&&f>=i)return{node:s,offset:i-n};n=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Rh(s)}}function Dh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Dh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Mh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Vi(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Vi(n.document)}return i}function Au(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var pT=hr&&"documentMode"in document&&11>=document.documentMode,Ki=null,Ru=null,ds=null,Nu=!1;function Ih(n,i,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nu||Ki==null||Ki!==Vi(f)||(f=Ki,"selectionStart"in f&&Au(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ds&&fs(ds,f)||(ds=f,f=cl(Ru,"onSelect"),0<f.length&&(i=new Ea("onSelect","select",null,i,s),n.push({event:i,listeners:f}),i.target=Ki)))}function ui(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Yi={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},Du={},kh={};hr&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ci(n){if(Du[n])return Du[n];if(!Yi[n])return n;var i=Yi[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in kh)return Du[n]=i[s];return n}var Uh=ci("animationend"),Lh=ci("animationiteration"),Bh=ci("animationstart"),mT=ci("transitionrun"),gT=ci("transitionstart"),yT=ci("transitioncancel"),Ph=ci("transitionend"),Oh=new Map,Mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mu.push("scrollEnd");function Hn(n,i){Oh.set(n,i),dr(i,[n])}var Fh=new WeakMap;function Mn(n,i){if(typeof n=="object"&&n!==null){var s=Fh.get(n);return s!==void 0?s:(i={value:n,source:i,stack:ya(i)},Fh.set(n,i),i)}return{value:n,source:i,stack:ya(i)}}var In=[],Ji=0,Iu=0;function Ca(){for(var n=Ji,i=Iu=Ji=0;i<n;){var s=In[i];In[i++]=null;var f=In[i];In[i++]=null;var g=In[i];In[i++]=null;var x=In[i];if(In[i++]=null,f!==null&&g!==null){var L=f.pending;L===null?g.next=g:(g.next=L.next,L.next=g),f.pending=g}x!==0&&zh(s,g,x)}}function Aa(n,i,s,f){In[Ji++]=n,In[Ji++]=i,In[Ji++]=s,In[Ji++]=f,Iu|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function ku(n,i,s,f){return Aa(n,i,s,f),Ra(n)}function Wi(n,i){return Aa(n,null,null,i),Ra(n)}function zh(n,i,s){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s);for(var g=!1,x=n.return;x!==null;)x.childLanes|=s,f=x.alternate,f!==null&&(f.childLanes|=s),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&i!==null&&(g=31-Ze(s),n=x.hiddenUpdates,f=n[g],f===null?n[g]=[i]:f.push(i),i.lane=s|536870912),x):null}function Ra(n){if(50<Ps)throw Ps=0,Fc=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var $i={};function vT(n,i,s,f){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,s,f){return new vT(n,i,s,f)}function Uu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pr(n,i){var s=n.alternate;return s===null?(s=En(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Gh(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Na(n,i,s,f,g,x){var L=0;if(f=n,typeof n=="function")Uu(n)&&(L=1);else if(typeof n=="string")L=x1(n,s,Q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case z:return n=En(31,s,i,g),n.elementType=z,n.lanes=x,n;case D:return fi(s.children,g,x,i);case C:L=8,g|=24;break;case U:return n=En(12,s,i,g|2),n.elementType=U,n.lanes=x,n;case q:return n=En(13,s,i,g),n.elementType=q,n.lanes=x,n;case ce:return n=En(19,s,i,g),n.elementType=ce,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:case P:L=10;break e;case I:L=9;break e;case H:L=11;break e;case ae:L=14;break e;case de:L=16,f=null;break e}L=29,s=Error(o(130,n===null?"null":typeof n,"")),f=null}return i=En(L,s,i,g),i.elementType=n,i.type=f,i.lanes=x,i}function fi(n,i,s,f){return n=En(7,n,f,i),n.lanes=s,n}function Lu(n,i,s){return n=En(6,n,null,i),n.lanes=s,n}function Bu(n,i,s){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Xi=[],Zi=0,Da=null,Ma=0,kn=[],Un=0,di=null,mr=1,gr="";function hi(n,i){Xi[Zi++]=Ma,Xi[Zi++]=Da,Da=n,Ma=i}function Vh(n,i,s){kn[Un++]=mr,kn[Un++]=gr,kn[Un++]=di,di=n;var f=mr;n=gr;var g=32-Ze(f)-1;f&=~(1<<g),s+=1;var x=32-Ze(i)+g;if(30<x){var L=g-g%5;x=(f&(1<<L)-1).toString(32),f>>=L,g-=L,mr=1<<32-Ze(i)+g|s<<g|f,gr=x+n}else mr=1<<x|s<<g|f,gr=n}function Pu(n){n.return!==null&&(hi(n,1),Vh(n,1,0))}function Ou(n){for(;n===Da;)Da=Xi[--Zi],Xi[Zi]=null,Ma=Xi[--Zi],Xi[Zi]=null;for(;n===di;)di=kn[--Un],kn[Un]=null,gr=kn[--Un],kn[Un]=null,mr=kn[--Un],kn[Un]=null}var fn=null,It=null,ct=!1,pi=null,jn=!1,Fu=Error(o(519));function mi(n){var i=Error(o(418,""));throw ms(Mn(i,n)),Fu}function qh(n){var i=n.stateNode,s=n.type,f=n.memoizedProps;switch(i[Vt]=n,i[Bt]=f,s){case"dialog":ot("cancel",i),ot("close",i);break;case"iframe":case"object":case"embed":ot("load",i);break;case"video":case"audio":for(s=0;s<Fs.length;s++)ot(Fs[s],i);break;case"source":ot("error",i);break;case"img":case"image":case"link":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"input":ot("invalid",i),ns(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Gi(i);break;case"select":ot("invalid",i);break;case"textarea":ot("invalid",i),Ke(i,f.value,f.defaultValue,f.children),Gi(i)}s=f.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||f.suppressHydrationWarning===!0||sg(i.textContent,s)?(f.popover!=null&&(ot("beforetoggle",i),ot("toggle",i)),f.onScroll!=null&&ot("scroll",i),f.onScrollEnd!=null&&ot("scrollend",i),f.onClick!=null&&(i.onclick=fl),i=!0):i=!1,i||mi(n)}function Hh(n){for(fn=n.return;fn;)switch(fn.tag){case 5:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:fn=fn.return}}function hs(n){if(n!==fn)return!1;if(!ct)return Hh(n),ct=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||tf(n.type,n.memoizedProps)),s=!s),s&&It&&mi(n),Hh(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){It=Yn(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}It=null}}else i===27?(i=It,jr(n.type)?(n=sf,sf=null,It=n):It=i):It=fn?Yn(n.stateNode.nextSibling):null;return!0}function ps(){It=fn=null,ct=!1}function Kh(){var n=pi;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),pi=null),n}function ms(n){pi===null?pi=[n]:pi.push(n)}var zu=Y(null),gi=null,yr=null;function Pr(n,i,s){J(zu,i._currentValue),i._currentValue=s}function vr(n){n._currentValue=zu.current,O(zu)}function Gu(n,i,s){for(;n!==null;){var f=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),n===s)break;n=n.return}}function Vu(n,i,s,f){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var L=g.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=g;for(var oe=0;oe<i.length;oe++)if(V.context===i[oe]){x.lanes|=s,V=x.alternate,V!==null&&(V.lanes|=s),Gu(x.return,s,n),f||(L=null);break e}x=V.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(o(341));L.lanes|=s,x=L.alternate,x!==null&&(x.lanes|=s),Gu(L,s,n),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===n){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function gs(n,i,s,f){n=null;for(var g=i,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(o(387));if(L=L.memoizedProps,L!==null){var V=g.type;Sn(g.pendingProps.value,L.value)||(n!==null?n.push(V):n=[V])}}else if(g===M.current){if(L=g.alternate,L===null)throw Error(o(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Ks):n=[Ks])}g=g.return}n!==null&&Vu(i,n,s,f),i.flags|=262144}function Ia(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function yi(n){gi=n,yr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Yh(gi,n)}function ka(n,i){return gi===null&&yi(n),Yh(n,i)}function Yh(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},yr===null){if(n===null)throw Error(o(308));yr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else yr=yr.next=i;return s}var wT=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,f){n.push(f)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},xT=t.unstable_scheduleCallback,TT=t.unstable_NormalPriority,Kt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new wT,data:new Map,refCount:0}}function ys(n){n.refCount--,n.refCount===0&&xT(TT,function(){n.controller.abort()})}var vs=null,Hu=0,ji=0,Qi=null;function ST(n,i){if(vs===null){var s=vs=[];Hu=0,ji=Yc(),Qi={status:"pending",value:void 0,then:function(f){s.push(f)}}}return Hu++,i.then(Jh,Jh),i}function Jh(){if(--Hu===0&&vs!==null){Qi!==null&&(Qi.status="fulfilled");var n=vs;vs=null,ji=0,Qi=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function ET(n,i){var s=[],f={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return n.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<s.length;g++)(0,s[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),f}var Wh=le.S;le.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ST(n,i),Wh!==null&&Wh(n,i)};var vi=Y(null);function Ku(){var n=vi.current;return n!==null?n:Et.pooledCache}function Ua(n,i){i===null?J(vi,vi.current):J(vi,i.pool)}function $h(){var n=Ku();return n===null?null:{parent:Kt._currentValue,pool:n}}var ws=Error(o(460)),Xh=Error(o(474)),La=Error(o(542)),Yu={then:function(){}};function Zh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ba(){}function jh(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Ba,Ba),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ep(n),n;default:if(typeof i.status=="string")i.then(Ba,Ba);else{if(n=Et,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ep(n),n}throw xs=i,ws}}var xs=null;function Qh(){if(xs===null)throw Error(o(459));var n=xs;return xs=null,n}function ep(n){if(n===ws||n===La)throw Error(o(483))}var Or=!1;function Ju(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zr(n,i,s){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(ht&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=Ra(n),zh(n,null,s),i}return Aa(n,f,i,s),Ra(n)}function Ts(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var f=i.lanes;f&=n.pendingLanes,s|=f,i.lanes=s,$o(n,s)}}function $u(n,i){var s=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var g=null,x=null;if(s=s.firstBaseUpdate,s!==null){do{var L={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};x===null?g=x=L:x=x.next=L,s=s.next}while(s!==null);x===null?g=x=i:x=x.next=i}else g=x=i;s={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Xu=!1;function Ss(){if(Xu){var n=Qi;if(n!==null)throw n}}function Es(n,i,s,f){Xu=!1;var g=n.updateQueue;Or=!1;var x=g.firstBaseUpdate,L=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var oe=V,ve=oe.next;oe.next=null,L===null?x=ve:L.next=ve,L=oe;var Ae=n.alternate;Ae!==null&&(Ae=Ae.updateQueue,V=Ae.lastBaseUpdate,V!==L&&(V===null?Ae.firstBaseUpdate=ve:V.next=ve,Ae.lastBaseUpdate=oe))}if(x!==null){var Me=g.baseState;L=0,Ae=ve=oe=null,V=x;do{var we=V.lane&-536870913,xe=we!==V.lane;if(xe?(at&we)===we:(f&we)===we){we!==0&&we===ji&&(Xu=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var We=n,Ye=V;we=i;var wt=s;switch(Ye.tag){case 1:if(We=Ye.payload,typeof We=="function"){Me=We.call(wt,Me,we);break e}Me=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ye.payload,we=typeof We=="function"?We.call(wt,Me,we):We,we==null)break e;Me=y({},Me,we);break e;case 2:Or=!0}}we=V.callback,we!==null&&(n.flags|=64,xe&&(n.flags|=8192),xe=g.callbacks,xe===null?g.callbacks=[we]:xe.push(we))}else xe={lane:we,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ae===null?(ve=Ae=xe,oe=Me):Ae=Ae.next=xe,L|=we;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;xe=V,V=xe.next,xe.next=null,g.lastBaseUpdate=xe,g.shared.pending=null}}while(!0);Ae===null&&(oe=Me),g.baseState=oe,g.firstBaseUpdate=ve,g.lastBaseUpdate=Ae,x===null&&(g.shared.lanes=0),Wr|=L,n.lanes=L,n.memoizedState=Me}}function tp(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function np(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)tp(s[n],i)}var eo=Y(null),Pa=Y(0);function rp(n,i){n=br,J(Pa,n),J(eo,i),br=n|i.baseLanes}function Zu(){J(Pa,br),J(eo,eo.current)}function ju(){br=Pa.current,O(eo),O(Pa)}var Gr=0,et=null,yt=null,qt=null,Oa=!1,to=!1,wi=!1,Fa=0,_s=0,no=null,_T=0;function Pt(){throw Error(o(321))}function Qu(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Sn(n[s],i[s]))return!1;return!0}function ec(n,i,s,f,g,x){return Gr=x,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,le.H=n===null||n.memoizedState===null?zp:Gp,wi=!1,x=s(f,g),wi=!1,to&&(x=op(i,s,f,g)),ip(n),x}function ip(n){le.H=Ka;var i=yt!==null&&yt.next!==null;if(Gr=0,qt=yt=et=null,Oa=!1,_s=0,no=null,i)throw Error(o(300));n===null||Jt||(n=n.dependencies,n!==null&&Ia(n)&&(Jt=!0))}function op(n,i,s,f){et=n;var g=0;do{if(to&&(no=null),_s=0,to=!1,25<=g)throw Error(o(301));if(g+=1,qt=yt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}le.H=MT,x=i(s,f)}while(to);return x}function bT(){var n=le.H,i=n.useState()[0];return i=typeof i.then=="function"?bs(i):i,n=n.useState()[0],(yt!==null?yt.memoizedState:null)!==n&&(et.flags|=1024),i}function tc(){var n=Fa!==0;return Fa=0,n}function nc(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function rc(n){if(Oa){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Oa=!1}Gr=0,qt=yt=et=null,to=!1,_s=Fa=0,no=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?et.memoizedState=qt=n:qt=qt.next=n,qt}function Ht(){if(yt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=qt===null?et.memoizedState:qt.next;if(i!==null)qt=i,yt=n;else{if(n===null)throw et.alternate===null?Error(o(467)):Error(o(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},qt===null?et.memoizedState=qt=n:qt=qt.next=n}return qt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bs(n){var i=_s;return _s+=1,no===null&&(no=[]),n=jh(no,n,i),i=et,(qt===null?i.memoizedState:qt.next)===null&&(i=i.alternate,le.H=i===null||i.memoizedState===null?zp:Gp),n}function za(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bs(n);if(n.$$typeof===P)return tn(n)}throw Error(o(438,String(n)))}function oc(n){var i=null,s=et.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var f=et.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ic(),et.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),f=0;f<n;f++)s[f]=Te;return i.index++,s}function wr(n,i){return typeof i=="function"?i(n):i}function Ga(n){var i=Ht();return sc(i,yt,n)}function sc(n,i,s){var f=n.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=s;var g=n.baseQueue,x=f.pending;if(x!==null){if(g!==null){var L=g.next;g.next=x.next,x.next=L}i.baseQueue=g=x,f.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{i=g.next;var V=L=null,oe=null,ve=i,Ae=!1;do{var Me=ve.lane&-536870913;if(Me!==ve.lane?(at&Me)===Me:(Gr&Me)===Me){var we=ve.revertLane;if(we===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Me===ji&&(Ae=!0);else if((Gr&we)===we){ve=ve.next,we===ji&&(Ae=!0);continue}else Me={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(V=oe=Me,L=x):oe=oe.next=Me,et.lanes|=we,Wr|=we;Me=ve.action,wi&&s(x,Me),x=ve.hasEagerState?ve.eagerState:s(x,Me)}else we={lane:Me,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(V=oe=we,L=x):oe=oe.next=we,et.lanes|=Me,Wr|=Me;ve=ve.next}while(ve!==null&&ve!==i);if(oe===null?L=x:oe.next=V,!Sn(x,n.memoizedState)&&(Jt=!0,Ae&&(s=Qi,s!==null)))throw s;n.memoizedState=x,n.baseState=L,n.baseQueue=oe,f.lastRenderedState=x}return g===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function ac(n){var i=Ht(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var f=s.dispatch,g=s.pending,x=i.memoizedState;if(g!==null){s.pending=null;var L=g=g.next;do x=n(x,L.action),L=L.next;while(L!==g);Sn(x,i.memoizedState)||(Jt=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),s.lastRenderedState=x}return[x,f]}function sp(n,i,s){var f=et,g=Ht(),x=ct;if(x){if(s===void 0)throw Error(o(407));s=s()}else s=i();var L=!Sn((yt||g).memoizedState,s);L&&(g.memoizedState=s,Jt=!0),g=g.queue;var V=up.bind(null,f,g,n);if(Cs(2048,8,V,[n]),g.getSnapshot!==i||L||qt!==null&&qt.memoizedState.tag&1){if(f.flags|=2048,ro(9,Va(),lp.bind(null,f,g,s,i),null),Et===null)throw Error(o(349));x||(Gr&124)!==0||ap(f,i,s)}return s}function ap(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=et.updateQueue,i===null?(i=ic(),et.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function lp(n,i,s,f){i.value=s,i.getSnapshot=f,cp(i)&&fp(n)}function up(n,i,s){return s(function(){cp(i)&&fp(n)})}function cp(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Sn(n,s)}catch{return!0}}function fp(n){var i=Wi(n,2);i!==null&&Rn(i,n,2)}function lc(n){var i=mn();if(typeof n=="function"){var s=n;if(n=s(),wi){Ge(!0);try{s()}finally{Ge(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:n},i}function dp(n,i,s,f){return n.baseState=s,sc(n,yt,typeof f=="function"?f:wr)}function CT(n,i,s,f,g){if(Ha(n))throw Error(o(485));if(n=i.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};le.T!==null?s(!0):x.isTransition=!1,f(x),s=i.pending,s===null?(x.next=i.pending=x,hp(i,x)):(x.next=s.next,i.pending=s.next=x)}}function hp(n,i){var s=i.action,f=i.payload,g=n.state;if(i.isTransition){var x=le.T,L={};le.T=L;try{var V=s(g,f),oe=le.S;oe!==null&&oe(L,V),pp(n,i,V)}catch(ve){uc(n,i,ve)}finally{le.T=x}}else try{x=s(g,f),pp(n,i,x)}catch(ve){uc(n,i,ve)}}function pp(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(f){mp(n,i,f)},function(f){return uc(n,i,f)}):mp(n,i,s)}function mp(n,i,s){i.status="fulfilled",i.value=s,gp(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,hp(n,s)))}function uc(n,i,s){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=s,gp(i),i=i.next;while(i!==f)}n.action=null}function gp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function yp(n,i){return i}function vp(n,i){if(ct){var s=Et.formState;if(s!==null){e:{var f=et;if(ct){if(It){t:{for(var g=It,x=jn;g.nodeType!==8;){if(!x){g=null;break t}if(g=Yn(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){It=Yn(g.nextSibling),f=g.data==="F!";break e}}mi(f)}f=!1}f&&(i=s[0])}}return s=mn(),s.memoizedState=s.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:i},s.queue=f,s=Pp.bind(null,et,f),f.dispatch=s,f=lc(!1),x=pc.bind(null,et,!1,f.queue),f=mn(),g={state:i,dispatch:null,action:n,pending:null},f.queue=g,s=CT.bind(null,et,g,x,s),g.dispatch=s,f.memoizedState=n,[i,s,!1]}function wp(n){var i=Ht();return xp(i,yt,n)}function xp(n,i,s){if(i=sc(n,i,yp)[0],n=Ga(wr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=bs(i)}catch(L){throw L===ws?La:L}else f=i;i=Ht();var g=i.queue,x=g.dispatch;return s!==i.memoizedState&&(et.flags|=2048,ro(9,Va(),AT.bind(null,g,s),null)),[f,x,n]}function AT(n,i){n.action=i}function Tp(n){var i=Ht(),s=yt;if(s!==null)return xp(i,s,n);Ht(),i=i.memoizedState,s=Ht();var f=s.queue.dispatch;return s.memoizedState=n,[i,f,!1]}function ro(n,i,s,f){return n={tag:n,create:s,deps:f,inst:i,next:null},i=et.updateQueue,i===null&&(i=ic(),et.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(f=s.next,s.next=n,n.next=f,i.lastEffect=n),n}function Va(){return{destroy:void 0,resource:void 0}}function Sp(){return Ht().memoizedState}function qa(n,i,s,f){var g=mn();f=f===void 0?null:f,et.flags|=n,g.memoizedState=ro(1|i,Va(),s,f)}function Cs(n,i,s,f){var g=Ht();f=f===void 0?null:f;var x=g.memoizedState.inst;yt!==null&&f!==null&&Qu(f,yt.memoizedState.deps)?g.memoizedState=ro(i,x,s,f):(et.flags|=n,g.memoizedState=ro(1|i,x,s,f))}function Ep(n,i){qa(8390656,8,n,i)}function _p(n,i){Cs(2048,8,n,i)}function bp(n,i){return Cs(4,2,n,i)}function Cp(n,i){return Cs(4,4,n,i)}function Ap(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Rp(n,i,s){s=s!=null?s.concat([n]):null,Cs(4,4,Ap.bind(null,i,n),s)}function cc(){}function Np(n,i){var s=Ht();i=i===void 0?null:i;var f=s.memoizedState;return i!==null&&Qu(i,f[1])?f[0]:(s.memoizedState=[n,i],n)}function Dp(n,i){var s=Ht();i=i===void 0?null:i;var f=s.memoizedState;if(i!==null&&Qu(i,f[1]))return f[0];if(f=n(),wi){Ge(!0);try{n()}finally{Ge(!1)}}return s.memoizedState=[f,i],f}function fc(n,i,s){return s===void 0||(Gr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=km(),et.lanes|=n,Wr|=n,s)}function Mp(n,i,s,f){return Sn(s,i)?s:eo.current!==null?(n=fc(n,s,f),Sn(n,i)||(Jt=!0),n):(Gr&42)===0?(Jt=!0,n.memoizedState=s):(n=km(),et.lanes|=n,Wr|=n,i)}function Ip(n,i,s,f,g){var x=se.p;se.p=x!==0&&8>x?x:8;var L=le.T,V={};le.T=V,pc(n,!1,i,s);try{var oe=g(),ve=le.S;if(ve!==null&&ve(V,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ae=ET(oe,f);As(n,i,Ae,An(n))}else As(n,i,f,An(n))}catch(Me){As(n,i,{then:function(){},status:"rejected",reason:Me},An())}finally{se.p=x,le.T=L}}function RT(){}function dc(n,i,s,f){if(n.tag!==5)throw Error(o(476));var g=kp(n).queue;Ip(n,g,i,Ce,s===null?RT:function(){return Up(n),s(f)})}function kp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:Ce},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Up(n){var i=kp(n).next.queue;As(n,i,{},An())}function hc(){return tn(Ks)}function Lp(){return Ht().memoizedState}function Bp(){return Ht().memoizedState}function NT(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=An();n=Fr(s);var f=zr(i,n,s);f!==null&&(Rn(f,i,s),Ts(f,i,s)),i={cache:qu()},n.payload=i;return}i=i.return}}function DT(n,i,s){var f=An();s={lane:f,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ha(n)?Op(i,s):(s=ku(n,i,s,f),s!==null&&(Rn(s,n,f),Fp(s,i,f)))}function Pp(n,i,s){var f=An();As(n,i,s,f)}function As(n,i,s,f){var g={lane:f,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ha(n))Op(i,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var L=i.lastRenderedState,V=x(L,s);if(g.hasEagerState=!0,g.eagerState=V,Sn(V,L))return Aa(n,i,g,0),Et===null&&Ca(),!1}catch{}finally{}if(s=ku(n,i,g,f),s!==null)return Rn(s,n,f),Fp(s,i,f),!0}return!1}function pc(n,i,s,f){if(f={lane:2,revertLane:Yc(),action:f,hasEagerState:!1,eagerState:null,next:null},Ha(n)){if(i)throw Error(o(479))}else i=ku(n,s,f,2),i!==null&&Rn(i,n,2)}function Ha(n){var i=n.alternate;return n===et||i!==null&&i===et}function Op(n,i){to=Oa=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Fp(n,i,s){if((s&4194048)!==0){var f=i.lanes;f&=n.pendingLanes,s|=f,i.lanes=s,$o(n,s)}}var Ka={readContext:tn,use:za,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},zp={readContext:tn,use:za,useCallback:function(n,i){return mn().memoizedState=[n,i===void 0?null:i],n},useContext:tn,useEffect:Ep,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,qa(4194308,4,Ap.bind(null,i,n),s)},useLayoutEffect:function(n,i){return qa(4194308,4,n,i)},useInsertionEffect:function(n,i){qa(4,2,n,i)},useMemo:function(n,i){var s=mn();i=i===void 0?null:i;var f=n();if(wi){Ge(!0);try{n()}finally{Ge(!1)}}return s.memoizedState=[f,i],f},useReducer:function(n,i,s){var f=mn();if(s!==void 0){var g=s(i);if(wi){Ge(!0);try{s(i)}finally{Ge(!1)}}}else g=i;return f.memoizedState=f.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},f.queue=n,n=n.dispatch=DT.bind(null,et,n),[f.memoizedState,n]},useRef:function(n){var i=mn();return n={current:n},i.memoizedState=n},useState:function(n){n=lc(n);var i=n.queue,s=Pp.bind(null,et,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:cc,useDeferredValue:function(n,i){var s=mn();return fc(s,n,i)},useTransition:function(){var n=lc(!1);return n=Ip.bind(null,et,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var f=et,g=mn();if(ct){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),Et===null)throw Error(o(349));(at&124)!==0||ap(f,i,s)}g.memoizedState=s;var x={value:s,getSnapshot:i};return g.queue=x,Ep(up.bind(null,f,x,n),[n]),f.flags|=2048,ro(9,Va(),lp.bind(null,f,x,s,i),null),s},useId:function(){var n=mn(),i=Et.identifierPrefix;if(ct){var s=gr,f=mr;s=(f&~(1<<32-Ze(f)-1)).toString(32)+s,i=""+i+"R"+s,s=Fa++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=_T++,i=""+i+"r"+s.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:hc,useFormState:vp,useActionState:vp,useOptimistic:function(n){var i=mn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=pc.bind(null,et,!0,s),s.dispatch=i,[n,i]},useMemoCache:oc,useCacheRefresh:function(){return mn().memoizedState=NT.bind(null,et)}},Gp={readContext:tn,use:za,useCallback:Np,useContext:tn,useEffect:_p,useImperativeHandle:Rp,useInsertionEffect:bp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Ga,useRef:Sp,useState:function(){return Ga(wr)},useDebugValue:cc,useDeferredValue:function(n,i){var s=Ht();return Mp(s,yt.memoizedState,n,i)},useTransition:function(){var n=Ga(wr)[0],i=Ht().memoizedState;return[typeof n=="boolean"?n:bs(n),i]},useSyncExternalStore:sp,useId:Lp,useHostTransitionStatus:hc,useFormState:wp,useActionState:wp,useOptimistic:function(n,i){var s=Ht();return dp(s,yt,n,i)},useMemoCache:oc,useCacheRefresh:Bp},MT={readContext:tn,use:za,useCallback:Np,useContext:tn,useEffect:_p,useImperativeHandle:Rp,useInsertionEffect:bp,useLayoutEffect:Cp,useMemo:Dp,useReducer:ac,useRef:Sp,useState:function(){return ac(wr)},useDebugValue:cc,useDeferredValue:function(n,i){var s=Ht();return yt===null?fc(s,n,i):Mp(s,yt.memoizedState,n,i)},useTransition:function(){var n=ac(wr)[0],i=Ht().memoizedState;return[typeof n=="boolean"?n:bs(n),i]},useSyncExternalStore:sp,useId:Lp,useHostTransitionStatus:hc,useFormState:Tp,useActionState:Tp,useOptimistic:function(n,i){var s=Ht();return yt!==null?dp(s,yt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:oc,useCacheRefresh:Bp},io=null,Rs=0;function Ya(n){var i=Rs;return Rs+=1,io===null&&(io=[]),jh(io,n,i)}function Ns(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ja(n,i){throw i.$$typeof===w?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Vp(n){var i=n._init;return i(n._payload)}function qp(n){function i(me,fe){if(n){var ye=me.deletions;ye===null?(me.deletions=[fe],me.flags|=16):ye.push(fe)}}function s(me,fe){if(!n)return null;for(;fe!==null;)i(me,fe),fe=fe.sibling;return null}function f(me){for(var fe=new Map;me!==null;)me.key!==null?fe.set(me.key,me):fe.set(me.index,me),me=me.sibling;return fe}function g(me,fe){return me=pr(me,fe),me.index=0,me.sibling=null,me}function x(me,fe,ye){return me.index=ye,n?(ye=me.alternate,ye!==null?(ye=ye.index,ye<fe?(me.flags|=67108866,fe):ye):(me.flags|=67108866,fe)):(me.flags|=1048576,fe)}function L(me){return n&&me.alternate===null&&(me.flags|=67108866),me}function V(me,fe,ye,Ne){return fe===null||fe.tag!==6?(fe=Lu(ye,me.mode,Ne),fe.return=me,fe):(fe=g(fe,ye),fe.return=me,fe)}function oe(me,fe,ye,Ne){var Fe=ye.type;return Fe===D?Ae(me,fe,ye.props.children,Ne,ye.key):fe!==null&&(fe.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===de&&Vp(Fe)===fe.type)?(fe=g(fe,ye.props),Ns(fe,ye),fe.return=me,fe):(fe=Na(ye.type,ye.key,ye.props,null,me.mode,Ne),Ns(fe,ye),fe.return=me,fe)}function ve(me,fe,ye,Ne){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=Bu(ye,me.mode,Ne),fe.return=me,fe):(fe=g(fe,ye.children||[]),fe.return=me,fe)}function Ae(me,fe,ye,Ne,Fe){return fe===null||fe.tag!==7?(fe=fi(ye,me.mode,Ne,Fe),fe.return=me,fe):(fe=g(fe,ye),fe.return=me,fe)}function Me(me,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Lu(""+fe,me.mode,ye),fe.return=me,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case S:return ye=Na(fe.type,fe.key,fe.props,null,me.mode,ye),Ns(ye,fe),ye.return=me,ye;case E:return fe=Bu(fe,me.mode,ye),fe.return=me,fe;case de:var Ne=fe._init;return fe=Ne(fe._payload),Me(me,fe,ye)}if(he(fe)||Z(fe))return fe=fi(fe,me.mode,ye,null),fe.return=me,fe;if(typeof fe.then=="function")return Me(me,Ya(fe),ye);if(fe.$$typeof===P)return Me(me,ka(me,fe),ye);Ja(me,fe)}return null}function we(me,fe,ye,Ne){var Fe=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Fe!==null?null:V(me,fe,""+ye,Ne);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:return ye.key===Fe?oe(me,fe,ye,Ne):null;case E:return ye.key===Fe?ve(me,fe,ye,Ne):null;case de:return Fe=ye._init,ye=Fe(ye._payload),we(me,fe,ye,Ne)}if(he(ye)||Z(ye))return Fe!==null?null:Ae(me,fe,ye,Ne,null);if(typeof ye.then=="function")return we(me,fe,Ya(ye),Ne);if(ye.$$typeof===P)return we(me,fe,ka(me,ye),Ne);Ja(me,ye)}return null}function xe(me,fe,ye,Ne,Fe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return me=me.get(ye)||null,V(fe,me,""+Ne,Fe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case S:return me=me.get(Ne.key===null?ye:Ne.key)||null,oe(fe,me,Ne,Fe);case E:return me=me.get(Ne.key===null?ye:Ne.key)||null,ve(fe,me,Ne,Fe);case de:var nt=Ne._init;return Ne=nt(Ne._payload),xe(me,fe,ye,Ne,Fe)}if(he(Ne)||Z(Ne))return me=me.get(ye)||null,Ae(fe,me,Ne,Fe,null);if(typeof Ne.then=="function")return xe(me,fe,ye,Ya(Ne),Fe);if(Ne.$$typeof===P)return xe(me,fe,ye,ka(fe,Ne),Fe);Ja(fe,Ne)}return null}function We(me,fe,ye,Ne){for(var Fe=null,nt=null,He=fe,Je=fe=0,$t=null;He!==null&&Je<ye.length;Je++){He.index>Je?($t=He,He=null):$t=He.sibling;var ut=we(me,He,ye[Je],Ne);if(ut===null){He===null&&(He=$t);break}n&&He&&ut.alternate===null&&i(me,He),fe=x(ut,fe,Je),nt===null?Fe=ut:nt.sibling=ut,nt=ut,He=$t}if(Je===ye.length)return s(me,He),ct&&hi(me,Je),Fe;if(He===null){for(;Je<ye.length;Je++)He=Me(me,ye[Je],Ne),He!==null&&(fe=x(He,fe,Je),nt===null?Fe=He:nt.sibling=He,nt=He);return ct&&hi(me,Je),Fe}for(He=f(He);Je<ye.length;Je++)$t=xe(He,me,Je,ye[Je],Ne),$t!==null&&(n&&$t.alternate!==null&&He.delete($t.key===null?Je:$t.key),fe=x($t,fe,Je),nt===null?Fe=$t:nt.sibling=$t,nt=$t);return n&&He.forEach(function(ri){return i(me,ri)}),ct&&hi(me,Je),Fe}function Ye(me,fe,ye,Ne){if(ye==null)throw Error(o(151));for(var Fe=null,nt=null,He=fe,Je=fe=0,$t=null,ut=ye.next();He!==null&&!ut.done;Je++,ut=ye.next()){He.index>Je?($t=He,He=null):$t=He.sibling;var ri=we(me,He,ut.value,Ne);if(ri===null){He===null&&(He=$t);break}n&&He&&ri.alternate===null&&i(me,He),fe=x(ri,fe,Je),nt===null?Fe=ri:nt.sibling=ri,nt=ri,He=$t}if(ut.done)return s(me,He),ct&&hi(me,Je),Fe;if(He===null){for(;!ut.done;Je++,ut=ye.next())ut=Me(me,ut.value,Ne),ut!==null&&(fe=x(ut,fe,Je),nt===null?Fe=ut:nt.sibling=ut,nt=ut);return ct&&hi(me,Je),Fe}for(He=f(He);!ut.done;Je++,ut=ye.next())ut=xe(He,me,Je,ut.value,Ne),ut!==null&&(n&&ut.alternate!==null&&He.delete(ut.key===null?Je:ut.key),fe=x(ut,fe,Je),nt===null?Fe=ut:nt.sibling=ut,nt=ut);return n&&He.forEach(function(I1){return i(me,I1)}),ct&&hi(me,Je),Fe}function wt(me,fe,ye,Ne){if(typeof ye=="object"&&ye!==null&&ye.type===D&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:e:{for(var Fe=ye.key;fe!==null;){if(fe.key===Fe){if(Fe=ye.type,Fe===D){if(fe.tag===7){s(me,fe.sibling),Ne=g(fe,ye.props.children),Ne.return=me,me=Ne;break e}}else if(fe.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===de&&Vp(Fe)===fe.type){s(me,fe.sibling),Ne=g(fe,ye.props),Ns(Ne,ye),Ne.return=me,me=Ne;break e}s(me,fe);break}else i(me,fe);fe=fe.sibling}ye.type===D?(Ne=fi(ye.props.children,me.mode,Ne,ye.key),Ne.return=me,me=Ne):(Ne=Na(ye.type,ye.key,ye.props,null,me.mode,Ne),Ns(Ne,ye),Ne.return=me,me=Ne)}return L(me);case E:e:{for(Fe=ye.key;fe!==null;){if(fe.key===Fe)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){s(me,fe.sibling),Ne=g(fe,ye.children||[]),Ne.return=me,me=Ne;break e}else{s(me,fe);break}else i(me,fe);fe=fe.sibling}Ne=Bu(ye,me.mode,Ne),Ne.return=me,me=Ne}return L(me);case de:return Fe=ye._init,ye=Fe(ye._payload),wt(me,fe,ye,Ne)}if(he(ye))return We(me,fe,ye,Ne);if(Z(ye)){if(Fe=Z(ye),typeof Fe!="function")throw Error(o(150));return ye=Fe.call(ye),Ye(me,fe,ye,Ne)}if(typeof ye.then=="function")return wt(me,fe,Ya(ye),Ne);if(ye.$$typeof===P)return wt(me,fe,ka(me,ye),Ne);Ja(me,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,fe!==null&&fe.tag===6?(s(me,fe.sibling),Ne=g(fe,ye),Ne.return=me,me=Ne):(s(me,fe),Ne=Lu(ye,me.mode,Ne),Ne.return=me,me=Ne),L(me)):s(me,fe)}return function(me,fe,ye,Ne){try{Rs=0;var Fe=wt(me,fe,ye,Ne);return io=null,Fe}catch(He){if(He===ws||He===La)throw He;var nt=En(29,He,null,me.mode);return nt.lanes=Ne,nt.return=me,nt}finally{}}}var oo=qp(!0),Hp=qp(!1),Ln=Y(null),Qn=null;function Vr(n){var i=n.alternate;J(Yt,Yt.current&1),J(Ln,n),Qn===null&&(i===null||eo.current!==null||i.memoizedState!==null)&&(Qn=n)}function Kp(n){if(n.tag===22){if(J(Yt,Yt.current),J(Ln,n),Qn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Qn=n)}}else qr()}function qr(){J(Yt,Yt.current),J(Ln,Ln.current)}function xr(n){O(Ln),Qn===n&&(Qn=null),O(Yt)}var Yt=Y(0);function Wa(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||of(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function mc(n,i,s,f){i=n.memoizedState,s=s(f,i),s=s==null?i:y({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var gc={enqueueSetState:function(n,i,s){n=n._reactInternals;var f=An(),g=Fr(f);g.payload=i,s!=null&&(g.callback=s),i=zr(n,g,f),i!==null&&(Rn(i,n,f),Ts(i,n,f))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var f=An(),g=Fr(f);g.tag=1,g.payload=i,s!=null&&(g.callback=s),i=zr(n,g,f),i!==null&&(Rn(i,n,f),Ts(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=An(),f=Fr(s);f.tag=2,i!=null&&(f.callback=i),i=zr(n,f,s),i!==null&&(Rn(i,n,s),Ts(i,n,s))}};function Yp(n,i,s,f,g,x,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,x,L):i.prototype&&i.prototype.isPureReactComponent?!fs(s,f)||!fs(g,x):!0}function Jp(n,i,s,f){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,f),i.state!==n&&gc.enqueueReplaceState(i,i.state,null)}function xi(n,i){var s=i;if("ref"in i){s={};for(var f in i)f!=="ref"&&(s[f]=i[f])}if(n=n.defaultProps){s===i&&(s=y({},s));for(var g in n)s[g]===void 0&&(s[g]=n[g])}return s}var $a=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Wp(n){$a(n)}function $p(n){console.error(n)}function Xp(n){$a(n)}function Xa(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function Zp(n,i,s){try{var f=n.onCaughtError;f(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function yc(n,i,s){return s=Fr(s),s.tag=3,s.payload={element:null},s.callback=function(){Xa(n,i)},s}function jp(n){return n=Fr(n),n.tag=3,n}function Qp(n,i,s,f){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var x=f.value;n.payload=function(){return g(x)},n.callback=function(){Zp(i,s,f)}}var L=s.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){Zp(i,s,f),typeof g!="function"&&($r===null?$r=new Set([this]):$r.add(this));var V=f.stack;this.componentDidCatch(f.value,{componentStack:V!==null?V:""})})}function IT(n,i,s,f,g){if(s.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=s.alternate,i!==null&&gs(i,s,g,!0),s=Ln.current,s!==null){switch(s.tag){case 13:return Qn===null?Gc():s.alternate===null&&kt===0&&(kt=3),s.flags&=-257,s.flags|=65536,s.lanes=g,f===Yu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([f]):i.add(f),qc(n,f,g)),!1;case 22:return s.flags|=65536,f===Yu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([f]):s.add(f)),qc(n,f,g)),!1}throw Error(o(435,s.tag))}return qc(n,f,g),Gc(),!1}if(ct)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==Fu&&(n=Error(o(422),{cause:f}),ms(Mn(n,s)))):(f!==Fu&&(i=Error(o(423),{cause:f}),ms(Mn(i,s))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,f=Mn(f,s),g=yc(n.stateNode,f,g),$u(n,g),kt!==4&&(kt=2)),!1;var x=Error(o(520),{cause:f});if(x=Mn(x,s),Bs===null?Bs=[x]:Bs.push(x),kt!==4&&(kt=2),i===null)return!0;f=Mn(f,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=g&-g,s.lanes|=n,n=yc(s.stateNode,f,n),$u(s,n),!1;case 1:if(i=s.type,x=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($r===null||!$r.has(x))))return s.flags|=65536,g&=-g,s.lanes|=g,g=jp(g),Qp(g,n,s,f),$u(s,g),!1}s=s.return}while(s!==null);return!1}var em=Error(o(461)),Jt=!1;function Zt(n,i,s,f){i.child=n===null?Hp(i,null,s,f):oo(i,n.child,s,f)}function tm(n,i,s,f,g){s=s.render;var x=i.ref;if("ref"in f){var L={};for(var V in f)V!=="ref"&&(L[V]=f[V])}else L=f;return yi(i),f=ec(n,i,s,L,x,g),V=tc(),n!==null&&!Jt?(nc(n,i,g),Tr(n,i,g)):(ct&&V&&Pu(i),i.flags|=1,Zt(n,i,f,g),i.child)}function nm(n,i,s,f,g){if(n===null){var x=s.type;return typeof x=="function"&&!Uu(x)&&x.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=x,rm(n,i,x,f,g)):(n=Na(s.type,null,f,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(x=n.child,!bc(n,g)){var L=x.memoizedProps;if(s=s.compare,s=s!==null?s:fs,s(L,f)&&n.ref===i.ref)return Tr(n,i,g)}return i.flags|=1,n=pr(x,f),n.ref=i.ref,n.return=i,i.child=n}function rm(n,i,s,f,g){if(n!==null){var x=n.memoizedProps;if(fs(x,f)&&n.ref===i.ref)if(Jt=!1,i.pendingProps=f=x,bc(n,g))(n.flags&131072)!==0&&(Jt=!0);else return i.lanes=n.lanes,Tr(n,i,g)}return vc(n,i,s,f,g)}function im(n,i,s){var f=i.pendingProps,g=f.children,x=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=x!==null?x.baseLanes|s:s,n!==null){for(g=i.child=n.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;i.childLanes=x&~f}else i.childLanes=0,i.child=null;return om(n,i,f,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ua(i,x!==null?x.cachePool:null),x!==null?rp(i,x):Zu(),Kp(i);else return i.lanes=i.childLanes=536870912,om(n,i,x!==null?x.baseLanes|s:s,s)}else x!==null?(Ua(i,x.cachePool),rp(i,x),qr(),i.memoizedState=null):(n!==null&&Ua(i,null),Zu(),qr());return Zt(n,i,g,s),i.child}function om(n,i,s,f){var g=Ku();return g=g===null?null:{parent:Kt._currentValue,pool:g},i.memoizedState={baseLanes:s,cachePool:g},n!==null&&Ua(i,null),Zu(),Kp(i),n!==null&&gs(n,i,f,!0),null}function Za(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function vc(n,i,s,f,g){return yi(i),s=ec(n,i,s,f,void 0,g),f=tc(),n!==null&&!Jt?(nc(n,i,g),Tr(n,i,g)):(ct&&f&&Pu(i),i.flags|=1,Zt(n,i,s,g),i.child)}function sm(n,i,s,f,g,x){return yi(i),i.updateQueue=null,s=op(i,f,s,g),ip(n),f=tc(),n!==null&&!Jt?(nc(n,i,x),Tr(n,i,x)):(ct&&f&&Pu(i),i.flags|=1,Zt(n,i,s,x),i.child)}function am(n,i,s,f,g){if(yi(i),i.stateNode===null){var x=$i,L=s.contextType;typeof L=="object"&&L!==null&&(x=tn(L)),x=new s(f,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=gc,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=f,x.state=i.memoizedState,x.refs={},Ju(i),L=s.contextType,x.context=typeof L=="object"&&L!==null?tn(L):$i,x.state=i.memoizedState,L=s.getDerivedStateFromProps,typeof L=="function"&&(mc(i,s,L,f),x.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&gc.enqueueReplaceState(x,x.state,null),Es(i,f,x,g),Ss(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(n===null){x=i.stateNode;var V=i.memoizedProps,oe=xi(s,V);x.props=oe;var ve=x.context,Ae=s.contextType;L=$i,typeof Ae=="object"&&Ae!==null&&(L=tn(Ae));var Me=s.getDerivedStateFromProps;Ae=typeof Me=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,Ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||ve!==L)&&Jp(i,x,f,L),Or=!1;var we=i.memoizedState;x.state=we,Es(i,f,x,g),Ss(),ve=i.memoizedState,V||we!==ve||Or?(typeof Me=="function"&&(mc(i,s,Me,f),ve=i.memoizedState),(oe=Or||Yp(i,s,oe,f,we,ve,L))?(Ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=ve),x.props=f,x.state=ve,x.context=L,f=oe):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{x=i.stateNode,Wu(n,i),L=i.memoizedProps,Ae=xi(s,L),x.props=Ae,Me=i.pendingProps,we=x.context,ve=s.contextType,oe=$i,typeof ve=="object"&&ve!==null&&(oe=tn(ve)),V=s.getDerivedStateFromProps,(ve=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==Me||we!==oe)&&Jp(i,x,f,oe),Or=!1,we=i.memoizedState,x.state=we,Es(i,f,x,g),Ss();var xe=i.memoizedState;L!==Me||we!==xe||Or||n!==null&&n.dependencies!==null&&Ia(n.dependencies)?(typeof V=="function"&&(mc(i,s,V,f),xe=i.memoizedState),(Ae=Or||Yp(i,s,Ae,f,we,xe,oe)||n!==null&&n.dependencies!==null&&Ia(n.dependencies))?(ve||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,xe,oe),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,xe,oe)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=xe),x.props=f,x.state=xe,x.context=oe,f=Ae):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=1024),f=!1)}return x=f,Za(n,i),f=(i.flags&128)!==0,x||f?(x=i.stateNode,s=f&&typeof s.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,n!==null&&f?(i.child=oo(i,n.child,null,g),i.child=oo(i,null,s,g)):Zt(n,i,s,g),i.memoizedState=x.state,n=i.child):n=Tr(n,i,g),n}function lm(n,i,s,f){return ps(),i.flags|=256,Zt(n,i,s,f),i.child}var wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(n){return{baseLanes:n,cachePool:$h()}}function Tc(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=Bn),n}function um(n,i,s){var f=i.pendingProps,g=!1,x=(i.flags&128)!==0,L;if((L=x)||(L=n!==null&&n.memoizedState===null?!1:(Yt.current&2)!==0),L&&(g=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(ct){if(g?Vr(i):qr(),ct){var V=It,oe;if(oe=V){e:{for(oe=V,V=jn;oe.nodeType!==8;){if(!V){V=null;break e}if(oe=Yn(oe.nextSibling),oe===null){V=null;break e}}V=oe}V!==null?(i.memoizedState={dehydrated:V,treeContext:di!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},oe=En(18,null,null,0),oe.stateNode=V,oe.return=i,i.child=oe,fn=i,It=null,oe=!0):oe=!1}oe||mi(i)}if(V=i.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return of(V)?i.lanes=32:i.lanes=536870912,null;xr(i)}return V=f.children,f=f.fallback,g?(qr(),g=i.mode,V=ja({mode:"hidden",children:V},g),f=fi(f,g,s,null),V.return=i,f.return=i,V.sibling=f,i.child=V,g=i.child,g.memoizedState=xc(s),g.childLanes=Tc(n,L,s),i.memoizedState=wc,f):(Vr(i),Sc(i,V))}if(oe=n.memoizedState,oe!==null&&(V=oe.dehydrated,V!==null)){if(x)i.flags&256?(Vr(i),i.flags&=-257,i=Ec(n,i,s)):i.memoizedState!==null?(qr(),i.child=n.child,i.flags|=128,i=null):(qr(),g=f.fallback,V=i.mode,f=ja({mode:"visible",children:f.children},V),g=fi(g,V,s,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,oo(i,n.child,null,s),f=i.child,f.memoizedState=xc(s),f.childLanes=Tc(n,L,s),i.memoizedState=wc,i=g);else if(Vr(i),of(V)){if(L=V.nextSibling&&V.nextSibling.dataset,L)var ve=L.dgst;L=ve,f=Error(o(419)),f.stack="",f.digest=L,ms({value:f,source:null,stack:null}),i=Ec(n,i,s)}else if(Jt||gs(n,i,s,!1),L=(s&n.childLanes)!==0,Jt||L){if(L=Et,L!==null&&(f=s&-s,f=(f&42)!==0?1:Li(f),f=(f&(L.suspendedLanes|s))!==0?0:f,f!==0&&f!==oe.retryLane))throw oe.retryLane=f,Wi(n,f),Rn(L,n,f),em;V.data==="$?"||Gc(),i=Ec(n,i,s)}else V.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=oe.treeContext,It=Yn(V.nextSibling),fn=i,ct=!0,pi=null,jn=!1,n!==null&&(kn[Un++]=mr,kn[Un++]=gr,kn[Un++]=di,mr=n.id,gr=n.overflow,di=i),i=Sc(i,f.children),i.flags|=4096);return i}return g?(qr(),g=f.fallback,V=i.mode,oe=n.child,ve=oe.sibling,f=pr(oe,{mode:"hidden",children:f.children}),f.subtreeFlags=oe.subtreeFlags&65011712,ve!==null?g=pr(ve,g):(g=fi(g,V,s,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,V=n.child.memoizedState,V===null?V=xc(s):(oe=V.cachePool,oe!==null?(ve=Kt._currentValue,oe=oe.parent!==ve?{parent:ve,pool:ve}:oe):oe=$h(),V={baseLanes:V.baseLanes|s,cachePool:oe}),g.memoizedState=V,g.childLanes=Tc(n,L,s),i.memoizedState=wc,f):(Vr(i),s=n.child,n=s.sibling,s=pr(s,{mode:"visible",children:f.children}),s.return=i,s.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=s,i.memoizedState=null,s)}function Sc(n,i){return i=ja({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function ja(n,i){return n=En(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ec(n,i,s){return oo(i,n.child,null,s),n=Sc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function cm(n,i,s){n.lanes|=i;var f=n.alternate;f!==null&&(f.lanes|=i),Gu(n.return,i,s)}function _c(n,i,s,f,g){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=s,x.tailMode=g)}function fm(n,i,s){var f=i.pendingProps,g=f.revealOrder,x=f.tail;if(Zt(n,i,f.children,s),f=Yt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cm(n,s,i);else if(n.tag===19)cm(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(J(Yt,f),g){case"forwards":for(s=i.child,g=null;s!==null;)n=s.alternate,n!==null&&Wa(n)===null&&(g=s),s=s.sibling;s=g,s===null?(g=i.child,i.child=null):(g=s.sibling,s.sibling=null),_c(i,!1,g,s,x);break;case"backwards":for(s=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Wa(n)===null){i.child=g;break}n=g.sibling,g.sibling=s,s=g,g=n}_c(i,!0,s,null,x);break;case"together":_c(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Tr(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Wr|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(gs(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,s=pr(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=pr(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function bc(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ia(n)))}function kT(n,i,s){switch(i.tag){case 3:N(i,i.stateNode.containerInfo),Pr(i,Kt,n.memoizedState.cache),ps();break;case 27:case 5:W(i);break;case 4:N(i,i.stateNode.containerInfo);break;case 10:Pr(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(Vr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?um(n,i,s):(Vr(i),n=Tr(n,i,s),n!==null?n.sibling:null);Vr(i);break;case 19:var g=(n.flags&128)!==0;if(f=(s&i.childLanes)!==0,f||(gs(n,i,s,!1),f=(s&i.childLanes)!==0),g){if(f)return fm(n,i,s);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),J(Yt,Yt.current),f)break;return null;case 22:case 23:return i.lanes=0,im(n,i,s);case 24:Pr(i,Kt,n.memoizedState.cache)}return Tr(n,i,s)}function dm(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Jt=!0;else{if(!bc(n,s)&&(i.flags&128)===0)return Jt=!1,kT(n,i,s);Jt=(n.flags&131072)!==0}else Jt=!1,ct&&(i.flags&1048576)!==0&&Vh(i,Ma,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")Uu(f)?(n=xi(f,n),i.tag=1,i=am(null,i,f,n,s)):(i.tag=0,i=vc(null,i,f,n,s));else{if(f!=null){if(g=f.$$typeof,g===H){i.tag=11,i=tm(null,i,f,n,s);break e}else if(g===ae){i.tag=14,i=nm(null,i,f,n,s);break e}}throw i=B(f)||f,Error(o(306,i,""))}}return i;case 0:return vc(n,i,i.type,i.pendingProps,s);case 1:return f=i.type,g=xi(f,i.pendingProps),am(n,i,f,g,s);case 3:e:{if(N(i,i.stateNode.containerInfo),n===null)throw Error(o(387));f=i.pendingProps;var x=i.memoizedState;g=x.element,Wu(n,i),Es(i,f,null,s);var L=i.memoizedState;if(f=L.cache,Pr(i,Kt,f),f!==x.cache&&Vu(i,[Kt],s,!0),Ss(),f=L.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=lm(n,i,f,s);break e}else if(f!==g){g=Mn(Error(o(424)),i),ms(g),i=lm(n,i,f,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(It=Yn(n.firstChild),fn=i,ct=!0,pi=null,jn=!0,s=Hp(i,null,f,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ps(),f===g){i=Tr(n,i,s);break e}Zt(n,i,f,s)}i=i.child}return i;case 26:return Za(n,i),n===null?(s=gg(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,n=i.pendingProps,f=dl($.current).createElement(s),f[Vt]=i,f[Bt]=n,Qt(f,s,n),At(f),i.stateNode=f):i.memoizedState=gg(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return W(i),n===null&&ct&&(f=i.stateNode=hg(i.type,i.pendingProps,$.current),fn=i,jn=!0,g=It,jr(i.type)?(sf=g,It=Yn(f.firstChild)):It=g),Zt(n,i,i.pendingProps.children,s),Za(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ct&&((g=f=It)&&(f=a1(f,i.type,i.pendingProps,jn),f!==null?(i.stateNode=f,fn=i,It=Yn(f.firstChild),jn=!1,g=!0):g=!1),g||mi(i)),W(i),g=i.type,x=i.pendingProps,L=n!==null?n.memoizedProps:null,f=x.children,tf(g,x)?f=null:L!==null&&tf(g,L)&&(i.flags|=32),i.memoizedState!==null&&(g=ec(n,i,bT,null,null,s),Ks._currentValue=g),Za(n,i),Zt(n,i,f,s),i.child;case 6:return n===null&&ct&&((n=s=It)&&(s=l1(s,i.pendingProps,jn),s!==null?(i.stateNode=s,fn=i,It=null,n=!0):n=!1),n||mi(i)),null;case 13:return um(n,i,s);case 4:return N(i,i.stateNode.containerInfo),f=i.pendingProps,n===null?i.child=oo(i,null,f,s):Zt(n,i,f,s),i.child;case 11:return tm(n,i,i.type,i.pendingProps,s);case 7:return Zt(n,i,i.pendingProps,s),i.child;case 8:return Zt(n,i,i.pendingProps.children,s),i.child;case 12:return Zt(n,i,i.pendingProps.children,s),i.child;case 10:return f=i.pendingProps,Pr(i,i.type,f.value),Zt(n,i,f.children,s),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,yi(i),g=tn(g),f=f(g),i.flags|=1,Zt(n,i,f,s),i.child;case 14:return nm(n,i,i.type,i.pendingProps,s);case 15:return rm(n,i,i.type,i.pendingProps,s);case 19:return fm(n,i,s);case 31:return f=i.pendingProps,s=i.mode,f={mode:f.mode,children:f.children},n===null?(s=ja(f,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=pr(n.child,f),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return im(n,i,s);case 24:return yi(i),f=tn(Kt),n===null?(g=Ku(),g===null&&(g=Et,x=qu(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=s),g=x),i.memoizedState={parent:f,cache:g},Ju(i),Pr(i,Kt,g)):((n.lanes&s)!==0&&(Wu(n,i),Es(i,null,null,s),Ss()),g=n.memoizedState,x=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Pr(i,Kt,f)):(f=x.cache,Pr(i,Kt,f),f!==g.cache&&Vu(i,[Kt],s,!0))),Zt(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Sr(n){n.flags|=4}function hm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Tg(i)){if(i=Ln.current,i!==null&&((at&4194048)===at?Qn!==null:(at&62914560)!==at&&(at&536870912)===0||i!==Qn))throw xs=Yu,Xh;n.flags|=8192}}function Qa(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Mr():536870912,n.lanes|=i,uo|=i)}function Ds(n,i){if(!ct)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Mt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,f=0;if(i)for(var g=n.child;g!==null;)s|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)s|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=s,i}function UT(n,i,s){var f=i.pendingProps;switch(Ou(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Mt(i),null;case 3:return s=i.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),vr(Kt),te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(hs(i)?Sr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kh())),Mt(i),null;case 26:return s=i.memoizedState,n===null?(Sr(i),s!==null?(Mt(i),hm(i,s)):(Mt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Sr(i),Mt(i),hm(i,s)):(Mt(i),i.flags&=-16777217):(n.memoizedProps!==f&&Sr(i),Mt(i),i.flags&=-16777217),null;case 27:G(i),s=$.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==f&&Sr(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Mt(i),null}n=Q.current,hs(i)?qh(i):(n=hg(g,f,s),i.stateNode=n,Sr(i))}return Mt(i),null;case 5:if(G(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==f&&Sr(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Mt(i),null}if(n=Q.current,hs(i))qh(i);else{switch(g=dl($.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?g.createElement(s,{is:f.is}):g.createElement(s)}}n[Vt]=i,n[Bt]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(Qt(n,s,f),s){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Sr(i)}}return Mt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==f&&Sr(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(o(166));if(n=$.current,hs(i)){if(n=i.stateNode,s=i.memoizedProps,f=null,g=fn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}n[Vt]=i,n=!!(n.nodeValue===s||f!==null&&f.suppressHydrationWarning===!0||sg(n.nodeValue,s)),n||mi(i)}else n=dl(n).createTextNode(f),n[Vt]=i,i.stateNode=n}return Mt(i),null;case 13:if(f=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=hs(i),f!==null&&f.dehydrated!==null){if(n===null){if(!g)throw Error(o(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[Vt]=i}else ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),g=!1}else g=Kh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(xr(i),i):(xr(i),null)}if(xr(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=f!==null,n=n!==null&&n.memoizedState!==null,s){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Qa(i,i.updateQueue),Mt(i),null;case 4:return te(),n===null&&Xc(i.stateNode.containerInfo),Mt(i),null;case 10:return vr(i.type),Mt(i),null;case 19:if(O(Yt),g=i.memoizedState,g===null)return Mt(i),null;if(f=(i.flags&128)!==0,x=g.rendering,x===null)if(f)Ds(g,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(x=Wa(n),x!==null){for(i.flags|=128,Ds(g,!1),n=x.updateQueue,i.updateQueue=n,Qa(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Gh(s,n),s=s.sibling;return J(Yt,Yt.current&1|2),i.child}n=n.sibling}g.tail!==null&&v()>nl&&(i.flags|=128,f=!0,Ds(g,!1),i.lanes=4194304)}else{if(!f)if(n=Wa(x),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Qa(i,n),Ds(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!ct)return Mt(i),null}else 2*v()-g.renderingStartTime>nl&&s!==536870912&&(i.flags|=128,f=!0,Ds(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(n=g.last,n!==null?n.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=v(),i.sibling=null,n=Yt.current,J(Yt,f?n&1|2:n&1),i):(Mt(i),null);case 22:case 23:return xr(i),ju(),f=i.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(s&536870912)!==0&&(i.flags&128)===0&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),s=i.updateQueue,s!==null&&Qa(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==s&&(i.flags|=2048),n!==null&&O(vi),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),vr(Kt),Mt(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function LT(n,i){switch(Ou(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return vr(Kt),te(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return G(i),null;case 13:if(xr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));ps()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return O(Yt),null;case 4:return te(),null;case 10:return vr(i.type),null;case 22:case 23:return xr(i),ju(),n!==null&&O(vi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return vr(Kt),null;case 25:return null;default:return null}}function pm(n,i){switch(Ou(i),i.tag){case 3:vr(Kt),te();break;case 26:case 27:case 5:G(i);break;case 4:te();break;case 13:xr(i);break;case 19:O(Yt);break;case 10:vr(i.type);break;case 22:case 23:xr(i),ju(),n!==null&&O(vi);break;case 24:vr(Kt)}}function Ms(n,i){try{var s=i.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var g=f.next;s=g;do{if((s.tag&n)===n){f=void 0;var x=s.create,L=s.inst;f=x(),L.destroy=f}s=s.next}while(s!==g)}}catch(V){Tt(i,i.return,V)}}function Hr(n,i,s){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&n)===n){var L=f.inst,V=L.destroy;if(V!==void 0){L.destroy=void 0,g=i;var oe=s,ve=V;try{ve()}catch(Ae){Tt(g,oe,Ae)}}}f=f.next}while(f!==x)}}catch(Ae){Tt(i,i.return,Ae)}}function mm(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{np(i,s)}catch(f){Tt(n,n.return,f)}}}function gm(n,i,s){s.props=xi(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(f){Tt(n,i,f)}}function Is(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof s=="function"?n.refCleanup=s(f):s.current=f}}catch(g){Tt(n,i,g)}}function er(n,i){var s=n.ref,f=n.refCleanup;if(s!==null)if(typeof f=="function")try{f()}catch(g){Tt(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){Tt(n,i,g)}else s.current=null}function ym(n){var i=n.type,s=n.memoizedProps,f=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&f.focus();break e;case"img":s.src?f.src=s.src:s.srcSet&&(f.srcset=s.srcSet)}}catch(g){Tt(n,n.return,g)}}function Cc(n,i,s){try{var f=n.stateNode;n1(f,n.type,s,i),f[Bt]=i}catch(g){Tt(n,n.return,g)}}function vm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&jr(n.type)||n.tag===4}function Ac(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rc(n,i,s){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=fl));else if(f!==4&&(f===27&&jr(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Rc(n,i,s),n=n.sibling;n!==null;)Rc(n,i,s),n=n.sibling}function el(n,i,s){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(f!==4&&(f===27&&jr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(el(n,i,s),n=n.sibling;n!==null;)el(n,i,s),n=n.sibling}function wm(n){var i=n.stateNode,s=n.memoizedProps;try{for(var f=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Qt(i,f,s),i[Vt]=n,i[Bt]=s}catch(x){Tt(n,n.return,x)}}var Er=!1,Ot=!1,Nc=!1,xm=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function BT(n,i){if(n=n.containerInfo,Qc=vl,n=Mh(n),Au(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{s.nodeType,x.nodeType}catch{s=null;break e}var L=0,V=-1,oe=-1,ve=0,Ae=0,Me=n,we=null;t:for(;;){for(var xe;Me!==s||g!==0&&Me.nodeType!==3||(V=L+g),Me!==x||f!==0&&Me.nodeType!==3||(oe=L+f),Me.nodeType===3&&(L+=Me.nodeValue.length),(xe=Me.firstChild)!==null;)we=Me,Me=xe;for(;;){if(Me===n)break t;if(we===s&&++ve===g&&(V=L),we===x&&++Ae===f&&(oe=L),(xe=Me.nextSibling)!==null)break;Me=we,we=Me.parentNode}Me=xe}s=V===-1||oe===-1?null:{start:V,end:oe}}else s=null}s=s||{start:0,end:0}}else s=null;for(ef={focusedElem:n,selectionRange:s},vl=!1,Wt=i;Wt!==null;)if(i=Wt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Wt=n;else for(;Wt!==null;){switch(i=Wt,x=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,s=i,g=x.memoizedProps,x=x.memoizedState,f=s.stateNode;try{var We=xi(s.type,g,s.elementType===s.type);n=f.getSnapshotBeforeUpdate(We,x),f.__reactInternalSnapshotBeforeUpdate=n}catch(Ye){Tt(s,s.return,Ye)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)rf(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,Wt=n;break}Wt=i.return}}function Tm(n,i,s){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Kr(n,s),f&4&&Ms(5,s);break;case 1:if(Kr(n,s),f&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(L){Tt(s,s.return,L)}else{var g=xi(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Tt(s,s.return,L)}}f&64&&mm(s),f&512&&Is(s,s.return);break;case 3:if(Kr(n,s),f&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{np(n,i)}catch(L){Tt(s,s.return,L)}}break;case 27:i===null&&f&4&&wm(s);case 26:case 5:Kr(n,s),i===null&&f&4&&ym(s),f&512&&Is(s,s.return);break;case 12:Kr(n,s);break;case 13:Kr(n,s),f&4&&_m(n,s),f&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=KT.bind(null,s),u1(n,s))));break;case 22:if(f=s.memoizedState!==null||Er,!f){i=i!==null&&i.memoizedState!==null||Ot,g=Er;var x=Ot;Er=f,(Ot=i)&&!x?Yr(n,s,(s.subtreeFlags&8772)!==0):Kr(n,s),Er=g,Ot=x}break;case 30:break;default:Kr(n,s)}}function Sm(n){var i=n.alternate;i!==null&&(n.alternate=null,Sm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Pi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Rt=null,gn=!1;function _r(n,i,s){for(s=s.child;s!==null;)Em(n,i,s),s=s.sibling}function Em(n,i,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Ue,s)}catch{}switch(s.tag){case 26:Ot||er(s,i),_r(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||er(s,i);var f=Rt,g=gn;jr(s.type)&&(Rt=s.stateNode,gn=!1),_r(n,i,s),Gs(s.stateNode),Rt=f,gn=g;break;case 5:Ot||er(s,i);case 6:if(f=Rt,g=gn,Rt=null,_r(n,i,s),Rt=f,gn=g,Rt!==null)if(gn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(x){Tt(s,i,x)}else try{Rt.removeChild(s.stateNode)}catch(x){Tt(s,i,x)}break;case 18:Rt!==null&&(gn?(n=Rt,fg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),$s(n)):fg(Rt,s.stateNode));break;case 4:f=Rt,g=gn,Rt=s.stateNode.containerInfo,gn=!0,_r(n,i,s),Rt=f,gn=g;break;case 0:case 11:case 14:case 15:Ot||Hr(2,s,i),Ot||Hr(4,s,i),_r(n,i,s);break;case 1:Ot||(er(s,i),f=s.stateNode,typeof f.componentWillUnmount=="function"&&gm(s,i,f)),_r(n,i,s);break;case 21:_r(n,i,s);break;case 22:Ot=(f=Ot)||s.memoizedState!==null,_r(n,i,s),Ot=f;break;default:_r(n,i,s)}}function _m(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$s(n)}catch(s){Tt(i,i.return,s)}}function PT(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new xm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new xm),i;default:throw Error(o(435,n.tag))}}function Dc(n,i){var s=PT(n);i.forEach(function(f){var g=YT.bind(null,n,f);s.has(f)||(s.add(f),f.then(g,g))})}function _n(n,i){var s=i.deletions;if(s!==null)for(var f=0;f<s.length;f++){var g=s[f],x=n,L=i,V=L;e:for(;V!==null;){switch(V.tag){case 27:if(jr(V.type)){Rt=V.stateNode,gn=!1;break e}break;case 5:Rt=V.stateNode,gn=!1;break e;case 3:case 4:Rt=V.stateNode.containerInfo,gn=!0;break e}V=V.return}if(Rt===null)throw Error(o(160));Em(x,L,g),Rt=null,gn=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)bm(i,n),i=i.sibling}var Kn=null;function bm(n,i){var s=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(i,n),bn(n),f&4&&(Hr(3,n,n.return),Ms(3,n),Hr(5,n,n.return));break;case 1:_n(i,n),bn(n),f&512&&(Ot||s===null||er(s,s.return)),f&64&&Er&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?f:s.concat(f))));break;case 26:var g=Kn;if(_n(i,n),bn(n),f&512&&(Ot||s===null||er(s,s.return)),f&4){var x=s!==null?s.memoizedState:null;if(f=n.memoizedState,s===null)if(f===null)if(n.stateNode===null){e:{f=n.type,s=n.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Xn]||x[Vt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(f),g.head.insertBefore(x,g.querySelector("head > title"))),Qt(x,f,s),x[Vt]=n,At(x),f=x;break e;case"link":var L=wg("link","href",g).get(f+(s.href||""));if(L){for(var V=0;V<L.length;V++)if(x=L[V],x.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&x.getAttribute("rel")===(s.rel==null?null:s.rel)&&x.getAttribute("title")===(s.title==null?null:s.title)&&x.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){L.splice(V,1);break t}}x=g.createElement(f),Qt(x,f,s),g.head.appendChild(x);break;case"meta":if(L=wg("meta","content",g).get(f+(s.content||""))){for(V=0;V<L.length;V++)if(x=L[V],x.getAttribute("content")===(s.content==null?null:""+s.content)&&x.getAttribute("name")===(s.name==null?null:s.name)&&x.getAttribute("property")===(s.property==null?null:s.property)&&x.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&x.getAttribute("charset")===(s.charSet==null?null:s.charSet)){L.splice(V,1);break t}}x=g.createElement(f),Qt(x,f,s),g.head.appendChild(x);break;default:throw Error(o(468,f))}x[Vt]=n,At(x),f=x}n.stateNode=f}else xg(g,n.type,n.stateNode);else n.stateNode=vg(g,f,n.memoizedProps);else x!==f?(x===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):x.count--,f===null?xg(g,n.type,n.stateNode):vg(g,f,n.memoizedProps)):f===null&&n.stateNode!==null&&Cc(n,n.memoizedProps,s.memoizedProps)}break;case 27:_n(i,n),bn(n),f&512&&(Ot||s===null||er(s,s.return)),s!==null&&f&4&&Cc(n,n.memoizedProps,s.memoizedProps);break;case 5:if(_n(i,n),bn(n),f&512&&(Ot||s===null||er(s,s.return)),n.flags&32){g=n.stateNode;try{Ve(g,"")}catch(xe){Tt(n,n.return,xe)}}f&4&&n.stateNode!=null&&(g=n.memoizedProps,Cc(n,g,s!==null?s.memoizedProps:g)),f&1024&&(Nc=!0);break;case 6:if(_n(i,n),bn(n),f&4){if(n.stateNode===null)throw Error(o(162));f=n.memoizedProps,s=n.stateNode;try{s.nodeValue=f}catch(xe){Tt(n,n.return,xe)}}break;case 3:if(ml=null,g=Kn,Kn=hl(i.containerInfo),_n(i,n),Kn=g,bn(n),f&4&&s!==null&&s.memoizedState.isDehydrated)try{$s(i.containerInfo)}catch(xe){Tt(n,n.return,xe)}Nc&&(Nc=!1,Cm(n));break;case 4:f=Kn,Kn=hl(n.stateNode.containerInfo),_n(i,n),bn(n),Kn=f;break;case 12:_n(i,n),bn(n);break;case 13:_n(i,n),bn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bc=v()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Dc(n,f)));break;case 22:g=n.memoizedState!==null;var oe=s!==null&&s.memoizedState!==null,ve=Er,Ae=Ot;if(Er=ve||g,Ot=Ae||oe,_n(i,n),Ot=Ae,Er=ve,bn(n),f&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(s===null||oe||Er||Ot||Ti(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){oe=s=i;try{if(x=oe.stateNode,g)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{V=oe.stateNode;var Me=oe.memoizedProps.style,we=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;V.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(xe){Tt(oe,oe.return,xe)}}}else if(i.tag===6){if(s===null){oe=i;try{oe.stateNode.nodeValue=g?"":oe.memoizedProps}catch(xe){Tt(oe,oe.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=n.updateQueue,f!==null&&(s=f.retryQueue,s!==null&&(f.retryQueue=null,Dc(n,s))));break;case 19:_n(i,n),bn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Dc(n,f)));break;case 30:break;case 21:break;default:_n(i,n),bn(n)}}function bn(n){var i=n.flags;if(i&2){try{for(var s,f=n.return;f!==null;){if(vm(f)){s=f;break}f=f.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var g=s.stateNode,x=Ac(n);el(n,x,g);break;case 5:var L=s.stateNode;s.flags&32&&(Ve(L,""),s.flags&=-33);var V=Ac(n);el(n,V,L);break;case 3:case 4:var oe=s.stateNode.containerInfo,ve=Ac(n);Rc(n,ve,oe);break;default:throw Error(o(161))}}catch(Ae){Tt(n,n.return,Ae)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Cm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Cm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Kr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tm(n,i.alternate,i),i=i.sibling}function Ti(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Hr(4,i,i.return),Ti(i);break;case 1:er(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&gm(i,i.return,s),Ti(i);break;case 27:Gs(i.stateNode);case 26:case 5:er(i,i.return),Ti(i);break;case 22:i.memoizedState===null&&Ti(i);break;case 30:Ti(i);break;default:Ti(i)}n=n.sibling}}function Yr(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=n,x=i,L=x.flags;switch(x.tag){case 0:case 11:case 15:Yr(g,x,s),Ms(4,x);break;case 1:if(Yr(g,x,s),f=x,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ve){Tt(f,f.return,ve)}if(f=x,g=f.updateQueue,g!==null){var V=f.stateNode;try{var oe=g.shared.hiddenCallbacks;if(oe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<oe.length;g++)tp(oe[g],V)}catch(ve){Tt(f,f.return,ve)}}s&&L&64&&mm(x),Is(x,x.return);break;case 27:wm(x);case 26:case 5:Yr(g,x,s),s&&f===null&&L&4&&ym(x),Is(x,x.return);break;case 12:Yr(g,x,s);break;case 13:Yr(g,x,s),s&&L&4&&_m(g,x);break;case 22:x.memoizedState===null&&Yr(g,x,s),Is(x,x.return);break;case 30:break;default:Yr(g,x,s)}i=i.sibling}}function Mc(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&ys(s))}function Ic(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ys(n))}function tr(n,i,s,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Am(n,i,s,f),i=i.sibling}function Am(n,i,s,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:tr(n,i,s,f),g&2048&&Ms(9,i);break;case 1:tr(n,i,s,f);break;case 3:tr(n,i,s,f),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ys(n)));break;case 12:if(g&2048){tr(n,i,s,f),n=i.stateNode;try{var x=i.memoizedProps,L=x.id,V=x.onPostCommit;typeof V=="function"&&V(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(oe){Tt(i,i.return,oe)}}else tr(n,i,s,f);break;case 13:tr(n,i,s,f);break;case 23:break;case 22:x=i.stateNode,L=i.alternate,i.memoizedState!==null?x._visibility&2?tr(n,i,s,f):ks(n,i):x._visibility&2?tr(n,i,s,f):(x._visibility|=2,so(n,i,s,f,(i.subtreeFlags&10256)!==0)),g&2048&&Mc(L,i);break;case 24:tr(n,i,s,f),g&2048&&Ic(i.alternate,i);break;default:tr(n,i,s,f)}}function so(n,i,s,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var x=n,L=i,V=s,oe=f,ve=L.flags;switch(L.tag){case 0:case 11:case 15:so(x,L,V,oe,g),Ms(8,L);break;case 23:break;case 22:var Ae=L.stateNode;L.memoizedState!==null?Ae._visibility&2?so(x,L,V,oe,g):ks(x,L):(Ae._visibility|=2,so(x,L,V,oe,g)),g&&ve&2048&&Mc(L.alternate,L);break;case 24:so(x,L,V,oe,g),g&&ve&2048&&Ic(L.alternate,L);break;default:so(x,L,V,oe,g)}i=i.sibling}}function ks(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,f=i,g=f.flags;switch(f.tag){case 22:ks(s,f),g&2048&&Mc(f.alternate,f);break;case 24:ks(s,f),g&2048&&Ic(f.alternate,f);break;default:ks(s,f)}i=i.sibling}}var Us=8192;function ao(n){if(n.subtreeFlags&Us)for(n=n.child;n!==null;)Rm(n),n=n.sibling}function Rm(n){switch(n.tag){case 26:ao(n),n.flags&Us&&n.memoizedState!==null&&S1(Kn,n.memoizedState,n.memoizedProps);break;case 5:ao(n);break;case 3:case 4:var i=Kn;Kn=hl(n.stateNode.containerInfo),ao(n),Kn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Us,Us=16777216,ao(n),Us=i):ao(n));break;default:ao(n)}}function Nm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ls(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];Wt=f,Mm(f,n)}Nm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dm(n),n=n.sibling}function Dm(n){switch(n.tag){case 0:case 11:case 15:Ls(n),n.flags&2048&&Hr(9,n,n.return);break;case 3:Ls(n);break;case 12:Ls(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,tl(n)):Ls(n);break;default:Ls(n)}}function tl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];Wt=f,Mm(f,n)}Nm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Hr(8,i,i.return),tl(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,tl(i));break;default:tl(i)}n=n.sibling}}function Mm(n,i){for(;Wt!==null;){var s=Wt;switch(s.tag){case 0:case 11:case 15:Hr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var f=s.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ys(s.memoizedState.cache)}if(f=s.child,f!==null)f.return=s,Wt=f;else e:for(s=n;Wt!==null;){f=Wt;var g=f.sibling,x=f.return;if(Sm(f),f===s){Wt=null;break e}if(g!==null){g.return=x,Wt=g;break e}Wt=x}}}var OT={getCacheForType:function(n){var i=tn(Kt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},FT=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,it=null,at=0,pt=0,Cn=null,Jr=!1,lo=!1,kc=!1,br=0,kt=0,Wr=0,Si=0,Uc=0,Bn=0,uo=0,Bs=null,yn=null,Lc=!1,Bc=0,nl=1/0,rl=null,$r=null,jt=0,Xr=null,co=null,fo=0,Pc=0,Oc=null,Im=null,Ps=0,Fc=null;function An(){if((ht&2)!==0&&at!==0)return at&-at;if(le.T!==null){var n=ji;return n!==0?n:Yc()}return fa()}function km(){Bn===0&&(Bn=(at&536870912)===0||ct?lr():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Bn}function Rn(n,i,s){(n===Et&&(pt===2||pt===9)||n.cancelPendingCommit!==null)&&(ho(n,0),Zr(n,at,Bn,!1)),Lt(n,s),((ht&2)===0||n!==Et)&&(n===Et&&((ht&2)===0&&(Si|=s),kt===4&&Zr(n,at,Bn,!1)),nr(n))}function Um(n,i,s){if((ht&6)!==0)throw Error(o(327));var f=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Gn(n,i),g=f?VT(n,i):Vc(n,i,!0),x=f;do{if(g===0){lo&&!f&&Zr(n,i,0,!1);break}else{if(s=n.current.alternate,x&&!zT(s)){g=Vc(n,i,!1),x=!1;continue}if(g===2){if(x=i,n.errorRecoveryDisabledLanes&x)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var V=n;g=Bs;var oe=V.current.memoizedState.isDehydrated;if(oe&&(ho(V,L).flags|=256),L=Vc(V,L,!1),L!==2){if(kc&&!oe){V.errorRecoveryDisabledLanes|=x,Si|=x,g=4;break e}x=yn,yn=g,x!==null&&(yn===null?yn=x:yn.push.apply(yn,x))}g=L}if(x=!1,g!==2)continue}}if(g===1){ho(n,0),Zr(n,i,0,!0);break}e:{switch(f=n,x=g,x){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Zr(f,i,Bn,!Jr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(g=Bc+300-v(),10<g)){if(Zr(f,i,Bn,!Jr),Ct(f,0,!0)!==0)break e;f.timeoutHandle=ug(Lm.bind(null,f,s,yn,rl,Lc,i,Bn,Si,uo,Jr,x,2,-0,0),g);break e}Lm(f,s,yn,rl,Lc,i,Bn,Si,uo,Jr,x,0,-0,0)}}break}while(!0);nr(n)}function Lm(n,i,s,f,g,x,L,V,oe,ve,Ae,Me,we,xe){if(n.timeoutHandle=-1,Me=i.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(Hs={stylesheets:null,count:0,unsuspend:T1},Rm(i),Me=E1(),Me!==null)){n.cancelPendingCommit=Me(Vm.bind(null,n,i,x,s,f,g,L,V,oe,Ae,1,we,xe)),Zr(n,x,L,!ve);return}Vm(n,i,x,s,f,g,L,V,oe)}function zT(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var f=0;f<s.length;f++){var g=s[f],x=g.getSnapshot;g=g.value;try{if(!Sn(x(),g))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zr(n,i,s,f){i&=~Uc,i&=~Si,n.suspendedLanes|=i,n.pingedLanes&=~i,f&&(n.warmLanes|=i),f=n.expirationTimes;for(var g=i;0<g;){var x=31-Ze(g),L=1<<x;f[x]=-1,g&=~L}s!==0&&Nn(n,s,i)}function il(){return(ht&6)===0?(Os(0),!1):!0}function zc(){if(it!==null){if(pt===0)var n=it.return;else n=it,yr=gi=null,rc(n),io=null,Rs=0,n=it;for(;n!==null;)pm(n.alternate,n),n=n.return;it=null}}function ho(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,i1(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),zc(),Et=n,it=s=pr(n.current,null),at=i,pt=0,Cn=null,Jr=!1,lo=Gn(n,i),kc=!1,uo=Bn=Uc=Si=Wr=kt=0,yn=Bs=null,Lc=!1,(i&8)!==0&&(i|=i&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=i;0<f;){var g=31-Ze(f),x=1<<g;i|=n[g],f&=~x}return br=i,Ca(),s}function Bm(n,i){et=null,le.H=Ka,i===ws||i===La?(i=Qh(),pt=3):i===Xh?(i=Qh(),pt=4):pt=i===em?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,it===null&&(kt=1,Xa(n,Mn(i,n.current)))}function Pm(){var n=le.H;return le.H=Ka,n===null?Ka:n}function Om(){var n=le.A;return le.A=OT,n}function Gc(){kt=4,Jr||(at&4194048)!==at&&Ln.current!==null||(lo=!0),(Wr&134217727)===0&&(Si&134217727)===0||Et===null||Zr(Et,at,Bn,!1)}function Vc(n,i,s){var f=ht;ht|=2;var g=Pm(),x=Om();(Et!==n||at!==i)&&(rl=null,ho(n,i)),i=!1;var L=kt;e:do try{if(pt!==0&&it!==null){var V=it,oe=Cn;switch(pt){case 8:zc(),L=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var ve=pt;if(pt=0,Cn=null,po(n,V,oe,ve),s&&lo){L=0;break e}break;default:ve=pt,pt=0,Cn=null,po(n,V,oe,ve)}}GT(),L=kt;break}catch(Ae){Bm(n,Ae)}while(!0);return i&&n.shellSuspendCounter++,yr=gi=null,ht=f,le.H=g,le.A=x,it===null&&(Et=null,at=0,Ca()),L}function GT(){for(;it!==null;)Fm(it)}function VT(n,i){var s=ht;ht|=2;var f=Pm(),g=Om();Et!==n||at!==i?(rl=null,nl=v()+500,ho(n,i)):lo=Gn(n,i);e:do try{if(pt!==0&&it!==null){i=it;var x=Cn;t:switch(pt){case 1:pt=0,Cn=null,po(n,i,x,1);break;case 2:case 9:if(Zh(x)){pt=0,Cn=null,zm(i);break}i=function(){pt!==2&&pt!==9||Et!==n||(pt=7),nr(n)},x.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Zh(x)?(pt=0,Cn=null,zm(i)):(pt=0,Cn=null,po(n,i,x,7));break;case 5:var L=null;switch(it.tag){case 26:L=it.memoizedState;case 5:case 27:var V=it;if(!L||Tg(L)){pt=0,Cn=null;var oe=V.sibling;if(oe!==null)it=oe;else{var ve=V.return;ve!==null?(it=ve,ol(ve)):it=null}break t}}pt=0,Cn=null,po(n,i,x,5);break;case 6:pt=0,Cn=null,po(n,i,x,6);break;case 8:zc(),kt=6;break e;default:throw Error(o(462))}}qT();break}catch(Ae){Bm(n,Ae)}while(!0);return yr=gi=null,le.H=f,le.A=g,ht=s,it!==null?0:(Et=null,at=0,Ca(),kt)}function qT(){for(;it!==null&&!re();)Fm(it)}function Fm(n){var i=dm(n.alternate,n,br);n.memoizedProps=n.pendingProps,i===null?ol(n):it=i}function zm(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=sm(s,i,i.pendingProps,i.type,void 0,at);break;case 11:i=sm(s,i,i.pendingProps,i.type.render,i.ref,at);break;case 5:rc(i);default:pm(s,i),i=it=Gh(i,br),i=dm(s,i,br)}n.memoizedProps=n.pendingProps,i===null?ol(n):it=i}function po(n,i,s,f){yr=gi=null,rc(i),io=null,Rs=0;var g=i.return;try{if(IT(n,g,i,s,at)){kt=1,Xa(n,Mn(s,n.current)),it=null;return}}catch(x){if(g!==null)throw it=g,x;kt=1,Xa(n,Mn(s,n.current)),it=null;return}i.flags&32768?(ct||f===1?n=!0:lo||(at&536870912)!==0?n=!1:(Jr=n=!0,(f===2||f===9||f===3||f===6)&&(f=Ln.current,f!==null&&f.tag===13&&(f.flags|=16384))),Gm(i,n)):ol(i)}function ol(n){var i=n;do{if((i.flags&32768)!==0){Gm(i,Jr);return}n=i.return;var s=UT(i.alternate,i,br);if(s!==null){it=s;return}if(i=i.sibling,i!==null){it=i;return}it=i=n}while(i!==null);kt===0&&(kt=5)}function Gm(n,i){do{var s=LT(n.alternate,n);if(s!==null){s.flags&=32767,it=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){it=n;return}it=n=s}while(n!==null);kt=6,it=null}function Vm(n,i,s,f,g,x,L,V,oe){n.cancelPendingCommit=null;do sl();while(jt!==0);if((ht&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(x=i.lanes|i.childLanes,x|=Iu,ur(n,s,x,L,V,oe),n===Et&&(it=Et=null,at=0),co=i,Xr=n,fo=s,Pc=x,Oc=g,Im=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,JT(ne,function(){return Jm(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=le.T,le.T=null,g=se.p,se.p=2,L=ht,ht|=4;try{BT(n,i,s)}finally{ht=L,se.p=g,le.T=f}}jt=1,qm(),Hm(),Km()}}function qm(){if(jt===1){jt=0;var n=Xr,i=co,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=le.T,le.T=null;var f=se.p;se.p=2;var g=ht;ht|=4;try{bm(i,n);var x=ef,L=Mh(n.containerInfo),V=x.focusedElem,oe=x.selectionRange;if(L!==V&&V&&V.ownerDocument&&Dh(V.ownerDocument.documentElement,V)){if(oe!==null&&Au(V)){var ve=oe.start,Ae=oe.end;if(Ae===void 0&&(Ae=ve),"selectionStart"in V)V.selectionStart=ve,V.selectionEnd=Math.min(Ae,V.value.length);else{var Me=V.ownerDocument||document,we=Me&&Me.defaultView||window;if(we.getSelection){var xe=we.getSelection(),We=V.textContent.length,Ye=Math.min(oe.start,We),wt=oe.end===void 0?Ye:Math.min(oe.end,We);!xe.extend&&Ye>wt&&(L=wt,wt=Ye,Ye=L);var me=Nh(V,Ye),fe=Nh(V,wt);if(me&&fe&&(xe.rangeCount!==1||xe.anchorNode!==me.node||xe.anchorOffset!==me.offset||xe.focusNode!==fe.node||xe.focusOffset!==fe.offset)){var ye=Me.createRange();ye.setStart(me.node,me.offset),xe.removeAllRanges(),Ye>wt?(xe.addRange(ye),xe.extend(fe.node,fe.offset)):(ye.setEnd(fe.node,fe.offset),xe.addRange(ye))}}}}for(Me=[],xe=V;xe=xe.parentNode;)xe.nodeType===1&&Me.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Me.length;V++){var Ne=Me[V];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}vl=!!Qc,ef=Qc=null}finally{ht=g,se.p=f,le.T=s}}n.current=i,jt=2}}function Hm(){if(jt===2){jt=0;var n=Xr,i=co,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=le.T,le.T=null;var f=se.p;se.p=2;var g=ht;ht|=4;try{Tm(n,i.alternate,i)}finally{ht=g,se.p=f,le.T=s}}jt=3}}function Km(){if(jt===4||jt===3){jt=0,k();var n=Xr,i=co,s=fo,f=Im;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,co=Xr=null,Ym(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&($r=null),Ir(s),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=le.T,g=se.p,se.p=2,le.T=null;try{for(var x=n.onRecoverableError,L=0;L<f.length;L++){var V=f[L];x(V.value,{componentStack:V.stack})}}finally{le.T=i,se.p=g}}(fo&3)!==0&&sl(),nr(n),g=n.pendingLanes,(s&4194090)!==0&&(g&42)!==0?n===Fc?Ps++:(Ps=0,Fc=n):Ps=0,Os(0)}}function Ym(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ys(i)))}function sl(n){return qm(),Hm(),Km(),Jm()}function Jm(){if(jt!==5)return!1;var n=Xr,i=Pc;Pc=0;var s=Ir(fo),f=le.T,g=se.p;try{se.p=32>s?32:s,le.T=null,s=Oc,Oc=null;var x=Xr,L=fo;if(jt=0,co=Xr=null,fo=0,(ht&6)!==0)throw Error(o(331));var V=ht;if(ht|=4,Dm(x.current),Am(x,x.current,L,s),ht=V,Os(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Ue,x)}catch{}return!0}finally{se.p=g,le.T=f,Ym(n,i)}}function Wm(n,i,s){i=Mn(s,i),i=yc(n.stateNode,i,2),n=zr(n,i,2),n!==null&&(Lt(n,2),nr(n))}function Tt(n,i,s){if(n.tag===3)Wm(n,n,s);else for(;i!==null;){if(i.tag===3){Wm(i,n,s);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&($r===null||!$r.has(f))){n=Mn(s,n),s=jp(2),f=zr(i,s,2),f!==null&&(Qp(s,f,i,n),Lt(f,2),nr(f));break}}i=i.return}}function qc(n,i,s){var f=n.pingCache;if(f===null){f=n.pingCache=new FT;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(s)||(kc=!0,g.add(s),n=HT.bind(null,n,i,s),i.then(n,n))}function HT(n,i,s){var f=n.pingCache;f!==null&&f.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Et===n&&(at&s)===s&&(kt===4||kt===3&&(at&62914560)===at&&300>v()-Bc?(ht&2)===0&&ho(n,0):Uc|=s,uo===at&&(uo=0)),nr(n)}function $m(n,i){i===0&&(i=Mr()),n=Wi(n,i),n!==null&&(Lt(n,i),nr(n))}function KT(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),$m(n,s)}function YT(n,i){var s=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(s=g.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(i),$m(n,s)}function JT(n,i){return ie(n,i)}var al=null,mo=null,Hc=!1,ll=!1,Kc=!1,Ei=0;function nr(n){n!==mo&&n.next===null&&(mo===null?al=mo=n:mo=mo.next=n),ll=!0,Hc||(Hc=!0,$T())}function Os(n,i){if(!Kc&&ll){Kc=!0;do for(var s=!1,f=al;f!==null;){if(n!==0){var g=f.pendingLanes;if(g===0)var x=0;else{var L=f.suspendedLanes,V=f.pingedLanes;x=(1<<31-Ze(42|n)+1)-1,x&=g&~(L&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(s=!0,Qm(f,x))}else x=at,x=Ct(f,f===Et?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Gn(f,x)||(s=!0,Qm(f,x));f=f.next}while(s);Kc=!1}}function WT(){Xm()}function Xm(){ll=Hc=!1;var n=0;Ei!==0&&(r1()&&(n=Ei),Ei=0);for(var i=v(),s=null,f=al;f!==null;){var g=f.next,x=Zm(f,i);x===0?(f.next=null,s===null?al=g:s.next=g,g===null&&(mo=s)):(s=f,(n!==0||(x&3)!==0)&&(ll=!0)),f=g}Os(n)}function Zm(n,i){for(var s=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var L=31-Ze(x),V=1<<L,oe=g[L];oe===-1?((V&s)===0||(V&f)!==0)&&(g[L]=Ui(V,i)):oe<=i&&(n.expiredLanes|=V),x&=~V}if(i=Et,s=at,s=Ct(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,s===0||n===i&&(pt===2||pt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&b(f),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Gn(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(f!==null&&b(f),Ir(s)){case 2:case 8:s=X;break;case 32:s=ne;break;case 268435456:s=ge;break;default:s=ne}return f=jm.bind(null,n),s=ie(s,f),n.callbackPriority=i,n.callbackNode=s,i}return f!==null&&f!==null&&b(f),n.callbackPriority=2,n.callbackNode=null,2}function jm(n,i){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(sl()&&n.callbackNode!==s)return null;var f=at;return f=Ct(n,n===Et?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(Um(n,f,i),Zm(n,v()),n.callbackNode!=null&&n.callbackNode===s?jm.bind(null,n):null)}function Qm(n,i){if(sl())return null;Um(n,i,!0)}function $T(){o1(function(){(ht&6)!==0?ie(A,WT):Xm()})}function Yc(){return Ei===0&&(Ei=lr()),Ei}function eg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:en(""+n)}function tg(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function XT(n,i,s,f,g){if(i==="submit"&&s&&s.stateNode===g){var x=eg((g[Bt]||null).action),L=f.submitter;L&&(i=(i=L[Bt]||null)?eg(i.formAction):L.getAttribute("formAction"),i!==null&&(x=i,L=null));var V=new Ea("action","action",null,f,g);n.push({event:V,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ei!==0){var oe=L?tg(g,L):new FormData(g);dc(s,{pending:!0,data:oe,method:g.method,action:x},null,oe)}}else typeof x=="function"&&(V.preventDefault(),oe=L?tg(g,L):new FormData(g),dc(s,{pending:!0,data:oe,method:g.method,action:x},x,oe))},currentTarget:g}]})}}for(var Jc=0;Jc<Mu.length;Jc++){var Wc=Mu[Jc],ZT=Wc.toLowerCase(),jT=Wc[0].toUpperCase()+Wc.slice(1);Hn(ZT,"on"+jT)}Hn(Uh,"onAnimationEnd"),Hn(Lh,"onAnimationIteration"),Hn(Bh,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(mT,"onTransitionRun"),Hn(gT,"onTransitionStart"),Hn(yT,"onTransitionCancel"),Hn(Ph,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fs));function ng(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var f=n[s],g=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var L=f.length-1;0<=L;L--){var V=f[L],oe=V.instance,ve=V.currentTarget;if(V=V.listener,oe!==x&&g.isPropagationStopped())break e;x=V,g.currentTarget=ve;try{x(g)}catch(Ae){$a(Ae)}g.currentTarget=null,x=oe}else for(L=0;L<f.length;L++){if(V=f[L],oe=V.instance,ve=V.currentTarget,V=V.listener,oe!==x&&g.isPropagationStopped())break e;x=V,g.currentTarget=ve;try{x(g)}catch(Ae){$a(Ae)}g.currentTarget=null,x=oe}}}}function ot(n,i){var s=i[Xo];s===void 0&&(s=i[Xo]=new Set);var f=n+"__bubble";s.has(f)||(rg(i,n,2,!1),s.add(f))}function $c(n,i,s){var f=0;i&&(f|=4),rg(s,n,f,i)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Xc(n){if(!n[ul]){n[ul]=!0,Oi.forEach(function(s){s!=="selectionchange"&&(QT.has(s)||$c(s,!1,n),$c(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ul]||(i[ul]=!0,$c("selectionchange",!1,i))}}function rg(n,i,s,f){switch(Ag(i)){case 2:var g=C1;break;case 8:g=A1;break;default:g=ff}s=g.bind(null,i,s,n),g=void 0,!vu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(i,s,{capture:!0,passive:g}):n.addEventListener(i,s,!0):g!==void 0?n.addEventListener(i,s,{passive:g}):n.addEventListener(i,s,!1)}function Zc(n,i,s,f,g){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var L=f.tag;if(L===3||L===4){var V=f.stateNode.containerInfo;if(V===g)break;if(L===4)for(L=f.return;L!==null;){var oe=L.tag;if((oe===3||oe===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;V!==null;){if(L=kr(V),L===null)return;if(oe=L.tag,oe===5||oe===6||oe===26||oe===27){f=x=L;continue e}V=V.parentNode}}f=f.return}ch(function(){var ve=x,Ae=rs(s),Me=[];e:{var we=Oh.get(n);if(we!==void 0){var xe=Ea,We=n;switch(n){case"keypress":if(Ta(s)===0)break e;case"keydown":case"keyup":xe=Jx;break;case"focusin":We="focus",xe=Su;break;case"focusout":We="blur",xe=Su;break;case"beforeblur":case"afterblur":xe=Su;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Xx;break;case Uh:case Lh:case Bh:xe=Ox;break;case Ph:xe=jx;break;case"scroll":case"scrollend":xe=kx;break;case"wheel":xe=eT;break;case"copy":case"cut":case"paste":xe=zx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=mh;break;case"toggle":case"beforetoggle":xe=nT}var Ye=(i&4)!==0,wt=!Ye&&(n==="scroll"||n==="scrollend"),me=Ye?we!==null?we+"Capture":null:we;Ye=[];for(var fe=ve,ye;fe!==null;){var Ne=fe;if(ye=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ye===null||me===null||(Ne=is(fe,me),Ne!=null&&Ye.push(zs(fe,Ne,ye))),wt)break;fe=fe.return}0<Ye.length&&(we=new xe(we,We,null,s,Ae),Me.push({event:we,listeners:Ye}))}}if((i&7)===0){e:{if(we=n==="mouseover"||n==="pointerover",xe=n==="mouseout"||n==="pointerout",we&&s!==ai&&(We=s.relatedTarget||s.fromElement)&&(kr(We)||We[$n]))break e;if((xe||we)&&(we=Ae.window===Ae?Ae:(we=Ae.ownerDocument)?we.defaultView||we.parentWindow:window,xe?(We=s.relatedTarget||s.toElement,xe=ve,We=We?kr(We):null,We!==null&&(wt=c(We),Ye=We.tag,We!==wt||Ye!==5&&Ye!==27&&Ye!==6)&&(We=null)):(xe=null,We=ve),xe!==We)){if(Ye=hh,Ne="onMouseLeave",me="onMouseEnter",fe="mouse",(n==="pointerout"||n==="pointerover")&&(Ye=mh,Ne="onPointerLeave",me="onPointerEnter",fe="pointer"),wt=xe==null?we:si(xe),ye=We==null?we:si(We),we=new Ye(Ne,fe+"leave",xe,s,Ae),we.target=wt,we.relatedTarget=ye,Ne=null,kr(Ae)===ve&&(Ye=new Ye(me,fe+"enter",We,s,Ae),Ye.target=ye,Ye.relatedTarget=wt,Ne=Ye),wt=Ne,xe&&We)t:{for(Ye=xe,me=We,fe=0,ye=Ye;ye;ye=go(ye))fe++;for(ye=0,Ne=me;Ne;Ne=go(Ne))ye++;for(;0<fe-ye;)Ye=go(Ye),fe--;for(;0<ye-fe;)me=go(me),ye--;for(;fe--;){if(Ye===me||me!==null&&Ye===me.alternate)break t;Ye=go(Ye),me=go(me)}Ye=null}else Ye=null;xe!==null&&ig(Me,we,xe,Ye,!1),We!==null&&wt!==null&&ig(Me,wt,We,Ye,!0)}}e:{if(we=ve?si(ve):window,xe=we.nodeName&&we.nodeName.toLowerCase(),xe==="select"||xe==="input"&&we.type==="file")var Fe=Eh;else if(Th(we))if(_h)Fe=dT;else{Fe=cT;var nt=uT}else xe=we.nodeName,!xe||xe.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ve&&Qe(ve.elementType)&&(Fe=Eh):Fe=fT;if(Fe&&(Fe=Fe(n,ve))){Sh(Me,Fe,s,Ae);break e}nt&&nt(n,we,ve),n==="focusout"&&ve&&we.type==="number"&&ve.memoizedProps.value!=null&&qi(we,"number",we.value)}switch(nt=ve?si(ve):window,n){case"focusin":(Th(nt)||nt.contentEditable==="true")&&(Ki=nt,Ru=ve,ds=null);break;case"focusout":ds=Ru=Ki=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,Ih(Me,s,Ae);break;case"selectionchange":if(pT)break;case"keydown":case"keyup":Ih(Me,s,Ae)}var He;if(_u)e:{switch(n){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Hi?wh(n,s)&&(Je="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Je="onCompositionStart");Je&&(gh&&s.locale!=="ko"&&(Hi||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Hi&&(He=fh()):(Br=Ae,wu="value"in Br?Br.value:Br.textContent,Hi=!0)),nt=cl(ve,Je),0<nt.length&&(Je=new ph(Je,n,null,s,Ae),Me.push({event:Je,listeners:nt}),He?Je.data=He:(He=xh(s),He!==null&&(Je.data=He)))),(He=iT?oT(n,s):sT(n,s))&&(Je=cl(ve,"onBeforeInput"),0<Je.length&&(nt=new ph("onBeforeInput","beforeinput",null,s,Ae),Me.push({event:nt,listeners:Je}),nt.data=He)),XT(Me,n,ve,s,Ae)}ng(Me,i)})}function zs(n,i,s){return{instance:n,listener:i,currentTarget:s}}function cl(n,i){for(var s=i+"Capture",f=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=is(n,s),g!=null&&f.unshift(zs(n,g,x)),g=is(n,i),g!=null&&f.push(zs(n,g,x))),n.tag===3)return f;n=n.return}return[]}function go(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ig(n,i,s,f,g){for(var x=i._reactName,L=[];s!==null&&s!==f;){var V=s,oe=V.alternate,ve=V.stateNode;if(V=V.tag,oe!==null&&oe===f)break;V!==5&&V!==26&&V!==27||ve===null||(oe=ve,g?(ve=is(s,x),ve!=null&&L.unshift(zs(s,ve,oe))):g||(ve=is(s,x),ve!=null&&L.push(zs(s,ve,oe)))),s=s.return}L.length!==0&&n.push({event:i,listeners:L})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function og(n){return(typeof n=="string"?n:""+n).replace(e1,`
`).replace(t1,"")}function sg(n,i){return i=og(i),og(n)===i}function fl(){}function vt(n,i,s,f,g,x){switch(s){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||Ve(n,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&Ve(n,""+f);break;case"className":zi(n,"class",f);break;case"tabIndex":zi(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(n,s,f);break;case"style":qe(n,f,x);break;case"data":if(i!=="object"){zi(n,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(s);break}f=en(""+f),n.setAttribute(s,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(s==="formAction"?(i!=="input"&&vt(n,i,"name",g.name,g,null),vt(n,i,"formEncType",g.formEncType,g,null),vt(n,i,"formMethod",g.formMethod,g,null),vt(n,i,"formTarget",g.formTarget,g,null)):(vt(n,i,"encType",g.encType,g,null),vt(n,i,"method",g.method,g,null),vt(n,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(s);break}f=en(""+f),n.setAttribute(s,f);break;case"onClick":f!=null&&(n.onclick=fl);break;case"onScroll":f!=null&&ot("scroll",n);break;case"onScrollEnd":f!=null&&ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(s=f.__html,s!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}s=en(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,""+f):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":f===!0?n.setAttribute(s,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,f):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(s,f):n.removeAttribute(s);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(s):n.setAttribute(s,f);break;case"popover":ot("beforetoggle",n),ot("toggle",n),Fi(n,"popover",f);break;case"xlinkActuate":Tn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Tn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Tn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Tn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Tn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Tn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Fi(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=st.get(s)||s,Fi(n,s,f))}}function jc(n,i,s,f,g,x){switch(s){case"style":qe(n,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(s=f.__html,s!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"children":typeof f=="string"?Ve(n,f):(typeof f=="number"||typeof f=="bigint")&&Ve(n,""+f);break;case"onScroll":f!=null&&ot("scroll",n);break;case"onScrollEnd":f!=null&&ot("scrollend",n);break;case"onClick":f!=null&&(n.onclick=fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),i=s.slice(2,g?s.length-7:void 0),x=n[Bt]||null,x=x!=null?x[s]:null,typeof x=="function"&&n.removeEventListener(i,x,g),typeof f=="function")){typeof x!="function"&&x!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,f,g);break e}s in n?n[s]=f:f===!0?n.setAttribute(s,""):Fi(n,s,f)}}}function Qt(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",n),ot("load",n);var f=!1,g=!1,x;for(x in s)if(s.hasOwnProperty(x)){var L=s[x];if(L!=null)switch(x){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:vt(n,i,x,L,s,null)}}g&&vt(n,i,"srcSet",s.srcSet,s,null),f&&vt(n,i,"src",s.src,s,null);return;case"input":ot("invalid",n);var V=x=L=g=null,oe=null,ve=null;for(f in s)if(s.hasOwnProperty(f)){var Ae=s[f];if(Ae!=null)switch(f){case"name":g=Ae;break;case"type":L=Ae;break;case"checked":oe=Ae;break;case"defaultChecked":ve=Ae;break;case"value":x=Ae;break;case"defaultValue":V=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(o(137,i));break;default:vt(n,i,f,Ae,s,null)}}ns(n,x,V,oe,ve,L,g,!1),Gi(n);return;case"select":ot("invalid",n),f=L=x=null;for(g in s)if(s.hasOwnProperty(g)&&(V=s[g],V!=null))switch(g){case"value":x=V;break;case"defaultValue":L=V;break;case"multiple":f=V;default:vt(n,i,g,V,s,null)}i=x,s=L,n.multiple=!!f,i!=null?Le(n,!!f,i,!1):s!=null&&Le(n,!!f,s,!0);return;case"textarea":ot("invalid",n),x=g=f=null;for(L in s)if(s.hasOwnProperty(L)&&(V=s[L],V!=null))switch(L){case"value":f=V;break;case"defaultValue":g=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(91));break;default:vt(n,i,L,V,s,null)}Ke(n,f,g,x),Gi(n);return;case"option":for(oe in s)if(s.hasOwnProperty(oe)&&(f=s[oe],f!=null))switch(oe){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:vt(n,i,oe,f,s,null)}return;case"dialog":ot("beforetoggle",n),ot("toggle",n),ot("cancel",n),ot("close",n);break;case"iframe":case"object":ot("load",n);break;case"video":case"audio":for(f=0;f<Fs.length;f++)ot(Fs[f],n);break;case"image":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"embed":case"source":case"link":ot("error",n),ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in s)if(s.hasOwnProperty(ve)&&(f=s[ve],f!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:vt(n,i,ve,f,s,null)}return;default:if(Qe(i)){for(Ae in s)s.hasOwnProperty(Ae)&&(f=s[Ae],f!==void 0&&jc(n,i,Ae,f,s,void 0));return}}for(V in s)s.hasOwnProperty(V)&&(f=s[V],f!=null&&vt(n,i,V,f,s,null))}function n1(n,i,s,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,L=null,V=null,oe=null,ve=null,Ae=null;for(xe in s){var Me=s[xe];if(s.hasOwnProperty(xe)&&Me!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":oe=Me;default:f.hasOwnProperty(xe)||vt(n,i,xe,null,f,Me)}}for(var we in f){var xe=f[we];if(Me=s[we],f.hasOwnProperty(we)&&(xe!=null||Me!=null))switch(we){case"type":x=xe;break;case"name":g=xe;break;case"checked":ve=xe;break;case"defaultChecked":Ae=xe;break;case"value":L=xe;break;case"defaultValue":V=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(o(137,i));break;default:xe!==Me&&vt(n,i,we,xe,f,Me)}}ts(n,L,V,oe,ve,Ae,x,g);return;case"select":xe=L=V=we=null;for(x in s)if(oe=s[x],s.hasOwnProperty(x)&&oe!=null)switch(x){case"value":break;case"multiple":xe=oe;default:f.hasOwnProperty(x)||vt(n,i,x,null,f,oe)}for(g in f)if(x=f[g],oe=s[g],f.hasOwnProperty(g)&&(x!=null||oe!=null))switch(g){case"value":we=x;break;case"defaultValue":V=x;break;case"multiple":L=x;default:x!==oe&&vt(n,i,g,x,f,oe)}i=V,s=L,f=xe,we!=null?Le(n,!!s,we,!1):!!f!=!!s&&(i!=null?Le(n,!!s,i,!0):Le(n,!!s,s?[]:"",!1));return;case"textarea":xe=we=null;for(V in s)if(g=s[V],s.hasOwnProperty(V)&&g!=null&&!f.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:vt(n,i,V,null,f,g)}for(L in f)if(g=f[L],x=s[L],f.hasOwnProperty(L)&&(g!=null||x!=null))switch(L){case"value":we=g;break;case"defaultValue":xe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==x&&vt(n,i,L,g,f,x)}Pe(n,we,xe);return;case"option":for(var We in s)if(we=s[We],s.hasOwnProperty(We)&&we!=null&&!f.hasOwnProperty(We))switch(We){case"selected":n.selected=!1;break;default:vt(n,i,We,null,f,we)}for(oe in f)if(we=f[oe],xe=s[oe],f.hasOwnProperty(oe)&&we!==xe&&(we!=null||xe!=null))switch(oe){case"selected":n.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:vt(n,i,oe,we,f,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in s)we=s[Ye],s.hasOwnProperty(Ye)&&we!=null&&!f.hasOwnProperty(Ye)&&vt(n,i,Ye,null,f,we);for(ve in f)if(we=f[ve],xe=s[ve],f.hasOwnProperty(ve)&&we!==xe&&(we!=null||xe!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(o(137,i));break;default:vt(n,i,ve,we,f,xe)}return;default:if(Qe(i)){for(var wt in s)we=s[wt],s.hasOwnProperty(wt)&&we!==void 0&&!f.hasOwnProperty(wt)&&jc(n,i,wt,void 0,f,we);for(Ae in f)we=f[Ae],xe=s[Ae],!f.hasOwnProperty(Ae)||we===xe||we===void 0&&xe===void 0||jc(n,i,Ae,we,f,xe);return}}for(var me in s)we=s[me],s.hasOwnProperty(me)&&we!=null&&!f.hasOwnProperty(me)&&vt(n,i,me,null,f,we);for(Me in f)we=f[Me],xe=s[Me],!f.hasOwnProperty(Me)||we===xe||we==null&&xe==null||vt(n,i,Me,we,f,xe)}var Qc=null,ef=null;function dl(n){return n.nodeType===9?n:n.ownerDocument}function ag(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lg(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function tf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nf=null;function r1(){var n=window.event;return n&&n.type==="popstate"?n===nf?!1:(nf=n,!0):(nf=null,!1)}var ug=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,cg=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof cg<"u"?function(n){return cg.resolve(null).then(n).catch(s1)}:ug;function s1(n){setTimeout(function(){throw n})}function jr(n){return n==="head"}function fg(n,i){var s=i,f=0,g=0;do{var x=s.nextSibling;if(n.removeChild(s),x&&x.nodeType===8)if(s=x.data,s==="/$"){if(0<f&&8>f){s=f;var L=n.ownerDocument;if(s&1&&Gs(L.documentElement),s&2&&Gs(L.body),s&4)for(s=L.head,Gs(s),L=s.firstChild;L;){var V=L.nextSibling,oe=L.nodeName;L[Xn]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&L.rel.toLowerCase()==="stylesheet"||s.removeChild(L),L=V}}if(g===0){n.removeChild(x),$s(i);return}g--}else s==="$"||s==="$?"||s==="$!"?g++:f=s.charCodeAt(0)-48;else f=0;s=x}while(s);$s(i)}function rf(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rf(s),Pi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function a1(n,i,s,f){for(;n.nodeType===1;){var g=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[Xn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function l1(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Yn(n.nextSibling),n===null))return null;return n}function of(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function u1(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var f=function(){i(),s.removeEventListener("DOMContentLoaded",f)};s.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Yn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var sf=null;function dg(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function hg(n,i,s){switch(i=dl(s),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Gs(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Pi(n)}var Pn=new Map,pg=new Set;function hl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Cr=se.d;se.d={f:c1,r:f1,D:d1,C:h1,L:p1,m:m1,X:y1,S:g1,M:v1};function c1(){var n=Cr.f(),i=il();return n||i}function f1(n){var i=cr(n);i!==null&&i.tag===5&&i.type==="form"?Up(i):Cr.r(n)}var yo=typeof document>"u"?null:document;function mg(n,i,s){var f=yo;if(f&&typeof i=="string"&&i){var g=hn(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),pg.has(g)||(pg.add(g),n={rel:n,crossOrigin:s,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),Qt(i,"link",n),At(i),f.head.appendChild(i)))}}function d1(n){Cr.D(n),mg("dns-prefetch",n,null)}function h1(n,i){Cr.C(n,i),mg("preconnect",n,i)}function p1(n,i,s){Cr.L(n,i,s);var f=yo;if(f&&n&&i){var g='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+hn(s.imageSizes)+'"]')):g+='[href="'+hn(n)+'"]';var x=g;switch(i){case"style":x=vo(n);break;case"script":x=wo(n)}Pn.has(x)||(n=y({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),Pn.set(x,n),f.querySelector(g)!==null||i==="style"&&f.querySelector(Vs(x))||i==="script"&&f.querySelector(qs(x))||(i=f.createElement("link"),Qt(i,"link",n),At(i),f.head.appendChild(i)))}}function m1(n,i){Cr.m(n,i);var s=yo;if(s&&n){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+hn(f)+'"][href="'+hn(n)+'"]',x=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=wo(n)}if(!Pn.has(x)&&(n=y({rel:"modulepreload",href:n},i),Pn.set(x,n),s.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(qs(x)))return}f=s.createElement("link"),Qt(f,"link",n),At(f),s.head.appendChild(f)}}}function g1(n,i,s){Cr.S(n,i,s);var f=yo;if(f&&n){var g=fr(f).hoistableStyles,x=vo(n);i=i||"default";var L=g.get(x);if(!L){var V={loading:0,preload:null};if(L=f.querySelector(Vs(x)))V.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},s),(s=Pn.get(x))&&af(n,s);var oe=L=f.createElement("link");At(oe),Qt(oe,"link",n),oe._p=new Promise(function(ve,Ae){oe.onload=ve,oe.onerror=Ae}),oe.addEventListener("load",function(){V.loading|=1}),oe.addEventListener("error",function(){V.loading|=2}),V.loading|=4,pl(L,i,f)}L={type:"stylesheet",instance:L,count:1,state:V},g.set(x,L)}}}function y1(n,i){Cr.X(n,i);var s=yo;if(s&&n){var f=fr(s).hoistableScripts,g=wo(n),x=f.get(g);x||(x=s.querySelector(qs(g)),x||(n=y({src:n,async:!0},i),(i=Pn.get(g))&&lf(n,i),x=s.createElement("script"),At(x),Qt(x,"link",n),s.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function v1(n,i){Cr.M(n,i);var s=yo;if(s&&n){var f=fr(s).hoistableScripts,g=wo(n),x=f.get(g);x||(x=s.querySelector(qs(g)),x||(n=y({src:n,async:!0,type:"module"},i),(i=Pn.get(g))&&lf(n,i),x=s.createElement("script"),At(x),Qt(x,"link",n),s.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function gg(n,i,s,f){var g=(g=$.current)?hl(g):null;if(!g)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=vo(s.href),s=fr(g).hoistableStyles,f=s.get(i),f||(f={type:"style",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=vo(s.href);var x=fr(g).hoistableStyles,L=x.get(n);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,L),(x=g.querySelector(Vs(n)))&&!x._p&&(L.instance=x,L.state.loading=5),Pn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(n,s),x||w1(g,n,s,L.state))),i&&f===null)throw Error(o(528,""));return L}if(i&&f!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(s),s=fr(g).hoistableScripts,f=s.get(i),f||(f={type:"script",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function vo(n){return'href="'+hn(n)+'"'}function Vs(n){return'link[rel="stylesheet"]['+n+"]"}function yg(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function w1(n,i,s,f){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=n.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),Qt(i,"link",s),At(i),n.head.appendChild(i))}function wo(n){return'[src="'+hn(n)+'"]'}function qs(n){return"script[async]"+n}function vg(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var f=n.querySelector('style[data-href~="'+hn(s.href)+'"]');if(f)return i.instance=f,At(f),f;var g=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),At(f),Qt(f,"style",g),pl(f,s.precedence,n),i.instance=f;case"stylesheet":g=vo(s.href);var x=n.querySelector(Vs(g));if(x)return i.state.loading|=4,i.instance=x,At(x),x;f=yg(s),(g=Pn.get(g))&&af(f,g),x=(n.ownerDocument||n).createElement("link"),At(x);var L=x;return L._p=new Promise(function(V,oe){L.onload=V,L.onerror=oe}),Qt(x,"link",f),i.state.loading|=4,pl(x,s.precedence,n),i.instance=x;case"script":return x=wo(s.src),(g=n.querySelector(qs(x)))?(i.instance=g,At(g),g):(f=s,(g=Pn.get(x))&&(f=y({},s),lf(f,g)),n=n.ownerDocument||n,g=n.createElement("script"),At(g),Qt(g,"link",f),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,pl(f,s.precedence,n));return i.instance}function pl(n,i,s){for(var f=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,x=g,L=0;L<f.length;L++){var V=f[L];if(V.dataset.precedence===i)x=V;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function af(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function lf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ml=null;function wg(n,i,s){if(ml===null){var f=new Map,g=ml=new Map;g.set(s,f)}else g=ml,f=g.get(s),f||(f=new Map,g.set(s,f));if(f.has(n))return f;for(f.set(n,null),s=s.getElementsByTagName(n),g=0;g<s.length;g++){var x=s[g];if(!(x[Xn]||x[Vt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(i)||"";L=n+L;var V=f.get(L);V?V.push(x):f.set(L,[x])}}return f}function xg(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function x1(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hs=null;function T1(){}function S1(n,i,s){if(Hs===null)throw Error(o(475));var f=Hs;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=vo(s.href),x=n.querySelector(Vs(g));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=gl.bind(f),n.then(f,f)),i.state.loading|=4,i.instance=x,At(x);return}x=n.ownerDocument||n,s=yg(s),(g=Pn.get(g))&&af(s,g),x=x.createElement("link"),At(x);var L=x;L._p=new Promise(function(V,oe){L.onload=V,L.onerror=oe}),Qt(x,"link",s),i.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=gl.bind(f),n.addEventListener("load",i),n.addEventListener("error",i))}}function E1(){if(Hs===null)throw Error(o(475));var n=Hs;return n.stylesheets&&n.count===0&&uf(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&uf(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function gl(){if(this.count--,this.count===0){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yl=null;function uf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yl=new Map,i.forEach(_1,n),yl=null,gl.call(n))}function _1(n,i){if(!(i.state.loading&4)){var s=yl.get(n);if(s)var f=s.get(null);else{s=new Map,yl.set(n,s);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var L=g[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(s.set(L.dataset.precedence,L),f=L)}f&&s.set(null,f)}g=i.instance,L=g.getAttribute("data-precedence"),x=s.get(L)||f,x===f&&s.set(null,g),s.set(L,g),this.count++,f=gl.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Ks={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function b1(n,i,s,f,g,x,L,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.hiddenUpdates=Vn(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Sg(n,i,s,f,g,x,L,V,oe,ve,Ae,Me){return n=new b1(n,i,s,L,V,oe,ve,Me),i=1,x===!0&&(i|=24),x=En(3,null,null,i),n.current=x,x.stateNode=n,i=qu(),i.refCount++,n.pooledCache=i,i.refCount++,x.memoizedState={element:f,isDehydrated:s,cache:i},Ju(x),n}function Eg(n){return n?(n=$i,n):$i}function _g(n,i,s,f,g,x){g=Eg(g),f.context===null?f.context=g:f.pendingContext=g,f=Fr(i),f.payload={element:s},x=x===void 0?null:x,x!==null&&(f.callback=x),s=zr(n,f,i),s!==null&&(Rn(s,n,i),Ts(s,n,i))}function bg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function cf(n,i){bg(n,i),(n=n.alternate)&&bg(n,i)}function Cg(n){if(n.tag===13){var i=Wi(n,67108864);i!==null&&Rn(i,n,67108864),cf(n,67108864)}}var vl=!0;function C1(n,i,s,f){var g=le.T;le.T=null;var x=se.p;try{se.p=2,ff(n,i,s,f)}finally{se.p=x,le.T=g}}function A1(n,i,s,f){var g=le.T;le.T=null;var x=se.p;try{se.p=8,ff(n,i,s,f)}finally{se.p=x,le.T=g}}function ff(n,i,s,f){if(vl){var g=df(f);if(g===null)Zc(n,i,f,wl,s),Rg(n,f);else if(N1(g,n,i,s,f))f.stopPropagation();else if(Rg(n,f),i&4&&-1<R1.indexOf(n)){for(;g!==null;){var x=cr(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=un(x.pendingLanes);if(L!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;L;){var oe=1<<31-Ze(L);V.entanglements[1]|=oe,L&=~oe}nr(x),(ht&6)===0&&(nl=v()+500,Os(0))}}break;case 13:V=Wi(x,2),V!==null&&Rn(V,x,2),il(),cf(x,2)}if(x=df(f),x===null&&Zc(n,i,f,wl,s),x===g)break;g=x}g!==null&&f.stopPropagation()}else Zc(n,i,f,null,s)}}function df(n){return n=rs(n),hf(n)}var wl=null;function hf(n){if(wl=null,n=kr(n),n!==null){var i=c(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=d(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return wl=n,null}function Ag(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(T()){case A:return 2;case X:return 8;case ne:case j:return 32;case ge:return 268435456;default:return 32}default:return 32}}var pf=!1,Qr=null,ei=null,ti=null,Ys=new Map,Js=new Map,ni=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(n,i){switch(n){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Ys.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(i.pointerId)}}function Ws(n,i,s,f,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:i,domEventName:s,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},i!==null&&(i=cr(i),i!==null&&Cg(i)),n):(n.eventSystemFlags|=f,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function N1(n,i,s,f,g){switch(i){case"focusin":return Qr=Ws(Qr,n,i,s,f,g),!0;case"dragenter":return ei=Ws(ei,n,i,s,f,g),!0;case"mouseover":return ti=Ws(ti,n,i,s,f,g),!0;case"pointerover":var x=g.pointerId;return Ys.set(x,Ws(Ys.get(x)||null,n,i,s,f,g)),!0;case"gotpointercapture":return x=g.pointerId,Js.set(x,Ws(Js.get(x)||null,n,i,s,f,g)),!0}return!1}function Ng(n){var i=kr(n.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){n.blockedOn=i,cn(n.priority,function(){if(s.tag===13){var f=An();f=Li(f);var g=Wi(s,f);g!==null&&Rn(g,s,f),cf(s,f)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=df(n.nativeEvent);if(s===null){s=n.nativeEvent;var f=new s.constructor(s.type,s);ai=f,s.target.dispatchEvent(f),ai=null}else return i=cr(s),i!==null&&Cg(i),n.blockedOn=s,!1;i.shift()}return!0}function Dg(n,i,s){xl(n)&&s.delete(i)}function D1(){pf=!1,Qr!==null&&xl(Qr)&&(Qr=null),ei!==null&&xl(ei)&&(ei=null),ti!==null&&xl(ti)&&(ti=null),Ys.forEach(Dg),Js.forEach(Dg)}function Tl(n,i){n.blockedOn===i&&(n.blockedOn=null,pf||(pf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,D1)))}var Sl=null;function Mg(n){Sl!==n&&(Sl=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sl===n&&(Sl=null);for(var i=0;i<n.length;i+=3){var s=n[i],f=n[i+1],g=n[i+2];if(typeof f!="function"){if(hf(f||s)===null)continue;break}var x=cr(s);x!==null&&(n.splice(i,3),i-=3,dc(x,{pending:!0,data:g,method:s.method,action:f},f,g))}}))}function $s(n){function i(oe){return Tl(oe,n)}Qr!==null&&Tl(Qr,n),ei!==null&&Tl(ei,n),ti!==null&&Tl(ti,n),Ys.forEach(i),Js.forEach(i);for(var s=0;s<ni.length;s++){var f=ni[s];f.blockedOn===n&&(f.blockedOn=null)}for(;0<ni.length&&(s=ni[0],s.blockedOn===null);)Ng(s),s.blockedOn===null&&ni.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(f=0;f<s.length;f+=3){var g=s[f],x=s[f+1],L=g[Bt]||null;if(typeof x=="function")L||Mg(s);else if(L){var V=null;if(x&&x.hasAttribute("formAction")){if(g=x,L=x[Bt]||null)V=L.formAction;else if(hf(g)!==null)continue}else V=L.action;typeof V=="function"?s[f+1]=V:(s.splice(f,3),f-=3),Mg(s)}}}function mf(n){this._internalRoot=n}El.prototype.render=mf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,f=An();_g(s,f,n,i,null,null)},El.prototype.unmount=mf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;_g(n.current,2,null,n,null,null),il(),i[$n]=null}};function El(n){this._internalRoot=n}El.prototype.unstable_scheduleHydration=function(n){if(n){var i=fa();n={blockedOn:null,target:n,priority:i};for(var s=0;s<ni.length&&i!==0&&i<ni[s].priority;s++);ni.splice(s,0,n),s===0&&Ng(n)}};var Ig=e.version;if(Ig!=="19.1.1")throw Error(o(527,Ig,"19.1.1"));se.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var M1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{Ue=_l.inject(M1),Be=_l}catch{}}return Zs.createRoot=function(n,i){if(!a(n))throw Error(o(299));var s=!1,f="",g=Wp,x=$p,L=Xp,V=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(V=i.unstable_transitionCallbacks)),i=Sg(n,1,!1,null,null,s,f,g,x,L,V,null),n[$n]=i.current,Xc(n),new mf(i)},Zs.hydrateRoot=function(n,i,s){if(!a(n))throw Error(o(299));var f=!1,g="",x=Wp,L=$p,V=Xp,oe=null,ve=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(L=s.onCaughtError),s.onRecoverableError!==void 0&&(V=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(oe=s.unstable_transitionCallbacks),s.formState!==void 0&&(ve=s.formState)),i=Sg(n,1,!0,i,s??null,f,g,x,L,V,oe,ve),i.context=Eg(null),s=i.current,f=An(),f=Li(f),g=Fr(f),g.callback=null,zr(s,g,f),s=f,i.current.lanes=s,Lt(i,s),nr(i),n[$n]=i.current,Xc(n),new El(i)},Zs.version="19.1.1",Zs}var Vg;function G1(){if(Vg)return vf.exports;Vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vf.exports=z1(),vf.exports}var V1=G1();const q1=Uv(V1),Sf=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",H1=t=>{if(!t)return"";try{const e=new Date(t),o=Math.round((new Date().getTime()-e.getTime())/1e3);if(o<2)return"agora";if(o<60)return`${o}s atrs`;const a=Math.round(o/60);if(a<60)return`${a}m atrs`;const c=Math.round(a/60);if(c<24)return`${c}h atrs`;const d=Math.round(c/24);return d<=7?`${d}d atrs`:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}).format(e)}catch{return""}},qg=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"})}),K1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Hg=({isCollapsed:t})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transition-transform duration-200 ${t?"-rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),Y1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),J1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),W1=({width:t,title:e,documents:r,categories:o,activeDocumentId:a,onSelectDocument:c,onUpdateCategoryName:d,onUpdateDocumentTitle:h,onReorderDocuments:p,onReorderCategories:m,onFindReferences:y,totalWordCount:w,searchQuery:S,onSearchChange:E,searchResults:D,onSelectSearchResult:C})=>{const[U,R]=Ie.useState(null),[I,P]=Ie.useState(""),[H,q]=Ie.useState({}),[ce,ae]=Ie.useState(!1),[de,z]=Ie.useState(null),Te=ee=>{q($=>({...$,[ee]:!$[ee]}))},Re=ee=>{const $=r.find(N=>N.id===ee),M=$==null?void 0:$.content.some(N=>N.type==="heading");a===ee?M&&ae(N=>!N):(c(ee),ae(!1))},Z=(ee,$,M)=>{R({type:ee,id:$}),P(M)},pe=()=>{R(null),P("")},B=()=>{if(!U||!I.trim()){pe();return}U.type==="category"?d(U.id,I):U.type==="document"&&h(U.id,I),pe()},he=ee=>{ee.key==="Enter"?B():ee.key==="Escape"&&pe()},le=()=>{z(null)},se=(ee,$)=>{ee.dataTransfer.setData("application/json",JSON.stringify({type:"doc",id:$})),ee.dataTransfer.effectAllowed="move",setTimeout(()=>z({type:"doc",id:$}),0)},Ce=ee=>{ee.preventDefault(),(de==null?void 0:de.type)==="doc"&&ee.currentTarget.classList.add("bg-gray-700/50")},ue=ee=>{ee.currentTarget.classList.remove("bg-gray-700/50")},K=(ee,$)=>{ee.preventDefault(),ee.currentTarget.classList.remove("bg-gray-700/50");try{const M=JSON.parse(ee.dataTransfer.getData("application/json"));M.type==="doc"&&M.id&&M.id!==$&&p(M.id,$)}catch(M){console.error(M)}z(null)},Y=(ee,$)=>{ee.dataTransfer.setData("application/json",JSON.stringify({type:"category",name:$})),ee.dataTransfer.effectAllowed="move",setTimeout(()=>z({type:"category",id:$}),0)},O=ee=>{ee.preventDefault(),(de==null?void 0:de.type)==="category"&&ee.currentTarget.classList.add("bg-gray-700/50")},J=ee=>{ee.currentTarget.classList.remove("bg-gray-700/50")},Q=(ee,$)=>{ee.preventDefault(),ee.stopPropagation(),ee.currentTarget.classList.remove("bg-gray-700/50");try{const M=JSON.parse(ee.dataTransfer.getData("application/json"));M.type==="category"&&M.name&&M.name!==$&&m(M.name,$)}catch(M){console.error(M)}z(null)};return _.jsxs("aside",{style:{width:`${t}px`},className:"bg-gray-800 text-white flex flex-col h-full border-r border-gray-700 flex-shrink-0 transition-all duration-300 overflow-hidden",children:[_.jsxs("div",{className:"p-4 border-b border-gray-700",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:e}),_.jsxs("div",{className:"relative text-gray-400 focus-within:text-gray-100",children:[_.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:_.jsx(Y1,{})}),_.jsx("input",{type:"text",placeholder:"Pesquisar documentos...",value:S,onChange:ee=>E(ee.target.value),className:"w-full pl-10 pr-10 py-2 bg-gray-900 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),S&&_.jsx("button",{onClick:()=>E(""),className:"absolute inset-y-0 right-0 flex items-center pr-3","aria-label":"Clear search",children:_.jsx(J1,{})})]})]}),_.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:S?_.jsx("div",{children:D.length>0?_.jsx("ul",{className:"space-y-2",children:D.map(ee=>_.jsx("li",{children:_.jsxs("button",{onClick:()=>C(ee.docId,ee.viewMode),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[_.jsx("div",{className:"font-semibold text-indigo-400",children:ee.docTitle}),_.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:[ee.category," (",ee.viewMode.toUpperCase(),")"]}),_.jsx("div",{className:"space-y-1 text-sm text-gray-400 italic",children:ee.snippets.slice(0,3).map(($,M)=>_.jsx("div",{className:"truncate text-ellipsis",children:$},M))})]})},ee.docId))}):_.jsx("div",{className:"text-center text-gray-500 p-4",children:"Nenhum resultado encontrado."})}):o.map(ee=>{const $=r.filter(W=>W.category===ee);if($.length===0)return null;const M=(U==null?void 0:U.type)==="category"&&U.id===ee,N=!!H[ee],te=(de==null?void 0:de.type)==="category"&&de.id===ee;return _.jsxs("div",{className:`transition-opacity ${te?"opacity-30":""}`,children:[_.jsx("div",{className:"group flex items-center justify-between mb-2 rounded-md",draggable:!M,onDragStart:M?void 0:W=>Y(W,ee),onDragEnd:M?void 0:le,onDragOver:M?void 0:O,onDragLeave:M?void 0:J,onDrop:M?void 0:W=>Q(W,ee),style:{cursor:M?"default":"grab"},children:M?_.jsx("input",{type:"text",value:I,onChange:W=>P(W.target.value),onBlur:B,onKeyDown:he,autoFocus:!0,className:"w-full bg-gray-900 text-sm font-bold text-indigo-300 uppercase tracking-wider p-1 rounded border border-indigo-500 outline-none"}):_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>Te(ee),className:"flex items-center flex-grow text-left text-sm font-bold text-indigo-400 uppercase tracking-wider p-1 -ml-1 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 group","aria-expanded":!N,"aria-controls":`category-section-${Sf(ee)}`,children:[_.jsx(Hg,{isCollapsed:N}),_.jsx("span",{className:"ml-1 group-hover:text-indigo-300 transition-colors",children:ee})]}),_.jsx("button",{onClick:()=>Z("category",ee,ee),className:"text-gray-500 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1 ml-2 flex-shrink-0","aria-label":`Edit category ${ee}`,children:_.jsx(qg,{})})]})}),!N&&_.jsx("ul",{id:`category-section-${Sf(ee)}`,className:"space-y-1 pl-4 border-l border-gray-600 ml-1.5",children:$.map(W=>{const G=(U==null?void 0:U.type)==="document"&&U.id===W.id,F=a===W.id,ie=W.content.some(re=>re.type==="heading"),b=(de==null?void 0:de.type)==="doc"&&de.id===W.id;return _.jsxs("li",{draggable:!G,onDragStart:G?void 0:re=>se(re,W.id),onDragEnd:G?void 0:le,onDragOver:G?void 0:Ce,onDragLeave:G?void 0:ue,onDrop:G?void 0:re=>K(re,W.id),className:`rounded-md transition-opacity ${b?"opacity-30":""}`,children:[_.jsx("div",{className:`group flex items-center justify-between w-full pr-1 transition-colors duration-200 rounded-md ${F?"bg-indigo-600":"hover:bg-gray-700"}`,children:G?_.jsx("input",{type:"text",value:I,onChange:re=>P(re.target.value),onBlur:B,onKeyDown:he,autoFocus:!0,className:"w-full bg-gray-900 text-sm px-3 py-2 rounded-md border border-indigo-500 outline-none"}):_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>Re(W.id),className:`flex items-start flex-grow text-left px-3 py-2 text-sm w-full rounded-l-md ${F?"font-semibold":"text-gray-300 group-hover:text-white"}`,style:{cursor:"grab"},"aria-expanded":F&&ie?!ce:void 0,"aria-controls":F&&ie?`doc-headings-${W.id}`:void 0,children:[_.jsx("span",{className:"w-4 mr-1 flex-shrink-0 mt-1",children:F&&ie&&_.jsx(Hg,{isCollapsed:ce})}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("span",{className:"block truncate",title:W.title,children:W.title}),F&&W.lastEdited&&_.jsx("div",{className:"text-xs font-normal text-indigo-200/80 -mt-0.5",children:H1(W.lastEdited)})]})]}),_.jsxs("div",{className:"flex items-center flex-shrink-0",children:[_.jsx("button",{onClick:()=>y(W.id),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Find references for ${W.title}`,title:`Encontrar referncias para ${W.title}`,children:_.jsx(K1,{})}),_.jsx("button",{onClick:()=>Z("document",W.id,W.title),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Edit title for ${W.title}`,children:_.jsx(qg,{})})]})]})}),F&&ie&&!ce&&_.jsx("ul",{id:`doc-headings-${W.id}`,className:"pl-4 mt-1 space-y-1 border-l border-gray-600 ml-3",children:W.content.filter(re=>re.type==="heading").map((re,k)=>{const v=Sf(re.text),T=A=>{switch(A){case 1:return"pl-3";case 2:return"pl-6";case 3:return"pl-9";default:return"pl-3"}};return _.jsx("li",{children:_.jsx("a",{href:`#${v}`,onClick:A=>{A.preventDefault();const X=document.getElementById(v);X&&X.scrollIntoView({behavior:"smooth"})},className:`block w-full text-left py-1 text-xs text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors ${T(re.level)}`,children:re.text})},`${W.id}-heading-${k}`)})})]},W.id)})})]},ee)})}),_.jsx("footer",{className:"p-4 border-t border-gray-700",children:_.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[_.jsx("div",{className:"font-semibold uppercase tracking-wider",children:"Tamanho Total"}),_.jsxs("div",{className:"text-lg font-bold text-white",children:[w.toLocaleString("pt-BR")," palavras"]}),_.jsxs("div",{className:"text-gray-500",children:["~",Math.round(w/.75).toLocaleString("pt-BR")," tokens estimados"]})]})})]})},Lv=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),$1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Bv=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 48 48",children:[_.jsx("path",{fill:"#4CAF50",d:"M32.4,18.3l-7.4-12.8L10.3,34.4l7.4,12.8L32.4,18.3z"}),_.jsx("path",{fill:"#FFC107",d:"M10.3,12.8L2.9,25.6l14.7,8.5l7.4-12.8L10.3,12.8z"}),_.jsx("path",{fill:"#2196F3",d:"M45.1,25.6L32.4,47.2l-7.4-12.8L40,12.8L45.1,25.6z"})]}),X1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Z1=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4-2.245 4.5 4.5 0 118.4-2.475c0 1.039-.44 2.002-1.215 2.754a3 3 0 00-1.008 2.836z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 5.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z"})]}),j1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456l1.178.398-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),Q1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),Pv=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3v18M3 3h9M3 12h9m-9 9h9M15 3h6m-3 0v18"})}),eS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),tS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12M8.25 17.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),nS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),rS=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})]}),iS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:_.jsx("path",{fillRule:"evenodd",d:"M9.191 2.992c.213.385.418.77.615 1.156a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038zM3 9.75A.75.75 0 013.75 9h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 9.75zm16.491-6.758a.75.75 0 011.107-.038 8.25 8.25 0 011.538 3.327c.079.316.153.636.223.959a.75.75 0 01-.58.871 8.25 8.25 0 00-3.612-.387l-.054.022a.75.75 0 11-.84-1.01c.197-.386.402-.77.615-1.156zM18 9.75a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm-9.841 7.242a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038c.213.385.418.77.615 1.156zm8.682 1.01a.75.75 0 00.84-1.01c-.197-.386-.402-.77-.615-1.156a.75.75 0 00-1.107-.038 8.25 8.25 0 00-1.538 3.327c-.079.316-.153.636-.223.959a.75.75 0 00.58.871 8.25 8.25 0 013.612-.387l.054.022z",clipRule:"evenodd"})}),oS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),sS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Od=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),aS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),lS=()=>_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 p-8",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Welcome to your GDD"}),_.jsx("p",{className:"mt-2 max-w-md",children:'Select a document from the sidebar to view its content, or use the "Integrate New Idea" button to add new concepts with the help of AI.'})]}),Ef=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",js=({onClick:t})=>_.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Editar texto",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),uS=({onClick:t})=>_.jsx("button",{onClick:t,className:"heading-level-button p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Alterar nvel do ttulo",children:_.jsx(Pv,{})}),xo=({onClick:t})=>_.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-red-600 hover:text-white transition-all",title:"Apagar bloco",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),Kg=({onClick:t})=>_.jsx("div",{className:"absolute inset-x-0 -top-4 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10",children:_.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md",title:"Adicionar bloco",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})}),cS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),fS=({document:t,allDocuments:e,onNavigate:r,onRefineRequest:o,onFindReferences:a,onUpdateBlock:c,onUpdateBlockContent:d,onSetContent:h,scrollToHeading:p,onDidScrollToHeading:m,onOpenImageGenerationModal:y,docSearchQuery:w,docSearchCurrentIndex:S,onDocSearchResultsChange:E})=>{const[D,C]=Ie.useState(null),[U,R]=Ie.useState(null),[I,P]=Ie.useState(null),[H,q]=Ie.useState(""),ce=Ie.useRef(null),ae=Ie.useRef(null),[de,z]=Ie.useState(null),[Te,Re]=Ie.useState(0),[Z,pe]=Ie.useState(null),[B,he]=Ie.useState([]),le=F=>F?F.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"";Ie.useEffect(()=>{if(!w.trim()||!t){he([]),E(0);return}const F=le(w);if(!F)return;const ie=[],b=(re,k)=>{if(!re)return;const v=le(re);let T=0;for(;(T=v.indexOf(F,T))!==-1;)ie.push({blockIndex:ie.length,itemIndex:k,start:T,end:T+w.length,ref:oa.createRef()}),T+=1};t.content.forEach((re,k)=>{const v=ie.length;re.type==="heading"||re.type==="paragraph"||re.type==="blockquote"?b(re.text):re.type==="list"&&Array.isArray(re.items)&&typeof re.items[0]=="string"?re.items.forEach((T,A)=>b(T,A)):re.type==="definition_list"&&Array.isArray(re.items)?re.items.forEach((T,A)=>{b(T.term,`dl-${A}-term`),b(T.description,`dl-${A}-desc`)}):re.type==="image"&&b(re.caption);for(let T=v;T<ie.length;T++)ie[T].blockIndex=k}),he(ie),E(ie.length)},[w,t,E]),Ie.useEffect(()=>{var F;S!==-1&&B[S]&&((F=B[S].ref.current)==null||F.scrollIntoView({behavior:"smooth",block:"center"}))},[S,B]),Ie.useEffect(()=>{if(p&&t){const F=window.document.getElementById(p);F&&(F.scrollIntoView({behavior:"smooth",block:"start"}),F.classList.add("highlight-scroll"),setTimeout(()=>{F.classList.remove("highlight-scroll")},2e3)),m()}},[p,t,m]),Ie.useEffect(()=>{const F=ie=>{D&&ie.target instanceof Element&&!ie.target.closest(".refine-popup")&&C(null),U&&ie.target instanceof Element&&!ie.target.closest(".heading-level-popup, .heading-level-button")&&R(null),de&&ie.target instanceof Element&&!ie.target.closest(".add-block-menu")&&z(null)};return window.document.addEventListener("mousedown",F),()=>{window.document.removeEventListener("mousedown",F)}},[D,U,de]);const se=()=>{var ie;if(!t||I)return;const F=window.getSelection();if(F&&!F.isCollapsed&&F.rangeCount>0){const b=F.getRangeAt(0);let re=b.startContainer.parentElement;if(!((ie=ce.current)!=null&&ie.contains(re))){C(null);return}const k=re==null?void 0:re.closest("[data-block-index]");if(!k){C(null);return}const v=k.getAttribute("data-block-index");if(!v)return;const T=parseInt(v,10),A=t.content[T];let X,ne="";if(A.type==="list"&&"items"in A&&Array.isArray(A.items)&&typeof A.items[0]=="string"){const De=re==null?void 0:re.closest("[data-item-index]");if(De){const be=De.getAttribute("data-item-index");be&&(X=parseInt(be,10),ne=A.items[X])}else{C(null);return}}else if(A.type==="heading"||A.type==="paragraph"||A.type==="blockquote")ne=A.text;else if(A.type==="image")ne=A.caption;else{C(null);return}if(!ne){C(null);return}const j=b.getBoundingClientRect(),ge=ce.current.getBoundingClientRect();C({top:j.top-ge.top-40,left:j.left-ge.left+j.width/2-16,docId:t.id,blockIndex:T,itemIndex:X,text:ne})}else D&&setTimeout(()=>C(null),100)},Ce=(F,ie,b)=>{C(null),P({blockIndex:F,itemIndex:b}),q(ie)},ue=()=>{P(null),q("")},K=()=>{!t||I===null||(c(t.id,I.blockIndex,H,I.itemIndex),ue())},Y=F=>{if(!t)return;const ie=t.content.filter((b,re)=>re!==F);h(t.id,ie)},O=(F,ie)=>{F.preventDefault();const b=F.currentTarget.getBoundingClientRect(),re=ce.current.getBoundingClientRect();z({index:ie,top:b.top-re.top-45,left:b.left-re.left+b.width/2})},J=(F,ie)=>{var v;if(!t)return;if(F==="image"){Re(ie),(v=ae.current)==null||v.click(),z(null);return}if(F==="generate-image-ai"){y(t.id,ie),z(null);return}let b=null,re,k;switch(F){case"heading":b={type:"heading",level:2,text:"Novo Ttulo"},re=b.text;break;case"paragraph":b={type:"paragraph",text:"Novo pargrafo."},re=b.text;break;case"list":b={type:"list",style:"unordered",items:["Item 1","Item 2"]},re=b.items[0],k=0;break;case"blockquote":b={type:"blockquote",text:"Citao."},re=b.text;break}if(b){const T=[...t.content];T.splice(ie,0,b),h(t.id,T),re!==void 0&&setTimeout(()=>Ce(ie,re,k),50)}z(null)},Q=F=>{var re;const ie=(re=F.target.files)==null?void 0:re[0];if(!ie||!t)return;const b=new FileReader;b.onload=k=>{var T;const v=(T=k.target)==null?void 0:T.result;if(v){const A={type:"image",id:`img-${Date.now()}`,src:v,caption:"Insira uma legenda para a imagem."},X=[...t.content];X.splice(Te,0,A),h(t.id,X),setTimeout(()=>Ce(Te,A.caption),50)}},b.readAsDataURL(ie),F.target&&(F.target.value="")},ee=(F,ie,b)=>{const re=F.currentTarget.getBoundingClientRect(),k=ce.current.getBoundingClientRect();R({top:re.bottom-k.top+4,left:re.left-k.left,blockIndex:ie,currentLevel:b})},{docTitleMap:$,headingMap:M}=Ie.useMemo(()=>{const F=new Map,ie=new Map;return e.forEach(b=>{F.set(b.title.toLowerCase(),b.id),b.content.forEach(re=>{re.type==="heading"&&re.text&&(ie.has(re.text.toLowerCase())||ie.set(re.text.toLowerCase(),{docId:b.id,slug:Ef(re.text)}))})}),{docTitleMap:F,headingMap:ie}},[e]),N=(F,ie,b)=>{if(!F)return[];const re=[],k=/\[\[(.*?)\]\]/g;let v;for(;(v=k.exec(F))!==null;)re.push({start:v.index,end:v.index+v[0].length,type:"link",data:v[0]});B.filter(j=>j.blockIndex===ie&&j.itemIndex===b).forEach(j=>{const ge=B.findIndex(De=>De===j);re.push({start:j.start,end:j.end,type:ge===S?"active-highlight":"highlight",data:F.substring(j.start,j.end),ref:j.ref})});const A=re.filter((j,ge,De)=>j.type.includes("highlight")?!De.some(be=>be.type==="link"&&j.start>=be.start&&j.end<=be.end):!0);if(A.length===0)return[F];A.sort((j,ge)=>j.start-ge.start);const X=[];let ne=0;return A.forEach((j,ge)=>{j.start>ne&&X.push(F.substring(ne,j.start));const De=j.data;if(j.type==="link"){const be=De.slice(2,-2);let Ue=be,Be=be,Ge=!1;if(be.includes("|")){const Ze=be.split("|");Ue=Ze[0],Be=Ze.slice(1).join("|"),Ge=!0}if(Ue.startsWith("img:")){const Ze=Ue.substring(4),Nt=t==null?void 0:t.content.find(Dt=>Dt.type==="image"&&Dt.id===Ze);Nt?X.push(_.jsx("span",{onMouseEnter:Dt=>{const St=Dt.currentTarget.getBoundingClientRect();pe({src:Nt.src,top:St.bottom+5,left:St.left})},onMouseLeave:()=>pe(null),className:"text-green-400 font-semibold hover:underline bg-green-900/30 px-1 py-0.5 rounded-sm transition-colors cursor-pointer",children:Ge?Be:`img:${Ze.slice(-4)}`},`${ge}-imglink`)):X.push(_.jsx("span",{className:"text-red-400 line-through px-1",title:`Imagem no encontrada: "${Ze}"`,children:Ge?Be:Ze},`${ge}-imglink`))}else{let Ze=Ue,Nt;Ue.includes("#")&&([Ze,Nt]=Ue.split("#",2));const Dt=$.get(Ze.toLowerCase());if(Dt){const St=Nt?Ef(Nt):void 0;X.push(_.jsx("button",{onClick:()=>r(Dt,St),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:Be},`${ge}-link`))}else if(!Nt&&M.has(Ze.toLowerCase())){const St=M.get(Ze.toLowerCase());X.push(_.jsx("button",{onClick:()=>r(St.docId,St.slug),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:Be},`${ge}-link`))}else X.push(_.jsx("span",{className:"text-red-400 line-through px-1",title:`Link no encontrado: "${Ue}"`,children:Be},`${ge}-link`))}}else X.push(_.jsx("mark",{ref:j.ref,className:j.type==="active-highlight"?"search-highlight-active":"highlight",children:De},`${ge}-highlight`));ne=j.end}),ne<F.length&&X.push(F.substring(ne)),X};if(!t)return _.jsx(lS,{});const te=()=>_.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[_.jsx("button",{onClick:ue,className:"px-3 py-1 text-sm rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),_.jsx("button",{onClick:K,className:"px-3 py-1 text-sm rounded bg-indigo-600 hover:bg-indigo-500",children:"Salvar"})]}),W=F=>{switch(F){case 1:return"text-2xl font-bold text-indigo-400";case 2:return"text-xl font-semibold text-gray-200";case 3:return"text-lg font-medium text-gray-300";default:return"text-2xl font-bold text-indigo-400"}},G=({state:F,onAddBlock:ie})=>{const b=Ie.useRef(null),re=[{type:"heading",title:"Ttulo",icon:_.jsx(Pv,{})},{type:"paragraph",title:"Pargrafo",icon:_.jsx(eS,{})},{type:"list",title:"Lista",icon:_.jsx(tS,{})},{type:"blockquote",title:"Citao",icon:_.jsx(iS,{})},{type:"image",title:"Imagem",icon:_.jsx(nS,{})},{type:"generate-image-ai",title:"Gerar Imagem com IA",icon:_.jsx(rS,{})}];return _.jsx("div",{ref:b,className:"add-block-menu absolute z-20 flex items-center space-x-1 bg-gray-900 border border-gray-700 p-1 rounded-lg shadow-lg",style:{top:`${F.top}px`,left:`${F.left}px`,transform:"translateX(-50%)"},children:re.map(k=>_.jsx("button",{title:k.title,onClick:()=>ie(k.type,F.index),className:"p-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors",children:k.icon},k.type))})};return _.jsxs("div",{className:"p-8 lg:p-12 prose prose-invert prose-lg max-w-4xl mx-auto relative",ref:ce,onMouseUp:se,children:[_.jsx("input",{type:"file",accept:"image/*",ref:ae,onChange:Q,className:"hidden"}),Z&&_.jsx("div",{className:"fixed z-50 p-1 bg-gray-900 border border-gray-600 rounded-md shadow-lg",style:{top:Z.top,left:Z.left,pointerEvents:"none"},children:_.jsx("img",{src:Z.src,alt:"Preview",className:"max-w-xs max-h-48 rounded-sm"})}),D&&_.jsx("button",{className:"refine-popup absolute z-20 bg-yellow-400 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center shadow-lg hover:bg-yellow-300 transition-all scale-100 hover:scale-110",style:{top:`${D.top}px`,left:`${D.left}px`},onClick:()=>{o(D.docId,D.blockIndex,D.text,D.itemIndex),C(null)},title:"Aprimorar texto com IA",children:""}),de&&_.jsx(G,{state:de,onAddBlock:J}),U&&_.jsx("div",{className:"heading-level-popup absolute z-30 bg-gray-700 rounded-md shadow-lg p-1 flex flex-col",style:{top:`${U.top}px`,left:`${U.left}px`},children:[1,2,3].map(F=>_.jsxs("button",{onClick:()=>{d(t.id,U.blockIndex,{level:F}),R(null)},className:`text-left text-sm px-3 py-1 rounded-sm transition-colors ${U.currentLevel===F?"bg-indigo-600 text-white":"hover:bg-gray-600 text-gray-200"}`,children:["Ttulo ",F]},F))}),_.jsxs("div",{className:"mb-8 pb-4 border-b border-gray-700",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("p",{className:"text-indigo-400 font-semibold",children:t.category}),_.jsxs("button",{onClick:()=>a(t.id),className:"flex items-center space-x-2 text-sm text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md px-2 py-1 transition-colors",title:"Encontrar menes a este documento",children:[_.jsx(cS,{}),_.jsx("span",{children:"Encontrar Referncias"})]})]}),_.jsx("h1",{className:"text-4xl font-extrabold text-white !mb-0",children:t.title})]}),_.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[Array.isArray(t.content)&&t.content.map((F,ie)=>{if(!F)return null;const b=()=>{switch(F.type){case"heading":{const re=(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===void 0,k=Ef(F.text);return re?_.jsxs("div",{className:"mt-4 mb-2",children:[_.jsx("textarea",{value:H,onChange:v=>q(v.target.value),className:`w-full p-2 bg-gray-900 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 ${W(F.level)}`,rows:1,autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("div",{className:"group relative",children:[!I&&_.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[_.jsx(uS,{onClick:v=>ee(v,ie,F.level)}),_.jsx(js,{onClick:()=>Ce(ie,F.text)}),_.jsx(xo,{onClick:()=>Y(ie)})]}),(()=>{const v={id:k,"data-block-index":ie,className:"scroll-mt-24"},T=N(F.text,ie);switch(F.level){case 1:return _.jsx("h2",{...v,className:`${v.className} text-indigo-400 border-b border-gray-700 pb-2 text-2xl font-bold`,children:T});case 2:return _.jsx("h3",{...v,className:`${v.className} text-xl font-semibold text-gray-200 mt-8 mb-2`,children:T});case 3:return _.jsx("h4",{...v,className:`${v.className} text-lg font-medium text-gray-300 mt-6 mb-1`,children:T});default:return _.jsx("h2",{...v,className:`${v.className} text-indigo-400 border-b border-gray-700 pb-2 text-2xl font-bold`,children:T})}})()]})}case"paragraph":return(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===void 0?_.jsxs("div",{className:"my-4",children:[_.jsx("textarea",{value:H,onChange:k=>q(k.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 leading-relaxed",rows:Math.max(3,H.split(`
`).length),autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("div",{className:"group relative",children:[!I&&_.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[_.jsx(js,{onClick:()=>Ce(ie,F.text)}),_.jsx(xo,{onClick:()=>Y(ie)})]}),_.jsx("p",{"data-block-index":ie,children:N(F.text,ie)})]});case"blockquote":return(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===void 0?_.jsxs("div",{className:"my-4",children:[_.jsx("textarea",{value:H,onChange:k=>q(k.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 leading-relaxed",rows:Math.max(3,H.split(`
`).length),autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("div",{className:"group relative",children:[!I&&_.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[_.jsx(js,{onClick:()=>Ce(ie,F.text)}),_.jsx(xo,{onClick:()=>Y(ie)})]}),_.jsx("blockquote",{"data-block-index":ie,className:"border-l-4 border-gray-500 pl-4 italic text-gray-400",children:N(F.text,ie)})]});case"list":{const re=F,k=Array.isArray(re.items)?re.items:[];if(k.length===0)return null;const v=re.style==="ordered"?"ol":"ul";return _.jsxs("div",{className:"group relative",children:[!I&&_.jsx("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(xo,{onClick:()=>Y(ie)})}),_.jsx(v,{"data-block-index":ie,className:"pl-8 space-y-2",children:k.map((T,A)=>{const X=(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===A;return _.jsx("li",{"data-item-index":A,children:X?_.jsxs("div",{className:"my-2",children:[_.jsx("textarea",{value:H,onChange:ne=>q(ne.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500",rows:Math.max(1,H.split(`
`).length),autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("div",{className:"group/item relative",children:[!I&&_.jsx("div",{className:"absolute top-0 -right-8 z-10 opacity-0 group-hover/item:opacity-100 transition-opacity",children:_.jsx(js,{onClick:()=>Ce(ie,T,A)})}),N(T,ie,A)]})},A)})})]})}case"definition_list":{const re=F,k=Array.isArray(re.items)?re.items:[];return k.length===0?null:_.jsxs("div",{className:"group relative my-4",children:[!I&&_.jsx("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(xo,{onClick:()=>Y(ie)})}),_.jsx("dl",{"data-block-index":ie,children:k.map((v,T)=>_.jsxs("div",{className:"mb-2",children:[_.jsx("dt",{className:"font-semibold text-gray-200",children:N(v.term,ie,`dl-${T}-term`)}),_.jsx("dd",{className:"ml-4 text-gray-400",children:N(v.description,ie,`dl-${T}-desc`)})]},T))})]})}case"image":return(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===void 0?_.jsxs("figure",{id:F.id,"data-block-index":ie,className:"my-6 not-prose",children:[_.jsx("img",{src:F.src,alt:F.caption,className:"w-full rounded-md shadow-lg"}),_.jsx("textarea",{value:H,onChange:k=>q(k.target.value),className:"w-full mt-2 p-2 bg-gray-900 border border-gray-600 rounded-md text-sm text-center italic",autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("figure",{id:F.id,"data-block-index":ie,className:"my-6 not-prose",children:[_.jsxs("div",{className:"group relative",children:[!I&&_.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[_.jsx(js,{onClick:()=>Ce(ie,F.caption)}),_.jsx(xo,{onClick:()=>Y(ie)})]}),_.jsx("img",{src:F.src,alt:F.caption,className:"w-full rounded-md shadow-lg"})]}),_.jsx("figcaption",{className:"text-center text-sm italic text-gray-400 mt-2",children:N(F.caption,ie)})]});default:return null}};return _.jsxs("div",{className:"group relative",children:[_.jsx(Kg,{onClick:re=>O(re,ie)}),b()]},ie)}),Array.isArray(t.content)&&_.jsx("div",{className:"group relative h-8",children:_.jsx(Kg,{onClick:F=>O(F,t.content.length)})})]})]})},dS=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[a,c]=Ie.useState(""),[d,h]=Ie.useState(!1),[p,m]=Ie.useState(65e3),[y,w]=Ie.useState(1e4);if(!t)return null;const S=C=>{C.preventDefault(),a.trim()&&(r(a,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=C=>{const U=parseInt(C.target.value,10);m(U),y>=U&&w(Math.max(0,U-512))},D=C=>{const U=parseInt(C.target.value,10);w(U)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:C=>C.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Integrar Nova Ideia ao ",o]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:""})]}),_.jsxs("p",{className:"text-gray-400 mb-4",children:["Cole qualquer texto aqui - um novo documento, uma ideia, um pargrafo para adicionar, notas de reunio, etc. A IA ir analis-lo e sugerir a melhor forma de integr-lo ao ",o,"."]}),_.jsxs("form",{onSubmit:S,children:[_.jsx("textarea",{value:a,onChange:C=>c(C.target.value),placeholder:"Ex: Vamos adicionar um sistema de criao onde os jogadores podem combinar fragmentos elementais para criar novos feitios...",className:"w-full h-64 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),_.jsxs("div",{className:"mt-4",children:[_.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configuraes Avanadas"]}),d&&_.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"maxOutputTokens",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Sada: ",_.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),_.jsx("input",{id:"maxOutputTokens",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho mximo da resposta da IA. Valores mais altos permitem mudanas mais complexas."})]}),_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"thinkingBudget",className:"block text-sm font-medium text-gray-300",children:["Oramento de Raciocnio (Thinking Budget): ",_.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),_.jsx("input",{id:"thinkingBudget",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:D,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rpidas, mas de menor qualidade.'})]})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:!a.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Deixar a IA Integrar"})]})]})]})})},hS=["Corrigir ortografia e gramtica","Tornar o texto mais formal","Simplificar a linguagem","Expandir esta ideia","Resumir este ponto"],pS=({isOpen:t,onClose:e,onSubmit:r,initialText:o,contextType:a})=>{const[c,d]=Ie.useState(""),[h,p]=Ie.useState(!1);if(Ie.useEffect(()=>{t&&(d(""),p(!1))},[t]),!t)return null;const m=y=>{y.preventDefault(),c.trim()&&r(c,h)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:y=>y.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-2xl font-bold text-white flex items-center",children:" Aprimorar Texto com IA"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:""})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Texto Original:"}),_.jsx("blockquote",{className:"bg-gray-900/50 border-l-4 border-gray-600 p-3 rounded-r-md text-gray-300 max-h-32 overflow-y-auto",children:o})]}),_.jsxs("form",{onSubmit:m,children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Sugestes:"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:hS.map(y=>_.jsx("button",{type:"button",onClick:()=>d(y),className:"px-3 py-1 text-sm bg-gray-700 hover:bg-indigo-600 rounded-full transition-colors",children:y},y))})]}),_.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:"Ou escreva sua prpria instruo aqui...",className:"w-full h-24 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),_.jsx("div",{className:"mt-4",children:_.jsxs("label",{className:"flex items-center text-gray-400 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:h,onChange:y=>p(y.target.checked),className:"w-4 h-4 bg-gray-900 border-gray-600 rounded text-indigo-600 focus:ring-indigo-500"}),_.jsxs("span",{className:"ml-2 text-sm select-none",children:["Incluir contexto (enviar todo o ",a," para a IA)"]})]})}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Aprimorar"})]})]})]})})},mS=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[a,c]=Ie.useState(""),[d,h]=Ie.useState(!1),[p,m]=Ie.useState(65e3),[y,w]=Ie.useState(1e4);if(!t)return null;const S=U=>{U.preventDefault(),a.trim()&&(r(a,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=U=>{const R=parseInt(U.target.value,10);m(R),y>=R&&w(Math.max(0,R-512))},D=U=>{const R=parseInt(U.target.value,10);w(R)},C=o==="GDD"?"Ex: Crie uma nova categoria 'Inimigos' e adicione documentos para 'Grunt' e 'Brute' com base na lore existente...":"Ex: Divida o Ato 1 em mais duas misses, focando na introduo da mecnica de furtividade antes do primeiro chefe.";return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:U=>U.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Atualizao Global do ",o," com IA"]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:""})]}),_.jsxs("p",{className:"text-gray-400 mb-4",children:["Fornea uma instruo de alto nvel. A IA analisar todo o ",o," e aplicar as mudanas necessrias, como criar novos documentos, atualizar sees existentes e garantir a consistncia dos links."]}),_.jsxs("form",{onSubmit:S,children:[_.jsx("textarea",{value:a,onChange:U=>c(U.target.value),placeholder:C,className:"w-full h-48 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"}),_.jsxs("div",{className:"mt-4",children:[_.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-purple-400 hover:text-purple-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configuraes Avanadas"]}),d&&_.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"maxOutputTokensGlobal",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Sada: ",_.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),_.jsx("input",{id:"maxOutputTokensGlobal",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho mximo da resposta da IA. Valores mais altos permitem mudanas mais complexas."})]}),_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"thinkingBudgetGlobal",className:"block text-sm font-medium text-gray-300",children:["Oramento de Raciocnio (Thinking Budget): ",_.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),_.jsx("input",{id:"thinkingBudgetGlobal",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:D,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rpidas, mas de menor qualidade.'})]})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsxs("button",{type:"submit",disabled:!a.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:["Atualizar ",o]})]})]})]})})},gS=({message:t,currentTokens:e,estimatedTokens:r})=>{const o=r&&e&&r>0?e/r*100:0,a=typeof e=="number"&&typeof r=="number"&&r>0;return _.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 text-white",children:[_.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_.jsx("p",{className:"text-xl font-semibold mb-4",children:t}),a&&_.jsxs("div",{className:"w-80 text-center",children:[_.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:_.jsx("div",{className:"bg-indigo-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(o,100)}%`}})}),_.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[e.toLocaleString("pt-BR")," / ",r.toLocaleString("pt-BR")," tokens gerados (estimativa)"]})]})]})},yS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),vS=({isOpen:t,onClose:e,targetDocTitle:r,references:o,onNavigate:a})=>{if(!t)return null;const c=d=>{a(d),e()};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all",onClick:d=>d.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx(yS,{}),_.jsxs("div",{children:[_.jsxs("h2",{className:"text-2xl font-bold text-white",children:['Referncias a "',r,'"']}),_.jsxs("p",{className:"text-gray-400 text-sm",children:[o.length," meno(es) encontrada(s)."]})]})]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:""})]}),o.length>0?_.jsx("ul",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:o.map((d,h)=>_.jsx("li",{children:_.jsxs("button",{onClick:()=>c(d.docId),className:"w-full text-left bg-gray-900/50 p-4 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[_.jsx("div",{className:"font-semibold text-indigo-400 text-lg",children:d.docTitle}),_.jsx("div",{className:"text-xs text-gray-500 mb-2 uppercase tracking-wider",children:d.category}),_.jsxs("blockquote",{className:"text-gray-300 border-l-2 border-gray-600 pl-3 text-sm italic",children:["...",d.snippet,"..."]})]})},h))}):_.jsx("div",{className:"text-center py-10",children:_.jsx("p",{className:"text-gray-400",children:"Nenhuma referncia encontrada para este documento."})})]})})},Yg=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75a7.5 7.5 0 01-7.5-7.5"})]}),wS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),xS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v18m-4.5-13.5h9M5.25 6H18.75M8.25 4.5V3.75a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5V4.5m-6 13.5V18a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5v.75"})}),TS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),SS=({isOpen:t,onToggle:e,messages:r,isLoading:o,onSendMessage:a,onClearChat:c})=>{const[d,h]=Ie.useState(""),p=Ie.useRef(null);Ie.useEffect(()=>{var w;(w=p.current)==null||w.scrollIntoView({behavior:"smooth"})},[r,o]);const m=()=>{d.trim()&&!o&&(a(d),h(""))},y=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),m())};return t?_.jsxs("div",{className:"fixed bottom-6 right-6 w-[400px] h-[600px] bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl flex flex-col z-50",children:[_.jsxs("header",{className:"flex items-center justify-between p-4 bg-gray-900/50 rounded-t-2xl border-b border-gray-700",children:[_.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[_.jsx(Yg,{}),_.jsx("span",{className:"ml-2",children:"Consulta Avanada"})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",title:"Limpar chat",disabled:r.length===0,children:_.jsx(xS,{})}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:_.jsx(wS,{})})]})]}),_.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[r.length===0&&_.jsx("div",{className:"text-center text-gray-400 text-sm h-full flex items-center justify-center",children:_.jsx("p",{children:'Faa uma pergunta sobre o GDD ou o Roteiro. Por exemplo: "Qual o loop de gameplay principal?"'})}),r.map((w,S)=>_.jsx("div",{className:`flex ${w.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[80%] rounded-xl px-4 py-2 ${w.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-200"}`,children:_.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w.text})})},S)),o&&_.jsx("div",{className:"flex justify-start",children:_.jsx("div",{className:"max-w-[80%] rounded-xl px-4 py-2 bg-gray-700 text-gray-200",children:_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"})]})})}),_.jsx("div",{ref:p})]}),_.jsx("div",{className:"p-4 border-t border-gray-700",children:_.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg pr-2",children:[_.jsx("input",{type:"text",value:d,onChange:w=>h(w.target.value),onKeyPress:y,placeholder:"Pergunte algo...",className:"w-full bg-transparent p-3 text-sm text-gray-200 focus:outline-none",disabled:o}),_.jsx("button",{onClick:m,disabled:!d.trim()||o,className:"p-2 rounded-md text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",children:_.jsx(TS,{})})]})})]}):_.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 bg-indigo-600 text-white rounded-full p-4 shadow-lg hover:bg-indigo-500 transition-transform hover:scale-110 z-50",title:"Consulta Avanada",children:_.jsx(Yg,{})})},ES=({isOpen:t,onClose:e,insight:r})=>{const[o,a]=Ie.useState(!1);if(!t||!r)return null;const{summary:c,thinkingProcess:d,rawJson:h}=r;let p="";try{p=JSON.stringify(JSON.parse(h),null,2)}catch{p="Erro ao formatar JSON: "+h}return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Anlise da ltima Ao da IA"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:""})]}),_.jsxs("div",{className:"overflow-y-auto pr-4 -mr-4 space-y-6",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Resumo da IA"}),_.jsxs("p",{className:"bg-gray-900/50 p-3 rounded-md text-gray-300 italic",children:['"',c,'"']})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Processo de Raciocnio"}),_.jsx("ol",{className:"list-decimal list-inside bg-gray-900/50 p-4 rounded-md text-gray-300 space-y-2",children:d.map((m,y)=>_.jsx("li",{children:m},y))})]}),_.jsxs("div",{children:[_.jsxs("button",{onClick:()=>a(!o),className:"text-sm text-teal-400 hover:text-teal-300 focus:outline-none mb-2",children:[o?"Ocultar":"Mostrar"," Sada JSON Bruta"]}),o&&_.jsx("div",{className:"animate-fade-in bg-gray-900 p-4 rounded-md border border-gray-700 max-h-80 overflow-auto",children:_.jsx("pre",{className:"text-xs text-gray-400",children:_.jsx("code",{children:p})})})]})]})]})})},_S=({isOpen:t,onClose:e,onSubmit:r})=>{const[o,a]=Ie.useState("");if(!t)return null;const c=d=>{d.preventDefault(),r(o),a("")};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:d=>d.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerar Imagem com IA"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:""})]}),_.jsx("p",{className:"text-gray-400 mb-4",children:"Opcionalmente, descreva a cena que voc quer gerar. A IA usar o contexto do documento (estilo visual, personagens) para criar um prompt detalhado e gerar uma imagem consistente com o GDD."}),_.jsxs("form",{onSubmit:c,children:[_.jsx("textarea",{value:o,onChange:d=>a(d.target.value),placeholder:"Ex: Kael em uma pose de combate, com seu amuleto brilhando intensamente...",className:"w-full h-40 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 transition-colors",children:"Gerar Imagem"})]})]})]})})},bS=({isOpen:t,onClose:e,onUploadLocal:r,onUploadFromUrl:o,isGoogleAuth:a,onGoogleAuthClick:c})=>{const[d,h]=Ie.useState("");if(!t)return null;const p=m=>{m.preventDefault(),d.trim()&&o(d)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:m=>m.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar GDD & Roteiro"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:""})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Do seu computador"}),_.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Carregue um arquivo .json salvo anteriormente a partir desta aplicao."}),_.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md",children:[_.jsx(Lv,{}),_.jsx("span",{className:"ml-2",children:"Escolher Arquivo do Computador"})]})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:_.jsx("div",{className:"w-full border-t border-gray-600"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Ou"})})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"De um link do Google Drive"}),_.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Cole um link compartilhvel de um arquivo .json. Arquivos pblicos carregaro diretamente."}),_.jsxs("form",{onSubmit:p,className:"flex items-start space-x-2",children:[_.jsxs("div",{className:"flex-grow",children:[_.jsx("input",{type:"url",value:d,onChange:m=>h(m.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),!a&&_.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Para arquivos privados, voc precisar"," ",_.jsx("button",{type:"button",onClick:c,className:"text-indigo-400 hover:underline font-semibold",children:"conectar sua conta do Google"}),"."]}),a&&_.jsxs("p",{className:"text-xs text-green-400 mt-1 flex items-center",children:[_.jsx(Bv,{})," ",_.jsx("span",{className:"ml-1",children:"Conectado ao Google. Arquivos privados podem ser carregados."})]})]}),_.jsx("button",{type:"submit",disabled:!d.trim(),className:"px-4 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 transition-colors flex-shrink-0",children:"Carregar"})]})]})]})]})})},CS=({isOpen:t,onClose:e,isClosable:r=!0,initialUrl:o,initialKey:a,onSaveSettings:c,onUploadClick:d,onDownloadClick:h,isSyncing:p,syncStatus:m})=>{const[y,w]=Ie.useState(o),[S,E]=Ie.useState(a),[D,C]=Ie.useState(!1);if(!t)return null;const U=()=>{c(y,S)},R=()=>{r&&e()},I=y&&S,P=m&&(m.toLowerCase().includes("erro")||m.toLowerCase().includes("falha"));return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:R,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-xl transform transition-all animate-dropdown",onClick:H=>H.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[_.jsx(Od,{}),_.jsx("span",{className:"ml-3",children:"Sincronizao na Nuvem"})]}),_.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white text-3xl leading-none disabled:text-gray-600 disabled:cursor-not-allowed",disabled:!r,children:""})]}),_.jsxs("div",{className:"space-y-6",children:[!r&&_.jsx("div",{className:"p-3 bg-yellow-900/40 border border-yellow-700 rounded-md text-sm text-yellow-300",children:_.jsx("p",{children:"Por favor, insira e salve suas credenciais de sincronizao na nuvem para comear a usar a aplicao."})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Configurao"}),_.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Insira os detalhes do seu Worker Cloudflare e a chave de acesso para ativar a sincronizao. As informaes sero salvas localmente no seu navegador."}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"worker-url",className:"block text-sm font-medium text-gray-300 mb-1",children:"URL do Worker"}),_.jsx("input",{id:"worker-url",type:"url",value:y,onChange:H=>w(H.target.value),placeholder:"https://meu-gdd.meu-usuario.workers.dev",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"access-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chave de Administrador"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"access-key",type:D?"text":"password",value:S,onChange:H=>E(H.target.value),placeholder:"Sua chave secreta",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-10"}),_.jsx("button",{type:"button",onClick:()=>C(!D),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-300",title:D?"Ocultar chave":"Mostrar chave",children:D?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"})}):_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.644l.66-1.229a1.012 1.012 0 000-.644l-.66-1.229a1.012 1.012 0 01.644-1.666l1.229.66a1.012 1.012 0 00.644 0l1.229-.66a1.012 1.012 0 011.666.644l-.66 1.229a1.012 1.012 0 000 .644l.66 1.229a1.012 1.012 0 01-.644 1.666l-1.229-.66a1.012 1.012 0 00-.644 0l-1.229.66a1.012 1.012 0 01-1.666-.644l.66-1.229a1.012 1.012 0 000-.644l-.66-1.229z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})]}),_.jsx("button",{onClick:U,className:"mt-4 w-full px-4 py-2 text-sm font-semibold rounded-md text-white bg-gray-600 hover:bg-gray-500 transition-colors",children:"Salvar Configuraes"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:_.jsx("div",{className:"w-full border-t border-gray-600"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Aes"})})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx("button",{onClick:d,disabled:!I||p,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors rounded-md",children:p?"Sincronizando...":"Salvar Verso na Nuvem"}),_.jsx("button",{onClick:h,disabled:!I||p,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors rounded-md",children:p?"Sincronizando...":"Carregar Verso da Nuvem"})]}),!I&&_.jsx("p",{className:"text-xs text-yellow-500 mt-2 text-center",children:"Salve a URL e a Chave para ativar as aes de sincronizao."}),m&&_.jsx("p",{className:`text-sm text-center mt-4 p-2 rounded-md ${P?"bg-red-900/50 text-red-300":"bg-green-900/50 text-green-300"}`,children:m})]})]})]})})},AS=({isOpen:t,onClose:e,onConfirm:r,title:o,message:a})=>t?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:c=>c.stopPropagation(),children:[_.jsxs("div",{className:"flex items-start",children:[_.jsx("div",{className:"mr-4 flex-shrink-0",children:_.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-900/50 flex items-center justify-center",children:_.jsx(aS,{})})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:o}),_.jsx("p",{className:"text-gray-400 mt-2",children:a})]})]}),_.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 rounded-md font-semibold text-white bg-yellow-600 hover:bg-yellow-500 transition-colors",children:"Confirmar"})]})]})}):null,RS=({isOpen:t,onClose:e,onSave:r,isSaving:o})=>{const[a,c]=Ie.useState("");if(!t)return null;const d=h=>{h.preventDefault(),a.trim()&&r(a)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:h=>h.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Salvar Verso na Nuvem"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:""})]}),_.jsx("p",{className:"text-gray-400 mb-4",children:'D um nome a esta verso para identific-la facilmente mais tarde. Ex: "Aps a reunio de design".'}),_.jsxs("form",{onSubmit:d,children:[_.jsx("input",{type:"text",value:a,onChange:h=>c(h.target.value),placeholder:"Nome da Verso",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,disabled:o,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:!a.trim()||o,className:"px-6 py-2 rounded-md font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:o?"Salvando...":"Salvar"})]})]})]})})},NS=t=>{if(!t)return"Data desconhecida";try{const e=new Date(t);return new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return"Data invlida"}},Jg=({title:t,versions:e,onLoadVersion:r})=>_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:t}),e.length>0?_.jsx("ul",{className:"space-y-2",children:e.map(o=>_.jsx("li",{children:_.jsxs("button",{onClick:()=>r(o.id),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.name&&_.jsx("div",{className:"font-semibold text-indigo-400",children:o.name}),_.jsx("div",{className:"text-sm text-gray-400",children:NS(o.timestamp)})]})},o.id))}):_.jsx("p",{className:"text-sm text-gray-500 italic",children:"Nenhuma verso encontrada."})]}),DS=({isOpen:t,onClose:e,onLoadVersion:r,versions:o,isLoading:a,error:c})=>t?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all animate-dropdown flex flex-col max-h-[90vh]",onClick:d=>d.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar Verso da Nuvem"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:""})]}),_.jsxs("div",{className:"overflow-y-auto pr-2 -mr-4",children:[a&&_.jsx("p",{className:"text-center text-gray-400",children:"Buscando verses..."}),c&&_.jsx("p",{className:"text-center text-red-400 bg-red-900/50 p-3 rounded-md",children:c}),o&&_.jsxs("div",{className:"space-y-6",children:[_.jsx(Jg,{title:"Verses Manuais",versions:o.manual,onLoadVersion:r}),_.jsx(Jg,{title:"Backups Automticos",versions:o.automatic,onLoadVersion:r})]})]})]})}):null,MS=t=>{if(!t)return"Data desconhecida";try{const e=new Date(t);return new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return"Data invlida"}},IS=({isOpen:t,onClose:e,onConfirm:r,latestVersion:o})=>!t||!o?null:_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:a=>a.stopPropagation(),children:[_.jsxs("div",{className:"flex items-start",children:[_.jsx("div",{className:"mr-4 flex-shrink-0",children:_.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-900/50 flex items-center justify-center text-blue-400",children:_.jsx(Od,{})})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:"Atualizao Disponvel na Nuvem"}),_.jsx("p",{className:"text-gray-400 mt-2",children:"Uma verso mais recente dos seus documentos foi encontrada na nuvem. Deseja carreg-la agora?"}),_.jsxs("div",{className:"mt-4 p-3 bg-gray-900/50 rounded-md border border-gray-700",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-200",children:o.name?`Nome: ${o.name}`:"Backup Automtico"}),_.jsxs("p",{className:"text-xs text-gray-500",children:["Salvo em: ",MS(o.timestamp)]})]}),_.jsx("p",{className:"text-xs text-yellow-400 mt-3",children:"Ateno: Carregar esta verso substituir quaisquer alteraes locais no salvas."})]})]}),_.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Ignorar"}),_.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 rounded-md font-semibold text-white bg-blue-600 hover:bg-blue-500 transition-colors",children:"Carregar Verso Mais Recente"})]})]})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kS,US;function LS(){return{geminiUrl:kS,vertexUrl:US}}function BS(t,e,r,o){var a,c;if(!(t!=null&&t.baseUrl)){const d=LS();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:r:(c=d.geminiUrl)!==null&&c!==void 0?c:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Di{}function ze(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(t,e,r){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(r))t[h]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(r))for(let m=0;m<p.length;m++){const y=p[m];u(y,e.slice(c+1),r[m])}else for(const m of p)u(m,e.slice(c+1),r)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];u(p[0],e.slice(c+1),r);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const o=e[e.length-1],a=t[o];if(a!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===a)return;if(typeof a=="object"&&typeof r=="object"&&a!==null&&r!==null)Object.assign(a,r);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=r}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const c=t[a];return Array.isArray(c)?c.map(d=>l(d,e.slice(r+1))):void 0}else return}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wg||(Wg={}));var $g;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})($g||($g={}));var rt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(rt||(rt={}));var Xg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Xg||(Xg={}));var Zg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Zg||(Zg={}));var jg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(jg||(jg={}));var Qg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Qg||(Qg={}));var ey;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ey||(ey={}));var ty;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ty||(ty={}));var ny;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ny||(ny={}));var ry;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ry||(ry={}));var iy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(iy||(iy={}));var oy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oy||(oy={}));var sy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(sy||(sy={}));var ay;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ay||(ay={}));var Jl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Jl||(Jl={}));var ly;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ly||(ly={}));var vd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vd||(vd={}));var uy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(uy||(uy={}));var cy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(cy||(cy={}));var fy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(fy||(fy={}));var dy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(dy||(dy={}));var hy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hy||(hy={}));var py;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(py||(py={}));var my;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(my||(my={}));var gy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gy||(gy={}));var yy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(yy||(yy={}));var vy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(vy||(vy={}));var wy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wy||(wy={}));var xy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xy||(xy={}));var Ty;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ty||(Ty={}));var Sy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sy||(Sy={}));var Ey;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ey||(Ey={}));var _y;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_y||(_y={}));var by;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(by||(by={}));var Cy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Cy||(Cy={}));var Ay;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ay||(Ay={}));var Ry;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ry||(Ry={}));var Ny;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ny||(Ny={}));var Dy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dy||(Dy={}));var My;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(My||(My={}));var Iy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Iy||(Iy={}));var ky;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ky||(ky={}));var Uy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Uy||(Uy={}));var Ly;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ly||(Ly={}));var _o;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_o||(_o={}));class wd{constructor(e){const r={};for(const o of e.headers.entries())r[o[0]]=o[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Qs{get text(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const w=[];for(const S of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[E,D]of Object.entries(S))E!=="text"&&E!=="thought"&&(D!==null||D!==void 0)&&w.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return w.length>0&&console.warn(`there are non-text parts ${w} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const w of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,E]of Object.entries(w))S!=="inlineData"&&(E!==null||E!==void 0)&&y.push(S);w.inlineData&&typeof w.inlineData.data=="string"&&(m+=atob(w.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,r,o,a,c,d,h,p,m;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(w=>w.executableCode).map(w=>w.executableCode).filter(w=>w!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,r,o,a,c,d,h,p,m;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(w=>w.codeExecutionResult).map(w=>w.codeExecutionResult).filter(w=>w!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class By{}class Py{}class PS{}class OS{}class FS{}class zS{}class Oy{}class Fy{}class zy{}class GS{}class Gy{}class Wl{_fromAPIResponse({apiResponse:e,isVertexAI:r}){const o=new Wl;if(o.name=e.name,o.metadata=e.metadata,o.done=e.done,o.error=e.error,r){const a=e.response;if(a){const c=new Gy,d=a.videos;c.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?yd(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),c.raiMediaFilteredCount=a.raiMediaFilteredCount,c.raiMediaFilteredReasons=a.raiMediaFilteredReasons,o.response=c}}else{const a=e.response;if(a){const c=new Gy,d=a.generateVideoResponse,h=d==null?void 0:d.generatedSamples;c.generatedVideos=h==null?void 0:h.map(p=>{const m=p.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?yd(m==null?void 0:m.encodedVideo):void 0,mimeType:p.encoding}}}),c.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,c.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,o.response=c}}return o}}class Vy{}class qy{}class Hy{}class VS{}class qS{}class HS{}class Ky{}class KS{get text(){var e,r,o;let a="",c=!1;const d=[];for(const h of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,a+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,r,o;let a="";const c=[];for(const d of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&p!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class YS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ft(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ov(t,e){const r=ft(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function Fv(t){return Array.isArray(t)?t.map(e=>$l(e)):[$l(t)]}function $l(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function zv(t){const e=$l(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Gv(t){const e=$l(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Yy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Vv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Yy(e)):[Yy(t)]}function xd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Jy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Wy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function on(t){if(t==null)throw new Error("ContentUnion is required");return xd(t)?t:{role:"user",parts:Vv(t)}}function qv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const o=on(r);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const r=on(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>on(r)):[on(e)]}function Fn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Jy(t)||Wy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[on(t)]}const e=[],r=[],o=xd(t[0]);for(const a of t){const c=xd(a);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(Jy(a)||Wy(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return o||e.push({role:"user",parts:Vv(r)}),e}function JS(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(o=>o!=="null");if(r.length===1)e.type=Object.values(rt).includes(r[0].toUpperCase())?r[0].toUpperCase():rt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of r)e.anyOf.push({type:Object.values(rt).includes(o.toUpperCase())?o.toUpperCase():rt.TYPE_UNSPECIFIED})}}function bo(t){const e={},r=["items"],o=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&JS(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(rt).includes(h.toUpperCase())?h.toUpperCase():rt.TYPE_UNSPECIFIED}else if(r.includes(d))e[d]=bo(h);else if(o.includes(d)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(bo(m))}e[d]=p}else if(a.includes(d)){const p={};for(const[m,y]of Object.entries(h))p[m]=bo(y);e[d]=p}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Fd(t){return bo(t)}function zd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Gd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function zo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=bo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=bo(e.response));return t}function Go(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function WS(t,e,r,o=1){const a=!e.startsWith(`${r}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:a?`${r}/${e}`:e}function Nr(t,e){if(typeof e!="string")throw new Error("name must be a string");return WS(t,e,"cachedContents")}function Hv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Mi(t){return yd(t)}function $S(t){return t!=null&&typeof t=="object"&&"name"in t}function XS(t){return t!=null&&typeof t=="object"&&"video"in t}function ZS(t){return t!=null&&typeof t=="object"&&"uri"in t}function Kv(t){var e;let r;if($S(t)&&(r=t.name),!(ZS(t)&&(r=t.uri,r===void 0))&&!(XS(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Yv(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function Jv(t){for(const e of["models","tunedModels","publisherModels"])if(jS(t,e))return t[e];return[]}function jS(t,e){return t!==null&&typeof t=="object"&&e in t}function QS(t,e={}){const r=t,o={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(o.responseJsonSchema=r.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function eE(t,e={}){const r=[],o=new Set;for(const a of t){const c=a.name;if(o.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);o.add(c);const d=QS(a,e);d.functionDeclarations&&r.push(...d.functionDeclarations)}return{functionDeclarations:r}}function Wv(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function tE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Vo(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function $v(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function rE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function iE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function oE(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],nE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],rE(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],iE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function Xv(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>oE(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function sE(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const w=l(t,["maxProperties"]);w!=null&&u(e,["maxProperties"],w);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const C=l(t,["minProperties"]);C!=null&&u(e,["minProperties"],C);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const R=l(t,["nullable"]);R!=null&&u(e,["nullable"],R);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const P=l(t,["properties"]);P!=null&&u(e,["properties"],P);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function aE(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function lE(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function uE(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function cE(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],uE(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function fE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function dE(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],fE(r)),e}function hE(){return{}}function pE(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function mE(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>lE(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],cE(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],dE(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],hE());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],pE(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function gE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function yE(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function vE(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],yE(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function wE(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],gE(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],vE(o)),e}function xE(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Zv(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],xE(r)),e}function TE(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Zv(o)),e}function SE(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>TE(a))),u(e,["speakerVoiceConfigs"],o)}return e}function EE(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Zv(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],SE(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function _E(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function bE(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],Xv(on(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const w=l(e,["responseLogprobs"]);w!=null&&u(o,["responseLogprobs"],w);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const C=l(e,["seed"]);C!=null&&u(o,["seed"],C);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const R=l(e,["responseSchema"]);R!=null&&u(o,["responseSchema"],sE(Fd(R)));const I=l(e,["responseJsonSchema"]);if(I!=null&&u(o,["responseJsonSchema"],I),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=l(e,["safetySettings"]);if(r!==void 0&&P!=null){let Re=P;Array.isArray(Re)&&(Re=Re.map(Z=>aE(Z))),u(r,["safetySettings"],Re)}const H=l(e,["tools"]);if(r!==void 0&&H!=null){let Re=Go(H);Array.isArray(Re)&&(Re=Re.map(Z=>mE(zo(Z)))),u(r,["tools"],Re)}const q=l(e,["toolConfig"]);if(r!==void 0&&q!=null&&u(r,["toolConfig"],wE(q)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=l(e,["cachedContent"]);r!==void 0&&ce!=null&&u(r,["cachedContent"],Nr(t,ce));const ae=l(e,["responseModalities"]);ae!=null&&u(o,["responseModalities"],ae);const de=l(e,["mediaResolution"]);de!=null&&u(o,["mediaResolution"],de);const z=l(e,["speechConfig"]);if(z!=null&&u(o,["speechConfig"],EE(zd(z))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=l(e,["thinkingConfig"]);return Te!=null&&u(o,["thinkingConfig"],_E(Te)),o}function CE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["request","model"],ft(t,o));const a=l(e,["contents"]);if(a!=null){let d=Fn(a);Array.isArray(d)&&(d=d.map(h=>Xv(h))),u(r,["request","contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["request","generationConfig"],bE(t,c,r)),r}function AE(t,e){const r={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(e,["fileName"]);o!=null&&u(r,["fileName"],o);const a=l(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>CE(t,d))),u(r,["requests","requests"],c)}return r}function RE(t,e){const r={},o=l(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function $y(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["src"]);a!=null&&u(r,["batch","inputConfig"],AE(t,Wv(t,a)));const c=l(e,["config"]);return c!=null&&u(r,["config"],RE(c,r)),r}function NE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Vo(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function DE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Vo(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function ME(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function IE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],ME(r,e)),e}function kE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Vo(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function UE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["instancesFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const a=l(t,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function LE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["predictionsFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const a=l(t,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function BE(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],LE(tE(a))),r}function PE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],ft(t,o));const a=l(e,["src"]);a!=null&&u(r,["inputConfig"],UE(Wv(t,a)));const c=l(e,["config"]);return c!=null&&u(r,["config"],BE(c,r)),r}function OE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Vo(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function FE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Vo(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function zE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function GE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],zE(r,e)),e}function VE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Vo(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function qE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function HE(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function KE(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function YE(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],qE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],HE(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],KE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function JE(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>YE(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function WE(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function $E(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function XE(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>$E(a))),u(e,["urlMetadata"],o)}return e}function ZE(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],JE(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],WE(o));const a=l(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],XE(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const w=l(t,["safetyRatings"]);return w!=null&&u(e,["safetyRatings"],w),e}function jE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>ZE(m))),u(e,["candidates"],p)}const a=l(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function jv(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const a=l(t,["message"]);return a!=null&&u(e,["message"],a),e}function QE(t){const e={},r=l(t,["response"]);r!=null&&u(e,["response"],jE(r));const o=l(t,["error"]);return o!=null&&u(e,["error"],jv(o)),e}function e_(t){const e={},r=l(t,["responsesFile"]);r!=null&&u(e,["fileName"],r);const o=l(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>QE(c))),u(e,["inlinedResponses"],a)}return e}function Vl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["metadata","state"]);a!=null&&u(e,["state"],$v(a));const c=l(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["metadata","endTime"]);d!=null&&u(e,["endTime"],d);const h=l(t,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const p=l(t,["metadata","model"]);p!=null&&u(e,["model"],p);const m=l(t,["metadata","output"]);return m!=null&&u(e,["dest"],e_(m)),e}function t_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Vl(d))),u(e,["batchJobs"],c)}return e}function n_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);return c!=null&&u(e,["error"],jv(c)),e}function Qv(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const a=l(t,["message"]);return a!=null&&u(e,["message"],a),e}function r_(t){const e={},r=l(t,["instancesFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const a=l(t,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function i_(t){const e={},r=l(t,["predictionsFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const a=l(t,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function Td(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],$v(a));const c=l(t,["error"]);c!=null&&u(e,["error"],Qv(c));const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["startTime"]);h!=null&&u(e,["startTime"],h);const p=l(t,["endTime"]);p!=null&&u(e,["endTime"],p);const m=l(t,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=l(t,["model"]);y!=null&&u(e,["model"],y);const w=l(t,["inputConfig"]);w!=null&&u(e,["src"],r_(w));const S=l(t,["outputConfig"]);return S!=null&&u(e,["dest"],i_(S)),e}function o_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Td(d))),u(e,["batchJobs"],c)}return e}function s_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);return c!=null&&u(e,["error"],Qv(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ni;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ni||(Ni={}));class aa{constructor(e,r,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,o,a)}init(e,r,o){var a,c;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=r.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_ extends Di{constructor(e){super(),this.apiClient=e,this.create=async r=>{var o,a;if(this.apiClient.isVertexAI()){const d=Date.now().toString();if(Array.isArray(r.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(r.config=r.config||{},r.config.displayName===void 0&&(r.config.displayName="genaiBatchJob_${timestampStr}"),r.config.dest===void 0&&typeof r.src=="string")if(r.src.startsWith("gs://")&&r.src.endsWith(".jsonl"))r.config.dest=`${r.src.slice(0,-6)}/dest`;else if(r.src.startsWith("bq://"))r.config.dest=`${r.src}_dest_${d}`;else throw new Error("Unsupported source:"+r.src)}else if(Array.isArray(r.src)||typeof r.src!="string"&&r.src.inlinedRequests){let c="",d={};const h=$y(this.apiClient,r);c=ze("{model}:batchGenerateContent",h._url),d=h._query;const y=h.batch.inputConfig.requests,w=y.requests,S=[];for(const D of w){const C=D;if(C.systemInstruction){const U=C.systemInstruction;delete C.systemInstruction;const R=C.request;R.systemInstruction=U,C.request=R}S.push(C)}return y.requests=S,delete h.config,delete h._url,delete h._query,this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=r.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=r.config)===null||a===void 0?void 0:a.abortSignal}).then(D=>D.json()).then(D=>Vl(D))}return await this.createInternal(r)},this.list=async(r={})=>new aa(Ni.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(r),r)}async createInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=PE(this.apiClient,e);return h=ze("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Td(y))}else{const m=$y(this.apiClient,e);return h=ze("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Vl(y))}}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=OE(this.apiClient,e);return h=ze("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Td(y))}else{const m=NE(this.apiClient,e);return h=ze("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Vl(y))}}async cancel(e){var r,o,a,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=FE(this.apiClient,e);d=ze("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=DE(this.apiClient,e);d=ze("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=GE(e);return h=ze("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=o_(y),S=new Ky;return Object.assign(S,w),S})}else{const m=IE(e);return h=ze("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=t_(y),S=new Ky;return Object.assign(S,w),S})}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=VE(this.apiClient,e);return h=ze("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>s_(y))}else{const m=kE(this.apiClient,e);return h=ze("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>n_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l_(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function u_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function c_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function f_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],l_(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],u_(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],c_(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function Xy(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>f_(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function d_(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function h_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function p_(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],h_(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function m_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function g_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],m_(r)),e}function y_(){return{}}function v_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function w_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>d_(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],p_(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],g_(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],y_());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],v_(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function x_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function T_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function S_(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],T_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function E_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],x_(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],S_(o)),e}function __(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let y=Fn(d);Array.isArray(y)&&(y=y.map(w=>Xy(w))),u(e,["contents"],y)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Xy(on(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(w=>w_(w))),u(e,["tools"],y)}const m=l(t,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],E_(m)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function b_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],Ov(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],__(a,r)),r}function C_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Nr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function A_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Nr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function R_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),r}function N_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Nr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],R_(a,r)),r}function D_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function M_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],D_(r,e)),e}function I_(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function k_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function U_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function L_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],I_(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],k_(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],U_(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function Zy(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>L_(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function B_(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function P_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function O_(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],P_(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function F_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function z_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],F_(r)),e}function G_(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function V_(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function q_(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],V_(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function H_(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],q_(r)),e}function K_(){return{}}function Y_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function J_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let w=r;Array.isArray(w)&&(w=w.map(S=>B_(S))),u(e,["functionDeclarations"],w)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],O_(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],z_(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],G_(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],H_(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],K_());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],Y_(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function W_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function $_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function X_(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],$_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function Z_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],W_(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],X_(o)),e}function j_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let w=Fn(d);Array.isArray(w)&&(w=w.map(S=>Zy(S))),u(e,["contents"],w)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Zy(on(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let w=p;Array.isArray(w)&&(w=w.map(S=>J_(S))),u(e,["tools"],w)}const m=l(t,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],Z_(m));const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),r}function Q_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],Ov(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],j_(a,r)),r}function eb(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Nr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function tb(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Nr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function nb(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),r}function rb(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Nr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],nb(a,r)),r}function ib(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function ob(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],ib(r,e)),e}function ql(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["model"]);a!=null&&u(e,["model"],a);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function sb(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function ab(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>ql(d))),u(e,["cachedContents"],c)}return e}function Hl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["model"]);a!=null&&u(e,["model"],a);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function lb(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function ub(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Hl(d))),u(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cb extends Di{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new aa(Ni.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(r),r)}async create(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=Q_(this.apiClient,e);return h=ze("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Hl(y))}else{const m=b_(this.apiClient,e);return h=ze("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ql(y))}}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=eb(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Hl(y))}else{const m=C_(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ql(y))}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=tb(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=lb(y),S=new qy;return Object.assign(S,w),S})}else{const m=A_(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=sb(y),S=new qy;return Object.assign(S,w),S})}}async update(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=rb(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Hl(y))}else{const m=N_(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ql(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=ob(e);return h=ze("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=ub(y),S=new Hy;return Object.assign(S,w),S})}else{const m=M_(e);return h=ze("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=ab(y),S=new Hy;return Object.assign(S,w),S})}}}function jy(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bt(t){return this instanceof bt?(this.v=t,this):new bt(t)}function Co(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(E){return function(D){return Promise.resolve(D).then(E,w)}}function h(E,D){o[E]&&(a[E]=function(C){return new Promise(function(U,R){c.push([E,C,U,R])>1||p(E,C)})},D&&(a[E]=D(a[E])))}function p(E,D){try{m(o[E](D))}catch(C){S(c[0][3],C)}}function m(E){E.value instanceof bt?Promise.resolve(E.value.v).then(y,w):S(c[0][2],E)}function y(E){p("next",E)}function w(E){p("throw",E)}function S(E,D){E(D),c.shift(),c.length&&p(c[0][0],c[0][1])}}function sa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof jy=="function"?jy(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(c){r[c]=t[c]&&function(d){return new Promise(function(h,p){d=t[c](d),a(h,p,d.done,d.value)})}}function a(c,d,h,p){Promise.resolve(p).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:ew(r)}function ew(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function db(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Qy(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let o=0;for(;o<r;)if(t[o].role==="user")e.push(t[o]),o++;else{const a=[];let c=!0;for(;o<r&&t[o].role==="model";)a.push(t[o]),c&&!ew(t[o])&&(c=!1),o++;c?e.push(...a):e.pop()}return e}class hb{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new pb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class pb{constructor(e,r,o,a={},c=[]){this.apiClient=e,this.modelsModule=r,this.model=o,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),db(c)}async sendMessage(e){var r;await this.sendPromise;const o=on(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,d,h;const p=await a,m=(d=(c=p.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=p.automaticFunctionCallingHistory,w=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(w))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var r;await this.sendPromise;const o=on(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,o)}getHistory(e=!1){const r=e?Qy(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var o,a;return Co(this,arguments,function*(){var d,h,p,m;const y=[];try{for(var w=!0,S=sa(e),E;E=yield bt(S.next()),d=E.done,!d;w=!0){m=E.value,w=!1;const D=m;if(fb(D)){const C=(a=(o=D.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;C!==void 0&&y.push(C)}yield yield bt(D)}}catch(D){h={error:D}}finally{try{!w&&!d&&(p=S.return)&&(yield bt(p.call(S)))}finally{if(h)throw h.error}}this.recordHistory(r,y)})}recordHistory(e,r,o){let a=[];r.length>0&&r.every(c=>c.role!==void 0)?a=r:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Qy(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,tu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mb(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function gb(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],mb(r,e)),e}function yb(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const a=l(t,["code"]);return a!=null&&u(e,["code"],a),e}function vb(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const w=l(t,["downloadUri"]);w!=null&&u(e,["downloadUri"],w);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const D=l(t,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const C=l(t,["error"]);return C!=null&&u(e,["error"],yb(C)),e}function wb(t){const e={},r=l(t,["file"]);r!=null&&u(e,["file"],vb(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function xb(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],Kv(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function Tb(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],Kv(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function Sb(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const a=l(t,["code"]);return a!=null&&u(e,["code"],a),e}function Sd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const w=l(t,["downloadUri"]);w!=null&&u(e,["downloadUri"],w);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const D=l(t,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const C=l(t,["error"]);return C!=null&&u(e,["error"],Sb(C)),e}function Eb(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Sd(d))),u(e,["files"],c)}return e}function _b(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function bb(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cb extends Di{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new aa(Ni.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>Sd(r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gb(e);return c=ze("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=Eb(p),y=new VS;return Object.assign(y,m),y})}}async createInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wb(e);return c=ze("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=_b(p),y=new qS;return Object.assign(y,m),y})}}async get(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xb(e);return c=ze("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Sd(p))}}async delete(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Tb(e);return c=ze("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=bb(p),y=new HS;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ab(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function tw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],Ab(r)),e}function Rb(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],tw(o)),e}function Nb(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Rb(a))),u(e,["speakerVoiceConfigs"],o)}return e}function Db(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],tw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],Nb(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function Mb(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function Ib(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function kb(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ub(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],Mb(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],Ib(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],kb(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function Lb(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Ub(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function Bb(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function Pb(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function Ob(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],Pb(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Fb(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function zb(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],Fb(r)),e}function Gb(){return{}}function Vb(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function qb(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>Bb(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],Ob(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],zb(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],Gb());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],Vb(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function Hb(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function e0(){return{}}function Kb(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function Yb(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],Kb(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function Jb(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function Wb(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],Jb(o)),e}function $b(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function Xb(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const w=l(t,["speechConfig"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","speechConfig"],Db(Gd(w)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],Lb(on(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=Go(D);Array.isArray(q)&&(q=q.map(ce=>qb(zo(ce)))),u(e,["setup","tools"],q)}const C=l(t,["sessionResumption"]);e!==void 0&&C!=null&&u(e,["setup","sessionResumption"],Hb(C));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],e0());const R=l(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&u(e,["setup","outputAudioTranscription"],e0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],Yb(I));const P=l(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],Wb(P));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],$b(H)),r}function Zb(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],Xb(a,r)),r}function jb(){return{}}function Qb(){return{}}function eC(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],Fv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],Gv(o));const a=l(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(t,["video"]);c!=null&&u(e,["video"],zv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],jb()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],Qb()),e}function nw(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function tC(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>nw(a))),u(e,["weightedPrompts"],o)}return e}function rw(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const a=l(t,["seed"]);a!=null&&u(e,["seed"],a);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const w=l(t,["muteDrums"]);w!=null&&u(e,["muteDrums"],w);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function nC(t){const e={},r=l(t,["musicGenerationConfig"]);return r!=null&&u(e,["musicGenerationConfig"],rw(r)),e}function iw(t){const e={},r=l(t,["model"]);return r!=null&&u(e,["model"],r),e}function ow(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>nw(a))),u(e,["weightedPrompts"],o)}return e}function Ed(t){const e={},r=l(t,["setup"]);r!=null&&u(e,["setup"],iw(r));const o=l(t,["clientContent"]);o!=null&&u(e,["clientContent"],ow(o));const a=l(t,["musicGenerationConfig"]);a!=null&&u(e,["musicGenerationConfig"],rw(a));const c=l(t,["playbackControl"]);return c!=null&&u(e,["playbackControl"],c),e}function rC(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function iC(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],rC(r)),e}function oC(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],iC(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function sC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function aC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function lC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function uC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],sC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],aC(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],lC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function cC(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>uC(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function fC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function dC(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function hC(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],dC(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function pC(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function mC(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],pC(r)),e}function gC(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function yC(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function vC(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],yC(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function wC(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],vC(r)),e}function xC(){return{}}function TC(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function SC(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let w=r;Array.isArray(w)&&(w=w.map(S=>fC(S))),u(e,["functionDeclarations"],w)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],hC(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],mC(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],gC(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],wC(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],xC());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],TC(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function EC(t){const e={},r=l(t,["handle"]);r!=null&&u(e,["handle"],r);const o=l(t,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function t0(){return{}}function _C(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function bC(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],_C(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function CC(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function AC(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],CC(o)),e}function RC(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function NC(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const w=l(t,["speechConfig"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","speechConfig"],oC(Gd(w)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],cC(on(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=Go(D);Array.isArray(q)&&(q=q.map(ce=>SC(zo(ce)))),u(e,["setup","tools"],q)}const C=l(t,["sessionResumption"]);e!==void 0&&C!=null&&u(e,["setup","sessionResumption"],EC(C));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],t0());const R=l(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&u(e,["setup","outputAudioTranscription"],t0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],bC(I));const P=l(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],AC(P));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],RC(H)),r}function DC(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],NC(a,r)),r}function MC(){return{}}function IC(){return{}}function kC(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],Fv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],Gv(o));const a=l(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(t,["video"]);c!=null&&u(e,["video"],zv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],MC()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],IC()),e}function UC(){return{}}function LC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function BC(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function PC(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function OC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],LC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],BC(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],PC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function FC(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>OC(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function n0(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function zC(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function GC(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>zC(a))),u(e,["urlMetadata"],o)}return e}function VC(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],FC(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=l(t,["interrupted"]);a!=null&&u(e,["interrupted"],a);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],n0(h));const p=l(t,["outputTranscription"]);p!=null&&u(e,["outputTranscription"],n0(p));const m=l(t,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],GC(m)),e}function qC(t){const e={},r=l(t,["id"]);r!=null&&u(e,["id"],r);const o=l(t,["args"]);o!=null&&u(e,["args"],o);const a=l(t,["name"]);return a!=null&&u(e,["name"],a),e}function HC(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>qC(a))),u(e,["functionCalls"],o)}return e}function KC(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function bl(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function YC(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=l(t,["responseTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>bl(E))),u(e,["promptTokensDetails"],S)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>bl(E))),u(e,["cacheTokensDetails"],S)}const y=l(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>bl(E))),u(e,["responseTokensDetails"],S)}const w=l(t,["toolUsePromptTokensDetails"]);if(w!=null){let S=w;Array.isArray(S)&&(S=S.map(E=>bl(E))),u(e,["toolUsePromptTokensDetails"],S)}return e}function JC(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function WC(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const a=l(t,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function $C(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],UC());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],VC(o));const a=l(t,["toolCall"]);a!=null&&u(e,["toolCall"],HC(a));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],KC(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],YC(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],JC(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],WC(p)),e}function XC(){return{}}function ZC(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function jC(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>ZC(a))),u(e,["weightedPrompts"],o)}return e}function QC(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const a=l(t,["seed"]);a!=null&&u(e,["seed"],a);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const w=l(t,["muteDrums"]);w!=null&&u(e,["muteDrums"],w);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function eA(t){const e={},r=l(t,["clientContent"]);r!=null&&u(e,["clientContent"],jC(r));const o=l(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],QC(o)),e}function tA(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);o!=null&&u(e,["mimeType"],o);const a=l(t,["sourceMetadata"]);return a!=null&&u(e,["sourceMetadata"],eA(a)),e}function nA(t){const e={},r=l(t,["audioChunks"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>tA(a))),u(e,["audioChunks"],o)}return e}function rA(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function iA(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],XC());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],nA(o));const a=l(t,["filteredPrompt"]);return a!=null&&u(e,["filteredPrompt"],rA(a)),e}function oA(t){const e={},r=l(t,["sessionId"]);return r!=null&&u(e,["sessionId"],r),e}function sA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function aA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function lA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function uA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],sA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],aA(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],lA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function cA(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>uA(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function r0(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function fA(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],cA(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=l(t,["interrupted"]);a!=null&&u(e,["interrupted"],a);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],r0(h));const p=l(t,["outputTranscription"]);return p!=null&&u(e,["outputTranscription"],r0(p)),e}function dA(t){const e={},r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);return o!=null&&u(e,["name"],o),e}function hA(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>dA(a))),u(e,["functionCalls"],o)}return e}function pA(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function Cl(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function mA(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=l(t,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(D=>Cl(D))),u(e,["promptTokensDetails"],E)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(D=>Cl(D))),u(e,["cacheTokensDetails"],E)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(D=>Cl(D))),u(e,["responseTokensDetails"],E)}const w=l(t,["toolUsePromptTokensDetails"]);if(w!=null){let E=w;Array.isArray(E)&&(E=E.map(D=>Cl(D))),u(e,["toolUsePromptTokensDetails"],E)}const S=l(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function gA(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function yA(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const a=l(t,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function vA(t){const e={},r=l(t,["setupComplete"]);r!=null&&u(e,["setupComplete"],oA(r));const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],fA(o));const a=l(t,["toolCall"]);a!=null&&u(e,["toolCall"],hA(a));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],pA(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],mA(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],gA(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],yA(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function xA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function TA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function SA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],wA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],xA(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],TA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function nu(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>SA(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function EA(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const w=l(t,["maxProperties"]);w!=null&&u(e,["maxProperties"],w);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const C=l(t,["minProperties"]);C!=null&&u(e,["minProperties"],C);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const R=l(t,["nullable"]);R!=null&&u(e,["nullable"],R);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const P=l(t,["properties"]);P!=null&&u(e,["properties"],P);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function _A(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function bA(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function CA(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function AA(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],CA(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function RA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function NA(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],RA(r)),e}function DA(){return{}}function MA(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function IA(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>bA(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],AA(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],NA(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],DA());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],MA(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function kA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function UA(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function LA(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],UA(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function BA(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],kA(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],LA(o)),e}function PA(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function sw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],PA(r)),e}function OA(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],sw(o)),e}function FA(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>OA(a))),u(e,["speakerVoiceConfigs"],o)}return e}function zA(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],sw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],FA(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function GA(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function VA(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],nu(on(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const w=l(e,["responseLogprobs"]);w!=null&&u(o,["responseLogprobs"],w);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const C=l(e,["seed"]);C!=null&&u(o,["seed"],C);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const R=l(e,["responseSchema"]);R!=null&&u(o,["responseSchema"],EA(Fd(R)));const I=l(e,["responseJsonSchema"]);if(I!=null&&u(o,["responseJsonSchema"],I),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=l(e,["safetySettings"]);if(r!==void 0&&P!=null){let Re=P;Array.isArray(Re)&&(Re=Re.map(Z=>_A(Z))),u(r,["safetySettings"],Re)}const H=l(e,["tools"]);if(r!==void 0&&H!=null){let Re=Go(H);Array.isArray(Re)&&(Re=Re.map(Z=>IA(zo(Z)))),u(r,["tools"],Re)}const q=l(e,["toolConfig"]);if(r!==void 0&&q!=null&&u(r,["toolConfig"],BA(q)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=l(e,["cachedContent"]);r!==void 0&&ce!=null&&u(r,["cachedContent"],Nr(t,ce));const ae=l(e,["responseModalities"]);ae!=null&&u(o,["responseModalities"],ae);const de=l(e,["mediaResolution"]);de!=null&&u(o,["mediaResolution"],de);const z=l(e,["speechConfig"]);if(z!=null&&u(o,["speechConfig"],zA(zd(z))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=l(e,["thinkingConfig"]);return Te!=null&&u(o,["thinkingConfig"],GA(Te)),o}function i0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["contents"]);if(a!=null){let d=Fn(a);Array.isArray(d)&&(d=d.map(h=>nu(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],VA(t,c,r)),r}function qA(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function HA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["contents"]);a!=null&&u(r,["requests[]","content"],qv(t,a));const c=l(e,["config"]);c!=null&&u(r,["config"],qA(c,r));const d=l(e,["model"]);return d!==void 0&&u(r,["requests[]","model"],ft(t,d)),r}function KA(t,e){const r={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const p=l(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const y=l(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const w=l(t,["outputMimeType"]);e!==void 0&&w!=null&&u(e,["parameters","outputOptions","mimeType"],w);const S=l(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=l(t,["imageSize"]);if(e!==void 0&&E!=null&&u(e,["parameters","sampleImageSize"],E),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function YA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&u(r,["config"],KA(c,r)),r}function JA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function WA(t,e,r){const o={},a=l(e,["pageSize"]);r!==void 0&&a!=null&&u(r,["_query","pageSize"],a);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],Yv(t,h)),o}function $A(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],WA(t,o,r)),r}function XA(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function ZA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],XA(a,r)),r}function jA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function QA(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function eR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["contents"]);if(a!=null){let d=Fn(a);Array.isArray(d)&&(d=d.map(h=>nu(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],QA(c)),r}function aw(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],Mi(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function tR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);if(e!==void 0&&a!=null&&u(e,["instances[0]","image"],aw(a)),l(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return r}function nR(t,e){const r={},o=l(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=l(t,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=l(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);const h=l(t,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function rR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["image"]);if(c!=null&&u(r,["instances[0]","image"],aw(c)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["source"]);d!=null&&u(r,["config"],tR(d,r));const h=l(e,["config"]);return h!=null&&u(r,["config"],nR(h,r)),r}function iR(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function oR(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function sR(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function aR(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],iR(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],oR(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],sR(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function qo(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>aR(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function lR(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const w=l(t,["maxProperties"]);w!=null&&u(e,["maxProperties"],w);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const C=l(t,["minProperties"]);C!=null&&u(e,["minProperties"],C);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const R=l(t,["nullable"]);R!=null&&u(e,["nullable"],R);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const P=l(t,["properties"]);P!=null&&u(e,["properties"],P);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function uR(t){const e={},r=l(t,["featureSelectionPreference"]);return r!=null&&u(e,["featureSelectionPreference"],r),e}function cR(t){const e={},r=l(t,["method"]);r!=null&&u(e,["method"],r);const o=l(t,["category"]);o!=null&&u(e,["category"],o);const a=l(t,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function fR(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function dR(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function hR(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],dR(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function pR(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function mR(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],pR(r)),e}function gR(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function yR(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function vR(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],yR(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function wR(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],vR(r)),e}function xR(){return{}}function TR(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function lw(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let w=r;Array.isArray(w)&&(w=w.map(S=>fR(S))),u(e,["functionDeclarations"],w)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],hR(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],mR(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],gR(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],wR(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],xR());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],TR(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function SR(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function ER(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function _R(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],ER(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function bR(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],SR(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],_R(o)),e}function CR(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function AR(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],CR(r)),e}function RR(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],AR(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function NR(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function DR(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],qo(on(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const w=l(e,["responseLogprobs"]);w!=null&&u(o,["responseLogprobs"],w);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const C=l(e,["seed"]);C!=null&&u(o,["seed"],C);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const R=l(e,["responseSchema"]);R!=null&&u(o,["responseSchema"],lR(Fd(R)));const I=l(e,["responseJsonSchema"]);I!=null&&u(o,["responseJsonSchema"],I);const P=l(e,["routingConfig"]);P!=null&&u(o,["routingConfig"],P);const H=l(e,["modelSelectionConfig"]);H!=null&&u(o,["modelConfig"],uR(H));const q=l(e,["safetySettings"]);if(r!==void 0&&q!=null){let he=q;Array.isArray(he)&&(he=he.map(le=>cR(le))),u(r,["safetySettings"],he)}const ce=l(e,["tools"]);if(r!==void 0&&ce!=null){let he=Go(ce);Array.isArray(he)&&(he=he.map(le=>lw(zo(le)))),u(r,["tools"],he)}const ae=l(e,["toolConfig"]);r!==void 0&&ae!=null&&u(r,["toolConfig"],bR(ae));const de=l(e,["labels"]);r!==void 0&&de!=null&&u(r,["labels"],de);const z=l(e,["cachedContent"]);r!==void 0&&z!=null&&u(r,["cachedContent"],Nr(t,z));const Te=l(e,["responseModalities"]);Te!=null&&u(o,["responseModalities"],Te);const Re=l(e,["mediaResolution"]);Re!=null&&u(o,["mediaResolution"],Re);const Z=l(e,["speechConfig"]);Z!=null&&u(o,["speechConfig"],RR(zd(Z)));const pe=l(e,["audioTimestamp"]);pe!=null&&u(o,["audioTimestamp"],pe);const B=l(e,["thinkingConfig"]);return B!=null&&u(o,["thinkingConfig"],NR(B)),o}function o0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["contents"]);if(a!=null){let d=Fn(a);Array.isArray(d)&&(d=d.map(h=>qo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],DR(t,c,r)),r}function MR(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const d=l(t,["mimeType"]);e!==void 0&&d!=null&&u(e,["instances[]","mimeType"],d);const h=l(t,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),r}function IR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["contents"]);a!=null&&u(r,["instances[]","content"],qv(t,a));const c=l(e,["config"]);return c!=null&&u(r,["config"],MR(c,r)),r}function kR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const w=l(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&u(e,["parameters","includeSafetyAttributes"],w);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const D=l(t,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const C=l(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","compressionQuality"],C);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&u(e,["parameters","addWatermark"],U);const R=l(t,["imageSize"]);e!==void 0&&R!=null&&u(e,["parameters","sampleImageSize"],R);const I=l(t,["enhancePrompt"]);return e!==void 0&&I!=null&&u(e,["parameters","enhancePrompt"],I),r}function UR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&u(r,["config"],kR(c,r)),r}function ar(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Mi(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function LR(t){const e={},r=l(t,["maskMode"]);r!=null&&u(e,["maskMode"],r);const o=l(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const a=l(t,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function BR(t){const e={},r=l(t,["controlType"]);r!=null&&u(e,["controlType"],r);const o=l(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function PR(t){const e={},r=l(t,["styleDescription"]);return r!=null&&u(e,["styleDescription"],r),e}function OR(t){const e={},r=l(t,["subjectType"]);r!=null&&u(e,["subjectType"],r);const o=l(t,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function FR(t){const e={},r=l(t,["referenceImage"]);r!=null&&u(e,["referenceImage"],ar(r));const o=l(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const a=l(t,["referenceType"]);a!=null&&u(e,["referenceType"],a);const c=l(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],LR(c));const d=l(t,["controlImageConfig"]);d!=null&&u(e,["controlImageConfig"],BR(d));const h=l(t,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],PR(h));const p=l(t,["subjectImageConfig"]);return p!=null&&u(e,["subjectImageConfig"],OR(p)),e}function zR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const w=l(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&u(e,["parameters","includeSafetyAttributes"],w);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const D=l(t,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const C=l(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","compressionQuality"],C);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&u(e,["parameters","addWatermark"],U);const R=l(t,["editMode"]);e!==void 0&&R!=null&&u(e,["parameters","editMode"],R);const I=l(t,["baseSteps"]);return e!==void 0&&I!=null&&u(e,["parameters","editConfig","baseSteps"],I),r}function GR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>FR(p))),u(r,["instances[0]","referenceImages"],h)}const d=l(e,["config"]);return d!=null&&u(r,["config"],zR(d,r)),r}function VR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["includeRaiReason"]);e!==void 0&&a!=null&&u(e,["parameters","includeRaiReason"],a);const c=l(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);const d=l(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const h=l(t,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=l(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=l(t,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);const y=l(t,["mode"]);return e!==void 0&&y!=null&&u(e,["parameters","mode"],y),r}function qR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["image"]);a!=null&&u(r,["instances[0]","image"],ar(a));const c=l(e,["upscaleFactor"]);c!=null&&u(r,["parameters","upscaleConfig","upscaleFactor"],c);const d=l(e,["config"]);return d!=null&&u(r,["config"],VR(d,r)),r}function HR(t){const e={},r=l(t,["productImage"]);return r!=null&&u(e,["image"],ar(r)),e}function KR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["personImage"]);e!==void 0&&a!=null&&u(e,["instances[0]","personImage","image"],ar(a));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>HR(h))),u(e,["instances[0]","productImages"],d)}return r}function YR(t,e){const r={},o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["baseSteps"]);e!==void 0&&a!=null&&u(e,["parameters","editConfig","baseSteps"],a);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=l(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const m=l(t,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const w=l(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&u(e,["parameters","outputOptions","compressionQuality"],w);const S=l(t,["enhancePrompt"]);return e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S),r}function JR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["source"]);a!=null&&u(r,["config"],KR(a,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],YR(c,r)),r}function WR(t){const e={},r=l(t,["image"]);return r!=null&&u(e,["image"],ar(r)),e}function $R(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],ar(a));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],WR(c)),r}function XR(t,e){const r={},o=l(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const a=l(t,["maxPredictions"]);e!==void 0&&a!=null&&u(e,["parameters","maxPredictions"],a);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const d=l(t,["maskDilation"]);e!==void 0&&d!=null&&u(e,["parameters","maskDilation"],d);const h=l(t,["binaryColorThreshold"]);return e!==void 0&&h!=null&&u(e,["parameters","binaryColorThreshold"],h),r}function ZR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["source"]);a!=null&&u(r,["config"],$R(a,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],XR(c,r)),r}function jR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function QR(t,e,r){const o={},a=l(e,["pageSize"]);r!==void 0&&a!=null&&u(r,["_query","pageSize"],a);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],Yv(t,h)),o}function eN(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],QR(t,o,r)),r}function tN(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function nN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],tN(a,r)),r}function rN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function iN(t,e){const r={},o=l(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],qo(on(o)));const a=l(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>lw(h))),u(e,["tools"],d)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],c),r}function oN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["contents"]);if(a!=null){let d=Fn(a);Array.isArray(d)&&(d=d.map(h=>qo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],iN(c,r)),r}function sN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["contents"]);if(a!=null){let d=Fn(a);Array.isArray(d)&&(d=d.map(h=>qo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],c),r}function uw(t){const e={},r=l(t,["uri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Mi(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function aN(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],ar(a));const c=l(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],uw(c)),r}function lN(t){const e={},r=l(t,["image"]);r!=null&&u(e,["image"],ar(r));const o=l(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function uN(t,e){const r={},o=l(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=l(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const d=l(t,["durationSeconds"]);e!==void 0&&d!=null&&u(e,["parameters","durationSeconds"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const p=l(t,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const m=l(t,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const w=l(t,["pubsubTopic"]);e!==void 0&&w!=null&&u(e,["parameters","pubsubTopic"],w);const S=l(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const E=l(t,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const D=l(t,["generateAudio"]);e!==void 0&&D!=null&&u(e,["parameters","generateAudio"],D);const C=l(t,["lastFrame"]);e!==void 0&&C!=null&&u(e,["instances[0]","lastFrame"],ar(C));const U=l(t,["referenceImages"]);if(e!==void 0&&U!=null){let I=U;Array.isArray(I)&&(I=I.map(P=>lN(P))),u(e,["instances[0]","referenceImages"],I)}const R=l(t,["compressionQuality"]);return e!==void 0&&R!=null&&u(e,["parameters","compressionQuality"],R),r}function cN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],ft(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(r,["instances[0]","image"],ar(c));const d=l(e,["video"]);d!=null&&u(r,["instances[0]","video"],uw(d));const h=l(e,["source"]);h!=null&&u(r,["config"],aN(h,r));const p=l(e,["config"]);return p!=null&&u(r,["config"],uN(p,r)),r}function fN(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function dN(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function hN(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function pN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],fN(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],dN(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],hN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function mN(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>pN(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function gN(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function yN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function vN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>yN(a))),u(e,["urlMetadata"],o)}return e}function wN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],mN(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],gN(o));const a=l(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],vN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const w=l(t,["safetyRatings"]);return w!=null&&u(e,["safetyRatings"],w),e}function s0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>wN(m))),u(e,["candidates"],p)}const a=l(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function xN(t){const e={},r=l(t,["values"]);return r!=null&&u(e,["values"],r),e}function TN(){return{}}function SN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>xN(d))),u(e,["embeddings"],c)}return l(t,["metadata"])!=null&&u(e,["metadata"],TN()),e}function EN(t){const e={},r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],Mi(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function cw(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=l(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function _N(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],EN(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=l(t,["_self"]);return a!=null&&u(e,["safetyAttributes"],cw(a)),e}function bN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>_N(d))),u(e,["generatedImages"],c)}const a=l(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],cw(a)),e}function CN(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const a=l(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function _d(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["version"]);c!=null&&u(e,["version"],c);const d=l(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],CN(d));const h=l(t,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const p=l(t,["outputTokenLimit"]);p!=null&&u(e,["outputTokenLimit"],p);const m=l(t,["supportedGenerationMethods"]);return m!=null&&u(e,["supportedActions"],m),e}function AN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["_self"]);if(a!=null){let c=Jv(a);Array.isArray(c)&&(c=c.map(d=>_d(d))),u(e,["models"],c)}return e}function RN(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function NN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const a=l(t,["cachedContentTokenCount"]);return a!=null&&u(e,["cachedContentTokenCount"],a),e}function DN(t){const e={},r=l(t,["video","uri"]);r!=null&&u(e,["uri"],r);const o=l(t,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Mi(o));const a=l(t,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function MN(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],DN(r)),e}function IN(t){const e={},r=l(t,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>MN(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function kN(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response","generateVideoResponse"]);return d!=null&&u(e,["response"],IN(d)),e}function UN(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function LN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function BN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function PN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],UN(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],LN(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],BN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function ON(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>PN(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function FN(t){const e={},r=l(t,["citations"]);return r!=null&&u(e,["citations"],r),e}function zN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function GN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>zN(a))),u(e,["urlMetadata"],o)}return e}function VN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],ON(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],FN(o));const a=l(t,["finishMessage"]);a!=null&&u(e,["finishMessage"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],GN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const w=l(t,["safetyRatings"]);return w!=null&&u(e,["safetyRatings"],w),e}function a0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>VN(y))),u(e,["candidates"],m)}const a=l(t,["createTime"]);a!=null&&u(e,["createTime"],a);const c=l(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=l(t,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const h=l(t,["responseId"]);h!=null&&u(e,["responseId"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function qN(t){const e={},r=l(t,["truncated"]);r!=null&&u(e,["truncated"],r);const o=l(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function HN(t){const e={},r=l(t,["values"]);r!=null&&u(e,["values"],r);const o=l(t,["statistics"]);return o!=null&&u(e,["statistics"],qN(o)),e}function KN(t){const e={},r=l(t,["billableCharacterCount"]);return r!=null&&u(e,["billableCharacterCount"],r),e}function YN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions[]","embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>HN(d))),u(e,["embeddings"],c)}const a=l(t,["metadata"]);return a!=null&&u(e,["metadata"],KN(a)),e}function fw(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Mi(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function dw(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=l(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function ru(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],fw(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=l(t,["_self"]);a!=null&&u(e,["safetyAttributes"],dw(a));const c=l(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function JN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>ru(d))),u(e,["generatedImages"],c)}const a=l(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],dw(a)),e}function WN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>ru(c))),u(e,["generatedImages"],a)}return e}function $N(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>ru(c))),u(e,["generatedImages"],a)}return e}function XN(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>ru(a))),u(e,["generatedImages"],o)}return e}function ZN(t){const e={},r=l(t,["label"]);r!=null&&u(e,["label"],r);const o=l(t,["score"]);return o!=null&&u(e,["score"],o),e}function jN(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["mask"],fw(r));const o=l(t,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>ZN(c))),u(e,["labels"],a)}return e}function QN(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>jN(a))),u(e,["generatedMasks"],o)}return e}function eD(t){const e={},r=l(t,["endpoint"]);r!=null&&u(e,["name"],r);const o=l(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function tD(t){const e={},r=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const a=l(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function nD(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const a=l(t,["step"]);return a!=null&&u(e,["step"],a),e}function bd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["versionId"]);c!=null&&u(e,["version"],c);const d=l(t,["deployedModels"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(S=>eD(S))),u(e,["endpoints"],w)}const h=l(t,["labels"]);h!=null&&u(e,["labels"],h);const p=l(t,["_self"]);p!=null&&u(e,["tunedModelInfo"],tD(p));const m=l(t,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const y=l(t,["checkpoints"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(S=>nD(S))),u(e,["checkpoints"],w)}return e}function rD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["_self"]);if(a!=null){let c=Jv(a);Array.isArray(c)&&(c=c.map(d=>bd(d))),u(e,["models"],c)}return e}function iD(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function oD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function sD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["tokensInfo"]);return o!=null&&u(e,["tokensInfo"],o),e}function aD(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["uri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Mi(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function lD(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],aD(r)),e}function uD(t){const e={},r=l(t,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>lD(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function cD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response"]);return d!=null&&u(e,["response"],uD(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fD="Content-Type",dD="X-Server-Timeout",hD="User-Agent",Cd="x-goog-api-client",pD="1.17.0",mD=`google-genai-sdk/${pD}`,gD="v1beta1",yD="v1beta",l0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vD{constructor(e){var r,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:gD,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:yD,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,o){const a=[this.getRequestUrlInternal(r)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,r,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))a.searchParams.append(d,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,r){const o=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(r))typeof c=="object"?o[a]=Object.assign(Object.assign({},o[a]),c):c!==void 0&&(o[a]=c);return o}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,r,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,o){if(r&&r.timeout||o){const a=new AbortController,c=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const d=setTimeout(()=>a.abort(),r.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=c}return r&&r.extraBody!==null&&wD(e,r.extraBody),e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async a=>(await u0(a),new wd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async a=>(await u0(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var r;return Co(this,arguments,function*(){const a=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:p}=yield bt(a.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(p,{stream:!0});try{const w=JSON.parse(m);if("error"in w){const S=JSON.parse(JSON.stringify(w.error)),E=S.status,D=S.code,C=`got status: ${E}. ${JSON.stringify(w)}`;if(D>=400&&D<600)throw new tu({message:C,status:D})}}catch(w){if(w.name==="ApiError")throw w}d+=m;let y=d.match(l0);for(;y;){const w=y[1];try{const S=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield bt(new wd(S)),d=d.slice(y[0].length),y=d.match(l0)}catch(S){throw new Error(`exception parsing stream chunk ${w}. ${S}`)}}}}finally{a.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},r=mD+" "+this.clientOptions.userAgentExtra;return e[hD]=r,e[Cd]=r,e[fD]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))r.append(o,a);e.timeout&&e.timeout>0&&r.append(dD,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var o;const a={};r!=null&&(a.mimeType=r.mimeType,a.name=r.name,a.displayName=r.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);a.sizeBytes=String(d.size);const h=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const p=await this.fetchUploadUrl(a,r);return c.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var o;let a={};r!=null&&r.httpOptions?a=r.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:ze("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:a});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function u0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(o);throw r>=400&&r<600?new tu({message:a,status:r}):new Error(a)}}function wD(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(c,d){const h=Object.assign({},c);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p)){const m=d[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=o(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const a=o(r,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xD="mcp_used/unknown";let TD=!1;function hw(t){for(const e of t)if(SD(e)||typeof e=="object"&&"inputSchema"in e)return!0;return TD}function pw(t){var e;const r=(e=t[Cd])!==null&&e!==void 0?e:"";t[Cd]=(r+` ${xD}`).trimStart()}function SD(t){return t!==null&&typeof t=="object"&&t instanceof Vd}function ED(t,e=100){return Co(this,arguments,function*(){let o,a=0;for(;a<e;){const c=yield bt(t.listTools({cursor:o}));for(const d of c.tools)yield yield bt(d),a++;if(!c.nextCursor)break;o=c.nextCursor}})}class Vd{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Vd(e,r)}async initialize(){var e,r,o,a;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var h=!0,p=(r=void 0,sa(ED(y))),m;m=await p.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const w=a;d.push(w);const S=w.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=y}}catch(w){r={error:w}}finally{try{!h&&!e&&(o=p.return)&&await o.call(p)}finally{if(r)throw r.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),eE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await a.callTool({name:o.name,arguments:o.args},void 0,c);r.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _D(t,e,r){const o=new YS;let a;r.data instanceof Blob?a=JSON.parse(await r.data.text()):a=JSON.parse(r.data);const c=iA(a);Object.assign(o,c),e(o)}class bD{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o}async connect(e){var r,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=RD(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(P=>{m=P}),w=e.callbacks,S=function(){m({})},E=this.apiClient,D={onopen:S,onmessage:P=>{_D(E,w.onmessage,P)},onerror:(r=w==null?void 0:w.onerror)!==null&&r!==void 0?r:function(P){},onclose:(o=w==null?void 0:w.onclose)!==null&&o!==void 0?o:function(P){}},C=this.webSocketFactory.create(p,AD(d),D);C.connect(),await y;const U=ft(this.apiClient,e.model),R=iw({model:U}),I=Ed({setup:R});return C.send(JSON.stringify(I)),new CD(C,this.apiClient)}}class CD{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=tC(e),o=ow(r);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=nC(e),o=Ed(r);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const r=Ed({playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(_o.PLAY)}pause(){this.sendPlaybackControl(_o.PAUSE)}stop(){this.sendPlaybackControl(_o.STOP)}resetContext(){this.sendPlaybackControl(_o.RESET_CONTEXT)}close(){this.conn.close()}}function AD(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function RD(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ND="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function DD(t,e,r){const o=new KS;let a;r.data instanceof Blob?a=await r.data.text():r.data instanceof ArrayBuffer?a=new TextDecoder().decode(r.data):a=r.data;const c=JSON.parse(a);if(t.isVertexAI()){const d=vA(c);Object.assign(o,d)}else{const d=$C(c);Object.assign(o,d)}e(o)}class MD{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o,this.music=new bD(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,o,a,c,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const w=this.apiClient.getHeaders();e.config&&e.config.tools&&hw(e.config.tools)&&pw(w);const S=LD(w);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const z=this.apiClient.getApiKey();let Te="BidiGenerateContent",Re="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Te="BidiGenerateContentConstrained",Re="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${Te}?${Re}=${z}`}let E=()=>{};const D=new Promise(z=>{E=z}),C=e.callbacks,U=function(){var z;(z=C==null?void 0:C.onopen)===null||z===void 0||z.call(C),E({})},R=this.apiClient,I={onopen:U,onmessage:z=>{DD(R,C.onmessage,z)},onerror:(r=C==null?void 0:C.onerror)!==null&&r!==void 0?r:function(z){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(z){}},P=this.webSocketFactory.create(y,UD(S),I);P.connect(),await D;let H=ft(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const z=this.apiClient.getProject(),Te=this.apiClient.getLocation();H=`projects/${z}/locations/${Te}/`+H}let q={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Jl.AUDIO]}:e.config.responseModalities=[Jl.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ce=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],ae=[];for(const z of ce)if(this.isCallableTool(z)){const Te=z;ae.push(await Te.tool())}else ae.push(z);ae.length>0&&(e.config.tools=ae);const de={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=DC(this.apiClient,de):q=Zb(this.apiClient,de),delete q.config,P.send(JSON.stringify(q)),new kD(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ID={turnComplete:!0};class kD{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let o=[];try{o=Fn(r.turns),e.isVertexAI()?o=o.map(a=>qo(a)):o=o.map(a=>nu(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:o,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let o=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?o=r.functionResponses:o=[r.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const c of o){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(ND)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},ID),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:kC(e)}:r={realtimeInput:eC(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function UD(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function LD(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c0=10;function f0(t){var e,r,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(Ao(d)){a=!0;break}if(!a)return!0;const c=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Ao(t){return"callTool"in t&&typeof t.callTool=="function"}function BD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(a=>Ao(a)))!==null&&o!==void 0?o:!1}function PD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(a=>!Ao(a)))!==null&&o!==void 0?o:!1}function d0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OD extends Di{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var o,a,c,d,h;const p=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!BD(r)||f0(r.config))return await this.generateContentInternal(p);if(PD(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const w=Fn(p.contents),S=(c=(a=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:c0;let E=0;for(;E<S&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const D=m.candidates[0].content,C=[];for(const U of(h=(d=r.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Ao(U)){const I=await U.callTool(m.functionCalls);C.push(...I)}E++,y={role:"user",parts:C},p.contents=Fn(p.contents),p.contents.push(D),p.contents.push(y),d0(p.config)&&(w.push(D),w.push(y))}return d0(p.config)&&(m.automaticFunctionCallingHistory=w),m},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),f0(r.config)){const o=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(o=>{var a;let c;const d=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((a=p==null?void 0:p.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=p==null?void 0:p.safetyAttributes:d.push(p);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async r=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new aa(Ni.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async r=>{const o={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(o.referenceImages=r.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async r=>{let o={numberOfImages:1,mode:"upscale"};r.config&&(o=Object.assign(Object.assign({},o),r.config));const a={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async r=>{if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,o,a;const c=(r=e.config)===null||r===void 0?void 0:r.tools;if(!c)return e;const d=await Promise.all(c.map(async p=>Ao(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&hw(e.config.tools)){const p=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),pw(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var r,o,a;const c=new Map;for(const d of(o=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&o!==void 0?o:[])if(Ao(d)){const h=d,p=await h.tool();for(const m of(a=p.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(e){var r,o,a;const c=(a=(o=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:c0;let d=!1,h=0;const p=await this.initAfcToolsMap(e);return(function(m,y,w){var S,E;return Co(this,arguments,function*(){for(var D,C,U,R;h<c;){d&&(h++,d=!1);const q=yield bt(m.processParamsMaybeAddMcpUsage(w)),ce=yield bt(m.generateContentStreamInternal(q)),ae=[],de=[];try{for(var I=!0,P=(C=void 0,sa(ce)),H;H=yield bt(P.next()),D=H.done,!D;I=!0){R=H.value,I=!1;const z=R;if(yield yield bt(z),z.candidates&&(!((S=z.candidates[0])===null||S===void 0)&&S.content)){de.push(z.candidates[0].content);for(const Te of(E=z.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<c&&Te.functionCall){if(!Te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Te.functionCall.name)){const Re=yield bt(y.get(Te.functionCall.name).callTool([Te.functionCall]));ae.push(...Re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Te.functionCall.name}`)}}}}catch(z){C={error:z}}finally{try{!I&&!D&&(U=P.return)&&(yield bt(U.call(P)))}finally{if(C)throw C.error}}if(ae.length>0){d=!0;const z=new Qs;z.candidates=[{content:{role:"user",parts:ae}}],yield yield bt(z);const Te=[];Te.push(...de),Te.push({role:"user",parts:ae});const Re=Fn(w.contents).concat(Te);w.contents=Re}else break}})})(this,p,e)}async generateContentInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=o0(this.apiClient,e);return h=ze("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=a0(y),S=new Qs;return Object.assign(S,w),S})}else{const m=i0(this.apiClient,e);return h=ze("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=s0(y),S=new Qs;return Object.assign(S,w),S})}}async generateContentStreamInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=o0(this.apiClient,e);return h=ze("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(w){return Co(this,arguments,function*(){var S,E,D,C;try{for(var U=!0,R=sa(w),I;I=yield bt(R.next()),S=I.done,!S;U=!0){C=I.value,U=!1;const P=C,H=a0(yield bt(P.json()));H.sdkHttpResponse={headers:P.headers};const q=new Qs;Object.assign(q,H),yield yield bt(q)}}catch(P){E={error:P}}finally{try{!U&&!S&&(D=R.return)&&(yield bt(D.call(R)))}finally{if(E)throw E.error}}})})}else{const m=i0(this.apiClient,e);return h=ze("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(w){return Co(this,arguments,function*(){var S,E,D,C;try{for(var U=!0,R=sa(w),I;I=yield bt(R.next()),S=I.done,!S;U=!0){C=I.value,U=!1;const P=C,H=s0(yield bt(P.json()));H.sdkHttpResponse={headers:P.headers};const q=new Qs;Object.assign(q,H),yield yield bt(q)}}catch(P){E={error:P}}finally{try{!U&&!S&&(D=R.return)&&(yield bt(D.call(R)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=IR(this.apiClient,e);return h=ze("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=YN(y),S=new By;return Object.assign(S,w),S})}else{const m=HA(this.apiClient,e);return h=ze("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=SN(y),S=new By;return Object.assign(S,w),S})}}async generateImagesInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=UR(this.apiClient,e);return h=ze("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=JN(y),S=new Py;return Object.assign(S,w),S})}else{const m=YA(this.apiClient,e);return h=ze("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=bN(y),S=new Py;return Object.assign(S,w),S})}}async editImageInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=GR(this.apiClient,e);return c=ze("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=WN(p),y=new PS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=qR(this.apiClient,e);return c=ze("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=$N(p),y=new OS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=JR(this.apiClient,e);return c=ze("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=XN(p),y=new FS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=ZR(this.apiClient,e);return c=ze("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=QN(p),y=new zS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=jR(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>bd(y))}else{const m=JA(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>_d(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=eN(this.apiClient,e);return h=ze("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=rD(y),S=new Oy;return Object.assign(S,w),S})}else{const m=$A(this.apiClient,e);return h=ze("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=AN(y),S=new Oy;return Object.assign(S,w),S})}}async update(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=nN(this.apiClient,e);return h=ze("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>bd(y))}else{const m=ZA(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>_d(y))}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=rN(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=iD(y),S=new Fy;return Object.assign(S,w),S})}else{const m=jA(this.apiClient,e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=RN(y),S=new Fy;return Object.assign(S,w),S})}}async countTokens(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=oN(this.apiClient,e);return h=ze("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=oD(y),S=new zy;return Object.assign(S,w),S})}else{const m=eR(this.apiClient,e);return h=ze("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=NN(y),S=new zy;return Object.assign(S,w),S})}}async computeTokens(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=sN(this.apiClient,e);return c=ze("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=sD(p),y=new GS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=cN(this.apiClient,e);return h=ze("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>{const w=cD(y),S=new Wl;return Object.assign(S,w),S})}else{const m=rR(this.apiClient,e);return h=ze("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const w=kN(y),S=new Wl;return Object.assign(S,w),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function zD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["operationName"],r);const o=l(t,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const a=l(t,["config"]);return a!=null&&u(e,["config"],a),e}function GD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VD extends Di{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=GD(e);return h=ze("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d}else{const m=FD(e);return h=ze("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=zD(e);return c=ze("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qD(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function mw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],qD(r)),e}function HD(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],mw(o)),e}function KD(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>HD(a))),u(e,["speakerVoiceConfigs"],o)}return e}function YD(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],mw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],KD(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function JD(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function WD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $D(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function XD(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],JD(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],WD(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],$D(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const w=l(t,["text"]);return w!=null&&u(e,["text"],w),e}function ZD(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>XD(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function jD(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function QD(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function eM(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],QD(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function tM(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function nM(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],tM(r)),e}function rM(){return{}}function iM(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function oM(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>jD(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],eM(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],nM(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],rM());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],iM(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function sM(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function h0(){return{}}function aM(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function lM(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],aM(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function uM(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function cM(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],uM(o)),e}function fM(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function dM(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const w=l(t,["speechConfig"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","speechConfig"],YD(Gd(w)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],ZD(on(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=Go(D);Array.isArray(q)&&(q=q.map(ce=>oM(zo(ce)))),u(e,["setup","tools"],q)}const C=l(t,["sessionResumption"]);e!==void 0&&C!=null&&u(e,["setup","sessionResumption"],sM(C));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],h0());const R=l(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&u(e,["setup","outputAudioTranscription"],h0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],lM(I));const P=l(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],cM(P));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],fM(H)),r}function hM(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],ft(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],dM(a,r)),r}function pM(t,e,r){const o={},a=l(e,["expireTime"]);r!==void 0&&a!=null&&u(r,["expireTime"],a);const c=l(e,["newSessionExpireTime"]);r!==void 0&&c!=null&&u(r,["newSessionExpireTime"],c);const d=l(e,["uses"]);r!==void 0&&d!=null&&u(r,["uses"],d);const h=l(e,["liveConnectConstraints"]);r!==void 0&&h!=null&&u(r,["bidiGenerateContentSetup"],hM(t,h));const p=l(e,["lockAdditionalFields"]);return r!==void 0&&p!=null&&u(r,["fieldMask"],p),o}function mM(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],pM(t,o,r)),r}function gM(t){const e={},r=l(t,["name"]);return r!=null&&u(e,["name"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yM(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(c=>`${r}.${c}`);e.push(...a)}else e.push(r)}return e.join(",")}function vM(t,e){let r=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const c=o.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,r=c):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(r){const c=yM(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const p=[];c&&p.push(c),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class wM extends Di{constructor(e){super(),this.apiClient=e}async create(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=mM(this.apiClient,e);c=ze("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const p=vM(h,e.config);return a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>gM(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function TM(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function SM(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],TM(r,e)),e}function EM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function _M(t){const e={},r=l(t,["textInput"]);r!=null&&u(e,["textInput"],r);const o=l(t,["output"]);return o!=null&&u(e,["output"],o),e}function bM(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>_M(a))),u(e,["examples","examples"],o)}return e}function CM(t,e){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=l(t,["epochCount"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","epochCount"],a);const c=l(t,["learningRateMultiplier"]);if(c!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(t,["batchSize"]);e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","batchSize"],d);const h=l(t,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),r}function AM(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const a=l(t,["trainingDataset"]);a!=null&&u(e,["tuningTask","trainingData"],bM(a));const c=l(t,["config"]);return c!=null&&u(e,["config"],CM(c,e)),e}function RM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function NM(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function DM(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],NM(r,e)),e}function MM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function IM(t,e){const r={},o=l(t,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const a=l(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function kM(t,e){const r={},o=l(t,["gcsUri"]);o!=null&&u(r,["validationDatasetUri"],o);const a=l(t,["vertexDatasetResource"]);return e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),r}function UM(t,e){const r={},o=l(t,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],kM(o,r));const a=l(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&u(e,["tunedModelDisplayName"],a);const c=l(t,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=l(t,["epochCount"]);e!==void 0&&d!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=l(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=l(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=l(t,["preTunedModelCheckpointId"]);m!=null&&u(r,["preTunedModel","checkpointId"],m);const y=l(t,["adapterSize"]);if(e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function LM(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const a=l(t,["trainingDataset"]);a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],IM(a,e));const c=l(t,["config"]);return c!=null&&u(e,["config"],UM(c,e)),e}function BM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["model"],r);const o=l(t,["name"]);return o!=null&&u(e,["endpoint"],o),e}function gw(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],Hv(a));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["tuningTask","startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["tuningTask","completeTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["description"]);m!=null&&u(e,["description"],m);const y=l(t,["baseModel"]);y!=null&&u(e,["baseModel"],y);const w=l(t,["_self"]);w!=null&&u(e,["tunedModel"],BM(w));const S=l(t,["customBaseModel"]);S!=null&&u(e,["customBaseModel"],S);const E=l(t,["experiment"]);E!=null&&u(e,["experiment"],E);const D=l(t,["labels"]);D!=null&&u(e,["labels"],D);const C=l(t,["outputUri"]);C!=null&&u(e,["outputUri"],C);const U=l(t,["pipelineJob"]);U!=null&&u(e,["pipelineJob"],U);const R=l(t,["serviceAccount"]);R!=null&&u(e,["serviceAccount"],R);const I=l(t,["tunedModelDisplayName"]);return I!=null&&u(e,["tunedModelDisplayName"],I),e}function PM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>gw(d))),u(e,["tuningJobs"],c)}return e}function OM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["metadata"]);a!=null&&u(e,["metadata"],a);const c=l(t,["done"]);c!=null&&u(e,["done"],c);const d=l(t,["error"]);return d!=null&&u(e,["error"],d),e}function FM(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const a=l(t,["step"]);a!=null&&u(e,["step"],a);const c=l(t,["endpoint"]);return c!=null&&u(e,["endpoint"],c),e}function zM(t){const e={},r=l(t,["model"]);r!=null&&u(e,["model"],r);const o=l(t,["endpoint"]);o!=null&&u(e,["endpoint"],o);const a=l(t,["checkpoints"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>FM(d))),u(e,["checkpoints"],c)}return e}function Ad(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],Hv(a));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["endTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["error"]);m!=null&&u(e,["error"],m);const y=l(t,["description"]);y!=null&&u(e,["description"],y);const w=l(t,["baseModel"]);w!=null&&u(e,["baseModel"],w);const S=l(t,["tunedModel"]);S!=null&&u(e,["tunedModel"],zM(S));const E=l(t,["preTunedModel"]);E!=null&&u(e,["preTunedModel"],E);const D=l(t,["supervisedTuningSpec"]);D!=null&&u(e,["supervisedTuningSpec"],D);const C=l(t,["tuningDataStats"]);C!=null&&u(e,["tuningDataStats"],C);const U=l(t,["encryptionSpec"]);U!=null&&u(e,["encryptionSpec"],U);const R=l(t,["partnerModelTuningSpec"]);R!=null&&u(e,["partnerModelTuningSpec"],R);const I=l(t,["customBaseModel"]);I!=null&&u(e,["customBaseModel"],I);const P=l(t,["experiment"]);P!=null&&u(e,["experiment"],P);const H=l(t,["labels"]);H!=null&&u(e,["labels"],H);const q=l(t,["outputUri"]);q!=null&&u(e,["outputUri"],q);const ce=l(t,["pipelineJob"]);ce!=null&&u(e,["pipelineJob"],ce);const ae=l(t,["serviceAccount"]);ae!=null&&u(e,["serviceAccount"],ae);const de=l(t,["tunedModelDisplayName"]);return de!=null&&u(e,["tunedModelDisplayName"],de),e}function GM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ad(d))),u(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VM extends Di{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new aa(Ni.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const o={tunedModelName:r.baseModel},a=Object.assign(Object.assign({},r),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},r);return await this.tuneInternal(o)}else{const o=Object.assign({},r),a=await this.tuneMldevInternal(o);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:vd.JOB_STATE_QUEUED}}}}async getInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=RM(e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Ad(y))}else{const m=xM(e);return h=ze("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>gw(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=DM(e);return h=ze("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=GM(y),S=new Vy;return Object.assign(S,w),S})}else{const m=SM(e);return h=ze("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(w=>{const S=w;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const w=PM(y),S=new Vy;return Object.assign(S,w),S})}}async cancel(e){var r,o,a,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=MM(e);d=ze("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=EM(e);d=ze("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=LM(e);return c=ze("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>Ad(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AM(e);return c=ze("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>OM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qM{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const HM=1024*1024*8,KM=3,YM=1e3,JM=2,_f="x-goog-upload-status";async function WM(t,e,r){var o,a,c;let d=0,h=0,p=new wd(new Response),m="upload";for(d=t.size;h<d;){const w=Math.min(HM,d-h),S=t.slice(h,h+w);h+w>=d&&(m+=", finalize");let E=0,D=YM;for(;E<KM&&(p=await r.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(w)}}}),!(!((o=p==null?void 0:p.headers)===null||o===void 0)&&o[_f]));)E++,await XM(D),D=D*JM;if(h+=w,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[_f])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((c=p==null?void 0:p.headers)===null||c===void 0?void 0:c[_f])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function $M(t){return{size:t.size,type:t.type}}function XM(t){return new Promise(e=>setTimeout(e,t))}class ZM{async upload(e,r,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WM(e,r,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $M(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jM{create(e,r,o){return new QM(e,r,o)}}class QM{constructor(e,r,o){this.url=e,this.headers=r,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p0="x-goog-api-key";class e5{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(p0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(p0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t5="gl-node/";class n5{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const o=BS(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new e5(this.apiKey);this.apiClient=new vD({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:t5+"web",uploader:new ZM,downloader:new qM}),this.models=new OD(this.apiClient),this.live=new MD(this.apiClient,a,new jM),this.batches=new a_(this.apiClient),this.chats=new hb(this.models,this.apiClient),this.caches=new cb(this.apiClient),this.files=new Cb(this.apiClient),this.operations=new VD(this.apiClient),this.authTokens=new wM(this.apiClient),this.tunings=new VM(this.apiClient)}}const Ho=new n5({apiKey:"PLACEHOLDER_API_KEY"}),r5=t=>t.map(e=>{if(e.type==="image"){const{src:r,...o}=e;return o}return e}),ko=t=>t.map(e=>({...e,content:r5(e.content)})),qd=t=>Math.round((t||"").length/3.5),m0=t=>Array.isArray(t)?t.map(e=>{if(e.type==="list"){const r=e;if(typeof r.text=="string"&&!Array.isArray(r.items))return{type:"list",style:r.style||"unordered",items:[r.text]}}return e}):[],yw=t=>(t.newDocuments&&(t.newDocuments=t.newDocuments.map(e=>({...e,content:m0(e.content)}))),t.updatedDocuments&&(t.updatedDocuments=t.updatedDocuments.map(e=>({...e,content:m0(e.content)}))),t),g0={type:rt.OBJECT,properties:{id:{type:rt.STRING},title:{type:rt.STRING},category:{type:rt.STRING},content:{type:rt.ARRAY,items:{type:rt.OBJECT,properties:{type:{type:rt.STRING,enum:["heading","paragraph","list","image","blockquote","definition_list"]},level:{type:rt.INTEGER,description:"Apenas para blocos 'heading'. Nveis 1, 2 ou 3."},text:{type:rt.STRING,description:"O contedo de texto para blocos 'heading', 'paragraph' e 'blockquote'."},style:{type:rt.STRING,enum:["unordered","ordered"],description:"Apenas para blocos 'list'."},items:{oneOf:[{type:rt.ARRAY,items:{type:rt.STRING},description:"Uma array de strings de itens para blocos 'list'."},{type:rt.ARRAY,items:{type:rt.OBJECT,properties:{term:{type:rt.STRING},description:{type:rt.STRING}},required:["term","description"]},description:"Apenas para blocos 'definition_list'. Uma array de objetos com 'term' e 'description'."}]},id:{type:rt.STRING,description:"O ID nico para blocos 'image'."},caption:{type:rt.STRING,description:"A legenda para blocos 'image'."}},required:["type"]}}},required:["id","title","category","content"]},vw={type:rt.OBJECT,properties:{newDocuments:{type:rt.ARRAY,description:"Array de documentos inteiramente novos. Se nenhum for criado, retorne um array vazio [].",items:g0},updatedDocuments:{type:rt.ARRAY,description:"Array de documentos existentes que foram modificados. Retorne o objeto completo para cada documento modificado. Se nenhum for modificado, retorne um array vazio [].",items:g0},deletedDocumentIds:{type:rt.ARRAY,description:"Array de IDs de documentos a serem excludos. Se nenhum for removido, retorne um array vazio [].",items:{type:rt.STRING}},summary:{type:rt.STRING,description:"Um breve resumo em uma frase das mudanas feitas."},thinkingProcess:{type:rt.ARRAY,description:"Uma lista passo a passo em Portugus Brasileiro descrevendo o raciocnio para as mudanas feitas.",items:{type:rt.STRING}}},required:["newDocuments","updatedDocuments","deletedDocumentIds","summary","thinkingProcess"]};async function i5(t,e,r,o,a){const c=ko(e),h=`
    ${r==="GDD"?"Voc  um game designer especialista gerenciando um Documento de Design de Jogo (GDD) interligado.":"Voc  um roteirista snior gerenciando um Roteiro de Jogo cronolgico interligado."}
    Sua tarefa  integrar de forma inteligente uma nova ideia/texto fornecida por um usurio na estrutura do documento existente.
    Voc tem o contexto completo do documento atual. Voc DEVE realizar uma atualizao abrangente para incorporar a nova ideia da forma mais coesa e inteligente possvel.

    **REGRAS CRTicas:**
    1.  **Integrao Completa:** Analise a ideia do usurio e determine TODAS as alteraes necessrias no documento. Isso pode envolver criar documentos, atualizar documentos existentes ou mov-los.
    2.  **Edies Focadas:** Faa apenas as alteraes estritamente necessrias. Se uma ideia afeta apenas uma frase em um pargrafo, modifique apenas essa frase e mantenha o restante do pargrafo. Se a ideia  renomear um documento, altere apenas seu ttulo e atualize os links para ele; no modifique seu contedo desnecessariamente. NO reescreva partes de um documento que no foram afetadas pela ideia.
    3.  **Formato de Sada:** Sua resposta DEVE ser um nico objeto JSON com as chaves especificadas no esquema.
    4.  **Raciocnio (thinkingProcess):** Fornea uma lista passo a passo descrevendo seu raciocnio. Explique por que voc est criando, atualizando ou excluindo documentos com base na ideia do usurio. Seja claro e conciso. Este campo  OBRIGATRIO.
    5.  **Preservar IDs:** Voc DEVE preservar o 'id' dos documentos e blocos de imagem existentes.
    6.  **Novos IDs:** Para novos documentos, gere um ID nico usando o timestamp atual como uma string (ex: "${Date.now()}").
    7.  **Links Internos:** Mantenha e atualize meticulosamente todos os links internos. Use o formato [[Ttulo do Documento]] para vincular a um documento. Para vincular a um ttulo especfico dentro de um documento, use o formato [[Ttulo do Documento#Texto do Ttulo]]. Se voc renomear um documento ou um ttulo, atualize TODOS os links que apontam para ele em todo o GDD/Roteiro. Links de imagem usam [[img:id-da-imagem]].
    8.  **Idioma:** Toda a sua sada (ttulos, contedo, resumo) DEVE ESTAR EM PORTUGS BRASILEIRO.
    9.  **Estrutura do Contedo:** Adira  estrutura de blocos de contedo.

    **Novos Blocos de Contedo:**
    - **Blockquote (\`blockquote\`):** Use para citaes, dilogos, ou para destacar um pargrafo que necessita de nfase especial, separando-o visualmente do texto principal.
    - **Lista de Definio (\`definition_list\`):** Use para pares de termo-definio. Ideal para explicar mecnicas, atributos, ou glossrios. Exemplo: 'Mecnica: [descrio]' deve se tornar um item em uma lista de definio.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(c,null,2)}
    ---

    **NOVA IDEIA PARA INTEGRAR:**
    ---
    ${t}
    ---

    Agora, execute a integrao e retorne APENAS AS ALTERAES no formato JSON especificado.
  `;try{const p=await Ho.models.generateContentStream({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:vw,maxOutputTokens:a.maxOutputTokens,thinkingConfig:{thinkingBudget:a.thinkingBudget}}});let m="";for await(const S of p)S.text&&(m+=S.text,o(qd(m)));const y=m.trim();let w=JSON.parse(y);if(!w.newDocuments||!w.updatedDocuments||!w.deletedDocumentIds||!w.summary||!w.thinkingProcess)throw new Error("A resposta da IA est faltando campos obrigatrios.");return w=yw(w),{payload:w,rawJson:y}}catch(p){throw console.error("Erro ao chamar a API Gemini para integrao de ideia:",p),new Error("Falha ao obter uma resposta vlida da IA. A ideia pode ser muito complexa ou o servio pode estar indisponvel.")}}async function o5(t,e,r,o){const c=`
      Voc  um assistente de escrita. Sua tarefa  reescrever o texto fornecido com base na instruo dada.
      ${r?`
      CONTEXTO DO DOCUMENTO (APENAS DOCUMENTOS RELEVANTES):
      ---
      ${JSON.stringify(ko(r).map(d=>({title:d.title,category:d.category,content:d.content})),null,2)}
      ---
    `:""}
      Responda APENAS com o texto reescrito, dentro de um objeto JSON com uma nica chave "rewrittenText". No adicione nenhuma explicao ou formatao extra.
      Todos os links internos no formato [[Ttulo do Documento]], [[Ttulo do Documento#Texto do Ttulo]] ou [[img:id-da-imagem]] devem ser preservados.

      INSTRUO:
      "${e}"

      TEXTO ORIGINAL A SER REESCRITO:
      ---
      ${t}
      ---
    `;try{const d=await Ho.models.generateContentStream({model:"gemini-2.5-flash",contents:c,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{rewrittenText:{type:rt.STRING,description:"O texto reescrito."}},required:["rewrittenText"]},maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}});let h="";for await(const y of d)y.text&&(h+=y.text,o(qd(h)));const p=h.trim(),m=JSON.parse(p);if(typeof m.rewrittenText!="string")throw new Error("A resposta da IA no continha o texto reescrito esperado.");return m.rewrittenText}catch(d){throw console.error("Erro ao chamar a API Gemini para aprimorar o texto:",d),new Error("Falha ao obter uma resposta vlida da IA para o aprimoramento do texto.")}}async function s5(t,e,r,o,a){const c=r==="GDD"?"Documento de Design de Jogo (GDD)":"Roteiro de Jogo",d=ko(e),h=`
    Voc  um especialista encarregado de gerenciar um ${c} interligado.
    Sua tarefa  realizar uma atualizao de alto nvel em todo o documento com base na instruo de um usurio.

    **REGRAS CRTICAS:**
    1.  **Formato de Sada:** Sua resposta DEVE ser um nico objeto JSON com as chaves especificadas no esquema.
    2.  **Raciocnio (thinkingProcess):** Fornea uma lista passo a passo descrevendo seu raciocnio para as mudanas. Explique por que voc est criando, atualizando ou excluindo documentos. Este campo  OBRIGATRIO.
    3.  **Preservar IDs:** Ao atualizar um documento existente, voc DEVE preservar seu 'id' original. Para blocos de imagem, voc DEVE preservar seu 'id' original.
    4.  **IDs de Novos Documentos:** Para quaisquer novos documentos que voc criar, gere um ID nico usando o timestamp atual como uma string (ex: "${Date.now()}").
    5.  **Edies Focadas:** Faa apenas as alteraes estritamente necessrias para cumprir a instruo. No reescreva ou reorganize partes do documento que no esto diretamente relacionadas  instruo do usurio.
    6.  **Blocos de Imagem:** Voc NO PODE criar novos blocos de imagem ou inventar IDs de imagem. Voc pode mover blocos de imagem existentes, alterar suas legendas ('caption') ou exclu-los, mas o campo 'id' de uma imagem existente DEVE ser preservado.
    7.  **Sem Delees de Documentos:** Por segurana, no delete nenhum documento. Voc pode atualizar o contedo para ficar vazio ou marcar o documento como obsoleto no ttulo, mas no o remova do array de sada.
    8.  **Links Internos:** Mantenha e atualize meticulosamente todos os links internos. Use o formato [[Ttulo do Documento]] para vincular a um documento. Para vincular a um ttulo especfico dentro de um documento, use o formato [[Ttulo do Documento#Texto do Ttulo]]. Se voc renomear um documento ou um ttulo, atualize TODOS os links que apontam para ele em todo o GDD/Roteiro. Links de imagem usam [[img:id-da-imagem]].
    9.  **Idioma:** Toda a sua sada (ttulos, contedo, etc.) DEVE ESTAR EM PORTUGUS BRASILEIRO.
    
    **Novos Blocos de Contedo:**
    - **Blockquote (\`blockquote\`):** Use para citaes, dilogos, ou para destacar um pargrafo que necessita de nfase especial, separando-o visualmente do texto principal.
    - **Lista de Definio (\`definition_list\`):** Use para pares de termo-definio. Ideal para explicar mecnicas, atributos, ou glossrios. Exemplo: 'Mecnica: [descrio]' deve se tornar um item em uma lista de definio.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(d,null,2)}
    ---

    **INSTRUO DO USURIO:**
    ---
    ${t}
    ---

    Agora, execute as atualizaes solicitadas e retorne APENAS AS ALTERAES no formato JSON especificado.
  `;try{const p=await Ho.models.generateContentStream({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:vw,maxOutputTokens:a.maxOutputTokens,thinkingConfig:{thinkingBudget:a.thinkingBudget}}});let m="";for await(const S of p)S.text&&(m+=S.text,o(qd(m)));const y=m.trim();let w=JSON.parse(y);if(!w.newDocuments||!w.updatedDocuments||!w.deletedDocumentIds||!w.summary||!w.thinkingProcess)throw new Error("A resposta da IA est faltando campos obrigatrios.");return w=yw(w),{payload:w,rawJson:y}}catch(p){throw console.error("Erro ao chamar a API Gemini para atualizao global:",p),new Error("Falha ao obter uma resposta vlida da IA para a atualizao global. A instruo pode ser muito complexa ou o servio pode estar indisponvel.")}}function a5(t,e){const r={GDD:ko(t),Roteiro:ko(e)},o=`
        Voc  um assistente especialista em design de jogos. Sua finalidade  responder a perguntas sobre o Documento de Design de Jogo (GDD) e o Roteiro fornecidos. 
        Voc NO DEVE inventar informaes. Baseie todas as suas respostas estritamente no contexto fornecido.
        NO se oferea para modificar os documentos. Seu papel  apenas consultivo.
        Seja conciso e direto em suas respostas.

        Aqui est o contexto completo:
        ---
        ${JSON.stringify(r,null,2)}
        ---
    `;return Ho.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:o,maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}})}async function l5(t,e,r,o){let a="";t.content.slice(Math.max(0,e-2),e+1).forEach(p=>{"text"in p&&p.text&&(a+=p.text+`
`),"items"in p&&Array.isArray(p.items)&&(a+=p.items.join(`
`)+`
`)}),a||(a=t.content.map(p=>"text"in p?p.text:"").join(`
`));const d=ko(r),h=`
        Voc  um diretor de arte e artista conceitual trabalhando em um jogo. Sua tarefa  escrever um prompt de gerao de imagem detalhado e vvido para o modelo de imagem 'Imagen'.

        **REGRAS CRTICAS:**
        1.  **Contexto Completo:** Use o JSON 'DOCUMENTO COMPLETO' abaixo para entender o estilo visual geral, design de personagens, ambientao e lore do jogo. Sua imagem DEVE ser consistente com este contexto.
        2.  **Contexto Especfico:** O 'CONTEXTO ESPECFICO DA CENA' descreve onde a imagem ser inserida. Use-o para entender a cena imediata, a ao e o humor.
        3.  **Instruo do Usurio:** Se uma 'INSTRUO DO USURIO' for fornecida, ela tem a MAIOR prioridade para o contedo da cena. Integre a instruo do usurio de forma criativa, mas AINDA mantenha a consistncia com o estilo visual do 'DOCUMENTO COMPLETO'.
        4.  **Formato do Prompt:** O prompt que voc escrever deve ser em ingls, altamente descritivo, focado em detalhes visuais e usar termos artsticos. Pense em composio, iluminao, paleta de cores, estilo artstico e emoo.
        5.  **Sada:** Sua resposta DEVE ser um nico objeto JSON com uma nica chave "image_prompt".

        **DOCUMENTO COMPLETO (GDD/Roteiro):**
        ---
        ${JSON.stringify(d,null,2)}
        ---

        **CONTEXTO ESPECFICO DA CENA:**
        ---
        ${a.trim()}
        ---

        **INSTRUO DO USURIO (se houver):**
        ---
        ${o||"Nenhuma. Crie a imagem com base no contexto da cena e no GDD."}
        ---

        Agora, escreva o prompt para o modelo de imagem e retorne-o no formato JSON especificado.
    `;try{const m=(await Ho.models.generateContent({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{image_prompt:{type:rt.STRING,description:"O prompt de gerao de imagem detalhado em ingls."}},required:["image_prompt"]},thinkingConfig:{thinkingBudget:5e3}}})).text.trim(),y=JSON.parse(m);if(typeof y.image_prompt!="string"||!y.image_prompt)throw new Error("A IA no gerou um prompt de imagem vlido.");return y.image_prompt}catch(p){throw console.error("Erro ao chamar a API Gemini para gerar o prompt de imagem:",p),new Error("Falha ao criar um prompt para a imagem. O servio pode estar indisponvel.")}}async function u5(t){try{const e=await Ho.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:"16:9"}});if(!e.generatedImages||e.generatedImages.length===0||!e.generatedImages[0].image.imageBytes)throw new Error("A API de imagem no retornou dados de imagem.");return{base64:e.generatedImages[0].image.imageBytes,mimeType:"image/png"}}catch(e){throw console.error("Erro ao chamar a API Imagen para gerar imagem:",e),new Error("Falha ao gerar a imagem. Verifique o prompt ou a disponibilidade do servio.")}}function c5(t){const e=t.split(",");if(e.length<2)throw new Error("Invalid data URL format for blob conversion");const r=e[0].match(/:(.*?);/);if(!r)throw new Error("Could not parse MIME type from data URL");const o=r[1],a=atob(e[1]);let c=a.length;const d=new Uint8Array(c);for(;c--;)d[c]=a.charCodeAt(c);return new Blob([d],{type:o})}async function f5(t,e,r,o){const a=t.replace(/\/$/,""),c=JSON.parse(JSON.stringify(o)),d=[],h=[...c.gdd,...c.script];for(const p of h)if(!(!p.content||!Array.isArray(p.content))){for(const m of p.content)if(m.type==="image"&&m.src&&m.src.startsWith("data:image")){const y=(async()=>{try{const w=c5(m.src),S=new File([w],`image-${Date.now()}.${w.type.split("/")[1]||"png"}`,{type:w.type}),E=new FormData;E.append("file",S);const D=await fetch(`${a}/upload-imagem`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:E});if(!D.ok){const U=await D.text();throw new Error(`Falha no upload da imagem: ${D.status} - ${U}`)}const C=await D.json();if(!C.url)throw new Error("A resposta do upload de imagem no continha uma URL.");m.src=C.url}catch(w){throw console.error("Erro ao processar e fazer upload de uma imagem:",w),w}})();d.push(y)}}try{await Promise.all(d);const p=await fetch(`${a}/versions`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({type:"manual",name:r,gddData:c})});if(!p.ok){const m=await p.text();throw new Error(`Erro do servidor ao salvar a verso: ${p.status} - ${m}`)}return await p.json()}catch(p){throw console.error("Falha ao salvar verso na nuvem:",p),new Error(`Falha na comunicao com o servidor: ${p instanceof Error?p.message:"Erro desconhecido"}`)}}async function d5(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/versions`,{method:"GET",headers:{"X-Access-Key":e}});if(!o.ok){const c=await o.text();throw new Error(`Erro do servidor: ${o.status} - ${c}`)}const a=await o.json();if(!a||!Array.isArray(a.manual)||!Array.isArray(a.automatic))throw new Error("Dados de verses recebidos da nuvem esto em um formato invlido.");return a}catch(o){throw console.error("Falha ao buscar verses da nuvem:",o),new Error(`Falha na comunicao com o servidor: ${o instanceof Error?o.message:"Erro desconhecido"}`)}}async function h5(t,e,r){const o=t.replace(/\/$/,"");try{const a=await fetch(`${o}/versions/${r}`,{method:"GET",headers:{"X-Access-Key":e}});if(!a.ok){const d=await a.text();throw new Error(`Erro do servidor: ${a.status} - ${d}`)}const c=await a.json();if(!c||!Array.isArray(c.gdd)||!Array.isArray(c.script))throw new Error("Dados da verso recebidos da nuvem esto em um formato invlido.");return c}catch(a){throw console.error("Falha ao carregar verso da nuvem:",a),new Error(`Falha na comunicao com o servidor: ${a instanceof Error?a.message:"Erro desconhecido"}`)}}async function p5(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/versions/latest/meta`,{method:"GET",headers:{"X-Access-Key":e}});if(o.status===404)return null;if(!o.ok){const c=await o.text();throw new Error(`Erro do servidor: ${o.status} - ${c}`)}const a=await o.json();if(!a||!a.id||!a.timestamp)throw new Error("Metadados da verso mais recente recebidos em formato invlido.");return a}catch(o){throw console.error("Falha ao buscar metadados da verso mais recente:",o),new Error(`Falha na comunicao com o servidor: ${o instanceof Error?o.message:"Erro desconhecido"}`)}}const m5="GDD_DATABASE",g5=1,Xl="gdd_documents",Zl="script_documents",ww="all_docs";let ea=null;function xw(){return ea||(ea=new Promise((t,e)=>{const r=indexedDB.open(m5,g5);r.onerror=()=>{console.error("IndexedDB error:",r.error),e("Error opening IndexedDB."),ea=null},r.onsuccess=()=>{t(r.result)},r.onupgradeneeded=o=>{const a=o.target.result;a.objectStoreNames.contains(Xl)||a.createObjectStore(Xl),a.objectStoreNames.contains(Zl)||a.createObjectStore(Zl)}}),ea)}async function Tw(t){const e=await xw();return new Promise((r,o)=>{const d=e.transaction(t,"readonly").objectStore(t).get(ww);d.onerror=()=>o(`Error getting docs from ${t}`),d.onsuccess=()=>r(d.result||null)})}async function Sw(t,e){const r=await xw();return new Promise((o,a)=>{const h=r.transaction(t,"readwrite").objectStore(t).put(e,ww);h.onerror=()=>a(`Error saving docs to ${t}`),h.onsuccess=()=>o()})}const y5=()=>Tw(Xl),y0=t=>Sw(Xl,t),v5=()=>Tw(Zl),v0=t=>Sw(Zl,t),Al=[{id:"1",title:"Princpios de Design de Personagem",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Nosso design de personagem segue uma abordagem de 'realismo estilizado'. As caractersticas principais incluem silhuetas exageradas e rostos expressivos. Todos os personagens devem se encaixar na esttica definida no [[Guia de Estilo Visual]]. O protagonista principal, Kael,  projetado para ser gil e misterioso."}]},{id:"2",title:"Guia de Estilo Visual",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O estilo visual do jogo  uma fuso de cyberpunk e mitologia antiga. Usamos uma paleta de cores de alto contraste com detalhes em neon contra ambientes escuros e chuvosos. A inspirao  tirada de filmes clssicos neo-noir. Todos os assets devem seguir estas diretrizes."}]},{id:"3",title:"Loop Principal de Gameplay",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O loop principal : EXPLORAR, LUTAR, MELHORAR. Os jogadores exploram o mundo para encontrar recursos e misses. Eles se envolvem em nossas [[Mecnicas de Combate]] para superar desafios. Finalmente, eles usam recompensas para melhorar seus equipamentos e habilidades."}]},{id:"4",title:"Mecnicas de Combate",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O combate  um sistema de terceira pessoa em ritmo acelerado, focado em esquivar e contra-atacar. Os jogadores tm um ataque leve, um ataque pesado e habilidades especiais ligadas aos [[Amuletos]] equipados. O gerenciamento de estamina  crucial."}]},{id:"5",title:"Msica Tema Principal",category:"Som",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O tema principal  uma pea orquestral com toques eletrnicos, refletindo o cenrio do jogo. Deve ser memorvel e evoluir durante momentos chave da histria, conforme descrito no [[Arco da Histria Principal]]."}]},{id:"6",title:"Arco da Histria Principal",category:"Histria",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"A histria segue Kael, um pria que descobre ser a chave para impedir uma profecia de fim do mundo. O arco  dividido em trs atos: O Despertar, A Descida e O Acerto de Contas. A jornada de Kael  de autodescoberta e sacrifcio."}]},{id:"7",title:"Amuletos",category:"Lgica",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Amuletos so itens mgicos que concedem habilidades especiais. Existem trs tipos: Ofensivo, Defensivo e Utilitrio. Cada amuleto tem um perodo de recarga e um custo de energia. Os jogadores podem equipar at dois ao mesmo tempo."}]}],Rl=[{id:"script-1",title:"Ato 1: O Despertar - Misso 1",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Cutscene de Abertura",level:2},{type:"paragraph",text:"A cena comea com Kael acordando em um beco chuvoso, sem memria. Uma figura misteriosa se aproxima e lhe entrega um amuleto brilhante antes de desaparecer nas sombras."},{type:"heading",text:"Objetivos da Misso",level:2},{type:"list",style:"ordered",items:["Siga o rastro da figura misteriosa.","Aprenda a usar as habilidades bsicas de combate.","Encontre o primeiro refgio seguro."]}]},{id:"script-2",title:"Ato 1: O Despertar - Misso 2",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Encontrando o Mentor",level:2},{type:"paragraph",text:"Kael chega ao refgio e encontra um velho chamado Elara, que explica a importncia dos [[Amuletos]] e o perigo que se aproxima. Elara se torna o mentor de Kael."},{type:"heading",text:"Dilogo Chave",level:2},{type:"paragraph",text:'Elara: "Esse amuleto...  parte de voc agora. Ele o guiar, mas tambm o marcar como um alvo. Voc deve aprender a control-lo antes que eles o encontrem."'}]}],w5=t=>Math.round((t||"").length/3.5),w0=(t,e)=>{const r=new Map;t.forEach(p=>{p.content.forEach(m=>{m.type==="image"&&m.src&&r.set(m.id,m.src)})});const o=p=>({...p,content:p.content.map(m=>{if(m.type==="image"&&m.id&&!m.src){const y=r.get(m.id);return{...m,src:y||""}}return m})}),a=new Date().toISOString(),c=new Map(t.map(p=>[p.id,p]));e.deletedDocumentIds.forEach(p=>{c.delete(p)}),e.updatedDocuments.forEach(p=>{const m=o(p);c.set(p.id,{...m,lastEdited:a})});const d=e.newDocuments.map(p=>({...o(p),lastEdited:a}));return[...c.values(),...d]},Nl=t=>{if(!Array.isArray(t))return[];const e=new Date().toISOString();return t.map(r=>({...r,lastEdited:r.lastEdited||e}))},x0="interactive-gdd-documents",T0="interactive-gdd-script-documents",x5=()=>{const[t,e]=Ie.useState(null),[r,o]=Ie.useState(null),[a,c]=Ie.useState(!0),[d,h]=Ie.useState(null),[p,m]=Ie.useState("gdd"),[y,w]=Ie.useState(null),[S,E]=Ie.useState(null),[D,C]=Ie.useState(""),[U,R]=Ie.useState(null);Ie.useEffect(()=>{async function ue(){try{let K=await y5(),Y=await v5();if(!K)try{const Q=window.localStorage.getItem(x0);Q&&(K=JSON.parse(Q),await y0(K),window.localStorage.removeItem(x0))}catch(Q){console.error("No foi possvel migrar o GDD do localStorage",Q)}if(!Y)try{const Q=window.localStorage.getItem(T0);Q&&(Y=JSON.parse(Q),await v0(Y),window.localStorage.removeItem(T0))}catch(Q){console.error("No foi possvel migrar os Roteiros do localStorage",Q)}K||(K=Al),Y||(Y=Rl);const O=Nl(K),J=Nl(Y);e(O),o(J),O.length>0&&w(O[0].id),J.length>0&&E(J[0].id)}catch(K){console.error("Falha ao carregar documentos da persistncia",K),h("No foi possvel carregar os dados salvos. Comeando com um novo conjunto de documentos."),e(Nl(Al)),o(Nl(Rl)),Al.length>0&&w(Al[0].id),Rl.length>0&&E(Rl[0].id)}finally{c(!1)}}ue()},[]),Ie.useEffect(()=>{t&&!a&&y0(t).catch(ue=>{console.error("Falha ao salvar documentos do GDD no IndexedDB",ue),h("Falha ao salvar as alteraes do GDD. Seus dados podem no persistir.")})},[t,a]),Ie.useEffect(()=>{r&&!a&&v0(r).catch(ue=>{console.error("Falha ao salvar documentos de roteiro no IndexedDB",ue),h("Falha ao salvar as alteraes do Roteiro. Seus dados podem no persistir.")})},[r,a]);const I=Ie.useMemo(()=>(p==="gdd"?t:r)||[],[p,t,r]),P=Ie.useMemo(()=>p==="gdd"?y:S,[p,y,S]),H=Ie.useMemo(()=>{const ue=K=>K?K.trim().split(/\s+/).filter(Boolean).length:0;return I.reduce((K,Y)=>{let O=ue(Y.title);return Array.isArray(Y.content)&&Y.content.forEach(J=>{J.type==="heading"||J.type==="paragraph"?O+=ue(J.text):J.type==="list"&&Array.isArray(J.items)?J.items.forEach(Q=>O+=ue(Q)):J.type==="image"&&(O+=ue(J.caption))}),K+O},0)},[I]),q=Ie.useMemo(()=>{if(!D.trim())return[];const ue=[],K=D.trim().toLowerCase(),Y=[...(t||[]).map(J=>({...J,viewMode:"gdd"})),...(r||[]).map(J=>({...J,viewMode:"script"}))],O=(J,Q)=>{const ee=J.toLowerCase().indexOf(Q);if(ee===-1)return null;const $=Math.max(0,ee-40),M=Math.min(J.length,ee+Q.length+40),N=($>0?"...":"")+J.substring($,M)+(M<J.length?"...":""),te=new RegExp(`(${D.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi"),W=N.split(te);return oa.createElement(oa.Fragment,null,...W.map((G,F)=>F%2===1?oa.createElement("mark",{key:F,className:"bg-yellow-400 text-black px-0.5 rounded-sm"},G):G))};return Y.forEach(J=>{const Q=new Set;if(J.title.toLowerCase().includes(K)){const ee=O(J.title,K);ee&&Q.add(ee)}J.content.forEach(ee=>{let $=[];(ee.type==="heading"||ee.type==="paragraph")&&ee.text?$.push(ee.text):ee.type==="list"&&ee.items?$.push(...ee.items.filter(Boolean)):ee.type==="image"&&ee.caption&&$.push(ee.caption),$.forEach(M=>{if(M.toLowerCase().includes(K)){const N=O(M,K);N&&Q.add(N)}})}),Q.size>0&&ue.push({docId:J.id,docTitle:J.title,category:J.category,viewMode:J.viewMode,snippets:Array.from(Q)})}),ue},[D,t,r]),ce=Ie.useMemo(()=>I.find(ue=>ue.id===P)||null,[P,I]),ae=Ie.useMemo(()=>[...new Set(I.map(ue=>ue.category))],[I]);return{documents:t,scriptDocuments:r,setDocuments:e,setScriptDocuments:o,isDBLoading:a,dbError:d,viewMode:p,setViewMode:m,activeDocuments:I,activeDocumentId:P,categories:ae,activeDocument:ce,totalWordCount:H,searchQuery:D,setSearchQuery:C,searchResults:q,scrollToHeading:U,setScrollToHeading:R,handleSelectDocument:ue=>{(t||[]).some(Y=>Y.id===ue)?(m("gdd"),w(ue)):(m("script"),E(ue)),C("")},handleSelectSearchResult:(ue,K)=>{m(K),K==="gdd"?w(ue):E(ue),C("")},handleNavigate:(ue,K)=>{(t||[]).some(O=>O.id===ue)?(m("gdd"),w(ue)):(m("script"),E(ue)),R(K||null)},handleDidScrollToHeading:()=>R(null),handleUpdateBlock:(ue,K,Y,O)=>{const Q=(t||[]).some($=>$.id===ue)?e:o,ee=new Date().toISOString();Q($=>($||[]).map(M=>{if(M.id!==ue)return M;const N=[...M.content],te={...N[K]};if(te.type==="list"&&O!==void 0&&Array.isArray(te.items)){const W=[...te.items];W[O]=Y,te.items=W}else te.type==="heading"||te.type==="paragraph"?te.text=Y:te.type==="image"&&O===void 0&&(te.caption=Y);return N[K]=te,{...M,content:N,lastEdited:ee}}))},handleSetContent:(ue,K)=>{const O=(t||[]).some(Q=>Q.id===ue)?e:o,J=new Date().toISOString();O(Q=>(Q||[]).map(ee=>ee.id===ue?{...ee,content:K,lastEdited:J}:ee))},handleUpdateBlockContent:(ue,K,Y)=>{const J=(t||[]).some(ee=>ee.id===ue)?e:o,Q=new Date().toISOString();J(ee=>(ee||[]).map($=>{if($.id!==ue)return $;const M=[...$.content],N=M[K];return N?(M[K]={...N,...Y},{...$,content:M,lastEdited:Q}):$}))},handleUpdateCategoryName:(ue,K)=>{if(!K||K.trim()===""||ue===K)return;const Y=p==="gdd"?e:o,O=new Date().toISOString();Y(J=>(J||[]).map(Q=>Q.category===ue?{...Q,category:K,lastEdited:O}:Q))},handleUpdateDocumentTitle:(ue,K)=>{if(!K||K.trim()==="")return;const Y=p==="gdd"?e:o,O=new Date().toISOString();Y(J=>{var N;const Q=J||[],ee=(N=Q.find(te=>te.id===ue))==null?void 0:N.title;if(!ee||ee===K)return Q;const $=new RegExp(`\\[\\[${ee.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\]`,"gi"),M=`[[${K}]]`;return Q.map(te=>{let W=!1,G={...te};te.id===ue&&(G.title=K,W=!0);const F=G.content.map(ie=>{var b;if((ie.type==="heading"||ie.type==="paragraph")&&((b=ie.text)!=null&&b.match($)))return W=!0,{...ie,text:ie.text.replace($,M)};if(ie.type==="list"&&Array.isArray(ie.items)){let re=!1;const k=ie.items.map(v=>v!=null&&v.match($)?(re=!0,v.replace($,M)):v);if(re)return W=!0,{...ie,items:k}}return ie});return W&&(G.lastEdited=O),{...G,content:F}})})},handleReorderDocuments:(ue,K)=>{(p==="gdd"?e:o)(O=>{const J=O||[],Q=J.findIndex(W=>W.id===ue),ee=J.findIndex(W=>W.id===K);if(Q===-1||ee===-1)return J;const $=J[Q],M=J[ee];if($.category!==M.category)return J;const N=[...J];N.splice(Q,1);const te=N.findIndex(W=>W.id===K);return N.splice(te,0,$),N})},handleReorderCategories:(ue,K)=>{(p==="gdd"?e:o)(O=>{const J=O||[],Q=[...new Set(J.map(G=>G.category))],ee=Q.indexOf(ue),$=Q.indexOf(K);if(ee===-1||$===-1)return J;const M=[...Q],[N]=M.splice(ee,1);M.splice($,0,N);const te=new Map;J.forEach(G=>{te.has(G.category)||te.set(G.category,[]),te.get(G.category).push(G)});const W=[];return M.forEach(G=>{const F=te.get(G)||[];W.push(...F)}),W})}}},S0="nil",T5=()=>{const[t,e]=Ie.useState(null),[r,o]=Ie.useState(null);return Ie.useEffect(()=>{if(window.opener&&window.location.hash.includes("access_token")){try{const d=new URLSearchParams(window.location.hash.substring(1)).get("access_token");d&&window.opener.handleGoogleAuthCallback&&window.opener.handleGoogleAuthCallback(d)}catch(c){console.error("Erro ao processar o callback de autenticao do Google:",c)}finally{window.close()}return}return window.handleGoogleAuthCallback=c=>{c&&e(c)},()=>{delete window.handleGoogleAuthCallback}},[]),{googleAccessToken:t,authError:r,handleGoogleAuthClick:()=>{if(o(null),S0.startsWith("SEU_ID_DE_CLIENTE_AQUI")){o("Por favor, configure o ID de Cliente do Google para usar a integrao com o Google Drive.");return}let c;try{const S=window.top.location;c=`${S.protocol}//${S.host}${S.pathname}`}catch(S){console.warn("No foi possvel acessar window.top.location para determinar a URI de redirecionamento, recorrendo a window.location.",S);const E=window.location;c=`${E.protocol}//${E.host}${E.pathname}`}const h=`https://accounts.google.com/o/oauth2/v2/auth?scope=${encodeURIComponent("https://www.googleapis.com/auth/drive.file")}&include_granted_scopes=true&response_type=token&redirect_uri=${encodeURIComponent(c)}&client_id=${S0}`,p=600,m=700,y=(window.innerWidth-p)/2,w=(window.innerHeight-m)/2;window.open(h,"googleAuth",`width=${p},height=${m},left=${y},top=${w},resizable=yes,scrollbars=yes,status=yes`)}}};var S5=Object.defineProperty,E5=Object.defineProperties,_5=Object.getOwnPropertyDescriptors,E0=Object.getOwnPropertySymbols,b5=Object.prototype.hasOwnProperty,C5=Object.prototype.propertyIsEnumerable,Rd=(t,e,r)=>e in t?S5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lt=(t,e)=>{for(var r in e||(e={}))b5.call(e,r)&&Rd(t,r,e[r]);if(E0)for(var r of E0(e))C5.call(e,r)&&Rd(t,r,e[r]);return t},Uo=(t,e)=>E5(t,_5(e)),Se=(t,e,r)=>(Rd(t,typeof e!="symbol"?e+"":e,r),r),Dl=(t,e,r)=>new Promise((o,a)=>{var c=p=>{try{h(r.next(p))}catch(m){a(m)}},d=p=>{try{h(r.throw(p))}catch(m){a(m)}},h=p=>p.done?o(p.value):Promise.resolve(p.value).then(c,d);h((r=r.apply(t,e)).next())});class jl{constructor(e){Se(this,"rootKey"),this.rootKey=e}}const A5=Object.seal({});class Ee extends jl{constructor(e){super(e),Se(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const o=this.root.map(a=>a instanceof jl?a.prepForXml(e):a).filter(a=>a!==void 0);return e.stack.pop(),{[this.rootKey]:o.length?o.length===1&&((r=o[0])!=null&&r._attr)?o[0]:o:A5}}addChildElement(e){return this.root.push(e),this}}class iu extends Ee{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Oe extends jl{constructor(e){super("_attr"),Se(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.keys(this.root).forEach(o=>{const a=this.root[o];if(a!==void 0){const c=this.xmlKeys&&this.xmlKeys[o]||o;r[c]=a}}),{_attr:r}}}class Ko extends jl{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:o})=>o!==void 0).reduce((o,{key:a,value:c})=>Uo(lt({},o),{[a]:c}),{})}}}class zt extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ew(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _w={},Hd={exports:{}},Ro=typeof Reflect=="object"?Reflect:null,_0=Ro&&typeof Ro.apply=="function"?Ro.apply:function(e,r,o){return Function.prototype.apply.call(e,r,o)},Kl;Ro&&typeof Ro.ownKeys=="function"?Kl=Ro.ownKeys:Object.getOwnPropertySymbols?Kl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Kl=function(e){return Object.getOwnPropertyNames(e)};function R5(t){console&&console.warn&&console.warn(t)}var bw=Number.isNaN||function(e){return e!==e};function xt(){xt.init.call(this)}Hd.exports=xt;Hd.exports.once=I5;xt.EventEmitter=xt;xt.prototype._events=void 0;xt.prototype._eventsCount=0;xt.prototype._maxListeners=void 0;var b0=10;function ou(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(xt,"defaultMaxListeners",{enumerable:!0,get:function(){return b0},set:function(t){if(typeof t!="number"||t<0||bw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");b0=t}});xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||bw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Cw(t){return t._maxListeners===void 0?xt.defaultMaxListeners:t._maxListeners}xt.prototype.getMaxListeners=function(){return Cw(this)};xt.prototype.emit=function(e){for(var r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);var a=e==="error",c=this._events;if(c!==void 0)a=a&&c.error===void 0;else if(!a)return!1;if(a){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var p=c[e];if(p===void 0)return!1;if(typeof p=="function")_0(p,this,r);else for(var m=p.length,y=Mw(p,m),o=0;o<m;++o)_0(y[o],this,r);return!0};function Aw(t,e,r,o){var a,c,d;if(ou(r),c=t._events,c===void 0?(c=t._events=Object.create(null),t._eventsCount=0):(c.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),c=t._events),d=c[e]),d===void 0)d=c[e]=r,++t._eventsCount;else if(typeof d=="function"?d=c[e]=o?[r,d]:[d,r]:o?d.unshift(r):d.push(r),a=Cw(t),a>0&&d.length>a&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=d.length,R5(h)}return t}xt.prototype.addListener=function(e,r){return Aw(this,e,r,!1)};xt.prototype.on=xt.prototype.addListener;xt.prototype.prependListener=function(e,r){return Aw(this,e,r,!0)};function N5(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Rw(t,e,r){var o={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=N5.bind(o);return a.listener=r,o.wrapFn=a,a}xt.prototype.once=function(e,r){return ou(r),this.on(e,Rw(this,e,r)),this};xt.prototype.prependOnceListener=function(e,r){return ou(r),this.prependListener(e,Rw(this,e,r)),this};xt.prototype.removeListener=function(e,r){var o,a,c,d,h;if(ou(r),a=this._events,a===void 0)return this;if(o=a[e],o===void 0)return this;if(o===r||o.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,o.listener||r));else if(typeof o!="function"){for(c=-1,d=o.length-1;d>=0;d--)if(o[d]===r||o[d].listener===r){h=o[d].listener,c=d;break}if(c<0)return this;c===0?o.shift():D5(o,c),o.length===1&&(a[e]=o[0]),a.removeListener!==void 0&&this.emit("removeListener",e,h||r)}return this};xt.prototype.off=xt.prototype.removeListener;xt.prototype.removeAllListeners=function(e){var r,o,a;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[e]),this;if(arguments.length===0){var c=Object.keys(o),d;for(a=0;a<c.length;++a)d=c[a],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=o[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function Nw(t,e,r){var o=t._events;if(o===void 0)return[];var a=o[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?M5(a):Mw(a,a.length)}xt.prototype.listeners=function(e){return Nw(this,e,!0)};xt.prototype.rawListeners=function(e){return Nw(this,e,!1)};xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Dw.call(t,e)};xt.prototype.listenerCount=Dw;function Dw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}xt.prototype.eventNames=function(){return this._eventsCount>0?Kl(this._events):[]};function Mw(t,e){for(var r=new Array(e),o=0;o<e;++o)r[o]=t[o];return r}function D5(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function M5(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function I5(t,e){return new Promise(function(r,o){function a(d){t.removeListener(e,c),o(d)}function c(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}Iw(t,e,c,{once:!0}),e!=="error"&&k5(t,a,{once:!0})})}function k5(t,e,r){typeof t.on=="function"&&Iw(t,"error",e,r)}function Iw(t,e,r,o){if(typeof t.on=="function")o.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(c){o.once&&t.removeEventListener(e,a),r(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Kd=Hd.exports,Nd={exports:{}};typeof Object.create=="function"?Nd.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Nd.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}};var Ii=Nd.exports;function U5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kw={exports:{}},Gt=kw.exports={},rr,ir;function Dd(){throw new Error("setTimeout has not been defined")}function Md(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?rr=setTimeout:rr=Dd}catch{rr=Dd}try{typeof clearTimeout=="function"?ir=clearTimeout:ir=Md}catch{ir=Md}})();function Uw(t){if(rr===setTimeout)return setTimeout(t,0);if((rr===Dd||!rr)&&setTimeout)return rr=setTimeout,setTimeout(t,0);try{return rr(t,0)}catch{try{return rr.call(null,t,0)}catch{return rr.call(this,t,0)}}}function L5(t){if(ir===clearTimeout)return clearTimeout(t);if((ir===Md||!ir)&&clearTimeout)return ir=clearTimeout,clearTimeout(t);try{return ir(t)}catch{try{return ir.call(null,t)}catch{return ir.call(this,t)}}}var Rr=[],No=!1,Ai,Yl=-1;function B5(){!No||!Ai||(No=!1,Ai.length?Rr=Ai.concat(Rr):Yl=-1,Rr.length&&Lw())}function Lw(){if(!No){var t=Uw(B5);No=!0;for(var e=Rr.length;e;){for(Ai=Rr,Rr=[];++Yl<e;)Ai&&Ai[Yl].run();Yl=-1,e=Rr.length}Ai=null,No=!1,L5(t)}}Gt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Rr.push(new Bw(t,e)),Rr.length===1&&!No&&Uw(Lw)};function Bw(t,e){this.fun=t,this.array=e}Bw.prototype.run=function(){this.fun.apply(null,this.array)};Gt.title="browser";Gt.browser=!0;Gt.env={};Gt.argv=[];Gt.version="";Gt.versions={};function Dr(){}Gt.on=Dr;Gt.addListener=Dr;Gt.once=Dr;Gt.off=Dr;Gt.removeListener=Dr;Gt.removeAllListeners=Dr;Gt.emit=Dr;Gt.prependListener=Dr;Gt.prependOnceListener=Dr;Gt.listeners=function(t){return[]};Gt.binding=function(t){throw new Error("process.binding is not supported")};Gt.cwd=function(){return"/"};Gt.chdir=function(t){throw new Error("process.chdir is not supported")};Gt.umask=function(){return 0};var P5=kw.exports;const tt=U5(P5);var bf,C0;function Pw(){return C0||(C0=1,bf=Kd.EventEmitter),bf}var Cf={},ta={},A0;function O5(){if(A0)return ta;A0=1,ta.byteLength=h,ta.toByteArray=m,ta.fromByteArray=S;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)t[a]=o[a],e[o.charCodeAt(a)]=a;e[45]=62,e[95]=63;function d(E){var D=E.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=E.indexOf("=");C===-1&&(C=D);var U=C===D?0:4-C%4;return[C,U]}function h(E){var D=d(E),C=D[0],U=D[1];return(C+U)*3/4-U}function p(E,D,C){return(D+C)*3/4-C}function m(E){var D,C=d(E),U=C[0],R=C[1],I=new r(p(E,U,R)),P=0,H=R>0?U-4:U,q;for(q=0;q<H;q+=4)D=e[E.charCodeAt(q)]<<18|e[E.charCodeAt(q+1)]<<12|e[E.charCodeAt(q+2)]<<6|e[E.charCodeAt(q+3)],I[P++]=D>>16&255,I[P++]=D>>8&255,I[P++]=D&255;return R===2&&(D=e[E.charCodeAt(q)]<<2|e[E.charCodeAt(q+1)]>>4,I[P++]=D&255),R===1&&(D=e[E.charCodeAt(q)]<<10|e[E.charCodeAt(q+1)]<<4|e[E.charCodeAt(q+2)]>>2,I[P++]=D>>8&255,I[P++]=D&255),I}function y(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function w(E,D,C){for(var U,R=[],I=D;I<C;I+=3)U=(E[I]<<16&16711680)+(E[I+1]<<8&65280)+(E[I+2]&255),R.push(y(U));return R.join("")}function S(E){for(var D,C=E.length,U=C%3,R=[],I=16383,P=0,H=C-U;P<H;P+=I)R.push(w(E,P,P+I>H?H:P+I));return U===1?(D=E[C-1],R.push(t[D>>2]+t[D<<4&63]+"==")):U===2&&(D=(E[C-2]<<8)+E[C-1],R.push(t[D>>10]+t[D>>4&63]+t[D<<2&63]+"=")),R.join("")}return ta}var Ml={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var R0;function F5(){return R0||(R0=1,Ml.read=function(t,e,r,o,a){var c,d,h=a*8-o-1,p=(1<<h)-1,m=p>>1,y=-7,w=r?a-1:0,S=r?-1:1,E=t[e+w];for(w+=S,c=E&(1<<-y)-1,E>>=-y,y+=h;y>0;c=c*256+t[e+w],w+=S,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=o;y>0;d=d*256+t[e+w],w+=S,y-=8);if(c===0)c=1-m;else{if(c===p)return d?NaN:(E?-1:1)*(1/0);d=d+Math.pow(2,o),c=c-m}return(E?-1:1)*d*Math.pow(2,c-o)},Ml.write=function(t,e,r,o,a,c){var d,h,p,m=c*8-a-1,y=(1<<m)-1,w=y>>1,S=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=o?0:c-1,D=o?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,d=y):(d=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-d))<1&&(d--,p*=2),d+w>=1?e+=S/p:e+=S*Math.pow(2,1-w),e*p>=2&&(d++,p/=2),d+w>=y?(h=0,d=y):d+w>=1?(h=(e*p-1)*Math.pow(2,a),d=d+w):(h=e*Math.pow(2,w-1)*Math.pow(2,a),d=0));a>=8;t[r+E]=h&255,E+=D,h/=256,a-=8);for(d=d<<a|h,m+=a;m>0;t[r+E]=d&255,E+=D,d/=256,m-=8);t[r+E-D]|=C*128}),Ml}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var N0;function su(){return N0||(N0=1,(function(t){var e=O5(),r=F5(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var k=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(k,v),k.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(k){if(k>a)throw new RangeError('The value "'+k+'" is invalid for option "size"');var v=new Uint8Array(k);return Object.setPrototypeOf(v,h.prototype),v}function h(k,v,T){if(typeof k=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(k)}return p(k,v,T)}h.poolSize=8192;function p(k,v,T){if(typeof k=="string")return S(k,v);if(ArrayBuffer.isView(k))return D(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(ie(k,ArrayBuffer)||k&&ie(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(k,SharedArrayBuffer)||k&&ie(k.buffer,SharedArrayBuffer)))return C(k,v,T);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=k.valueOf&&k.valueOf();if(A!=null&&A!==k)return h.from(A,v,T);var X=U(k);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return h.from(k[Symbol.toPrimitive]("string"),v,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}h.from=function(k,v,T){return p(k,v,T)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function y(k,v,T){return m(k),k<=0?d(k):v!==void 0?typeof T=="string"?d(k).fill(v,T):d(k).fill(v):d(k)}h.alloc=function(k,v,T){return y(k,v,T)};function w(k){return m(k),d(k<0?0:R(k)|0)}h.allocUnsafe=function(k){return w(k)},h.allocUnsafeSlow=function(k){return w(k)};function S(k,v){if((typeof v!="string"||v==="")&&(v="utf8"),!h.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var T=P(k,v)|0,A=d(T),X=A.write(k,v);return X!==T&&(A=A.slice(0,X)),A}function E(k){for(var v=k.length<0?0:R(k.length)|0,T=d(v),A=0;A<v;A+=1)T[A]=k[A]&255;return T}function D(k){if(ie(k,Uint8Array)){var v=new Uint8Array(k);return C(v.buffer,v.byteOffset,v.byteLength)}return E(k)}function C(k,v,T){if(v<0||k.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<v+(T||0))throw new RangeError('"length" is outside of buffer bounds');var A;return v===void 0&&T===void 0?A=new Uint8Array(k):T===void 0?A=new Uint8Array(k,v):A=new Uint8Array(k,v,T),Object.setPrototypeOf(A,h.prototype),A}function U(k){if(h.isBuffer(k)){var v=R(k.length)|0,T=d(v);return T.length===0||k.copy(T,0,0,v),T}if(k.length!==void 0)return typeof k.length!="number"||b(k.length)?d(0):E(k);if(k.type==="Buffer"&&Array.isArray(k.data))return E(k.data)}function R(k){if(k>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return k|0}function I(k){return+k!=k&&(k=0),h.alloc(+k)}h.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==h.prototype},h.compare=function(v,T){if(ie(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),ie(T,Uint8Array)&&(T=h.from(T,T.offset,T.byteLength)),!h.isBuffer(v)||!h.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===T)return 0;for(var A=v.length,X=T.length,ne=0,j=Math.min(A,X);ne<j;++ne)if(v[ne]!==T[ne]){A=v[ne],X=T[ne];break}return A<X?-1:X<A?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,T){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return h.alloc(0);var A;if(T===void 0)for(T=0,A=0;A<v.length;++A)T+=v[A].length;var X=h.allocUnsafe(T),ne=0;for(A=0;A<v.length;++A){var j=v[A];if(ie(j,Uint8Array))ne+j.length>X.length?h.from(j).copy(X,ne):Uint8Array.prototype.set.call(X,j,ne);else if(h.isBuffer(j))j.copy(X,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=j.length}return X};function P(k,v){if(h.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||ie(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var T=k.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&T===0)return 0;for(var X=!1;;)switch(v){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return N(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return G(k).length;default:if(X)return A?-1:N(k).length;v=(""+v).toLowerCase(),X=!0}}h.byteLength=P;function H(k,v,T){var A=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,v>>>=0,T<=v))return"";for(k||(k="utf8");;)switch(k){case"hex":return ue(this,v,T);case"utf8":case"utf-8":return B(this,v,T);case"ascii":return se(this,v,T);case"latin1":case"binary":return Ce(this,v,T);case"base64":return pe(this,v,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,v,T);default:if(A)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),A=!0}}h.prototype._isBuffer=!0;function q(k,v,T){var A=k[v];k[v]=k[T],k[T]=A}h.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<v;T+=2)q(this,T,T+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<v;T+=4)q(this,T,T+3),q(this,T+1,T+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<v;T+=8)q(this,T,T+7),q(this,T+1,T+6),q(this,T+2,T+5),q(this,T+3,T+4);return this},h.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?B(this,0,v):H.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:h.compare(this,v)===0},h.prototype.inspect=function(){var v="",T=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(v+=" ... "),"<Buffer "+v+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(v,T,A,X,ne){if(ie(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),!h.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(T===void 0&&(T=0),A===void 0&&(A=v?v.length:0),X===void 0&&(X=0),ne===void 0&&(ne=this.length),T<0||A>v.length||X<0||ne>this.length)throw new RangeError("out of range index");if(X>=ne&&T>=A)return 0;if(X>=ne)return-1;if(T>=A)return 1;if(T>>>=0,A>>>=0,X>>>=0,ne>>>=0,this===v)return 0;for(var j=ne-X,ge=A-T,De=Math.min(j,ge),be=this.slice(X,ne),Ue=v.slice(T,A),Be=0;Be<De;++Be)if(be[Be]!==Ue[Be]){j=be[Be],ge=Ue[Be];break}return j<ge?-1:ge<j?1:0};function ce(k,v,T,A,X){if(k.length===0)return-1;if(typeof T=="string"?(A=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,b(T)&&(T=X?0:k.length-1),T<0&&(T=k.length+T),T>=k.length){if(X)return-1;T=k.length-1}else if(T<0)if(X)T=0;else return-1;if(typeof v=="string"&&(v=h.from(v,A)),h.isBuffer(v))return v.length===0?-1:ae(k,v,T,A,X);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(k,v,T):Uint8Array.prototype.lastIndexOf.call(k,v,T):ae(k,[v],T,A,X);throw new TypeError("val must be string, number or Buffer")}function ae(k,v,T,A,X){var ne=1,j=k.length,ge=v.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(k.length<2||v.length<2)return-1;ne=2,j/=2,ge/=2,T/=2}function De(Ze,Nt){return ne===1?Ze[Nt]:Ze.readUInt16BE(Nt*ne)}var be;if(X){var Ue=-1;for(be=T;be<j;be++)if(De(k,be)===De(v,Ue===-1?0:be-Ue)){if(Ue===-1&&(Ue=be),be-Ue+1===ge)return Ue*ne}else Ue!==-1&&(be-=be-Ue),Ue=-1}else for(T+ge>j&&(T=j-ge),be=T;be>=0;be--){for(var Be=!0,Ge=0;Ge<ge;Ge++)if(De(k,be+Ge)!==De(v,Ge)){Be=!1;break}if(Be)return be}return-1}h.prototype.includes=function(v,T,A){return this.indexOf(v,T,A)!==-1},h.prototype.indexOf=function(v,T,A){return ce(this,v,T,A,!0)},h.prototype.lastIndexOf=function(v,T,A){return ce(this,v,T,A,!1)};function de(k,v,T,A){T=Number(T)||0;var X=k.length-T;A?(A=Number(A),A>X&&(A=X)):A=X;var ne=v.length;A>ne/2&&(A=ne/2);for(var j=0;j<A;++j){var ge=parseInt(v.substr(j*2,2),16);if(b(ge))return j;k[T+j]=ge}return j}function z(k,v,T,A){return F(N(v,k.length-T),k,T,A)}function Te(k,v,T,A){return F(te(v),k,T,A)}function Re(k,v,T,A){return F(G(v),k,T,A)}function Z(k,v,T,A){return F(W(v,k.length-T),k,T,A)}h.prototype.write=function(v,T,A,X){if(T===void 0)X="utf8",A=this.length,T=0;else if(A===void 0&&typeof T=="string")X=T,A=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(A)?(A=A>>>0,X===void 0&&(X="utf8")):(X=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-T;if((A===void 0||A>ne)&&(A=ne),v.length>0&&(A<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var j=!1;;)switch(X){case"hex":return de(this,v,T,A);case"utf8":case"utf-8":return z(this,v,T,A);case"ascii":case"latin1":case"binary":return Te(this,v,T,A);case"base64":return Re(this,v,T,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,v,T,A);default:if(j)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),j=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(k,v,T){return v===0&&T===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(v,T))}function B(k,v,T){T=Math.min(k.length,T);for(var A=[],X=v;X<T;){var ne=k[X],j=null,ge=ne>239?4:ne>223?3:ne>191?2:1;if(X+ge<=T){var De,be,Ue,Be;switch(ge){case 1:ne<128&&(j=ne);break;case 2:De=k[X+1],(De&192)===128&&(Be=(ne&31)<<6|De&63,Be>127&&(j=Be));break;case 3:De=k[X+1],be=k[X+2],(De&192)===128&&(be&192)===128&&(Be=(ne&15)<<12|(De&63)<<6|be&63,Be>2047&&(Be<55296||Be>57343)&&(j=Be));break;case 4:De=k[X+1],be=k[X+2],Ue=k[X+3],(De&192)===128&&(be&192)===128&&(Ue&192)===128&&(Be=(ne&15)<<18|(De&63)<<12|(be&63)<<6|Ue&63,Be>65535&&Be<1114112&&(j=Be))}}j===null?(j=65533,ge=1):j>65535&&(j-=65536,A.push(j>>>10&1023|55296),j=56320|j&1023),A.push(j),X+=ge}return le(A)}var he=4096;function le(k){var v=k.length;if(v<=he)return String.fromCharCode.apply(String,k);for(var T="",A=0;A<v;)T+=String.fromCharCode.apply(String,k.slice(A,A+=he));return T}function se(k,v,T){var A="";T=Math.min(k.length,T);for(var X=v;X<T;++X)A+=String.fromCharCode(k[X]&127);return A}function Ce(k,v,T){var A="";T=Math.min(k.length,T);for(var X=v;X<T;++X)A+=String.fromCharCode(k[X]);return A}function ue(k,v,T){var A=k.length;(!v||v<0)&&(v=0),(!T||T<0||T>A)&&(T=A);for(var X="",ne=v;ne<T;++ne)X+=re[k[ne]];return X}function K(k,v,T){for(var A=k.slice(v,T),X="",ne=0;ne<A.length-1;ne+=2)X+=String.fromCharCode(A[ne]+A[ne+1]*256);return X}h.prototype.slice=function(v,T){var A=this.length;v=~~v,T=T===void 0?A:~~T,v<0?(v+=A,v<0&&(v=0)):v>A&&(v=A),T<0?(T+=A,T<0&&(T=0)):T>A&&(T=A),T<v&&(T=v);var X=this.subarray(v,T);return Object.setPrototypeOf(X,h.prototype),X};function Y(k,v,T){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+v>T)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(v,T,A){v=v>>>0,T=T>>>0,A||Y(v,T,this.length);for(var X=this[v],ne=1,j=0;++j<T&&(ne*=256);)X+=this[v+j]*ne;return X},h.prototype.readUintBE=h.prototype.readUIntBE=function(v,T,A){v=v>>>0,T=T>>>0,A||Y(v,T,this.length);for(var X=this[v+--T],ne=1;T>0&&(ne*=256);)X+=this[v+--T]*ne;return X},h.prototype.readUint8=h.prototype.readUInt8=function(v,T){return v=v>>>0,T||Y(v,1,this.length),this[v]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(v,T){return v=v>>>0,T||Y(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(v,T){return v=v>>>0,T||Y(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,T,A){v=v>>>0,T=T>>>0,A||Y(v,T,this.length);for(var X=this[v],ne=1,j=0;++j<T&&(ne*=256);)X+=this[v+j]*ne;return ne*=128,X>=ne&&(X-=Math.pow(2,8*T)),X},h.prototype.readIntBE=function(v,T,A){v=v>>>0,T=T>>>0,A||Y(v,T,this.length);for(var X=T,ne=1,j=this[v+--X];X>0&&(ne*=256);)j+=this[v+--X]*ne;return ne*=128,j>=ne&&(j-=Math.pow(2,8*T)),j},h.prototype.readInt8=function(v,T){return v=v>>>0,T||Y(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},h.prototype.readInt16LE=function(v,T){v=v>>>0,T||Y(v,2,this.length);var A=this[v]|this[v+1]<<8;return A&32768?A|4294901760:A},h.prototype.readInt16BE=function(v,T){v=v>>>0,T||Y(v,2,this.length);var A=this[v+1]|this[v]<<8;return A&32768?A|4294901760:A},h.prototype.readInt32LE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),r.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),r.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,T){return v=v>>>0,T||Y(v,8,this.length),r.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,T){return v=v>>>0,T||Y(v,8,this.length),r.read(this,v,!1,52,8)};function O(k,v,T,A,X,ne){if(!h.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>X||v<ne)throw new RangeError('"value" argument is out of bounds');if(T+A>k.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(v,T,A,X){if(v=+v,T=T>>>0,A=A>>>0,!X){var ne=Math.pow(2,8*A)-1;O(this,v,T,A,ne,0)}var j=1,ge=0;for(this[T]=v&255;++ge<A&&(j*=256);)this[T+ge]=v/j&255;return T+A},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(v,T,A,X){if(v=+v,T=T>>>0,A=A>>>0,!X){var ne=Math.pow(2,8*A)-1;O(this,v,T,A,ne,0)}var j=A-1,ge=1;for(this[T+j]=v&255;--j>=0&&(ge*=256);)this[T+j]=v/ge&255;return T+A},h.prototype.writeUint8=h.prototype.writeUInt8=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,1,255,0),this[T]=v&255,T+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,2,65535,0),this[T]=v&255,this[T+1]=v>>>8,T+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,2,65535,0),this[T]=v>>>8,this[T+1]=v&255,T+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,4,4294967295,0),this[T+3]=v>>>24,this[T+2]=v>>>16,this[T+1]=v>>>8,this[T]=v&255,T+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,4,4294967295,0),this[T]=v>>>24,this[T+1]=v>>>16,this[T+2]=v>>>8,this[T+3]=v&255,T+4},h.prototype.writeIntLE=function(v,T,A,X){if(v=+v,T=T>>>0,!X){var ne=Math.pow(2,8*A-1);O(this,v,T,A,ne-1,-ne)}var j=0,ge=1,De=0;for(this[T]=v&255;++j<A&&(ge*=256);)v<0&&De===0&&this[T+j-1]!==0&&(De=1),this[T+j]=(v/ge>>0)-De&255;return T+A},h.prototype.writeIntBE=function(v,T,A,X){if(v=+v,T=T>>>0,!X){var ne=Math.pow(2,8*A-1);O(this,v,T,A,ne-1,-ne)}var j=A-1,ge=1,De=0;for(this[T+j]=v&255;--j>=0&&(ge*=256);)v<0&&De===0&&this[T+j+1]!==0&&(De=1),this[T+j]=(v/ge>>0)-De&255;return T+A},h.prototype.writeInt8=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,1,127,-128),v<0&&(v=255+v+1),this[T]=v&255,T+1},h.prototype.writeInt16LE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,2,32767,-32768),this[T]=v&255,this[T+1]=v>>>8,T+2},h.prototype.writeInt16BE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,2,32767,-32768),this[T]=v>>>8,this[T+1]=v&255,T+2},h.prototype.writeInt32LE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,4,2147483647,-2147483648),this[T]=v&255,this[T+1]=v>>>8,this[T+2]=v>>>16,this[T+3]=v>>>24,T+4},h.prototype.writeInt32BE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[T]=v>>>24,this[T+1]=v>>>16,this[T+2]=v>>>8,this[T+3]=v&255,T+4};function J(k,v,T,A,X,ne){if(T+A>k.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Q(k,v,T,A,X){return v=+v,T=T>>>0,X||J(k,v,T,4),r.write(k,v,T,A,23,4),T+4}h.prototype.writeFloatLE=function(v,T,A){return Q(this,v,T,!0,A)},h.prototype.writeFloatBE=function(v,T,A){return Q(this,v,T,!1,A)};function ee(k,v,T,A,X){return v=+v,T=T>>>0,X||J(k,v,T,8),r.write(k,v,T,A,52,8),T+8}h.prototype.writeDoubleLE=function(v,T,A){return ee(this,v,T,!0,A)},h.prototype.writeDoubleBE=function(v,T,A){return ee(this,v,T,!1,A)},h.prototype.copy=function(v,T,A,X){if(!h.isBuffer(v))throw new TypeError("argument should be a Buffer");if(A||(A=0),!X&&X!==0&&(X=this.length),T>=v.length&&(T=v.length),T||(T=0),X>0&&X<A&&(X=A),X===A||v.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),v.length-T<X-A&&(X=v.length-T+A);var ne=X-A;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,A,X):Uint8Array.prototype.set.call(v,this.subarray(A,X),T),ne},h.prototype.fill=function(v,T,A,X){if(typeof v=="string"){if(typeof T=="string"?(X=T,T=0,A=this.length):typeof A=="string"&&(X=A,A=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!h.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(v.length===1){var ne=v.charCodeAt(0);(X==="utf8"&&ne<128||X==="latin1")&&(v=ne)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(T<0||this.length<T||this.length<A)throw new RangeError("Out of range index");if(A<=T)return this;T=T>>>0,A=A===void 0?this.length:A>>>0,v||(v=0);var j;if(typeof v=="number")for(j=T;j<A;++j)this[j]=v;else{var ge=h.isBuffer(v)?v:h.from(v,X),De=ge.length;if(De===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(j=0;j<A-T;++j)this[j+T]=ge[j%De]}return this};var $=/[^+/0-9A-Za-z-_]/g;function M(k){if(k=k.split("=")[0],k=k.trim().replace($,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function N(k,v){v=v||1/0;for(var T,A=k.length,X=null,ne=[],j=0;j<A;++j){if(T=k.charCodeAt(j),T>55295&&T<57344){if(!X){if(T>56319){(v-=3)>-1&&ne.push(239,191,189);continue}else if(j+1===A){(v-=3)>-1&&ne.push(239,191,189);continue}X=T;continue}if(T<56320){(v-=3)>-1&&ne.push(239,191,189),X=T;continue}T=(X-55296<<10|T-56320)+65536}else X&&(v-=3)>-1&&ne.push(239,191,189);if(X=null,T<128){if((v-=1)<0)break;ne.push(T)}else if(T<2048){if((v-=2)<0)break;ne.push(T>>6|192,T&63|128)}else if(T<65536){if((v-=3)<0)break;ne.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((v-=4)<0)break;ne.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ne}function te(k){for(var v=[],T=0;T<k.length;++T)v.push(k.charCodeAt(T)&255);return v}function W(k,v){for(var T,A,X,ne=[],j=0;j<k.length&&!((v-=2)<0);++j)T=k.charCodeAt(j),A=T>>8,X=T%256,ne.push(X),ne.push(A);return ne}function G(k){return e.toByteArray(M(k))}function F(k,v,T,A){for(var X=0;X<A&&!(X+T>=v.length||X>=k.length);++X)v[X+T]=k[X];return X}function ie(k,v){return k instanceof v||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===v.name}function b(k){return k!==k}var re=(function(){for(var k="0123456789abcdef",v=new Array(256),T=0;T<16;++T)for(var A=T*16,X=0;X<16;++X)v[A+X]=k[T]+k[X];return v})()})(Cf)),Cf}var Af={},Rf={},Nf,D0;function Ow(){return D0||(D0=1,Nf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,r);if(d.value!==a||d.enumerable!==!0)return!1}return!0}),Nf}var Df,M0;function Yd(){if(M0)return Df;M0=1;var t=Ow();return Df=function(){return t()&&!!Symbol.toStringTag},Df}var Mf,I0;function z5(){if(I0)return Mf;I0=1;var t=typeof Symbol<"u"&&Symbol,e=Ow();return Mf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Mf}var If,k0;function G5(){if(k0)return If;k0=1;var t={foo:{}},e=Object;return If=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},If}var kf,U0;function V5(){if(U0)return kf;U0=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,o="[object Function]",a=function(p,m){for(var y=[],w=0;w<p.length;w+=1)y[w]=p[w];for(var S=0;S<m.length;S+=1)y[S+p.length]=m[S];return y},c=function(p,m){for(var y=[],w=m,S=0;w<p.length;w+=1,S+=1)y[S]=p[w];return y},d=function(h,p){for(var m="",y=0;y<h.length;y+=1)m+=h[y],y+1<h.length&&(m+=p);return m};return kf=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==o)throw new TypeError(t+m);for(var y=c(arguments,1),w,S=function(){if(this instanceof w){var R=m.apply(this,a(y,arguments));return Object(R)===R?R:this}return m.apply(p,a(y,arguments))},E=r(0,m.length-y.length),D=[],C=0;C<E;C++)D[C]="$"+C;if(w=Function("binder","return function ("+d(D,",")+"){ return binder.apply(this,arguments); }")(S),m.prototype){var U=function(){};U.prototype=m.prototype,w.prototype=new U,U.prototype=null}return w},kf}var Uf,L0;function Jd(){if(L0)return Uf;L0=1;var t=V5();return Uf=Function.prototype.bind||t,Uf}var Lf,B0;function q5(){if(B0)return Lf;B0=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Jd();return Lf=r.call(t,e),Lf}var Bf,P0;function Yo(){if(P0)return Bf;P0=1;var t,e=SyntaxError,r=Function,o=TypeError,a=function(Z){try{return r('"use strict"; return ('+Z+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var d=function(){throw new o},h=c?(function(){try{return arguments.callee,d}catch{try{return c(arguments,"callee").get}catch{return d}}})():d,p=z5()(),m=G5()(),y=Object.getPrototypeOf||(m?function(Z){return Z.__proto__}:null),w={},S=typeof Uint8Array>"u"||!y?t:y(Uint8Array),E={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":p&&y?y([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":w,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&y?y(y([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!p||!y?t:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!p||!y?t:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&y?y(""[Symbol.iterator]()):t,"%Symbol%":p?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":h,"%TypedArray%":S,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(y)try{null.error}catch(Z){var D=y(y(Z));E["%Error.prototype%"]=D}var C=function Z(pe){var B;if(pe==="%AsyncFunction%")B=a("async function () {}");else if(pe==="%GeneratorFunction%")B=a("function* () {}");else if(pe==="%AsyncGeneratorFunction%")B=a("async function* () {}");else if(pe==="%AsyncGenerator%"){var he=Z("%AsyncGeneratorFunction%");he&&(B=he.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var le=Z("%AsyncGenerator%");le&&y&&(B=y(le.prototype))}return E[pe]=B,B},U={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=Jd(),I=q5(),P=R.call(Function.call,Array.prototype.concat),H=R.call(Function.apply,Array.prototype.splice),q=R.call(Function.call,String.prototype.replace),ce=R.call(Function.call,String.prototype.slice),ae=R.call(Function.call,RegExp.prototype.exec),de=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,Te=function(pe){var B=ce(pe,0,1),he=ce(pe,-1);if(B==="%"&&he!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(he==="%"&&B!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var le=[];return q(pe,de,function(se,Ce,ue,K){le[le.length]=ue?q(K,z,"$1"):Ce||se}),le},Re=function(pe,B){var he=pe,le;if(I(U,he)&&(le=U[he],he="%"+le[0]+"%"),I(E,he)){var se=E[he];if(se===w&&(se=C(he)),typeof se>"u"&&!B)throw new o("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:le,name:he,value:se}}throw new e("intrinsic "+pe+" does not exist!")};return Bf=function(pe,B){if(typeof pe!="string"||pe.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new o('"allowMissing" argument must be a boolean');if(ae(/^%?[^%]*%?$/,pe)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var he=Te(pe),le=he.length>0?he[0]:"",se=Re("%"+le+"%",B),Ce=se.name,ue=se.value,K=!1,Y=se.alias;Y&&(le=Y[0],H(he,P([0,1],Y)));for(var O=1,J=!0;O<he.length;O+=1){var Q=he[O],ee=ce(Q,0,1),$=ce(Q,-1);if((ee==='"'||ee==="'"||ee==="`"||$==='"'||$==="'"||$==="`")&&ee!==$)throw new e("property names with quotes must have matching quotes");if((Q==="constructor"||!J)&&(K=!0),le+="."+Q,Ce="%"+le+"%",I(E,Ce))ue=E[Ce];else if(ue!=null){if(!(Q in ue)){if(!B)throw new o("base intrinsic for "+pe+" exists, but the property is not available.");return}if(c&&O+1>=he.length){var M=c(ue,Q);J=!!M,J&&"get"in M&&!("originalValue"in M.get)?ue=M.get:ue=ue[Q]}else J=I(ue,Q),ue=ue[Q];J&&!K&&(E[Ce]=ue)}}return ue},Bf}var Pf={exports:{}},Of,O0;function Fw(){if(O0)return Of;O0=1;var t=Yo(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},Of=r,Of}var Ff,F0;function Wd(){if(F0)return Ff;F0=1;var t=Yo(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Ff=e,Ff}var zf,z0;function H5(){if(z0)return zf;z0=1;var t=Fw()(),e=Yo(),r=t&&e("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var o=e("%SyntaxError%"),a=e("%TypeError%"),c=Wd();return zf=function(h,p,m){if(!h||typeof h!="object"&&typeof h!="function")throw new a("`obj` must be an object or a function`");if(typeof p!="string"&&typeof p!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var y=arguments.length>3?arguments[3]:null,w=arguments.length>4?arguments[4]:null,S=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,D=!!c&&c(h,p);if(r)r(h,p,{configurable:S===null&&D?D.configurable:!S,enumerable:y===null&&D?D.enumerable:!y,value:m,writable:w===null&&D?D.writable:!w});else if(E||!y&&!w&&!S)h[p]=m;else throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},zf}var Gf,G0;function K5(){if(G0)return Gf;G0=1;var t=Yo(),e=H5(),r=Fw()(),o=Wd(),a=t("%TypeError%"),c=t("%Math.floor%");return Gf=function(h,p){if(typeof h!="function")throw new a("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||c(p)!==p)throw new a("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],y=!0,w=!0;if("length"in h&&o){var S=o(h,"length");S&&!S.configurable&&(y=!1),S&&!S.writable&&(w=!1)}return(y||w||!m)&&(r?e(h,"length",p,!0,!0):e(h,"length",p)),h},Gf}var V0;function zw(){return V0||(V0=1,(function(t){var e=Jd(),r=Yo(),o=K5(),a=r("%TypeError%"),c=r("%Function.prototype.apply%"),d=r("%Function.prototype.call%"),h=r("%Reflect.apply%",!0)||e.call(d,c),p=r("%Object.defineProperty%",!0),m=r("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}t.exports=function(S){if(typeof S!="function")throw new a("a function is required");var E=h(e,d,arguments);return o(E,1+m(0,S.length-(arguments.length-1)),!0)};var y=function(){return h(e,c,arguments)};p?p(t.exports,"apply",{value:y}):t.exports.apply=y})(Pf)),Pf.exports}var Vf,q0;function Gw(){if(q0)return Vf;q0=1;var t=Yo(),e=zw(),r=e(t("String.prototype.indexOf"));return Vf=function(a,c){var d=t(a,!!c);return typeof d=="function"&&r(a,".prototype.")>-1?e(d):d},Vf}var qf,H0;function Y5(){if(H0)return qf;H0=1;var t=Yd()(),e=Gw(),r=e("Object.prototype.toString"),o=function(h){return t&&h&&typeof h=="object"&&Symbol.toStringTag in h?!1:r(h)==="[object Arguments]"},a=function(h){return o(h)?!0:h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&r(h)!=="[object Array]"&&r(h.callee)==="[object Function]"},c=(function(){return o(arguments)})();return o.isLegacyArguments=a,qf=c?o:a,qf}var Hf,K0;function J5(){if(K0)return Hf;K0=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,o=Yd()(),a=Object.getPrototypeOf,c=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},d;return Hf=function(p){if(typeof p!="function")return!1;if(r.test(e.call(p)))return!0;if(!o){var m=t.call(p);return m==="[object GeneratorFunction]"}if(!a)return!1;if(typeof d>"u"){var y=c();d=y?a(y):!1}return a(p)===d},Hf}var Kf,Y0;function W5(){if(Y0)return Kf;Y0=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,r)}catch(I){I!==o&&(e=null)}else e=null;var a=/^\s*class\b/,c=function(P){try{var H=t.call(P);return a.test(H)}catch{return!1}},d=function(P){try{return c(P)?!1:(t.call(P),!0)}catch{return!1}},h=Object.prototype.toString,p="[object Object]",m="[object Function]",y="[object GeneratorFunction]",w="[object HTMLAllCollection]",S="[object HTML document.all class]",E="[object HTMLCollection]",D=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),U=function(){return!1};if(typeof document=="object"){var R=document.all;h.call(R)===h.call(document.all)&&(U=function(P){if((C||!P)&&(typeof P>"u"||typeof P=="object"))try{var H=h.call(P);return(H===w||H===S||H===E||H===p)&&P("")==null}catch{}return!1})}return Kf=e?function(P){if(U(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;try{e(P,null,r)}catch(H){if(H!==o)return!1}return!c(P)&&d(P)}:function(P){if(U(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;if(D)return d(P);if(c(P))return!1;var H=h.call(P);return H!==m&&H!==y&&!/^\[object HTML/.test(H)?!1:d(P)},Kf}var Yf,J0;function $5(){if(J0)return Yf;J0=1;var t=W5(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,o=function(p,m,y){for(var w=0,S=p.length;w<S;w++)r.call(p,w)&&(y==null?m(p[w],w,p):m.call(y,p[w],w,p))},a=function(p,m,y){for(var w=0,S=p.length;w<S;w++)y==null?m(p.charAt(w),w,p):m.call(y,p.charAt(w),w,p)},c=function(p,m,y){for(var w in p)r.call(p,w)&&(y==null?m(p[w],w,p):m.call(y,p[w],w,p))},d=function(p,m,y){if(!t(m))throw new TypeError("iterator must be a function");var w;arguments.length>=3&&(w=y),e.call(p)==="[object Array]"?o(p,m,w):typeof p=="string"?a(p,m,w):c(p,m,w)};return Yf=d,Yf}var Jf,W0;function X5(){if(W0)return Jf;W0=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?sr:globalThis;return Jf=function(){for(var o=[],a=0;a<t.length;a++)typeof e[t[a]]=="function"&&(o[o.length]=t[a]);return o},Jf}var Wf,$0;function Vw(){if($0)return Wf;$0=1;var t=$5(),e=X5(),r=zw(),o=Gw(),a=Wd(),c=o("Object.prototype.toString"),d=Yd()(),h=typeof globalThis>"u"?sr:globalThis,p=e(),m=o("String.prototype.slice"),y=Object.getPrototypeOf,w=o("Array.prototype.indexOf",!0)||function(U,R){for(var I=0;I<U.length;I+=1)if(U[I]===R)return I;return-1},S={__proto__:null};d&&a&&y?t(p,function(C){var U=new h[C];if(Symbol.toStringTag in U){var R=y(U),I=a(R,Symbol.toStringTag);if(!I){var P=y(R);I=a(P,Symbol.toStringTag)}S["$"+C]=r(I.get)}}):t(p,function(C){var U=new h[C],R=U.slice||U.set;R&&(S["$"+C]=r(R))});var E=function(U){var R=!1;return t(S,function(I,P){if(!R)try{"$"+I(U)===P&&(R=m(P,1))}catch{}}),R},D=function(U){var R=!1;return t(S,function(I,P){if(!R)try{I(U),R=m(P,1)}catch{}}),R};return Wf=function(U){if(!U||typeof U!="object")return!1;if(!d){var R=m(c(U),8,-1);return w(p,R)>-1?R:R!=="Object"?!1:D(U)}return a?E(U):null},Wf}var $f,X0;function Z5(){if(X0)return $f;X0=1;var t=Vw();return $f=function(r){return!!t(r)},$f}var Z0;function j5(){return Z0||(Z0=1,(function(t){var e=Y5(),r=J5(),o=Vw(),a=Z5();function c(A){return A.call.bind(A)}var d=typeof BigInt<"u",h=typeof Symbol<"u",p=c(Object.prototype.toString),m=c(Number.prototype.valueOf),y=c(String.prototype.valueOf),w=c(Boolean.prototype.valueOf);if(d)var S=c(BigInt.prototype.valueOf);if(h)var E=c(Symbol.prototype.valueOf);function D(A,X){if(typeof A!="object")return!1;try{return X(A),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=a;function C(A){return typeof Promise<"u"&&A instanceof Promise||A!==null&&typeof A=="object"&&typeof A.then=="function"&&typeof A.catch=="function"}t.isPromise=C;function U(A){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(A):a(A)||J(A)}t.isArrayBufferView=U;function R(A){return o(A)==="Uint8Array"}t.isUint8Array=R;function I(A){return o(A)==="Uint8ClampedArray"}t.isUint8ClampedArray=I;function P(A){return o(A)==="Uint16Array"}t.isUint16Array=P;function H(A){return o(A)==="Uint32Array"}t.isUint32Array=H;function q(A){return o(A)==="Int8Array"}t.isInt8Array=q;function ce(A){return o(A)==="Int16Array"}t.isInt16Array=ce;function ae(A){return o(A)==="Int32Array"}t.isInt32Array=ae;function de(A){return o(A)==="Float32Array"}t.isFloat32Array=de;function z(A){return o(A)==="Float64Array"}t.isFloat64Array=z;function Te(A){return o(A)==="BigInt64Array"}t.isBigInt64Array=Te;function Re(A){return o(A)==="BigUint64Array"}t.isBigUint64Array=Re;function Z(A){return p(A)==="[object Map]"}Z.working=typeof Map<"u"&&Z(new Map);function pe(A){return typeof Map>"u"?!1:Z.working?Z(A):A instanceof Map}t.isMap=pe;function B(A){return p(A)==="[object Set]"}B.working=typeof Set<"u"&&B(new Set);function he(A){return typeof Set>"u"?!1:B.working?B(A):A instanceof Set}t.isSet=he;function le(A){return p(A)==="[object WeakMap]"}le.working=typeof WeakMap<"u"&&le(new WeakMap);function se(A){return typeof WeakMap>"u"?!1:le.working?le(A):A instanceof WeakMap}t.isWeakMap=se;function Ce(A){return p(A)==="[object WeakSet]"}Ce.working=typeof WeakSet<"u"&&Ce(new WeakSet);function ue(A){return Ce(A)}t.isWeakSet=ue;function K(A){return p(A)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function Y(A){return typeof ArrayBuffer>"u"?!1:K.working?K(A):A instanceof ArrayBuffer}t.isArrayBuffer=Y;function O(A){return p(A)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function J(A){return typeof DataView>"u"?!1:O.working?O(A):A instanceof DataView}t.isDataView=J;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(A){return p(A)==="[object SharedArrayBuffer]"}function $(A){return typeof Q>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new Q)),ee.working?ee(A):A instanceof Q)}t.isSharedArrayBuffer=$;function M(A){return p(A)==="[object AsyncFunction]"}t.isAsyncFunction=M;function N(A){return p(A)==="[object Map Iterator]"}t.isMapIterator=N;function te(A){return p(A)==="[object Set Iterator]"}t.isSetIterator=te;function W(A){return p(A)==="[object Generator]"}t.isGeneratorObject=W;function G(A){return p(A)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=G;function F(A){return D(A,m)}t.isNumberObject=F;function ie(A){return D(A,y)}t.isStringObject=ie;function b(A){return D(A,w)}t.isBooleanObject=b;function re(A){return d&&D(A,S)}t.isBigIntObject=re;function k(A){return h&&D(A,E)}t.isSymbolObject=k;function v(A){return F(A)||ie(A)||b(A)||re(A)||k(A)}t.isBoxedPrimitive=v;function T(A){return typeof Uint8Array<"u"&&(Y(A)||$(A))}t.isAnyArrayBuffer=T,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(A){Object.defineProperty(t,A,{enumerable:!1,value:function(){throw new Error(A+" is not supported in userland")}})})})(Rf)),Rf}var Xf,j0;function Q5(){return j0||(j0=1,Xf=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Xf}var Q0;function qw(){return Q0||(Q0=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(J){for(var Q=Object.keys(J),ee={},$=0;$<Q.length;$++)ee[Q[$]]=Object.getOwnPropertyDescriptor(J,Q[$]);return ee},r=/%[sdj%]/g;t.format=function(O){if(!q(O)){for(var J=[],Q=0;Q<arguments.length;Q++)J.push(d(arguments[Q]));return J.join(" ")}for(var Q=1,ee=arguments,$=ee.length,M=String(O).replace(r,function(te){if(te==="%%")return"%";if(Q>=$)return te;switch(te){case"%s":return String(ee[Q++]);case"%d":return Number(ee[Q++]);case"%j":try{return JSON.stringify(ee[Q++])}catch{return"[Circular]"}default:return te}}),N=ee[Q];Q<$;N=ee[++Q])I(N)||!z(N)?M+=" "+N:M+=" "+d(N);return M},t.deprecate=function(O,J){if(typeof tt<"u"&&tt.noDeprecation===!0)return O;if(typeof tt>"u")return function(){return t.deprecate(O,J).apply(this,arguments)};var Q=!1;function ee(){if(!Q){if(tt.throwDeprecation)throw new Error(J);tt.traceDeprecation?console.trace(J):console.error(J),Q=!0}return O.apply(this,arguments)}return ee};var o={},a=/^$/;if(tt.env.NODE_DEBUG){var c=tt.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}t.debuglog=function(O){if(O=O.toUpperCase(),!o[O])if(a.test(O)){var J=tt.pid;o[O]=function(){var Q=t.format.apply(t,arguments);console.error("%s %d: %s",O,J,Q)}}else o[O]=function(){};return o[O]};function d(O,J){var Q={seen:[],stylize:p};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),R(J)?Q.showHidden=J:J&&t._extend(Q,J),ae(Q.showHidden)&&(Q.showHidden=!1),ae(Q.depth)&&(Q.depth=2),ae(Q.colors)&&(Q.colors=!1),ae(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=h),y(Q,O,Q.depth)}t.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(O,J){var Q=d.styles[J];return Q?"\x1B["+d.colors[Q][0]+"m"+O+"\x1B["+d.colors[Q][1]+"m":O}function p(O,J){return O}function m(O){var J={};return O.forEach(function(Q,ee){J[Q]=!0}),J}function y(O,J,Q){if(O.customInspect&&J&&Z(J.inspect)&&J.inspect!==t.inspect&&!(J.constructor&&J.constructor.prototype===J)){var ee=J.inspect(Q,O);return q(ee)||(ee=y(O,ee,Q)),ee}var $=w(O,J);if($)return $;var M=Object.keys(J),N=m(M);if(O.showHidden&&(M=Object.getOwnPropertyNames(J)),Re(J)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return S(J);if(M.length===0){if(Z(J)){var te=J.name?": "+J.name:"";return O.stylize("[Function"+te+"]","special")}if(de(J))return O.stylize(RegExp.prototype.toString.call(J),"regexp");if(Te(J))return O.stylize(Date.prototype.toString.call(J),"date");if(Re(J))return S(J)}var W="",G=!1,F=["{","}"];if(U(J)&&(G=!0,F=["[","]"]),Z(J)){var ie=J.name?": "+J.name:"";W=" [Function"+ie+"]"}if(de(J)&&(W=" "+RegExp.prototype.toString.call(J)),Te(J)&&(W=" "+Date.prototype.toUTCString.call(J)),Re(J)&&(W=" "+S(J)),M.length===0&&(!G||J.length==0))return F[0]+W+F[1];if(Q<0)return de(J)?O.stylize(RegExp.prototype.toString.call(J),"regexp"):O.stylize("[Object]","special");O.seen.push(J);var b;return G?b=E(O,J,Q,N,M):b=M.map(function(re){return D(O,J,Q,N,re,G)}),O.seen.pop(),C(b,W,F)}function w(O,J){if(ae(J))return O.stylize("undefined","undefined");if(q(J)){var Q="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(Q,"string")}if(H(J))return O.stylize(""+J,"number");if(R(J))return O.stylize(""+J,"boolean");if(I(J))return O.stylize("null","null")}function S(O){return"["+Error.prototype.toString.call(O)+"]"}function E(O,J,Q,ee,$){for(var M=[],N=0,te=J.length;N<te;++N)Ce(J,String(N))?M.push(D(O,J,Q,ee,String(N),!0)):M.push("");return $.forEach(function(W){W.match(/^\d+$/)||M.push(D(O,J,Q,ee,W,!0))}),M}function D(O,J,Q,ee,$,M){var N,te,W;if(W=Object.getOwnPropertyDescriptor(J,$)||{value:J[$]},W.get?W.set?te=O.stylize("[Getter/Setter]","special"):te=O.stylize("[Getter]","special"):W.set&&(te=O.stylize("[Setter]","special")),Ce(ee,$)||(N="["+$+"]"),te||(O.seen.indexOf(W.value)<0?(I(Q)?te=y(O,W.value,null):te=y(O,W.value,Q-1),te.indexOf(`
`)>-1&&(M?te=te.split(`
`).map(function(G){return"  "+G}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(G){return"   "+G}).join(`
`))):te=O.stylize("[Circular]","special")),ae(N)){if(M&&$.match(/^\d+$/))return te;N=JSON.stringify(""+$),N.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.slice(1,-1),N=O.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=O.stylize(N,"string"))}return N+": "+te}function C(O,J,Q){var ee=O.reduce(function($,M){return M.indexOf(`
`)>=0,$+M.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ee>60?Q[0]+(J===""?"":J+`
 `)+" "+O.join(`,
  `)+" "+Q[1]:Q[0]+J+" "+O.join(", ")+" "+Q[1]}t.types=j5();function U(O){return Array.isArray(O)}t.isArray=U;function R(O){return typeof O=="boolean"}t.isBoolean=R;function I(O){return O===null}t.isNull=I;function P(O){return O==null}t.isNullOrUndefined=P;function H(O){return typeof O=="number"}t.isNumber=H;function q(O){return typeof O=="string"}t.isString=q;function ce(O){return typeof O=="symbol"}t.isSymbol=ce;function ae(O){return O===void 0}t.isUndefined=ae;function de(O){return z(O)&&B(O)==="[object RegExp]"}t.isRegExp=de,t.types.isRegExp=de;function z(O){return typeof O=="object"&&O!==null}t.isObject=z;function Te(O){return z(O)&&B(O)==="[object Date]"}t.isDate=Te,t.types.isDate=Te;function Re(O){return z(O)&&(B(O)==="[object Error]"||O instanceof Error)}t.isError=Re,t.types.isNativeError=Re;function Z(O){return typeof O=="function"}t.isFunction=Z;function pe(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}t.isPrimitive=pe,t.isBuffer=Q5();function B(O){return Object.prototype.toString.call(O)}function he(O){return O<10?"0"+O.toString(10):O.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function se(){var O=new Date,J=[he(O.getHours()),he(O.getMinutes()),he(O.getSeconds())].join(":");return[O.getDate(),le[O.getMonth()],J].join(" ")}t.log=function(){console.log("%s - %s",se(),t.format.apply(t,arguments))},t.inherits=Ii,t._extend=function(O,J){if(!J||!z(J))return O;for(var Q=Object.keys(J),ee=Q.length;ee--;)O[Q[ee]]=J[Q[ee]];return O};function Ce(O,J){return Object.prototype.hasOwnProperty.call(O,J)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&J[ue]){var Q=J[ue];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,ue,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var ee,$,M=new Promise(function(W,G){ee=W,$=G}),N=[],te=0;te<arguments.length;te++)N.push(arguments[te]);N.push(function(W,G){W?$(W):ee(G)});try{J.apply(this,N)}catch(W){$(W)}return M}return Object.setPrototypeOf(Q,Object.getPrototypeOf(J)),ue&&Object.defineProperty(Q,ue,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,e(J))},t.promisify.custom=ue;function K(O,J){if(!O){var Q=new Error("Promise was rejected with a falsy value");Q.reason=O,O=Q}return J(O)}function Y(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var Q=[],ee=0;ee<arguments.length;ee++)Q.push(arguments[ee]);var $=Q.pop();if(typeof $!="function")throw new TypeError("The last argument must be of type Function");var M=this,N=function(){return $.apply(M,arguments)};O.apply(this,Q).then(function(te){tt.nextTick(N.bind(null,null,te))},function(te){tt.nextTick(K.bind(null,te,N))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(O)),Object.defineProperties(J,e(O)),J}t.callbackify=Y})(Af)),Af}var Zf,ev;function eI(){if(ev)return Zf;ev=1;function t(S,E){var D=Object.keys(S);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(S);E&&(C=C.filter(function(U){return Object.getOwnPropertyDescriptor(S,U).enumerable})),D.push.apply(D,C)}return D}function e(S){for(var E=1;E<arguments.length;E++){var D=arguments[E]!=null?arguments[E]:{};E%2?t(Object(D),!0).forEach(function(C){r(S,C,D[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(C){Object.defineProperty(S,C,Object.getOwnPropertyDescriptor(D,C))})}return S}function r(S,E,D){return E in S?Object.defineProperty(S,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[E]=D,S}function o(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function a(S,E){for(var D=0;D<E.length;D++){var C=E[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}function c(S,E,D){return E&&a(S.prototype,E),S}var d=su(),h=d.Buffer,p=qw(),m=p.inspect,y=m&&m.custom||"inspect";function w(S,E,D){h.prototype.copy.call(S,E,D)}return Zf=(function(){function S(){o(this,S),this.head=null,this.tail=null,this.length=0}return c(S,[{key:"push",value:function(D){var C={data:D,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(D){var C={data:D,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var D=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,D}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(D){if(this.length===0)return"";for(var C=this.head,U=""+C.data;C=C.next;)U+=D+C.data;return U}},{key:"concat",value:function(D){if(this.length===0)return h.alloc(0);for(var C=h.allocUnsafe(D>>>0),U=this.head,R=0;U;)w(U.data,C,R),R+=U.data.length,U=U.next;return C}},{key:"consume",value:function(D,C){var U;return D<this.head.data.length?(U=this.head.data.slice(0,D),this.head.data=this.head.data.slice(D)):D===this.head.data.length?U=this.shift():U=C?this._getString(D):this._getBuffer(D),U}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(D){var C=this.head,U=1,R=C.data;for(D-=R.length;C=C.next;){var I=C.data,P=D>I.length?I.length:D;if(P===I.length?R+=I:R+=I.slice(0,D),D-=P,D===0){P===I.length?(++U,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=I.slice(P));break}++U}return this.length-=U,R}},{key:"_getBuffer",value:function(D){var C=h.allocUnsafe(D),U=this.head,R=1;for(U.data.copy(C),D-=U.data.length;U=U.next;){var I=U.data,P=D>I.length?I.length:D;if(I.copy(C,C.length-D,0,P),D-=P,D===0){P===I.length?(++R,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=I.slice(P));break}++R}return this.length-=R,C}},{key:y,value:function(D,C){return m(this,e({},C,{depth:0,customInspect:!1}))}}]),S})(),Zf}var jf,tv;function Hw(){if(tv)return jf;tv=1;function t(d,h){var p=this,m=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return m||y?(h?h(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,tt.nextTick(a,this,d)):tt.nextTick(a,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(w){!h&&w?p._writableState?p._writableState.errorEmitted?tt.nextTick(r,p):(p._writableState.errorEmitted=!0,tt.nextTick(e,p,w)):tt.nextTick(e,p,w):h?(tt.nextTick(r,p),h(w)):tt.nextTick(r,p)}),this)}function e(d,h){a(d,h),r(d)}function r(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(d,h){d.emit("error",h)}function c(d,h){var p=d._readableState,m=d._writableState;p&&p.autoDestroy||m&&m.autoDestroy?d.destroy(h):d.emit("error",h)}return jf={destroy:t,undestroy:o,errorOrDestroy:c},jf}var Qf={},nv;function Jo(){if(nv)return Qf;nv=1;function t(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var e={};function r(h,p,m){m||(m=Error);function y(S,E,D){return typeof p=="string"?p:p(S,E,D)}var w=(function(S){t(E,S);function E(D,C,U){return S.call(this,y(D,C,U))||this}return E})(m);w.prototype.name=m.name,w.prototype.code=h,e[h]=w}function o(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(y){return String(y)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function a(h,p,m){return h.substr(0,p.length)===p}function c(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function d(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}return r("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(h,p,m){var y;typeof p=="string"&&a(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var w;if(c(h," argument"))w="The ".concat(h," ").concat(y," ").concat(o(p,"type"));else{var S=d(h,".")?"property":"argument";w='The "'.concat(h,'" ').concat(S," ").concat(y," ").concat(o(p,"type"))}return w+=". Received type ".concat(typeof m),w},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Qf.codes=e,Qf}var ed,rv;function Kw(){if(rv)return ed;rv=1;var t=Jo().codes.ERR_INVALID_OPT_VALUE;function e(o,a,c){return o.highWaterMark!=null?o.highWaterMark:a?o[c]:null}function r(o,a,c,d){var h=e(a,d,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var p=d?c:"highWaterMark";throw new t(p,h)}return Math.floor(h)}return o.objectMode?16:16*1024}return ed={getHighWaterMark:r},ed}var td,iv;function tI(){if(iv)return td;iv=1,td=t;function t(r,o){if(e("noDeprecation"))return r;var a=!1;function c(){if(!a){if(e("throwDeprecation"))throw new Error(o);e("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return r.apply(this,arguments)}return c}function e(r){try{if(!sr.localStorage)return!1}catch{return!1}var o=sr.localStorage[r];return o==null?!1:String(o).toLowerCase()==="true"}return td}var nd,ov;function Yw(){if(ov)return nd;ov=1,nd=de;function t($){var M=this;this.next=null,this.entry=null,this.finish=function(){ee(M,$)}}var e;de.WritableState=ce;var r={deprecate:tI()},o=Pw(),a=su().Buffer,c=sr.Uint8Array||function(){};function d($){return a.from($)}function h($){return a.isBuffer($)||$ instanceof c}var p=Hw(),m=Kw(),y=m.getHighWaterMark,w=Jo().codes,S=w.ERR_INVALID_ARG_TYPE,E=w.ERR_METHOD_NOT_IMPLEMENTED,D=w.ERR_MULTIPLE_CALLBACK,C=w.ERR_STREAM_CANNOT_PIPE,U=w.ERR_STREAM_DESTROYED,R=w.ERR_STREAM_NULL_VALUES,I=w.ERR_STREAM_WRITE_AFTER_END,P=w.ERR_UNKNOWN_ENCODING,H=p.errorOrDestroy;Ii(de,o);function q(){}function ce($,M,N){e=e||Lo(),$=$||{},typeof N!="boolean"&&(N=M instanceof e),this.objectMode=!!$.objectMode,N&&(this.objectMode=this.objectMode||!!$.writableObjectMode),this.highWaterMark=y(this,$,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=$.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){le(M,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}ce.prototype.getBuffer=function(){for(var M=this.bufferedRequest,N=[];M;)N.push(M),M=M.next;return N},(function(){try{Object.defineProperty(ce.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ae;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(de,Symbol.hasInstance,{value:function(M){return ae.call(this,M)?!0:this!==de?!1:M&&M._writableState instanceof ce}})):ae=function(M){return M instanceof this};function de($){e=e||Lo();var M=this instanceof e;if(!M&&!ae.call(de,this))return new de($);this._writableState=new ce($,this,M),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),o.call(this)}de.prototype.pipe=function(){H(this,new C)};function z($,M){var N=new I;H($,N),tt.nextTick(M,N)}function Te($,M,N,te){var W;return N===null?W=new R:typeof N!="string"&&!M.objectMode&&(W=new S("chunk",["string","Buffer"],N)),W?(H($,W),tt.nextTick(te,W),!1):!0}de.prototype.write=function($,M,N){var te=this._writableState,W=!1,G=!te.objectMode&&h($);return G&&!a.isBuffer($)&&($=d($)),typeof M=="function"&&(N=M,M=null),G?M="buffer":M||(M=te.defaultEncoding),typeof N!="function"&&(N=q),te.ending?z(this,N):(G||Te(this,te,$,N))&&(te.pendingcb++,W=Z(this,te,G,$,M,N)),W},de.prototype.cork=function(){this._writableState.corked++},de.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,!$.writing&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ue(this,$))},de.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new P(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(de.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Re($,M,N){return!$.objectMode&&$.decodeStrings!==!1&&typeof M=="string"&&(M=a.from(M,N)),M}Object.defineProperty(de.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Z($,M,N,te,W,G){if(!N){var F=Re(M,te,W);te!==F&&(N=!0,W="buffer",te=F)}var ie=M.objectMode?1:te.length;M.length+=ie;var b=M.length<M.highWaterMark;if(b||(M.needDrain=!0),M.writing||M.corked){var re=M.lastBufferedRequest;M.lastBufferedRequest={chunk:te,encoding:W,isBuf:N,callback:G,next:null},re?re.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else pe($,M,!1,ie,te,W,G);return b}function pe($,M,N,te,W,G,F){M.writelen=te,M.writecb=F,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new U("write")):N?$._writev(W,M.onwrite):$._write(W,G,M.onwrite),M.sync=!1}function B($,M,N,te,W){--M.pendingcb,N?(tt.nextTick(W,te),tt.nextTick(J,$,M),$._writableState.errorEmitted=!0,H($,te)):(W(te),$._writableState.errorEmitted=!0,H($,te),J($,M))}function he($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function le($,M){var N=$._writableState,te=N.sync,W=N.writecb;if(typeof W!="function")throw new D;if(he(N),M)B($,N,te,M,W);else{var G=K(N)||$.destroyed;!G&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&ue($,N),te?tt.nextTick(se,$,N,G,W):se($,N,G,W)}}function se($,M,N,te){N||Ce($,M),M.pendingcb--,te(),J($,M)}function Ce($,M){M.length===0&&M.needDrain&&(M.needDrain=!1,$.emit("drain"))}function ue($,M){M.bufferProcessing=!0;var N=M.bufferedRequest;if($._writev&&N&&N.next){var te=M.bufferedRequestCount,W=new Array(te),G=M.corkedRequestsFree;G.entry=N;for(var F=0,ie=!0;N;)W[F]=N,N.isBuf||(ie=!1),N=N.next,F+=1;W.allBuffers=ie,pe($,M,!0,M.length,W,"",G.finish),M.pendingcb++,M.lastBufferedRequest=null,G.next?(M.corkedRequestsFree=G.next,G.next=null):M.corkedRequestsFree=new t(M),M.bufferedRequestCount=0}else{for(;N;){var b=N.chunk,re=N.encoding,k=N.callback,v=M.objectMode?1:b.length;if(pe($,M,!1,v,b,re,k),N=N.next,M.bufferedRequestCount--,M.writing)break}N===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=N,M.bufferProcessing=!1}de.prototype._write=function($,M,N){N(new E("_write()"))},de.prototype._writev=null,de.prototype.end=function($,M,N){var te=this._writableState;return typeof $=="function"?(N=$,$=null,M=null):typeof M=="function"&&(N=M,M=null),$!=null&&this.write($,M),te.corked&&(te.corked=1,this.uncork()),te.ending||Q(this,te,N),this},Object.defineProperty(de.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function K($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function Y($,M){$._final(function(N){M.pendingcb--,N&&H($,N),M.prefinished=!0,$.emit("prefinish"),J($,M)})}function O($,M){!M.prefinished&&!M.finalCalled&&(typeof $._final=="function"&&!M.destroyed?(M.pendingcb++,M.finalCalled=!0,tt.nextTick(Y,$,M)):(M.prefinished=!0,$.emit("prefinish")))}function J($,M){var N=K(M);if(N&&(O($,M),M.pendingcb===0&&(M.finished=!0,$.emit("finish"),M.autoDestroy))){var te=$._readableState;(!te||te.autoDestroy&&te.endEmitted)&&$.destroy()}return N}function Q($,M,N){M.ending=!0,J($,M),N&&(M.finished?tt.nextTick(N):$.once("finish",N)),M.ended=!0,$.writable=!1}function ee($,M,N){var te=$.entry;for($.entry=null;te;){var W=te.callback;M.pendingcb--,W(N),te=te.next}M.corkedRequestsFree.next=$}return Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),de.prototype.destroy=p.destroy,de.prototype._undestroy=p.undestroy,de.prototype._destroy=function($,M){M($)},nd}var rd,sv;function Lo(){if(sv)return rd;sv=1;var t=Object.keys||function(m){var y=[];for(var w in m)y.push(w);return y};rd=d;var e=Jw(),r=Yw();Ii(d,e);for(var o=t(r.prototype),a=0;a<o.length;a++){var c=o[a];d.prototype[c]||(d.prototype[c]=r.prototype[c])}function d(m){if(!(this instanceof d))return new d(m);e.call(this,m),r.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||tt.nextTick(p,this)}function p(m){m.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),rd}var id={},Il={exports:{}},av;function nI(){return av||(av=1,(function(t,e){var r=su(),o=r.Buffer;function a(d,h){for(var p in d)h[p]=d[p]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=c);function c(d,h,p){return o(d,h,p)}a(o,c),c.from=function(d,h,p){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,h,p)},c.alloc=function(d,h,p){if(typeof d!="number")throw new TypeError("Argument must be a number");var m=o(d);return h!==void 0?typeof p=="string"?m.fill(h,p):m.fill(h):m.fill(0),m},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}})(Il,Il.exports)),Il.exports}var lv;function Id(){if(lv)return id;lv=1;var t=nI().Buffer,e=t.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(R){if(!R)return"utf8";for(var I;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(I)return;R=(""+R).toLowerCase(),I=!0}}function o(R){var I=r(R);if(typeof I!="string"&&(t.isEncoding===e||!e(R)))throw new Error("Unknown encoding: "+R);return I||R}id.StringDecoder=a;function a(R){this.encoding=o(R);var I;switch(this.encoding){case"utf16le":this.text=w,this.end=S,I=4;break;case"utf8":this.fillLast=p,I=4;break;case"base64":this.text=E,this.end=D,I=3;break;default:this.write=C,this.end=U;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}a.prototype.write=function(R){if(R.length===0)return"";var I,P;if(this.lastNeed){if(I=this.fillLast(R),I===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<R.length?I?I+this.text(R,P):this.text(R,P):I||""},a.prototype.end=y,a.prototype.text=m,a.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function c(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}function d(R,I,P){var H=I.length-1;if(H<P)return 0;var q=c(I[H]);return q>=0?(q>0&&(R.lastNeed=q-1),q):--H<P||q===-2?0:(q=c(I[H]),q>=0?(q>0&&(R.lastNeed=q-2),q):--H<P||q===-2?0:(q=c(I[H]),q>=0?(q>0&&(q===2?q=0:R.lastNeed=q-3),q):0))}function h(R,I,P){if((I[0]&192)!==128)return R.lastNeed=0,"";if(R.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return R.lastNeed=1,"";if(R.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return R.lastNeed=2,""}}function p(R){var I=this.lastTotal-this.lastNeed,P=h(this,R);if(P!==void 0)return P;if(this.lastNeed<=R.length)return R.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,I,0,R.length),this.lastNeed-=R.length}function m(R,I){var P=d(this,R,I);if(!this.lastNeed)return R.toString("utf8",I);this.lastTotal=P;var H=R.length-(P-this.lastNeed);return R.copy(this.lastChar,0,H),R.toString("utf8",I,H)}function y(R){var I=R&&R.length?this.write(R):"";return this.lastNeed?I+"":I}function w(R,I){if((R.length-I)%2===0){var P=R.toString("utf16le",I);if(P){var H=P.charCodeAt(P.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",I,R.length-1)}function S(R){var I=R&&R.length?this.write(R):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,P)}return I}function E(R,I){var P=(R.length-I)%3;return P===0?R.toString("base64",I):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",I,R.length-P))}function D(R){var I=R&&R.length?this.write(R):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function C(R){return R.toString(this.encoding)}function U(R){return R&&R.length?this.write(R):""}return id}var od,uv;function $d(){if(uv)return od;uv=1;var t=Jo().codes.ERR_STREAM_PREMATURE_CLOSE;function e(c){var d=!1;return function(){if(!d){d=!0;for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];c.apply(this,p)}}}function r(){}function o(c){return c.setHeader&&typeof c.abort=="function"}function a(c,d,h){if(typeof d=="function")return a(c,null,d);d||(d={}),h=e(h||r);var p=d.readable||d.readable!==!1&&c.readable,m=d.writable||d.writable!==!1&&c.writable,y=function(){c.writable||S()},w=c._writableState&&c._writableState.finished,S=function(){m=!1,w=!0,p||h.call(c)},E=c._readableState&&c._readableState.endEmitted,D=function(){p=!1,E=!0,m||h.call(c)},C=function(P){h.call(c,P)},U=function(){var P;if(p&&!E)return(!c._readableState||!c._readableState.ended)&&(P=new t),h.call(c,P);if(m&&!w)return(!c._writableState||!c._writableState.ended)&&(P=new t),h.call(c,P)},R=function(){c.req.on("finish",S)};return o(c)?(c.on("complete",S),c.on("abort",U),c.req?R():c.on("request",R)):m&&!c._writableState&&(c.on("end",y),c.on("close",y)),c.on("end",D),c.on("finish",S),d.error!==!1&&c.on("error",C),c.on("close",U),function(){c.removeListener("complete",S),c.removeListener("abort",U),c.removeListener("request",R),c.req&&c.req.removeListener("finish",S),c.removeListener("end",y),c.removeListener("close",y),c.removeListener("finish",S),c.removeListener("end",D),c.removeListener("error",C),c.removeListener("close",U)}}return od=a,od}var sd,cv;function rI(){if(cv)return sd;cv=1;var t;function e(R,I,P){return I in R?Object.defineProperty(R,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):R[I]=P,R}var r=$d(),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),m=Symbol("stream");function y(R,I){return{value:R,done:I}}function w(R){var I=R[o];if(I!==null){var P=R[m].read();P!==null&&(R[h]=null,R[o]=null,R[a]=null,I(y(P,!1)))}}function S(R){tt.nextTick(w,R)}function E(R,I){return function(P,H){R.then(function(){if(I[d]){P(y(void 0,!0));return}I[p](P,H)},H)}}var D=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((t={get stream(){return this[m]},next:function(){var I=this,P=this[c];if(P!==null)return Promise.reject(P);if(this[d])return Promise.resolve(y(void 0,!0));if(this[m].destroyed)return new Promise(function(ae,de){tt.nextTick(function(){I[c]?de(I[c]):ae(y(void 0,!0))})});var H=this[h],q;if(H)q=new Promise(E(H,this));else{var ce=this[m].read();if(ce!==null)return Promise.resolve(y(ce,!1));q=new Promise(this[p])}return this[h]=q,q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var I=this;return new Promise(function(P,H){I[m].destroy(null,function(q){if(q){H(q);return}P(y(void 0,!0))})})}),t),D),U=function(I){var P,H=Object.create(C,(P={},e(P,m,{value:I,writable:!0}),e(P,o,{value:null,writable:!0}),e(P,a,{value:null,writable:!0}),e(P,c,{value:null,writable:!0}),e(P,d,{value:I._readableState.endEmitted,writable:!0}),e(P,p,{value:function(ce,ae){var de=H[m].read();de?(H[h]=null,H[o]=null,H[a]=null,ce(y(de,!1))):(H[o]=ce,H[a]=ae)},writable:!0}),P));return H[h]=null,r(I,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=H[a];ce!==null&&(H[h]=null,H[o]=null,H[a]=null,ce(q)),H[c]=q;return}var ae=H[o];ae!==null&&(H[h]=null,H[o]=null,H[a]=null,ae(y(void 0,!0))),H[d]=!0}),I.on("readable",S.bind(null,H)),H};return sd=U,sd}var ad,fv;function iI(){return fv||(fv=1,ad=function(){throw new Error("Readable.from is not available in the browser")}),ad}var ld,dv;function Jw(){if(dv)return ld;dv=1,ld=z;var t;z.ReadableState=de,Kd.EventEmitter;var e=function(F,ie){return F.listeners(ie).length},r=Pw(),o=su().Buffer,a=sr.Uint8Array||function(){};function c(G){return o.from(G)}function d(G){return o.isBuffer(G)||G instanceof a}var h=qw(),p;h&&h.debuglog?p=h.debuglog("stream"):p=function(){};var m=eI(),y=Hw(),w=Kw(),S=w.getHighWaterMark,E=Jo().codes,D=E.ERR_INVALID_ARG_TYPE,C=E.ERR_STREAM_PUSH_AFTER_EOF,U=E.ERR_METHOD_NOT_IMPLEMENTED,R=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,P,H;Ii(z,r);var q=y.errorOrDestroy,ce=["error","close","destroy","pause","resume"];function ae(G,F,ie){if(typeof G.prependListener=="function")return G.prependListener(F,ie);!G._events||!G._events[F]?G.on(F,ie):Array.isArray(G._events[F])?G._events[F].unshift(ie):G._events[F]=[ie,G._events[F]]}function de(G,F,ie){t=t||Lo(),G=G||{},typeof ie!="boolean"&&(ie=F instanceof t),this.objectMode=!!G.objectMode,ie&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=S(this,G,"readableHighWaterMark",ie),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(I||(I=Id().StringDecoder),this.decoder=new I(G.encoding),this.encoding=G.encoding)}function z(G){if(t=t||Lo(),!(this instanceof z))return new z(G);var F=this instanceof t;this._readableState=new de(G,this,F),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),r.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),z.prototype.destroy=y.destroy,z.prototype._undestroy=y.undestroy,z.prototype._destroy=function(G,F){F(G)},z.prototype.push=function(G,F){var ie=this._readableState,b;return ie.objectMode?b=!0:typeof G=="string"&&(F=F||ie.defaultEncoding,F!==ie.encoding&&(G=o.from(G,F),F=""),b=!0),Te(this,G,F,!1,b)},z.prototype.unshift=function(G){return Te(this,G,null,!0,!1)};function Te(G,F,ie,b,re){p("readableAddChunk",F);var k=G._readableState;if(F===null)k.reading=!1,le(G,k);else{var v;if(re||(v=Z(k,F)),v)q(G,v);else if(k.objectMode||F&&F.length>0)if(typeof F!="string"&&!k.objectMode&&Object.getPrototypeOf(F)!==o.prototype&&(F=c(F)),b)k.endEmitted?q(G,new R):Re(G,k,F,!0);else if(k.ended)q(G,new C);else{if(k.destroyed)return!1;k.reading=!1,k.decoder&&!ie?(F=k.decoder.write(F),k.objectMode||F.length!==0?Re(G,k,F,!1):ue(G,k)):Re(G,k,F,!1)}else b||(k.reading=!1,ue(G,k))}return!k.ended&&(k.length<k.highWaterMark||k.length===0)}function Re(G,F,ie,b){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,G.emit("data",ie)):(F.length+=F.objectMode?1:ie.length,b?F.buffer.unshift(ie):F.buffer.push(ie),F.needReadable&&se(G)),ue(G,F)}function Z(G,F){var ie;return!d(F)&&typeof F!="string"&&F!==void 0&&!G.objectMode&&(ie=new D("chunk",["string","Buffer","Uint8Array"],F)),ie}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(G){I||(I=Id().StringDecoder);var F=new I(G);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var ie=this._readableState.buffer.head,b="";ie!==null;)b+=F.write(ie.data),ie=ie.next;return this._readableState.buffer.clear(),b!==""&&this._readableState.buffer.push(b),this._readableState.length=b.length,this};var pe=1073741824;function B(G){return G>=pe?G=pe:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function he(G,F){return G<=0||F.length===0&&F.ended?0:F.objectMode?1:G!==G?F.flowing&&F.length?F.buffer.head.data.length:F.length:(G>F.highWaterMark&&(F.highWaterMark=B(G)),G<=F.length?G:F.ended?F.length:(F.needReadable=!0,0))}z.prototype.read=function(G){p("read",G),G=parseInt(G,10);var F=this._readableState,ie=G;if(G!==0&&(F.emittedReadable=!1),G===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return p("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?N(this):se(this),null;if(G=he(G,F),G===0&&F.ended)return F.length===0&&N(this),null;var b=F.needReadable;p("need readable",b),(F.length===0||F.length-G<F.highWaterMark)&&(b=!0,p("length less than watermark",b)),F.ended||F.reading?(b=!1,p("reading or ended",b)):b&&(p("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(G=he(ie,F)));var re;return G>0?re=M(G,F):re=null,re===null?(F.needReadable=F.length<=F.highWaterMark,G=0):(F.length-=G,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),ie!==G&&F.ended&&N(this)),re!==null&&this.emit("data",re),re};function le(G,F){if(p("onEofChunk"),!F.ended){if(F.decoder){var ie=F.decoder.end();ie&&ie.length&&(F.buffer.push(ie),F.length+=F.objectMode?1:ie.length)}F.ended=!0,F.sync?se(G):(F.needReadable=!1,F.emittedReadable||(F.emittedReadable=!0,Ce(G)))}}function se(G){var F=G._readableState;p("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(p("emitReadable",F.flowing),F.emittedReadable=!0,tt.nextTick(Ce,G))}function Ce(G){var F=G._readableState;p("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&(F.length||F.ended)&&(G.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,$(G)}function ue(G,F){F.readingMore||(F.readingMore=!0,tt.nextTick(K,G,F))}function K(G,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var ie=F.length;if(p("maybeReadMore read 0"),G.read(0),ie===F.length)break}F.readingMore=!1}z.prototype._read=function(G){q(this,new U("_read()"))},z.prototype.pipe=function(G,F){var ie=this,b=this._readableState;switch(b.pipesCount){case 0:b.pipes=G;break;case 1:b.pipes=[b.pipes,G];break;default:b.pipes.push(G);break}b.pipesCount+=1,p("pipe count=%d opts=%j",b.pipesCount,F);var re=(!F||F.end!==!1)&&G!==tt.stdout&&G!==tt.stderr,k=re?T:Ue;b.endEmitted?tt.nextTick(k):ie.once("end",k),G.on("unpipe",v);function v(Be,Ge){p("onunpipe"),Be===ie&&Ge&&Ge.hasUnpiped===!1&&(Ge.hasUnpiped=!0,ne())}function T(){p("onend"),G.end()}var A=Y(ie);G.on("drain",A);var X=!1;function ne(){p("cleanup"),G.removeListener("close",De),G.removeListener("finish",be),G.removeListener("drain",A),G.removeListener("error",ge),G.removeListener("unpipe",v),ie.removeListener("end",T),ie.removeListener("end",Ue),ie.removeListener("data",j),X=!0,b.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&A()}ie.on("data",j);function j(Be){p("ondata");var Ge=G.write(Be);p("dest.write",Ge),Ge===!1&&((b.pipesCount===1&&b.pipes===G||b.pipesCount>1&&W(b.pipes,G)!==-1)&&!X&&(p("false write response, pause",b.awaitDrain),b.awaitDrain++),ie.pause())}function ge(Be){p("onerror",Be),Ue(),G.removeListener("error",ge),e(G,"error")===0&&q(G,Be)}ae(G,"error",ge);function De(){G.removeListener("finish",be),Ue()}G.once("close",De);function be(){p("onfinish"),G.removeListener("close",De),Ue()}G.once("finish",be);function Ue(){p("unpipe"),ie.unpipe(G)}return G.emit("pipe",ie),b.flowing||(p("pipe resume"),ie.resume()),G};function Y(G){return function(){var ie=G._readableState;p("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&e(G,"data")&&(ie.flowing=!0,$(G))}}z.prototype.unpipe=function(G){var F=this._readableState,ie={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return G&&G!==F.pipes?this:(G||(G=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,G&&G.emit("unpipe",this,ie),this);if(!G){var b=F.pipes,re=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var k=0;k<re;k++)b[k].emit("unpipe",this,{hasUnpiped:!1});return this}var v=W(F.pipes,G);return v===-1?this:(F.pipes.splice(v,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),G.emit("unpipe",this,ie),this)},z.prototype.on=function(G,F){var ie=r.prototype.on.call(this,G,F),b=this._readableState;return G==="data"?(b.readableListening=this.listenerCount("readable")>0,b.flowing!==!1&&this.resume()):G==="readable"&&!b.endEmitted&&!b.readableListening&&(b.readableListening=b.needReadable=!0,b.flowing=!1,b.emittedReadable=!1,p("on readable",b.length,b.reading),b.length?se(this):b.reading||tt.nextTick(J,this)),ie},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(G,F){var ie=r.prototype.removeListener.call(this,G,F);return G==="readable"&&tt.nextTick(O,this),ie},z.prototype.removeAllListeners=function(G){var F=r.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&tt.nextTick(O,this),F};function O(G){var F=G._readableState;F.readableListening=G.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:G.listenerCount("data")>0&&G.resume()}function J(G){p("readable nexttick read 0"),G.read(0)}z.prototype.resume=function(){var G=this._readableState;return G.flowing||(p("resume"),G.flowing=!G.readableListening,Q(this,G)),G.paused=!1,this};function Q(G,F){F.resumeScheduled||(F.resumeScheduled=!0,tt.nextTick(ee,G,F))}function ee(G,F){p("resume",F.reading),F.reading||G.read(0),F.resumeScheduled=!1,G.emit("resume"),$(G),F.flowing&&!F.reading&&G.read(0)}z.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function $(G){var F=G._readableState;for(p("flow",F.flowing);F.flowing&&G.read()!==null;);}z.prototype.wrap=function(G){var F=this,ie=this._readableState,b=!1;G.on("end",function(){if(p("wrapped end"),ie.decoder&&!ie.ended){var v=ie.decoder.end();v&&v.length&&F.push(v)}F.push(null)}),G.on("data",function(v){if(p("wrapped data"),ie.decoder&&(v=ie.decoder.write(v)),!(ie.objectMode&&v==null)&&!(!ie.objectMode&&(!v||!v.length))){var T=F.push(v);T||(b=!0,G.pause())}});for(var re in G)this[re]===void 0&&typeof G[re]=="function"&&(this[re]=(function(T){return function(){return G[T].apply(G,arguments)}})(re));for(var k=0;k<ce.length;k++)G.on(ce[k],this.emit.bind(this,ce[k]));return this._read=function(v){p("wrapped _read",v),b&&(b=!1,G.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=rI()),P(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),z._fromList=M,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function M(G,F){if(F.length===0)return null;var ie;return F.objectMode?ie=F.buffer.shift():!G||G>=F.length?(F.decoder?ie=F.buffer.join(""):F.buffer.length===1?ie=F.buffer.first():ie=F.buffer.concat(F.length),F.buffer.clear()):ie=F.buffer.consume(G,F.decoder),ie}function N(G){var F=G._readableState;p("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,tt.nextTick(te,F,G))}function te(G,F){if(p("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,F.readable=!1,F.emit("end"),G.autoDestroy)){var ie=F._writableState;(!ie||ie.autoDestroy&&ie.finished)&&F.destroy()}}typeof Symbol=="function"&&(z.from=function(G,F){return H===void 0&&(H=iI()),H(z,G,F)});function W(G,F){for(var ie=0,b=G.length;ie<b;ie++)if(G[ie]===F)return ie;return-1}return ld}var ud,hv;function Ww(){if(hv)return ud;hv=1,ud=h;var t=Jo().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,c=Lo();Ii(h,c);function d(y,w){var S=this._transformState;S.transforming=!1;var E=S.writecb;if(E===null)return this.emit("error",new r);S.writechunk=null,S.writecb=null,w!=null&&this.push(w),E(y);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);c.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(w,S){m(y,w,S)}):m(this,null,null)}h.prototype.push=function(y,w){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,w)},h.prototype._transform=function(y,w,S){S(new e("_transform()"))},h.prototype._write=function(y,w,S){var E=this._transformState;if(E.writecb=S,E.writechunk=y,E.writeencoding=w,!E.transforming){var D=this._readableState;(E.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},h.prototype._read=function(y){var w=this._transformState;w.writechunk!==null&&!w.transforming?(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform)):w.needTransform=!0},h.prototype._destroy=function(y,w){c.prototype._destroy.call(this,y,function(S){w(S)})};function m(y,w,S){if(w)return y.emit("error",w);if(S!=null&&y.push(S),y._writableState.length)throw new a;if(y._transformState.transforming)throw new o;return y.push(null)}return ud}var cd,pv;function oI(){if(pv)return cd;pv=1,cd=e;var t=Ww();Ii(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,o,a){a(null,r)},cd}var fd,mv;function sI(){if(mv)return fd;mv=1;var t;function e(S){var E=!1;return function(){E||(E=!0,S.apply(void 0,arguments))}}var r=Jo().codes,o=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function c(S){if(S)throw S}function d(S){return S.setHeader&&typeof S.abort=="function"}function h(S,E,D,C){C=e(C);var U=!1;S.on("close",function(){U=!0}),t===void 0&&(t=$d()),t(S,{readable:E,writable:D},function(I){if(I)return C(I);U=!0,C()});var R=!1;return function(I){if(!U&&!R){if(R=!0,d(S))return S.abort();if(typeof S.destroy=="function")return S.destroy();C(I||new a("pipe"))}}}function p(S){S()}function m(S,E){return S.pipe(E)}function y(S){return!S.length||typeof S[S.length-1]!="function"?c:S.pop()}function w(){for(var S=arguments.length,E=new Array(S),D=0;D<S;D++)E[D]=arguments[D];var C=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new o("streams");var U,R=E.map(function(I,P){var H=P<E.length-1,q=P>0;return h(I,H,q,function(ce){U||(U=ce),ce&&R.forEach(p),!H&&(R.forEach(p),C(U))})});return E.reduce(m)}return fd=w,fd}var Xd=zn,Zd=Kd.EventEmitter,aI=Ii;aI(zn,Zd);zn.Readable=Jw();zn.Writable=Yw();zn.Duplex=Lo();zn.Transform=Ww();zn.PassThrough=oI();zn.finished=$d();zn.pipeline=sI();zn.Stream=zn;function zn(){Zd.call(this)}zn.prototype.pipe=function(t,e){var r=this;function o(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}r.on("data",o);function a(){r.readable&&r.resume&&r.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",d),r.on("close",h));var c=!1;function d(){c||(c=!0,t.end())}function h(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function p(y){if(m(),Zd.listenerCount(this,"error")===0)throw y}r.on("error",p),t.on("error",p);function m(){r.removeListener("data",o),t.removeListener("drain",a),r.removeListener("end",d),r.removeListener("close",h),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t};(function(t){(function(e){e.parser=function(M,N){return new o(M,N)},e.SAXParser=o,e.SAXStream=y,e.createStream=m,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(M,N){if(!(this instanceof o))return new o(M,N);var te=this;c(te),te.q=te.c="",te.bufferCheckPosition=e.MAX_BUFFER_LENGTH,te.opt=N||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!M,te.noscript=!!(M||te.opt.noscript),te.state=z.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(C)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),Re(te,"onready")}Object.create||(Object.create=function(M){function N(){}N.prototype=M;var te=new N;return te}),Object.keys||(Object.keys=function(M){var N=[];for(var te in M)M.hasOwnProperty(te)&&N.push(te);return N});function a(M){for(var N=Math.max(e.MAX_BUFFER_LENGTH,10),te=0,W=0,G=r.length;W<G;W++){var F=M[r[W]].length;if(F>N)switch(r[W]){case"textNode":pe(M);break;case"cdata":Z(M,"oncdata",M.cdata),M.cdata="";break;case"script":Z(M,"onscript",M.script),M.script="";break;default:he(M,"Max buffer length exceeded: "+r[W])}te=Math.max(te,F)}var ie=e.MAX_BUFFER_LENGTH-te;M.bufferCheckPosition=ie+M.position}function c(M){for(var N=0,te=r.length;N<te;N++)M[r[N]]=""}function d(M){pe(M),M.cdata!==""&&(Z(M,"oncdata",M.cdata),M.cdata=""),M.script!==""&&(Z(M,"onscript",M.script),M.script="")}o.prototype={end:function(){le(this)},write:$,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var h;try{h=Xd.Stream}catch{h=function(){}}var p=e.EVENTS.filter(function(M){return M!=="error"&&M!=="end"});function m(M,N){return new y(M,N)}function y(M,N){if(!(this instanceof y))return new y(M,N);h.apply(this),this._parser=new o(M,N),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(W){te.emit("error",W),te._parser.error=null},this._decoder=null,p.forEach(function(W){Object.defineProperty(te,"on"+W,{get:function(){return te._parser["on"+W]},set:function(G){if(!G)return te.removeAllListeners(W),te._parser["on"+W]=G,G;te.on(W,G)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(h.prototype,{constructor:{value:y}}),y.prototype.write=function(M){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(M)){if(!this._decoder){var N=Id().StringDecoder;this._decoder=new N("utf8")}M=this._decoder.write(M)}return this._parser.write(M.toString()),this.emit("data",M),!0},y.prototype.end=function(M){return M&&M.length&&this.write(M),this._parser.end(),!0},y.prototype.on=function(M,N){var te=this;return!te._parser["on"+M]&&p.indexOf(M)!==-1&&(te._parser["on"+M]=function(){var W=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);W.splice(0,0,M),te.emit.apply(te,W)}),h.prototype.on.call(te,M,N)};var w="[CDATA[",S="DOCTYPE",E="http://www.w3.org/XML/1998/namespace",D="http://www.w3.org/2000/xmlns/",C={xml:E,xmlns:D},U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function H(M){return M===" "||M===`
`||M==="\r"||M==="	"}function q(M){return M==='"'||M==="'"}function ce(M){return M===">"||H(M)}function ae(M,N){return M.test(N)}function de(M,N){return!ae(M,N)}var z=0;e.STATE={BEGIN:z++,BEGIN_WHITESPACE:z++,TEXT:z++,TEXT_ENTITY:z++,OPEN_WAKA:z++,SGML_DECL:z++,SGML_DECL_QUOTED:z++,DOCTYPE:z++,DOCTYPE_QUOTED:z++,DOCTYPE_DTD:z++,DOCTYPE_DTD_QUOTED:z++,COMMENT_STARTING:z++,COMMENT:z++,COMMENT_ENDING:z++,COMMENT_ENDED:z++,CDATA:z++,CDATA_ENDING:z++,CDATA_ENDING_2:z++,PROC_INST:z++,PROC_INST_BODY:z++,PROC_INST_ENDING:z++,OPEN_TAG:z++,OPEN_TAG_SLASH:z++,ATTRIB:z++,ATTRIB_NAME:z++,ATTRIB_NAME_SAW_WHITE:z++,ATTRIB_VALUE:z++,ATTRIB_VALUE_QUOTED:z++,ATTRIB_VALUE_CLOSED:z++,ATTRIB_VALUE_UNQUOTED:z++,ATTRIB_VALUE_ENTITY_Q:z++,ATTRIB_VALUE_ENTITY_U:z++,CLOSE_TAG:z++,CLOSE_TAG_SAW_WHITE:z++,SCRIPT:z++,SCRIPT_ENDING:z++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(M){var N=e.ENTITIES[M],te=typeof N=="number"?String.fromCharCode(N):N;e.ENTITIES[M]=te});for(var Te in e.STATE)e.STATE[e.STATE[Te]]=Te;z=e.STATE;function Re(M,N,te){M[N]&&M[N](te)}function Z(M,N,te){M.textNode&&pe(M),Re(M,N,te)}function pe(M){M.textNode=B(M.opt,M.textNode),M.textNode&&Re(M,"ontext",M.textNode),M.textNode=""}function B(M,N){return M.trim&&(N=N.trim()),M.normalize&&(N=N.replace(/\s+/g," ")),N}function he(M,N){return pe(M),M.trackPosition&&(N+=`
Line: `+M.line+`
Column: `+M.column+`
Char: `+M.c),N=new Error(N),M.error=N,Re(M,"onerror",N),M}function le(M){return M.sawRoot&&!M.closedRoot&&se(M,"Unclosed root tag"),M.state!==z.BEGIN&&M.state!==z.BEGIN_WHITESPACE&&M.state!==z.TEXT&&he(M,"Unexpected end"),pe(M),M.c="",M.closed=!0,Re(M,"onend"),o.call(M,M.strict,M.opt),M}function se(M,N){if(typeof M!="object"||!(M instanceof o))throw new Error("bad call to strictFail");M.strict&&he(M,N)}function Ce(M){M.strict||(M.tagName=M.tagName[M.looseCase]());var N=M.tags[M.tags.length-1]||M,te=M.tag={name:M.tagName,attributes:{}};M.opt.xmlns&&(te.ns=N.ns),M.attribList.length=0,Z(M,"onopentagstart",te)}function ue(M,N){var te=M.indexOf(":"),W=te<0?["",M]:M.split(":"),G=W[0],F=W[1];return N&&M==="xmlns"&&(G="xmlns",F=""),{prefix:G,local:F}}function K(M){if(M.strict||(M.attribName=M.attribName[M.looseCase]()),M.attribList.indexOf(M.attribName)!==-1||M.tag.attributes.hasOwnProperty(M.attribName)){M.attribName=M.attribValue="";return}if(M.opt.xmlns){var N=ue(M.attribName,!0),te=N.prefix,W=N.local;if(te==="xmlns")if(W==="xml"&&M.attribValue!==E)se(M,"xml: prefix must be bound to "+E+`
Actual: `+M.attribValue);else if(W==="xmlns"&&M.attribValue!==D)se(M,"xmlns: prefix must be bound to "+D+`
Actual: `+M.attribValue);else{var G=M.tag,F=M.tags[M.tags.length-1]||M;G.ns===F.ns&&(G.ns=Object.create(F.ns)),G.ns[W]=M.attribValue}M.attribList.push([M.attribName,M.attribValue])}else M.tag.attributes[M.attribName]=M.attribValue,Z(M,"onattribute",{name:M.attribName,value:M.attribValue});M.attribName=M.attribValue=""}function Y(M,N){if(M.opt.xmlns){var te=M.tag,W=ue(M.tagName);te.prefix=W.prefix,te.local=W.local,te.uri=te.ns[W.prefix]||"",te.prefix&&!te.uri&&(se(M,"Unbound namespace prefix: "+JSON.stringify(M.tagName)),te.uri=W.prefix);var G=M.tags[M.tags.length-1]||M;te.ns&&G.ns!==te.ns&&Object.keys(te.ns).forEach(function(j){Z(M,"onopennamespace",{prefix:j,uri:te.ns[j]})});for(var F=0,ie=M.attribList.length;F<ie;F++){var b=M.attribList[F],re=b[0],k=b[1],v=ue(re,!0),T=v.prefix,A=v.local,X=T===""?"":te.ns[T]||"",ne={name:re,value:k,prefix:T,local:A,uri:X};T&&T!=="xmlns"&&!X&&(se(M,"Unbound namespace prefix: "+JSON.stringify(T)),ne.uri=T),M.tag.attributes[re]=ne,Z(M,"onattribute",ne)}M.attribList.length=0}M.tag.isSelfClosing=!!N,M.sawRoot=!0,M.tags.push(M.tag),Z(M,"onopentag",M.tag),N||(!M.noscript&&M.tagName.toLowerCase()==="script"?M.state=z.SCRIPT:M.state=z.TEXT,M.tag=null,M.tagName=""),M.attribName=M.attribValue="",M.attribList.length=0}function O(M){if(!M.tagName){se(M,"Weird empty close tag."),M.textNode+="</>",M.state=z.TEXT;return}if(M.script){if(M.tagName!=="script"){M.script+="</"+M.tagName+">",M.tagName="",M.state=z.SCRIPT;return}Z(M,"onscript",M.script),M.script=""}var N=M.tags.length,te=M.tagName;M.strict||(te=te[M.looseCase]());for(var W=te;N--;){var G=M.tags[N];if(G.name!==W)se(M,"Unexpected close tag");else break}if(N<0){se(M,"Unmatched closing tag: "+M.tagName),M.textNode+="</"+M.tagName+">",M.state=z.TEXT;return}M.tagName=te;for(var F=M.tags.length;F-- >N;){var ie=M.tag=M.tags.pop();M.tagName=M.tag.name,Z(M,"onclosetag",M.tagName);var b={};for(var re in ie.ns)b[re]=ie.ns[re];var k=M.tags[M.tags.length-1]||M;M.opt.xmlns&&ie.ns!==k.ns&&Object.keys(ie.ns).forEach(function(v){var T=ie.ns[v];Z(M,"onclosenamespace",{prefix:v,uri:T})})}N===0&&(M.closedRoot=!0),M.tagName=M.attribValue=M.attribName="",M.attribList.length=0,M.state=z.TEXT}function J(M){var N=M.entity,te=N.toLowerCase(),W,G="";return M.ENTITIES[N]?M.ENTITIES[N]:M.ENTITIES[te]?M.ENTITIES[te]:(N=te,N.charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),W=parseInt(N,16),G=W.toString(16)):(N=N.slice(1),W=parseInt(N,10),G=W.toString(10))),N=N.replace(/^0+/,""),isNaN(W)||G.toLowerCase()!==N?(se(M,"Invalid character entity"),"&"+M.entity+";"):String.fromCodePoint(W))}function Q(M,N){N==="<"?(M.state=z.OPEN_WAKA,M.startTagPosition=M.position):H(N)||(se(M,"Non-whitespace before first tag."),M.textNode=N,M.state=z.TEXT)}function ee(M,N){var te="";return N<M.length&&(te=M.charAt(N)),te}function $(M){var N=this;if(this.error)throw this.error;if(N.closed)return he(N,"Cannot write after close. Assign an onready handler.");if(M===null)return le(N);typeof M=="object"&&(M=M.toString());for(var te=0,W="";W=ee(M,te++),N.c=W,!!W;)switch(N.trackPosition&&(N.position++,W===`
`?(N.line++,N.column=0):N.column++),N.state){case z.BEGIN:if(N.state=z.BEGIN_WHITESPACE,W==="\uFEFF")continue;Q(N,W);continue;case z.BEGIN_WHITESPACE:Q(N,W);continue;case z.TEXT:if(N.sawRoot&&!N.closedRoot){for(var G=te-1;W&&W!=="<"&&W!=="&";)W=ee(M,te++),W&&N.trackPosition&&(N.position++,W===`
`?(N.line++,N.column=0):N.column++);N.textNode+=M.substring(G,te-1)}W==="<"&&!(N.sawRoot&&N.closedRoot&&!N.strict)?(N.state=z.OPEN_WAKA,N.startTagPosition=N.position):(!H(W)&&(!N.sawRoot||N.closedRoot)&&se(N,"Text data outside of root node."),W==="&"?N.state=z.TEXT_ENTITY:N.textNode+=W);continue;case z.SCRIPT:W==="<"?N.state=z.SCRIPT_ENDING:N.script+=W;continue;case z.SCRIPT_ENDING:W==="/"?N.state=z.CLOSE_TAG:(N.script+="<"+W,N.state=z.SCRIPT);continue;case z.OPEN_WAKA:if(W==="!")N.state=z.SGML_DECL,N.sgmlDecl="";else if(!H(W))if(ae(U,W))N.state=z.OPEN_TAG,N.tagName=W;else if(W==="/")N.state=z.CLOSE_TAG,N.tagName="";else if(W==="?")N.state=z.PROC_INST,N.procInstName=N.procInstBody="";else{if(se(N,"Unencoded <"),N.startTagPosition+1<N.position){var F=N.position-N.startTagPosition;W=new Array(F).join(" ")+W}N.textNode+="<"+W,N.state=z.TEXT}continue;case z.SGML_DECL:(N.sgmlDecl+W).toUpperCase()===w?(Z(N,"onopencdata"),N.state=z.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+W==="--"?(N.state=z.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+W).toUpperCase()===S?(N.state=z.DOCTYPE,(N.doctype||N.sawRoot)&&se(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):W===">"?(Z(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=z.TEXT):(q(W)&&(N.state=z.SGML_DECL_QUOTED),N.sgmlDecl+=W);continue;case z.SGML_DECL_QUOTED:W===N.q&&(N.state=z.SGML_DECL,N.q=""),N.sgmlDecl+=W;continue;case z.DOCTYPE:W===">"?(N.state=z.TEXT,Z(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=W,W==="["?N.state=z.DOCTYPE_DTD:q(W)&&(N.state=z.DOCTYPE_QUOTED,N.q=W));continue;case z.DOCTYPE_QUOTED:N.doctype+=W,W===N.q&&(N.q="",N.state=z.DOCTYPE);continue;case z.DOCTYPE_DTD:N.doctype+=W,W==="]"?N.state=z.DOCTYPE:q(W)&&(N.state=z.DOCTYPE_DTD_QUOTED,N.q=W);continue;case z.DOCTYPE_DTD_QUOTED:N.doctype+=W,W===N.q&&(N.state=z.DOCTYPE_DTD,N.q="");continue;case z.COMMENT:W==="-"?N.state=z.COMMENT_ENDING:N.comment+=W;continue;case z.COMMENT_ENDING:W==="-"?(N.state=z.COMMENT_ENDED,N.comment=B(N.opt,N.comment),N.comment&&Z(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+W,N.state=z.COMMENT);continue;case z.COMMENT_ENDED:W!==">"?(se(N,"Malformed comment"),N.comment+="--"+W,N.state=z.COMMENT):N.state=z.TEXT;continue;case z.CDATA:W==="]"?N.state=z.CDATA_ENDING:N.cdata+=W;continue;case z.CDATA_ENDING:W==="]"?N.state=z.CDATA_ENDING_2:(N.cdata+="]"+W,N.state=z.CDATA);continue;case z.CDATA_ENDING_2:W===">"?(N.cdata&&Z(N,"oncdata",N.cdata),Z(N,"onclosecdata"),N.cdata="",N.state=z.TEXT):W==="]"?N.cdata+="]":(N.cdata+="]]"+W,N.state=z.CDATA);continue;case z.PROC_INST:W==="?"?N.state=z.PROC_INST_ENDING:H(W)?N.state=z.PROC_INST_BODY:N.procInstName+=W;continue;case z.PROC_INST_BODY:if(!N.procInstBody&&H(W))continue;W==="?"?N.state=z.PROC_INST_ENDING:N.procInstBody+=W;continue;case z.PROC_INST_ENDING:W===">"?(Z(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=z.TEXT):(N.procInstBody+="?"+W,N.state=z.PROC_INST_BODY);continue;case z.OPEN_TAG:ae(R,W)?N.tagName+=W:(Ce(N),W===">"?Y(N):W==="/"?N.state=z.OPEN_TAG_SLASH:(H(W)||se(N,"Invalid character in tag name"),N.state=z.ATTRIB));continue;case z.OPEN_TAG_SLASH:W===">"?(Y(N,!0),O(N)):(se(N,"Forward-slash in opening tag not followed by >"),N.state=z.ATTRIB);continue;case z.ATTRIB:if(H(W))continue;W===">"?Y(N):W==="/"?N.state=z.OPEN_TAG_SLASH:ae(U,W)?(N.attribName=W,N.attribValue="",N.state=z.ATTRIB_NAME):se(N,"Invalid attribute name");continue;case z.ATTRIB_NAME:W==="="?N.state=z.ATTRIB_VALUE:W===">"?(se(N,"Attribute without value"),N.attribValue=N.attribName,K(N),Y(N)):H(W)?N.state=z.ATTRIB_NAME_SAW_WHITE:ae(R,W)?N.attribName+=W:se(N,"Invalid attribute name");continue;case z.ATTRIB_NAME_SAW_WHITE:if(W==="=")N.state=z.ATTRIB_VALUE;else{if(H(W))continue;se(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",Z(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",W===">"?Y(N):ae(U,W)?(N.attribName=W,N.state=z.ATTRIB_NAME):(se(N,"Invalid attribute name"),N.state=z.ATTRIB)}continue;case z.ATTRIB_VALUE:if(H(W))continue;q(W)?(N.q=W,N.state=z.ATTRIB_VALUE_QUOTED):(se(N,"Unquoted attribute value"),N.state=z.ATTRIB_VALUE_UNQUOTED,N.attribValue=W);continue;case z.ATTRIB_VALUE_QUOTED:if(W!==N.q){W==="&"?N.state=z.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=W;continue}K(N),N.q="",N.state=z.ATTRIB_VALUE_CLOSED;continue;case z.ATTRIB_VALUE_CLOSED:H(W)?N.state=z.ATTRIB:W===">"?Y(N):W==="/"?N.state=z.OPEN_TAG_SLASH:ae(U,W)?(se(N,"No whitespace between attributes"),N.attribName=W,N.attribValue="",N.state=z.ATTRIB_NAME):se(N,"Invalid attribute name");continue;case z.ATTRIB_VALUE_UNQUOTED:if(!ce(W)){W==="&"?N.state=z.ATTRIB_VALUE_ENTITY_U:N.attribValue+=W;continue}K(N),W===">"?Y(N):N.state=z.ATTRIB;continue;case z.CLOSE_TAG:if(N.tagName)W===">"?O(N):ae(R,W)?N.tagName+=W:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=z.SCRIPT):(H(W)||se(N,"Invalid tagname in closing tag"),N.state=z.CLOSE_TAG_SAW_WHITE);else{if(H(W))continue;de(U,W)?N.script?(N.script+="</"+W,N.state=z.SCRIPT):se(N,"Invalid tagname in closing tag."):N.tagName=W}continue;case z.CLOSE_TAG_SAW_WHITE:if(H(W))continue;W===">"?O(N):se(N,"Invalid characters in closing tag");continue;case z.TEXT_ENTITY:case z.ATTRIB_VALUE_ENTITY_Q:case z.ATTRIB_VALUE_ENTITY_U:var ie,b;switch(N.state){case z.TEXT_ENTITY:ie=z.TEXT,b="textNode";break;case z.ATTRIB_VALUE_ENTITY_Q:ie=z.ATTRIB_VALUE_QUOTED,b="attribValue";break;case z.ATTRIB_VALUE_ENTITY_U:ie=z.ATTRIB_VALUE_UNQUOTED,b="attribValue";break}W===";"?(N[b]+=J(N),N.entity="",N.state=ie):ae(N.entity.length?P:I,W)?N.entity+=W:(se(N,"Invalid character in entity name"),N[b]+="&"+N.entity+W,N.entity="",N.state=ie);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&a(N),N}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var M=String.fromCharCode,N=Math.floor,te=function(){var W=16384,G=[],F,ie,b=-1,re=arguments.length;if(!re)return"";for(var k="";++b<re;){var v=Number(arguments[b]);if(!isFinite(v)||v<0||v>1114111||N(v)!==v)throw RangeError("Invalid code point: "+v);v<=65535?G.push(v):(v-=65536,F=(v>>10)+55296,ie=v%1024+56320,G.push(F,ie)),(b+1===re||G.length>W)&&(k+=M.apply(null,G),G.length=0)}return k};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te})()})(t)})(_w);var jd={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},lI=jd.isArray,Qd={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!lI(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},uI=_w,mt=Qd,Do=jd.isArray,_e,Xe;function cI(t){return _e=mt.copyOptions(t),mt.ensureFlagExists("ignoreDeclaration",_e),mt.ensureFlagExists("ignoreInstruction",_e),mt.ensureFlagExists("ignoreAttributes",_e),mt.ensureFlagExists("ignoreText",_e),mt.ensureFlagExists("ignoreComment",_e),mt.ensureFlagExists("ignoreCdata",_e),mt.ensureFlagExists("ignoreDoctype",_e),mt.ensureFlagExists("compact",_e),mt.ensureFlagExists("alwaysChildren",_e),mt.ensureFlagExists("addParent",_e),mt.ensureFlagExists("trim",_e),mt.ensureFlagExists("nativeType",_e),mt.ensureFlagExists("nativeTypeAttributes",_e),mt.ensureFlagExists("sanitize",_e),mt.ensureFlagExists("instructionHasAttributes",_e),mt.ensureFlagExists("captureSpacesBetweenElements",_e),mt.ensureAlwaysArrayExists(_e),mt.ensureKeyExists("declaration",_e),mt.ensureKeyExists("instruction",_e),mt.ensureKeyExists("attributes",_e),mt.ensureKeyExists("text",_e),mt.ensureKeyExists("comment",_e),mt.ensureKeyExists("cdata",_e),mt.ensureKeyExists("doctype",_e),mt.ensureKeyExists("type",_e),mt.ensureKeyExists("name",_e),mt.ensureKeyExists("elements",_e),mt.ensureKeyExists("parent",_e),_e}function $w(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function la(t,e){var r;if(_e.compact){if(!Xe[_e[t+"Key"]]&&(Do(_e.alwaysArray)?_e.alwaysArray.indexOf(_e[t+"Key"])!==-1:_e.alwaysArray)&&(Xe[_e[t+"Key"]]=[]),Xe[_e[t+"Key"]]&&!Do(Xe[_e[t+"Key"]])&&(Xe[_e[t+"Key"]]=[Xe[_e[t+"Key"]]]),t+"Fn"in _e&&typeof e=="string"&&(e=_e[t+"Fn"](e,Xe)),t==="instruction"&&("instructionFn"in _e||"instructionNameFn"in _e)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in _e)e[r]=_e.instructionFn(e[r],r,Xe);else{var o=e[r];delete e[r],e[_e.instructionNameFn(r,o,Xe)]=o}}Do(Xe[_e[t+"Key"]])?Xe[_e[t+"Key"]].push(e):Xe[_e[t+"Key"]]=e}else{Xe[_e.elementsKey]||(Xe[_e.elementsKey]=[]);var a={};if(a[_e.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;a[_e.nameKey]="instructionNameFn"in _e?_e.instructionNameFn(r,e,Xe):r,_e.instructionHasAttributes?(a[_e.attributesKey]=e[r][_e.attributesKey],"instructionFn"in _e&&(a[_e.attributesKey]=_e.instructionFn(a[_e.attributesKey],r,Xe))):("instructionFn"in _e&&(e[r]=_e.instructionFn(e[r],r,Xe)),a[_e.instructionKey]=e[r])}else t+"Fn"in _e&&(e=_e[t+"Fn"](e,Xe)),a[_e[t+"Key"]]=e;_e.addParent&&(a[_e.parentKey]=Xe),Xe[_e.elementsKey].push(a)}}function Xw(t){if("attributesFn"in _e&&t&&(t=_e.attributesFn(t,Xe)),(_e.trim||"attributeValueFn"in _e||"attributeNameFn"in _e||_e.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(_e.trim&&(t[e]=t[e].trim()),_e.nativeTypeAttributes&&(t[e]=$w(t[e])),"attributeValueFn"in _e&&(t[e]=_e.attributeValueFn(t[e],e,Xe)),"attributeNameFn"in _e)){var r=t[e];delete t[e],t[_e.attributeNameFn(e,t[e],Xe)]=r}}return t}function fI(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||_e.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,o;(o=r.exec(t.body))!==null;)e[o[1]]=o[2]||o[3]||o[4];e=Xw(e)}if(t.name.toLowerCase()==="xml"){if(_e.ignoreDeclaration)return;Xe[_e.declarationKey]={},Object.keys(e).length&&(Xe[_e.declarationKey][_e.attributesKey]=e),_e.addParent&&(Xe[_e.declarationKey][_e.parentKey]=Xe)}else{if(_e.ignoreInstruction)return;_e.trim&&(t.body=t.body.trim());var a={};_e.instructionHasAttributes&&Object.keys(e).length?(a[t.name]={},a[t.name][_e.attributesKey]=e):a[t.name]=t.body,la("instruction",a)}}function dI(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=Xw(e),"elementNameFn"in _e&&(t=_e.elementNameFn(t,Xe)),_e.compact){if(r={},!_e.ignoreAttributes&&e&&Object.keys(e).length){r[_e.attributesKey]={};var o;for(o in e)e.hasOwnProperty(o)&&(r[_e.attributesKey][o]=e[o])}!(t in Xe)&&(Do(_e.alwaysArray)?_e.alwaysArray.indexOf(t)!==-1:_e.alwaysArray)&&(Xe[t]=[]),Xe[t]&&!Do(Xe[t])&&(Xe[t]=[Xe[t]]),Do(Xe[t])?Xe[t].push(r):Xe[t]=r}else Xe[_e.elementsKey]||(Xe[_e.elementsKey]=[]),r={},r[_e.typeKey]="element",r[_e.nameKey]=t,!_e.ignoreAttributes&&e&&Object.keys(e).length&&(r[_e.attributesKey]=e),_e.alwaysChildren&&(r[_e.elementsKey]=[]),Xe[_e.elementsKey].push(r);r[_e.parentKey]=Xe,Xe=r}function hI(t){_e.ignoreText||!t.trim()&&!_e.captureSpacesBetweenElements||(_e.trim&&(t=t.trim()),_e.nativeType&&(t=$w(t)),_e.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),la("text",t))}function pI(t){_e.ignoreComment||(_e.trim&&(t=t.trim()),la("comment",t))}function mI(t){var e=Xe[_e.parentKey];_e.addParent||delete Xe[_e.parentKey],Xe=e}function gI(t){_e.ignoreCdata||(_e.trim&&(t=t.trim()),la("cdata",t))}function yI(t){_e.ignoreDoctype||(t=t.replace(/^ /,""),_e.trim&&(t=t.trim()),la("doctype",t))}function vI(t){t.note=t}var Zw=function(t,e){var r=uI.parser(!0,{}),o={};if(Xe=o,_e=cI(e),r.opt={strictEntities:!0},r.onopentag=dI,r.ontext=hI,r.oncomment=pI,r.onclosetag=mI,r.onerror=vI,r.oncdata=gI,r.ondoctype=yI,r.onprocessinginstruction=fI,r.write(t).close(),o[_e.elementsKey]){var a=o[_e.elementsKey];delete o[_e.elementsKey],o[_e.elementsKey]=a,delete o.text}return o},gv=Qd,wI=Zw;function xI(t){var e=gv.copyOptions(t);return gv.ensureSpacesExists(e),e}var TI=function(t,e){var r,o,a,c;return r=xI(e),o=wI(t,r),c="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?a=JSON.stringify(o,function(d,h){return d===c?"_":h},r.spaces):a=JSON.stringify(o,null,r.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},_t=Qd,SI=jd.isArray,sn,an;function EI(t){var e=_t.copyOptions(t);return _t.ensureFlagExists("ignoreDeclaration",e),_t.ensureFlagExists("ignoreInstruction",e),_t.ensureFlagExists("ignoreAttributes",e),_t.ensureFlagExists("ignoreText",e),_t.ensureFlagExists("ignoreComment",e),_t.ensureFlagExists("ignoreCdata",e),_t.ensureFlagExists("ignoreDoctype",e),_t.ensureFlagExists("compact",e),_t.ensureFlagExists("indentText",e),_t.ensureFlagExists("indentCdata",e),_t.ensureFlagExists("indentAttributes",e),_t.ensureFlagExists("indentInstruction",e),_t.ensureFlagExists("fullTagEmptyElement",e),_t.ensureFlagExists("noQuotesForNativeAttributes",e),_t.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),_t.ensureKeyExists("declaration",e),_t.ensureKeyExists("instruction",e),_t.ensureKeyExists("attributes",e),_t.ensureKeyExists("text",e),_t.ensureKeyExists("comment",e),_t.ensureKeyExists("cdata",e),_t.ensureKeyExists("doctype",e),_t.ensureKeyExists("type",e),_t.ensureKeyExists("name",e),_t.ensureKeyExists("elements",e),e}function or(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function au(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,an,sn));var o,a,c,d,h=[];for(o in t)t.hasOwnProperty(o)&&t[o]!==null&&t[o]!==void 0&&(d=e.noQuotesForNativeAttributes&&typeof t[o]!="string"?"":'"',a=""+t[o],a=a.replace(/"/g,"&quot;"),c="attributeNameFn"in e?e.attributeNameFn(o,a,an,sn):o,h.push(e.spaces&&e.indentAttributes?or(e,r+1,!1):" "),h.push(c+"="+d+("attributeValueFn"in e?e.attributeValueFn(a,o,an,sn):a)+d));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&h.push(or(e,r,!1)),h.join("")}function jw(t,e,r){return sn=t,an="xml",e.ignoreDeclaration?"":"<?xml"+au(t[e.attributesKey],e,r)+"?>"}function Qw(t,e,r){if(e.ignoreInstruction)return"";var o;for(o in t)if(t.hasOwnProperty(o))break;var a="instructionNameFn"in e?e.instructionNameFn(o,t[o],an,sn):o;if(typeof t[o]=="object")return sn=t,an=a,"<?"+a+au(t[o][e.attributesKey],e,r)+"?>";var c=t[o]?t[o]:"";return"instructionFn"in e&&(c=e.instructionFn(c,o,an,sn)),"<?"+a+(c?" "+c:"")+"?>"}function ex(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,an,sn):t)+"-->"}function tx(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,an,sn):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function nx(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,an,sn):t)+">"}function eh(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,an,sn):t)}function _I(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function bI(t,e,r){sn=t,an=t.name;var o=[],a="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;o.push("<"+a),t[e.attributesKey]&&o.push(au(t[e.attributesKey],e,r));var c=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return c||("fullTagEmptyElementFn"in e?c=e.fullTagEmptyElementFn(t.name,t):c=e.fullTagEmptyElement),c?(o.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(o.push(rx(t[e.elementsKey],e,r+1)),sn=t,an=t.name),o.push(e.spaces&&_I(t,e)?`
`+Array(r+1).join(e.spaces):""),o.push("</"+a+">")):o.push("/>"),o.join("")}function rx(t,e,r,o){return t.reduce(function(a,c){var d=or(e,r,o&&!a);switch(c.type){case"element":return a+d+bI(c,e,r);case"comment":return a+d+ex(c[e.commentKey],e);case"doctype":return a+d+nx(c[e.doctypeKey],e);case"cdata":return a+(e.indentCdata?d:"")+tx(c[e.cdataKey],e);case"text":return a+(e.indentText?d:"")+eh(c[e.textKey],e);case"instruction":var h={};return h[c[e.nameKey]]=c[e.attributesKey]?c:c[e.instructionKey],a+(e.indentInstruction?d:"")+Qw(h,e,r)}},"")}function ix(t,e,r){var o;for(o in t)if(t.hasOwnProperty(o))switch(o){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function CI(t,e,r,o,a){sn=t,an=e;var c="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var d=[];if(e){if(d.push("<"+c),typeof t!="object")return d.push(">"+eh(t,r)+"</"+c+">"),d.join("");t[r.attributesKey]&&d.push(au(t[r.attributesKey],r,o));var h=ix(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(h||("fullTagEmptyElementFn"in r?h=r.fullTagEmptyElementFn(e,t):h=r.fullTagEmptyElement),h)d.push(">");else return d.push("/>"),d.join("")}return d.push(ox(t,r,o+1,!1)),sn=t,an=e,e&&d.push((a?or(r,o,!1):"")+"</"+c+">"),d.join("")}function ox(t,e,r,o){var a,c,d,h=[];for(c in t)if(t.hasOwnProperty(c))for(d=SI(t[c])?t[c]:[t[c]],a=0;a<d.length;++a){switch(c){case e.declarationKey:h.push(jw(d[a],e,r));break;case e.instructionKey:h.push((e.indentInstruction?or(e,r,o):"")+Qw(d[a],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:h.push((e.indentText?or(e,r,o):"")+eh(d[a],e));break;case e.cdataKey:h.push((e.indentCdata?or(e,r,o):"")+tx(d[a],e));break;case e.doctypeKey:h.push(or(e,r,o)+nx(d[a],e));break;case e.commentKey:h.push(or(e,r,o)+ex(d[a],e));break;default:h.push(or(e,r,o)+CI(d[a],c,e,r,ix(d[a],e)))}o=o&&!h.length}return h.join("")}var sx=function(t,e){e=EI(e);var r=[];return sn=t,an="_root_",e.compact?r.push(ox(t,e,0,!0)):(t[e.declarationKey]&&r.push(jw(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(rx(t[e.elementsKey],e,0,!r.length))),r.join("")},AI=sx,RI=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return AI(r,e)},NI=Zw,DI=TI,MI=sx,II=RI,ax={xml2js:NI,xml2json:DI,js2xml:MI,json2xml:II};const th=t=>{switch(t.type){case void 0:case"element":const e=new UI(t.name,t.attributes),r=t.elements||[];for(const o of r){const a=th(o);a!==void 0&&e.push(a)}return e;case"text":return t.text;default:return}};class kI extends Oe{}class UI extends Ee{static fromXmlString(e){const r=ax.xml2js(e,{compact:!1});return th(r)}constructor(e,r){super(e),r&&this.root.push(new kI(r))}push(e){this.root.push(e)}}class LI extends Ee{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class lx extends Ee{constructor(e,r){super(e),r&&(this.root=r.root)}}const wn=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},lu=t=>{const e=wn(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},ux=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},yv=t=>ux(t,1),cx=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},fx=t=>{const e=cx(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Bo=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return ux(e,3)},Ri=t=>typeof t=="string"?cx(t):wn(t),BI=t=>typeof t=="string"?fx(t):lu(t),Wn=t=>typeof t=="string"?fx(t):lu(t),PI=lu,OI=lu,FI=t=>t.toISOString();class ke extends Ee{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new zt({val:r}))}}class dd extends Ee{constructor(e,r){super(e),this.root.push(new zt({val:BI(r)}))}}class Mo extends Ee{constructor(e,r){super(e),this.root.push(new zt({val:r}))}}const na=(t,e)=>new ln({name:t,attributes:{value:{key:"w:val",value:e}}});class nh extends Ee{constructor(e,r){super(e),this.root.push(new zt({val:r}))}}class _i extends Ee{constructor(e,r){super(e),this.root.push(r)}}class ln extends Ee{constructor({name:e,attributes:r,children:o}){super(e),r&&this.root.push(new Ko(r)),o&&this.root.push(...o)}}const vn={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class zI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class GI extends Ee{constructor(e){super("w:jc"),this.root.push(new zI({val:e}))}}class Ut extends Ee{constructor(e,{color:r,size:o,space:a,style:c}){super(e),this.root.push(new VI({style:c,color:r===void 0?void 0:Bo(r),size:o===void 0?void 0:PI(o),space:a===void 0?void 0:OI(a)}))}}class VI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const rh={SINGLE:"single",NONE:"none"};class qI extends iu{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Ut("w:top",e.top)),e.bottom&&this.root.push(new Ut("w:bottom",e.bottom)),e.left&&this.root.push(new Ut("w:left",e.left)),e.right&&this.root.push(new Ut("w:right",e.right))}}class HI extends Ee{constructor(){super("w:pBdr");const e=new Ut("w:bottom",{color:"auto",space:1,style:rh.SINGLE,size:6});this.root.push(e)}}class KI extends Ee{constructor({start:e,end:r,left:o,right:a,hanging:c,firstLine:d}){super("w:ind"),this.root.push(new Ko({start:{key:"w:start",value:e===void 0?void 0:Ri(e)},end:{key:"w:end",value:r===void 0?void 0:Ri(r)},left:{key:"w:left",value:o===void 0?void 0:Ri(o)},right:{key:"w:right",value:a===void 0?void 0:Ri(a)},hanging:{key:"w:hanging",value:c===void 0?void 0:Wn(c)},firstLine:{key:"w:firstLine",value:d===void 0?void 0:Wn(d)}}))}}let YI=class extends Ee{constructor(){super("w:br")}};const ih={BEGIN:"begin",END:"end",SEPARATE:"separate"};class oh extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class kl extends Ee{constructor(e){super("w:fldChar"),this.root.push(new oh({type:ih.BEGIN,dirty:e}))}}class Ul extends Ee{constructor(e){super("w:fldChar"),this.root.push(new oh({type:ih.SEPARATE,dirty:e}))}}class Ll extends Ee{constructor(e){super("w:fldChar"),this.root.push(new oh({type:ih.END,dirty:e}))}}const Po={DEFAULT:"default",PRESERVE:"preserve"};class Oo extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{space:"xml:space"})}}class JI extends Ee{constructor(){super("w:instrText"),this.root.push(new Oo({space:Po.PRESERVE})),this.root.push("PAGE")}}class WI extends Ee{constructor(){super("w:instrText"),this.root.push(new Oo({space:Po.PRESERVE})),this.root.push("NUMPAGES")}}class $I extends Ee{constructor(){super("w:instrText"),this.root.push(new Oo({space:Po.PRESERVE})),this.root.push("SECTIONPAGES")}}class XI extends Ee{constructor(){super("w:instrText"),this.root.push(new Oo({space:Po.PRESERVE})),this.root.push("SECTION")}}class ZI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class dx extends Ee{constructor({fill:e,color:r,type:o}){super("w:shd"),this.root.push(new ZI({fill:e===void 0?void 0:Bo(e),color:r===void 0?void 0:Bo(r),type:o}))}}class jI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const QI={DOT:"dot"};class ek extends Ee{constructor(e){super("w:em"),this.root.push(new zt({val:e}))}}class tk extends ek{constructor(e=QI.DOT){super(e)}}class nk extends Ee{constructor(e){super("w:spacing"),this.root.push(new zt({val:Ri(e)}))}}class rk extends Ee{constructor(e){super("w:color"),this.root.push(new zt({val:Bo(e)}))}}class ik extends Ee{constructor(e){super("w:highlight"),this.root.push(new zt({val:e}))}}class ok extends Ee{constructor(e){super("w:highlightCs"),this.root.push(new zt({val:e}))}}const sk=t=>new ln({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class vv extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class hd extends Ee{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const o=e;this.root.push(new vv({ascii:o,cs:o,eastAsia:o,hAnsi:o,hint:r}))}else{const o=e;this.root.push(new vv(o))}}}let hx=class extends Ee{constructor(e){super("w:vertAlign"),this.root.push(new zt({val:e}))}};class ak extends hx{constructor(){super("superscript")}}class lk extends hx{constructor(){super("subscript")}}const sh={SINGLE:"single"};class uk extends Ee{constructor(e=sh.SINGLE,r){super("w:u"),this.root.push(new zt({val:e,color:r===void 0?void 0:Bo(r)}))}}class ki extends iu{constructor(e){var r,o;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new ke("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new ke("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new ke("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new ke("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new ke("w:iCs",(o=e.italicsComplexScript)!=null?o:e.italics)),e.underline&&this.push(new uk(e.underline.type,e.underline.color)),e.effect&&this.push(new Mo("w:effect",e.effect)),e.emphasisMark&&this.push(new tk(e.emphasisMark.type)),e.color&&this.push(new rk(e.color)),e.kern&&this.push(new dd("w:kern",e.kern)),e.position&&this.push(new Mo("w:position",e.position)),e.size!==void 0&&this.push(new dd("w:sz",e.size));const a=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;a&&this.push(new dd("w:szCs",a)),e.rightToLeft!==void 0&&this.push(new ke("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new ke("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new ke("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new ke("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new ke("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new lk),e.superScript&&this.push(new ak),e.style&&this.push(new Mo("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new hd(e.font)):"name"in e.font?this.push(new hd(e.font.name,e.font.hint)):this.push(new hd(e.font))),e.highlight&&this.push(new ik(e.highlight));const c=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;c&&this.push(new ok(c)),e.characterSpacing&&this.push(new nk(e.characterSpacing)),e.emboss!==void 0&&this.push(new ke("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new ke("w:imprint",e.imprint)),e.shading&&this.push(new dx(e.shading)),e.revision&&this.push(new ck(e.revision)),e.border&&this.push(new Ut("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new ke("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new ke("w:vanish",e.vanish)),e.specVanish&&this.push(new ke("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new nh("w:w",e.scale)),e.language&&this.push(sk(e.language)),e.math&&this.push(new ke("w:oMath",e.math))}push(e){this.root.push(e)}}class ck extends Ee{constructor(e){super("w:rPrChange"),this.root.push(new jI({id:e.id,author:e.author,date:e.date})),this.addChildElement(new ki(e))}}class kd extends Ee{constructor(e){var r;return super("w:t"),typeof e=="string"?(this.root.push(new Oo({space:Po.PRESERVE})),this.root.push(e),this):(this.root.push(new Oo({space:(r=e.space)!=null?r:Po.DEFAULT})),this.root.push(e.text),this)}}const Bl={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class ua extends Ee{constructor(e){if(super("w:r"),Se(this,"properties"),this.properties=new ki(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new YI);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case Bl.CURRENT:this.root.push(new kl),this.root.push(new JI),this.root.push(new Ul),this.root.push(new Ll);break;case Bl.TOTAL_PAGES:this.root.push(new kl),this.root.push(new WI),this.root.push(new Ul),this.root.push(new Ll);break;case Bl.TOTAL_PAGES_IN_SECTION:this.root.push(new kl),this.root.push(new $I),this.root.push(new Ul),this.root.push(new Ll);break;case Bl.CURRENT_SECTION:this.root.push(new kl),this.root.push(new XI),this.root.push(new Ul),this.root.push(new Ll);break;default:this.root.push(new kd(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new kd(e.text))}}class Ci extends ua{constructor(e){if(typeof e=="string")return super({}),this.root.push(new kd(e)),this;super(e)}}let fk="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",dk=(t,e=21)=>(r=e)=>{let o="",a=r;for(;a--;)o+=t[Math.random()*t.length|0];return o},hk=(t=21)=>{let e="",r=t;for(;r--;)e+=fk[Math.random()*64|0];return e};const Jn=t=>Math.floor(t*72*20),uu=(t=0)=>{let e=t;return()=>++e},pk=()=>uu(),mk=()=>uu(1),gk=()=>uu(),yk=()=>uu(),px=()=>hk().toLowerCase(),ra=t=>dk("1234567890abcdef",t)(),vk=()=>`${ra(8)}-${ra(4)}-${ra(4)}-${ra(4)}-${ra(12)}`,wk={PAGE:"page"},xk={PAGE:"page"};class Tk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{x:"x",y:"y"})}}class Sk extends Ee{constructor(){super("wp:simplePos"),this.root.push(new Tk({x:0,y:0}))}}class mx extends Ee{constructor(e){super("wp:align"),this.root.push(e)}}class gx extends Ee{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class Ek extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class _k extends Ee{constructor(e){if(super("wp:positionH"),this.root.push(new Ek({relativeFrom:e.relative||wk.PAGE})),e.align)this.root.push(new mx(e.align));else if(e.offset!==void 0)this.root.push(new gx(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class bk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class Ck extends Ee{constructor(e){if(super("wp:positionV"),this.root.push(new bk({relativeFrom:e.relative||xk.PAGE})),e.align)this.root.push(new mx(e.align));else if(e.offset!==void 0)this.root.push(new gx(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class Ak extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{uri:"uri"})}}class Rk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{embed:"r:embed",cstate:"cstate"})}}class Nk extends Ee{constructor(e){super("a:blip"),this.root.push(new Rk({embed:`rId{${e.fileName}}`,cstate:"none"}))}}class Dk extends Ee{constructor(){super("a:srcRect")}}class Mk extends Ee{constructor(){super("a:fillRect")}}class Ik extends Ee{constructor(){super("a:stretch"),this.root.push(new Mk)}}class kk extends Ee{constructor(e){super("pic:blipFill"),this.root.push(new Nk(e)),this.root.push(new Dk),this.root.push(new Ik)}}class Uk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class Lk extends Ee{constructor(){super("a:picLocks"),this.root.push(new Uk({noChangeAspect:1,noChangeArrowheads:1}))}}class Bk extends Ee{constructor(){super("pic:cNvPicPr"),this.root.push(new Lk)}}const yx=(t,e)=>new ln({name:"a:hlinkClick",attributes:Uo(lt({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class Pk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class Ok extends Ee{constructor(){super("pic:cNvPr"),this.root.push(new Pk({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof ah){this.root.push(yx(o.linkId,!1));break}}return super.prepForXml(e)}}class Fk extends Ee{constructor(){super("pic:nvPicPr"),this.root.push(new Ok),this.root.push(new Bk)}}class zk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class Gk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Vk extends Ee{constructor(e,r){super("a:ext"),Se(this,"attributes"),this.attributes=new Gk({cx:e,cy:r}),this.root.push(this.attributes)}}class qk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{x:"x",y:"y"})}}class Hk extends Ee{constructor(){super("a:off"),this.root.push(new qk({x:0,y:0}))}}class Kk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class Yk extends Ee{constructor(e){var r,o;super("a:xfrm"),Se(this,"extents"),this.root.push(new Kk({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(o=e.flip)==null?void 0:o.horizontal,rotation:e.rotation})),this.extents=new Vk(e.emus.x,e.emus.y),this.root.push(new Hk),this.root.push(this.extents)}}const vx=()=>new ln({name:"a:noFill"}),Jk=t=>new ln({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),Wk=t=>new ln({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),wv=t=>new ln({name:"a:solidFill",children:[t.type==="rgb"?Wk(t):Jk(t)]}),$k=t=>new ln({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?vx():t.solidFillType==="rgb"?wv({type:"rgb",value:t.value}):wv({type:"scheme",value:t.value})]});class Xk extends Ee{constructor(){super("a:avLst")}}class Zk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{prst:"prst"})}}class jk extends Ee{constructor(){super("a:prstGeom"),this.root.push(new Zk({prst:"rect"})),this.root.push(new Xk)}}class Qk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{bwMode:"bwMode"})}}class e6 extends Ee{constructor({outline:e,transform:r}){super("pic:spPr"),Se(this,"form"),this.root.push(new Qk({bwMode:"auto"})),this.form=new Yk(r),this.root.push(this.form),this.root.push(new jk),e&&(this.root.push(vx()),this.root.push($k(e)))}}class t6 extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("pic:pic"),this.root.push(new zk({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new Fk),this.root.push(new kk(e)),this.root.push(new e6({transform:r,outline:o}))}}class n6 extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("a:graphicData"),Se(this,"pic"),this.root.push(new Ak({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new t6({mediaData:e,transform:r,outline:o}),this.root.push(this.pic)}}class r6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{a:"xmlns:a"})}}class wx extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("a:graphic"),Se(this,"data"),this.root.push(new r6({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new n6({mediaData:e,transform:r,outline:o}),this.root.push(this.data)}}const Pl={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},i6={BOTH_SIDES:"bothSides"};class xv extends Ee{constructor(){super("wp:wrapNone")}}class o6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class s6 extends Ee{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new o6({wrapText:e.side||i6.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class a6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class l6 extends Ee{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new a6({distT:e.top,distB:e.bottom}))}}class u6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class c6 extends Ee{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new u6({distT:e.top,distB:e.bottom}))}}class xx extends Ee{constructor({name:e,description:r,title:o}={name:"",description:"",title:""}){super("wp:docPr"),Se(this,"docPropertiesUniqueNumericId",gk()),this.root.push(new Ko({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:r},title:{key:"title",value:o}}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof ah){this.root.push(yx(o.linkId,!0));break}}return super.prepForXml(e)}}const Tx=({top:t,right:e,bottom:r,left:o})=>new ln({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:o}}});class f6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Sx extends Ee{constructor(e,r){super("wp:extent"),Se(this,"attributes"),this.attributes=new f6({cx:e,cy:r}),this.root.push(this.attributes)}}class d6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class h6 extends Ee{constructor(){super("a:graphicFrameLocks"),this.root.push(new d6({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class Ex extends Ee{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new h6)}}class p6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class m6 extends Ee{constructor({mediaData:e,transform:r,drawingOptions:o}){super("wp:anchor");const a=lt({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},o.floating);if(this.root.push(new p6({distT:a.margins&&a.margins.top||0,distB:a.margins&&a.margins.bottom||0,distL:a.margins&&a.margins.left||0,distR:a.margins&&a.margins.right||0,simplePos:"0",allowOverlap:a.allowOverlap===!0?"1":"0",behindDoc:a.behindDocument===!0?"1":"0",locked:a.lockAnchor===!0?"1":"0",layoutInCell:a.layoutInCell===!0?"1":"0",relativeHeight:a.zIndex?a.zIndex:r.emus.y})),this.root.push(new Sk),this.root.push(new _k(a.horizontalPosition)),this.root.push(new Ck(a.verticalPosition)),this.root.push(new Sx(r.emus.x,r.emus.y)),this.root.push(Tx({top:0,right:0,bottom:0,left:0})),o.floating!==void 0&&o.floating.wrap!==void 0)switch(o.floating.wrap.type){case Pl.SQUARE:this.root.push(new s6(o.floating.wrap,o.floating.margins));break;case Pl.TIGHT:this.root.push(new l6(o.floating.margins));break;case Pl.TOP_AND_BOTTOM:this.root.push(new c6(o.floating.margins));break;case Pl.NONE:default:this.root.push(new xv)}else this.root.push(new xv);this.root.push(new xx(o.docProperties)),this.root.push(new Ex),this.root.push(new wx({mediaData:e,transform:r,outline:o.outline}))}}const g6=({mediaData:t,transform:e,docProperties:r,outline:o})=>{var a,c,d,h;return new ln({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new Sx(e.emus.x,e.emus.y),Tx(o?{top:((a=o.width)!=null?a:9525)*2,right:((c=o.width)!=null?c:9525)*2,bottom:((d=o.width)!=null?d:9525)*2,left:((h=o.width)!=null?h:9525)*2}:{top:0,right:0,bottom:0,left:0}),new xx(r),new Ex,new wx({mediaData:t,transform:e,outline:o})]})};class y6 extends Ee{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new m6({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(g6({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}class v6 extends ua{constructor(e){super({}),Se(this,"key",`${px()}.png`),Se(this,"imageData");const r=typeof e.data=="string"?this.convertDataURIToBinary(e.data):e.data;this.imageData={stream:r,fileName:this.key,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}};const o=new y6(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(o)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),super.prepForXml(e)}convertDataURIToBinary(e){if(typeof atob=="function"){const r=";base64,",o=e.indexOf(r),a=o===-1?0:o+r.length;return new Uint8Array(atob(e.substring(a)).split("").map(c=>c.charCodeAt(0)))}else{const r=require("buffer");return new r.Buffer(e,"base64")}}}class w6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class x6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class T6 extends Ee{constructor({id:e,initials:r,author:o,date:a=new Date,children:c}){super("w:comment"),this.root.push(new w6({id:e,initials:r,author:o,date:a.toISOString()}));for(const d of c)this.root.push(d)}}class S6 extends Ee{constructor({children:e}){super("w:comments"),this.root.push(new x6({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new T6(r))}}class E6 extends Ee{constructor(){super("w:pageBreakBefore")}}const Ud={AUTO:"auto"};class _6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class b6 extends Ee{constructor(e){super("w:spacing"),this.root.push(new _6(e))}}const To={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",TITLE:"Title"};let Ol=class extends Ee{constructor(e){super("w:pStyle"),this.root.push(new zt({val:e}))}};class C6 extends Ee{constructor(e){super("w:tabs");for(const r of e)this.root.push(new R6(r))}}const Tv={LEFT:"left",RIGHT:"right"};class A6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class R6 extends Ee{constructor({type:e,position:r,leader:o}){super("w:tab"),this.root.push(new A6({val:e,pos:r,leader:o}))}}class Sv extends Ee{constructor(e,r){super("w:numPr"),this.root.push(new N6(r)),this.root.push(new D6(e))}}class N6 extends Ee{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new zt({val:e}))}}class D6 extends Ee{constructor(e){super("w:numId"),this.root.push(new zt({val:typeof e=="string"?`{${e}}`:e}))}}class M6 extends Ee{constructor(){super(...arguments),Se(this,"fileChild",Symbol())}}class I6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const k6={EXTERNAL:"External"};class U6 extends Ee{constructor(e,r,o,a){super("Relationship"),this.root.push(new I6({id:e,type:r,target:o,targetMode:a}))}}class L6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class ah extends Ee{constructor(e,r,o){super("w:hyperlink"),Se(this,"linkId"),this.linkId=r;const a={history:1,anchor:o||void 0,id:o?void 0:`rId${this.linkId}`},c=new L6(a);this.root.push(c),e.forEach(d=>{this.root.push(d)})}}class B6 extends Ee{constructor(e){super("w:externalHyperlink"),this.options=e}}class P6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class O6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id"})}}class F6{constructor(e){Se(this,"bookmarkUniqueNumericId",yk()),Se(this,"start"),Se(this,"children"),Se(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new z6(e.id,r),this.children=e.children,this.end=new G6(r)}}class z6 extends Ee{constructor(e,r){super("w:bookmarkStart");const o=new P6({name:e,id:r});this.root.push(o)}}class G6 extends Ee{constructor(e){super("w:bookmarkEnd");const r=new O6({id:e});this.root.push(r)}}class V6 extends Ee{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new zt({val:e}))}}class q6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{verticalAlign:"w:val"})}}class H6 extends Ee{constructor(e){super("w:vAlign"),this.root.push(new q6({verticalAlign:e}))}}const Io={DEFAULT:"default",FIRST:"first",EVEN:"even"};class K6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Ev={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class pd extends Ee{constructor(e,r){super(e),this.root.push(new K6({type:r.type||Io.DEFAULT,id:`rId${r.id}`}))}}class Y6 extends Ee{constructor({space:e,count:r,separate:o,equalWidth:a,children:c}){super("w:cols"),this.root.push(new Ko({space:{key:"w:space",value:e===void 0?void 0:Wn(e)},count:{key:"w:num",value:r===void 0?void 0:wn(r)},separate:{key:"w:sep",value:o},equalWidth:{key:"w:equalWidth",value:a}})),!a&&c&&c.forEach(d=>this.addChildElement(d))}}class J6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class W6 extends Ee{constructor(e,r,o){super("w:docGrid"),this.root.push(new J6({type:o,linePitch:wn(e),charSpace:r?wn(r):void 0}))}}const $6=({countBy:t,start:e,restart:r,distance:o})=>new ln({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:wn(t)},start:{key:"w:start",value:e===void 0?void 0:wn(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:o===void 0?void 0:Wn(o)}}});class _v extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class X6 extends iu{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new _v({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new _v({})),e.pageBorderTop&&this.root.push(new Ut("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Ut("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Ut("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Ut("w:right",e.pageBorderRight))}}class Z6 extends Ee{constructor(e,r,o,a,c,d,h){super("w:pgMar"),this.root.push(new Ko({top:{key:"w:top",value:Ri(e)},right:{key:"w:right",value:Wn(r)},bottom:{key:"w:bottom",value:Ri(o)},left:{key:"w:left",value:Wn(a)},header:{key:"w:header",value:Wn(c)},footer:{key:"w:footer",value:Wn(d)},gutter:{key:"w:gutter",value:Wn(h)}}))}}class j6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Q6 extends Ee{constructor({start:e,formatType:r,separator:o}){super("w:pgNumType"),this.root.push(new j6({start:e===void 0?void 0:wn(e),formatType:r,separator:o}))}}const _x={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class e4 extends Ee{constructor(e,r,o){super("w:pgSz");const a=o===_x.LANDSCAPE,c=Wn(e),d=Wn(r);this.root.push(new Ko({width:{key:"w:w",value:a?d:c},height:{key:"w:h",value:a?c:d},orientation:{key:"w:orient",value:o}}))}}class t4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class n4 extends Ee{constructor(e){super("w:textDirection"),this.root.push(new t4({val:e}))}}class r4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class i4 extends Ee{constructor(e){super("w:type"),this.root.push(new r4({val:e}))}}const bi={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},md={WIDTH:11906,HEIGHT:16838,ORIENTATION:_x.PORTRAIT};class o4 extends Ee{constructor({page:{size:{width:e=md.WIDTH,height:r=md.HEIGHT,orientation:o=md.ORIENTATION}={},margin:{top:a=bi.TOP,right:c=bi.RIGHT,bottom:d=bi.BOTTOM,left:h=bi.LEFT,header:p=bi.HEADER,footer:m=bi.FOOTER,gutter:y=bi.GUTTER}={},pageNumbers:w={},borders:S,textDirection:E}={},grid:{linePitch:D=360,charSpace:C,type:U}={},headerWrapperGroup:R={},footerWrapperGroup:I={},lineNumbers:P,titlePage:H,verticalAlign:q,column:ce,type:ae}={}){super("w:sectPr"),this.addHeaderFooterGroup(Ev.HEADER,R),this.addHeaderFooterGroup(Ev.FOOTER,I),ae&&this.root.push(new i4(ae)),this.root.push(new e4(e,r,o)),this.root.push(new Z6(a,c,d,h,p,m,y)),S&&this.root.push(new X6(S)),P&&this.root.push($6(P)),this.root.push(new Q6(w)),ce&&this.root.push(new Y6(ce)),q&&this.root.push(new H6(q)),H!==void 0&&this.root.push(new ke("w:titlePg",H)),E&&this.root.push(new n4(E)),this.root.push(new W6(D,C,U))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new pd(e,{type:Io.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new pd(e,{type:Io.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new pd(e,{type:Io.EVEN,id:r.even.View.ReferenceId}))}}class s4 extends Ee{constructor(){super("w:body"),Se(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new o4(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new rn({}),o=new Fo({});return o.push(e),r.addChildElement(o),r}}class ca extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class a4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class l4 extends Ee{constructor(e){super("w:background"),this.root.push(new a4({color:e.color===void 0?void 0:Bo(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:yv(e.themeShade),themeTint:e.themeTint===void 0?void 0:yv(e.themeTint)}))}}class u4 extends Ee{constructor(e){super("w:document"),Se(this,"body"),this.root.push(new ca({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new s4,e.background&&this.root.push(new l4(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class c4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class Wo extends Ee{constructor(){super("Relationships"),this.root.push(new c4({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,o,a){const c=new U6(`rId${e}`,r,o,a);return this.root.push(c),c}get RelationshipCount(){return this.root.length-1}}class bx{constructor(e){Se(this,"document"),Se(this,"relationships"),this.document=new u4(e),this.relationships=new Wo}get View(){return this.document}get Relationships(){return this.relationships}}class f4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class d4 extends Ee{constructor(){super("w:wordWrap"),this.root.push(new f4({val:0}))}}const h4=t=>{var e,r;return new ln({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Fo extends iu{constructor(e){var r,o;if(super("w:pPr"),Se(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Ol(e.heading)),e.bullet&&this.push(new Ol("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Ol("ListParagraph"))),e.style&&this.push(new Ol(e.style)),e.keepNext!==void 0&&this.push(new ke("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new ke("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new E6),e.frame&&this.push(h4(e.frame)),e.widowControl!==void 0&&this.push(new ke("w:widowControl",e.widowControl)),e.bullet&&this.push(new Sv(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Sv(`${e.numbering.reference}-${(o=e.numbering.instance)!=null?o:0}`,e.numbering.level))),e.border&&this.push(new qI(e.border)),e.thematicBreak&&this.push(new HI),e.shading&&this.push(new dx(e.shading)),e.wordWrap&&this.push(new d4),e.overflowPunctuation&&this.push(new ke("w:overflowPunct",e.overflowPunctuation));const a=[...e.rightTabStop!==void 0?[{type:Tv.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:Tv.LEFT,position:e.leftTabStop}]:[]];a.length>0&&this.push(new C6(a)),e.bidirectional!==void 0&&this.push(new ke("w:bidi",e.bidirectional)),e.spacing&&this.push(new b6(e.spacing)),e.indent&&this.push(new KI(e.indent)),e.contextualSpacing!==void 0&&this.push(new ke("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new GI(e.alignment)),e.outlineLevel!==void 0&&this.push(new V6(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new ke("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new ke("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new ki(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof bx)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class rn extends M6{constructor(e){if(super("w:p"),Se(this,"properties"),typeof e=="string")return this.properties=new Fo({}),this.root.push(this.properties),this.root.push(new Ci(e)),this;if(this.properties=new Fo(e),this.root.push(this.properties),e.text&&this.root.push(new Ci(e.text)),e.children)for(const r of e.children){if(r instanceof F6){this.root.push(r.start);for(const o of r.children)this.root.push(o);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof B6){const o=this.root.indexOf(r),a=new ah(r.options.children,px());e.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,k6.EXTERNAL),this.root[o]=a}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const So={style:rh.NONE,size:0,color:"auto"},Eo={style:rh.SINGLE,size:4,color:"auto"};class p4 extends Ee{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Ut("w:top",e.top)):this.root.push(new Ut("w:top",Eo)),e.left?this.root.push(new Ut("w:left",e.left)):this.root.push(new Ut("w:left",Eo)),e.bottom?this.root.push(new Ut("w:bottom",e.bottom)):this.root.push(new Ut("w:bottom",Eo)),e.right?this.root.push(new Ut("w:right",e.right)):this.root.push(new Ut("w:right",Eo)),e.insideHorizontal?this.root.push(new Ut("w:insideH",e.insideHorizontal)):this.root.push(new Ut("w:insideH",Eo)),e.insideVertical?this.root.push(new Ut("w:insideV",e.insideVertical)):this.root.push(new Ut("w:insideV",Eo))}}Se(p4,"NONE",{top:So,bottom:So,left:So,right:So,insideHorizontal:So,insideVertical:So});class m4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class g4 extends Ee{constructor(){super("Properties"),this.root.push(new m4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class y4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class v4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class ii extends Ee{constructor(e,r){super("Default"),this.root.push(new v4({contentType:e,extension:r}))}}class w4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class On extends Ee{constructor(e,r){super("Override"),this.root.push(new w4({contentType:e,partName:r}))}}class x4 extends Ee{constructor(){super("Types"),this.root.push(new y4({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new ii("image/png","png")),this.root.push(new ii("image/jpeg","jpeg")),this.root.push(new ii("image/jpeg","jpg")),this.root.push(new ii("image/bmp","bmp")),this.root.push(new ii("image/gif","gif")),this.root.push(new ii("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new ii("application/xml","xml")),this.root.push(new ii("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new On("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new On("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new On("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new On("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class T4 extends Ee{constructor(e){super("cp:coreProperties"),this.root.push(new ca({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new _i("dc:title",e.title)),e.subject&&this.root.push(new _i("dc:subject",e.subject)),e.creator&&this.root.push(new _i("dc:creator",e.creator)),e.keywords&&this.root.push(new _i("cp:keywords",e.keywords)),e.description&&this.root.push(new _i("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new _i("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new _i("cp:revision",String(e.revision))),this.root.push(new bv("dcterms:created")),this.root.push(new bv("dcterms:modified"))}}class bv extends Ee{constructor(e){super(e),this.root.push(new ca({type:"dcterms:W3CDTF"})),this.root.push(FI(new Date))}}class S4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class E4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class _4 extends Ee{constructor(e,r){super("property"),this.root.push(new E4({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new b4(r.value))}}class b4 extends Ee{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class C4 extends Ee{constructor(e){super("Properties"),Se(this,"nextId"),Se(this,"properties",[]),this.root.push(new S4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new _4(this.nextId++,e))}}class A4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let R4=class extends lx{constructor(e,r){super("w:ftr",r),Se(this,"refId"),this.refId=e,r||this.root.push(new A4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class N4{constructor(e,r,o){Se(this,"footer"),Se(this,"relationships"),this.media=e,this.footer=new R4(r,o),this.relationships=new Wo}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class D4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class M4 extends Ee{constructor(){super("w:footnoteRef")}}class I4 extends ua{constructor(){super({style:"FootnoteReference"}),this.root.push(new M4)}}const Cv={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class gd extends Ee{constructor(e){super("w:footnote"),this.root.push(new D4({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const o=e.children[r];r===0&&o.addRunToFront(new I4),this.root.push(o)}}}class k4 extends Ee{constructor(){super("w:continuationSeparator")}}class U4 extends ua{constructor(){super({}),this.root.push(new k4)}}class L4 extends Ee{constructor(){super("w:separator")}}class B4 extends ua{constructor(){super({}),this.root.push(new L4)}}class P4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class O4 extends Ee{constructor(){super("w:footnotes"),this.root.push(new P4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new gd({id:-1,type:Cv.SEPERATOR,children:[new rn({spacing:{after:0,line:240,lineRule:Ud.AUTO},children:[new B4]})]});this.root.push(e);const r=new gd({id:0,type:Cv.CONTINUATION_SEPERATOR,children:[new rn({spacing:{after:0,line:240,lineRule:Ud.AUTO},children:[new U4]})]});this.root.push(r)}createFootNote(e,r){const o=new gd({id:e,children:r});this.root.push(o)}}class F4{constructor(){Se(this,"footnotess"),Se(this,"relationships"),this.footnotess=new O4,this.relationships=new Wo}get View(){return this.footnotess}get Relationships(){return this.relationships}}class z4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let G4=class extends lx{constructor(e,r){super("w:hdr",r),Se(this,"refId"),this.refId=e,r||this.root.push(new z4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class V4{constructor(e,r,o){Se(this,"header"),Se(this,"relationships"),this.media=e,this.header=new G4(r,o),this.relationships=new Wo}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class q4{constructor(){Se(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Ar={BULLET:"bullet"};class H4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class K4 extends Ee{constructor(e){super("w:numFmt"),this.root.push(new zt({val:e}))}}class Y4 extends Ee{constructor(e){super("w:lvlText"),this.root.push(new zt({val:e}))}}class J4 extends Ee{constructor(e){super("w:lvlJc"),this.root.push(new zt({val:e}))}}class W4 extends Ee{constructor(e){super("w:suff"),this.root.push(new zt({val:e}))}}class $4 extends Ee{constructor(){super("w:isLgl")}}class X4 extends Ee{constructor({level:e,format:r,text:o,alignment:a=vn.START,start:c=1,style:d,suffix:h,isLegalNumberingStyle:p}){if(super("w:lvl"),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.root.push(new nh("w:start",wn(c))),r&&this.root.push(new K4(r)),h&&this.root.push(new W4(h)),p&&this.root.push(new $4),o&&this.root.push(new Y4(o)),this.root.push(new J4(a)),this.paragraphProperties=new Fo(d&&d.paragraph),this.runProperties=new ki(d&&d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new H4({ilvl:wn(e),tentative:1}))}}class Z4 extends X4{}class j4 extends Ee{constructor(e){super("w:multiLevelType"),this.root.push(new zt({val:e}))}}class Q4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class Av extends Ee{constructor(e,r){super("w:abstractNum"),Se(this,"id"),this.root.push(new Q4({abstractNumId:wn(e),restartNumberingAfterBreak:0})),this.root.push(new j4("hybridMultilevel")),this.id=e;for(const o of r)this.root.push(new Z4(o))}}class e3 extends Ee{constructor(e){super("w:abstractNumId"),this.root.push(new zt({val:e}))}}class t3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{numId:"w:numId"})}}class Rv extends Ee{constructor(e){if(super("w:num"),Se(this,"numId"),Se(this,"reference"),Se(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new t3({numId:wn(e.numId)})),this.root.push(new e3(wn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new r3(r.num,r.start))}}class n3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl"})}}class r3 extends Ee{constructor(e,r){super("w:lvlOverride"),this.root.push(new n3({ilvl:e})),r!==void 0&&this.root.push(new o3(r))}}class i3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class o3 extends Ee{constructor(e){super("w:startOverride"),this.root.push(new i3({val:e}))}}class s3 extends Ee{constructor(e){super("w:numbering"),Se(this,"abstractNumberingMap",new Map),Se(this,"concreteNumberingMap",new Map),Se(this,"referenceConfigMap",new Map),Se(this,"abstractNumUniqueNumericId",pk()),Se(this,"concreteNumUniqueNumericId",mk()),this.root.push(new ca({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new Av(this.abstractNumUniqueNumericId(),[{level:0,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:Jn(.5),hanging:Jn(.25)}}}},{level:1,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:Jn(1),hanging:Jn(.25)}}}},{level:2,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:2160,hanging:Jn(.25)}}}},{level:3,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:2880,hanging:Jn(.25)}}}},{level:4,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:3600,hanging:Jn(.25)}}}},{level:5,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:4320,hanging:Jn(.25)}}}},{level:6,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:5040,hanging:Jn(.25)}}}},{level:7,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:5760,hanging:Jn(.25)}}}},{level:8,format:Ar.BULLET,text:"",alignment:vn.LEFT,style:{paragraph:{indent:{left:6480,hanging:Jn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Rv({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const o of e.config)this.abstractNumberingMap.set(o.reference,new Av(this.abstractNumUniqueNumericId(),o.levels)),this.referenceConfigMap.set(o.reference,o.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const o=this.abstractNumberingMap.get(e);if(!o)return;const a=`${e}-${r}`;if(this.concreteNumberingMap.has(a))return;const c=this.referenceConfigMap.get(e),d=c&&c[0].start,h={numId:this.concreteNumUniqueNumericId(),abstractNumId:o.id,reference:e,instance:r,overrideLevels:[d&&Number.isInteger(d)?{num:0,start:d}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new Rv(h))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class a3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class l3 extends Ee{constructor(e){super("w:compatSetting"),this.root.push(new a3({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class u3 extends Ee{constructor(e){super("w:compat"),e.version&&this.root.push(new l3(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new ke("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new ke("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new ke("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new ke("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new ke("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new ke("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new ke("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new ke("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new ke("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new ke("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new ke("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new ke("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new ke("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new ke("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new ke("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new ke("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new ke("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new ke("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new ke("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new ke("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new ke("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new ke("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new ke("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new ke("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new ke("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new ke("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new ke("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new ke("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new ke("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new ke("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new ke("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new ke("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new ke("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new ke("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new ke("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new ke("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new ke("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new ke("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new ke("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new ke("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new ke("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new ke("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new ke("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new ke("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new ke("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new ke("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new ke("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new ke("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new ke("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new ke("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new ke("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new ke("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new ke("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new ke("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new ke("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new ke("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new ke("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new ke("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new ke("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new ke("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new ke("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new ke("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new ke("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new ke("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new ke("w:cachedColBalance",e.cachedColumnBalance))}}class c3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class f3 extends Ee{constructor(e){var r,o,a,c;super("w:settings"),this.root.push(new c3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new ke("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new ke("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new ke("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new ke("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new nh("w:defaultTabStop",e.defaultTabStop)),this.root.push(new u3(Uo(lt({},(r=e.compatibility)!=null?r:{}),{version:(c=(a=(o=e.compatibility)==null?void 0:o.version)!=null?a:e.compatibilityModeVersion)!=null?c:15})))}}class Cx extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class d3 extends Ee{constructor(e){super("w:name"),this.root.push(new Cx({val:e}))}}class h3 extends Ee{constructor(e){super("w:uiPriority"),this.root.push(new Cx({val:wn(e)}))}}class p3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Ax extends Ee{constructor(e,r){super("w:style"),this.root.push(new p3(e)),r.name&&this.root.push(new d3(r.name)),r.basedOn&&this.root.push(new Mo("w:basedOn",r.basedOn)),r.next&&this.root.push(new Mo("w:next",r.next)),r.link&&this.root.push(new Mo("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new h3(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new ke("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new ke("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new ke("w:qFormat",r.quickFormat))}}class cu extends Ax{constructor(e){super({type:"paragraph",styleId:e.id},e),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.paragraphProperties=new Fo(e.paragraph),this.runProperties=new ki(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class fu extends Ax{constructor(e){super({type:"character",styleId:e.id},lt({uiPriority:99,unhideWhenUsed:!0},e)),Se(this,"runProperties"),this.runProperties=new ki(e.run),this.root.push(this.runProperties)}}class oi extends cu{constructor(e){super(lt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class m3 extends oi{constructor(e){super(lt({id:"Title",name:"Title"},e))}}class g3 extends oi{constructor(e){super(lt({id:"Heading1",name:"Heading 1"},e))}}class y3 extends oi{constructor(e){super(lt({id:"Heading2",name:"Heading 2"},e))}}class v3 extends oi{constructor(e){super(lt({id:"Heading3",name:"Heading 3"},e))}}class w3 extends oi{constructor(e){super(lt({id:"Heading4",name:"Heading 4"},e))}}class x3 extends oi{constructor(e){super(lt({id:"Heading5",name:"Heading 5"},e))}}class T3 extends oi{constructor(e){super(lt({id:"Heading6",name:"Heading 6"},e))}}class S3 extends oi{constructor(e){super(lt({id:"Strong",name:"Strong"},e))}}class E3 extends cu{constructor(e){super(lt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class _3 extends cu{constructor(e){super(lt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Ud.AUTO}},run:{size:20}},e))}}class b3 extends fu{constructor(e){super(lt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class C3 extends fu{constructor(e){super(lt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class A3 extends fu{constructor(e){super(lt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:sh.SINGLE}}},e))}}class Ld extends Ee{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new cu(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new fu(r))}}class R3 extends Ee{constructor(e){super("w:pPrDefault"),this.root.push(new Fo(e))}}class N3 extends Ee{constructor(e){super("w:rPrDefault"),this.root.push(new ki(e))}}class D3 extends Ee{constructor(e){super("w:docDefaults"),Se(this,"runPropertiesDefaults"),Se(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new N3(e.run),this.paragraphPropertiesDefaults=new R3(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class M3{newInstance(e){const r=ax.xml2js(e,{compact:!1});let o;for(const d of r.elements||[])d.name==="w:styles"&&(o=d);if(o===void 0)throw new Error("can not find styles element");const a=o.elements||[];return new Ld({initialStyles:new LI(o.attributes),importedStyles:a.map(d=>th(d))})}}class Nv{newInstance(e={}){var r;return{initialStyles:new ca({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new D3((r=e.document)!=null?r:{}),new m3(lt({run:{size:56}},e.title)),new g3(lt({run:{color:"2E74B5",size:32}},e.heading1)),new y3(lt({run:{color:"2E74B5",size:26}},e.heading2)),new v3(lt({run:{color:"1F4D78",size:24}},e.heading3)),new w3(lt({run:{color:"2E74B5",italics:!0}},e.heading4)),new x3(lt({run:{color:"2E74B5"}},e.heading5)),new T3(lt({run:{color:"1F4D78"}},e.heading6)),new S3(lt({run:{bold:!0}},e.strong)),new E3(e.listParagraph||{}),new A3(e.hyperlink||{}),new b3(e.footnoteReference||{}),new _3(e.footnoteText||{}),new C3(e.footnoteTextChar||{})]}}}const Fl=({id:t,fontKey:e,subsetted:r},o)=>new ln({name:o,attributes:lt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new ke("w:subsetted",r)]:[]]}),I3=({name:t,altName:e,panose1:r,charset:o,family:a,notTrueType:c,pitch:d,sig:h,embedRegular:p,embedBold:m,embedItalic:y,embedBoldItalic:w})=>new ln({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[na("w:altName",e)]:[],...r?[na("w:panose1",r)]:[],...o?[na("w:charset",o)]:[],na("w:family",a),...c?[new ke("w:notTrueType",c)]:[],na("w:pitch",d),...h?[new ln({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:h.usb0},usb1:{key:"w:usb1",value:h.usb1},usb2:{key:"w:usb2",value:h.usb2},usb3:{key:"w:usb3",value:h.usb3},csb0:{key:"w:csb0",value:h.csb0},csb1:{key:"w:csb1",value:h.csb1}}})]:[],...p?[Fl(p,"w:embedRegular")]:[],...m?[Fl(m,"w:embedBold")]:[],...y?[Fl(y,"w:embedItalic")]:[],...w?[Fl(w,"w:embedBoldItalic")]:[]]}),k3=({name:t,index:e,fontKey:r,characterSet:o})=>I3({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),U3=t=>new ln({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>k3({name:e.name,index:r+1,fontKey:e.fontKey}))});class L3{constructor(e){Se(this,"fontTable"),Se(this,"relationships"),Se(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Uo(lt({},r),{fontKey:vk()})),this.fontTable=U3(this.fontOptionsWithKey),this.relationships=new Wo;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}let B3=class{constructor(e){Se(this,"currentRelationshipId",1),Se(this,"documentWrapper"),Se(this,"headers",[]),Se(this,"footers",[]),Se(this,"coreProperties"),Se(this,"numbering"),Se(this,"media"),Se(this,"fileRelationships"),Se(this,"footnotesWrapper"),Se(this,"settings"),Se(this,"contentTypes"),Se(this,"customProperties"),Se(this,"appProperties"),Se(this,"styles"),Se(this,"comments"),Se(this,"fontWrapper");var r,o,a,c,d,h,p,m;if(this.coreProperties=new T4(Uo(lt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(o=e.revision)!=null?o:1,lastModifiedBy:(a=e.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new s3(e.numbering?e.numbering:{config:[]}),this.comments=new S6((c=e.comments)!=null?c:{children:[]}),this.fileRelationships=new Wo,this.customProperties=new C4((d=e.customProperties)!=null?d:[]),this.appProperties=new g4,this.footnotesWrapper=new F4,this.contentTypes=new x4,this.documentWrapper=new bx({background:e.background}),this.settings=new f3({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(h=e.features)==null?void 0:h.trackRevisions,updateFields:(p=e.features)==null?void 0:p.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new q4,e.externalStyles){const y=new M3;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const w=new Nv().newInstance(e.styles.default);this.styles=new Ld(lt(lt({},w),e.styles))}else{const y=new Nv;this.styles=new Ld(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new L3((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:r={},children:o,properties:a}){this.documentWrapper.View.Body.addSection(Uo(lt({},a),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const c of o)this.documentWrapper.View.add(c)}createHeader(e){const r=new V4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addHeaderToDocument(r),r}createFooter(e){const r=new N4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Io.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Io.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};function zl(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rx={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return(function r(o,a,c){function d(m,y){if(!a[m]){if(!o[m]){var w=typeof zl=="function"&&zl;if(!y&&w)return w(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var E=a[m]={exports:{}};o[m][0].call(E.exports,function(D){var C=o[m][1][D];return d(C||D)},E,E.exports,r,o,a,c)}return a[m].exports}for(var h=typeof zl=="function"&&zl,p=0;p<c.length;p++)d(c[p]);return d})({1:[function(r,o,a){var c=r("./utils"),d=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(p){for(var m,y,w,S,E,D,C,U=[],R=0,I=p.length,P=I,H=c.getTypeOf(p)!=="string";R<p.length;)P=I-R,w=H?(m=p[R++],y=R<I?p[R++]:0,R<I?p[R++]:0):(m=p.charCodeAt(R++),y=R<I?p.charCodeAt(R++):0,R<I?p.charCodeAt(R++):0),S=m>>2,E=(3&m)<<4|y>>4,D=1<P?(15&y)<<2|w>>6:64,C=2<P?63&w:64,U.push(h.charAt(S)+h.charAt(E)+h.charAt(D)+h.charAt(C));return U.join("")},a.decode=function(p){var m,y,w,S,E,D,C=0,U=0,R="data:";if(p.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var I,P=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&P--,p.charAt(p.length-2)===h.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=d.uint8array?new Uint8Array(0|P):new Array(0|P);C<p.length;)m=h.indexOf(p.charAt(C++))<<2|(S=h.indexOf(p.charAt(C++)))>>4,y=(15&S)<<4|(E=h.indexOf(p.charAt(C++)))>>2,w=(3&E)<<6|(D=h.indexOf(p.charAt(C++))),I[U++]=m,E!==64&&(I[U++]=y),D!==64&&(I[U++]=w);return I}},{"./support":30,"./utils":32}],2:[function(r,o,a){var c=r("./external"),d=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function m(y,w,S,E,D){this.compressedSize=y,this.uncompressedSize=w,this.crc32=S,this.compression=E,this.compressedContent=D}m.prototype={getContentWorker:function(){var y=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),w=this;return y.on("end",function(){if(this.streamInfo.data_length!==w.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,w,S){return y.pipe(new h).pipe(new p("uncompressedSize")).pipe(w.compressWorker(S)).pipe(new p("compressedSize")).withStreamInfo("compression",w)},o.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,a){var c=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,a){var c=r("./utils"),d=(function(){for(var h,p=[],m=0;m<256;m++){h=m;for(var y=0;y<8;y++)h=1&h?3988292384^h>>>1:h>>>1;p[m]=h}return p})();o.exports=function(h,p){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,y,w,S){var E=d,D=S+w;m^=-1;for(var C=S;C<D;C++)m=m>>>8^E[255&(m^y[C])];return-1^m})(0|p,h,h.length,0):(function(m,y,w,S){var E=d,D=S+w;m^=-1;for(var C=S;C<D;C++)m=m>>>8^E[255&(m^y.charCodeAt(C))];return-1^m})(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,o,a){var c=null;c=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:c}},{lie:37}],7:[function(r,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=r("pako"),h=r("./utils"),p=r("./stream/GenericWorker"),m=c?"uint8array":"array";function y(w,S){p.call(this,"FlateWorker/"+w),this._pako=null,this._pakoAction=w,this._pakoOptions=S,this.meta={}}a.magic="\b\0",h.inherits(y,p),y.prototype.processChunk=function(w){this.meta=w.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,w.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var w=this;this._pako.onData=function(S){w.push({data:S,meta:w.meta})}},a.compressWorker=function(w){return new y("Deflate",w)},a.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,a){function c(E,D){var C,U="";for(C=0;C<D;C++)U+=String.fromCharCode(255&E),E>>>=8;return U}function d(E,D,C,U,R,I){var P,H,q=E.file,ce=E.compression,ae=I!==m.utf8encode,de=h.transformTo("string",I(q.name)),z=h.transformTo("string",m.utf8encode(q.name)),Te=q.comment,Re=h.transformTo("string",I(Te)),Z=h.transformTo("string",m.utf8encode(Te)),pe=z.length!==q.name.length,B=Z.length!==Te.length,he="",le="",se="",Ce=q.dir,ue=q.date,K={crc32:0,compressedSize:0,uncompressedSize:0};D&&!C||(K.crc32=E.crc32,K.compressedSize=E.compressedSize,K.uncompressedSize=E.uncompressedSize);var Y=0;D&&(Y|=8),ae||!pe&&!B||(Y|=2048);var O=0,J=0;Ce&&(O|=16),R==="UNIX"?(J=798,O|=(function(ee,$){var M=ee;return ee||(M=$?16893:33204),(65535&M)<<16})(q.unixPermissions,Ce)):(J=20,O|=(function(ee){return 63&(ee||0)})(q.dosPermissions)),P=ue.getUTCHours(),P<<=6,P|=ue.getUTCMinutes(),P<<=5,P|=ue.getUTCSeconds()/2,H=ue.getUTCFullYear()-1980,H<<=4,H|=ue.getUTCMonth()+1,H<<=5,H|=ue.getUTCDate(),pe&&(le=c(1,1)+c(y(de),4)+z,he+="up"+c(le.length,2)+le),B&&(se=c(1,1)+c(y(Re),4)+Z,he+="uc"+c(se.length,2)+se);var Q="";return Q+=`
\0`,Q+=c(Y,2),Q+=ce.magic,Q+=c(P,2),Q+=c(H,2),Q+=c(K.crc32,4),Q+=c(K.compressedSize,4),Q+=c(K.uncompressedSize,4),Q+=c(de.length,2),Q+=c(he.length,2),{fileRecord:w.LOCAL_FILE_HEADER+Q+de+he,dirRecord:w.CENTRAL_FILE_HEADER+c(J,2)+Q+c(Re.length,2)+"\0\0\0\0"+c(O,4)+c(U,4)+de+he+Re}}var h=r("../utils"),p=r("../stream/GenericWorker"),m=r("../utf8"),y=r("../crc32"),w=r("../signature");function S(E,D,C,U){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=C,this.encodeFileName=U,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,p),S.prototype.push=function(E){var D=E.meta.percent||0,C=this.entriesCount,U=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,p.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:C?(D+100*(C-U-1))/C:100}}))},S.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var D=this.streamFiles&&!E.file.dir;if(D){var C=d(E,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(E){this.accumulate=!1;var D=this.streamFiles&&!E.file.dir,C=d(E,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),D)this.push({data:(function(U){return w.DATA_DESCRIPTOR+c(U.crc32,4)+c(U.compressedSize,4)+c(U.uncompressedSize,4)})(E),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var E=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var C=this.bytesWritten-E,U=(function(R,I,P,H,q){var ce=h.transformTo("string",q(H));return w.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(R,2)+c(R,2)+c(I,4)+c(P,4)+c(ce.length,2)+ce})(this.dirRecords.length,C,E,this.zipComment,this.encodeFileName);this.push({data:U,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(E){this._sources.push(E);var D=this;return E.on("data",function(C){D.processChunk(C)}),E.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),E.on("error",function(C){D.error(C)}),this},S.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(E){var D=this._sources;if(!p.prototype.error.call(this,E))return!1;for(var C=0;C<D.length;C++)try{D[C].error(E)}catch{}return!0},S.prototype.lock=function(){p.prototype.lock.call(this);for(var E=this._sources,D=0;D<E.length;D++)E[D].lock()},o.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,a){var c=r("../compressions"),d=r("./ZipFileWorker");a.generateWorker=function(h,p,m){var y=new d(p.streamFiles,m,p.platform,p.encodeFileName),w=0;try{h.forEach(function(S,E){w++;var D=(function(I,P){var H=I||P,q=c[H];if(!q)throw new Error(H+" is not a valid compression method !");return q})(E.options.compression,p.compression),C=E.options.compressionOptions||p.compressionOptions||{},U=E.dir,R=E.date;E._compressWorker(D,C).withStreamInfo("file",{name:S,dir:U,date:R,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(y)}),y.entriesCount=w}catch(S){y.error(S)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,a){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=r("./object")).loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=r("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,a){var c=r("./utils"),d=r("./external"),h=r("./utf8"),p=r("./zipEntries"),m=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function w(S){return new d.Promise(function(E,D){var C=S.decompressed.getContentWorker().pipe(new m);C.on("error",function(U){D(U)}).on("end",function(){C.streamInfo.crc32!==S.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}o.exports=function(S,E){var D=this;return E=c.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),y.isNode&&y.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,E.optimizedBinaryString,E.base64).then(function(C){var U=new p(E);return U.load(C),U}).then(function(C){var U=[d.Promise.resolve(C)],R=C.files;if(E.checkCRC32)for(var I=0;I<R.length;I++)U.push(w(R[I]));return d.Promise.all(U)}).then(function(C){for(var U=C.shift(),R=U.files,I=0;I<R.length;I++){var P=R[I],H=P.fileNameStr,q=c.resolve(P.fileNameStr);D.file(q,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:E.createFolders}),P.dir||(D.file(q).unsafeOriginalName=H)}return U.zipComment.length&&(D.comment=U.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,a){var c=r("../utils"),d=r("../stream/GenericWorker");function h(p,m){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,d),h.prototype._bindStream=function(p){var m=this;(this._stream=p).pause(),p.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,a){var c=r("readable-stream").Readable;function d(h,p,m){c.call(this,p),this._helper=h;var y=this;h.on("data",function(w,S){y.push(w)||y._helper.pause(),m&&m(S)}).on("error",function(w){y.emit("error",w)}).on("end",function(){y.push(null)})}r("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(r,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,o,a){function c(q,ce,ae){var de,z=h.getTypeOf(ce),Te=h.extend(ae||{},y);Te.date=Te.date||new Date,Te.compression!==null&&(Te.compression=Te.compression.toUpperCase()),typeof Te.unixPermissions=="string"&&(Te.unixPermissions=parseInt(Te.unixPermissions,8)),Te.unixPermissions&&16384&Te.unixPermissions&&(Te.dir=!0),Te.dosPermissions&&16&Te.dosPermissions&&(Te.dir=!0),Te.dir&&(q=R(q)),Te.createFolders&&(de=U(q))&&I.call(this,de,!0);var Re=z==="string"&&Te.binary===!1&&Te.base64===!1;ae&&ae.binary!==void 0||(Te.binary=!Re),(ce instanceof w&&ce.uncompressedSize===0||Te.dir||!ce||ce.length===0)&&(Te.base64=!1,Te.binary=!0,ce="",Te.compression="STORE",z="string");var Z=null;Z=ce instanceof w||ce instanceof p?ce:D.isNode&&D.isStream(ce)?new C(q,ce):h.prepareContent(q,ce,Te.binary,Te.optimizedBinaryString,Te.base64);var pe=new S(q,Z,Te);this.files[q]=pe}var d=r("./utf8"),h=r("./utils"),p=r("./stream/GenericWorker"),m=r("./stream/StreamHelper"),y=r("./defaults"),w=r("./compressedObject"),S=r("./zipObject"),E=r("./generate"),D=r("./nodejsUtils"),C=r("./nodejs/NodejsStreamInputAdapter"),U=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var ce=q.lastIndexOf("/");return 0<ce?q.substring(0,ce):""},R=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},I=function(q,ce){return ce=ce!==void 0?ce:y.createFolders,q=R(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:ce}),this.files[q]};function P(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var ce,ae,de;for(ce in this.files)de=this.files[ce],(ae=ce.slice(this.root.length,ce.length))&&ce.slice(0,this.root.length)===this.root&&q(ae,de)},filter:function(q){var ce=[];return this.forEach(function(ae,de){q(ae,de)&&ce.push(de)}),ce},file:function(q,ce,ae){if(arguments.length!==1)return q=this.root+q,c.call(this,q,ce,ae),this;if(P(q)){var de=q;return this.filter(function(Te,Re){return!Re.dir&&de.test(Te)})}var z=this.files[this.root+q];return z&&!z.dir?z:null},folder:function(q){if(!q)return this;if(P(q))return this.filter(function(z,Te){return Te.dir&&q.test(z)});var ce=this.root+q,ae=I.call(this,ce),de=this.clone();return de.root=ae.name,de},remove:function(q){q=this.root+q;var ce=this.files[q];if(ce||(q.slice(-1)!=="/"&&(q+="/"),ce=this.files[q]),ce&&!ce.dir)delete this.files[q];else for(var ae=this.filter(function(z,Te){return Te.name.slice(0,q.length)===q}),de=0;de<ae.length;de++)delete this.files[ae[de].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var ce,ae={};try{if((ae=h.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=ae.type.toLowerCase(),ae.compression=ae.compression.toUpperCase(),ae.type==="binarystring"&&(ae.type="string"),!ae.type)throw new Error("No output type specified.");h.checkSupport(ae.type),ae.platform!=="darwin"&&ae.platform!=="freebsd"&&ae.platform!=="linux"&&ae.platform!=="sunos"||(ae.platform="UNIX"),ae.platform==="win32"&&(ae.platform="DOS");var de=ae.comment||this.comment||"";ce=E.generateWorker(this,ae,de)}catch(z){(ce=new p("error")).error(z)}return new m(ce,ae.type||"string",ae.mimeType)},generateAsync:function(q,ce){return this.generateInternalStream(q).accumulate(ce)},generateNodeStream:function(q,ce){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(ce)}};o.exports=H},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,a){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,a){var c=r("./DataReader");function d(h){c.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),w=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===p&&this.data[S+1]===m&&this.data[S+2]===y&&this.data[S+3]===w)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),w=h.charCodeAt(3),S=this.readData(4);return p===S[0]&&m===S[1]&&y===S[2]&&w===S[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(r,o,a){var c=r("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,m=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)m=(m<<8)+this.byteAt(p);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(r,o,a){var c=r("./Uint8ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,a){var c=r("./DataReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(r,o,a){var c=r("./ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,a){var c=r("../utils"),d=r("../support"),h=r("./ArrayReader"),p=r("./StringReader"),m=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(w){var S=c.getTypeOf(w);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(w):d.uint8array?new y(c.transformTo("uint8array",w)):new h(c.transformTo("array",w)):new p(w)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,a){var c=r("./GenericWorker"),d=r("../utils");function h(p){c.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,a){var c=r("./GenericWorker"),d=r("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,c),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,a){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(h,d),h.prototype.processChunk=function(p){if(p){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,a){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=c.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,m);break;case"uint8array":p=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":p=this.data.slice(this.index,m)}return this.index=m,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,a){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(r,o,a){var c=r("../utils"),d=r("./ConvertWorker"),h=r("./GenericWorker"),p=r("../base64"),m=r("../support"),y=r("../external"),w=null;if(m.nodestream)try{w=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(D,C){return new y.Promise(function(U,R){var I=[],P=D._internalType,H=D._outputType,q=D._mimeType;D.on("data",function(ce,ae){I.push(ce),C&&C(ae)}).on("error",function(ce){I=[],R(ce)}).on("end",function(){try{var ce=(function(ae,de,z){switch(ae){case"blob":return c.newBlob(c.transformTo("arraybuffer",de),z);case"base64":return p.encode(de);default:return c.transformTo(ae,de)}})(H,(function(ae,de){var z,Te=0,Re=null,Z=0;for(z=0;z<de.length;z++)Z+=de[z].length;switch(ae){case"string":return de.join("");case"array":return Array.prototype.concat.apply([],de);case"uint8array":for(Re=new Uint8Array(Z),z=0;z<de.length;z++)Re.set(de[z],Te),Te+=de[z].length;return Re;case"nodebuffer":return Buffer.concat(de);default:throw new Error("concat : unsupported type '"+ae+"'")}})(P,I),q);U(ce)}catch(ae){R(ae)}I=[]}).resume()})}function E(D,C,U){var R=C;switch(C){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string"}try{this._internalType=R,this._outputType=C,this._mimeType=U,c.checkSupport(R),this._worker=D.pipe(new d(R)),D.lock()}catch(I){this._worker=new h("error"),this._worker.error(I)}}E.prototype={accumulate:function(D){return S(this,D)},on:function(D,C){var U=this;return D==="data"?this._worker.on(D,function(R){C.call(U,R.data,R.meta)}):this._worker.on(D,function(){c.delay(C,arguments,U)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new w(this,{objectMode:this._outputType!=="nodebuffer"},D)}},o.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var c=new ArrayBuffer(0);try{a.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,a){for(var c=r("./utils"),d=r("./support"),h=r("./nodejsUtils"),p=r("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function w(){p.call(this,"utf-8 decode"),this.leftOver=null}function S(){p.call(this,"utf-8 encode")}a.utf8encode=function(E){return d.nodebuffer?h.newBufferFrom(E,"utf-8"):(function(D){var C,U,R,I,P,H=D.length,q=0;for(I=0;I<H;I++)(64512&(U=D.charCodeAt(I)))==55296&&I+1<H&&(64512&(R=D.charCodeAt(I+1)))==56320&&(U=65536+(U-55296<<10)+(R-56320),I++),q+=U<128?1:U<2048?2:U<65536?3:4;for(C=d.uint8array?new Uint8Array(q):new Array(q),I=P=0;P<q;I++)(64512&(U=D.charCodeAt(I)))==55296&&I+1<H&&(64512&(R=D.charCodeAt(I+1)))==56320&&(U=65536+(U-55296<<10)+(R-56320),I++),U<128?C[P++]=U:(U<2048?C[P++]=192|U>>>6:(U<65536?C[P++]=224|U>>>12:(C[P++]=240|U>>>18,C[P++]=128|U>>>12&63),C[P++]=128|U>>>6&63),C[P++]=128|63&U);return C})(E)},a.utf8decode=function(E){return d.nodebuffer?c.transformTo("nodebuffer",E).toString("utf-8"):(function(D){var C,U,R,I,P=D.length,H=new Array(2*P);for(C=U=0;C<P;)if((R=D[C++])<128)H[U++]=R;else if(4<(I=m[R]))H[U++]=65533,C+=I-1;else{for(R&=I===2?31:I===3?15:7;1<I&&C<P;)R=R<<6|63&D[C++],I--;1<I?H[U++]=65533:R<65536?H[U++]=R:(R-=65536,H[U++]=55296|R>>10&1023,H[U++]=56320|1023&R)}return H.length!==U&&(H.subarray?H=H.subarray(0,U):H.length=U),c.applyFromCharCode(H)})(E=c.transformTo(d.uint8array?"uint8array":"array",E))},c.inherits(w,p),w.prototype.processChunk=function(E){var D=c.transformTo(d.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var C=D;(D=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),D.set(C,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var U=(function(I,P){var H;for((P=P||I.length)>I.length&&(P=I.length),H=P-1;0<=H&&(192&I[H])==128;)H--;return H<0||H===0?P:H+m[I[H]]>P?H:P})(D),R=D;U!==D.length&&(d.uint8array?(R=D.subarray(0,U),this.leftOver=D.subarray(U,D.length)):(R=D.slice(0,U),this.leftOver=D.slice(U,D.length))),this.push({data:a.utf8decode(R),meta:E.meta})},w.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=w,c.inherits(S,p),S.prototype.processChunk=function(E){this.push({data:a.utf8encode(E.data),meta:E.meta})},a.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,a){var c=r("./support"),d=r("./base64"),h=r("./nodejsUtils"),p=r("./external");function m(C){return C}function y(C,U){for(var R=0;R<C.length;++R)U[R]=255&C.charCodeAt(R);return U}r("setimmediate"),a.newBlob=function(C,U){a.checkSupport("blob");try{return new Blob([C],{type:U})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(C),R.getBlob(U)}catch{throw new Error("Bug : can't construct the Blob.")}}};var w={stringifyByChunk:function(C,U,R){var I=[],P=0,H=C.length;if(H<=R)return String.fromCharCode.apply(null,C);for(;P<H;)U==="array"||U==="nodebuffer"?I.push(String.fromCharCode.apply(null,C.slice(P,Math.min(P+R,H)))):I.push(String.fromCharCode.apply(null,C.subarray(P,Math.min(P+R,H)))),P+=R;return I.join("")},stringifyByChar:function(C){for(var U="",R=0;R<C.length;R++)U+=String.fromCharCode(C[R]);return U},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(C){var U=65536,R=a.getTypeOf(C),I=!0;if(R==="uint8array"?I=w.applyCanBeUsed.uint8array:R==="nodebuffer"&&(I=w.applyCanBeUsed.nodebuffer),I)for(;1<U;)try{return w.stringifyByChunk(C,R,U)}catch{U=Math.floor(U/2)}return w.stringifyByChar(C)}function E(C,U){for(var R=0;R<C.length;R++)U[R]=C[R];return U}a.applyFromCharCode=S;var D={};D.string={string:m,array:function(C){return y(C,new Array(C.length))},arraybuffer:function(C){return D.string.uint8array(C).buffer},uint8array:function(C){return y(C,new Uint8Array(C.length))},nodebuffer:function(C){return y(C,h.allocBuffer(C.length))}},D.array={string:S,array:m,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(C)}},D.arraybuffer={string:function(C){return S(new Uint8Array(C))},array:function(C){return E(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:m,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(new Uint8Array(C))}},D.uint8array={string:S,array:function(C){return E(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:m,nodebuffer:function(C){return h.newBufferFrom(C)}},D.nodebuffer={string:S,array:function(C){return E(C,new Array(C.length))},arraybuffer:function(C){return D.nodebuffer.uint8array(C).buffer},uint8array:function(C){return E(C,new Uint8Array(C.length))},nodebuffer:m},a.transformTo=function(C,U){if(U=U||"",!C)return U;a.checkSupport(C);var R=a.getTypeOf(U);return D[R][C](U)},a.resolve=function(C){for(var U=C.split("/"),R=[],I=0;I<U.length;I++){var P=U[I];P==="."||P===""&&I!==0&&I!==U.length-1||(P===".."?R.pop():R.push(P))}return R.join("/")},a.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(C)?"nodebuffer":c.uint8array&&C instanceof Uint8Array?"uint8array":c.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(C){if(!c[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(C){var U,R,I="";for(R=0;R<(C||"").length;R++)I+="\\x"+((U=C.charCodeAt(R))<16?"0":"")+U.toString(16).toUpperCase();return I},a.delay=function(C,U,R){setImmediate(function(){C.apply(R||null,U||[])})},a.inherits=function(C,U){function R(){}R.prototype=U.prototype,C.prototype=new R},a.extend=function(){var C,U,R={};for(C=0;C<arguments.length;C++)for(U in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],U)&&R[U]===void 0&&(R[U]=arguments[C][U]);return R},a.prepareContent=function(C,U,R,I,P){return p.Promise.resolve(U).then(function(H){return c.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new p.Promise(function(q,ce){var ae=new FileReader;ae.onload=function(de){q(de.target.result)},ae.onerror=function(de){ce(de.target.error)},ae.readAsArrayBuffer(H)}):H}).then(function(H){var q=a.getTypeOf(H);return q?(q==="arraybuffer"?H=a.transformTo("uint8array",H):q==="string"&&(P?H=d.decode(H):R&&I!==!0&&(H=(function(ce){return y(ce,c.uint8array?new Uint8Array(ce.length):new Array(ce.length))})(H))),H):p.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,a){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./signature"),p=r("./zipEntry"),m=r("./support");function y(w){this.files=[],this.loadOptions=w}y.prototype={checkSignature:function(w){if(!this.reader.readAndCheckSignature(w)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(w)+")")}},isSignature:function(w,S){var E=this.reader.index;this.reader.setIndex(w);var D=this.reader.readString(4)===S;return this.reader.setIndex(E),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var w=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",E=d.transformTo(S,w);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var w,S,E,D=this.zip64EndOfCentralSize-44;0<D;)w=this.reader.readInt(2),S=this.reader.readInt(4),E=this.reader.readData(S),this.zip64ExtensibleData[w]={id:w,length:S,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var w,S;for(w=0;w<this.files.length;w++)S=this.files[w],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var w;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(w=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(w);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var w=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(w<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(w);var S=w;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(w=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(w),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var D=S-E;if(0<D)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(w){this.reader=c(w)},load:function(w){this.prepareReader(w),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,a){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./compressedObject"),p=r("./crc32"),m=r("./utf8"),y=r("./compressions"),w=r("./support");function S(E,D){this.options=E,this.loadOptions=D}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var D,C;if(E.skip(22),this.fileNameLength=E.readInt(2),C=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=(function(U){for(var R in y)if(Object.prototype.hasOwnProperty.call(y,R)&&y[R].magic===U)return y[R];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,D,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var D=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(D),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var D,C,U,R=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<R;)D=E.readInt(2),C=E.readInt(2),U=E.readData(C),this.extraFields[D]={id:D,length:C,value:U};E.setIndex(R)},handleUTF8:function(){var E=w.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var C=d.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var U=this.findExtraFieldUnicodeComment();if(U!==null)this.fileCommentStr=U;else{var R=d.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var D=c(E.value);return D.readInt(1)!==1||p(this.fileName)!==D.readInt(4)?null:m.utf8decode(D.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var D=c(E.value);return D.readInt(1)!==1||p(this.fileComment)!==D.readInt(4)?null:m.utf8decode(D.readData(E.length-5))}return null}},o.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,a){function c(D,C,U){this.name=D,this.dir=U.dir,this.date=U.date,this.comment=U.comment,this.unixPermissions=U.unixPermissions,this.dosPermissions=U.dosPermissions,this._data=C,this._dataBinary=U.binary,this.options={compression:U.compression,compressionOptions:U.compressionOptions}}var d=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),p=r("./utf8"),m=r("./compressedObject"),y=r("./stream/GenericWorker");c.prototype={internalStream:function(D){var C=null,U="string";try{if(!D)throw new Error("No output type specified.");var R=(U=D.toLowerCase())==="string"||U==="text";U!=="binarystring"&&U!=="text"||(U="string"),C=this._decompressWorker();var I=!this._dataBinary;I&&!R&&(C=C.pipe(new p.Utf8EncodeWorker)),!I&&R&&(C=C.pipe(new p.Utf8DecodeWorker))}catch(P){(C=new y("error")).error(P)}return new d(C,U,"")},async:function(D,C){return this.internalStream(D).accumulate(C)},nodeStream:function(D,C){return this.internalStream(D||"nodebuffer").toNodejsStream(C)},_compressWorker:function(D,C){if(this._data instanceof m&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var U=this._decompressWorker();return this._dataBinary||(U=U.pipe(new p.Utf8EncodeWorker)),m.createWorkerFrom(U,D,C)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new h(this._data)}};for(var w=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<w.length;E++)c.prototype[w[E]]=S;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,a){(function(c){var d,h,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var m=0,y=new p(D),w=c.document.createTextNode("");y.observe(w,{characterData:!0}),d=function(){w.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var C=c.document.createElement("script");C.onreadystatechange=function(){D(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},c.document.documentElement.appendChild(C)}:function(){setTimeout(D,0)};else{var S=new c.MessageChannel;S.port1.onmessage=D,d=function(){S.port2.postMessage(0)}}var E=[];function D(){var C,U;h=!0;for(var R=E.length;R;){for(U=E,E=[],C=-1;++C<R;)U[C]();R=E.length}h=!1}o.exports=function(C){E.push(C)!==1||h||d()}}).call(this,typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,a){var c=r("immediate");function d(){}var h={},p=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function w(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,R!==d&&C(this,R)}function S(R,I,P){this.promise=R,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function E(R,I,P){c(function(){var H;try{H=I(P)}catch(q){return h.reject(R,q)}H===R?h.reject(R,new TypeError("Cannot resolve promise with itself")):h.resolve(R,H)})}function D(R){var I=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof I=="function")return function(){I.apply(R,arguments)}}function C(R,I){var P=!1;function H(ae){P||(P=!0,h.reject(R,ae))}function q(ae){P||(P=!0,h.resolve(R,ae))}var ce=U(function(){I(q,H)});ce.status==="error"&&H(ce.value)}function U(R,I){var P={};try{P.value=R(I),P.status="success"}catch(H){P.status="error",P.value=H}return P}(o.exports=w).prototype.finally=function(R){if(typeof R!="function")return this;var I=this.constructor;return this.then(function(P){return I.resolve(R()).then(function(){return P})},function(P){return I.resolve(R()).then(function(){throw P})})},w.prototype.catch=function(R){return this.then(null,R)},w.prototype.then=function(R,I){if(typeof R!="function"&&this.state===m||typeof I!="function"&&this.state===p)return this;var P=new this.constructor(d);return this.state!==y?E(P,this.state===m?R:I,this.outcome):this.queue.push(new S(P,R,I)),P},S.prototype.callFulfilled=function(R){h.resolve(this.promise,R)},S.prototype.otherCallFulfilled=function(R){E(this.promise,this.onFulfilled,R)},S.prototype.callRejected=function(R){h.reject(this.promise,R)},S.prototype.otherCallRejected=function(R){E(this.promise,this.onRejected,R)},h.resolve=function(R,I){var P=U(D,I);if(P.status==="error")return h.reject(R,P.value);var H=P.value;if(H)C(R,H);else{R.state=m,R.outcome=I;for(var q=-1,ce=R.queue.length;++q<ce;)R.queue[q].callFulfilled(I)}return R},h.reject=function(R,I){R.state=p,R.outcome=I;for(var P=-1,H=R.queue.length;++P<H;)R.queue[P].callRejected(I);return R},w.resolve=function(R){return R instanceof this?R:h.resolve(new this(d),R)},w.reject=function(R){var I=new this(d);return h.reject(I,R)},w.all=function(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=R.length,H=!1;if(!P)return this.resolve([]);for(var q=new Array(P),ce=0,ae=-1,de=new this(d);++ae<P;)z(R[ae],ae);return de;function z(Te,Re){I.resolve(Te).then(function(Z){q[Re]=Z,++ce!==P||H||(H=!0,h.resolve(de,q))},function(Z){H||(H=!0,h.reject(de,Z))})}},w.race=function(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=R.length,H=!1;if(!P)return this.resolve([]);for(var q=-1,ce=new this(d);++q<P;)ae=R[q],I.resolve(ae).then(function(de){H||(H=!0,h.resolve(ce,de))},function(de){H||(H=!0,h.reject(ce,de))});var ae;return ce}},{immediate:36}],38:[function(r,o,a){var c={};(0,r("./lib/utils/common").assign)(c,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,a){var c=r("./zlib/deflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/messages"),m=r("./zlib/zstream"),y=Object.prototype.toString,w=0,S=-1,E=0,D=8;function C(R){if(!(this instanceof C))return new C(R);this.options=d.assign({level:S,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},R||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var P=c.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(P!==w)throw new Error(p[P]);if(I.header&&c.deflateSetHeader(this.strm,I.header),I.dictionary){var H;if(H=typeof I.dictionary=="string"?h.string2buf(I.dictionary):y.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(P=c.deflateSetDictionary(this.strm,H))!==w)throw new Error(p[P]);this._dict_set=!0}}function U(R,I){var P=new C(I);if(P.push(R,!0),P.err)throw P.msg||p[P.err];return P.result}C.prototype.push=function(R,I){var P,H,q=this.strm,ce=this.options.chunkSize;if(this.ended)return!1;H=I===~~I?I:I===!0?4:0,typeof R=="string"?q.input=h.string2buf(R):y.call(R)==="[object ArrayBuffer]"?q.input=new Uint8Array(R):q.input=R,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new d.Buf8(ce),q.next_out=0,q.avail_out=ce),(P=c.deflate(q,H))!==1&&P!==w)return this.onEnd(P),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(q.output,q.next_out))):this.onData(d.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&P!==1);return H===4?(P=c.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===w):H!==2||(this.onEnd(w),!(q.avail_out=0))},C.prototype.onData=function(R){this.chunks.push(R)},C.prototype.onEnd=function(R){R===w&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},a.Deflate=C,a.deflate=U,a.deflateRaw=function(R,I){return(I=I||{}).raw=!0,U(R,I)},a.gzip=function(R,I){return(I=I||{}).gzip=!0,U(R,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,a){var c=r("./zlib/inflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/constants"),m=r("./zlib/messages"),y=r("./zlib/zstream"),w=r("./zlib/gzheader"),S=Object.prototype.toString;function E(C){if(!(this instanceof E))return new E(C);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},C||{});var U=this.options;U.raw&&0<=U.windowBits&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),!(0<=U.windowBits&&U.windowBits<16)||C&&C.windowBits||(U.windowBits+=32),15<U.windowBits&&U.windowBits<48&&(15&U.windowBits)==0&&(U.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var R=c.inflateInit2(this.strm,U.windowBits);if(R!==p.Z_OK)throw new Error(m[R]);this.header=new w,c.inflateGetHeader(this.strm,this.header)}function D(C,U){var R=new E(U);if(R.push(C,!0),R.err)throw R.msg||m[R.err];return R.result}E.prototype.push=function(C,U){var R,I,P,H,q,ce,ae=this.strm,de=this.options.chunkSize,z=this.options.dictionary,Te=!1;if(this.ended)return!1;I=U===~~U?U:U===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof C=="string"?ae.input=h.binstring2buf(C):S.call(C)==="[object ArrayBuffer]"?ae.input=new Uint8Array(C):ae.input=C,ae.next_in=0,ae.avail_in=ae.input.length;do{if(ae.avail_out===0&&(ae.output=new d.Buf8(de),ae.next_out=0,ae.avail_out=de),(R=c.inflate(ae,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&z&&(ce=typeof z=="string"?h.string2buf(z):S.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,R=c.inflateSetDictionary(this.strm,ce)),R===p.Z_BUF_ERROR&&Te===!0&&(R=p.Z_OK,Te=!1),R!==p.Z_STREAM_END&&R!==p.Z_OK)return this.onEnd(R),!(this.ended=!0);ae.next_out&&(ae.avail_out!==0&&R!==p.Z_STREAM_END&&(ae.avail_in!==0||I!==p.Z_FINISH&&I!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=h.utf8border(ae.output,ae.next_out),H=ae.next_out-P,q=h.buf2string(ae.output,P),ae.next_out=H,ae.avail_out=de-H,H&&d.arraySet(ae.output,ae.output,P,H,0),this.onData(q)):this.onData(d.shrinkBuf(ae.output,ae.next_out)))),ae.avail_in===0&&ae.avail_out===0&&(Te=!0)}while((0<ae.avail_in||ae.avail_out===0)&&R!==p.Z_STREAM_END);return R===p.Z_STREAM_END&&(I=p.Z_FINISH),I===p.Z_FINISH?(R=c.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===p.Z_OK):I!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(ae.avail_out=0))},E.prototype.onData=function(C){this.chunks.push(C)},E.prototype.onEnd=function(C){C===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},a.Inflate=E,a.inflate=D,a.inflateRaw=function(C,U){return(U=U||{}).raw=!0,D(C,U)},a.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var w in y)y.hasOwnProperty(w)&&(p[w]=y[w])}}return p},a.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var d={arraySet:function(p,m,y,w,S){if(m.subarray&&p.subarray)p.set(m.subarray(y,y+w),S);else for(var E=0;E<w;E++)p[S+E]=m[y+E]},flattenChunks:function(p){var m,y,w,S,E,D;for(m=w=0,y=p.length;m<y;m++)w+=p[m].length;for(D=new Uint8Array(w),m=S=0,y=p.length;m<y;m++)E=p[m],D.set(E,S),S+=E.length;return D}},h={arraySet:function(p,m,y,w,S){for(var E=0;E<w;E++)p[S+E]=m[y+E]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,h))},a.setTyped(c)},{}],42:[function(r,o,a){var c=r("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new c.Buf8(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(w,S){if(S<65537&&(w.subarray&&h||!w.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(w,S));for(var E="",D=0;D<S;D++)E+=String.fromCharCode(w[D]);return E}p[254]=p[254]=1,a.string2buf=function(w){var S,E,D,C,U,R=w.length,I=0;for(C=0;C<R;C++)(64512&(E=w.charCodeAt(C)))==55296&&C+1<R&&(64512&(D=w.charCodeAt(C+1)))==56320&&(E=65536+(E-55296<<10)+(D-56320),C++),I+=E<128?1:E<2048?2:E<65536?3:4;for(S=new c.Buf8(I),C=U=0;U<I;C++)(64512&(E=w.charCodeAt(C)))==55296&&C+1<R&&(64512&(D=w.charCodeAt(C+1)))==56320&&(E=65536+(E-55296<<10)+(D-56320),C++),E<128?S[U++]=E:(E<2048?S[U++]=192|E>>>6:(E<65536?S[U++]=224|E>>>12:(S[U++]=240|E>>>18,S[U++]=128|E>>>12&63),S[U++]=128|E>>>6&63),S[U++]=128|63&E);return S},a.buf2binstring=function(w){return y(w,w.length)},a.binstring2buf=function(w){for(var S=new c.Buf8(w.length),E=0,D=S.length;E<D;E++)S[E]=w.charCodeAt(E);return S},a.buf2string=function(w,S){var E,D,C,U,R=S||w.length,I=new Array(2*R);for(E=D=0;E<R;)if((C=w[E++])<128)I[D++]=C;else if(4<(U=p[C]))I[D++]=65533,E+=U-1;else{for(C&=U===2?31:U===3?15:7;1<U&&E<R;)C=C<<6|63&w[E++],U--;1<U?I[D++]=65533:C<65536?I[D++]=C:(C-=65536,I[D++]=55296|C>>10&1023,I[D++]=56320|1023&C)}return y(I,D)},a.utf8border=function(w,S){var E;for((S=S||w.length)>w.length&&(S=w.length),E=S-1;0<=E&&(192&w[E])==128;)E--;return E<0||E===0?S:E+p[w[E]]>S?E:S}},{"./common":41}],43:[function(r,o,a){o.exports=function(c,d,h,p){for(var m=65535&c|0,y=c>>>16&65535|0,w=0;h!==0;){for(h-=w=2e3<h?2e3:h;y=y+(m=m+d[p++]|0)|0,--w;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(r,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,a){var c=(function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h})();o.exports=function(d,h,p,m){var y=c,w=m+p;d^=-1;for(var S=m;S<w;S++)d=d>>>8^y[255&(d^h[S])];return-1^d}},{}],46:[function(r,o,a){var c,d=r("../utils/common"),h=r("./trees"),p=r("./adler32"),m=r("./crc32"),y=r("./messages"),w=0,S=4,E=0,D=-2,C=-1,U=4,R=2,I=8,P=9,H=286,q=30,ce=19,ae=2*H+1,de=15,z=3,Te=258,Re=Te+z+1,Z=42,pe=113,B=1,he=2,le=3,se=4;function Ce(b,re){return b.msg=y[re],re}function ue(b){return(b<<1)-(4<b?9:0)}function K(b){for(var re=b.length;0<=--re;)b[re]=0}function Y(b){var re=b.state,k=re.pending;k>b.avail_out&&(k=b.avail_out),k!==0&&(d.arraySet(b.output,re.pending_buf,re.pending_out,k,b.next_out),b.next_out+=k,re.pending_out+=k,b.total_out+=k,b.avail_out-=k,re.pending-=k,re.pending===0&&(re.pending_out=0))}function O(b,re){h._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,re),b.block_start=b.strstart,Y(b.strm)}function J(b,re){b.pending_buf[b.pending++]=re}function Q(b,re){b.pending_buf[b.pending++]=re>>>8&255,b.pending_buf[b.pending++]=255&re}function ee(b,re){var k,v,T=b.max_chain_length,A=b.strstart,X=b.prev_length,ne=b.nice_match,j=b.strstart>b.w_size-Re?b.strstart-(b.w_size-Re):0,ge=b.window,De=b.w_mask,be=b.prev,Ue=b.strstart+Te,Be=ge[A+X-1],Ge=ge[A+X];b.prev_length>=b.good_match&&(T>>=2),ne>b.lookahead&&(ne=b.lookahead);do if(ge[(k=re)+X]===Ge&&ge[k+X-1]===Be&&ge[k]===ge[A]&&ge[++k]===ge[A+1]){A+=2,k++;do;while(ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&A<Ue);if(v=Te-(Ue-A),A=Ue-Te,X<v){if(b.match_start=re,ne<=(X=v))break;Be=ge[A+X-1],Ge=ge[A+X]}}while((re=be[re&De])>j&&--T!=0);return X<=b.lookahead?X:b.lookahead}function $(b){var re,k,v,T,A,X,ne,j,ge,De,be=b.w_size;do{if(T=b.window_size-b.lookahead-b.strstart,b.strstart>=be+(be-Re)){for(d.arraySet(b.window,b.window,be,be,0),b.match_start-=be,b.strstart-=be,b.block_start-=be,re=k=b.hash_size;v=b.head[--re],b.head[re]=be<=v?v-be:0,--k;);for(re=k=be;v=b.prev[--re],b.prev[re]=be<=v?v-be:0,--k;);T+=be}if(b.strm.avail_in===0)break;if(X=b.strm,ne=b.window,j=b.strstart+b.lookahead,ge=T,De=void 0,De=X.avail_in,ge<De&&(De=ge),k=De===0?0:(X.avail_in-=De,d.arraySet(ne,X.input,X.next_in,De,j),X.state.wrap===1?X.adler=p(X.adler,ne,De,j):X.state.wrap===2&&(X.adler=m(X.adler,ne,De,j)),X.next_in+=De,X.total_in+=De,De),b.lookahead+=k,b.lookahead+b.insert>=z)for(A=b.strstart-b.insert,b.ins_h=b.window[A],b.ins_h=(b.ins_h<<b.hash_shift^b.window[A+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[A+z-1])&b.hash_mask,b.prev[A&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=A,A++,b.insert--,!(b.lookahead+b.insert<z)););}while(b.lookahead<Re&&b.strm.avail_in!==0)}function M(b,re){for(var k,v;;){if(b.lookahead<Re){if($(b),b.lookahead<Re&&re===w)return B;if(b.lookahead===0)break}if(k=0,b.lookahead>=z&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+z-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),k!==0&&b.strstart-k<=b.w_size-Re&&(b.match_length=ee(b,k)),b.match_length>=z)if(v=h._tr_tally(b,b.strstart-b.match_start,b.match_length-z),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=z){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+z-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else v=h._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(v&&(O(b,!1),b.strm.avail_out===0))return B}return b.insert=b.strstart<z-1?b.strstart:z-1,re===S?(O(b,!0),b.strm.avail_out===0?le:se):b.last_lit&&(O(b,!1),b.strm.avail_out===0)?B:he}function N(b,re){for(var k,v,T;;){if(b.lookahead<Re){if($(b),b.lookahead<Re&&re===w)return B;if(b.lookahead===0)break}if(k=0,b.lookahead>=z&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+z-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=z-1,k!==0&&b.prev_length<b.max_lazy_match&&b.strstart-k<=b.w_size-Re&&(b.match_length=ee(b,k),b.match_length<=5&&(b.strategy===1||b.match_length===z&&4096<b.strstart-b.match_start)&&(b.match_length=z-1)),b.prev_length>=z&&b.match_length<=b.prev_length){for(T=b.strstart+b.lookahead-z,v=h._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-z),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=T&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+z-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=z-1,b.strstart++,v&&(O(b,!1),b.strm.avail_out===0))return B}else if(b.match_available){if((v=h._tr_tally(b,0,b.window[b.strstart-1]))&&O(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return B}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(v=h._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<z-1?b.strstart:z-1,re===S?(O(b,!0),b.strm.avail_out===0?le:se):b.last_lit&&(O(b,!1),b.strm.avail_out===0)?B:he}function te(b,re,k,v,T){this.good_length=b,this.max_lazy=re,this.nice_length=k,this.max_chain=v,this.func=T}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*ae),this.dyn_dtree=new d.Buf16(2*(2*q+1)),this.bl_tree=new d.Buf16(2*(2*ce+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(de+1),this.heap=new d.Buf16(2*H+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*H+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(b){var re;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=R,(re=b.state).pending=0,re.pending_out=0,re.wrap<0&&(re.wrap=-re.wrap),re.status=re.wrap?Z:pe,b.adler=re.wrap===2?0:1,re.last_flush=w,h._tr_init(re),E):Ce(b,D)}function F(b){var re=G(b);return re===E&&(function(k){k.window_size=2*k.w_size,K(k.head),k.max_lazy_match=c[k.level].max_lazy,k.good_match=c[k.level].good_length,k.nice_match=c[k.level].nice_length,k.max_chain_length=c[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=z-1,k.match_available=0,k.ins_h=0})(b.state),re}function ie(b,re,k,v,T,A){if(!b)return D;var X=1;if(re===C&&(re=6),v<0?(X=0,v=-v):15<v&&(X=2,v-=16),T<1||P<T||k!==I||v<8||15<v||re<0||9<re||A<0||U<A)return Ce(b,D);v===8&&(v=9);var ne=new W;return(b.state=ne).strm=b,ne.wrap=X,ne.gzhead=null,ne.w_bits=v,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=T+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+z-1)/z),ne.window=new d.Buf8(2*ne.w_size),ne.head=new d.Buf16(ne.hash_size),ne.prev=new d.Buf16(ne.w_size),ne.lit_bufsize=1<<T+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new d.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=re,ne.strategy=A,ne.method=k,F(b)}c=[new te(0,0,0,0,function(b,re){var k=65535;for(k>b.pending_buf_size-5&&(k=b.pending_buf_size-5);;){if(b.lookahead<=1){if($(b),b.lookahead===0&&re===w)return B;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var v=b.block_start+k;if((b.strstart===0||b.strstart>=v)&&(b.lookahead=b.strstart-v,b.strstart=v,O(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-Re&&(O(b,!1),b.strm.avail_out===0))return B}return b.insert=0,re===S?(O(b,!0),b.strm.avail_out===0?le:se):(b.strstart>b.block_start&&(O(b,!1),b.strm.avail_out),B)}),new te(4,4,8,4,M),new te(4,5,16,8,M),new te(4,6,32,32,M),new te(4,4,16,16,N),new te(8,16,32,32,N),new te(8,16,128,128,N),new te(8,32,128,256,N),new te(32,128,258,1024,N),new te(32,258,258,4096,N)],a.deflateInit=function(b,re){return ie(b,re,I,15,8,0)},a.deflateInit2=ie,a.deflateReset=F,a.deflateResetKeep=G,a.deflateSetHeader=function(b,re){return b&&b.state?b.state.wrap!==2?D:(b.state.gzhead=re,E):D},a.deflate=function(b,re){var k,v,T,A;if(!b||!b.state||5<re||re<0)return b?Ce(b,D):D;if(v=b.state,!b.output||!b.input&&b.avail_in!==0||v.status===666&&re!==S)return Ce(b,b.avail_out===0?-5:D);if(v.strm=b,k=v.last_flush,v.last_flush=re,v.status===Z)if(v.wrap===2)b.adler=0,J(v,31),J(v,139),J(v,8),v.gzhead?(J(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),J(v,255&v.gzhead.time),J(v,v.gzhead.time>>8&255),J(v,v.gzhead.time>>16&255),J(v,v.gzhead.time>>24&255),J(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),J(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(J(v,255&v.gzhead.extra.length),J(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(b.adler=m(b.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(J(v,0),J(v,0),J(v,0),J(v,0),J(v,0),J(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),J(v,3),v.status=pe);else{var X=I+(v.w_bits-8<<4)<<8;X|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(X|=32),X+=31-X%31,v.status=pe,Q(v,X),v.strstart!==0&&(Q(v,b.adler>>>16),Q(v,65535&b.adler)),b.adler=1}if(v.status===69)if(v.gzhead.extra){for(T=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),Y(b),T=v.pending,v.pending!==v.pending_buf_size));)J(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){T=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),Y(b),T=v.pending,v.pending===v.pending_buf_size)){A=1;break}A=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,J(v,A)}while(A!==0);v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),A===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){T=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),Y(b),T=v.pending,v.pending===v.pending_buf_size)){A=1;break}A=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,J(v,A)}while(A!==0);v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),A===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&Y(b),v.pending+2<=v.pending_buf_size&&(J(v,255&b.adler),J(v,b.adler>>8&255),b.adler=0,v.status=pe)):v.status=pe),v.pending!==0){if(Y(b),b.avail_out===0)return v.last_flush=-1,E}else if(b.avail_in===0&&ue(re)<=ue(k)&&re!==S)return Ce(b,-5);if(v.status===666&&b.avail_in!==0)return Ce(b,-5);if(b.avail_in!==0||v.lookahead!==0||re!==w&&v.status!==666){var ne=v.strategy===2?(function(j,ge){for(var De;;){if(j.lookahead===0&&($(j),j.lookahead===0)){if(ge===w)return B;break}if(j.match_length=0,De=h._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,De&&(O(j,!1),j.strm.avail_out===0))return B}return j.insert=0,ge===S?(O(j,!0),j.strm.avail_out===0?le:se):j.last_lit&&(O(j,!1),j.strm.avail_out===0)?B:he})(v,re):v.strategy===3?(function(j,ge){for(var De,be,Ue,Be,Ge=j.window;;){if(j.lookahead<=Te){if($(j),j.lookahead<=Te&&ge===w)return B;if(j.lookahead===0)break}if(j.match_length=0,j.lookahead>=z&&0<j.strstart&&(be=Ge[Ue=j.strstart-1])===Ge[++Ue]&&be===Ge[++Ue]&&be===Ge[++Ue]){Be=j.strstart+Te;do;while(be===Ge[++Ue]&&be===Ge[++Ue]&&be===Ge[++Ue]&&be===Ge[++Ue]&&be===Ge[++Ue]&&be===Ge[++Ue]&&be===Ge[++Ue]&&be===Ge[++Ue]&&Ue<Be);j.match_length=Te-(Be-Ue),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=z?(De=h._tr_tally(j,1,j.match_length-z),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(De=h._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),De&&(O(j,!1),j.strm.avail_out===0))return B}return j.insert=0,ge===S?(O(j,!0),j.strm.avail_out===0?le:se):j.last_lit&&(O(j,!1),j.strm.avail_out===0)?B:he})(v,re):c[v.level].func(v,re);if(ne!==le&&ne!==se||(v.status=666),ne===B||ne===le)return b.avail_out===0&&(v.last_flush=-1),E;if(ne===he&&(re===1?h._tr_align(v):re!==5&&(h._tr_stored_block(v,0,0,!1),re===3&&(K(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),Y(b),b.avail_out===0))return v.last_flush=-1,E}return re!==S?E:v.wrap<=0?1:(v.wrap===2?(J(v,255&b.adler),J(v,b.adler>>8&255),J(v,b.adler>>16&255),J(v,b.adler>>24&255),J(v,255&b.total_in),J(v,b.total_in>>8&255),J(v,b.total_in>>16&255),J(v,b.total_in>>24&255)):(Q(v,b.adler>>>16),Q(v,65535&b.adler)),Y(b),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?E:1)},a.deflateEnd=function(b){var re;return b&&b.state?(re=b.state.status)!==Z&&re!==69&&re!==73&&re!==91&&re!==103&&re!==pe&&re!==666?Ce(b,D):(b.state=null,re===pe?Ce(b,-3):E):D},a.deflateSetDictionary=function(b,re){var k,v,T,A,X,ne,j,ge,De=re.length;if(!b||!b.state||(A=(k=b.state).wrap)===2||A===1&&k.status!==Z||k.lookahead)return D;for(A===1&&(b.adler=p(b.adler,re,De,0)),k.wrap=0,De>=k.w_size&&(A===0&&(K(k.head),k.strstart=0,k.block_start=0,k.insert=0),ge=new d.Buf8(k.w_size),d.arraySet(ge,re,De-k.w_size,k.w_size,0),re=ge,De=k.w_size),X=b.avail_in,ne=b.next_in,j=b.input,b.avail_in=De,b.next_in=0,b.input=re,$(k);k.lookahead>=z;){for(v=k.strstart,T=k.lookahead-(z-1);k.ins_h=(k.ins_h<<k.hash_shift^k.window[v+z-1])&k.hash_mask,k.prev[v&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=v,v++,--T;);k.strstart=v,k.lookahead=z-1,$(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=z-1,k.match_available=0,b.next_in=ne,b.input=j,b.avail_in=X,k.wrap=A,E},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,a){o.exports=function(c,d){var h,p,m,y,w,S,E,D,C,U,R,I,P,H,q,ce,ae,de,z,Te,Re,Z,pe,B,he;h=c.state,p=c.next_in,B=c.input,m=p+(c.avail_in-5),y=c.next_out,he=c.output,w=y-(d-c.avail_out),S=y+(c.avail_out-257),E=h.dmax,D=h.wsize,C=h.whave,U=h.wnext,R=h.window,I=h.hold,P=h.bits,H=h.lencode,q=h.distcode,ce=(1<<h.lenbits)-1,ae=(1<<h.distbits)-1;e:do{P<15&&(I+=B[p++]<<P,P+=8,I+=B[p++]<<P,P+=8),de=H[I&ce];t:for(;;){if(I>>>=z=de>>>24,P-=z,(z=de>>>16&255)===0)he[y++]=65535&de;else{if(!(16&z)){if((64&z)==0){de=H[(65535&de)+(I&(1<<z)-1)];continue t}if(32&z){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}Te=65535&de,(z&=15)&&(P<z&&(I+=B[p++]<<P,P+=8),Te+=I&(1<<z)-1,I>>>=z,P-=z),P<15&&(I+=B[p++]<<P,P+=8,I+=B[p++]<<P,P+=8),de=q[I&ae];n:for(;;){if(I>>>=z=de>>>24,P-=z,!(16&(z=de>>>16&255))){if((64&z)==0){de=q[(65535&de)+(I&(1<<z)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(Re=65535&de,P<(z&=15)&&(I+=B[p++]<<P,(P+=8)<z&&(I+=B[p++]<<P,P+=8)),E<(Re+=I&(1<<z)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(I>>>=z,P-=z,(z=y-w)<Re){if(C<(z=Re-z)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(pe=R,(Z=0)===U){if(Z+=D-z,z<Te){for(Te-=z;he[y++]=R[Z++],--z;);Z=y-Re,pe=he}}else if(U<z){if(Z+=D+U-z,(z-=U)<Te){for(Te-=z;he[y++]=R[Z++],--z;);if(Z=0,U<Te){for(Te-=z=U;he[y++]=R[Z++],--z;);Z=y-Re,pe=he}}}else if(Z+=U-z,z<Te){for(Te-=z;he[y++]=R[Z++],--z;);Z=y-Re,pe=he}for(;2<Te;)he[y++]=pe[Z++],he[y++]=pe[Z++],he[y++]=pe[Z++],Te-=3;Te&&(he[y++]=pe[Z++],1<Te&&(he[y++]=pe[Z++]))}else{for(Z=y-Re;he[y++]=he[Z++],he[y++]=he[Z++],he[y++]=he[Z++],2<(Te-=3););Te&&(he[y++]=he[Z++],1<Te&&(he[y++]=he[Z++]))}break}}break}}while(p<m&&y<S);p-=Te=P>>3,I&=(1<<(P-=Te<<3))-1,c.next_in=p,c.next_out=y,c.avail_in=p<m?m-p+5:5-(p-m),c.avail_out=y<S?S-y+257:257-(y-S),h.hold=I,h.bits=P}},{}],49:[function(r,o,a){var c=r("../utils/common"),d=r("./adler32"),h=r("./crc32"),p=r("./inffast"),m=r("./inftrees"),y=1,w=2,S=0,E=-2,D=1,C=852,U=592;function R(Z){return(Z>>>24&255)+(Z>>>8&65280)+((65280&Z)<<8)+((255&Z)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(Z){var pe;return Z&&Z.state?(pe=Z.state,Z.total_in=Z.total_out=pe.total=0,Z.msg="",pe.wrap&&(Z.adler=1&pe.wrap),pe.mode=D,pe.last=0,pe.havedict=0,pe.dmax=32768,pe.head=null,pe.hold=0,pe.bits=0,pe.lencode=pe.lendyn=new c.Buf32(C),pe.distcode=pe.distdyn=new c.Buf32(U),pe.sane=1,pe.back=-1,S):E}function H(Z){var pe;return Z&&Z.state?((pe=Z.state).wsize=0,pe.whave=0,pe.wnext=0,P(Z)):E}function q(Z,pe){var B,he;return Z&&Z.state?(he=Z.state,pe<0?(B=0,pe=-pe):(B=1+(pe>>4),pe<48&&(pe&=15)),pe&&(pe<8||15<pe)?E:(he.window!==null&&he.wbits!==pe&&(he.window=null),he.wrap=B,he.wbits=pe,H(Z))):E}function ce(Z,pe){var B,he;return Z?(he=new I,(Z.state=he).window=null,(B=q(Z,pe))!==S&&(Z.state=null),B):E}var ae,de,z=!0;function Te(Z){if(z){var pe;for(ae=new c.Buf32(512),de=new c.Buf32(32),pe=0;pe<144;)Z.lens[pe++]=8;for(;pe<256;)Z.lens[pe++]=9;for(;pe<280;)Z.lens[pe++]=7;for(;pe<288;)Z.lens[pe++]=8;for(m(y,Z.lens,0,288,ae,0,Z.work,{bits:9}),pe=0;pe<32;)Z.lens[pe++]=5;m(w,Z.lens,0,32,de,0,Z.work,{bits:5}),z=!1}Z.lencode=ae,Z.lenbits=9,Z.distcode=de,Z.distbits=5}function Re(Z,pe,B,he){var le,se=Z.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new c.Buf8(se.wsize)),he>=se.wsize?(c.arraySet(se.window,pe,B-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(he<(le=se.wsize-se.wnext)&&(le=he),c.arraySet(se.window,pe,B-he,le,se.wnext),(he-=le)?(c.arraySet(se.window,pe,B-he,he,0),se.wnext=he,se.whave=se.wsize):(se.wnext+=le,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=le))),0}a.inflateReset=H,a.inflateReset2=q,a.inflateResetKeep=P,a.inflateInit=function(Z){return ce(Z,15)},a.inflateInit2=ce,a.inflate=function(Z,pe){var B,he,le,se,Ce,ue,K,Y,O,J,Q,ee,$,M,N,te,W,G,F,ie,b,re,k,v,T=0,A=new c.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return E;(B=Z.state).mode===12&&(B.mode=13),Ce=Z.next_out,le=Z.output,K=Z.avail_out,se=Z.next_in,he=Z.input,ue=Z.avail_in,Y=B.hold,O=B.bits,J=ue,Q=K,re=S;e:for(;;)switch(B.mode){case D:if(B.wrap===0){B.mode=13;break}for(;O<16;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if(2&B.wrap&&Y===35615){A[B.check=0]=255&Y,A[1]=Y>>>8&255,B.check=h(B.check,A,2,0),O=Y=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&Y)<<8)+(Y>>8))%31){Z.msg="incorrect header check",B.mode=30;break}if((15&Y)!=8){Z.msg="unknown compression method",B.mode=30;break}if(O-=4,b=8+(15&(Y>>>=4)),B.wbits===0)B.wbits=b;else if(b>B.wbits){Z.msg="invalid window size",B.mode=30;break}B.dmax=1<<b,Z.adler=B.check=1,B.mode=512&Y?10:12,O=Y=0;break;case 2:for(;O<16;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if(B.flags=Y,(255&B.flags)!=8){Z.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){Z.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=Y>>8&1),512&B.flags&&(A[0]=255&Y,A[1]=Y>>>8&255,B.check=h(B.check,A,2,0)),O=Y=0,B.mode=3;case 3:for(;O<32;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}B.head&&(B.head.time=Y),512&B.flags&&(A[0]=255&Y,A[1]=Y>>>8&255,A[2]=Y>>>16&255,A[3]=Y>>>24&255,B.check=h(B.check,A,4,0)),O=Y=0,B.mode=4;case 4:for(;O<16;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}B.head&&(B.head.xflags=255&Y,B.head.os=Y>>8),512&B.flags&&(A[0]=255&Y,A[1]=Y>>>8&255,B.check=h(B.check,A,2,0)),O=Y=0,B.mode=5;case 5:if(1024&B.flags){for(;O<16;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}B.length=Y,B.head&&(B.head.extra_len=Y),512&B.flags&&(A[0]=255&Y,A[1]=Y>>>8&255,B.check=h(B.check,A,2,0)),O=Y=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(ue<(ee=B.length)&&(ee=ue),ee&&(B.head&&(b=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),c.arraySet(B.head.extra,he,se,ee,b)),512&B.flags&&(B.check=h(B.check,he,ee,se)),ue-=ee,se+=ee,B.length-=ee),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(ue===0)break e;for(ee=0;b=he[se+ee++],B.head&&b&&B.length<65536&&(B.head.name+=String.fromCharCode(b)),b&&ee<ue;);if(512&B.flags&&(B.check=h(B.check,he,ee,se)),ue-=ee,se+=ee,b)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(ue===0)break e;for(ee=0;b=he[se+ee++],B.head&&b&&B.length<65536&&(B.head.comment+=String.fromCharCode(b)),b&&ee<ue;);if(512&B.flags&&(B.check=h(B.check,he,ee,se)),ue-=ee,se+=ee,b)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;O<16;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if(Y!==(65535&B.check)){Z.msg="header crc mismatch",B.mode=30;break}O=Y=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),Z.adler=B.check=0,B.mode=12;break;case 10:for(;O<32;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}Z.adler=B.check=R(Y),O=Y=0,B.mode=11;case 11:if(B.havedict===0)return Z.next_out=Ce,Z.avail_out=K,Z.next_in=se,Z.avail_in=ue,B.hold=Y,B.bits=O,2;Z.adler=B.check=1,B.mode=12;case 12:if(pe===5||pe===6)break e;case 13:if(B.last){Y>>>=7&O,O-=7&O,B.mode=27;break}for(;O<3;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}switch(B.last=1&Y,O-=1,3&(Y>>>=1)){case 0:B.mode=14;break;case 1:if(Te(B),B.mode=20,pe!==6)break;Y>>>=2,O-=2;break e;case 2:B.mode=17;break;case 3:Z.msg="invalid block type",B.mode=30}Y>>>=2,O-=2;break;case 14:for(Y>>>=7&O,O-=7&O;O<32;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if((65535&Y)!=(Y>>>16^65535)){Z.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&Y,O=Y=0,B.mode=15,pe===6)break e;case 15:B.mode=16;case 16:if(ee=B.length){if(ue<ee&&(ee=ue),K<ee&&(ee=K),ee===0)break e;c.arraySet(le,he,se,ee,Ce),ue-=ee,se+=ee,K-=ee,Ce+=ee,B.length-=ee;break}B.mode=12;break;case 17:for(;O<14;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if(B.nlen=257+(31&Y),Y>>>=5,O-=5,B.ndist=1+(31&Y),Y>>>=5,O-=5,B.ncode=4+(15&Y),Y>>>=4,O-=4,286<B.nlen||30<B.ndist){Z.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;O<3;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}B.lens[X[B.have++]]=7&Y,Y>>>=3,O-=3}for(;B.have<19;)B.lens[X[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,k={bits:B.lenbits},re=m(0,B.lens,0,19,B.lencode,0,B.work,k),B.lenbits=k.bits,re){Z.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;te=(T=B.lencode[Y&(1<<B.lenbits)-1])>>>16&255,W=65535&T,!((N=T>>>24)<=O);){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if(W<16)Y>>>=N,O-=N,B.lens[B.have++]=W;else{if(W===16){for(v=N+2;O<v;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if(Y>>>=N,O-=N,B.have===0){Z.msg="invalid bit length repeat",B.mode=30;break}b=B.lens[B.have-1],ee=3+(3&Y),Y>>>=2,O-=2}else if(W===17){for(v=N+3;O<v;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}O-=N,b=0,ee=3+(7&(Y>>>=N)),Y>>>=3,O-=3}else{for(v=N+7;O<v;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}O-=N,b=0,ee=11+(127&(Y>>>=N)),Y>>>=7,O-=7}if(B.have+ee>B.nlen+B.ndist){Z.msg="invalid bit length repeat",B.mode=30;break}for(;ee--;)B.lens[B.have++]=b}}if(B.mode===30)break;if(B.lens[256]===0){Z.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,k={bits:B.lenbits},re=m(y,B.lens,0,B.nlen,B.lencode,0,B.work,k),B.lenbits=k.bits,re){Z.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,k={bits:B.distbits},re=m(w,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,k),B.distbits=k.bits,re){Z.msg="invalid distances set",B.mode=30;break}if(B.mode=20,pe===6)break e;case 20:B.mode=21;case 21:if(6<=ue&&258<=K){Z.next_out=Ce,Z.avail_out=K,Z.next_in=se,Z.avail_in=ue,B.hold=Y,B.bits=O,p(Z,Q),Ce=Z.next_out,le=Z.output,K=Z.avail_out,se=Z.next_in,he=Z.input,ue=Z.avail_in,Y=B.hold,O=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;te=(T=B.lencode[Y&(1<<B.lenbits)-1])>>>16&255,W=65535&T,!((N=T>>>24)<=O);){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if(te&&(240&te)==0){for(G=N,F=te,ie=W;te=(T=B.lencode[ie+((Y&(1<<G+F)-1)>>G)])>>>16&255,W=65535&T,!(G+(N=T>>>24)<=O);){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}Y>>>=G,O-=G,B.back+=G}if(Y>>>=N,O-=N,B.back+=N,B.length=W,te===0){B.mode=26;break}if(32&te){B.back=-1,B.mode=12;break}if(64&te){Z.msg="invalid literal/length code",B.mode=30;break}B.extra=15&te,B.mode=22;case 22:if(B.extra){for(v=B.extra;O<v;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}B.length+=Y&(1<<B.extra)-1,Y>>>=B.extra,O-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;te=(T=B.distcode[Y&(1<<B.distbits)-1])>>>16&255,W=65535&T,!((N=T>>>24)<=O);){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if((240&te)==0){for(G=N,F=te,ie=W;te=(T=B.distcode[ie+((Y&(1<<G+F)-1)>>G)])>>>16&255,W=65535&T,!(G+(N=T>>>24)<=O);){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}Y>>>=G,O-=G,B.back+=G}if(Y>>>=N,O-=N,B.back+=N,64&te){Z.msg="invalid distance code",B.mode=30;break}B.offset=W,B.extra=15&te,B.mode=24;case 24:if(B.extra){for(v=B.extra;O<v;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}B.offset+=Y&(1<<B.extra)-1,Y>>>=B.extra,O-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){Z.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(K===0)break e;if(ee=Q-K,B.offset>ee){if((ee=B.offset-ee)>B.whave&&B.sane){Z.msg="invalid distance too far back",B.mode=30;break}$=ee>B.wnext?(ee-=B.wnext,B.wsize-ee):B.wnext-ee,ee>B.length&&(ee=B.length),M=B.window}else M=le,$=Ce-B.offset,ee=B.length;for(K<ee&&(ee=K),K-=ee,B.length-=ee;le[Ce++]=M[$++],--ee;);B.length===0&&(B.mode=21);break;case 26:if(K===0)break e;le[Ce++]=B.length,K--,B.mode=21;break;case 27:if(B.wrap){for(;O<32;){if(ue===0)break e;ue--,Y|=he[se++]<<O,O+=8}if(Q-=K,Z.total_out+=Q,B.total+=Q,Q&&(Z.adler=B.check=B.flags?h(B.check,le,Q,Ce-Q):d(B.check,le,Q,Ce-Q)),Q=K,(B.flags?Y:R(Y))!==B.check){Z.msg="incorrect data check",B.mode=30;break}O=Y=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;O<32;){if(ue===0)break e;ue--,Y+=he[se++]<<O,O+=8}if(Y!==(4294967295&B.total)){Z.msg="incorrect length check",B.mode=30;break}O=Y=0}B.mode=29;case 29:re=1;break e;case 30:re=-3;break e;case 31:return-4;case 32:default:return E}return Z.next_out=Ce,Z.avail_out=K,Z.next_in=se,Z.avail_in=ue,B.hold=Y,B.bits=O,(B.wsize||Q!==Z.avail_out&&B.mode<30&&(B.mode<27||pe!==4))&&Re(Z,Z.output,Z.next_out,Q-Z.avail_out)?(B.mode=31,-4):(J-=Z.avail_in,Q-=Z.avail_out,Z.total_in+=J,Z.total_out+=Q,B.total+=Q,B.wrap&&Q&&(Z.adler=B.check=B.flags?h(B.check,le,Q,Z.next_out-Q):d(B.check,le,Q,Z.next_out-Q)),Z.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(J==0&&Q===0||pe===4)&&re===S&&(re=-5),re)},a.inflateEnd=function(Z){if(!Z||!Z.state)return E;var pe=Z.state;return pe.window&&(pe.window=null),Z.state=null,S},a.inflateGetHeader=function(Z,pe){var B;return Z&&Z.state?(2&(B=Z.state).wrap)==0?E:((B.head=pe).done=!1,S):E},a.inflateSetDictionary=function(Z,pe){var B,he=pe.length;return Z&&Z.state?(B=Z.state).wrap!==0&&B.mode!==11?E:B.mode===11&&d(1,pe,he,0)!==B.check?-3:Re(Z,pe,he,he)?(B.mode=31,-4):(B.havedict=1,S):E},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,a){var c=r("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,w,S,E,D,C,U,R){var I,P,H,q,ce,ae,de,z,Te,Re=R.bits,Z=0,pe=0,B=0,he=0,le=0,se=0,Ce=0,ue=0,K=0,Y=0,O=null,J=0,Q=new c.Buf16(16),ee=new c.Buf16(16),$=null,M=0;for(Z=0;Z<=15;Z++)Q[Z]=0;for(pe=0;pe<E;pe++)Q[w[S+pe]]++;for(le=Re,he=15;1<=he&&Q[he]===0;he--);if(he<le&&(le=he),he===0)return D[C++]=20971520,D[C++]=20971520,R.bits=1,0;for(B=1;B<he&&Q[B]===0;B++);for(le<B&&(le=B),Z=ue=1;Z<=15;Z++)if(ue<<=1,(ue-=Q[Z])<0)return-1;if(0<ue&&(y===0||he!==1))return-1;for(ee[1]=0,Z=1;Z<15;Z++)ee[Z+1]=ee[Z]+Q[Z];for(pe=0;pe<E;pe++)w[S+pe]!==0&&(U[ee[w[S+pe]]++]=pe);if(ae=y===0?(O=$=U,19):y===1?(O=d,J-=257,$=h,M-=257,256):(O=p,$=m,-1),Z=B,ce=C,Ce=pe=Y=0,H=-1,q=(K=1<<(se=le))-1,y===1&&852<K||y===2&&592<K)return 1;for(;;){for(de=Z-Ce,Te=U[pe]<ae?(z=0,U[pe]):U[pe]>ae?(z=$[M+U[pe]],O[J+U[pe]]):(z=96,0),I=1<<Z-Ce,B=P=1<<se;D[ce+(Y>>Ce)+(P-=I)]=de<<24|z<<16|Te|0,P!==0;);for(I=1<<Z-1;Y&I;)I>>=1;if(I!==0?(Y&=I-1,Y+=I):Y=0,pe++,--Q[Z]==0){if(Z===he)break;Z=w[S+U[pe]]}if(le<Z&&(Y&q)!==H){for(Ce===0&&(Ce=le),ce+=B,ue=1<<(se=Z-Ce);se+Ce<he&&!((ue-=Q[se+Ce])<=0);)se++,ue<<=1;if(K+=1<<se,y===1&&852<K||y===2&&592<K)return 1;D[H=Y&q]=le<<24|se<<16|ce-C|0}}return Y!==0&&(D[ce+Y]=Z-Ce<<24|64<<16|0),R.bits=le,0}},{"../utils/common":41}],51:[function(r,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,a){var c=r("../utils/common"),d=0,h=1;function p(T){for(var A=T.length;0<=--A;)T[A]=0}var m=0,y=29,w=256,S=w+1+y,E=30,D=19,C=2*S+1,U=15,R=16,I=7,P=256,H=16,q=17,ce=18,ae=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],de=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Re=new Array(2*(S+2));p(Re);var Z=new Array(2*E);p(Z);var pe=new Array(512);p(pe);var B=new Array(256);p(B);var he=new Array(y);p(he);var le,se,Ce,ue=new Array(E);function K(T,A,X,ne,j){this.static_tree=T,this.extra_bits=A,this.extra_base=X,this.elems=ne,this.max_length=j,this.has_stree=T&&T.length}function Y(T,A){this.dyn_tree=T,this.max_code=0,this.stat_desc=A}function O(T){return T<256?pe[T]:pe[256+(T>>>7)]}function J(T,A){T.pending_buf[T.pending++]=255&A,T.pending_buf[T.pending++]=A>>>8&255}function Q(T,A,X){T.bi_valid>R-X?(T.bi_buf|=A<<T.bi_valid&65535,J(T,T.bi_buf),T.bi_buf=A>>R-T.bi_valid,T.bi_valid+=X-R):(T.bi_buf|=A<<T.bi_valid&65535,T.bi_valid+=X)}function ee(T,A,X){Q(T,X[2*A],X[2*A+1])}function $(T,A){for(var X=0;X|=1&T,T>>>=1,X<<=1,0<--A;);return X>>>1}function M(T,A,X){var ne,j,ge=new Array(U+1),De=0;for(ne=1;ne<=U;ne++)ge[ne]=De=De+X[ne-1]<<1;for(j=0;j<=A;j++){var be=T[2*j+1];be!==0&&(T[2*j]=$(ge[be]++,be))}}function N(T){var A;for(A=0;A<S;A++)T.dyn_ltree[2*A]=0;for(A=0;A<E;A++)T.dyn_dtree[2*A]=0;for(A=0;A<D;A++)T.bl_tree[2*A]=0;T.dyn_ltree[2*P]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function te(T){8<T.bi_valid?J(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function W(T,A,X,ne){var j=2*A,ge=2*X;return T[j]<T[ge]||T[j]===T[ge]&&ne[A]<=ne[X]}function G(T,A,X){for(var ne=T.heap[X],j=X<<1;j<=T.heap_len&&(j<T.heap_len&&W(A,T.heap[j+1],T.heap[j],T.depth)&&j++,!W(A,ne,T.heap[j],T.depth));)T.heap[X]=T.heap[j],X=j,j<<=1;T.heap[X]=ne}function F(T,A,X){var ne,j,ge,De,be=0;if(T.last_lit!==0)for(;ne=T.pending_buf[T.d_buf+2*be]<<8|T.pending_buf[T.d_buf+2*be+1],j=T.pending_buf[T.l_buf+be],be++,ne===0?ee(T,j,A):(ee(T,(ge=B[j])+w+1,A),(De=ae[ge])!==0&&Q(T,j-=he[ge],De),ee(T,ge=O(--ne),X),(De=de[ge])!==0&&Q(T,ne-=ue[ge],De)),be<T.last_lit;);ee(T,P,A)}function ie(T,A){var X,ne,j,ge=A.dyn_tree,De=A.stat_desc.static_tree,be=A.stat_desc.has_stree,Ue=A.stat_desc.elems,Be=-1;for(T.heap_len=0,T.heap_max=C,X=0;X<Ue;X++)ge[2*X]!==0?(T.heap[++T.heap_len]=Be=X,T.depth[X]=0):ge[2*X+1]=0;for(;T.heap_len<2;)ge[2*(j=T.heap[++T.heap_len]=Be<2?++Be:0)]=1,T.depth[j]=0,T.opt_len--,be&&(T.static_len-=De[2*j+1]);for(A.max_code=Be,X=T.heap_len>>1;1<=X;X--)G(T,ge,X);for(j=Ue;X=T.heap[1],T.heap[1]=T.heap[T.heap_len--],G(T,ge,1),ne=T.heap[1],T.heap[--T.heap_max]=X,T.heap[--T.heap_max]=ne,ge[2*j]=ge[2*X]+ge[2*ne],T.depth[j]=(T.depth[X]>=T.depth[ne]?T.depth[X]:T.depth[ne])+1,ge[2*X+1]=ge[2*ne+1]=j,T.heap[1]=j++,G(T,ge,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],(function(Ge,Ze){var Nt,Dt,St,dt,xn,un,Ct=Ze.dyn_tree,Gn=Ze.max_code,Ui=Ze.stat_desc.static_tree,lr=Ze.stat_desc.has_stree,Mr=Ze.stat_desc.extra_bits,Vn=Ze.stat_desc.extra_base,Lt=Ze.stat_desc.max_length,ur=0;for(dt=0;dt<=U;dt++)Ge.bl_count[dt]=0;for(Ct[2*Ge.heap[Ge.heap_max]+1]=0,Nt=Ge.heap_max+1;Nt<C;Nt++)Lt<(dt=Ct[2*Ct[2*(Dt=Ge.heap[Nt])+1]+1]+1)&&(dt=Lt,ur++),Ct[2*Dt+1]=dt,Gn<Dt||(Ge.bl_count[dt]++,xn=0,Vn<=Dt&&(xn=Mr[Dt-Vn]),un=Ct[2*Dt],Ge.opt_len+=un*(dt+xn),lr&&(Ge.static_len+=un*(Ui[2*Dt+1]+xn)));if(ur!==0){do{for(dt=Lt-1;Ge.bl_count[dt]===0;)dt--;Ge.bl_count[dt]--,Ge.bl_count[dt+1]+=2,Ge.bl_count[Lt]--,ur-=2}while(0<ur);for(dt=Lt;dt!==0;dt--)for(Dt=Ge.bl_count[dt];Dt!==0;)Gn<(St=Ge.heap[--Nt])||(Ct[2*St+1]!==dt&&(Ge.opt_len+=(dt-Ct[2*St+1])*Ct[2*St],Ct[2*St+1]=dt),Dt--)}})(T,A),M(ge,Be,T.bl_count)}function b(T,A,X){var ne,j,ge=-1,De=A[1],be=0,Ue=7,Be=4;for(De===0&&(Ue=138,Be=3),A[2*(X+1)+1]=65535,ne=0;ne<=X;ne++)j=De,De=A[2*(ne+1)+1],++be<Ue&&j===De||(be<Be?T.bl_tree[2*j]+=be:j!==0?(j!==ge&&T.bl_tree[2*j]++,T.bl_tree[2*H]++):be<=10?T.bl_tree[2*q]++:T.bl_tree[2*ce]++,ge=j,Be=(be=0)===De?(Ue=138,3):j===De?(Ue=6,3):(Ue=7,4))}function re(T,A,X){var ne,j,ge=-1,De=A[1],be=0,Ue=7,Be=4;for(De===0&&(Ue=138,Be=3),ne=0;ne<=X;ne++)if(j=De,De=A[2*(ne+1)+1],!(++be<Ue&&j===De)){if(be<Be)for(;ee(T,j,T.bl_tree),--be!=0;);else j!==0?(j!==ge&&(ee(T,j,T.bl_tree),be--),ee(T,H,T.bl_tree),Q(T,be-3,2)):be<=10?(ee(T,q,T.bl_tree),Q(T,be-3,3)):(ee(T,ce,T.bl_tree),Q(T,be-11,7));ge=j,Be=(be=0)===De?(Ue=138,3):j===De?(Ue=6,3):(Ue=7,4)}}p(ue);var k=!1;function v(T,A,X,ne){Q(T,(m<<1)+(ne?1:0),3),(function(j,ge,De,be){te(j),J(j,De),J(j,~De),c.arraySet(j.pending_buf,j.window,ge,De,j.pending),j.pending+=De})(T,A,X)}a._tr_init=function(T){k||((function(){var A,X,ne,j,ge,De=new Array(U+1);for(j=ne=0;j<y-1;j++)for(he[j]=ne,A=0;A<1<<ae[j];A++)B[ne++]=j;for(B[ne-1]=j,j=ge=0;j<16;j++)for(ue[j]=ge,A=0;A<1<<de[j];A++)pe[ge++]=j;for(ge>>=7;j<E;j++)for(ue[j]=ge<<7,A=0;A<1<<de[j]-7;A++)pe[256+ge++]=j;for(X=0;X<=U;X++)De[X]=0;for(A=0;A<=143;)Re[2*A+1]=8,A++,De[8]++;for(;A<=255;)Re[2*A+1]=9,A++,De[9]++;for(;A<=279;)Re[2*A+1]=7,A++,De[7]++;for(;A<=287;)Re[2*A+1]=8,A++,De[8]++;for(M(Re,S+1,De),A=0;A<E;A++)Z[2*A+1]=5,Z[2*A]=$(A,5);le=new K(Re,ae,w+1,S,U),se=new K(Z,de,0,E,U),Ce=new K(new Array(0),z,0,D,I)})(),k=!0),T.l_desc=new Y(T.dyn_ltree,le),T.d_desc=new Y(T.dyn_dtree,se),T.bl_desc=new Y(T.bl_tree,Ce),T.bi_buf=0,T.bi_valid=0,N(T)},a._tr_stored_block=v,a._tr_flush_block=function(T,A,X,ne){var j,ge,De=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=(function(be){var Ue,Be=4093624447;for(Ue=0;Ue<=31;Ue++,Be>>>=1)if(1&Be&&be.dyn_ltree[2*Ue]!==0)return d;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return h;for(Ue=32;Ue<w;Ue++)if(be.dyn_ltree[2*Ue]!==0)return h;return d})(T)),ie(T,T.l_desc),ie(T,T.d_desc),De=(function(be){var Ue;for(b(be,be.dyn_ltree,be.l_desc.max_code),b(be,be.dyn_dtree,be.d_desc.max_code),ie(be,be.bl_desc),Ue=D-1;3<=Ue&&be.bl_tree[2*Te[Ue]+1]===0;Ue--);return be.opt_len+=3*(Ue+1)+5+5+4,Ue})(T),j=T.opt_len+3+7>>>3,(ge=T.static_len+3+7>>>3)<=j&&(j=ge)):j=ge=X+5,X+4<=j&&A!==-1?v(T,A,X,ne):T.strategy===4||ge===j?(Q(T,2+(ne?1:0),3),F(T,Re,Z)):(Q(T,4+(ne?1:0),3),(function(be,Ue,Be,Ge){var Ze;for(Q(be,Ue-257,5),Q(be,Be-1,5),Q(be,Ge-4,4),Ze=0;Ze<Ge;Ze++)Q(be,be.bl_tree[2*Te[Ze]+1],3);re(be,be.dyn_ltree,Ue-1),re(be,be.dyn_dtree,Be-1)})(T,T.l_desc.max_code+1,T.d_desc.max_code+1,De+1),F(T,T.dyn_ltree,T.dyn_dtree)),N(T),ne&&te(T)},a._tr_tally=function(T,A,X){return T.pending_buf[T.d_buf+2*T.last_lit]=A>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&A,T.pending_buf[T.l_buf+T.last_lit]=255&X,T.last_lit++,A===0?T.dyn_ltree[2*X]++:(T.matches++,A--,T.dyn_ltree[2*(B[X]+w+1)]++,T.dyn_dtree[2*O(A)]++),T.last_lit===T.lit_bufsize-1},a._tr_align=function(T){Q(T,2,3),ee(T,P,Re),(function(A){A.bi_valid===16?(J(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):8<=A.bi_valid&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)})(T)}},{"../utils/common":41}],53:[function(r,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,a){(function(c){(function(d,h){if(!d.setImmediate){var p,m,y,w,S=1,E={},D=!1,C=d.document,U=Object.getPrototypeOf&&Object.getPrototypeOf(d);U=U&&U.setTimeout?U:d,p={}.toString.call(d.process)==="[object process]"?function(H){tt.nextTick(function(){I(H)})}:(function(){if(d.postMessage&&!d.importScripts){var H=!0,q=d.onmessage;return d.onmessage=function(){H=!1},d.postMessage("","*"),d.onmessage=q,H}})()?(w="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",P,!1):d.attachEvent("onmessage",P),function(H){d.postMessage(w+H,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(H){I(H.data)},function(H){y.port2.postMessage(H)}):C&&"onreadystatechange"in C.createElement("script")?(m=C.documentElement,function(H){var q=C.createElement("script");q.onreadystatechange=function(){I(H),q.onreadystatechange=null,m.removeChild(q),q=null},m.appendChild(q)}):function(H){setTimeout(I,0,H)},U.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var q=new Array(arguments.length-1),ce=0;ce<q.length;ce++)q[ce]=arguments[ce+1];var ae={callback:H,args:q};return E[S]=ae,p(S),S++},U.clearImmediate=R}function R(H){delete E[H]}function I(H){if(D)setTimeout(I,0,H);else{var q=E[H];if(q){D=!0;try{(function(ce){var ae=ce.callback,de=ce.args;switch(de.length){case 0:ae();break;case 1:ae(de[0]);break;case 2:ae(de[0],de[1]);break;case 3:ae(de[0],de[1],de[2]);break;default:ae.apply(h,de)}})(q)}finally{R(H),D=!1}}}}function P(H){H.source===d&&typeof H.data=="string"&&H.data.indexOf(w)===0&&I(+H.data.slice(w.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Rx);var P3=Rx.exports;const O3=Ew(P3);var Ql={exports:{}},F3={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function z3(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,r){return F3[r]}):t}var G3=z3,Bd=G3,Dv=Xd.Stream,V3="    ";function q3(t,e){typeof e!="object"&&(e={indent:e});var r=e.stream?new Dv:null,o="",a=!1,c=e.indent?e.indent===!0?V3:e.indent:"",d=!0;function h(S){d?tt.nextTick(S):S()}function p(S,E){if(E!==void 0&&(o+=E),S&&!a&&(r=r||new Dv,a=!0),S&&a){var D=o;h(function(){r.emit("data",D)}),o=""}}function m(S,E){lh(p,eu(S,c,c?1:0),E)}function y(){if(r){var S=o;h(function(){r.emit("data",S),r.emit("end"),r.readable=!1,r.emit("close")})}}function w(S){var E=S.encoding||"UTF-8",D={version:"1.0",encoding:E};S.standalone&&(D.standalone=S.standalone),m({"?xml":{_attr:D}}),o=o.replace("/>","?>")}return h(function(){d=!1}),e.declaration&&w(e.declaration),t&&t.forEach?t.forEach(function(S,E){var D;E+1===t.length&&(D=y),m(S,D)}):m(t,y),r?(r.readable=!0,r):o}function H3(){var t=Array.prototype.slice.call(arguments),e={_elem:eu(t)};return e.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var o=this,a=this._elem.indent;lh(this.append,eu(r,a,this._elem.icount+(a?1:0)),function(){o.append(!0)})},e.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},e}function K3(t,e){return new Array(e||0).join(t||"")}function eu(t,e,r){r=r||0;var o=K3(e,r),a,c=t,d=!1;if(typeof t=="object"){var h=Object.keys(t);if(a=h[0],c=t[a],c&&c._elem)return c._elem.name=a,c._elem.icount=r,c._elem.indent=e,c._elem.indents=o,c._elem.interrupt=c,c._elem}var p=[],m=[],y;function w(S){var E=Object.keys(S);E.forEach(function(D){p.push(Y3(D,S[D]))})}switch(typeof c){case"object":if(c===null)break;c._attr&&w(c._attr),c._cdata&&m.push(("<![CDATA["+c._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),c.forEach&&(y=!1,m.push(""),c.forEach(function(S){if(typeof S=="object"){var E=Object.keys(S)[0];E=="_attr"?w(S._attr):m.push(eu(S,e,r+1))}else m.pop(),y=!0,m.push(Bd(S))}),y||m.push(""));break;default:m.push(Bd(c))}return{name:a,interrupt:d,attributes:p,content:m,icount:r,indents:o,indent:e}}function lh(t,e,r){if(typeof e!="object")return t(!1,e);var o=e.interrupt?1:e.content.length;function a(){for(;e.content.length;){var d=e.content.shift();if(d!==void 0){if(c(d))return;lh(t,d)}}t(!1,(o>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!r?`
`:"")),r&&r()}function c(d){return d.interrupt?(d.interrupt.append=t,d.interrupt.end=a,d.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(o?e.name?">":"":e.name?"/>":"")+(e.indent&&o>1?`
`:"")),!o)return t(!1,e.indent?`
`:"");c(e)||a()}function Y3(t,e){return t+'="'+Bd(e)+'"'}Ql.exports=q3;Ql.exports.element=Ql.exports.Element=H3;var J3=Ql.exports;const Ft=Ew(J3),Mv=0,Iv=32,W3=32,$3=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==W3)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const a=r.replace(/(..)/g,"$1 ").trim().split(" ").map(p=>parseInt(p,16));a.reverse();const d=t.slice(Mv,Iv).map((p,m)=>p^a[m%a.length]);return Buffer.concat([t.slice(0,Mv),d,t.slice(Iv)])};class X3{format(e,r={stack:[]}){const o=e.prepForXml(r);if(o)return o;throw Error("XMLComponent did not format correctly")}}class Z3{replace(e,r,o){let a=e;return r.forEach((c,d)=>{a=a.replace(new RegExp(`{${c.fileName}}`,"g"),(o+d).toString())}),a}getMediaData(e,r){return r.Array.filter(o=>e.search(`{${o.fileName}}`)>0)}}class j3{replace(e,r){let o=e;for(const a of r)o=o.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return o}}class Q3{constructor(){Se(this,"formatter"),Se(this,"imageReplacer"),Se(this,"numberingReplacer"),this.formatter=new X3,this.imageReplacer=new Z3,this.numberingReplacer=new j3}compile(e,r){const o=new O3,a=this.xmlifyFile(e,r),c=new Map(Object.entries(a));for(const[,d]of c)if(Array.isArray(d))for(const h of d)o.file(h.path,h.data);else o.file(d.path,d.data);for(const{stream:d,fileName:h}of e.Media.Array)o.file(`word/media/${h}`,d);for(const{data:d,name:h,fontKey:p}of e.FontTable.fontOptionsWithKey){const[m]=h.split(".");o.file(`word/fonts/${m}.odttf`,$3(d,p))}return o}xmlifyFile(e,r){const o=e.Document.Relationships.RelationshipCount+1,a=Ft(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(c.forEach((d,h)=>{e.Document.Relationships.createRelationship(o+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),Ft(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const d=this.imageReplacer.replace(a,c,o);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const d=Ft(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Ft(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Ft(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Ft(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,h)=>{const p=Ft(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,w)=>{d.Relationships.createRelationship(w,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Ft(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,h)=>{const p=Ft(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,w)=>{d.Relationships.createRelationship(w,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Ft(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:e.Headers.map((d,h)=>{const p=Ft(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:e.Footers.map((d,h)=>{const p=Ft(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:Ft(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Ft(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Ft(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Ft(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Ft(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Ft(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Ft(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Ft(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Ft(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const eU={WITH_2_BLANKS:"  "},ia=t=>t===!0?eU.WITH_2_BLANKS:t===!1?void 0:t;class Nx{static toString(e,r){return Dl(this,null,function*(){return yield this.compiler.compile(e,ia(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,r){return Dl(this,null,function*(){return yield this.compiler.compile(e,ia(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,r){return Dl(this,null,function*(){return yield this.compiler.compile(e,ia(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,r){return Dl(this,null,function*(){return yield this.compiler.compile(e,ia(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,r){const o=new Xd.Stream;return this.compiler.compile(e,ia(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(c=>{o.emit("data",c),o.emit("end")}),o}}Se(Nx,"compiler",new Q3);const kv=async(t,e)=>{if(!t||t.length===0)return null;const r=d=>d?d.split(/(\[\[.*?\]\])/g).filter(Boolean).map(p=>{if(p.startsWith("[[")&&p.endsWith("]]")){const m=p.slice(2,-2);return new Ci({text:m,style:"LinkStyle"})}return new Ci(p)}):[],o=[];o.push(new rn({text:e==="GDD"?"Game Design Document":"Roteiro do Jogo",heading:To.TITLE,alignment:vn.CENTER}));const a=[...new Set(t.map(d=>d.category))];for(const d of a){o.push(new rn({text:d,heading:To.HEADING_1,spacing:{before:400,after:200}}));const h=t.filter(p=>p.category===d);for(const p of h){if(o.push(new rn({text:p.title,heading:To.HEADING_2,spacing:{before:300,after:150}})),!p.content||p.content.length===0){o.push(new rn({children:[new Ci({text:"[Este documento est vazio.]",italics:!0,color:"808080"})],spacing:{after:200}}));continue}for(const m of p.content)switch(m.type){case"heading":{const y=m.level===1?To.HEADING_3:m.level===2?To.HEADING_4:To.HEADING_5;o.push(new rn({children:r(m.text),heading:y}));break}case"paragraph":{o.push(new rn({children:r(m.text),spacing:{after:120}}));break}case"blockquote":{o.push(new rn({children:r(m.text),style:"IntenseQuote"}));break}case"definition_list":{if(Array.isArray(m.items))for(const y of m.items)o.push(new rn({children:[new Ci({text:y.term,bold:!0})]})),o.push(new rn({children:r(y.description),indent:{left:400},spacing:{after:100}}));break}case"list":{if(Array.isArray(m.items))for(const y of m.items)typeof y=="string"&&o.push(new rn({children:r(y),...m.style==="ordered"?{numbering:{reference:"default-numbering",level:0}}:{bullet:{level:0}}}));break}case"image":{if(m.src&&m.src.includes(","))try{const y=m.src.split(",")[1],w=atob(y),S=w.length,E=new Uint8Array(S);for(let D=0;D<S;D++)E[D]=w.charCodeAt(D);o.push(new rn({children:[new v6({data:E,width:500,height:375})],alignment:vn.CENTER})),m.caption&&o.push(new rn({children:r(m.caption),style:"Caption"}))}catch(y){console.error("Erro ao processar imagem para o docx:",y),o.push(new rn({children:[new Ci({text:`[Falha ao carregar imagem: ${m.id}]`,color:"FF0000"})]}))}break}}}}const c=new B3({creator:"AI-Powered Interactive GDD",title:e,numbering:{config:[{reference:"default-numbering",levels:[{level:0,format:"decimal",text:"%1.",alignment:vn.START}]}]},styles:{paragraphStyles:[{id:"Caption",name:"Caption",basedOn:"Normal",next:"Normal",run:{italics:!0,size:18,color:"808080"},paragraph:{alignment:vn.CENTER,spacing:{after:200}}},{id:"IntenseQuote",name:"Intense Quote",basedOn:"Normal",next:"Normal",run:{color:"5A5A5A",italics:!0},paragraph:{indentation:{left:400},border:{left:{color:"auto",space:4,style:"single",size:6}},spacing:{before:200,after:200}}}],characterStyles:[{id:"LinkStyle",name:"Link Style",basedOn:"Default",run:{color:"0000FF",underline:{type:sh.SINGLE,color:"0000FF"}}}]},sections:[{children:o}]});return Nx.toBlob(c)},tU="Kael-is-the-key-to-stop-the-end-of-the-world-prophecy",Dx=new TextEncoder,nU=new TextDecoder,Mx=t=>{const e=Dx.encode(tU),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t[o]^e[o%e.length];return r};function rU(t){const e=JSON.stringify(t),r=Dx.encode(e),o=Mx(r),a=8192;let c="";for(let d=0;d<o.length;d+=a){const h=o.subarray(d,d+a);c+=String.fromCharCode.apply(null,h)}return btoa(c)}function iU(t){const e=atob(t),r=new Uint8Array(e.length).map((c,d)=>e.charCodeAt(d)),o=Mx(r),a=nU.decode(o);return JSON.parse(a)}const Gl="currentCloudVersionMeta";function oU(){var qi;const{documents:t,scriptDocuments:e,setDocuments:r,setScriptDocuments:o,isDBLoading:a,dbError:c,viewMode:d,setViewMode:h,activeDocuments:p,activeDocumentId:m,categories:y,activeDocument:w,totalWordCount:S,searchQuery:E,setSearchQuery:D,searchResults:C,scrollToHeading:U,handleSelectDocument:R,handleSelectSearchResult:I,handleNavigate:P,handleDidScrollToHeading:H,handleUpdateBlock:q,handleSetContent:ce,handleUpdateBlockContent:ae,handleUpdateCategoryName:de,handleUpdateDocumentTitle:z,handleReorderDocuments:Te,handleReorderCategories:Re}=x5(),{googleAccessToken:Z,authError:pe,handleGoogleAuthClick:B}=T5(),[he,le]=Ie.useState(320),[se,Ce]=Ie.useState(!1),[ue,K]=Ie.useState(320),Y=Ie.useRef(!1),[O,J]=Ie.useState(!1),[Q,ee]=Ie.useState(!1),[$,M]=Ie.useState(!1),[N,te]=Ie.useState(!1),[W,G]=Ie.useState(!1),[F,ie]=Ie.useState(null),[b,re]=Ie.useState(null),[k,v]=Ie.useState({isOpen:!1,docId:null,blockIndex:null,itemIndex:void 0,initialText:""}),[T,A]=Ie.useState({isOpen:!1,targetDoc:null,references:[]}),[X,ne]=Ie.useState({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),[j,ge]=Ie.useState(null),[De,be]=Ie.useState(!1),[Ue,Be]=Ie.useState([]),[Ge,Ze]=Ie.useState(!1),Nt=Ie.useRef(null),[Dt,St]=Ie.useState(!1),dt=Ie.useRef(null),[xn,un]=Ie.useState(""),[Ct,Gn]=Ie.useState(0),[Ui,lr]=Ie.useState(-1),[Mr,Vn]=Ie.useState(!1),[Lt,ur]=Ie.useState(""),[Nn,$o]=Ie.useState(""),[Li,Ir]=Ie.useState(!1),[fa,cn]=Ie.useState(null),[qn,Vt]=Ie.useState(!0),[Bt,$n]=Ie.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[Xo,Zo]=Ie.useState(!1),[du,Bi]=Ie.useState(!1),[Xn,Pi]=Ie.useState(null),[kr,cr]=Ie.useState(!1),[si,fr]=Ie.useState(null),[At,Oi]=Ie.useState(null);Ie.useEffect(()=>{if(!a){const Le=localStorage.getItem("cloudSyncUrl"),Pe=localStorage.getItem("cloudSyncKey");Le&&Pe?(ur(Le),$o(Pe)):(Vt(!1),Vn(!0))}},[a]),Ie.useEffect(()=>{!a&&!Mr&&(async()=>{if(!Lt||!Nn)return;const Pe=localStorage.getItem(Gl);if(Pe)try{const Ke=JSON.parse(Pe),Ve=await p5(Lt,Nn);Ve&&Ve.id!==Ke.id&&new Date(Ve.timestamp)>new Date(Ke.timestamp)&&Oi(Ve)}catch(Ke){console.error("Failed to check for new versions:",Ke)}})()},[Lt,Nn,a,Mr]),Ie.useEffect(()=>{const Le=Ke=>{if(!Y.current)return;const Ve=Math.max(240,Math.min(Ke.clientX,600));le(Ve)},Pe=()=>{Y.current=!1,document.body.style.cursor="auto",document.body.style.userSelect="auto"};return window.addEventListener("mousemove",Le),window.addEventListener("mouseup",Pe),()=>{window.removeEventListener("mousemove",Le),window.removeEventListener("mouseup",Pe)}},[]),Ie.useEffect(()=>{const Le=Pe=>{dt.current&&!dt.current.contains(Pe.target)&&St(!1)};return document.addEventListener("mousedown",Le),()=>{document.removeEventListener("mousedown",Le)}},[]),Ie.useEffect(()=>{un(""),Gn(0),lr(-1)},[w==null?void 0:w.id]);const da=Le=>{se||(Le.preventDefault(),Y.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none")},dr=()=>{Ce(Le=>{const Pe=!Le;return Pe?(K(he),le(0)):le(ue),Pe})};Ie.useEffect(()=>{c&&ge(c)},[c]),Ie.useEffect(()=>{pe&&ge(pe)},[pe]);const Ur=Le=>{un(Le),lr(Le.trim()?0:-1)},hu=()=>{Ct>0&&lr(Le=>(Le-1+Ct)%Ct)},ha=()=>{Ct>0&&lr(Le=>(Le+1)%Ct)},pa=(Le,Pe)=>{un(E),I(Le,Pe)},pu=async(Le,Pe)=>{J(!1),ge(null);const Ke=(d==="gdd"?t:e)||[],Ve=d==="gdd"?r:o,$e=d==="gdd"?"GDD":"Roteiro";ne({isLoading:!0,message:"A IA est analisando sua ideia...",currentTokens:0,estimatedTokens:Pe.maxOutputTokens});const gt=qe=>{ne(Qe=>({...Qe,currentTokens:qe}))};try{const{payload:qe,rawJson:Qe}=await i5(Le,Ke,$e,gt,Pe);re({...qe,rawJson:Qe}),ne(en=>({...en,message:`Integrando sugesto da IA: ${qe.summary}`}));let st=[];Ve(en=>(st=w0(en||[],qe),st));const Xt=qe.newDocuments;Xt.length>0?R(Xt[0].id):setTimeout(()=>{!st.some(ai=>ai.id===m)&&st.length>0&&R(st[0].id)},0)}catch(qe){console.error(qe),ge(qe instanceof Error?qe.message:"Ocorreu um erro desconhecido.")}finally{setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},Fi=async(Le,Pe)=>{ee(!1),ge(null);const Ke=(d==="gdd"?t:e)||[],Ve=d==="gdd"?r:o,$e=d==="gdd"?"GDD":"Roteiro";ne({isLoading:!0,message:"A IA est reestruturando os documentos...",currentTokens:0,estimatedTokens:Pe.maxOutputTokens});const gt=qe=>{ne(Qe=>({...Qe,currentTokens:qe}))};try{const{payload:qe,rawJson:Qe}=await s5(Le,Ke,$e,gt,Pe);re({...qe,rawJson:Qe});let st=[];Ve(Xt=>(st=w0(Xt||[],qe),st)),ne(Xt=>({...Xt,message:qe.summary||"Documentos atualizados com sucesso!"})),setTimeout(()=>{!st.some(en=>en.id===m)&&st.length>0&&R(st[0].id)},0)}catch(qe){console.error(qe),ge(qe instanceof Error?qe.message:`Ocorreu um erro desconhecido durante a atualizao global do ${$e}.`)}finally{setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1e3)}},zi=()=>{ge(null);try{const Pe=rU({gdd:t,script:e}),Ke=new Blob([Pe],{type:"text/plain"}),Ve=URL.createObjectURL(Ke),$e=document.createElement("a");$e.href=Ve,$e.download="gdd-e-roteiro-data.json",document.body.appendChild($e),$e.click(),document.body.removeChild($e),URL.revokeObjectURL(Ve)}catch(Le){console.error("Falha ao fazer o download dos dados",Le),ge(Le instanceof Error?Le.message:"Falha ao fazer o download dos dados.")}},Tn=Le=>{try{let Pe;try{Pe=JSON.parse(Le)}catch(Ve){try{Pe=iU(Le)}catch($e){throw console.error("Falha na descriptografia e na anlise JSON:",{jsonError:Ve,decryptError:$e}),new Error("Formato de arquivo invlido. O arquivo deve ser um JSON vlido ou um arquivo criptografado vlido deste aplicativo.")}}const Ke=Ve=>Array.isArray(Ve)&&Ve.every($e=>$e&&typeof $e=="object"&&"id"in $e&&"title"in $e&&"category"in $e&&"content"in $e);if(localStorage.removeItem(Gl),Pe&&typeof Pe=="object"&&"gdd"in Pe&&"script"in Pe&&!Array.isArray(Pe)){if(!Ke(Pe.gdd)||!Ke(Pe.script))throw new Error("Formato de arquivo invlido. O arquivo combinado deve conter arrays de documentos vlidos para GDD e Roteiro.");r(Pe.gdd),o(Pe.script)}else if(Ke(Pe))r(Pe);else throw new Error("Formato de arquivo desconhecido ou invlido. O arquivo deve conter um GDD e Roteiro combinados ou apenas um GDD antigo.")}catch(Pe){console.error("Falha ao analisar o arquivo carregado",Pe),ge(Pe instanceof Error?Pe.message:"Falha ao processar o arquivo. Certifique-se de que  um arquivo JSON vlido ou um arquivo criptografado vlido deste aplicativo.")}finally{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},jo=()=>{G(!1),ge(null);const Le=document.createElement("input");Le.type="file",Le.accept="application/json,.json,text/plain",Le.onchange=Pe=>{var gt;const Ve=(gt=Pe.target.files)==null?void 0:gt[0];if(!Ve)return;ne({isLoading:!0,message:"Processando arquivo...",currentTokens:0,estimatedTokens:0});const $e=new FileReader;$e.onload=qe=>{var st;const Qe=(st=qe.target)==null?void 0:st.result;typeof Qe=="string"&&Tn(Qe)},$e.onerror=()=>{ge("Falha ao ler o arquivo."),ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},$e.readAsText(Ve)},Le.click()},ma=async Le=>{G(!1),ge(null);const Pe=Le.match(/file\/d\/([a-zA-Z0-9_-]+)/);if(!Pe||!Pe[1]){ge("URL do Google Drive invlida. Certifique-se de que  um link de compartilhamento de arquivo.");return}const Ke=Pe[1];ne({isLoading:!0,message:"Baixando arquivo do Google Drive...",currentTokens:0,estimatedTokens:0});try{const Ve=`https://www.googleapis.com/drive/v3/files/${Ke}?alt=media&key=PLACEHOLDER_API_KEY`,$e=await fetch(Ve);if($e.ok){const Qe=await $e.text();ne(st=>({...st,message:"Processando arquivo pblico..."})),Tn(Qe);return}if(!Z)throw new Error("No foi possvel buscar o arquivo pblico. Se for um arquivo privado, por favor, conecte sua conta do Google primeiro.");ne(Qe=>({...Qe,message:"Tentando acesso privado..."}));const gt=await fetch(`https://www.googleapis.com/drive/v3/files/${Ke}?alt=media`,{headers:{Authorization:`Bearer ${Z}`}});if(!gt.ok)throw gt.status===401?new Error("No autorizado. Sua sesso do Google pode ter expirado. Por favor, conecte-se novamente."):new Error(`Falha ao buscar o arquivo do Google Drive: ${gt.statusText}`);const qe=await gt.text();ne(Qe=>({...Qe,message:"Processando arquivo privado..."})),Tn(qe)}catch(Ve){console.error("Falha ao carregar do Google Drive",Ve),ge(Ve instanceof Error?Ve.message:"Ocorreu um erro desconhecido ao carregar do Google Drive."),ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},Lr=async()=>{ge(null),ne({isLoading:!0,message:"Gerando arquivos .docx...",currentTokens:0,estimatedTokens:0});try{const Le=(Ve,$e)=>{const gt=URL.createObjectURL(Ve),qe=document.createElement("a");qe.href=gt,qe.download=$e,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),URL.revokeObjectURL(gt)},Pe=await kv(t,"GDD");Pe&&Le(Pe,"GDD.docx"),await new Promise(Ve=>setTimeout(Ve,200));const Ke=await kv(e,"Roteiro");Ke&&Le(Ke,"Roteiro.docx"),ne(Ve=>({...Ve,message:"Documentos gerados com sucesso!"}))}catch(Le){console.error("Falha ao gerar documentos",Le),ge(Le instanceof Error?Le.message:"Falha ao gerar os documentos.")}finally{setTimeout(()=>{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},1500)}},Qo=(Le,Pe,Ke,Ve)=>{v({isOpen:!0,docId:Le,blockIndex:Pe,initialText:Ke,itemIndex:Ve})},es=async(Le,Pe)=>{const{docId:Ke,blockIndex:Ve,itemIndex:$e,initialText:gt}=k;if(Ke===null||Ve===null||!gt)return;v({...k,isOpen:!1}),ge(null);const qe=Math.round(w5(gt)*1.5);ne({isLoading:!0,message:"A IA est aprimorando o texto...",currentTokens:0,estimatedTokens:qe});const Qe=st=>{ne(Xt=>({...Xt,currentTokens:st}))};try{const en=await o5(gt,Le,Pe?(d==="gdd"?t:e)||[]:void 0,Qe);q(Ke,Ve,en,$e)}catch(st){console.error("Falha ao aprimorar o texto",st),ge(st instanceof Error?st.message:"Falha ao aprimorar o texto.")}finally{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},ga=Le=>{const Pe=[...t||[],...e||[]],Ke=Pe.find(qe=>qe.id===Le);if(!Ke)return;const Ve=[],$e=new RegExp(`(\\[\\[${Ke.title.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\])`,"gi"),gt=qe=>qe.split($e).map((Qe,st)=>$e.test(Qe)?_.jsx("strong",{className:"bg-yellow-400/30 text-yellow-200",children:Qe},st):Qe);Pe.forEach(qe=>{qe.id!==Ke.id&&qe.content.forEach(Qe=>{let st=[];(Qe.type==="heading"||Qe.type==="paragraph")&&Qe.text?st.push(Qe.text):Qe.type==="list"&&Qe.items?st.push(...Qe.items.filter(Boolean)):Qe.type==="image"&&Qe.caption&&st.push(Qe.caption),st.forEach(Xt=>{$e.test(Xt)&&Ve.push({docId:qe.id,docTitle:qe.title,category:qe.category,snippet:_.jsx(_.Fragment,{children:gt(Xt)})})})})}),A({isOpen:!0,targetDoc:Ke,references:Ve})},ya=()=>{A({isOpen:!1,targetDoc:null,references:[]})},dn=()=>{be(Le=>!Le)},va=()=>{Be([]),Nt.current=null},mu=async Le=>{if(!t||!e)return;const Pe={role:"user",text:Le};Be(Ke=>[...Ke,Pe]),Ze(!0);try{Nt.current||(Nt.current=a5(t,e));const Ve={role:"model",text:(await Nt.current.sendMessage({message:Le})).text};Be($e=>[...$e,Ve])}catch(Ke){console.error("Erro na consulta avanada do chat:",Ke);const Ve={role:"model",text:"Desculpe, ocorreu um erro ao processar sua pergunta. Por favor, tente novamente."};Be($e=>[...$e,Ve])}finally{Ze(!1)}},Gi=(Le,Pe)=>{ie({docId:Le,insertionIndex:Pe}),te(!0)},wa=async Le=>{if(!F)return;const{docId:Pe,insertionIndex:Ke}=F,Ve=(t||[]).some(qe=>qe.id===Pe),gt=((Ve?t:e)||[]).find(qe=>qe.id===Pe);if(!gt){ge("Documento alvo para gerao de imagem no encontrado.");return}te(!1),ge(null);try{ne({isLoading:!0,message:"A IA est criando um prompt de imagem detalhado...",currentTokens:0,estimatedTokens:0});const qe=await l5(gt,Ke,[...t||[],...e||[]],Le);ne(Dn=>({...Dn,message:"A IA est gerando a imagem..."}));const{base64:Qe,mimeType:st}=await u5(qe),Xt={type:"image",id:`img-ai-${Date.now()}`,src:`data:${st};base64,${Qe}`,caption:qe},en=[...gt.content];en.splice(Ke,0,Xt);const ai=Ve?r:o,rs=new Date().toISOString();ai(Dn=>(Dn||[]).map(Zn=>Zn.id===Pe?{...Zn,content:en,lastEdited:rs}:Zn)),ne(Dn=>({...Dn,message:"Imagem gerada e inserida com sucesso!"}))}catch(qe){console.error("Falha ao gerar a imagem com IA",qe),ge(qe instanceof Error?qe.message:"Ocorreu um erro desconhecido durante a gerao da imagem.")}finally{ie(null),setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},Vi=(Le,Pe)=>{ur(Le),$o(Pe),localStorage.setItem("cloudSyncUrl",Le),localStorage.setItem("cloudSyncKey",Pe),cn("Configuraes salvas com sucesso!"),qn||(Vn(!1),Vt(!0)),setTimeout(()=>cn(null),3e3)},gu=()=>{if(!Lt||!Nn){cn("Erro: URL do Worker ou Chave no configurada.");return}Zo(!0)},hn=async Le=>{Ir(!0),cn("Enviando verso para a nuvem..."),Zo(!1);try{const Ke=await f5(Lt,Nn,Le,{gdd:t||[],script:e||[]});cn(`Verso "${Ke.name}" salva com sucesso!`),localStorage.setItem(Gl,JSON.stringify(Ke))}catch(Pe){cn(Pe instanceof Error?`Erro no upload: ${Pe.message}`:"Erro desconhecido no upload.")}finally{Ir(!1),setTimeout(()=>cn(null),5e3)}},ts=async()=>{if(!Lt||!Nn){cn("Erro: URL do Worker ou Chave no configurada.");return}cr(!0),fr(null),Pi(null),Bi(!0);try{const Le=await d5(Lt,Nn);Le.manual.sort((Pe,Ke)=>new Date(Ke.timestamp).getTime()-new Date(Pe.timestamp).getTime()),Le.automatic.sort((Pe,Ke)=>new Date(Ke.timestamp).getTime()-new Date(Pe.timestamp).getTime()),Pi(Le)}catch(Le){fr(Le instanceof Error?Le.message:"Erro desconhecido ao buscar verses.")}finally{cr(!1)}},ns=(Le,Pe)=>{$n({isOpen:!0,title:"Confirmar Carregamento de Verso",message:"Isso substituir seus documentos locais pelos da verso selecionada na nuvem. Esta ao no pode ser desfeita. Deseja continuar?",onConfirm:async()=>{Bi(!1),Ir(!0),cn("Baixando verso da nuvem...");try{const Ve=await h5(Lt,Nn,Le);cn("Dados recebidos. Atualizando documentos..."),r(Ve.gdd),o(Ve.script);let $e=Pe;!$e&&Xn&&($e=[...Xn.manual,...Xn.automatic].find(qe=>qe.id===Le)),$e&&localStorage.setItem(Gl,JSON.stringify($e)),cn("Dados carregados da nuvem com sucesso!")}catch(Ve){cn(Ve instanceof Error?`Erro no download: ${Ve.message}`:"Erro desconhecido no download.")}finally{Ir(!1),setTimeout(()=>cn(null),5e3)}}})};return _.jsxs("div",{className:"flex h-screen font-sans relative",children:[(X.isLoading||a)&&_.jsx(gS,{message:a?"Carregando documentos...":X.message,currentTokens:X.currentTokens,estimatedTokens:X.estimatedTokens}),_.jsx(W1,{width:he,title:d==="gdd"?"GDD Explorer":"Roteiro Explorer",documents:p,categories:y,activeDocumentId:m,onSelectDocument:R,onUpdateCategoryName:de,onUpdateDocumentTitle:z,onReorderDocuments:Te,onReorderCategories:Re,onFindReferences:ga,totalWordCount:S,searchQuery:E,onSearchChange:D,searchResults:C,onSelectSearchResult:pa}),!se&&_.jsx("div",{onMouseDown:da,className:"w-1.5 flex-shrink-0 bg-gray-700 hover:bg-indigo-500 transition-colors duration-200",style:{cursor:"col-resize"}}),_.jsx("button",{onClick:dr,className:"absolute top-1/2 -translate-y-1/2 bg-gray-800 hover:bg-indigo-600 border border-gray-700 text-white rounded-full p-1 z-40 transition-all duration-200 shadow-lg",style:{left:se?"8px":`${he-16}px`},title:se?"Expandir":"Recolher","aria-label":se?"Expandir painel lateral":"Recolher painel lateral",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${se?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),_.jsxs("main",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto min-w-0",children:[_.jsxs("header",{className:"sticky top-0 z-30 flex items-center justify-between p-4 bg-gray-900/80 backdrop-blur-sm border-b border-gray-700",children:[_.jsx("div",{className:"flex items-center flex-shrink-0",children:_.jsxs("div",{className:"bg-gray-800 p-1 rounded-lg flex items-center",children:[_.jsx("button",{onClick:()=>h("gdd"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${d==="gdd"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"GDD"}),_.jsx("button",{onClick:()=>h("script"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${d==="script"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"Roteiro"})]})}),_.jsx("div",{className:"flex-grow flex justify-center px-4",children:w&&_.jsxs("div",{className:"relative w-full max-w-lg",children:[_.jsx("input",{type:"text",value:xn,onChange:Le=>Ur(Le.target.value),placeholder:"Pesquisar neste documento...",className:"w-full bg-gray-800 border border-gray-600 rounded-full py-2 pl-4 pr-32 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),xn&&_.jsxs("div",{className:"absolute inset-y-0 right-2 flex items-center space-x-1 text-gray-400",children:[_.jsx("span",{className:"text-xs px-2",children:Ct>0?`${Ui+1} de ${Ct}`:"0/0"}),_.jsx("button",{onClick:hu,disabled:Ct===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:_.jsx(oS,{})}),_.jsx("button",{onClick:ha,disabled:Ct===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:_.jsx(sS,{})})]})]})}),_.jsxs("div",{className:"relative flex-shrink-0",ref:dt,children:[_.jsx("button",{onClick:()=>St(Le=>!Le),className:"p-2 rounded-full hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500","aria-haspopup":"true","aria-expanded":Dt,title:"Menu de Aes",children:_.jsx(Q1,{})}),Dt&&_.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700 rounded-lg shadow-2xl p-2 z-50 animate-dropdown",children:[_.jsxs("button",{onClick:()=>{J(!0),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-left font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),_.jsx("span",{className:"ml-3",children:"Integrar Nova Ideia"})]}),_.jsxs("button",{onClick:()=>{ee(!0),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:`Atualizar todo o ${d.toUpperCase()} com uma instruo`,children:[_.jsx(Z1,{}),_.jsx("span",{className:"ml-3",children:"Atualizao Global"})]}),_.jsx("hr",{className:"border-gray-600 my-1"}),_.jsxs("button",{onClick:()=>{G(!0),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Carregar GDD e Roteiro",children:[_.jsx(Lv,{}),_.jsx("span",{className:"ml-3",children:"Carregar GDD & Roteiro"})]}),_.jsxs("button",{onClick:()=>{zi(),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Salvar GDD e Roteiro no computador",children:[_.jsx($1,{}),_.jsx("span",{className:"ml-3",children:"Salvar GDD & Roteiro"})]}),_.jsxs("button",{onClick:()=>{Lr(),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Gerar e baixar o documento completo",children:[_.jsx(X1,{}),_.jsx("span",{className:"ml-3",children:"Gerar Documentos .docx"})]}),_.jsx("hr",{className:"border-gray-600 my-1"}),_.jsxs("button",{onClick:()=>{Vt(!0),Vn(!0),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Configurar e usar a sincronizao na nuvem",children:[_.jsx(Od,{}),_.jsx("span",{className:"ml-3",children:"Sincronizao na Nuvem"})]}),_.jsxs("button",{onClick:()=>{B(),St(!1)},disabled:!!Z,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:Z?"Conectado ao Google Drive":"Conectar ao Google Drive para salvar backups",children:[_.jsx(Bv,{}),_.jsx("span",{className:"ml-3",children:Z?"Conectado ao Google Drive":"Conectar ao Google Drive"})]}),_.jsx("hr",{className:"border-gray-600 my-1"}),_.jsxs("button",{onClick:()=>{M(!0),St(!1)},disabled:!b,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:"Ver o processo de raciocnio da ltima ao da IA",children:[_.jsx(j1,{}),_.jsx("span",{className:"ml-3",children:"Ver Raciocnio da IA"})]})]})]})]}),j&&_.jsxs("div",{className:"m-4 p-4 bg-red-800/50 border border-red-600 text-red-200 rounded-md",children:[_.jsx("h3",{className:"font-bold",children:"Ocorreu um Erro"}),_.jsx("p",{children:j}),_.jsx("button",{onClick:()=>ge(null),className:"absolute top-2 right-2 text-red-200 hover:text-white",children:""})]}),_.jsx(fS,{document:w,allDocuments:[...t||[],...e||[]],onNavigate:P,onRefineRequest:Qo,onFindReferences:ga,onUpdateBlock:q,onUpdateBlockContent:ae,onSetContent:ce,scrollToHeading:U,onDidScrollToHeading:H,onOpenImageGenerationModal:Gi,docSearchQuery:xn,docSearchCurrentIndex:Ui,onDocSearchResultsChange:Gn})]}),_.jsx(dS,{isOpen:O,onClose:()=>J(!1),onSubmit:pu,contextType:d==="gdd"?"GDD":"Roteiro"}),_.jsx(mS,{isOpen:Q,onClose:()=>ee(!1),onSubmit:Fi,contextType:d==="gdd"?"GDD":"Roteiro"}),_.jsx(_S,{isOpen:N,onClose:()=>te(!1),onSubmit:wa}),_.jsx(bS,{isOpen:W,onClose:()=>G(!1),onUploadLocal:jo,onUploadFromUrl:ma,isGoogleAuth:!!Z,onGoogleAuthClick:()=>{B()}}),_.jsx(pS,{isOpen:k.isOpen,onClose:()=>v({...k,isOpen:!1}),onSubmit:es,initialText:k.initialText,contextType:d==="gdd"?"GDD":"Roteiro"}),_.jsx(vS,{isOpen:T.isOpen,onClose:ya,targetDocTitle:((qi=T.targetDoc)==null?void 0:qi.title)||"",references:T.references,onNavigate:P}),_.jsx(ES,{isOpen:$,onClose:()=>M(!1),insight:b}),_.jsx(CS,{isOpen:Mr,onClose:()=>Vn(!1),isClosable:qn,initialUrl:Lt,initialKey:Nn,onSaveSettings:Vi,onUploadClick:gu,onDownloadClick:ts,isSyncing:Li,syncStatus:fa}),_.jsx(RS,{isOpen:Xo,onClose:()=>Zo(!1),onSave:hn,isSaving:Li}),_.jsx(DS,{isOpen:du,onClose:()=>Bi(!1),onLoadVersion:ns,versions:Xn,isLoading:kr,error:si}),_.jsx(AS,{isOpen:Bt.isOpen,onClose:()=>$n({...Bt,isOpen:!1}),onConfirm:()=>{Bt.onConfirm(),$n({...Bt,isOpen:!1})},title:Bt.title,message:Bt.message}),_.jsx(IS,{isOpen:!!At,onClose:()=>Oi(null),onConfirm:()=>{At&&ns(At.id,At),Oi(null)},latestVersion:At}),_.jsx(SS,{isOpen:De,onToggle:dn,messages:Ue,isLoading:Ge,onSendMessage:mu,onClearChat:va})]})}const Ix=document.getElementById("root");if(!Ix)throw new Error("Could not find root element to mount to");const sU=q1.createRoot(Ix);sU.render(_.jsx(oa.StrictMode,{children:_.jsx(oU,{})}));

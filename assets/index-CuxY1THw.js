(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();function Ov(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vf={exports:{}},es={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function P1(){if(kg)return es;kg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var h in s)h!=="key"&&(c[h]=s[h])}else c=s;return s=c.ref,{$$typeof:t,type:o,key:d,ref:s!==void 0?s:null,props:c}}return es.Fragment=e,es.jsx=r,es.jsxs=r,es}var Ug;function O1(){return Ug||(Ug=1,vf.exports=P1()),vf.exports}var _=O1(),wf={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function F1(){if(Lg)return Qe;Lg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function S(K){return K===null||typeof K!="object"?null:(K=x&&K[x]||K["@@iterator"],typeof K=="function"?K:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,C={};function U(K,J,O){this.props=K,this.context=J,this.refs=C,this.updater=O||E}U.prototype.isReactComponent={},U.prototype.setState=function(K,J){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,J,"setState")},U.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function R(){}R.prototype=U.prototype;function I(K,J,O){this.props=K,this.context=J,this.refs=C,this.updater=O||E}var P=I.prototype=new R;P.constructor=I,D(P,U.prototype),P.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function se(K,J,O,Y,Q,ee){return O=ee.ref,{$$typeof:t,type:K,key:J,ref:O!==void 0?O:null,props:ee}}function de(K,J){return se(K.type,J,void 0,void 0,void 0,K.props)}function G(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function Te(K){var J={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(O){return J[O]})}var Re=/\/+/g;function Z(K,J){return typeof K=="object"&&K!==null&&K.key!=null?Te(""+K.key):J.toString(36)}function pe(){}function B(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(pe,pe):(K.status="pending",K.then(function(J){K.status==="pending"&&(K.status="fulfilled",K.value=J)},function(J){K.status==="pending"&&(K.status="rejected",K.reason=J)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function he(K,J,O,Y,Q){var ee=typeof K;(ee==="undefined"||ee==="boolean")&&(K=null);var $=!1;if(K===null)$=!0;else switch(ee){case"bigint":case"string":case"number":$=!0;break;case"object":switch(K.$$typeof){case t:case e:$=!0;break;case y:return $=K._init,he($(K._payload),J,O,Y,Q)}}if($)return Q=Q(K),$=Y===""?"."+Z(K,0):Y,H(Q)?(O="",$!=null&&(O=$.replace(Re,"$&/")+"/"),he(Q,J,O,"",function(te){return te})):Q!=null&&(G(Q)&&(Q=de(Q,O+(Q.key==null||K&&K.key===Q.key?"":(""+Q.key).replace(Re,"$&/")+"/")+$)),J.push(Q)),1;$=0;var M=Y===""?".":Y+":";if(H(K))for(var N=0;N<K.length;N++)Y=K[N],ee=M+Z(Y,N),$+=he(Y,J,O,ee,Q);else if(N=S(K),typeof N=="function")for(K=N.call(K),N=0;!(Y=K.next()).done;)Y=Y.value,ee=M+Z(Y,N++),$+=he(Y,J,O,ee,Q);else if(ee==="object"){if(typeof K.then=="function")return he(B(K),J,O,Y,Q);throw J=String(K),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return $}function le(K,J,O){if(K==null)return K;var Y=[],Q=0;return he(K,Y,"","",function(ee){return J.call(O,ee,Q++)}),Y}function ae(K){if(K._status===-1){var J=K._result;J=J(),J.then(function(O){(K._status===0||K._status===-1)&&(K._status=1,K._result=O)},function(O){(K._status===0||K._status===-1)&&(K._status=2,K._result=O)}),K._status===-1&&(K._status=0,K._result=J)}if(K._status===1)return K._result.default;throw K._result}var Ce=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function ue(){}return Qe.Children={map:le,forEach:function(K,J,O){le(K,function(){J.apply(this,arguments)},O)},count:function(K){var J=0;return le(K,function(){J++}),J},toArray:function(K){return le(K,function(J){return J})||[]},only:function(K){if(!G(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Qe.Component=U,Qe.Fragment=r,Qe.Profiler=s,Qe.PureComponent=I,Qe.StrictMode=o,Qe.Suspense=p,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return q.H.useMemoCache(K)}},Qe.cache=function(K){return function(){return K.apply(null,arguments)}},Qe.cloneElement=function(K,J,O){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Y=D({},K.props),Q=K.key,ee=void 0;if(J!=null)for($ in J.ref!==void 0&&(ee=void 0),J.key!==void 0&&(Q=""+J.key),J)!ce.call(J,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&J.ref===void 0||(Y[$]=J[$]);var $=arguments.length-2;if($===1)Y.children=O;else if(1<$){for(var M=Array($),N=0;N<$;N++)M[N]=arguments[N+2];Y.children=M}return se(K.type,Q,void 0,void 0,ee,Y)},Qe.createContext=function(K){return K={$$typeof:d,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:c,_context:K},K},Qe.createElement=function(K,J,O){var Y,Q={},ee=null;if(J!=null)for(Y in J.key!==void 0&&(ee=""+J.key),J)ce.call(J,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(Q[Y]=J[Y]);var $=arguments.length-2;if($===1)Q.children=O;else if(1<$){for(var M=Array($),N=0;N<$;N++)M[N]=arguments[N+2];Q.children=M}if(K&&K.defaultProps)for(Y in $=K.defaultProps,$)Q[Y]===void 0&&(Q[Y]=$[Y]);return se(K,ee,void 0,void 0,null,Q)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(K){return{$$typeof:h,render:K}},Qe.isValidElement=G,Qe.lazy=function(K){return{$$typeof:y,_payload:{_status:-1,_result:K},_init:ae}},Qe.memo=function(K,J){return{$$typeof:m,type:K,compare:J===void 0?null:J}},Qe.startTransition=function(K){var J=q.T,O={};q.T=O;try{var Y=K(),Q=q.S;Q!==null&&Q(O,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ue,Ce)}catch(ee){Ce(ee)}finally{q.T=J}},Qe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Qe.use=function(K){return q.H.use(K)},Qe.useActionState=function(K,J,O){return q.H.useActionState(K,J,O)},Qe.useCallback=function(K,J){return q.H.useCallback(K,J)},Qe.useContext=function(K){return q.H.useContext(K)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(K,J){return q.H.useDeferredValue(K,J)},Qe.useEffect=function(K,J,O){var Y=q.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(K,J)},Qe.useId=function(){return q.H.useId()},Qe.useImperativeHandle=function(K,J,O){return q.H.useImperativeHandle(K,J,O)},Qe.useInsertionEffect=function(K,J){return q.H.useInsertionEffect(K,J)},Qe.useLayoutEffect=function(K,J){return q.H.useLayoutEffect(K,J)},Qe.useMemo=function(K,J){return q.H.useMemo(K,J)},Qe.useOptimistic=function(K,J){return q.H.useOptimistic(K,J)},Qe.useReducer=function(K,J,O){return q.H.useReducer(K,J,O)},Qe.useRef=function(K){return q.H.useRef(K)},Qe.useState=function(K){return q.H.useState(K)},Qe.useSyncExternalStore=function(K,J,O){return q.H.useSyncExternalStore(K,J,O)},Qe.useTransition=function(){return q.H.useTransition()},Qe.version="19.1.1",Qe}var Bg;function Gd(){return Bg||(Bg=1,wf.exports=F1()),wf.exports}var Ie=Gd();const fs=Ov(Ie);var xf={exports:{}},ts={},Tf={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function G1(){return Pg||(Pg=1,(function(t){function e(le,ae){var Ce=le.length;le.push(ae);e:for(;0<Ce;){var ue=Ce-1>>>1,K=le[ue];if(0<s(K,ae))le[ue]=ae,le[Ce]=K,Ce=ue;else break e}}function r(le){return le.length===0?null:le[0]}function o(le){if(le.length===0)return null;var ae=le[0],Ce=le.pop();if(Ce!==ae){le[0]=Ce;e:for(var ue=0,K=le.length,J=K>>>1;ue<J;){var O=2*(ue+1)-1,Y=le[O],Q=O+1,ee=le[Q];if(0>s(Y,Ce))Q<K&&0>s(ee,Y)?(le[ue]=ee,le[Q]=Ce,ue=Q):(le[ue]=Y,le[O]=Ce,ue=O);else if(Q<K&&0>s(ee,Ce))le[ue]=ee,le[Q]=Ce,ue=Q;else break e}}return ae}function s(le,ae){var Ce=le.sortIndex-ae.sortIndex;return Ce!==0?Ce:le.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,x=null,S=3,E=!1,D=!1,C=!1,U=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function H(le){for(var ae=r(m);ae!==null;){if(ae.callback===null)o(m);else if(ae.startTime<=le)o(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=r(m)}}function q(le){if(C=!1,H(le),!D)if(r(p)!==null)D=!0,ce||(ce=!0,Z());else{var ae=r(m);ae!==null&&he(q,ae.startTime-le)}}var ce=!1,se=-1,de=5,G=-1;function Te(){return U?!0:!(t.unstable_now()-G<de)}function Re(){if(U=!1,ce){var le=t.unstable_now();G=le;var ae=!0;try{e:{D=!1,C&&(C=!1,I(se),se=-1),E=!0;var Ce=S;try{t:{for(H(le),x=r(p);x!==null&&!(x.expirationTime>le&&Te());){var ue=x.callback;if(typeof ue=="function"){x.callback=null,S=x.priorityLevel;var K=ue(x.expirationTime<=le);if(le=t.unstable_now(),typeof K=="function"){x.callback=K,H(le),ae=!0;break t}x===r(p)&&o(p),H(le)}else o(p);x=r(p)}if(x!==null)ae=!0;else{var J=r(m);J!==null&&he(q,J.startTime-le),ae=!1}}break e}finally{x=null,S=Ce,E=!1}ae=void 0}}finally{ae?Z():ce=!1}}}var Z;if(typeof P=="function")Z=function(){P(Re)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,B=pe.port2;pe.port1.onmessage=Re,Z=function(){B.postMessage(null)}}else Z=function(){R(Re,0)};function he(le,ae){se=R(function(){le(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(le){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var Ce=S;S=ae;try{return le()}finally{S=Ce}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(le,ae){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Ce=S;S=le;try{return ae()}finally{S=Ce}},t.unstable_scheduleCallback=function(le,ae,Ce){var ue=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?ue+Ce:ue):Ce=ue,le){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Ce+K,le={id:y++,callback:ae,priorityLevel:le,startTime:Ce,expirationTime:K,sortIndex:-1},Ce>ue?(le.sortIndex=Ce,e(m,le),r(p)===null&&le===r(m)&&(C?(I(se),se=-1):C=!0,he(q,Ce-ue))):(le.sortIndex=K,e(p,le),D||E||(D=!0,ce||(ce=!0,Z()))),le},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(le){var ae=S;return function(){var Ce=S;S=ae;try{return le.apply(this,arguments)}finally{S=Ce}}}})(Sf)),Sf}var Og;function z1(){return Og||(Og=1,Tf.exports=G1()),Tf.exports}var Ef={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function V1(){if(Fg)return rn;Fg=1;var t=Gd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(p,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:p,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,rn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},rn.flushSync=function(p){var m=d.T,y=o.p;try{if(d.T=null,o.p=2,p)return p()}finally{d.T=m,o.p=y,o.d.f()}},rn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},rn.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},rn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:E}):y==="script"&&o.d.X(p,{crossOrigin:x,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},rn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin);o.d.L(p,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},rn.requestFormReset=function(p){o.d.r(p)},rn.unstable_batchedUpdates=function(p,m){return p(m)},rn.useFormState=function(p,m,y){return d.H.useFormState(p,m,y)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.1.1",rn}var Gg;function q1(){if(Gg)return Ef.exports;Gg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ef.exports=V1(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function H1(){if(zg)return ts;zg=1;var t=z1(),e=Gd(),r=q1();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(o(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(o(188));return i!==n?null:n}for(var a=n,f=i;;){var g=a.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){a=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===a)return h(g),n;if(w===f)return h(g),i;w=w.sibling}throw Error(o(188))}if(a.return!==f.return)a=g,f=w;else{for(var L=!1,V=g.child;V;){if(V===a){L=!0,a=g,f=w;break}if(V===f){L=!0,f=g,a=w;break}V=V.sibling}if(!L){for(V=w.child;V;){if(V===a){L=!0,a=w,f=g;break}if(V===f){L=!0,f=w,a=g;break}V=V.sibling}if(!L)throw Error(o(189))}}if(a.alternate!==f)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=Re&&n[Re]||n["@@iterator"],typeof n=="function"?n:null)}var pe=Symbol.for("react.client.reference");function B(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case U:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case ce:return"SuspenseList";case G:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case P:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case H:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case se:return i=n.displayName||null,i!==null?i:B(n.type)||"Memo";case de:i=n._payload,n=n._init;try{return B(n(i))}catch{}}return null}var he=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},ue=[],K=-1;function J(n){return{current:n}}function O(n){0>K||(n.current=ue[K],ue[K]=null,K--)}function Y(n,i){K++,ue[K]=n.current,n.current=i}var Q=J(null),ee=J(null),$=J(null),M=J(null);function N(n,i){switch(Y($,i),Y(ee,n),Y(Q,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?sg(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=sg(i),n=lg(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(Q),Y(Q,n)}function te(){O(Q),O(ee),O($)}function W(n){n.memoizedState!==null&&Y(M,n);var i=Q.current,a=lg(i,n.type);i!==a&&(Y(ee,n),Y(Q,a))}function z(n){ee.current===n&&(O(Q),O(ee)),M.current===n&&(O(M),$a._currentValue=Ce)}var F=Object.prototype.hasOwnProperty,ie=t.unstable_scheduleCallback,b=t.unstable_cancelCallback,re=t.unstable_shouldYield,k=t.unstable_requestPaint,v=t.unstable_now,T=t.unstable_getCurrentPriorityLevel,A=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,ne=t.unstable_NormalPriority,j=t.unstable_LowPriority,ge=t.unstable_IdlePriority,De=t.log,be=t.unstable_setDisableYieldValue,Le=null,Pe=null;function Ve(n){if(typeof De=="function"&&be(n),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Le,n)}catch{}}var Ze=Math.clz32?Math.clz32:St,Dt=Math.log,Mt=Math.LN2;function St(n){return n>>>=0,n===0?32:31-(Dt(n)/Mt|0)|0}var ht=256,Sn=4194304;function cn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function At(n,i,a){var f=n.pendingLanes;if(f===0)return 0;var g=0,w=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var V=f&134217727;return V!==0?(f=V&~w,f!==0?g=cn(f):(L&=V,L!==0?g=cn(L):a||(a=V&~n,a!==0&&(g=cn(a))))):(V=f&~w,V!==0?g=cn(V):L!==0?g=cn(L):a||(a=f&~n,a!==0&&(g=cn(a)))),g===0?0:i!==0&&i!==g&&(i&w)===0&&(w=g&-g,a=i&-i,w>=a||w===32&&(a&4194048)!==0)?i:g}function Gn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Li(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(){var n=ht;return ht<<=1,(ht&4194048)===0&&(ht=256),n}function Ir(){var n=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),n}function zn(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function It(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cr(n,i,a,f,g,w){var L=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var V=n.entanglements,oe=n.expirationTimes,ve=n.hiddenUpdates;for(a=L&~a;0<a;){var Ae=31-Ze(a),Me=1<<Ae;V[Ae]=0,oe[Ae]=-1;var we=ve[Ae];if(we!==null)for(ve[Ae]=null,Ae=0;Ae<we.length;Ae++){var xe=we[Ae];xe!==null&&(xe.lane&=-536870913)}a&=~Me}f!==0&&hn(n,f,0),w!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=w&~(L&~i))}function hn(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var f=31-Ze(i);n.entangledLanes|=i,n.entanglements[f]=n.entanglements[f]|1073741824|a&4194090}function Zo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var f=31-Ze(a),g=1<<f;g&i|n[f]&i&&(n[f]|=i),a&=~g}}function Bi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function kr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function vs(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:Ag(n.type))}function Jt(n,i){var a=ae.p;try{return ae.p=n,i()}finally{ae.p=a}}var Vn=Math.random().toString(36).slice(2),qt="__reactFiber$"+Vn,Pt="__reactProps$"+Vn,Xn="__reactContainer$"+Vn,jo="__reactEvents$"+Vn,Qo="__reactListeners$"+Vn,pu="__reactHandles$"+Vn,Pi="__reactResources$"+Vn,Zn="__reactMarker$"+Vn;function Oi(n){delete n[qt],delete n[Pt],delete n[jo],delete n[Qo],delete n[pu]}function Ur(n){var i=n[qt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Xn]||a[qt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=dg(n);n!==null;){if(a=n[qt])return a;n=dg(n)}return i}n=a,a=n.parentNode}return null}function fr(n){if(n=n[qt]||n[Xn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function si(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function dr(n){var i=n[Pi];return i||(i=n[Pi]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(n){n[Zn]=!0}var Fi=new Set,Gi={};function qn(n,i){Lr(n,i),Lr(n+"Capture",i)}function Lr(n,i){for(Gi[n]=i,n=0;n<i.length;n++)Fi.add(i[n])}var mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},xs={};function gu(n){return F.call(xs,n)?!0:F.call(ws,n)?!1:mu.test(n)?xs[n]=!0:(ws[n]=!0,!1)}function zi(n,i,a){if(gu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function li(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Hn(n,i,a,f){if(f===null)n.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+f)}}var ea,Ts;function jn(n){if(ea===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ea=i&&i[1]||"",Ts=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+n+Ts}var ta=!1;function na(n,i){if(!n||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(xe){var we=xe}Reflect.construct(n,[],Me)}else{try{Me.call()}catch(xe){we=xe}n.call(Me.prototype)}}else{try{throw Error()}catch(xe){we=xe}(Me=n())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(xe){if(xe&&we&&typeof xe.stack=="string")return[xe.stack,we.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),L=w[0],V=w[1];if(L&&V){var oe=L.split(`
`),ve=V.split(`
`);for(g=f=0;f<oe.length&&!oe[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ve.length&&!ve[g].includes("DetermineComponentFrameRoot");)g++;if(f===oe.length||g===ve.length)for(f=oe.length-1,g=ve.length-1;1<=f&&0<=g&&oe[f]!==ve[g];)g--;for(;1<=f&&0<=g;f--,g--)if(oe[f]!==ve[g]){if(f!==1||g!==1)do if(f--,g--,0>g||oe[f]!==ve[g]){var Ae=`
`+oe[f].replace(" at new "," at ");return n.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",n.displayName)),Ae}while(1<=f&&0<=g);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?jn(a):""}function yu(n){switch(n.tag){case 26:case 27:case 5:return jn(n.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return na(n.type,!1);case 11:return na(n.type.render,!1);case 1:return na(n.type,!0);case 31:return jn("Activity");default:return""}}function Ss(n){try{var i="";do i+=yu(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ra(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vu(n){var i=ra(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),f=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,w=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(L){f=""+L,w.call(this,L)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Vi(n){n._valueTracker||(n._valueTracker=vu(n))}function Es(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),f="";return n&&(f=ra(n)?n.checked?"true":"false":n.value),n=f,n!==a?(i.setValue(n),!0):!1}function qi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var wu=/[\n"\\]/g;function mn(n){return n.replace(wu,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ia(n,i,a,f,g,w,L,V){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+pn(i)):n.value!==""+pn(i)&&(n.value=""+pn(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?oa(n,L,pn(i)):a!=null?oa(n,L,pn(a)):f!=null&&n.removeAttribute("value"),g==null&&w!=null&&(n.defaultChecked=!!w),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?n.name=""+pn(V):n.removeAttribute("name")}function _s(n,i,a,f,g,w,L,V){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.type=w),i!=null||a!=null){if(!(w!=="submit"&&w!=="reset"||i!=null))return;a=a!=null?""+pn(a):"",i=i!=null?""+pn(i):a,V||i===n.value||(n.value=i),n.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=V?n.checked:!!f,n.defaultChecked=!!f,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L)}function oa(n,i,a){i==="number"&&qi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Br(n,i,a,f){if(n=n.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=i.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&f&&(n[a].defaultSelected=!0)}else{for(a=""+pn(a),i=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function aa(n,i,a){if(i!=null&&(i=""+pn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+pn(a):""}function sa(n,i,a,f){if(i==null){if(f!=null){if(a!=null)throw Error(o(92));if(he(f)){if(1<f.length)throw Error(o(93));f=f[0]}a=f}a==null&&(a=""),i=a}a=pn(i),n.defaultValue=a,f=n.textContent,f===a&&f!==""&&f!==null&&(n.value=f)}function Ue(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Be=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Je(n,i,a){var f=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":f?n.setProperty(i,a):typeof a!="number"||a===0||Be.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function ze(n,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&a[g]!==f&&Je(n,g,f)}else for(var w in i)i.hasOwnProperty(w)&&Je(n,w,i[w])}function He(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),je=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qe(n){return je.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var st=null;function bt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yt=null,fn=null;function Hi(n){var i=fr(n);if(i&&(n=i.stateNode)){var a=n[Pt]||null;e:switch(n=i.stateNode,i.type){case"input":if(ia(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var f=a[i];if(f!==n&&f.form===n.form){var g=f[Pt]||null;if(!g)throw Error(o(90));ia(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<a.length;i++)f=a[i],f.form===n.form&&Es(f)}break e;case"textarea":aa(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Br(n,!!a.multiple,i,!1)}}}var hr=!1;function Ki(n,i,a){if(hr)return n(i,a);hr=!0;try{var f=n(i);return f}finally{if(hr=!1,(Yt!==null||fn!==null)&&(ul(),Yt&&(i=Yt,n=fn,fn=Yt=null,Hi(i),n)))for(i=0;i<n.length;i++)Hi(n[i])}}function la(n,i){var a=n.stateNode;if(a===null)return null;var f=a[Pt]||null;if(f===null)return null;a=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=!1;if(pr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){xu=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{xu=!1}var Pr=null,Tu=null,bs=null;function fh(){if(bs)return bs;var n,i=Tu,a=i.length,f,g="value"in Pr?Pr.value:Pr.textContent,w=g.length;for(n=0;n<a&&i[n]===g[n];n++);var L=a-n;for(f=1;f<=L&&i[a-f]===g[w-f];f++);return bs=g.slice(n,1<f?1-f:void 0)}function Cs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function As(){return!0}function dh(){return!1}function gn(n){function i(a,f,g,w,L){this._reactName=a,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=L,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(a=n[V],this[V]=a?a(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?As:dh,this.isPropagationStopped=dh,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),i}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=gn(ui),ca=y({},ui,{view:0,detail:0}),Px=gn(ca),Su,Eu,fa,Ns=y({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fa&&(fa&&n.type==="mousemove"?(Su=n.screenX-fa.screenX,Eu=n.screenY-fa.screenY):Eu=Su=0,fa=n),Su)},movementY:function(n){return"movementY"in n?n.movementY:Eu}}),hh=gn(Ns),Ox=y({},Ns,{dataTransfer:0}),Fx=gn(Ox),Gx=y({},ca,{relatedTarget:0}),_u=gn(Gx),zx=y({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Vx=gn(zx),qx=y({},ui,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hx=gn(qx),Kx=y({},ui,{data:0}),ph=gn(Kx),Jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $x(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Wx[n])?!!i[n]:!1}function bu(){return $x}var Xx=y({},ca,{key:function(n){if(n.key){var i=Jx[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(n){return n.type==="keypress"?Cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Zx=gn(Xx),jx=y({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mh=gn(jx),Qx=y({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),eT=gn(Qx),tT=y({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),nT=gn(tT),rT=y({},Ns,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),iT=gn(rT),oT=y({},ui,{newState:0,oldState:0}),aT=gn(oT),sT=[9,13,27,32],Cu=pr&&"CompositionEvent"in window,da=null;pr&&"documentMode"in document&&(da=document.documentMode);var lT=pr&&"TextEvent"in window&&!da,gh=pr&&(!Cu||da&&8<da&&11>=da),yh=" ",vh=!1;function wh(n,i){switch(n){case"keyup":return sT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ji=!1;function uT(n,i){switch(n){case"compositionend":return xh(i);case"keypress":return i.which!==32?null:(vh=!0,yh);case"textInput":return n=i.data,n===yh&&vh?null:n;default:return null}}function cT(n,i){if(Ji)return n==="compositionend"||!Cu&&wh(n,i)?(n=fh(),bs=Tu=Pr=null,Ji=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gh&&i.locale!=="ko"?null:i.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!fT[n.type]:i==="textarea"}function Sh(n,i,a,f){Yt?fn?fn.push(f):fn=[f]:Yt=f,i=ml(i,"onChange"),0<i.length&&(a=new Rs("onChange","change",null,a,f),n.push({event:a,listeners:i}))}var ha=null,pa=null;function dT(n){ng(n,0)}function Ds(n){var i=si(n);if(Es(i))return n}function Eh(n,i){if(n==="change")return i}var _h=!1;if(pr){var Au;if(pr){var Ru="oninput"in document;if(!Ru){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),Ru=typeof bh.oninput=="function"}Au=Ru}else Au=!1;_h=Au&&(!document.documentMode||9<document.documentMode)}function Ch(){ha&&(ha.detachEvent("onpropertychange",Ah),pa=ha=null)}function Ah(n){if(n.propertyName==="value"&&Ds(pa)){var i=[];Sh(i,pa,n,bt(n)),Ki(dT,i)}}function hT(n,i,a){n==="focusin"?(Ch(),ha=i,pa=a,ha.attachEvent("onpropertychange",Ah)):n==="focusout"&&Ch()}function pT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ds(pa)}function mT(n,i){if(n==="click")return Ds(i)}function gT(n,i){if(n==="input"||n==="change")return Ds(i)}function yT(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var En=typeof Object.is=="function"?Object.is:yT;function ma(n,i){if(En(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),f=Object.keys(i);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var g=a[f];if(!F.call(i,g)||!En(n[g],i[g]))return!1}return!0}function Rh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Nh(n,i){var a=Rh(n);n=0;for(var f;a;){if(a.nodeType===3){if(f=n+a.textContent.length,n<=i&&f>=i)return{node:a,offset:i-n};n=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rh(a)}}function Dh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Dh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Mh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=qi(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=qi(n.document)}return i}function Nu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var vT=pr&&"documentMode"in document&&11>=document.documentMode,Yi=null,Du=null,ga=null,Mu=!1;function Ih(n,i,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mu||Yi==null||Yi!==qi(f)||(f=Yi,"selectionStart"in f&&Nu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ga&&ma(ga,f)||(ga=f,f=ml(Du,"onSelect"),0<f.length&&(i=new Rs("onSelect","select",null,i,a),n.push({event:i,listeners:f}),i.target=Yi)))}function ci(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Wi={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},Iu={},kh={};pr&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function fi(n){if(Iu[n])return Iu[n];if(!Wi[n])return n;var i=Wi[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in kh)return Iu[n]=i[a];return n}var Uh=fi("animationend"),Lh=fi("animationiteration"),Bh=fi("animationstart"),wT=fi("transitionrun"),xT=fi("transitionstart"),TT=fi("transitioncancel"),Ph=fi("transitionend"),Oh=new Map,ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ku.push("scrollEnd");function Kn(n,i){Oh.set(n,i),qn(i,[n])}var Fh=new WeakMap;function Dn(n,i){if(typeof n=="object"&&n!==null){var a=Fh.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ss(i)},Fh.set(n,i),i)}return{value:n,source:i,stack:Ss(i)}}var Mn=[],$i=0,Uu=0;function Ms(){for(var n=$i,i=Uu=$i=0;i<n;){var a=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var g=Mn[i];Mn[i++]=null;var w=Mn[i];if(Mn[i++]=null,f!==null&&g!==null){var L=f.pending;L===null?g.next=g:(g.next=L.next,L.next=g),f.pending=g}w!==0&&Gh(a,g,w)}}function Is(n,i,a,f){Mn[$i++]=n,Mn[$i++]=i,Mn[$i++]=a,Mn[$i++]=f,Uu|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function Lu(n,i,a,f){return Is(n,i,a,f),ks(n)}function Xi(n,i){return Is(n,null,null,i),ks(n)}function Gh(n,i,a){n.lanes|=a;var f=n.alternate;f!==null&&(f.lanes|=a);for(var g=!1,w=n.return;w!==null;)w.childLanes|=a,f=w.alternate,f!==null&&(f.childLanes|=a),w.tag===22&&(n=w.stateNode,n===null||n._visibility&1||(g=!0)),n=w,w=w.return;return n.tag===3?(w=n.stateNode,g&&i!==null&&(g=31-Ze(a),n=w.hiddenUpdates,f=n[g],f===null?n[g]=[i]:f.push(i),i.lane=a|536870912),w):null}function ks(n){if(50<za)throw za=0,zc=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Zi={};function ST(n,i,a,f){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,f){return new ST(n,i,a,f)}function Bu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mr(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function zh(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Us(n,i,a,f,g,w){var L=0;if(f=n,typeof n=="function")Bu(n)&&(L=1);else if(typeof n=="string")L=_1(n,a,Q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case G:return n=_n(31,a,i,g),n.elementType=G,n.lanes=w,n;case D:return di(a.children,g,w,i);case C:L=8,g|=24;break;case U:return n=_n(12,a,i,g|2),n.elementType=U,n.lanes=w,n;case q:return n=_n(13,a,i,g),n.elementType=q,n.lanes=w,n;case ce:return n=_n(19,a,i,g),n.elementType=ce,n.lanes=w,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:case P:L=10;break e;case I:L=9;break e;case H:L=11;break e;case se:L=14;break e;case de:L=16,f=null;break e}L=29,a=Error(o(130,n===null?"null":typeof n,"")),f=null}return i=_n(L,a,i,g),i.elementType=n,i.type=f,i.lanes=w,i}function di(n,i,a,f){return n=_n(7,n,f,i),n.lanes=a,n}function Pu(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function Ou(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ji=[],Qi=0,Ls=null,Bs=0,In=[],kn=0,hi=null,gr=1,yr="";function pi(n,i){ji[Qi++]=Bs,ji[Qi++]=Ls,Ls=n,Bs=i}function Vh(n,i,a){In[kn++]=gr,In[kn++]=yr,In[kn++]=hi,hi=n;var f=gr;n=yr;var g=32-Ze(f)-1;f&=~(1<<g),a+=1;var w=32-Ze(i)+g;if(30<w){var L=g-g%5;w=(f&(1<<L)-1).toString(32),f>>=L,g-=L,gr=1<<32-Ze(i)+g|a<<g|f,yr=w+n}else gr=1<<w|a<<g|f,yr=n}function Fu(n){n.return!==null&&(pi(n,1),Vh(n,1,0))}function Gu(n){for(;n===Ls;)Ls=ji[--Qi],ji[Qi]=null,Bs=ji[--Qi],ji[Qi]=null;for(;n===hi;)hi=In[--kn],In[kn]=null,yr=In[--kn],In[kn]=null,gr=In[--kn],In[kn]=null}var dn=null,Ut=null,ft=!1,mi=null,Qn=!1,zu=Error(o(519));function gi(n){var i=Error(o(418,""));throw wa(Dn(i,n)),zu}function qh(n){var i=n.stateNode,a=n.type,f=n.memoizedProps;switch(i[qt]=n,i[Pt]=f,a){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(a=0;a<qa.length;a++)at(qa[a],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":at("invalid",i),_s(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Vi(i);break;case"select":at("invalid",i);break;case"textarea":at("invalid",i),sa(i,f.value,f.defaultValue,f.children),Vi(i)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||f.suppressHydrationWarning===!0||ag(i.textContent,a)?(f.popover!=null&&(at("beforetoggle",i),at("toggle",i)),f.onScroll!=null&&at("scroll",i),f.onScrollEnd!=null&&at("scrollend",i),f.onClick!=null&&(i.onclick=gl),i=!0):i=!1,i||gi(n)}function Hh(n){for(dn=n.return;dn;)switch(dn.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:dn=dn.return}}function ya(n){if(n!==dn)return!1;if(!ft)return Hh(n),ft=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||rf(n.type,n.memoizedProps)),a=!a),a&&Ut&&gi(n),Hh(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ut=Yn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ut=null}}else i===27?(i=Ut,Qr(n.type)?(n=lf,lf=null,Ut=n):Ut=i):Ut=dn?Yn(n.stateNode.nextSibling):null;return!0}function va(){Ut=dn=null,ft=!1}function Kh(){var n=mi;return n!==null&&(wn===null?wn=n:wn.push.apply(wn,n),mi=null),n}function wa(n){mi===null?mi=[n]:mi.push(n)}var Vu=J(null),yi=null,vr=null;function Or(n,i,a){Y(Vu,i._currentValue),i._currentValue=a}function wr(n){n._currentValue=Vu.current,O(Vu)}function qu(n,i,a){for(;n!==null;){var f=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),n===a)break;n=n.return}}function Hu(n,i,a,f){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var w=g.dependencies;if(w!==null){var L=g.child;w=w.firstContext;e:for(;w!==null;){var V=w;w=g;for(var oe=0;oe<i.length;oe++)if(V.context===i[oe]){w.lanes|=a,V=w.alternate,V!==null&&(V.lanes|=a),qu(w.return,a,n),f||(L=null);break e}w=V.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(o(341));L.lanes|=a,w=L.alternate,w!==null&&(w.lanes|=a),qu(L,a,n),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===n){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function xa(n,i,a,f){n=null;for(var g=i,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(o(387));if(L=L.memoizedProps,L!==null){var V=g.type;En(g.pendingProps.value,L.value)||(n!==null?n.push(V):n=[V])}}else if(g===M.current){if(L=g.alternate,L===null)throw Error(o(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push($a):n=[$a])}g=g.return}n!==null&&Hu(i,n,a,f),i.flags|=262144}function Ps(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function vi(n){yi=n,vr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return Jh(yi,n)}function Os(n,i){return yi===null&&vi(n),Jh(n,i)}function Jh(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},vr===null){if(n===null)throw Error(o(308));vr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else vr=vr.next=i;return a}var ET=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,f){n.push(f)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},_T=t.unstable_scheduleCallback,bT=t.unstable_NormalPriority,Wt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ku(){return{controller:new ET,data:new Map,refCount:0}}function Ta(n){n.refCount--,n.refCount===0&&_T(bT,function(){n.controller.abort()})}var Sa=null,Ju=0,eo=0,to=null;function CT(n,i){if(Sa===null){var a=Sa=[];Ju=0,eo=Wc(),to={status:"pending",value:void 0,then:function(f){a.push(f)}}}return Ju++,i.then(Yh,Yh),i}function Yh(){if(--Ju===0&&Sa!==null){to!==null&&(to.status="fulfilled");var n=Sa;Sa=null,eo=0,to=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function AT(n,i){var a=[],f={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<a.length;g++)(0,a[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),f}var Wh=le.S;le.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&CT(n,i),Wh!==null&&Wh(n,i)};var wi=J(null);function Yu(){var n=wi.current;return n!==null?n:Et.pooledCache}function Fs(n,i){i===null?Y(wi,wi.current):Y(wi,i.pool)}function $h(){var n=Yu();return n===null?null:{parent:Wt._currentValue,pool:n}}var Ea=Error(o(460)),Xh=Error(o(474)),Gs=Error(o(542)),Wu={then:function(){}};function Zh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function zs(){}function jh(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(zs,zs),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ep(n),n;default:if(typeof i.status=="string")i.then(zs,zs);else{if(n=Et,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ep(n),n}throw _a=i,Ea}}var _a=null;function Qh(){if(_a===null)throw Error(o(459));var n=_a;return _a=null,n}function ep(n){if(n===Ea||n===Gs)throw Error(o(483))}var Fr=!1;function $u(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Gr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zr(n,i,a){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(pt&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=ks(n),Gh(n,null,a),i}return Is(n,f,i,a),ks(n)}function ba(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var f=i.lanes;f&=n.pendingLanes,a|=f,i.lanes=a,Zo(n,a)}}function Zu(n,i){var a=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var g=null,w=null;if(a=a.firstBaseUpdate,a!==null){do{var L={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};w===null?g=w=L:w=w.next=L,a=a.next}while(a!==null);w===null?g=w=i:w=w.next=i}else g=w=i;a={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var ju=!1;function Ca(){if(ju){var n=to;if(n!==null)throw n}}function Aa(n,i,a,f){ju=!1;var g=n.updateQueue;Fr=!1;var w=g.firstBaseUpdate,L=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var oe=V,ve=oe.next;oe.next=null,L===null?w=ve:L.next=ve,L=oe;var Ae=n.alternate;Ae!==null&&(Ae=Ae.updateQueue,V=Ae.lastBaseUpdate,V!==L&&(V===null?Ae.firstBaseUpdate=ve:V.next=ve,Ae.lastBaseUpdate=oe))}if(w!==null){var Me=g.baseState;L=0,Ae=ve=oe=null,V=w;do{var we=V.lane&-536870913,xe=we!==V.lane;if(xe?(lt&we)===we:(f&we)===we){we!==0&&we===eo&&(ju=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var $e=n,Ye=V;we=i;var wt=a;switch(Ye.tag){case 1:if($e=Ye.payload,typeof $e=="function"){Me=$e.call(wt,Me,we);break e}Me=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Ye.payload,we=typeof $e=="function"?$e.call(wt,Me,we):$e,we==null)break e;Me=y({},Me,we);break e;case 2:Fr=!0}}we=V.callback,we!==null&&(n.flags|=64,xe&&(n.flags|=8192),xe=g.callbacks,xe===null?g.callbacks=[we]:xe.push(we))}else xe={lane:we,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ae===null?(ve=Ae=xe,oe=Me):Ae=Ae.next=xe,L|=we;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;xe=V,V=xe.next,xe.next=null,g.lastBaseUpdate=xe,g.shared.pending=null}}while(!0);Ae===null&&(oe=Me),g.baseState=oe,g.firstBaseUpdate=ve,g.lastBaseUpdate=Ae,w===null&&(g.shared.lanes=0),$r|=L,n.lanes=L,n.memoizedState=Me}}function tp(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function np(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)tp(a[n],i)}var no=J(null),Vs=J(0);function rp(n,i){n=Cr,Y(Vs,n),Y(no,i),Cr=n|i.baseLanes}function Qu(){Y(Vs,Cr),Y(no,no.current)}function ec(){Cr=Vs.current,O(no),O(Vs)}var Vr=0,tt=null,yt=null,Ht=null,qs=!1,ro=!1,xi=!1,Hs=0,Ra=0,io=null,RT=0;function Ot(){throw Error(o(321))}function tc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!En(n[a],i[a]))return!1;return!0}function nc(n,i,a,f,g,w){return Vr=w,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,le.H=n===null||n.memoizedState===null?Gp:zp,xi=!1,w=a(f,g),xi=!1,ro&&(w=op(i,a,f,g)),ip(n),w}function ip(n){le.H=Xs;var i=yt!==null&&yt.next!==null;if(Vr=0,Ht=yt=tt=null,qs=!1,Ra=0,io=null,i)throw Error(o(300));n===null||Xt||(n=n.dependencies,n!==null&&Ps(n)&&(Xt=!0))}function op(n,i,a,f){tt=n;var g=0;do{if(ro&&(io=null),Ra=0,ro=!1,25<=g)throw Error(o(301));if(g+=1,Ht=yt=null,n.updateQueue!=null){var w=n.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}le.H=LT,w=i(a,f)}while(ro);return w}function NT(){var n=le.H,i=n.useState()[0];return i=typeof i.then=="function"?Na(i):i,n=n.useState()[0],(yt!==null?yt.memoizedState:null)!==n&&(tt.flags|=1024),i}function rc(){var n=Hs!==0;return Hs=0,n}function ic(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function oc(n){if(qs){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qs=!1}Vr=0,Ht=yt=tt=null,ro=!1,Ra=Hs=0,io=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?tt.memoizedState=Ht=n:Ht=Ht.next=n,Ht}function Kt(){if(yt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Ht===null?tt.memoizedState:Ht.next;if(i!==null)Ht=i,yt=n;else{if(n===null)throw tt.alternate===null?Error(o(467)):Error(o(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Ht===null?tt.memoizedState=Ht=n:Ht=Ht.next=n}return Ht}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Na(n){var i=Ra;return Ra+=1,io===null&&(io=[]),n=jh(io,n,i),i=tt,(Ht===null?i.memoizedState:Ht.next)===null&&(i=i.alternate,le.H=i===null||i.memoizedState===null?Gp:zp),n}function Ks(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Na(n);if(n.$$typeof===P)return nn(n)}throw Error(o(438,String(n)))}function sc(n){var i=null,a=tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var f=tt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ac(),tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),f=0;f<n;f++)a[f]=Te;return i.index++,a}function xr(n,i){return typeof i=="function"?i(n):i}function Js(n){var i=Kt();return lc(i,yt,n)}function lc(n,i,a){var f=n.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=a;var g=n.baseQueue,w=f.pending;if(w!==null){if(g!==null){var L=g.next;g.next=w.next,w.next=L}i.baseQueue=g=w,f.pending=null}if(w=n.baseState,g===null)n.memoizedState=w;else{i=g.next;var V=L=null,oe=null,ve=i,Ae=!1;do{var Me=ve.lane&-536870913;if(Me!==ve.lane?(lt&Me)===Me:(Vr&Me)===Me){var we=ve.revertLane;if(we===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Me===eo&&(Ae=!0);else if((Vr&we)===we){ve=ve.next,we===eo&&(Ae=!0);continue}else Me={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(V=oe=Me,L=w):oe=oe.next=Me,tt.lanes|=we,$r|=we;Me=ve.action,xi&&a(w,Me),w=ve.hasEagerState?ve.eagerState:a(w,Me)}else we={lane:Me,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(V=oe=we,L=w):oe=oe.next=we,tt.lanes|=Me,$r|=Me;ve=ve.next}while(ve!==null&&ve!==i);if(oe===null?L=w:oe.next=V,!En(w,n.memoizedState)&&(Xt=!0,Ae&&(a=to,a!==null)))throw a;n.memoizedState=w,n.baseState=L,n.baseQueue=oe,f.lastRenderedState=w}return g===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function uc(n){var i=Kt(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var f=a.dispatch,g=a.pending,w=i.memoizedState;if(g!==null){a.pending=null;var L=g=g.next;do w=n(w,L.action),L=L.next;while(L!==g);En(w,i.memoizedState)||(Xt=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),a.lastRenderedState=w}return[w,f]}function ap(n,i,a){var f=tt,g=Kt(),w=ft;if(w){if(a===void 0)throw Error(o(407));a=a()}else a=i();var L=!En((yt||g).memoizedState,a);L&&(g.memoizedState=a,Xt=!0),g=g.queue;var V=up.bind(null,f,g,n);if(Da(2048,8,V,[n]),g.getSnapshot!==i||L||Ht!==null&&Ht.memoizedState.tag&1){if(f.flags|=2048,oo(9,Ys(),lp.bind(null,f,g,a,i),null),Et===null)throw Error(o(349));w||(Vr&124)!==0||sp(f,i,a)}return a}function sp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=tt.updateQueue,i===null?(i=ac(),tt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function lp(n,i,a,f){i.value=a,i.getSnapshot=f,cp(i)&&fp(n)}function up(n,i,a){return a(function(){cp(i)&&fp(n)})}function cp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!En(n,a)}catch{return!0}}function fp(n){var i=Xi(n,2);i!==null&&Nn(i,n,2)}function cc(n){var i=yn();if(typeof n=="function"){var a=n;if(n=a(),xi){Ve(!0);try{a()}finally{Ve(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:n},i}function dp(n,i,a,f){return n.baseState=a,lc(n,yt,typeof f=="function"?f:xr)}function DT(n,i,a,f,g){if($s(n))throw Error(o(485));if(n=i.action,n!==null){var w={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){w.listeners.push(L)}};le.T!==null?a(!0):w.isTransition=!1,f(w),a=i.pending,a===null?(w.next=i.pending=w,hp(i,w)):(w.next=a.next,i.pending=a.next=w)}}function hp(n,i){var a=i.action,f=i.payload,g=n.state;if(i.isTransition){var w=le.T,L={};le.T=L;try{var V=a(g,f),oe=le.S;oe!==null&&oe(L,V),pp(n,i,V)}catch(ve){fc(n,i,ve)}finally{le.T=w}}else try{w=a(g,f),pp(n,i,w)}catch(ve){fc(n,i,ve)}}function pp(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){mp(n,i,f)},function(f){return fc(n,i,f)}):mp(n,i,a)}function mp(n,i,a){i.status="fulfilled",i.value=a,gp(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,hp(n,a)))}function fc(n,i,a){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=a,gp(i),i=i.next;while(i!==f)}n.action=null}function gp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function yp(n,i){return i}function vp(n,i){if(ft){var a=Et.formState;if(a!==null){e:{var f=tt;if(ft){if(Ut){t:{for(var g=Ut,w=Qn;g.nodeType!==8;){if(!w){g=null;break t}if(g=Yn(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){Ut=Yn(g.nextSibling),f=g.data==="F!";break e}}gi(f)}f=!1}f&&(i=a[0])}}return a=yn(),a.memoizedState=a.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:i},a.queue=f,a=Pp.bind(null,tt,f),f.dispatch=a,f=cc(!1),w=gc.bind(null,tt,!1,f.queue),f=yn(),g={state:i,dispatch:null,action:n,pending:null},f.queue=g,a=DT.bind(null,tt,g,w,a),g.dispatch=a,f.memoizedState=n,[i,a,!1]}function wp(n){var i=Kt();return xp(i,yt,n)}function xp(n,i,a){if(i=lc(n,i,yp)[0],n=Js(xr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Na(i)}catch(L){throw L===Ea?Gs:L}else f=i;i=Kt();var g=i.queue,w=g.dispatch;return a!==i.memoizedState&&(tt.flags|=2048,oo(9,Ys(),MT.bind(null,g,a),null)),[f,w,n]}function MT(n,i){n.action=i}function Tp(n){var i=Kt(),a=yt;if(a!==null)return xp(i,a,n);Kt(),i=i.memoizedState,a=Kt();var f=a.queue.dispatch;return a.memoizedState=n,[i,f,!1]}function oo(n,i,a,f){return n={tag:n,create:a,deps:f,inst:i,next:null},i=tt.updateQueue,i===null&&(i=ac(),tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(f=a.next,a.next=n,n.next=f,i.lastEffect=n),n}function Ys(){return{destroy:void 0,resource:void 0}}function Sp(){return Kt().memoizedState}function Ws(n,i,a,f){var g=yn();f=f===void 0?null:f,tt.flags|=n,g.memoizedState=oo(1|i,Ys(),a,f)}function Da(n,i,a,f){var g=Kt();f=f===void 0?null:f;var w=g.memoizedState.inst;yt!==null&&f!==null&&tc(f,yt.memoizedState.deps)?g.memoizedState=oo(i,w,a,f):(tt.flags|=n,g.memoizedState=oo(1|i,w,a,f))}function Ep(n,i){Ws(8390656,8,n,i)}function _p(n,i){Da(2048,8,n,i)}function bp(n,i){return Da(4,2,n,i)}function Cp(n,i){return Da(4,4,n,i)}function Ap(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Rp(n,i,a){a=a!=null?a.concat([n]):null,Da(4,4,Ap.bind(null,i,n),a)}function dc(){}function Np(n,i){var a=Kt();i=i===void 0?null:i;var f=a.memoizedState;return i!==null&&tc(i,f[1])?f[0]:(a.memoizedState=[n,i],n)}function Dp(n,i){var a=Kt();i=i===void 0?null:i;var f=a.memoizedState;if(i!==null&&tc(i,f[1]))return f[0];if(f=n(),xi){Ve(!0);try{n()}finally{Ve(!1)}}return a.memoizedState=[f,i],f}function hc(n,i,a){return a===void 0||(Vr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=km(),tt.lanes|=n,$r|=n,a)}function Mp(n,i,a,f){return En(a,i)?a:no.current!==null?(n=hc(n,a,f),En(n,i)||(Xt=!0),n):(Vr&42)===0?(Xt=!0,n.memoizedState=a):(n=km(),tt.lanes|=n,$r|=n,i)}function Ip(n,i,a,f,g){var w=ae.p;ae.p=w!==0&&8>w?w:8;var L=le.T,V={};le.T=V,gc(n,!1,i,a);try{var oe=g(),ve=le.S;if(ve!==null&&ve(V,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ae=AT(oe,f);Ma(n,i,Ae,Rn(n))}else Ma(n,i,f,Rn(n))}catch(Me){Ma(n,i,{then:function(){},status:"rejected",reason:Me},Rn())}finally{ae.p=w,le.T=L}}function IT(){}function pc(n,i,a,f){if(n.tag!==5)throw Error(o(476));var g=kp(n).queue;Ip(n,g,i,Ce,a===null?IT:function(){return Up(n),a(f)})}function kp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:Ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Up(n){var i=kp(n).next.queue;Ma(n,i,{},Rn())}function mc(){return nn($a)}function Lp(){return Kt().memoizedState}function Bp(){return Kt().memoizedState}function kT(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();n=Gr(a);var f=zr(i,n,a);f!==null&&(Nn(f,i,a),ba(f,i,a)),i={cache:Ku()},n.payload=i;return}i=i.return}}function UT(n,i,a){var f=Rn();a={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$s(n)?Op(i,a):(a=Lu(n,i,a,f),a!==null&&(Nn(a,n,f),Fp(a,i,f)))}function Pp(n,i,a){var f=Rn();Ma(n,i,a,f)}function Ma(n,i,a,f){var g={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($s(n))Op(i,g);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var L=i.lastRenderedState,V=w(L,a);if(g.hasEagerState=!0,g.eagerState=V,En(V,L))return Is(n,i,g,0),Et===null&&Ms(),!1}catch{}finally{}if(a=Lu(n,i,g,f),a!==null)return Nn(a,n,f),Fp(a,i,f),!0}return!1}function gc(n,i,a,f){if(f={lane:2,revertLane:Wc(),action:f,hasEagerState:!1,eagerState:null,next:null},$s(n)){if(i)throw Error(o(479))}else i=Lu(n,a,f,2),i!==null&&Nn(i,n,2)}function $s(n){var i=n.alternate;return n===tt||i!==null&&i===tt}function Op(n,i){ro=qs=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Fp(n,i,a){if((a&4194048)!==0){var f=i.lanes;f&=n.pendingLanes,a|=f,i.lanes=a,Zo(n,a)}}var Xs={readContext:nn,use:Ks,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Gp={readContext:nn,use:Ks,useCallback:function(n,i){return yn().memoizedState=[n,i===void 0?null:i],n},useContext:nn,useEffect:Ep,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Ws(4194308,4,Ap.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ws(4194308,4,n,i)},useInsertionEffect:function(n,i){Ws(4,2,n,i)},useMemo:function(n,i){var a=yn();i=i===void 0?null:i;var f=n();if(xi){Ve(!0);try{n()}finally{Ve(!1)}}return a.memoizedState=[f,i],f},useReducer:function(n,i,a){var f=yn();if(a!==void 0){var g=a(i);if(xi){Ve(!0);try{a(i)}finally{Ve(!1)}}}else g=i;return f.memoizedState=f.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},f.queue=n,n=n.dispatch=UT.bind(null,tt,n),[f.memoizedState,n]},useRef:function(n){var i=yn();return n={current:n},i.memoizedState=n},useState:function(n){n=cc(n);var i=n.queue,a=Pp.bind(null,tt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:dc,useDeferredValue:function(n,i){var a=yn();return hc(a,n,i)},useTransition:function(){var n=cc(!1);return n=Ip.bind(null,tt,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var f=tt,g=yn();if(ft){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),Et===null)throw Error(o(349));(lt&124)!==0||sp(f,i,a)}g.memoizedState=a;var w={value:a,getSnapshot:i};return g.queue=w,Ep(up.bind(null,f,w,n),[n]),f.flags|=2048,oo(9,Ys(),lp.bind(null,f,w,a,i),null),a},useId:function(){var n=yn(),i=Et.identifierPrefix;if(ft){var a=yr,f=gr;a=(f&~(1<<32-Ze(f)-1)).toString(32)+a,i="«"+i+"R"+a,a=Hs++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=RT++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:mc,useFormState:vp,useActionState:vp,useOptimistic:function(n){var i=yn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gc.bind(null,tt,!0,a),a.dispatch=i,[n,i]},useMemoCache:sc,useCacheRefresh:function(){return yn().memoizedState=kT.bind(null,tt)}},zp={readContext:nn,use:Ks,useCallback:Np,useContext:nn,useEffect:_p,useImperativeHandle:Rp,useInsertionEffect:bp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Js,useRef:Sp,useState:function(){return Js(xr)},useDebugValue:dc,useDeferredValue:function(n,i){var a=Kt();return Mp(a,yt.memoizedState,n,i)},useTransition:function(){var n=Js(xr)[0],i=Kt().memoizedState;return[typeof n=="boolean"?n:Na(n),i]},useSyncExternalStore:ap,useId:Lp,useHostTransitionStatus:mc,useFormState:wp,useActionState:wp,useOptimistic:function(n,i){var a=Kt();return dp(a,yt,n,i)},useMemoCache:sc,useCacheRefresh:Bp},LT={readContext:nn,use:Ks,useCallback:Np,useContext:nn,useEffect:_p,useImperativeHandle:Rp,useInsertionEffect:bp,useLayoutEffect:Cp,useMemo:Dp,useReducer:uc,useRef:Sp,useState:function(){return uc(xr)},useDebugValue:dc,useDeferredValue:function(n,i){var a=Kt();return yt===null?hc(a,n,i):Mp(a,yt.memoizedState,n,i)},useTransition:function(){var n=uc(xr)[0],i=Kt().memoizedState;return[typeof n=="boolean"?n:Na(n),i]},useSyncExternalStore:ap,useId:Lp,useHostTransitionStatus:mc,useFormState:Tp,useActionState:Tp,useOptimistic:function(n,i){var a=Kt();return yt!==null?dp(a,yt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:sc,useCacheRefresh:Bp},ao=null,Ia=0;function Zs(n){var i=Ia;return Ia+=1,ao===null&&(ao=[]),jh(ao,n,i)}function ka(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function js(n,i){throw i.$$typeof===x?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Vp(n){var i=n._init;return i(n._payload)}function qp(n){function i(me,fe){if(n){var ye=me.deletions;ye===null?(me.deletions=[fe],me.flags|=16):ye.push(fe)}}function a(me,fe){if(!n)return null;for(;fe!==null;)i(me,fe),fe=fe.sibling;return null}function f(me){for(var fe=new Map;me!==null;)me.key!==null?fe.set(me.key,me):fe.set(me.index,me),me=me.sibling;return fe}function g(me,fe){return me=mr(me,fe),me.index=0,me.sibling=null,me}function w(me,fe,ye){return me.index=ye,n?(ye=me.alternate,ye!==null?(ye=ye.index,ye<fe?(me.flags|=67108866,fe):ye):(me.flags|=67108866,fe)):(me.flags|=1048576,fe)}function L(me){return n&&me.alternate===null&&(me.flags|=67108866),me}function V(me,fe,ye,Ne){return fe===null||fe.tag!==6?(fe=Pu(ye,me.mode,Ne),fe.return=me,fe):(fe=g(fe,ye),fe.return=me,fe)}function oe(me,fe,ye,Ne){var Fe=ye.type;return Fe===D?Ae(me,fe,ye.props.children,Ne,ye.key):fe!==null&&(fe.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===de&&Vp(Fe)===fe.type)?(fe=g(fe,ye.props),ka(fe,ye),fe.return=me,fe):(fe=Us(ye.type,ye.key,ye.props,null,me.mode,Ne),ka(fe,ye),fe.return=me,fe)}function ve(me,fe,ye,Ne){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=Ou(ye,me.mode,Ne),fe.return=me,fe):(fe=g(fe,ye.children||[]),fe.return=me,fe)}function Ae(me,fe,ye,Ne,Fe){return fe===null||fe.tag!==7?(fe=di(ye,me.mode,Ne,Fe),fe.return=me,fe):(fe=g(fe,ye),fe.return=me,fe)}function Me(me,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Pu(""+fe,me.mode,ye),fe.return=me,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case S:return ye=Us(fe.type,fe.key,fe.props,null,me.mode,ye),ka(ye,fe),ye.return=me,ye;case E:return fe=Ou(fe,me.mode,ye),fe.return=me,fe;case de:var Ne=fe._init;return fe=Ne(fe._payload),Me(me,fe,ye)}if(he(fe)||Z(fe))return fe=di(fe,me.mode,ye,null),fe.return=me,fe;if(typeof fe.then=="function")return Me(me,Zs(fe),ye);if(fe.$$typeof===P)return Me(me,Os(me,fe),ye);js(me,fe)}return null}function we(me,fe,ye,Ne){var Fe=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Fe!==null?null:V(me,fe,""+ye,Ne);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:return ye.key===Fe?oe(me,fe,ye,Ne):null;case E:return ye.key===Fe?ve(me,fe,ye,Ne):null;case de:return Fe=ye._init,ye=Fe(ye._payload),we(me,fe,ye,Ne)}if(he(ye)||Z(ye))return Fe!==null?null:Ae(me,fe,ye,Ne,null);if(typeof ye.then=="function")return we(me,fe,Zs(ye),Ne);if(ye.$$typeof===P)return we(me,fe,Os(me,ye),Ne);js(me,ye)}return null}function xe(me,fe,ye,Ne,Fe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return me=me.get(ye)||null,V(fe,me,""+Ne,Fe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case S:return me=me.get(Ne.key===null?ye:Ne.key)||null,oe(fe,me,Ne,Fe);case E:return me=me.get(Ne.key===null?ye:Ne.key)||null,ve(fe,me,Ne,Fe);case de:var rt=Ne._init;return Ne=rt(Ne._payload),xe(me,fe,ye,Ne,Fe)}if(he(Ne)||Z(Ne))return me=me.get(ye)||null,Ae(fe,me,Ne,Fe,null);if(typeof Ne.then=="function")return xe(me,fe,ye,Zs(Ne),Fe);if(Ne.$$typeof===P)return xe(me,fe,ye,Os(fe,Ne),Fe);js(fe,Ne)}return null}function $e(me,fe,ye,Ne){for(var Fe=null,rt=null,Ke=fe,We=fe=0,jt=null;Ke!==null&&We<ye.length;We++){Ke.index>We?(jt=Ke,Ke=null):jt=Ke.sibling;var ct=we(me,Ke,ye[We],Ne);if(ct===null){Ke===null&&(Ke=jt);break}n&&Ke&&ct.alternate===null&&i(me,Ke),fe=w(ct,fe,We),rt===null?Fe=ct:rt.sibling=ct,rt=ct,Ke=jt}if(We===ye.length)return a(me,Ke),ft&&pi(me,We),Fe;if(Ke===null){for(;We<ye.length;We++)Ke=Me(me,ye[We],Ne),Ke!==null&&(fe=w(Ke,fe,We),rt===null?Fe=Ke:rt.sibling=Ke,rt=Ke);return ft&&pi(me,We),Fe}for(Ke=f(Ke);We<ye.length;We++)jt=xe(Ke,me,We,ye[We],Ne),jt!==null&&(n&&jt.alternate!==null&&Ke.delete(jt.key===null?We:jt.key),fe=w(jt,fe,We),rt===null?Fe=jt:rt.sibling=jt,rt=jt);return n&&Ke.forEach(function(ii){return i(me,ii)}),ft&&pi(me,We),Fe}function Ye(me,fe,ye,Ne){if(ye==null)throw Error(o(151));for(var Fe=null,rt=null,Ke=fe,We=fe=0,jt=null,ct=ye.next();Ke!==null&&!ct.done;We++,ct=ye.next()){Ke.index>We?(jt=Ke,Ke=null):jt=Ke.sibling;var ii=we(me,Ke,ct.value,Ne);if(ii===null){Ke===null&&(Ke=jt);break}n&&Ke&&ii.alternate===null&&i(me,Ke),fe=w(ii,fe,We),rt===null?Fe=ii:rt.sibling=ii,rt=ii,Ke=jt}if(ct.done)return a(me,Ke),ft&&pi(me,We),Fe;if(Ke===null){for(;!ct.done;We++,ct=ye.next())ct=Me(me,ct.value,Ne),ct!==null&&(fe=w(ct,fe,We),rt===null?Fe=ct:rt.sibling=ct,rt=ct);return ft&&pi(me,We),Fe}for(Ke=f(Ke);!ct.done;We++,ct=ye.next())ct=xe(Ke,me,We,ct.value,Ne),ct!==null&&(n&&ct.alternate!==null&&Ke.delete(ct.key===null?We:ct.key),fe=w(ct,fe,We),rt===null?Fe=ct:rt.sibling=ct,rt=ct);return n&&Ke.forEach(function(B1){return i(me,B1)}),ft&&pi(me,We),Fe}function wt(me,fe,ye,Ne){if(typeof ye=="object"&&ye!==null&&ye.type===D&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:e:{for(var Fe=ye.key;fe!==null;){if(fe.key===Fe){if(Fe=ye.type,Fe===D){if(fe.tag===7){a(me,fe.sibling),Ne=g(fe,ye.props.children),Ne.return=me,me=Ne;break e}}else if(fe.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===de&&Vp(Fe)===fe.type){a(me,fe.sibling),Ne=g(fe,ye.props),ka(Ne,ye),Ne.return=me,me=Ne;break e}a(me,fe);break}else i(me,fe);fe=fe.sibling}ye.type===D?(Ne=di(ye.props.children,me.mode,Ne,ye.key),Ne.return=me,me=Ne):(Ne=Us(ye.type,ye.key,ye.props,null,me.mode,Ne),ka(Ne,ye),Ne.return=me,me=Ne)}return L(me);case E:e:{for(Fe=ye.key;fe!==null;){if(fe.key===Fe)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){a(me,fe.sibling),Ne=g(fe,ye.children||[]),Ne.return=me,me=Ne;break e}else{a(me,fe);break}else i(me,fe);fe=fe.sibling}Ne=Ou(ye,me.mode,Ne),Ne.return=me,me=Ne}return L(me);case de:return Fe=ye._init,ye=Fe(ye._payload),wt(me,fe,ye,Ne)}if(he(ye))return $e(me,fe,ye,Ne);if(Z(ye)){if(Fe=Z(ye),typeof Fe!="function")throw Error(o(150));return ye=Fe.call(ye),Ye(me,fe,ye,Ne)}if(typeof ye.then=="function")return wt(me,fe,Zs(ye),Ne);if(ye.$$typeof===P)return wt(me,fe,Os(me,ye),Ne);js(me,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,fe!==null&&fe.tag===6?(a(me,fe.sibling),Ne=g(fe,ye),Ne.return=me,me=Ne):(a(me,fe),Ne=Pu(ye,me.mode,Ne),Ne.return=me,me=Ne),L(me)):a(me,fe)}return function(me,fe,ye,Ne){try{Ia=0;var Fe=wt(me,fe,ye,Ne);return ao=null,Fe}catch(Ke){if(Ke===Ea||Ke===Gs)throw Ke;var rt=_n(29,Ke,null,me.mode);return rt.lanes=Ne,rt.return=me,rt}finally{}}}var so=qp(!0),Hp=qp(!1),Un=J(null),er=null;function qr(n){var i=n.alternate;Y($t,$t.current&1),Y(Un,n),er===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(er=n)}function Kp(n){if(n.tag===22){if(Y($t,$t.current),Y(Un,n),er===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(er=n)}}else Hr()}function Hr(){Y($t,$t.current),Y(Un,Un.current)}function Tr(n){O(Un),er===n&&(er=null),O($t)}var $t=J(0);function Qs(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function yc(n,i,a,f){i=n.memoizedState,a=a(f,i),a=a==null?i:y({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vc={enqueueSetState:function(n,i,a){n=n._reactInternals;var f=Rn(),g=Gr(f);g.payload=i,a!=null&&(g.callback=a),i=zr(n,g,f),i!==null&&(Nn(i,n,f),ba(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var f=Rn(),g=Gr(f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=zr(n,g,f),i!==null&&(Nn(i,n,f),ba(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Rn(),f=Gr(a);f.tag=2,i!=null&&(f.callback=i),i=zr(n,f,a),i!==null&&(Nn(i,n,a),ba(i,n,a))}};function Jp(n,i,a,f,g,w,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,w,L):i.prototype&&i.prototype.isPureReactComponent?!ma(a,f)||!ma(g,w):!0}function Yp(n,i,a,f){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,f),i.state!==n&&vc.enqueueReplaceState(i,i.state,null)}function Ti(n,i){var a=i;if("ref"in i){a={};for(var f in i)f!=="ref"&&(a[f]=i[f])}if(n=n.defaultProps){a===i&&(a=y({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}var el=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Wp(n){el(n)}function $p(n){console.error(n)}function Xp(n){el(n)}function tl(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function Zp(n,i,a){try{var f=n.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function wc(n,i,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){tl(n,i)},a}function jp(n){return n=Gr(n),n.tag=3,n}function Qp(n,i,a,f){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var w=f.value;n.payload=function(){return g(w)},n.callback=function(){Zp(i,a,f)}}var L=a.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){Zp(i,a,f),typeof g!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var V=f.stack;this.componentDidCatch(f.value,{componentStack:V!==null?V:""})})}function BT(n,i,a,f,g){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,g,!0),a=Un.current,a!==null){switch(a.tag){case 13:return er===null?qc():a.alternate===null&&Lt===0&&(Lt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,f===Wu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([f]):i.add(f),Kc(n,f,g)),!1;case 22:return a.flags|=65536,f===Wu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([f]):a.add(f)),Kc(n,f,g)),!1}throw Error(o(435,a.tag))}return Kc(n,f,g),qc(),!1}if(ft)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==zu&&(n=Error(o(422),{cause:f}),wa(Dn(n,a)))):(f!==zu&&(i=Error(o(423),{cause:f}),wa(Dn(i,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,f=Dn(f,a),g=wc(n.stateNode,f,g),Zu(n,g),Lt!==4&&(Lt=2)),!1;var w=Error(o(520),{cause:f});if(w=Dn(w,a),Ga===null?Ga=[w]:Ga.push(w),Lt!==4&&(Lt=2),i===null)return!0;f=Dn(f,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=wc(a.stateNode,f,n),Zu(a,n),!1;case 1:if(i=a.type,w=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xr===null||!Xr.has(w))))return a.flags|=65536,g&=-g,a.lanes|=g,g=jp(g),Qp(g,n,a,f),Zu(a,g),!1}a=a.return}while(a!==null);return!1}var em=Error(o(461)),Xt=!1;function Qt(n,i,a,f){i.child=n===null?Hp(i,null,a,f):so(i,n.child,a,f)}function tm(n,i,a,f,g){a=a.render;var w=i.ref;if("ref"in f){var L={};for(var V in f)V!=="ref"&&(L[V]=f[V])}else L=f;return vi(i),f=nc(n,i,a,L,w,g),V=rc(),n!==null&&!Xt?(ic(n,i,g),Sr(n,i,g)):(ft&&V&&Fu(i),i.flags|=1,Qt(n,i,f,g),i.child)}function nm(n,i,a,f,g){if(n===null){var w=a.type;return typeof w=="function"&&!Bu(w)&&w.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=w,rm(n,i,w,f,g)):(n=Us(a.type,null,f,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(w=n.child,!Ac(n,g)){var L=w.memoizedProps;if(a=a.compare,a=a!==null?a:ma,a(L,f)&&n.ref===i.ref)return Sr(n,i,g)}return i.flags|=1,n=mr(w,f),n.ref=i.ref,n.return=i,i.child=n}function rm(n,i,a,f,g){if(n!==null){var w=n.memoizedProps;if(ma(w,f)&&n.ref===i.ref)if(Xt=!1,i.pendingProps=f=w,Ac(n,g))(n.flags&131072)!==0&&(Xt=!0);else return i.lanes=n.lanes,Sr(n,i,g)}return xc(n,i,a,f,g)}function im(n,i,a){var f=i.pendingProps,g=f.children,w=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=w!==null?w.baseLanes|a:a,n!==null){for(g=i.child=n.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;i.childLanes=w&~f}else i.childLanes=0,i.child=null;return om(n,i,f,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fs(i,w!==null?w.cachePool:null),w!==null?rp(i,w):Qu(),Kp(i);else return i.lanes=i.childLanes=536870912,om(n,i,w!==null?w.baseLanes|a:a,a)}else w!==null?(Fs(i,w.cachePool),rp(i,w),Hr(),i.memoizedState=null):(n!==null&&Fs(i,null),Qu(),Hr());return Qt(n,i,g,a),i.child}function om(n,i,a,f){var g=Yu();return g=g===null?null:{parent:Wt._currentValue,pool:g},i.memoizedState={baseLanes:a,cachePool:g},n!==null&&Fs(i,null),Qu(),Kp(i),n!==null&&xa(n,i,f,!0),null}function nl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function xc(n,i,a,f,g){return vi(i),a=nc(n,i,a,f,void 0,g),f=rc(),n!==null&&!Xt?(ic(n,i,g),Sr(n,i,g)):(ft&&f&&Fu(i),i.flags|=1,Qt(n,i,a,g),i.child)}function am(n,i,a,f,g,w){return vi(i),i.updateQueue=null,a=op(i,f,a,g),ip(n),f=rc(),n!==null&&!Xt?(ic(n,i,w),Sr(n,i,w)):(ft&&f&&Fu(i),i.flags|=1,Qt(n,i,a,w),i.child)}function sm(n,i,a,f,g){if(vi(i),i.stateNode===null){var w=Zi,L=a.contextType;typeof L=="object"&&L!==null&&(w=nn(L)),w=new a(f,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=vc,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=f,w.state=i.memoizedState,w.refs={},$u(i),L=a.contextType,w.context=typeof L=="object"&&L!==null?nn(L):Zi,w.state=i.memoizedState,L=a.getDerivedStateFromProps,typeof L=="function"&&(yc(i,a,L,f),w.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(L=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),L!==w.state&&vc.enqueueReplaceState(w,w.state,null),Aa(i,f,w,g),Ca(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(n===null){w=i.stateNode;var V=i.memoizedProps,oe=Ti(a,V);w.props=oe;var ve=w.context,Ae=a.contextType;L=Zi,typeof Ae=="object"&&Ae!==null&&(L=nn(Ae));var Me=a.getDerivedStateFromProps;Ae=typeof Me=="function"||typeof w.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,Ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V||ve!==L)&&Yp(i,w,f,L),Fr=!1;var we=i.memoizedState;w.state=we,Aa(i,f,w,g),Ca(),ve=i.memoizedState,V||we!==ve||Fr?(typeof Me=="function"&&(yc(i,a,Me,f),ve=i.memoizedState),(oe=Fr||Jp(i,a,oe,f,we,ve,L))?(Ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=ve),w.props=f,w.state=ve,w.context=L,f=oe):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{w=i.stateNode,Xu(n,i),L=i.memoizedProps,Ae=Ti(a,L),w.props=Ae,Me=i.pendingProps,we=w.context,ve=a.contextType,oe=Zi,typeof ve=="object"&&ve!==null&&(oe=nn(ve)),V=a.getDerivedStateFromProps,(ve=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==Me||we!==oe)&&Yp(i,w,f,oe),Fr=!1,we=i.memoizedState,w.state=we,Aa(i,f,w,g),Ca();var xe=i.memoizedState;L!==Me||we!==xe||Fr||n!==null&&n.dependencies!==null&&Ps(n.dependencies)?(typeof V=="function"&&(yc(i,a,V,f),xe=i.memoizedState),(Ae=Fr||Jp(i,a,Ae,f,we,xe,oe)||n!==null&&n.dependencies!==null&&Ps(n.dependencies))?(ve||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,xe,oe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,xe,oe)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=xe),w.props=f,w.state=xe,w.context=oe,f=Ae):(typeof w.componentDidUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=1024),f=!1)}return w=f,nl(n,i),f=(i.flags&128)!==0,w||f?(w=i.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,n!==null&&f?(i.child=so(i,n.child,null,g),i.child=so(i,null,a,g)):Qt(n,i,a,g),i.memoizedState=w.state,n=i.child):n=Sr(n,i,g),n}function lm(n,i,a,f){return va(),i.flags|=256,Qt(n,i,a,f),i.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sc(n){return{baseLanes:n,cachePool:$h()}}function Ec(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Ln),n}function um(n,i,a){var f=i.pendingProps,g=!1,w=(i.flags&128)!==0,L;if((L=w)||(L=n!==null&&n.memoizedState===null?!1:($t.current&2)!==0),L&&(g=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(ft){if(g?qr(i):Hr(),ft){var V=Ut,oe;if(oe=V){e:{for(oe=V,V=Qn;oe.nodeType!==8;){if(!V){V=null;break e}if(oe=Yn(oe.nextSibling),oe===null){V=null;break e}}V=oe}V!==null?(i.memoizedState={dehydrated:V,treeContext:hi!==null?{id:gr,overflow:yr}:null,retryLane:536870912,hydrationErrors:null},oe=_n(18,null,null,0),oe.stateNode=V,oe.return=i,i.child=oe,dn=i,Ut=null,oe=!0):oe=!1}oe||gi(i)}if(V=i.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return sf(V)?i.lanes=32:i.lanes=536870912,null;Tr(i)}return V=f.children,f=f.fallback,g?(Hr(),g=i.mode,V=rl({mode:"hidden",children:V},g),f=di(f,g,a,null),V.return=i,f.return=i,V.sibling=f,i.child=V,g=i.child,g.memoizedState=Sc(a),g.childLanes=Ec(n,L,a),i.memoizedState=Tc,f):(qr(i),_c(i,V))}if(oe=n.memoizedState,oe!==null&&(V=oe.dehydrated,V!==null)){if(w)i.flags&256?(qr(i),i.flags&=-257,i=bc(n,i,a)):i.memoizedState!==null?(Hr(),i.child=n.child,i.flags|=128,i=null):(Hr(),g=f.fallback,V=i.mode,f=rl({mode:"visible",children:f.children},V),g=di(g,V,a,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,so(i,n.child,null,a),f=i.child,f.memoizedState=Sc(a),f.childLanes=Ec(n,L,a),i.memoizedState=Tc,i=g);else if(qr(i),sf(V)){if(L=V.nextSibling&&V.nextSibling.dataset,L)var ve=L.dgst;L=ve,f=Error(o(419)),f.stack="",f.digest=L,wa({value:f,source:null,stack:null}),i=bc(n,i,a)}else if(Xt||xa(n,i,a,!1),L=(a&n.childLanes)!==0,Xt||L){if(L=Et,L!==null&&(f=a&-a,f=(f&42)!==0?1:Bi(f),f=(f&(L.suspendedLanes|a))!==0?0:f,f!==0&&f!==oe.retryLane))throw oe.retryLane=f,Xi(n,f),Nn(L,n,f),em;V.data==="$?"||qc(),i=bc(n,i,a)}else V.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=oe.treeContext,Ut=Yn(V.nextSibling),dn=i,ft=!0,mi=null,Qn=!1,n!==null&&(In[kn++]=gr,In[kn++]=yr,In[kn++]=hi,gr=n.id,yr=n.overflow,hi=i),i=_c(i,f.children),i.flags|=4096);return i}return g?(Hr(),g=f.fallback,V=i.mode,oe=n.child,ve=oe.sibling,f=mr(oe,{mode:"hidden",children:f.children}),f.subtreeFlags=oe.subtreeFlags&65011712,ve!==null?g=mr(ve,g):(g=di(g,V,a,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,V=n.child.memoizedState,V===null?V=Sc(a):(oe=V.cachePool,oe!==null?(ve=Wt._currentValue,oe=oe.parent!==ve?{parent:ve,pool:ve}:oe):oe=$h(),V={baseLanes:V.baseLanes|a,cachePool:oe}),g.memoizedState=V,g.childLanes=Ec(n,L,a),i.memoizedState=Tc,f):(qr(i),a=n.child,n=a.sibling,a=mr(a,{mode:"visible",children:f.children}),a.return=i,a.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=a,i.memoizedState=null,a)}function _c(n,i){return i=rl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function rl(n,i){return n=_n(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function bc(n,i,a){return so(i,n.child,null,a),n=_c(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function cm(n,i,a){n.lanes|=i;var f=n.alternate;f!==null&&(f.lanes|=i),qu(n.return,i,a)}function Cc(n,i,a,f,g){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=a,w.tailMode=g)}function fm(n,i,a){var f=i.pendingProps,g=f.revealOrder,w=f.tail;if(Qt(n,i,f.children,a),f=$t.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cm(n,a,i);else if(n.tag===19)cm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(Y($t,f),g){case"forwards":for(a=i.child,g=null;a!==null;)n=a.alternate,n!==null&&Qs(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),Cc(i,!1,g,a,w);break;case"backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Qs(n)===null){i.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}Cc(i,!0,a,null,w);break;case"together":Cc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),$r|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(xa(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,a=mr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=mr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Ac(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ps(n)))}function PT(n,i,a){switch(i.tag){case 3:N(i,i.stateNode.containerInfo),Or(i,Wt,n.memoizedState.cache),va();break;case 27:case 5:W(i);break;case 4:N(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?um(n,i,a):(qr(i),n=Sr(n,i,a),n!==null?n.sibling:null);qr(i);break;case 19:var g=(n.flags&128)!==0;if(f=(a&i.childLanes)!==0,f||(xa(n,i,a,!1),f=(a&i.childLanes)!==0),g){if(f)return fm(n,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Y($t,$t.current),f)break;return null;case 22:case 23:return i.lanes=0,im(n,i,a);case 24:Or(i,Wt,n.memoizedState.cache)}return Sr(n,i,a)}function dm(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Xt=!0;else{if(!Ac(n,a)&&(i.flags&128)===0)return Xt=!1,PT(n,i,a);Xt=(n.flags&131072)!==0}else Xt=!1,ft&&(i.flags&1048576)!==0&&Vh(i,Bs,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")Bu(f)?(n=Ti(f,n),i.tag=1,i=sm(null,i,f,n,a)):(i.tag=0,i=xc(null,i,f,n,a));else{if(f!=null){if(g=f.$$typeof,g===H){i.tag=11,i=tm(null,i,f,n,a);break e}else if(g===se){i.tag=14,i=nm(null,i,f,n,a);break e}}throw i=B(f)||f,Error(o(306,i,""))}}return i;case 0:return xc(n,i,i.type,i.pendingProps,a);case 1:return f=i.type,g=Ti(f,i.pendingProps),sm(n,i,f,g,a);case 3:e:{if(N(i,i.stateNode.containerInfo),n===null)throw Error(o(387));f=i.pendingProps;var w=i.memoizedState;g=w.element,Xu(n,i),Aa(i,f,null,a);var L=i.memoizedState;if(f=L.cache,Or(i,Wt,f),f!==w.cache&&Hu(i,[Wt],a,!0),Ca(),f=L.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=lm(n,i,f,a);break e}else if(f!==g){g=Dn(Error(o(424)),i),wa(g),i=lm(n,i,f,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ut=Yn(n.firstChild),dn=i,ft=!0,mi=null,Qn=!0,a=Hp(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(va(),f===g){i=Sr(n,i,a);break e}Qt(n,i,f,a)}i=i.child}return i;case 26:return nl(n,i),n===null?(a=gg(i.type,null,i.pendingProps,null))?i.memoizedState=a:ft||(a=i.type,n=i.pendingProps,f=yl($.current).createElement(a),f[qt]=i,f[Pt]=n,tn(f,a,n),Rt(f),i.stateNode=f):i.memoizedState=gg(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return W(i),n===null&&ft&&(f=i.stateNode=hg(i.type,i.pendingProps,$.current),dn=i,Qn=!0,g=Ut,Qr(i.type)?(lf=g,Ut=Yn(f.firstChild)):Ut=g),Qt(n,i,i.pendingProps.children,a),nl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ft&&((g=f=Ut)&&(f=f1(f,i.type,i.pendingProps,Qn),f!==null?(i.stateNode=f,dn=i,Ut=Yn(f.firstChild),Qn=!1,g=!0):g=!1),g||gi(i)),W(i),g=i.type,w=i.pendingProps,L=n!==null?n.memoizedProps:null,f=w.children,rf(g,w)?f=null:L!==null&&rf(g,L)&&(i.flags|=32),i.memoizedState!==null&&(g=nc(n,i,NT,null,null,a),$a._currentValue=g),nl(n,i),Qt(n,i,f,a),i.child;case 6:return n===null&&ft&&((n=a=Ut)&&(a=d1(a,i.pendingProps,Qn),a!==null?(i.stateNode=a,dn=i,Ut=null,n=!0):n=!1),n||gi(i)),null;case 13:return um(n,i,a);case 4:return N(i,i.stateNode.containerInfo),f=i.pendingProps,n===null?i.child=so(i,null,f,a):Qt(n,i,f,a),i.child;case 11:return tm(n,i,i.type,i.pendingProps,a);case 7:return Qt(n,i,i.pendingProps,a),i.child;case 8:return Qt(n,i,i.pendingProps.children,a),i.child;case 12:return Qt(n,i,i.pendingProps.children,a),i.child;case 10:return f=i.pendingProps,Or(i,i.type,f.value),Qt(n,i,f.children,a),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,vi(i),g=nn(g),f=f(g),i.flags|=1,Qt(n,i,f,a),i.child;case 14:return nm(n,i,i.type,i.pendingProps,a);case 15:return rm(n,i,i.type,i.pendingProps,a);case 19:return fm(n,i,a);case 31:return f=i.pendingProps,a=i.mode,f={mode:f.mode,children:f.children},n===null?(a=rl(f,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=mr(n.child,f),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return im(n,i,a);case 24:return vi(i),f=nn(Wt),n===null?(g=Yu(),g===null&&(g=Et,w=Ku(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=a),g=w),i.memoizedState={parent:f,cache:g},$u(i),Or(i,Wt,g)):((n.lanes&a)!==0&&(Xu(n,i),Aa(i,null,null,a),Ca()),g=n.memoizedState,w=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Or(i,Wt,f)):(f=w.cache,Or(i,Wt,f),f!==g.cache&&Hu(i,[Wt],a,!0))),Qt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Er(n){n.flags|=4}function hm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Tg(i)){if(i=Un.current,i!==null&&((lt&4194048)===lt?er!==null:(lt&62914560)!==lt&&(lt&536870912)===0||i!==er))throw _a=Wu,Xh;n.flags|=8192}}function il(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ir():536870912,n.lanes|=i,fo|=i)}function Ua(n,i){if(!ft)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function kt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,f=0;if(i)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=a,i}function OT(n,i,a){var f=i.pendingProps;switch(Gu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return kt(i),null;case 3:return a=i.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),wr(Wt),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ya(i)?Er(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kh())),kt(i),null;case 26:return a=i.memoizedState,n===null?(Er(i),a!==null?(kt(i),hm(i,a)):(kt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Er(i),kt(i),hm(i,a)):(kt(i),i.flags&=-16777217):(n.memoizedProps!==f&&Er(i),kt(i),i.flags&=-16777217),null;case 27:z(i),a=$.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==f&&Er(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return kt(i),null}n=Q.current,ya(i)?qh(i):(n=hg(g,f,a),i.stateNode=n,Er(i))}return kt(i),null;case 5:if(z(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==f&&Er(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return kt(i),null}if(n=Q.current,ya(i))qh(i);else{switch(g=yl($.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?g.createElement(a,{is:f.is}):g.createElement(a)}}n[qt]=i,n[Pt]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(tn(n,a,f),a){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Er(i)}}return kt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==f&&Er(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(o(166));if(n=$.current,ya(i)){if(n=i.stateNode,a=i.memoizedProps,f=null,g=dn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}n[qt]=i,n=!!(n.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||ag(n.nodeValue,a)),n||gi(i)}else n=yl(n).createTextNode(f),n[qt]=i,i.stateNode=n}return kt(i),null;case 13:if(f=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=ya(i),f!==null&&f.dehydrated!==null){if(n===null){if(!g)throw Error(o(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[qt]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),g=!1}else g=Kh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Tr(i),i):(Tr(i),null)}if(Tr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=f!==null,n=n!==null&&n.memoizedState!==null,a){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),il(i,i.updateQueue),kt(i),null;case 4:return te(),n===null&&jc(i.stateNode.containerInfo),kt(i),null;case 10:return wr(i.type),kt(i),null;case 19:if(O($t),g=i.memoizedState,g===null)return kt(i),null;if(f=(i.flags&128)!==0,w=g.rendering,w===null)if(f)Ua(g,!1);else{if(Lt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(w=Qs(n),w!==null){for(i.flags|=128,Ua(g,!1),n=w.updateQueue,i.updateQueue=n,il(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)zh(a,n),a=a.sibling;return Y($t,$t.current&1|2),i.child}n=n.sibling}g.tail!==null&&v()>sl&&(i.flags|=128,f=!0,Ua(g,!1),i.lanes=4194304)}else{if(!f)if(n=Qs(w),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,il(i,n),Ua(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ft)return kt(i),null}else 2*v()-g.renderingStartTime>sl&&a!==536870912&&(i.flags|=128,f=!0,Ua(g,!1),i.lanes=4194304);g.isBackwards?(w.sibling=i.child,i.child=w):(n=g.last,n!==null?n.sibling=w:i.child=w,g.last=w)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=v(),i.sibling=null,n=$t.current,Y($t,f?n&1|2:n&1),i):(kt(i),null);case 22:case 23:return Tr(i),ec(),f=i.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(a&536870912)!==0&&(i.flags&128)===0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),a=i.updateQueue,a!==null&&il(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==a&&(i.flags|=2048),n!==null&&O(wi),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),wr(Wt),kt(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function FT(n,i){switch(Gu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return wr(Wt),te(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return z(i),null;case 13:if(Tr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));va()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return O($t),null;case 4:return te(),null;case 10:return wr(i.type),null;case 22:case 23:return Tr(i),ec(),n!==null&&O(wi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return wr(Wt),null;case 25:return null;default:return null}}function pm(n,i){switch(Gu(i),i.tag){case 3:wr(Wt),te();break;case 26:case 27:case 5:z(i);break;case 4:te();break;case 13:Tr(i);break;case 19:O($t);break;case 10:wr(i.type);break;case 22:case 23:Tr(i),ec(),n!==null&&O(wi);break;case 24:wr(Wt)}}function La(n,i){try{var a=i.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var g=f.next;a=g;do{if((a.tag&n)===n){f=void 0;var w=a.create,L=a.inst;f=w(),L.destroy=f}a=a.next}while(a!==g)}}catch(V){Tt(i,i.return,V)}}function Kr(n,i,a){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var w=g.next;f=w;do{if((f.tag&n)===n){var L=f.inst,V=L.destroy;if(V!==void 0){L.destroy=void 0,g=i;var oe=a,ve=V;try{ve()}catch(Ae){Tt(g,oe,Ae)}}}f=f.next}while(f!==w)}}catch(Ae){Tt(i,i.return,Ae)}}function mm(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{np(i,a)}catch(f){Tt(n,n.return,f)}}}function gm(n,i,a){a.props=Ti(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(f){Tt(n,i,f)}}function Ba(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(g){Tt(n,i,g)}}function tr(n,i){var a=n.ref,f=n.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(g){Tt(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Tt(n,i,g)}else a.current=null}function ym(n){var i=n.type,a=n.memoizedProps,f=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break e;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(g){Tt(n,n.return,g)}}function Rc(n,i,a){try{var f=n.stateNode;a1(f,n.type,a,i),f[Pt]=i}catch(g){Tt(n,n.return,g)}}function vm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qr(n.type)||n.tag===4}function Nc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dc(n,i,a){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=gl));else if(f!==4&&(f===27&&Qr(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Dc(n,i,a),n=n.sibling;n!==null;)Dc(n,i,a),n=n.sibling}function ol(n,i,a){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(f!==4&&(f===27&&Qr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ol(n,i,a),n=n.sibling;n!==null;)ol(n,i,a),n=n.sibling}function wm(n){var i=n.stateNode,a=n.memoizedProps;try{for(var f=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);tn(i,f,a),i[qt]=n,i[Pt]=a}catch(w){Tt(n,n.return,w)}}var _r=!1,Ft=!1,Mc=!1,xm=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function GT(n,i){if(n=n.containerInfo,tf=El,n=Mh(n),Nu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{a.nodeType,w.nodeType}catch{a=null;break e}var L=0,V=-1,oe=-1,ve=0,Ae=0,Me=n,we=null;t:for(;;){for(var xe;Me!==a||g!==0&&Me.nodeType!==3||(V=L+g),Me!==w||f!==0&&Me.nodeType!==3||(oe=L+f),Me.nodeType===3&&(L+=Me.nodeValue.length),(xe=Me.firstChild)!==null;)we=Me,Me=xe;for(;;){if(Me===n)break t;if(we===a&&++ve===g&&(V=L),we===w&&++Ae===f&&(oe=L),(xe=Me.nextSibling)!==null)break;Me=we,we=Me.parentNode}Me=xe}a=V===-1||oe===-1?null:{start:V,end:oe}}else a=null}a=a||{start:0,end:0}}else a=null;for(nf={focusedElem:n,selectionRange:a},El=!1,Zt=i;Zt!==null;)if(i=Zt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Zt=n;else for(;Zt!==null;){switch(i=Zt,w=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&w!==null){n=void 0,a=i,g=w.memoizedProps,w=w.memoizedState,f=a.stateNode;try{var $e=Ti(a.type,g,a.elementType===a.type);n=f.getSnapshotBeforeUpdate($e,w),f.__reactInternalSnapshotBeforeUpdate=n}catch(Ye){Tt(a,a.return,Ye)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)af(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":af(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,Zt=n;break}Zt=i.return}}function Tm(n,i,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Jr(n,a),f&4&&La(5,a);break;case 1:if(Jr(n,a),f&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(L){Tt(a,a.return,L)}else{var g=Ti(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Tt(a,a.return,L)}}f&64&&mm(a),f&512&&Ba(a,a.return);break;case 3:if(Jr(n,a),f&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{np(n,i)}catch(L){Tt(a,a.return,L)}}break;case 27:i===null&&f&4&&wm(a);case 26:case 5:Jr(n,a),i===null&&f&4&&ym(a),f&512&&Ba(a,a.return);break;case 12:Jr(n,a);break;case 13:Jr(n,a),f&4&&_m(n,a),f&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=$T.bind(null,a),h1(n,a))));break;case 22:if(f=a.memoizedState!==null||_r,!f){i=i!==null&&i.memoizedState!==null||Ft,g=_r;var w=Ft;_r=f,(Ft=i)&&!w?Yr(n,a,(a.subtreeFlags&8772)!==0):Jr(n,a),_r=g,Ft=w}break;case 30:break;default:Jr(n,a)}}function Sm(n){var i=n.alternate;i!==null&&(n.alternate=null,Sm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Oi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,vn=!1;function br(n,i,a){for(a=a.child;a!==null;)Em(n,i,a),a=a.sibling}function Em(n,i,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Le,a)}catch{}switch(a.tag){case 26:Ft||tr(a,i),br(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||tr(a,i);var f=Nt,g=vn;Qr(a.type)&&(Nt=a.stateNode,vn=!1),br(n,i,a),Ka(a.stateNode),Nt=f,vn=g;break;case 5:Ft||tr(a,i);case 6:if(f=Nt,g=vn,Nt=null,br(n,i,a),Nt=f,vn=g,Nt!==null)if(vn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(a.stateNode)}catch(w){Tt(a,i,w)}else try{Nt.removeChild(a.stateNode)}catch(w){Tt(a,i,w)}break;case 18:Nt!==null&&(vn?(n=Nt,fg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Qa(n)):fg(Nt,a.stateNode));break;case 4:f=Nt,g=vn,Nt=a.stateNode.containerInfo,vn=!0,br(n,i,a),Nt=f,vn=g;break;case 0:case 11:case 14:case 15:Ft||Kr(2,a,i),Ft||Kr(4,a,i),br(n,i,a);break;case 1:Ft||(tr(a,i),f=a.stateNode,typeof f.componentWillUnmount=="function"&&gm(a,i,f)),br(n,i,a);break;case 21:br(n,i,a);break;case 22:Ft=(f=Ft)||a.memoizedState!==null,br(n,i,a),Ft=f;break;default:br(n,i,a)}}function _m(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Qa(n)}catch(a){Tt(i,i.return,a)}}function zT(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new xm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new xm),i;default:throw Error(o(435,n.tag))}}function Ic(n,i){var a=zT(n);i.forEach(function(f){var g=XT.bind(null,n,f);a.has(f)||(a.add(f),f.then(g,g))})}function bn(n,i){var a=i.deletions;if(a!==null)for(var f=0;f<a.length;f++){var g=a[f],w=n,L=i,V=L;e:for(;V!==null;){switch(V.tag){case 27:if(Qr(V.type)){Nt=V.stateNode,vn=!1;break e}break;case 5:Nt=V.stateNode,vn=!1;break e;case 3:case 4:Nt=V.stateNode.containerInfo,vn=!0;break e}V=V.return}if(Nt===null)throw Error(o(160));Em(w,L,g),Nt=null,vn=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)bm(i,n),i=i.sibling}var Jn=null;function bm(n,i){var a=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:bn(i,n),Cn(n),f&4&&(Kr(3,n,n.return),La(3,n),Kr(5,n,n.return));break;case 1:bn(i,n),Cn(n),f&512&&(Ft||a===null||tr(a,a.return)),f&64&&_r&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var g=Jn;if(bn(i,n),Cn(n),f&512&&(Ft||a===null||tr(a,a.return)),f&4){var w=a!==null?a.memoizedState:null;if(f=n.memoizedState,a===null)if(f===null)if(n.stateNode===null){e:{f=n.type,a=n.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":w=g.getElementsByTagName("title")[0],(!w||w[Zn]||w[qt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(f),g.head.insertBefore(w,g.querySelector("head > title"))),tn(w,f,a),w[qt]=n,Rt(w),f=w;break e;case"link":var L=wg("link","href",g).get(f+(a.href||""));if(L){for(var V=0;V<L.length;V++)if(w=L[V],w.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&w.getAttribute("rel")===(a.rel==null?null:a.rel)&&w.getAttribute("title")===(a.title==null?null:a.title)&&w.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){L.splice(V,1);break t}}w=g.createElement(f),tn(w,f,a),g.head.appendChild(w);break;case"meta":if(L=wg("meta","content",g).get(f+(a.content||""))){for(V=0;V<L.length;V++)if(w=L[V],w.getAttribute("content")===(a.content==null?null:""+a.content)&&w.getAttribute("name")===(a.name==null?null:a.name)&&w.getAttribute("property")===(a.property==null?null:a.property)&&w.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&w.getAttribute("charset")===(a.charSet==null?null:a.charSet)){L.splice(V,1);break t}}w=g.createElement(f),tn(w,f,a),g.head.appendChild(w);break;default:throw Error(o(468,f))}w[qt]=n,Rt(w),f=w}n.stateNode=f}else xg(g,n.type,n.stateNode);else n.stateNode=vg(g,f,n.memoizedProps);else w!==f?(w===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):w.count--,f===null?xg(g,n.type,n.stateNode):vg(g,f,n.memoizedProps)):f===null&&n.stateNode!==null&&Rc(n,n.memoizedProps,a.memoizedProps)}break;case 27:bn(i,n),Cn(n),f&512&&(Ft||a===null||tr(a,a.return)),a!==null&&f&4&&Rc(n,n.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,n),Cn(n),f&512&&(Ft||a===null||tr(a,a.return)),n.flags&32){g=n.stateNode;try{Ue(g,"")}catch(xe){Tt(n,n.return,xe)}}f&4&&n.stateNode!=null&&(g=n.memoizedProps,Rc(n,g,a!==null?a.memoizedProps:g)),f&1024&&(Mc=!0);break;case 6:if(bn(i,n),Cn(n),f&4){if(n.stateNode===null)throw Error(o(162));f=n.memoizedProps,a=n.stateNode;try{a.nodeValue=f}catch(xe){Tt(n,n.return,xe)}}break;case 3:if(xl=null,g=Jn,Jn=vl(i.containerInfo),bn(i,n),Jn=g,Cn(n),f&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(xe){Tt(n,n.return,xe)}Mc&&(Mc=!1,Cm(n));break;case 4:f=Jn,Jn=vl(n.stateNode.containerInfo),bn(i,n),Cn(n),Jn=f;break;case 12:bn(i,n),Cn(n);break;case 13:bn(i,n),Cn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=v()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Ic(n,f)));break;case 22:g=n.memoizedState!==null;var oe=a!==null&&a.memoizedState!==null,ve=_r,Ae=Ft;if(_r=ve||g,Ft=Ae||oe,bn(i,n),Ft=Ae,_r=ve,Cn(n),f&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(a===null||oe||_r||Ft||Si(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){oe=a=i;try{if(w=oe.stateNode,g)L=w.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{V=oe.stateNode;var Me=oe.memoizedProps.style,we=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;V.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(xe){Tt(oe,oe.return,xe)}}}else if(i.tag===6){if(a===null){oe=i;try{oe.stateNode.nodeValue=g?"":oe.memoizedProps}catch(xe){Tt(oe,oe.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=n.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,Ic(n,a))));break;case 19:bn(i,n),Cn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Ic(n,f)));break;case 30:break;case 21:break;default:bn(i,n),Cn(n)}}function Cn(n){var i=n.flags;if(i&2){try{for(var a,f=n.return;f!==null;){if(vm(f)){a=f;break}f=f.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var g=a.stateNode,w=Nc(n);ol(n,w,g);break;case 5:var L=a.stateNode;a.flags&32&&(Ue(L,""),a.flags&=-33);var V=Nc(n);ol(n,V,L);break;case 3:case 4:var oe=a.stateNode.containerInfo,ve=Nc(n);Dc(n,ve,oe);break;default:throw Error(o(161))}}catch(Ae){Tt(n,n.return,Ae)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Cm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Cm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Jr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tm(n,i.alternate,i),i=i.sibling}function Si(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Kr(4,i,i.return),Si(i);break;case 1:tr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&gm(i,i.return,a),Si(i);break;case 27:Ka(i.stateNode);case 26:case 5:tr(i,i.return),Si(i);break;case 22:i.memoizedState===null&&Si(i);break;case 30:Si(i);break;default:Si(i)}n=n.sibling}}function Yr(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=n,w=i,L=w.flags;switch(w.tag){case 0:case 11:case 15:Yr(g,w,a),La(4,w);break;case 1:if(Yr(g,w,a),f=w,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ve){Tt(f,f.return,ve)}if(f=w,g=f.updateQueue,g!==null){var V=f.stateNode;try{var oe=g.shared.hiddenCallbacks;if(oe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<oe.length;g++)tp(oe[g],V)}catch(ve){Tt(f,f.return,ve)}}a&&L&64&&mm(w),Ba(w,w.return);break;case 27:wm(w);case 26:case 5:Yr(g,w,a),a&&f===null&&L&4&&ym(w),Ba(w,w.return);break;case 12:Yr(g,w,a);break;case 13:Yr(g,w,a),a&&L&4&&_m(g,w);break;case 22:w.memoizedState===null&&Yr(g,w,a),Ba(w,w.return);break;case 30:break;default:Yr(g,w,a)}i=i.sibling}}function kc(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ta(a))}function Uc(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ta(n))}function nr(n,i,a,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Am(n,i,a,f),i=i.sibling}function Am(n,i,a,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:nr(n,i,a,f),g&2048&&La(9,i);break;case 1:nr(n,i,a,f);break;case 3:nr(n,i,a,f),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ta(n)));break;case 12:if(g&2048){nr(n,i,a,f),n=i.stateNode;try{var w=i.memoizedProps,L=w.id,V=w.onPostCommit;typeof V=="function"&&V(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(oe){Tt(i,i.return,oe)}}else nr(n,i,a,f);break;case 13:nr(n,i,a,f);break;case 23:break;case 22:w=i.stateNode,L=i.alternate,i.memoizedState!==null?w._visibility&2?nr(n,i,a,f):Pa(n,i):w._visibility&2?nr(n,i,a,f):(w._visibility|=2,lo(n,i,a,f,(i.subtreeFlags&10256)!==0)),g&2048&&kc(L,i);break;case 24:nr(n,i,a,f),g&2048&&Uc(i.alternate,i);break;default:nr(n,i,a,f)}}function lo(n,i,a,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var w=n,L=i,V=a,oe=f,ve=L.flags;switch(L.tag){case 0:case 11:case 15:lo(w,L,V,oe,g),La(8,L);break;case 23:break;case 22:var Ae=L.stateNode;L.memoizedState!==null?Ae._visibility&2?lo(w,L,V,oe,g):Pa(w,L):(Ae._visibility|=2,lo(w,L,V,oe,g)),g&&ve&2048&&kc(L.alternate,L);break;case 24:lo(w,L,V,oe,g),g&&ve&2048&&Uc(L.alternate,L);break;default:lo(w,L,V,oe,g)}i=i.sibling}}function Pa(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,f=i,g=f.flags;switch(f.tag){case 22:Pa(a,f),g&2048&&kc(f.alternate,f);break;case 24:Pa(a,f),g&2048&&Uc(f.alternate,f);break;default:Pa(a,f)}i=i.sibling}}var Oa=8192;function uo(n){if(n.subtreeFlags&Oa)for(n=n.child;n!==null;)Rm(n),n=n.sibling}function Rm(n){switch(n.tag){case 26:uo(n),n.flags&Oa&&n.memoizedState!==null&&C1(Jn,n.memoizedState,n.memoizedProps);break;case 5:uo(n);break;case 3:case 4:var i=Jn;Jn=vl(n.stateNode.containerInfo),uo(n),Jn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Oa,Oa=16777216,uo(n),Oa=i):uo(n));break;default:uo(n)}}function Nm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Fa(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];Zt=f,Mm(f,n)}Nm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dm(n),n=n.sibling}function Dm(n){switch(n.tag){case 0:case 11:case 15:Fa(n),n.flags&2048&&Kr(9,n,n.return);break;case 3:Fa(n);break;case 12:Fa(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,al(n)):Fa(n);break;default:Fa(n)}}function al(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];Zt=f,Mm(f,n)}Nm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Kr(8,i,i.return),al(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,al(i));break;default:al(i)}n=n.sibling}}function Mm(n,i){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ta(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,Zt=f;else e:for(a=n;Zt!==null;){f=Zt;var g=f.sibling,w=f.return;if(Sm(f),f===a){Zt=null;break e}if(g!==null){g.return=w,Zt=g;break e}Zt=w}}}var VT={getCacheForType:function(n){var i=nn(Wt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},qT=typeof WeakMap=="function"?WeakMap:Map,pt=0,Et=null,ot=null,lt=0,mt=0,An=null,Wr=!1,co=!1,Lc=!1,Cr=0,Lt=0,$r=0,Ei=0,Bc=0,Ln=0,fo=0,Ga=null,wn=null,Pc=!1,Oc=0,sl=1/0,ll=null,Xr=null,en=0,Zr=null,ho=null,po=0,Fc=0,Gc=null,Im=null,za=0,zc=null;function Rn(){if((pt&2)!==0&&lt!==0)return lt&-lt;if(le.T!==null){var n=eo;return n!==0?n:Wc()}return vs()}function km(){Ln===0&&(Ln=(lt&536870912)===0||ft?ur():536870912);var n=Un.current;return n!==null&&(n.flags|=32),Ln}function Nn(n,i,a){(n===Et&&(mt===2||mt===9)||n.cancelPendingCommit!==null)&&(mo(n,0),jr(n,lt,Ln,!1)),It(n,a),((pt&2)===0||n!==Et)&&(n===Et&&((pt&2)===0&&(Ei|=a),Lt===4&&jr(n,lt,Ln,!1)),rr(n))}function Um(n,i,a){if((pt&6)!==0)throw Error(o(327));var f=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Gn(n,i),g=f?JT(n,i):Hc(n,i,!0),w=f;do{if(g===0){co&&!f&&jr(n,i,0,!1);break}else{if(a=n.current.alternate,w&&!HT(a)){g=Hc(n,i,!1),w=!1;continue}if(g===2){if(w=i,n.errorRecoveryDisabledLanes&w)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var V=n;g=Ga;var oe=V.current.memoizedState.isDehydrated;if(oe&&(mo(V,L).flags|=256),L=Hc(V,L,!1),L!==2){if(Lc&&!oe){V.errorRecoveryDisabledLanes|=w,Ei|=w,g=4;break e}w=wn,wn=g,w!==null&&(wn===null?wn=w:wn.push.apply(wn,w))}g=L}if(w=!1,g!==2)continue}}if(g===1){mo(n,0),jr(n,i,0,!0);break}e:{switch(f=n,w=g,w){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:jr(f,i,Ln,!Wr);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(g=Oc+300-v(),10<g)){if(jr(f,i,Ln,!Wr),At(f,0,!0)!==0)break e;f.timeoutHandle=ug(Lm.bind(null,f,a,wn,ll,Pc,i,Ln,Ei,fo,Wr,w,2,-0,0),g);break e}Lm(f,a,wn,ll,Pc,i,Ln,Ei,fo,Wr,w,0,-0,0)}}break}while(!0);rr(n)}function Lm(n,i,a,f,g,w,L,V,oe,ve,Ae,Me,we,xe){if(n.timeoutHandle=-1,Me=i.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(Wa={stylesheets:null,count:0,unsuspend:b1},Rm(i),Me=A1(),Me!==null)){n.cancelPendingCommit=Me(Vm.bind(null,n,i,w,a,f,g,L,V,oe,Ae,1,we,xe)),jr(n,w,L,!ve);return}Vm(n,i,w,a,f,g,L,V,oe)}function HT(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var g=a[f],w=g.getSnapshot;g=g.value;try{if(!En(w(),g))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(n,i,a,f){i&=~Bc,i&=~Ei,n.suspendedLanes|=i,n.pingedLanes&=~i,f&&(n.warmLanes|=i),f=n.expirationTimes;for(var g=i;0<g;){var w=31-Ze(g),L=1<<w;f[w]=-1,g&=~L}a!==0&&hn(n,a,i)}function ul(){return(pt&6)===0?(Va(0),!1):!0}function Vc(){if(ot!==null){if(mt===0)var n=ot.return;else n=ot,vr=yi=null,oc(n),ao=null,Ia=0,n=ot;for(;n!==null;)pm(n.alternate,n),n=n.return;ot=null}}function mo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,l1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Vc(),Et=n,ot=a=mr(n.current,null),lt=i,mt=0,An=null,Wr=!1,co=Gn(n,i),Lc=!1,fo=Ln=Bc=Ei=$r=Lt=0,wn=Ga=null,Pc=!1,(i&8)!==0&&(i|=i&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=i;0<f;){var g=31-Ze(f),w=1<<g;i|=n[g],f&=~w}return Cr=i,Ms(),a}function Bm(n,i){tt=null,le.H=Xs,i===Ea||i===Gs?(i=Qh(),mt=3):i===Xh?(i=Qh(),mt=4):mt=i===em?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,ot===null&&(Lt=1,tl(n,Dn(i,n.current)))}function Pm(){var n=le.H;return le.H=Xs,n===null?Xs:n}function Om(){var n=le.A;return le.A=VT,n}function qc(){Lt=4,Wr||(lt&4194048)!==lt&&Un.current!==null||(co=!0),($r&134217727)===0&&(Ei&134217727)===0||Et===null||jr(Et,lt,Ln,!1)}function Hc(n,i,a){var f=pt;pt|=2;var g=Pm(),w=Om();(Et!==n||lt!==i)&&(ll=null,mo(n,i)),i=!1;var L=Lt;e:do try{if(mt!==0&&ot!==null){var V=ot,oe=An;switch(mt){case 8:Vc(),L=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var ve=mt;if(mt=0,An=null,go(n,V,oe,ve),a&&co){L=0;break e}break;default:ve=mt,mt=0,An=null,go(n,V,oe,ve)}}KT(),L=Lt;break}catch(Ae){Bm(n,Ae)}while(!0);return i&&n.shellSuspendCounter++,vr=yi=null,pt=f,le.H=g,le.A=w,ot===null&&(Et=null,lt=0,Ms()),L}function KT(){for(;ot!==null;)Fm(ot)}function JT(n,i){var a=pt;pt|=2;var f=Pm(),g=Om();Et!==n||lt!==i?(ll=null,sl=v()+500,mo(n,i)):co=Gn(n,i);e:do try{if(mt!==0&&ot!==null){i=ot;var w=An;t:switch(mt){case 1:mt=0,An=null,go(n,i,w,1);break;case 2:case 9:if(Zh(w)){mt=0,An=null,Gm(i);break}i=function(){mt!==2&&mt!==9||Et!==n||(mt=7),rr(n)},w.then(i,i);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Zh(w)?(mt=0,An=null,Gm(i)):(mt=0,An=null,go(n,i,w,7));break;case 5:var L=null;switch(ot.tag){case 26:L=ot.memoizedState;case 5:case 27:var V=ot;if(!L||Tg(L)){mt=0,An=null;var oe=V.sibling;if(oe!==null)ot=oe;else{var ve=V.return;ve!==null?(ot=ve,cl(ve)):ot=null}break t}}mt=0,An=null,go(n,i,w,5);break;case 6:mt=0,An=null,go(n,i,w,6);break;case 8:Vc(),Lt=6;break e;default:throw Error(o(462))}}YT();break}catch(Ae){Bm(n,Ae)}while(!0);return vr=yi=null,le.H=f,le.A=g,pt=a,ot!==null?0:(Et=null,lt=0,Ms(),Lt)}function YT(){for(;ot!==null&&!re();)Fm(ot)}function Fm(n){var i=dm(n.alternate,n,Cr);n.memoizedProps=n.pendingProps,i===null?cl(n):ot=i}function Gm(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=am(a,i,i.pendingProps,i.type,void 0,lt);break;case 11:i=am(a,i,i.pendingProps,i.type.render,i.ref,lt);break;case 5:oc(i);default:pm(a,i),i=ot=zh(i,Cr),i=dm(a,i,Cr)}n.memoizedProps=n.pendingProps,i===null?cl(n):ot=i}function go(n,i,a,f){vr=yi=null,oc(i),ao=null,Ia=0;var g=i.return;try{if(BT(n,g,i,a,lt)){Lt=1,tl(n,Dn(a,n.current)),ot=null;return}}catch(w){if(g!==null)throw ot=g,w;Lt=1,tl(n,Dn(a,n.current)),ot=null;return}i.flags&32768?(ft||f===1?n=!0:co||(lt&536870912)!==0?n=!1:(Wr=n=!0,(f===2||f===9||f===3||f===6)&&(f=Un.current,f!==null&&f.tag===13&&(f.flags|=16384))),zm(i,n)):cl(i)}function cl(n){var i=n;do{if((i.flags&32768)!==0){zm(i,Wr);return}n=i.return;var a=OT(i.alternate,i,Cr);if(a!==null){ot=a;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=n}while(i!==null);Lt===0&&(Lt=5)}function zm(n,i){do{var a=FT(n.alternate,n);if(a!==null){a.flags&=32767,ot=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){ot=n;return}ot=n=a}while(n!==null);Lt=6,ot=null}function Vm(n,i,a,f,g,w,L,V,oe){n.cancelPendingCommit=null;do fl();while(en!==0);if((pt&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(w=i.lanes|i.childLanes,w|=Uu,cr(n,a,w,L,V,oe),n===Et&&(ot=Et=null,lt=0),ho=i,Zr=n,po=a,Fc=w,Gc=g,Im=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ZT(ne,function(){return Ym(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=le.T,le.T=null,g=ae.p,ae.p=2,L=pt,pt|=4;try{GT(n,i,a)}finally{pt=L,ae.p=g,le.T=f}}en=1,qm(),Hm(),Km()}}function qm(){if(en===1){en=0;var n=Zr,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=le.T,le.T=null;var f=ae.p;ae.p=2;var g=pt;pt|=4;try{bm(i,n);var w=nf,L=Mh(n.containerInfo),V=w.focusedElem,oe=w.selectionRange;if(L!==V&&V&&V.ownerDocument&&Dh(V.ownerDocument.documentElement,V)){if(oe!==null&&Nu(V)){var ve=oe.start,Ae=oe.end;if(Ae===void 0&&(Ae=ve),"selectionStart"in V)V.selectionStart=ve,V.selectionEnd=Math.min(Ae,V.value.length);else{var Me=V.ownerDocument||document,we=Me&&Me.defaultView||window;if(we.getSelection){var xe=we.getSelection(),$e=V.textContent.length,Ye=Math.min(oe.start,$e),wt=oe.end===void 0?Ye:Math.min(oe.end,$e);!xe.extend&&Ye>wt&&(L=wt,wt=Ye,Ye=L);var me=Nh(V,Ye),fe=Nh(V,wt);if(me&&fe&&(xe.rangeCount!==1||xe.anchorNode!==me.node||xe.anchorOffset!==me.offset||xe.focusNode!==fe.node||xe.focusOffset!==fe.offset)){var ye=Me.createRange();ye.setStart(me.node,me.offset),xe.removeAllRanges(),Ye>wt?(xe.addRange(ye),xe.extend(fe.node,fe.offset)):(ye.setEnd(fe.node,fe.offset),xe.addRange(ye))}}}}for(Me=[],xe=V;xe=xe.parentNode;)xe.nodeType===1&&Me.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Me.length;V++){var Ne=Me[V];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}El=!!tf,nf=tf=null}finally{pt=g,ae.p=f,le.T=a}}n.current=i,en=2}}function Hm(){if(en===2){en=0;var n=Zr,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=le.T,le.T=null;var f=ae.p;ae.p=2;var g=pt;pt|=4;try{Tm(n,i.alternate,i)}finally{pt=g,ae.p=f,le.T=a}}en=3}}function Km(){if(en===4||en===3){en=0,k();var n=Zr,i=ho,a=po,f=Im;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?en=5:(en=0,ho=Zr=null,Jm(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Xr=null),kr(a),i=i.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Le,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=le.T,g=ae.p,ae.p=2,le.T=null;try{for(var w=n.onRecoverableError,L=0;L<f.length;L++){var V=f[L];w(V.value,{componentStack:V.stack})}}finally{le.T=i,ae.p=g}}(po&3)!==0&&fl(),rr(n),g=n.pendingLanes,(a&4194090)!==0&&(g&42)!==0?n===zc?za++:(za=0,zc=n):za=0,Va(0)}}function Jm(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ta(i)))}function fl(n){return qm(),Hm(),Km(),Ym()}function Ym(){if(en!==5)return!1;var n=Zr,i=Fc;Fc=0;var a=kr(po),f=le.T,g=ae.p;try{ae.p=32>a?32:a,le.T=null,a=Gc,Gc=null;var w=Zr,L=po;if(en=0,ho=Zr=null,po=0,(pt&6)!==0)throw Error(o(331));var V=pt;if(pt|=4,Dm(w.current),Am(w,w.current,L,a),pt=V,Va(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Le,w)}catch{}return!0}finally{ae.p=g,le.T=f,Jm(n,i)}}function Wm(n,i,a){i=Dn(a,i),i=wc(n.stateNode,i,2),n=zr(n,i,2),n!==null&&(It(n,2),rr(n))}function Tt(n,i,a){if(n.tag===3)Wm(n,n,a);else for(;i!==null;){if(i.tag===3){Wm(i,n,a);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xr===null||!Xr.has(f))){n=Dn(a,n),a=jp(2),f=zr(i,a,2),f!==null&&(Qp(a,f,i,n),It(f,2),rr(f));break}}i=i.return}}function Kc(n,i,a){var f=n.pingCache;if(f===null){f=n.pingCache=new qT;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(a)||(Lc=!0,g.add(a),n=WT.bind(null,n,i,a),i.then(n,n))}function WT(n,i,a){var f=n.pingCache;f!==null&&f.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Et===n&&(lt&a)===a&&(Lt===4||Lt===3&&(lt&62914560)===lt&&300>v()-Oc?(pt&2)===0&&mo(n,0):Bc|=a,fo===lt&&(fo=0)),rr(n)}function $m(n,i){i===0&&(i=Ir()),n=Xi(n,i),n!==null&&(It(n,i),rr(n))}function $T(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),$m(n,a)}function XT(n,i){var a=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(i),$m(n,a)}function ZT(n,i){return ie(n,i)}var dl=null,yo=null,Jc=!1,hl=!1,Yc=!1,_i=0;function rr(n){n!==yo&&n.next===null&&(yo===null?dl=yo=n:yo=yo.next=n),hl=!0,Jc||(Jc=!0,QT())}function Va(n,i){if(!Yc&&hl){Yc=!0;do for(var a=!1,f=dl;f!==null;){if(n!==0){var g=f.pendingLanes;if(g===0)var w=0;else{var L=f.suspendedLanes,V=f.pingedLanes;w=(1<<31-Ze(42|n)+1)-1,w&=g&~(L&~V),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(a=!0,Qm(f,w))}else w=lt,w=At(f,f===Et?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||Gn(f,w)||(a=!0,Qm(f,w));f=f.next}while(a);Yc=!1}}function jT(){Xm()}function Xm(){hl=Jc=!1;var n=0;_i!==0&&(s1()&&(n=_i),_i=0);for(var i=v(),a=null,f=dl;f!==null;){var g=f.next,w=Zm(f,i);w===0?(f.next=null,a===null?dl=g:a.next=g,g===null&&(yo=a)):(a=f,(n!==0||(w&3)!==0)&&(hl=!0)),f=g}Va(n)}function Zm(n,i){for(var a=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,w=n.pendingLanes&-62914561;0<w;){var L=31-Ze(w),V=1<<L,oe=g[L];oe===-1?((V&a)===0||(V&f)!==0)&&(g[L]=Li(V,i)):oe<=i&&(n.expiredLanes|=V),w&=~V}if(i=Et,a=lt,a=At(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,a===0||n===i&&(mt===2||mt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&b(f),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Gn(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(f!==null&&b(f),kr(a)){case 2:case 8:a=X;break;case 32:a=ne;break;case 268435456:a=ge;break;default:a=ne}return f=jm.bind(null,n),a=ie(a,f),n.callbackPriority=i,n.callbackNode=a,i}return f!==null&&f!==null&&b(f),n.callbackPriority=2,n.callbackNode=null,2}function jm(n,i){if(en!==0&&en!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(fl()&&n.callbackNode!==a)return null;var f=lt;return f=At(n,n===Et?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(Um(n,f,i),Zm(n,v()),n.callbackNode!=null&&n.callbackNode===a?jm.bind(null,n):null)}function Qm(n,i){if(fl())return null;Um(n,i,!0)}function QT(){u1(function(){(pt&6)!==0?ie(A,jT):Xm()})}function Wc(){return _i===0&&(_i=ur()),_i}function eg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:qe(""+n)}function tg(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function e1(n,i,a,f,g){if(i==="submit"&&a&&a.stateNode===g){var w=eg((g[Pt]||null).action),L=f.submitter;L&&(i=(i=L[Pt]||null)?eg(i.formAction):L.getAttribute("formAction"),i!==null&&(w=i,L=null));var V=new Rs("action","action",null,f,g);n.push({event:V,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(_i!==0){var oe=L?tg(g,L):new FormData(g);pc(a,{pending:!0,data:oe,method:g.method,action:w},null,oe)}}else typeof w=="function"&&(V.preventDefault(),oe=L?tg(g,L):new FormData(g),pc(a,{pending:!0,data:oe,method:g.method,action:w},w,oe))},currentTarget:g}]})}}for(var $c=0;$c<ku.length;$c++){var Xc=ku[$c],t1=Xc.toLowerCase(),n1=Xc[0].toUpperCase()+Xc.slice(1);Kn(t1,"on"+n1)}Kn(Uh,"onAnimationEnd"),Kn(Lh,"onAnimationIteration"),Kn(Bh,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(wT,"onTransitionRun"),Kn(xT,"onTransitionStart"),Kn(TT,"onTransitionCancel"),Kn(Ph,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qa));function ng(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var f=n[a],g=f.event;f=f.listeners;e:{var w=void 0;if(i)for(var L=f.length-1;0<=L;L--){var V=f[L],oe=V.instance,ve=V.currentTarget;if(V=V.listener,oe!==w&&g.isPropagationStopped())break e;w=V,g.currentTarget=ve;try{w(g)}catch(Ae){el(Ae)}g.currentTarget=null,w=oe}else for(L=0;L<f.length;L++){if(V=f[L],oe=V.instance,ve=V.currentTarget,V=V.listener,oe!==w&&g.isPropagationStopped())break e;w=V,g.currentTarget=ve;try{w(g)}catch(Ae){el(Ae)}g.currentTarget=null,w=oe}}}}function at(n,i){var a=i[jo];a===void 0&&(a=i[jo]=new Set);var f=n+"__bubble";a.has(f)||(rg(i,n,2,!1),a.add(f))}function Zc(n,i,a){var f=0;i&&(f|=4),rg(a,n,f,i)}var pl="_reactListening"+Math.random().toString(36).slice(2);function jc(n){if(!n[pl]){n[pl]=!0,Fi.forEach(function(a){a!=="selectionchange"&&(r1.has(a)||Zc(a,!1,n),Zc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[pl]||(i[pl]=!0,Zc("selectionchange",!1,i))}}function rg(n,i,a,f){switch(Ag(i)){case 2:var g=D1;break;case 8:g=M1;break;default:g=hf}a=g.bind(null,i,a,n),g=void 0,!xu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(i,a,{capture:!0,passive:g}):n.addEventListener(i,a,!0):g!==void 0?n.addEventListener(i,a,{passive:g}):n.addEventListener(i,a,!1)}function Qc(n,i,a,f,g){var w=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var L=f.tag;if(L===3||L===4){var V=f.stateNode.containerInfo;if(V===g)break;if(L===4)for(L=f.return;L!==null;){var oe=L.tag;if((oe===3||oe===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;V!==null;){if(L=Ur(V),L===null)return;if(oe=L.tag,oe===5||oe===6||oe===26||oe===27){f=w=L;continue e}V=V.parentNode}}f=f.return}Ki(function(){var ve=w,Ae=bt(a),Me=[];e:{var we=Oh.get(n);if(we!==void 0){var xe=Rs,$e=n;switch(n){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":xe=Zx;break;case"focusin":$e="focus",xe=_u;break;case"focusout":$e="blur",xe=_u;break;case"beforeblur":case"afterblur":xe=_u;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=eT;break;case Uh:case Lh:case Bh:xe=Vx;break;case Ph:xe=nT;break;case"scroll":case"scrollend":xe=Px;break;case"wheel":xe=iT;break;case"copy":case"cut":case"paste":xe=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=mh;break;case"toggle":case"beforetoggle":xe=aT}var Ye=(i&4)!==0,wt=!Ye&&(n==="scroll"||n==="scrollend"),me=Ye?we!==null?we+"Capture":null:we;Ye=[];for(var fe=ve,ye;fe!==null;){var Ne=fe;if(ye=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ye===null||me===null||(Ne=la(fe,me),Ne!=null&&Ye.push(Ha(fe,Ne,ye))),wt)break;fe=fe.return}0<Ye.length&&(we=new xe(we,$e,null,a,Ae),Me.push({event:we,listeners:Ye}))}}if((i&7)===0){e:{if(we=n==="mouseover"||n==="pointerover",xe=n==="mouseout"||n==="pointerout",we&&a!==st&&($e=a.relatedTarget||a.fromElement)&&(Ur($e)||$e[Xn]))break e;if((xe||we)&&(we=Ae.window===Ae?Ae:(we=Ae.ownerDocument)?we.defaultView||we.parentWindow:window,xe?($e=a.relatedTarget||a.toElement,xe=ve,$e=$e?Ur($e):null,$e!==null&&(wt=c($e),Ye=$e.tag,$e!==wt||Ye!==5&&Ye!==27&&Ye!==6)&&($e=null)):(xe=null,$e=ve),xe!==$e)){if(Ye=hh,Ne="onMouseLeave",me="onMouseEnter",fe="mouse",(n==="pointerout"||n==="pointerover")&&(Ye=mh,Ne="onPointerLeave",me="onPointerEnter",fe="pointer"),wt=xe==null?we:si(xe),ye=$e==null?we:si($e),we=new Ye(Ne,fe+"leave",xe,a,Ae),we.target=wt,we.relatedTarget=ye,Ne=null,Ur(Ae)===ve&&(Ye=new Ye(me,fe+"enter",$e,a,Ae),Ye.target=ye,Ye.relatedTarget=wt,Ne=Ye),wt=Ne,xe&&$e)t:{for(Ye=xe,me=$e,fe=0,ye=Ye;ye;ye=vo(ye))fe++;for(ye=0,Ne=me;Ne;Ne=vo(Ne))ye++;for(;0<fe-ye;)Ye=vo(Ye),fe--;for(;0<ye-fe;)me=vo(me),ye--;for(;fe--;){if(Ye===me||me!==null&&Ye===me.alternate)break t;Ye=vo(Ye),me=vo(me)}Ye=null}else Ye=null;xe!==null&&ig(Me,we,xe,Ye,!1),$e!==null&&wt!==null&&ig(Me,wt,$e,Ye,!0)}}e:{if(we=ve?si(ve):window,xe=we.nodeName&&we.nodeName.toLowerCase(),xe==="select"||xe==="input"&&we.type==="file")var Fe=Eh;else if(Th(we))if(_h)Fe=gT;else{Fe=pT;var rt=hT}else xe=we.nodeName,!xe||xe.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ve&&He(ve.elementType)&&(Fe=Eh):Fe=mT;if(Fe&&(Fe=Fe(n,ve))){Sh(Me,Fe,a,Ae);break e}rt&&rt(n,we,ve),n==="focusout"&&ve&&we.type==="number"&&ve.memoizedProps.value!=null&&oa(we,"number",we.value)}switch(rt=ve?si(ve):window,n){case"focusin":(Th(rt)||rt.contentEditable==="true")&&(Yi=rt,Du=ve,ga=null);break;case"focusout":ga=Du=Yi=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,Ih(Me,a,Ae);break;case"selectionchange":if(vT)break;case"keydown":case"keyup":Ih(Me,a,Ae)}var Ke;if(Cu)e:{switch(n){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ji?wh(n,a)&&(We="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(We="onCompositionStart");We&&(gh&&a.locale!=="ko"&&(Ji||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ji&&(Ke=fh()):(Pr=Ae,Tu="value"in Pr?Pr.value:Pr.textContent,Ji=!0)),rt=ml(ve,We),0<rt.length&&(We=new ph(We,n,null,a,Ae),Me.push({event:We,listeners:rt}),Ke?We.data=Ke:(Ke=xh(a),Ke!==null&&(We.data=Ke)))),(Ke=lT?uT(n,a):cT(n,a))&&(We=ml(ve,"onBeforeInput"),0<We.length&&(rt=new ph("onBeforeInput","beforeinput",null,a,Ae),Me.push({event:rt,listeners:We}),rt.data=Ke)),e1(Me,n,ve,a,Ae)}ng(Me,i)})}function Ha(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ml(n,i){for(var a=i+"Capture",f=[];n!==null;){var g=n,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=la(n,a),g!=null&&f.unshift(Ha(n,g,w)),g=la(n,i),g!=null&&f.push(Ha(n,g,w))),n.tag===3)return f;n=n.return}return[]}function vo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ig(n,i,a,f,g){for(var w=i._reactName,L=[];a!==null&&a!==f;){var V=a,oe=V.alternate,ve=V.stateNode;if(V=V.tag,oe!==null&&oe===f)break;V!==5&&V!==26&&V!==27||ve===null||(oe=ve,g?(ve=la(a,w),ve!=null&&L.unshift(Ha(a,ve,oe))):g||(ve=la(a,w),ve!=null&&L.push(Ha(a,ve,oe)))),a=a.return}L.length!==0&&n.push({event:i,listeners:L})}var i1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function og(n){return(typeof n=="string"?n:""+n).replace(i1,`
`).replace(o1,"")}function ag(n,i){return i=og(i),og(n)===i}function gl(){}function vt(n,i,a,f,g,w){switch(a){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||Ue(n,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&Ue(n,""+f);break;case"className":li(n,"class",f);break;case"tabIndex":li(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":li(n,a,f);break;case"style":ze(n,f,w);break;case"data":if(i!=="object"){li(n,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(a);break}f=qe(""+f),n.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(a==="formAction"?(i!=="input"&&vt(n,i,"name",g.name,g,null),vt(n,i,"formEncType",g.formEncType,g,null),vt(n,i,"formMethod",g.formMethod,g,null),vt(n,i,"formTarget",g.formTarget,g,null)):(vt(n,i,"encType",g.encType,g,null),vt(n,i,"method",g.method,g,null),vt(n,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(a);break}f=qe(""+f),n.setAttribute(a,f);break;case"onClick":f!=null&&(n.onclick=gl);break;case"onScroll":f!=null&&at("scroll",n);break;case"onScrollEnd":f!=null&&at("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(a=f.__html,a!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}a=qe(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,""+f):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":f===!0?n.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,f):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(a,f):n.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(a):n.setAttribute(a,f);break;case"popover":at("beforetoggle",n),at("toggle",n),zi(n,"popover",f);break;case"xlinkActuate":Hn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Hn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Hn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Hn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Hn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Hn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":zi(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=et.get(a)||a,zi(n,a,f))}}function ef(n,i,a,f,g,w){switch(a){case"style":ze(n,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(a=f.__html,a!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof f=="string"?Ue(n,f):(typeof f=="number"||typeof f=="bigint")&&Ue(n,""+f);break;case"onScroll":f!=null&&at("scroll",n);break;case"onScrollEnd":f!=null&&at("scrollend",n);break;case"onClick":f!=null&&(n.onclick=gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),i=a.slice(2,g?a.length-7:void 0),w=n[Pt]||null,w=w!=null?w[a]:null,typeof w=="function"&&n.removeEventListener(i,w,g),typeof f=="function")){typeof w!="function"&&w!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,f,g);break e}a in n?n[a]=f:f===!0?n.setAttribute(a,""):zi(n,a,f)}}}function tn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",n),at("load",n);var f=!1,g=!1,w;for(w in a)if(a.hasOwnProperty(w)){var L=a[w];if(L!=null)switch(w){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:vt(n,i,w,L,a,null)}}g&&vt(n,i,"srcSet",a.srcSet,a,null),f&&vt(n,i,"src",a.src,a,null);return;case"input":at("invalid",n);var V=w=L=g=null,oe=null,ve=null;for(f in a)if(a.hasOwnProperty(f)){var Ae=a[f];if(Ae!=null)switch(f){case"name":g=Ae;break;case"type":L=Ae;break;case"checked":oe=Ae;break;case"defaultChecked":ve=Ae;break;case"value":w=Ae;break;case"defaultValue":V=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(o(137,i));break;default:vt(n,i,f,Ae,a,null)}}_s(n,w,V,oe,ve,L,g,!1),Vi(n);return;case"select":at("invalid",n),f=L=w=null;for(g in a)if(a.hasOwnProperty(g)&&(V=a[g],V!=null))switch(g){case"value":w=V;break;case"defaultValue":L=V;break;case"multiple":f=V;default:vt(n,i,g,V,a,null)}i=w,a=L,n.multiple=!!f,i!=null?Br(n,!!f,i,!1):a!=null&&Br(n,!!f,a,!0);return;case"textarea":at("invalid",n),w=g=f=null;for(L in a)if(a.hasOwnProperty(L)&&(V=a[L],V!=null))switch(L){case"value":f=V;break;case"defaultValue":g=V;break;case"children":w=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(91));break;default:vt(n,i,L,V,a,null)}sa(n,f,g,w),Vi(n);return;case"option":for(oe in a)if(a.hasOwnProperty(oe)&&(f=a[oe],f!=null))switch(oe){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:vt(n,i,oe,f,a,null)}return;case"dialog":at("beforetoggle",n),at("toggle",n),at("cancel",n),at("close",n);break;case"iframe":case"object":at("load",n);break;case"video":case"audio":for(f=0;f<qa.length;f++)at(qa[f],n);break;case"image":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"embed":case"source":case"link":at("error",n),at("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in a)if(a.hasOwnProperty(ve)&&(f=a[ve],f!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:vt(n,i,ve,f,a,null)}return;default:if(He(i)){for(Ae in a)a.hasOwnProperty(Ae)&&(f=a[Ae],f!==void 0&&ef(n,i,Ae,f,a,void 0));return}}for(V in a)a.hasOwnProperty(V)&&(f=a[V],f!=null&&vt(n,i,V,f,a,null))}function a1(n,i,a,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,L=null,V=null,oe=null,ve=null,Ae=null;for(xe in a){var Me=a[xe];if(a.hasOwnProperty(xe)&&Me!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":oe=Me;default:f.hasOwnProperty(xe)||vt(n,i,xe,null,f,Me)}}for(var we in f){var xe=f[we];if(Me=a[we],f.hasOwnProperty(we)&&(xe!=null||Me!=null))switch(we){case"type":w=xe;break;case"name":g=xe;break;case"checked":ve=xe;break;case"defaultChecked":Ae=xe;break;case"value":L=xe;break;case"defaultValue":V=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(o(137,i));break;default:xe!==Me&&vt(n,i,we,xe,f,Me)}}ia(n,L,V,oe,ve,Ae,w,g);return;case"select":xe=L=V=we=null;for(w in a)if(oe=a[w],a.hasOwnProperty(w)&&oe!=null)switch(w){case"value":break;case"multiple":xe=oe;default:f.hasOwnProperty(w)||vt(n,i,w,null,f,oe)}for(g in f)if(w=f[g],oe=a[g],f.hasOwnProperty(g)&&(w!=null||oe!=null))switch(g){case"value":we=w;break;case"defaultValue":V=w;break;case"multiple":L=w;default:w!==oe&&vt(n,i,g,w,f,oe)}i=V,a=L,f=xe,we!=null?Br(n,!!a,we,!1):!!f!=!!a&&(i!=null?Br(n,!!a,i,!0):Br(n,!!a,a?[]:"",!1));return;case"textarea":xe=we=null;for(V in a)if(g=a[V],a.hasOwnProperty(V)&&g!=null&&!f.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:vt(n,i,V,null,f,g)}for(L in f)if(g=f[L],w=a[L],f.hasOwnProperty(L)&&(g!=null||w!=null))switch(L){case"value":we=g;break;case"defaultValue":xe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==w&&vt(n,i,L,g,f,w)}aa(n,we,xe);return;case"option":for(var $e in a)if(we=a[$e],a.hasOwnProperty($e)&&we!=null&&!f.hasOwnProperty($e))switch($e){case"selected":n.selected=!1;break;default:vt(n,i,$e,null,f,we)}for(oe in f)if(we=f[oe],xe=a[oe],f.hasOwnProperty(oe)&&we!==xe&&(we!=null||xe!=null))switch(oe){case"selected":n.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:vt(n,i,oe,we,f,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in a)we=a[Ye],a.hasOwnProperty(Ye)&&we!=null&&!f.hasOwnProperty(Ye)&&vt(n,i,Ye,null,f,we);for(ve in f)if(we=f[ve],xe=a[ve],f.hasOwnProperty(ve)&&we!==xe&&(we!=null||xe!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(o(137,i));break;default:vt(n,i,ve,we,f,xe)}return;default:if(He(i)){for(var wt in a)we=a[wt],a.hasOwnProperty(wt)&&we!==void 0&&!f.hasOwnProperty(wt)&&ef(n,i,wt,void 0,f,we);for(Ae in f)we=f[Ae],xe=a[Ae],!f.hasOwnProperty(Ae)||we===xe||we===void 0&&xe===void 0||ef(n,i,Ae,we,f,xe);return}}for(var me in a)we=a[me],a.hasOwnProperty(me)&&we!=null&&!f.hasOwnProperty(me)&&vt(n,i,me,null,f,we);for(Me in f)we=f[Me],xe=a[Me],!f.hasOwnProperty(Me)||we===xe||we==null&&xe==null||vt(n,i,Me,we,f,xe)}var tf=null,nf=null;function yl(n){return n.nodeType===9?n:n.ownerDocument}function sg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lg(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function rf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var of=null;function s1(){var n=window.event;return n&&n.type==="popstate"?n===of?!1:(of=n,!0):(of=null,!1)}var ug=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,cg=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof cg<"u"?function(n){return cg.resolve(null).then(n).catch(c1)}:ug;function c1(n){setTimeout(function(){throw n})}function Qr(n){return n==="head"}function fg(n,i){var a=i,f=0,g=0;do{var w=a.nextSibling;if(n.removeChild(a),w&&w.nodeType===8)if(a=w.data,a==="/$"){if(0<f&&8>f){a=f;var L=n.ownerDocument;if(a&1&&Ka(L.documentElement),a&2&&Ka(L.body),a&4)for(a=L.head,Ka(a),L=a.firstChild;L;){var V=L.nextSibling,oe=L.nodeName;L[Zn]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&L.rel.toLowerCase()==="stylesheet"||a.removeChild(L),L=V}}if(g===0){n.removeChild(w),Qa(i);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:f=a.charCodeAt(0)-48;else f=0;a=w}while(a);Qa(i)}function af(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":af(a),Oi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function f1(n,i,a,f){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[Zn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(w=n.getAttribute("rel"),w==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(w!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(w=n.getAttribute("src"),(w!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===w)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function d1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function sf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function h1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var f=function(){i(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Yn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var lf=null;function dg(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function hg(n,i,a){switch(i=yl(a),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Ka(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Oi(n)}var Bn=new Map,pg=new Set;function vl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ar=ae.d;ae.d={f:p1,r:m1,D:g1,C:y1,L:v1,m:w1,X:T1,S:x1,M:S1};function p1(){var n=Ar.f(),i=ul();return n||i}function m1(n){var i=fr(n);i!==null&&i.tag===5&&i.type==="form"?Up(i):Ar.r(n)}var wo=typeof document>"u"?null:document;function mg(n,i,a){var f=wo;if(f&&typeof i=="string"&&i){var g=mn(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),pg.has(g)||(pg.add(g),n={rel:n,crossOrigin:a,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),tn(i,"link",n),Rt(i),f.head.appendChild(i)))}}function g1(n){Ar.D(n),mg("dns-prefetch",n,null)}function y1(n,i){Ar.C(n,i),mg("preconnect",n,i)}function v1(n,i,a){Ar.L(n,i,a);var f=wo;if(f&&n&&i){var g='link[rel="preload"][as="'+mn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+mn(a.imageSizes)+'"]')):g+='[href="'+mn(n)+'"]';var w=g;switch(i){case"style":w=xo(n);break;case"script":w=To(n)}Bn.has(w)||(n=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Bn.set(w,n),f.querySelector(g)!==null||i==="style"&&f.querySelector(Ja(w))||i==="script"&&f.querySelector(Ya(w))||(i=f.createElement("link"),tn(i,"link",n),Rt(i),f.head.appendChild(i)))}}function w1(n,i){Ar.m(n,i);var a=wo;if(a&&n){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+mn(f)+'"][href="'+mn(n)+'"]',w=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=To(n)}if(!Bn.has(w)&&(n=y({rel:"modulepreload",href:n},i),Bn.set(w,n),a.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ya(w)))return}f=a.createElement("link"),tn(f,"link",n),Rt(f),a.head.appendChild(f)}}}function x1(n,i,a){Ar.S(n,i,a);var f=wo;if(f&&n){var g=dr(f).hoistableStyles,w=xo(n);i=i||"default";var L=g.get(w);if(!L){var V={loading:0,preload:null};if(L=f.querySelector(Ja(w)))V.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Bn.get(w))&&uf(n,a);var oe=L=f.createElement("link");Rt(oe),tn(oe,"link",n),oe._p=new Promise(function(ve,Ae){oe.onload=ve,oe.onerror=Ae}),oe.addEventListener("load",function(){V.loading|=1}),oe.addEventListener("error",function(){V.loading|=2}),V.loading|=4,wl(L,i,f)}L={type:"stylesheet",instance:L,count:1,state:V},g.set(w,L)}}}function T1(n,i){Ar.X(n,i);var a=wo;if(a&&n){var f=dr(a).hoistableScripts,g=To(n),w=f.get(g);w||(w=a.querySelector(Ya(g)),w||(n=y({src:n,async:!0},i),(i=Bn.get(g))&&cf(n,i),w=a.createElement("script"),Rt(w),tn(w,"link",n),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function S1(n,i){Ar.M(n,i);var a=wo;if(a&&n){var f=dr(a).hoistableScripts,g=To(n),w=f.get(g);w||(w=a.querySelector(Ya(g)),w||(n=y({src:n,async:!0,type:"module"},i),(i=Bn.get(g))&&cf(n,i),w=a.createElement("script"),Rt(w),tn(w,"link",n),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function gg(n,i,a,f){var g=(g=$.current)?vl(g):null;if(!g)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=xo(a.href),a=dr(g).hoistableStyles,f=a.get(i),f||(f={type:"style",instance:null,count:0,state:null},a.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=xo(a.href);var w=dr(g).hoistableStyles,L=w.get(n);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(n,L),(w=g.querySelector(Ja(n)))&&!w._p&&(L.instance=w,L.state.loading=5),Bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(n,a),w||E1(g,n,a,L.state))),i&&f===null)throw Error(o(528,""));return L}if(i&&f!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(a),a=dr(g).hoistableScripts,f=a.get(i),f||(f={type:"script",instance:null,count:0,state:null},a.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function xo(n){return'href="'+mn(n)+'"'}function Ja(n){return'link[rel="stylesheet"]['+n+"]"}function yg(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function E1(n,i,a,f){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=n.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),tn(i,"link",a),Rt(i),n.head.appendChild(i))}function To(n){return'[src="'+mn(n)+'"]'}function Ya(n){return"script[async]"+n}function vg(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var f=n.querySelector('style[data-href~="'+mn(a.href)+'"]');if(f)return i.instance=f,Rt(f),f;var g=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Rt(f),tn(f,"style",g),wl(f,a.precedence,n),i.instance=f;case"stylesheet":g=xo(a.href);var w=n.querySelector(Ja(g));if(w)return i.state.loading|=4,i.instance=w,Rt(w),w;f=yg(a),(g=Bn.get(g))&&uf(f,g),w=(n.ownerDocument||n).createElement("link"),Rt(w);var L=w;return L._p=new Promise(function(V,oe){L.onload=V,L.onerror=oe}),tn(w,"link",f),i.state.loading|=4,wl(w,a.precedence,n),i.instance=w;case"script":return w=To(a.src),(g=n.querySelector(Ya(w)))?(i.instance=g,Rt(g),g):(f=a,(g=Bn.get(w))&&(f=y({},a),cf(f,g)),n=n.ownerDocument||n,g=n.createElement("script"),Rt(g),tn(g,"link",f),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,wl(f,a.precedence,n));return i.instance}function wl(n,i,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,w=g,L=0;L<f.length;L++){var V=f[L];if(V.dataset.precedence===i)w=V;else if(w!==g)break}w?w.parentNode.insertBefore(n,w.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function uf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function cf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var xl=null;function wg(n,i,a){if(xl===null){var f=new Map,g=xl=new Map;g.set(a,f)}else g=xl,f=g.get(a),f||(f=new Map,g.set(a,f));if(f.has(n))return f;for(f.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var w=a[g];if(!(w[Zn]||w[qt]||n==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var L=w.getAttribute(i)||"";L=n+L;var V=f.get(L);V?V.push(w):f.set(L,[w])}}return f}function xg(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function _1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Wa=null;function b1(){}function C1(n,i,a){if(Wa===null)throw Error(o(475));var f=Wa;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=xo(a.href),w=n.querySelector(Ja(g));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=Tl.bind(f),n.then(f,f)),i.state.loading|=4,i.instance=w,Rt(w);return}w=n.ownerDocument||n,a=yg(a),(g=Bn.get(g))&&uf(a,g),w=w.createElement("link"),Rt(w);var L=w;L._p=new Promise(function(V,oe){L.onload=V,L.onerror=oe}),tn(w,"link",a),i.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=Tl.bind(f),n.addEventListener("load",i),n.addEventListener("error",i))}}function A1(){if(Wa===null)throw Error(o(475));var n=Wa;return n.stylesheets&&n.count===0&&ff(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&ff(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Tl(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Sl=null;function ff(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Sl=new Map,i.forEach(R1,n),Sl=null,Tl.call(n))}function R1(n,i){if(!(i.state.loading&4)){var a=Sl.get(n);if(a)var f=a.get(null);else{a=new Map,Sl.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var L=g[w];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(a.set(L.dataset.precedence,L),f=L)}f&&a.set(null,f)}g=i.instance,L=g.getAttribute("data-precedence"),w=a.get(L)||f,w===f&&a.set(null,g),a.set(L,g),this.count++,f=Tl.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),w?w.parentNode.insertBefore(g,w.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var $a={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function N1(n,i,a,f,g,w,L,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zn(0),this.hiddenUpdates=zn(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Sg(n,i,a,f,g,w,L,V,oe,ve,Ae,Me){return n=new N1(n,i,a,L,V,oe,ve,Me),i=1,w===!0&&(i|=24),w=_n(3,null,null,i),n.current=w,w.stateNode=n,i=Ku(),i.refCount++,n.pooledCache=i,i.refCount++,w.memoizedState={element:f,isDehydrated:a,cache:i},$u(w),n}function Eg(n){return n?(n=Zi,n):Zi}function _g(n,i,a,f,g,w){g=Eg(g),f.context===null?f.context=g:f.pendingContext=g,f=Gr(i),f.payload={element:a},w=w===void 0?null:w,w!==null&&(f.callback=w),a=zr(n,f,i),a!==null&&(Nn(a,n,i),ba(a,n,i))}function bg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function df(n,i){bg(n,i),(n=n.alternate)&&bg(n,i)}function Cg(n){if(n.tag===13){var i=Xi(n,67108864);i!==null&&Nn(i,n,67108864),df(n,67108864)}}var El=!0;function D1(n,i,a,f){var g=le.T;le.T=null;var w=ae.p;try{ae.p=2,hf(n,i,a,f)}finally{ae.p=w,le.T=g}}function M1(n,i,a,f){var g=le.T;le.T=null;var w=ae.p;try{ae.p=8,hf(n,i,a,f)}finally{ae.p=w,le.T=g}}function hf(n,i,a,f){if(El){var g=pf(f);if(g===null)Qc(n,i,f,_l,a),Rg(n,f);else if(k1(g,n,i,a,f))f.stopPropagation();else if(Rg(n,f),i&4&&-1<I1.indexOf(n)){for(;g!==null;){var w=fr(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var L=cn(w.pendingLanes);if(L!==0){var V=w;for(V.pendingLanes|=2,V.entangledLanes|=2;L;){var oe=1<<31-Ze(L);V.entanglements[1]|=oe,L&=~oe}rr(w),(pt&6)===0&&(sl=v()+500,Va(0))}}break;case 13:V=Xi(w,2),V!==null&&Nn(V,w,2),ul(),df(w,2)}if(w=pf(f),w===null&&Qc(n,i,f,_l,a),w===g)break;g=w}g!==null&&f.stopPropagation()}else Qc(n,i,f,null,a)}}function pf(n){return n=bt(n),mf(n)}var _l=null;function mf(n){if(_l=null,n=Ur(n),n!==null){var i=c(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=d(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return _l=n,null}function Ag(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(T()){case A:return 2;case X:return 8;case ne:case j:return 32;case ge:return 268435456;default:return 32}default:return 32}}var gf=!1,ei=null,ti=null,ni=null,Xa=new Map,Za=new Map,ri=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(n,i){switch(n){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Xa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(i.pointerId)}}function ja(n,i,a,f,g,w){return n===null||n.nativeEvent!==w?(n={blockedOn:i,domEventName:a,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},i!==null&&(i=fr(i),i!==null&&Cg(i)),n):(n.eventSystemFlags|=f,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function k1(n,i,a,f,g){switch(i){case"focusin":return ei=ja(ei,n,i,a,f,g),!0;case"dragenter":return ti=ja(ti,n,i,a,f,g),!0;case"mouseover":return ni=ja(ni,n,i,a,f,g),!0;case"pointerover":var w=g.pointerId;return Xa.set(w,ja(Xa.get(w)||null,n,i,a,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Za.set(w,ja(Za.get(w)||null,n,i,a,f,g)),!0}return!1}function Ng(n){var i=Ur(n.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){n.blockedOn=i,Jt(n.priority,function(){if(a.tag===13){var f=Rn();f=Bi(f);var g=Xi(a,f);g!==null&&Nn(g,a,f),df(a,f)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function bl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=pf(n.nativeEvent);if(a===null){a=n.nativeEvent;var f=new a.constructor(a.type,a);st=f,a.target.dispatchEvent(f),st=null}else return i=fr(a),i!==null&&Cg(i),n.blockedOn=a,!1;i.shift()}return!0}function Dg(n,i,a){bl(n)&&a.delete(i)}function U1(){gf=!1,ei!==null&&bl(ei)&&(ei=null),ti!==null&&bl(ti)&&(ti=null),ni!==null&&bl(ni)&&(ni=null),Xa.forEach(Dg),Za.forEach(Dg)}function Cl(n,i){n.blockedOn===i&&(n.blockedOn=null,gf||(gf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,U1)))}var Al=null;function Mg(n){Al!==n&&(Al=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Al===n&&(Al=null);for(var i=0;i<n.length;i+=3){var a=n[i],f=n[i+1],g=n[i+2];if(typeof f!="function"){if(mf(f||a)===null)continue;break}var w=fr(a);w!==null&&(n.splice(i,3),i-=3,pc(w,{pending:!0,data:g,method:a.method,action:f},f,g))}}))}function Qa(n){function i(oe){return Cl(oe,n)}ei!==null&&Cl(ei,n),ti!==null&&Cl(ti,n),ni!==null&&Cl(ni,n),Xa.forEach(i),Za.forEach(i);for(var a=0;a<ri.length;a++){var f=ri[a];f.blockedOn===n&&(f.blockedOn=null)}for(;0<ri.length&&(a=ri[0],a.blockedOn===null);)Ng(a),a.blockedOn===null&&ri.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var g=a[f],w=a[f+1],L=g[Pt]||null;if(typeof w=="function")L||Mg(a);else if(L){var V=null;if(w&&w.hasAttribute("formAction")){if(g=w,L=w[Pt]||null)V=L.formAction;else if(mf(g)!==null)continue}else V=L.action;typeof V=="function"?a[f+1]=V:(a.splice(f,3),f-=3),Mg(a)}}}function yf(n){this._internalRoot=n}Rl.prototype.render=yf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,f=Rn();_g(a,f,n,i,null,null)},Rl.prototype.unmount=yf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;_g(n.current,2,null,n,null,null),ul(),i[Xn]=null}};function Rl(n){this._internalRoot=n}Rl.prototype.unstable_scheduleHydration=function(n){if(n){var i=vs();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ri.length&&i!==0&&i<ri[a].priority;a++);ri.splice(a,0,n),a===0&&Ng(n)}};var Ig=e.version;if(Ig!=="19.1.1")throw Error(o(527,Ig,"19.1.1"));ae.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var L1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Le=Nl.inject(L1),Pe=Nl}catch{}}return ts.createRoot=function(n,i){if(!s(n))throw Error(o(299));var a=!1,f="",g=Wp,w=$p,L=Xp,V=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(V=i.unstable_transitionCallbacks)),i=Sg(n,1,!1,null,null,a,f,g,w,L,V,null),n[Xn]=i.current,jc(n),new yf(i)},ts.hydrateRoot=function(n,i,a){if(!s(n))throw Error(o(299));var f=!1,g="",w=Wp,L=$p,V=Xp,oe=null,ve=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(w=a.onUncaughtError),a.onCaughtError!==void 0&&(L=a.onCaughtError),a.onRecoverableError!==void 0&&(V=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(oe=a.unstable_transitionCallbacks),a.formState!==void 0&&(ve=a.formState)),i=Sg(n,1,!0,i,a??null,f,g,w,L,V,oe,ve),i.context=Eg(null),a=i.current,f=Rn(),f=Bi(f),g=Gr(f),g.callback=null,zr(a,g,f),a=f,i.current.lanes=a,It(i,a),rr(i),n[Xn]=i.current,jc(n),new Rl(i)},ts.version="19.1.1",ts}var Vg;function K1(){if(Vg)return xf.exports;Vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xf.exports=H1(),xf.exports}var J1=K1();const Y1=Ov(J1),_f=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",W1=t=>{if(!t)return"";try{const e=new Date(t),o=Math.round((new Date().getTime()-e.getTime())/1e3);if(o<2)return"agora";if(o<60)return`${o}s atrás`;const s=Math.round(o/60);if(s<60)return`${s}m atrás`;const c=Math.round(s/60);if(c<24)return`${c}h atrás`;const d=Math.round(c/24);return d<=7?`${d}d atrás`:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}).format(e)}catch{return""}},qg=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"})}),$1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Hg=({isCollapsed:t})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transition-transform duration-200 ${t?"-rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),X1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Z1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),j1=({width:t,title:e,documents:r,categories:o,activeDocumentId:s,onSelectDocument:c,onUpdateCategoryName:d,onUpdateDocumentTitle:h,onReorderDocuments:p,onReorderCategories:m,onFindReferences:y,totalWordCount:x,searchQuery:S,onSearchChange:E,searchResults:D,onSelectSearchResult:C})=>{const[U,R]=Ie.useState(null),[I,P]=Ie.useState(""),[H,q]=Ie.useState({}),[ce,se]=Ie.useState(!1),[de,G]=Ie.useState(null),Te=ee=>{q($=>({...$,[ee]:!$[ee]}))},Re=ee=>{const $=r.find(N=>N.id===ee),M=$==null?void 0:$.content.some(N=>N.type==="heading");s===ee?M&&se(N=>!N):(c(ee),se(!1))},Z=(ee,$,M)=>{R({type:ee,id:$}),P(M)},pe=()=>{R(null),P("")},B=()=>{if(!U||!I.trim()){pe();return}U.type==="category"?d(U.id,I):U.type==="document"&&h(U.id,I),pe()},he=ee=>{ee.key==="Enter"?B():ee.key==="Escape"&&pe()},le=()=>{G(null)},ae=(ee,$)=>{ee.dataTransfer.setData("application/json",JSON.stringify({type:"doc",id:$})),ee.dataTransfer.effectAllowed="move",setTimeout(()=>G({type:"doc",id:$}),0)},Ce=ee=>{ee.preventDefault(),(de==null?void 0:de.type)==="doc"&&ee.currentTarget.classList.add("bg-gray-700/50")},ue=ee=>{ee.currentTarget.classList.remove("bg-gray-700/50")},K=(ee,$)=>{ee.preventDefault(),ee.currentTarget.classList.remove("bg-gray-700/50");try{const M=JSON.parse(ee.dataTransfer.getData("application/json"));M.type==="doc"&&M.id&&M.id!==$&&p(M.id,$)}catch(M){console.error(M)}G(null)},J=(ee,$)=>{ee.dataTransfer.setData("application/json",JSON.stringify({type:"category",name:$})),ee.dataTransfer.effectAllowed="move",setTimeout(()=>G({type:"category",id:$}),0)},O=ee=>{ee.preventDefault(),(de==null?void 0:de.type)==="category"&&ee.currentTarget.classList.add("bg-gray-700/50")},Y=ee=>{ee.currentTarget.classList.remove("bg-gray-700/50")},Q=(ee,$)=>{ee.preventDefault(),ee.stopPropagation(),ee.currentTarget.classList.remove("bg-gray-700/50");try{const M=JSON.parse(ee.dataTransfer.getData("application/json"));M.type==="category"&&M.name&&M.name!==$&&m(M.name,$)}catch(M){console.error(M)}G(null)};return _.jsxs("aside",{style:{width:`${t}px`},className:"bg-gray-800 text-white flex flex-col h-full border-r border-gray-700 flex-shrink-0 transition-all duration-300 overflow-hidden",children:[_.jsxs("div",{className:"p-4 border-b border-gray-700",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:e}),_.jsxs("div",{className:"relative text-gray-400 focus-within:text-gray-100",children:[_.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:_.jsx(X1,{})}),_.jsx("input",{type:"text",placeholder:"Pesquisar documentos...",value:S,onChange:ee=>E(ee.target.value),className:"w-full pl-10 pr-10 py-2 bg-gray-900 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),S&&_.jsx("button",{onClick:()=>E(""),className:"absolute inset-y-0 right-0 flex items-center pr-3","aria-label":"Clear search",children:_.jsx(Z1,{})})]})]}),_.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:S?_.jsx("div",{children:D.length>0?_.jsx("ul",{className:"space-y-2",children:D.map(ee=>_.jsx("li",{children:_.jsxs("button",{onClick:()=>C(ee.docId,ee.viewMode),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[_.jsx("div",{className:"font-semibold text-indigo-400",children:ee.docTitle}),_.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:[ee.category," (",ee.viewMode.toUpperCase(),")"]}),_.jsx("div",{className:"space-y-1 text-sm text-gray-400 italic",children:ee.snippets.slice(0,3).map(($,M)=>_.jsx("div",{className:"truncate text-ellipsis",children:$},M))})]})},ee.docId))}):_.jsx("div",{className:"text-center text-gray-500 p-4",children:"Nenhum resultado encontrado."})}):o.map(ee=>{const $=r.filter(W=>W.category===ee);if($.length===0)return null;const M=(U==null?void 0:U.type)==="category"&&U.id===ee,N=!!H[ee],te=(de==null?void 0:de.type)==="category"&&de.id===ee;return _.jsxs("div",{className:`transition-opacity ${te?"opacity-30":""}`,children:[_.jsx("div",{className:"group flex items-center justify-between mb-2 rounded-md",draggable:!M,onDragStart:M?void 0:W=>J(W,ee),onDragEnd:M?void 0:le,onDragOver:M?void 0:O,onDragLeave:M?void 0:Y,onDrop:M?void 0:W=>Q(W,ee),style:{cursor:M?"default":"grab"},children:M?_.jsx("input",{type:"text",value:I,onChange:W=>P(W.target.value),onBlur:B,onKeyDown:he,autoFocus:!0,className:"w-full bg-gray-900 text-sm font-bold text-indigo-300 uppercase tracking-wider p-1 rounded border border-indigo-500 outline-none"}):_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>Te(ee),className:"flex items-center flex-grow text-left text-sm font-bold text-indigo-400 uppercase tracking-wider p-1 -ml-1 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 group","aria-expanded":!N,"aria-controls":`category-section-${_f(ee)}`,children:[_.jsx(Hg,{isCollapsed:N}),_.jsx("span",{className:"ml-1 group-hover:text-indigo-300 transition-colors",children:ee})]}),_.jsx("button",{onClick:()=>Z("category",ee,ee),className:"text-gray-500 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1 ml-2 flex-shrink-0","aria-label":`Edit category ${ee}`,children:_.jsx(qg,{})})]})}),!N&&_.jsx("ul",{id:`category-section-${_f(ee)}`,className:"space-y-1 pl-4 border-l border-gray-600 ml-1.5",children:$.map(W=>{const z=(U==null?void 0:U.type)==="document"&&U.id===W.id,F=s===W.id,ie=W.content.some(re=>re.type==="heading"),b=(de==null?void 0:de.type)==="doc"&&de.id===W.id;return _.jsxs("li",{draggable:!z,onDragStart:z?void 0:re=>ae(re,W.id),onDragEnd:z?void 0:le,onDragOver:z?void 0:Ce,onDragLeave:z?void 0:ue,onDrop:z?void 0:re=>K(re,W.id),className:`rounded-md transition-opacity ${b?"opacity-30":""}`,children:[_.jsx("div",{className:`group flex items-center justify-between w-full pr-1 transition-colors duration-200 rounded-md ${F?"bg-indigo-600":"hover:bg-gray-700"}`,children:z?_.jsx("input",{type:"text",value:I,onChange:re=>P(re.target.value),onBlur:B,onKeyDown:he,autoFocus:!0,className:"w-full bg-gray-900 text-sm px-3 py-2 rounded-md border border-indigo-500 outline-none"}):_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>Re(W.id),className:`flex items-start flex-grow text-left px-3 py-2 text-sm w-full rounded-l-md ${F?"font-semibold":"text-gray-300 group-hover:text-white"}`,style:{cursor:"grab"},"aria-expanded":F&&ie?!ce:void 0,"aria-controls":F&&ie?`doc-headings-${W.id}`:void 0,children:[_.jsx("span",{className:"w-4 mr-1 flex-shrink-0 mt-1",children:F&&ie&&_.jsx(Hg,{isCollapsed:ce})}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("span",{className:"block truncate",title:W.title,children:W.title}),F&&W.lastEdited&&_.jsx("div",{className:"text-xs font-normal text-indigo-200/80 -mt-0.5",children:W1(W.lastEdited)})]})]}),_.jsxs("div",{className:"flex items-center flex-shrink-0",children:[_.jsx("button",{onClick:()=>y(W.id),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Find references for ${W.title}`,title:`Encontrar referências para ${W.title}`,children:_.jsx($1,{})}),_.jsx("button",{onClick:()=>Z("document",W.id,W.title),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Edit title for ${W.title}`,children:_.jsx(qg,{})})]})]})}),F&&ie&&!ce&&_.jsx("ul",{id:`doc-headings-${W.id}`,className:"pl-4 mt-1 space-y-1 border-l border-gray-600 ml-3",children:W.content.filter(re=>re.type==="heading").map((re,k)=>{const v=_f(re.text),T=A=>{switch(A){case 1:return"pl-3";case 2:return"pl-6";case 3:return"pl-9";default:return"pl-3"}};return _.jsx("li",{children:_.jsx("a",{href:`#${v}`,onClick:A=>{A.preventDefault();const X=document.getElementById(v);X&&X.scrollIntoView({behavior:"smooth"})},className:`block w-full text-left py-1 text-xs text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors ${T(re.level)}`,children:re.text})},`${W.id}-heading-${k}`)})})]},W.id)})})]},ee)})}),_.jsx("footer",{className:"p-4 border-t border-gray-700",children:_.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[_.jsx("div",{className:"font-semibold uppercase tracking-wider",children:"Tamanho Total"}),_.jsxs("div",{className:"text-lg font-bold text-white",children:[x.toLocaleString("pt-BR")," palavras"]}),_.jsxs("div",{className:"text-gray-500",children:["~",Math.round(x/.75).toLocaleString("pt-BR")," tokens estimados"]})]})})]})},Fv=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),Q1=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Gv=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 48 48",children:[_.jsx("path",{fill:"#4CAF50",d:"M32.4,18.3l-7.4-12.8L10.3,34.4l7.4,12.8L32.4,18.3z"}),_.jsx("path",{fill:"#FFC107",d:"M10.3,12.8L2.9,25.6l14.7,8.5l7.4-12.8L10.3,12.8z"}),_.jsx("path",{fill:"#2196F3",d:"M45.1,25.6L32.4,47.2l-7.4-12.8L40,12.8L45.1,25.6z"})]}),eS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),tS=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4-2.245 4.5 4.5 0 118.4-2.475c0 1.039-.44 2.002-1.215 2.754a3 3 0 00-1.008 2.836z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 5.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z"})]}),nS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456l1.178.398-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),rS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),zv=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3v18M3 3h9M3 12h9m-9 9h9M15 3h6m-3 0v18"})}),iS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),oS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12M8.25 17.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),aS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),sS=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})]}),lS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:_.jsx("path",{fillRule:"evenodd",d:"M9.191 2.992c.213.385.418.77.615 1.156a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038zM3 9.75A.75.75 0 013.75 9h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 9.75zm16.491-6.758a.75.75 0 011.107-.038 8.25 8.25 0 011.538 3.327c.079.316.153.636.223.959a.75.75 0 01-.58.871 8.25 8.25 0 00-3.612-.387l-.054.022a.75.75 0 11-.84-1.01c.197-.386.402-.77.615-1.156zM18 9.75a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm-9.841 7.242a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038c.213.385.418.77.615 1.156zm8.682 1.01a.75.75 0 00.84-1.01c-.197-.386-.402-.77-.615-1.156a.75.75 0 00-1.107-.038 8.25 8.25 0 00-1.538 3.327c-.079.316-.153.636-.223.959a.75.75 0 00.58.871 8.25 8.25 0 013.612-.387l.054.022z",clipRule:"evenodd"})}),uS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),cS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),zd=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),fS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),dS=()=>_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 p-8",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Welcome to your GDD"}),_.jsx("p",{className:"mt-2 max-w-md",children:'Select a document from the sidebar to view its content, or use the "Integrate New Idea" button to add new concepts with the help of AI.'})]}),bf=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",ns=({onClick:t})=>_.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Editar texto",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),hS=({onClick:t})=>_.jsx("button",{onClick:t,className:"heading-level-button p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Alterar nível do título",children:_.jsx(zv,{})}),So=({onClick:t})=>_.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-red-600 hover:text-white transition-all",title:"Apagar bloco",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),Kg=({onClick:t})=>_.jsx("div",{className:"absolute inset-x-0 -top-4 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10",children:_.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md",title:"Adicionar bloco",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})}),pS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),mS=({document:t,allDocuments:e,onNavigate:r,onRefineRequest:o,onFindReferences:s,onUpdateBlock:c,onUpdateBlockContent:d,onSetContent:h,scrollToHeading:p,onDidScrollToHeading:m,onOpenImageGenerationModal:y,docSearchQuery:x,docSearchCurrentIndex:S,onDocSearchResultsChange:E})=>{const[D,C]=Ie.useState(null),[U,R]=Ie.useState(null),[I,P]=Ie.useState(null),[H,q]=Ie.useState(""),ce=Ie.useRef(null),se=Ie.useRef(null),[de,G]=Ie.useState(null),[Te,Re]=Ie.useState(0),[Z,pe]=Ie.useState(null),[B,he]=Ie.useState([]),le=F=>F?F.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"";Ie.useEffect(()=>{if(!x.trim()||!t){he([]),E(0);return}const F=le(x);if(!F)return;const ie=[],b=(re,k)=>{if(!re)return;const v=le(re);let T=0;for(;(T=v.indexOf(F,T))!==-1;)ie.push({blockIndex:ie.length,itemIndex:k,start:T,end:T+x.length,ref:fs.createRef()}),T+=1};t.content.forEach((re,k)=>{const v=ie.length;re.type==="heading"||re.type==="paragraph"||re.type==="blockquote"?b(re.text):re.type==="list"&&Array.isArray(re.items)&&typeof re.items[0]=="string"?re.items.forEach((T,A)=>b(T,A)):re.type==="definition_list"&&Array.isArray(re.items)?re.items.forEach((T,A)=>{b(T.term,`dl-${A}-term`),b(T.description,`dl-${A}-desc`)}):re.type==="image"&&b(re.caption);for(let T=v;T<ie.length;T++)ie[T].blockIndex=k}),he(ie),E(ie.length)},[x,t,E]),Ie.useEffect(()=>{var F;S!==-1&&B[S]&&((F=B[S].ref.current)==null||F.scrollIntoView({behavior:"smooth",block:"center"}))},[S,B]),Ie.useEffect(()=>{if(p&&t){const F=window.document.getElementById(p);F&&(F.scrollIntoView({behavior:"smooth",block:"start"}),F.classList.add("highlight-scroll"),setTimeout(()=>{F.classList.remove("highlight-scroll")},2e3)),m()}},[p,t,m]),Ie.useEffect(()=>{const F=ie=>{D&&ie.target instanceof Element&&!ie.target.closest(".refine-popup")&&C(null),U&&ie.target instanceof Element&&!ie.target.closest(".heading-level-popup, .heading-level-button")&&R(null),de&&ie.target instanceof Element&&!ie.target.closest(".add-block-menu")&&G(null)};return window.document.addEventListener("mousedown",F),()=>{window.document.removeEventListener("mousedown",F)}},[D,U,de]);const ae=()=>{var ie;if(!t||I)return;const F=window.getSelection();if(F&&!F.isCollapsed&&F.rangeCount>0){const b=F.getRangeAt(0);let re=b.startContainer.parentElement;if(!((ie=ce.current)!=null&&ie.contains(re))){C(null);return}const k=re==null?void 0:re.closest("[data-block-index]");if(!k){C(null);return}const v=k.getAttribute("data-block-index");if(!v)return;const T=parseInt(v,10),A=t.content[T];let X,ne="";if(A.type==="list"&&"items"in A&&Array.isArray(A.items)&&typeof A.items[0]=="string"){const De=re==null?void 0:re.closest("[data-item-index]");if(De){const be=De.getAttribute("data-item-index");be&&(X=parseInt(be,10),ne=A.items[X])}else{C(null);return}}else if(A.type==="heading"||A.type==="paragraph"||A.type==="blockquote")ne=A.text;else if(A.type==="image")ne=A.caption;else{C(null);return}if(!ne){C(null);return}const j=b.getBoundingClientRect(),ge=ce.current.getBoundingClientRect();C({top:j.top-ge.top-40,left:j.left-ge.left+j.width/2-16,docId:t.id,blockIndex:T,itemIndex:X,text:ne})}else D&&setTimeout(()=>C(null),100)},Ce=(F,ie,b)=>{C(null),P({blockIndex:F,itemIndex:b}),q(ie)},ue=()=>{P(null),q("")},K=()=>{!t||I===null||(c(t.id,I.blockIndex,H,I.itemIndex),ue())},J=F=>{if(!t)return;const ie=t.content.filter((b,re)=>re!==F);h(t.id,ie)},O=(F,ie)=>{F.preventDefault();const b=F.currentTarget.getBoundingClientRect(),re=ce.current.getBoundingClientRect();G({index:ie,top:b.top-re.top-45,left:b.left-re.left+b.width/2})},Y=(F,ie)=>{var v;if(!t)return;if(F==="image"){Re(ie),(v=se.current)==null||v.click(),G(null);return}if(F==="generate-image-ai"){y(t.id,ie),G(null);return}let b=null,re,k;switch(F){case"heading":b={type:"heading",level:2,text:"Novo Título"},re=b.text;break;case"paragraph":b={type:"paragraph",text:"Novo parágrafo."},re=b.text;break;case"list":b={type:"list",style:"unordered",items:["Item 1","Item 2"]},re=b.items[0],k=0;break;case"blockquote":b={type:"blockquote",text:"Citação."},re=b.text;break}if(b){const T=[...t.content];T.splice(ie,0,b),h(t.id,T),re!==void 0&&setTimeout(()=>Ce(ie,re,k),50)}G(null)},Q=F=>{var re;const ie=(re=F.target.files)==null?void 0:re[0];if(!ie||!t)return;const b=new FileReader;b.onload=k=>{var T;const v=(T=k.target)==null?void 0:T.result;if(v){const A={type:"image",id:`img-${Date.now()}`,src:v,caption:"Insira uma legenda para a imagem."},X=[...t.content];X.splice(Te,0,A),h(t.id,X),setTimeout(()=>Ce(Te,A.caption),50)}},b.readAsDataURL(ie),F.target&&(F.target.value="")},ee=(F,ie,b)=>{const re=F.currentTarget.getBoundingClientRect(),k=ce.current.getBoundingClientRect();R({top:re.bottom-k.top+4,left:re.left-k.left,blockIndex:ie,currentLevel:b})},{docTitleMap:$,headingMap:M}=Ie.useMemo(()=>{const F=new Map,ie=new Map;return e.forEach(b=>{F.set(b.title.toLowerCase(),b.id),b.content.forEach(re=>{re.type==="heading"&&re.text&&(ie.has(re.text.toLowerCase())||ie.set(re.text.toLowerCase(),{docId:b.id,slug:bf(re.text)}))})}),{docTitleMap:F,headingMap:ie}},[e]),N=(F,ie,b)=>{if(!F)return[];const re=[],k=/\[\[(.*?)\]\]/g;let v;for(;(v=k.exec(F))!==null;)re.push({start:v.index,end:v.index+v[0].length,type:"link",data:v[0]});B.filter(j=>j.blockIndex===ie&&j.itemIndex===b).forEach(j=>{const ge=B.findIndex(De=>De===j);re.push({start:j.start,end:j.end,type:ge===S?"active-highlight":"highlight",data:F.substring(j.start,j.end),ref:j.ref})});const A=re.filter((j,ge,De)=>j.type.includes("highlight")?!De.some(be=>be.type==="link"&&j.start>=be.start&&j.end<=be.end):!0);if(A.length===0)return[F];A.sort((j,ge)=>j.start-ge.start);const X=[];let ne=0;return A.forEach((j,ge)=>{j.start>ne&&X.push(F.substring(ne,j.start));const De=j.data;if(j.type==="link"){const be=De.slice(2,-2);let Le=be,Pe=be,Ve=!1;if(be.includes("|")){const Ze=be.split("|");Le=Ze[0],Pe=Ze.slice(1).join("|"),Ve=!0}if(Le.startsWith("img:")){const Ze=Le.substring(4),Dt=t==null?void 0:t.content.find(Mt=>Mt.type==="image"&&Mt.id===Ze);Dt?X.push(_.jsx("span",{onMouseEnter:Mt=>{const St=Mt.currentTarget.getBoundingClientRect();pe({src:Dt.src,top:St.bottom+5,left:St.left})},onMouseLeave:()=>pe(null),className:"text-green-400 font-semibold hover:underline bg-green-900/30 px-1 py-0.5 rounded-sm transition-colors cursor-pointer",children:Ve?Pe:`img:${Ze.slice(-4)}`},`${ge}-imglink`)):X.push(_.jsx("span",{className:"text-red-400 line-through px-1",title:`Imagem não encontrada: "${Ze}"`,children:Ve?Pe:Ze},`${ge}-imglink`))}else{let Ze=Le,Dt;Le.includes("#")&&([Ze,Dt]=Le.split("#",2));const Mt=$.get(Ze.toLowerCase());if(Mt){const St=Dt?bf(Dt):void 0;X.push(_.jsx("button",{onClick:()=>r(Mt,St),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:Pe},`${ge}-link`))}else if(!Dt&&M.has(Ze.toLowerCase())){const St=M.get(Ze.toLowerCase());X.push(_.jsx("button",{onClick:()=>r(St.docId,St.slug),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:Pe},`${ge}-link`))}else X.push(_.jsx("span",{className:"text-red-400 line-through px-1",title:`Link não encontrado: "${Le}"`,children:Pe},`${ge}-link`))}}else X.push(_.jsx("mark",{ref:j.ref,className:j.type==="active-highlight"?"search-highlight-active":"highlight",children:De},`${ge}-highlight`));ne=j.end}),ne<F.length&&X.push(F.substring(ne)),X};if(!t)return _.jsx(dS,{});const te=()=>_.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[_.jsx("button",{onClick:ue,className:"px-3 py-1 text-sm rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),_.jsx("button",{onClick:K,className:"px-3 py-1 text-sm rounded bg-indigo-600 hover:bg-indigo-500",children:"Salvar"})]}),W=F=>{switch(F){case 1:return"text-2xl font-bold text-indigo-400";case 2:return"text-xl font-semibold text-gray-200";case 3:return"text-lg font-medium text-gray-300";default:return"text-2xl font-bold text-indigo-400"}},z=({state:F,onAddBlock:ie})=>{const b=Ie.useRef(null),re=[{type:"heading",title:"Título",icon:_.jsx(zv,{})},{type:"paragraph",title:"Parágrafo",icon:_.jsx(iS,{})},{type:"list",title:"Lista",icon:_.jsx(oS,{})},{type:"blockquote",title:"Citação",icon:_.jsx(lS,{})},{type:"image",title:"Imagem",icon:_.jsx(aS,{})},{type:"generate-image-ai",title:"Gerar Imagem com IA",icon:_.jsx(sS,{})}];return _.jsx("div",{ref:b,className:"add-block-menu absolute z-20 flex items-center space-x-1 bg-gray-900 border border-gray-700 p-1 rounded-lg shadow-lg",style:{top:`${F.top}px`,left:`${F.left}px`,transform:"translateX(-50%)"},children:re.map(k=>_.jsx("button",{title:k.title,onClick:()=>ie(k.type,F.index),className:"p-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors",children:k.icon},k.type))})};return _.jsxs("div",{className:"p-8 lg:p-12 prose prose-invert prose-lg max-w-4xl mx-auto relative",ref:ce,onMouseUp:ae,children:[_.jsx("input",{type:"file",accept:"image/*",ref:se,onChange:Q,className:"hidden"}),Z&&_.jsx("div",{className:"fixed z-50 p-1 bg-gray-900 border border-gray-600 rounded-md shadow-lg",style:{top:Z.top,left:Z.left,pointerEvents:"none"},children:_.jsx("img",{src:Z.src,alt:"Preview",className:"max-w-xs max-h-48 rounded-sm"})}),D&&_.jsx("button",{className:"refine-popup absolute z-20 bg-yellow-400 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center shadow-lg hover:bg-yellow-300 transition-all scale-100 hover:scale-110",style:{top:`${D.top}px`,left:`${D.left}px`},onClick:()=>{o(D.docId,D.blockIndex,D.text,D.itemIndex),C(null)},title:"Aprimorar texto com IA",children:"✨"}),de&&_.jsx(z,{state:de,onAddBlock:Y}),U&&_.jsx("div",{className:"heading-level-popup absolute z-30 bg-gray-700 rounded-md shadow-lg p-1 flex flex-col",style:{top:`${U.top}px`,left:`${U.left}px`},children:[1,2,3].map(F=>_.jsxs("button",{onClick:()=>{d(t.id,U.blockIndex,{level:F}),R(null)},className:`text-left text-sm px-3 py-1 rounded-sm transition-colors ${U.currentLevel===F?"bg-indigo-600 text-white":"hover:bg-gray-600 text-gray-200"}`,children:["Título ",F]},F))}),_.jsxs("div",{className:"mb-8 pb-4 border-b border-gray-700",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("p",{className:"text-indigo-400 font-semibold",children:t.category}),_.jsxs("button",{onClick:()=>s(t.id),className:"flex items-center space-x-2 text-sm text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md px-2 py-1 transition-colors",title:"Encontrar menções a este documento",children:[_.jsx(pS,{}),_.jsx("span",{children:"Encontrar Referências"})]})]}),_.jsx("h1",{className:"text-4xl font-extrabold text-white !mb-0",children:t.title})]}),_.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[Array.isArray(t.content)&&t.content.map((F,ie)=>{if(!F)return null;const b=()=>{switch(F.type){case"heading":{const re=(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===void 0,k=bf(F.text);return re?_.jsxs("div",{className:"mt-4 mb-2",children:[_.jsx("textarea",{value:H,onChange:v=>q(v.target.value),className:`w-full p-2 bg-gray-900 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 ${W(F.level)}`,rows:1,autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("div",{className:"group relative",children:[!I&&_.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[_.jsx(hS,{onClick:v=>ee(v,ie,F.level)}),_.jsx(ns,{onClick:()=>Ce(ie,F.text)}),_.jsx(So,{onClick:()=>J(ie)})]}),(()=>{const v={id:k,"data-block-index":ie,className:"scroll-mt-24"},T=N(F.text,ie);switch(F.level){case 1:return _.jsx("h2",{...v,className:`${v.className} text-indigo-400 border-b border-gray-700 pb-2 text-2xl font-bold`,children:T});case 2:return _.jsx("h3",{...v,className:`${v.className} text-xl font-semibold text-gray-200 mt-8 mb-2`,children:T});case 3:return _.jsx("h4",{...v,className:`${v.className} text-lg font-medium text-gray-300 mt-6 mb-1`,children:T});default:return _.jsx("h2",{...v,className:`${v.className} text-indigo-400 border-b border-gray-700 pb-2 text-2xl font-bold`,children:T})}})()]})}case"paragraph":return(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===void 0?_.jsxs("div",{className:"my-4",children:[_.jsx("textarea",{value:H,onChange:k=>q(k.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 leading-relaxed",rows:Math.max(3,H.split(`
`).length),autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("div",{className:"group relative",children:[!I&&_.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[_.jsx(ns,{onClick:()=>Ce(ie,F.text)}),_.jsx(So,{onClick:()=>J(ie)})]}),_.jsx("p",{"data-block-index":ie,children:N(F.text,ie)})]});case"blockquote":return(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===void 0?_.jsxs("div",{className:"my-4",children:[_.jsx("textarea",{value:H,onChange:k=>q(k.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 leading-relaxed",rows:Math.max(3,H.split(`
`).length),autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("div",{className:"group relative",children:[!I&&_.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[_.jsx(ns,{onClick:()=>Ce(ie,F.text)}),_.jsx(So,{onClick:()=>J(ie)})]}),_.jsx("blockquote",{"data-block-index":ie,className:"border-l-4 border-gray-500 pl-4 italic text-gray-400",children:N(F.text,ie)})]});case"list":{const re=F,k=Array.isArray(re.items)?re.items:[];if(k.length===0)return null;const v=re.style==="ordered"?"ol":"ul";return _.jsxs("div",{className:"group relative",children:[!I&&_.jsx("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(So,{onClick:()=>J(ie)})}),_.jsx(v,{"data-block-index":ie,className:"pl-8 space-y-2",children:k.map((T,A)=>{const X=(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===A;return _.jsx("li",{"data-item-index":A,children:X?_.jsxs("div",{className:"my-2",children:[_.jsx("textarea",{value:H,onChange:ne=>q(ne.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500",rows:Math.max(1,H.split(`
`).length),autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("div",{className:"group/item relative",children:[!I&&_.jsx("div",{className:"absolute top-0 -right-8 z-10 opacity-0 group-hover/item:opacity-100 transition-opacity",children:_.jsx(ns,{onClick:()=>Ce(ie,T,A)})}),N(T,ie,A)]})},A)})})]})}case"definition_list":{const re=F,k=Array.isArray(re.items)?re.items:[];return k.length===0?null:_.jsxs("div",{className:"group relative my-4",children:[!I&&_.jsx("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(So,{onClick:()=>J(ie)})}),_.jsx("dl",{"data-block-index":ie,children:k.map((v,T)=>_.jsxs("div",{className:"mb-2",children:[_.jsx("dt",{className:"font-semibold text-gray-200",children:N(v.term,ie,`dl-${T}-term`)}),_.jsx("dd",{className:"ml-4 text-gray-400",children:N(v.description,ie,`dl-${T}-desc`)})]},T))})]})}case"image":return(I==null?void 0:I.blockIndex)===ie&&I.itemIndex===void 0?_.jsxs("figure",{id:F.id,"data-block-index":ie,className:"my-6 not-prose",children:[_.jsx("img",{src:F.src,alt:F.caption,className:"w-full rounded-md shadow-lg"}),_.jsx("textarea",{value:H,onChange:k=>q(k.target.value),className:"w-full mt-2 p-2 bg-gray-900 border border-gray-600 rounded-md text-sm text-center italic",autoFocus:!0}),_.jsx(te,{})]}):_.jsxs("figure",{id:F.id,"data-block-index":ie,className:"my-6 not-prose",children:[_.jsxs("div",{className:"group relative",children:[!I&&_.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[_.jsx(ns,{onClick:()=>Ce(ie,F.caption)}),_.jsx(So,{onClick:()=>J(ie)})]}),_.jsx("img",{src:F.src,alt:F.caption,className:"w-full rounded-md shadow-lg"})]}),_.jsx("figcaption",{className:"text-center text-sm italic text-gray-400 mt-2",children:N(F.caption,ie)})]});default:return null}};return _.jsxs("div",{className:"group relative",children:[_.jsx(Kg,{onClick:re=>O(re,ie)}),b()]},ie)}),Array.isArray(t.content)&&_.jsx("div",{className:"group relative h-8",children:_.jsx(Kg,{onClick:F=>O(F,t.content.length)})})]})]})},gS=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[s,c]=Ie.useState(""),[d,h]=Ie.useState(!1),[p,m]=Ie.useState(65e3),[y,x]=Ie.useState(1e4);if(!t)return null;const S=C=>{C.preventDefault(),s.trim()&&(r(s,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=C=>{const U=parseInt(C.target.value,10);m(U),y>=U&&x(Math.max(0,U-512))},D=C=>{const U=parseInt(C.target.value,10);x(U)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:C=>C.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Integrar Nova Ideia ao ",o]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),_.jsxs("p",{className:"text-gray-400 mb-4",children:["Cole qualquer texto aqui - um novo documento, uma ideia, um parágrafo para adicionar, notas de reunião, etc. A IA irá analisá-lo e sugerir a melhor forma de integrá-lo ao ",o,"."]}),_.jsxs("form",{onSubmit:S,children:[_.jsx("textarea",{value:s,onChange:C=>c(C.target.value),placeholder:"Ex: Vamos adicionar um sistema de criação onde os jogadores podem combinar fragmentos elementais para criar novos feitiços...",className:"w-full h-64 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),_.jsxs("div",{className:"mt-4",children:[_.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configurações Avançadas"]}),d&&_.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"maxOutputTokens",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Saída: ",_.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),_.jsx("input",{id:"maxOutputTokens",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho máximo da resposta da IA. Valores mais altos permitem mudanças mais complexas."})]}),_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"thinkingBudget",className:"block text-sm font-medium text-gray-300",children:["Orçamento de Raciocínio (Thinking Budget): ",_.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),_.jsx("input",{id:"thinkingBudget",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:D,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rápidas, mas de menor qualidade.'})]})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Deixar a IA Integrar"})]})]})]})})},yS=["Corrigir ortografia e gramática","Tornar o texto mais formal","Simplificar a linguagem","Expandir esta ideia","Resumir este ponto"],vS=({isOpen:t,onClose:e,onSubmit:r,initialText:o,contextType:s})=>{const[c,d]=Ie.useState(""),[h,p]=Ie.useState(!1);if(Ie.useEffect(()=>{t&&(d(""),p(!1))},[t]),!t)return null;const m=y=>{y.preventDefault(),c.trim()&&r(c,h)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:y=>y.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-2xl font-bold text-white flex items-center",children:"✨ Aprimorar Texto com IA"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Texto Original:"}),_.jsx("blockquote",{className:"bg-gray-900/50 border-l-4 border-gray-600 p-3 rounded-r-md text-gray-300 max-h-32 overflow-y-auto",children:o})]}),_.jsxs("form",{onSubmit:m,children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Sugestões:"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:yS.map(y=>_.jsx("button",{type:"button",onClick:()=>d(y),className:"px-3 py-1 text-sm bg-gray-700 hover:bg-indigo-600 rounded-full transition-colors",children:y},y))})]}),_.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:"Ou escreva sua própria instrução aqui...",className:"w-full h-24 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),_.jsx("div",{className:"mt-4",children:_.jsxs("label",{className:"flex items-center text-gray-400 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:h,onChange:y=>p(y.target.checked),className:"w-4 h-4 bg-gray-900 border-gray-600 rounded text-indigo-600 focus:ring-indigo-500"}),_.jsxs("span",{className:"ml-2 text-sm select-none",children:["Incluir contexto (enviar todo o ",s," para a IA)"]})]})}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Aprimorar"})]})]})]})})},wS=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[s,c]=Ie.useState(""),[d,h]=Ie.useState(!1),[p,m]=Ie.useState(65e3),[y,x]=Ie.useState(1e4);if(!t)return null;const S=U=>{U.preventDefault(),s.trim()&&(r(s,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=U=>{const R=parseInt(U.target.value,10);m(R),y>=R&&x(Math.max(0,R-512))},D=U=>{const R=parseInt(U.target.value,10);x(R)},C=o==="GDD"?"Ex: Crie uma nova categoria 'Inimigos' e adicione documentos para 'Grunt' e 'Brute' com base na lore existente...":"Ex: Divida o Ato 1 em mais duas missões, focando na introdução da mecânica de furtividade antes do primeiro chefe.";return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:U=>U.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Atualização Global do ",o," com IA"]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),_.jsxs("p",{className:"text-gray-400 mb-4",children:["Forneça uma instrução de alto nível. A IA analisará todo o ",o," e aplicará as mudanças necessárias, como criar novos documentos, atualizar seções existentes e garantir a consistência dos links."]}),_.jsxs("form",{onSubmit:S,children:[_.jsx("textarea",{value:s,onChange:U=>c(U.target.value),placeholder:C,className:"w-full h-48 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"}),_.jsxs("div",{className:"mt-4",children:[_.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-purple-400 hover:text-purple-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configurações Avançadas"]}),d&&_.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"maxOutputTokensGlobal",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Saída: ",_.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),_.jsx("input",{id:"maxOutputTokensGlobal",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho máximo da resposta da IA. Valores mais altos permitem mudanças mais complexas."})]}),_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"thinkingBudgetGlobal",className:"block text-sm font-medium text-gray-300",children:["Orçamento de Raciocínio (Thinking Budget): ",_.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),_.jsx("input",{id:"thinkingBudgetGlobal",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:D,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rápidas, mas de menor qualidade.'})]})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsxs("button",{type:"submit",disabled:!s.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:["Atualizar ",o]})]})]})]})})},xS=({message:t,currentTokens:e,estimatedTokens:r})=>{const o=r&&e&&r>0?e/r*100:0,s=typeof e=="number"&&typeof r=="number"&&r>0;return _.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 text-white",children:[_.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_.jsx("p",{className:"text-xl font-semibold mb-4",children:t}),s&&_.jsxs("div",{className:"w-80 text-center",children:[_.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:_.jsx("div",{className:"bg-indigo-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(o,100)}%`}})}),_.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[e.toLocaleString("pt-BR")," / ",r.toLocaleString("pt-BR")," tokens gerados (estimativa)"]})]})]})},TS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),SS=({isOpen:t,onClose:e,targetDocTitle:r,references:o,onNavigate:s})=>{if(!t)return null;const c=d=>{s(d),e()};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all",onClick:d=>d.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx(TS,{}),_.jsxs("div",{children:[_.jsxs("h2",{className:"text-2xl font-bold text-white",children:['Referências a "',r,'"']}),_.jsxs("p",{className:"text-gray-400 text-sm",children:[o.length," menção(ões) encontrada(s)."]})]})]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),o.length>0?_.jsx("ul",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:o.map((d,h)=>_.jsx("li",{children:_.jsxs("button",{onClick:()=>c(d.docId),className:"w-full text-left bg-gray-900/50 p-4 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[_.jsx("div",{className:"font-semibold text-indigo-400 text-lg",children:d.docTitle}),_.jsx("div",{className:"text-xs text-gray-500 mb-2 uppercase tracking-wider",children:d.category}),_.jsxs("blockquote",{className:"text-gray-300 border-l-2 border-gray-600 pl-3 text-sm italic",children:["...",d.snippet,"..."]})]})},h))}):_.jsx("div",{className:"text-center py-10",children:_.jsx("p",{className:"text-gray-400",children:"Nenhuma referência encontrada para este documento."})})]})})},Jg=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75a7.5 7.5 0 01-7.5-7.5"})]}),ES=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),_S=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v18m-4.5-13.5h9M5.25 6H18.75M8.25 4.5V3.75a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5V4.5m-6 13.5V18a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5v.75"})}),bS=()=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),CS=({isOpen:t,onToggle:e,messages:r,isLoading:o,onSendMessage:s,onClearChat:c})=>{const[d,h]=Ie.useState(""),p=Ie.useRef(null);Ie.useEffect(()=>{var x;(x=p.current)==null||x.scrollIntoView({behavior:"smooth"})},[r,o]);const m=()=>{d.trim()&&!o&&(s(d),h(""))},y=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),m())};return t?_.jsxs("div",{className:"fixed bottom-6 right-6 w-[400px] h-[600px] bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl flex flex-col z-50",children:[_.jsxs("header",{className:"flex items-center justify-between p-4 bg-gray-900/50 rounded-t-2xl border-b border-gray-700",children:[_.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[_.jsx(Jg,{}),_.jsx("span",{className:"ml-2",children:"Consulta Avançada"})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",title:"Limpar chat",disabled:r.length===0,children:_.jsx(_S,{})}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:_.jsx(ES,{})})]})]}),_.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[r.length===0&&_.jsx("div",{className:"text-center text-gray-400 text-sm h-full flex items-center justify-center",children:_.jsx("p",{children:'Faça uma pergunta sobre o GDD ou o Roteiro. Por exemplo: "Qual o loop de gameplay principal?"'})}),r.map((x,S)=>_.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[80%] rounded-xl px-4 py-2 ${x.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-200"}`,children:_.jsx("p",{className:"text-sm whitespace-pre-wrap",children:x.text})})},S)),o&&_.jsx("div",{className:"flex justify-start",children:_.jsx("div",{className:"max-w-[80%] rounded-xl px-4 py-2 bg-gray-700 text-gray-200",children:_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"})]})})}),_.jsx("div",{ref:p})]}),_.jsx("div",{className:"p-4 border-t border-gray-700",children:_.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg pr-2",children:[_.jsx("input",{type:"text",value:d,onChange:x=>h(x.target.value),onKeyPress:y,placeholder:"Pergunte algo...",className:"w-full bg-transparent p-3 text-sm text-gray-200 focus:outline-none",disabled:o}),_.jsx("button",{onClick:m,disabled:!d.trim()||o,className:"p-2 rounded-md text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",children:_.jsx(bS,{})})]})})]}):_.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 bg-indigo-600 text-white rounded-full p-4 shadow-lg hover:bg-indigo-500 transition-transform hover:scale-110 z-50",title:"Consulta Avançada",children:_.jsx(Jg,{})})},AS=({isOpen:t,onClose:e,insight:r})=>{const[o,s]=Ie.useState(!1);if(!t||!r)return null;const{summary:c,thinkingProcess:d,rawJson:h}=r;let p="";try{p=JSON.stringify(JSON.parse(h),null,2)}catch{p="Erro ao formatar JSON: "+h}return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Análise da Última Ação da IA"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),_.jsxs("div",{className:"overflow-y-auto pr-4 -mr-4 space-y-6",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Resumo da IA"}),_.jsxs("p",{className:"bg-gray-900/50 p-3 rounded-md text-gray-300 italic",children:['"',c,'"']})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Processo de Raciocínio"}),_.jsx("ol",{className:"list-decimal list-inside bg-gray-900/50 p-4 rounded-md text-gray-300 space-y-2",children:d.map((m,y)=>_.jsx("li",{children:m},y))})]}),_.jsxs("div",{children:[_.jsxs("button",{onClick:()=>s(!o),className:"text-sm text-teal-400 hover:text-teal-300 focus:outline-none mb-2",children:[o?"Ocultar":"Mostrar"," Saída JSON Bruta"]}),o&&_.jsx("div",{className:"animate-fade-in bg-gray-900 p-4 rounded-md border border-gray-700 max-h-80 overflow-auto",children:_.jsx("pre",{className:"text-xs text-gray-400",children:_.jsx("code",{children:p})})})]})]})]})})},RS=({isOpen:t,onClose:e,onSubmit:r})=>{const[o,s]=Ie.useState("");if(!t)return null;const c=d=>{d.preventDefault(),r(o),s("")};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:d=>d.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerar Imagem com IA"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),_.jsx("p",{className:"text-gray-400 mb-4",children:"Opcionalmente, descreva a cena que você quer gerar. A IA usará o contexto do documento (estilo visual, personagens) para criar um prompt detalhado e gerar uma imagem consistente com o GDD."}),_.jsxs("form",{onSubmit:c,children:[_.jsx("textarea",{value:o,onChange:d=>s(d.target.value),placeholder:"Ex: Kael em uma pose de combate, com seu amuleto brilhando intensamente...",className:"w-full h-40 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 transition-colors",children:"Gerar Imagem"})]})]})]})})},NS=({isOpen:t,onClose:e,onUploadLocal:r,onUploadFromUrl:o,isGoogleAuth:s,onGoogleAuthClick:c})=>{const[d,h]=Ie.useState("");if(!t)return null;const p=m=>{m.preventDefault(),d.trim()&&o(d)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:m=>m.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar GDD & Roteiro"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Do seu computador"}),_.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Carregue um arquivo .json salvo anteriormente a partir desta aplicação."}),_.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md",children:[_.jsx(Fv,{}),_.jsx("span",{className:"ml-2",children:"Escolher Arquivo do Computador"})]})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:_.jsx("div",{className:"w-full border-t border-gray-600"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Ou"})})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"De um link do Google Drive"}),_.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Cole um link compartilhável de um arquivo .json. Arquivos públicos carregarão diretamente."}),_.jsxs("form",{onSubmit:p,className:"flex items-start space-x-2",children:[_.jsxs("div",{className:"flex-grow",children:[_.jsx("input",{type:"url",value:d,onChange:m=>h(m.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),!s&&_.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Para arquivos privados, você precisará"," ",_.jsx("button",{type:"button",onClick:c,className:"text-indigo-400 hover:underline font-semibold",children:"conectar sua conta do Google"}),"."]}),s&&_.jsxs("p",{className:"text-xs text-green-400 mt-1 flex items-center",children:[_.jsx(Gv,{})," ",_.jsx("span",{className:"ml-1",children:"Conectado ao Google. Arquivos privados podem ser carregados."})]})]}),_.jsx("button",{type:"submit",disabled:!d.trim(),className:"px-4 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 transition-colors flex-shrink-0",children:"Carregar"})]})]})]})]})})},DS=({isOpen:t,onClose:e,isClosable:r=!0,initialUrl:o,initialKey:s,onSaveSettings:c,onUploadClick:d,onDownloadClick:h,isSyncing:p,syncStatus:m})=>{const[y,x]=Ie.useState(o),[S,E]=Ie.useState(s),[D,C]=Ie.useState(!1);if(!t)return null;const U=()=>{c(y,S)},R=()=>{r&&e()},I=y&&S,P=m&&(m.toLowerCase().includes("erro")||m.toLowerCase().includes("falha"));return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:R,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-xl transform transition-all animate-dropdown",onClick:H=>H.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[_.jsx(zd,{}),_.jsx("span",{className:"ml-3",children:"Sincronização na Nuvem"})]}),_.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white text-3xl leading-none disabled:text-gray-600 disabled:cursor-not-allowed",disabled:!r,children:"×"})]}),_.jsxs("div",{className:"space-y-6",children:[!r&&_.jsx("div",{className:"p-3 bg-yellow-900/40 border border-yellow-700 rounded-md text-sm text-yellow-300",children:_.jsx("p",{children:"Por favor, insira e salve suas credenciais de sincronização na nuvem para começar a usar a aplicação."})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Configuração"}),_.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Insira os detalhes do seu Worker Cloudflare e a chave de acesso para ativar a sincronização. As informações serão salvas localmente no seu navegador."}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"worker-url",className:"block text-sm font-medium text-gray-300 mb-1",children:"URL do Worker"}),_.jsx("input",{id:"worker-url",type:"url",value:y,onChange:H=>x(H.target.value),placeholder:"https://meu-gdd.meu-usuario.workers.dev",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"access-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chave de Administrador"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"access-key",type:D?"text":"password",value:S,onChange:H=>E(H.target.value),placeholder:"Sua chave secreta",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-10"}),_.jsx("button",{type:"button",onClick:()=>C(!D),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-300",title:D?"Ocultar chave":"Mostrar chave",children:D?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"})}):_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.644l.66-1.229a1.012 1.012 0 000-.644l-.66-1.229a1.012 1.012 0 01.644-1.666l1.229.66a1.012 1.012 0 00.644 0l1.229-.66a1.012 1.012 0 011.666.644l-.66 1.229a1.012 1.012 0 000 .644l.66 1.229a1.012 1.012 0 01-.644 1.666l-1.229-.66a1.012 1.012 0 00-.644 0l-1.229.66a1.012 1.012 0 01-1.666-.644l.66-1.229a1.012 1.012 0 000-.644l-.66-1.229z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})]}),_.jsx("button",{onClick:U,className:"mt-4 w-full px-4 py-2 text-sm font-semibold rounded-md text-white bg-gray-600 hover:bg-gray-500 transition-colors",children:"Salvar Configurações"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:_.jsx("div",{className:"w-full border-t border-gray-600"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Ações"})})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx("button",{onClick:d,disabled:!I||p,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors rounded-md",children:p?"Sincronizando...":"Salvar Versão na Nuvem"}),_.jsx("button",{onClick:h,disabled:!I||p,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors rounded-md",children:p?"Sincronizando...":"Carregar Versão da Nuvem"})]}),!I&&_.jsx("p",{className:"text-xs text-yellow-500 mt-2 text-center",children:"Salve a URL e a Chave para ativar as ações de sincronização."}),m&&_.jsx("p",{className:`text-sm text-center mt-4 p-2 rounded-md ${P?"bg-red-900/50 text-red-300":"bg-green-900/50 text-green-300"}`,children:m})]})]})]})})},MS=({isOpen:t,onClose:e,onConfirm:r,title:o,message:s})=>t?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:c=>c.stopPropagation(),children:[_.jsxs("div",{className:"flex items-start",children:[_.jsx("div",{className:"mr-4 flex-shrink-0",children:_.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-900/50 flex items-center justify-center",children:_.jsx(fS,{})})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:o}),_.jsx("p",{className:"text-gray-400 mt-2",children:s})]})]}),_.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 rounded-md font-semibold text-white bg-yellow-600 hover:bg-yellow-500 transition-colors",children:"Confirmar"})]})]})}):null,IS=({isOpen:t,onClose:e,onSave:r,isSaving:o})=>{const[s,c]=Ie.useState("");if(!t)return null;const d=h=>{h.preventDefault(),s.trim()&&r(s)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:h=>h.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Salvar Versão na Nuvem"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),_.jsx("p",{className:"text-gray-400 mb-4",children:'Dê um nome a esta versão para identificá-la facilmente mais tarde. Ex: "Após a reunião de design".'}),_.jsxs("form",{onSubmit:d,children:[_.jsx("input",{type:"text",value:s,onChange:h=>c(h.target.value),placeholder:"Nome da Versão",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),_.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,disabled:o,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:!s.trim()||o,className:"px-6 py-2 rounded-md font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:o?"Salvando...":"Salvar"})]})]})]})})},kS=t=>{if(!t)return"Data desconhecida";try{const e=new Date(t);return new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return"Data inválida"}},Yg=({title:t,versions:e,onLoadVersion:r})=>_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:t}),e.length>0?_.jsx("ul",{className:"space-y-2",children:e.map(o=>_.jsx("li",{children:_.jsxs("button",{onClick:()=>r(o.id),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.name&&_.jsx("div",{className:"font-semibold text-indigo-400",children:o.name}),_.jsx("div",{className:"text-sm text-gray-400",children:kS(o.timestamp)})]})},o.id))}):_.jsx("p",{className:"text-sm text-gray-500 italic",children:"Nenhuma versão encontrada."})]}),US=({isOpen:t,onClose:e,onLoadVersion:r,versions:o,isLoading:s,error:c})=>t?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all animate-dropdown flex flex-col max-h-[90vh]",onClick:d=>d.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[_.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar Versão da Nuvem"}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),_.jsxs("div",{className:"overflow-y-auto pr-2 -mr-4",children:[s&&_.jsx("p",{className:"text-center text-gray-400",children:"Buscando versões..."}),c&&_.jsx("p",{className:"text-center text-red-400 bg-red-900/50 p-3 rounded-md",children:c}),o&&_.jsxs("div",{className:"space-y-6",children:[_.jsx(Yg,{title:"Versões Manuais",versions:o.manual,onLoadVersion:r}),_.jsx(Yg,{title:"Backups Automáticos",versions:o.automatic,onLoadVersion:r})]})]})]})}):null,LS=t=>{if(!t)return"Data desconhecida";try{const e=new Date(t);return new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return"Data inválida"}},BS=({isOpen:t,onClose:e,onConfirm:r,latestVersion:o})=>!t||!o?null:_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:_.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:s=>s.stopPropagation(),children:[_.jsxs("div",{className:"flex items-start",children:[_.jsx("div",{className:"mr-4 flex-shrink-0",children:_.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-900/50 flex items-center justify-center text-blue-400",children:_.jsx(zd,{})})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:"Atualização Disponível na Nuvem"}),_.jsx("p",{className:"text-gray-400 mt-2",children:"Uma versão mais recente dos seus documentos foi encontrada na nuvem. Deseja carregá-la agora?"}),_.jsxs("div",{className:"mt-4 p-3 bg-gray-900/50 rounded-md border border-gray-700",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-200",children:o.name?`Nome: ${o.name}`:"Backup Automático"}),_.jsxs("p",{className:"text-xs text-gray-500",children:["Salvo em: ",LS(o.timestamp)]})]}),_.jsx("p",{className:"text-xs text-yellow-400 mt-3",children:"Atenção: Carregar esta versão substituirá quaisquer alterações locais não salvas."})]})]}),_.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Ignorar"}),_.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 rounded-md font-semibold text-white bg-blue-600 hover:bg-blue-500 transition-colors",children:"Carregar Versão Mais Recente"})]})]})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PS,OS;function FS(){return{geminiUrl:PS,vertexUrl:OS}}function GS(t,e,r,o){var s,c;if(!(t!=null&&t.baseUrl)){const d=FS();return e?(s=d.vertexUrl)!==null&&s!==void 0?s:r:(c=d.geminiUrl)!==null&&c!==void 0?c:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mi{}function Ge(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(o,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const c=e[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function u(t,e,r){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(r))t[h]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(r))for(let m=0;m<p.length;m++){const y=p[m];u(y,e.slice(c+1),r[m])}else for(const m of p)u(m,e.slice(c+1),r)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];u(p[0],e.slice(c+1),r);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const o=e[e.length-1],s=t[o];if(s!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===s)return;if(typeof s=="object"&&typeof r=="object"&&s!==null&&r!==null)Object.assign(s,r);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=r}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const c=t[s];return Array.isArray(c)?c.map(d=>l(d,e.slice(r+1))):void 0}else return}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wg||(Wg={}));var $g;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})($g||($g={}));var it;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(it||(it={}));var Xg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Xg||(Xg={}));var Zg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Zg||(Zg={}));var jg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(jg||(jg={}));var Qg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Qg||(Qg={}));var ey;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ey||(ey={}));var ty;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ty||(ty={}));var ny;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ny||(ny={}));var ry;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ry||(ry={}));var iy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(iy||(iy={}));var oy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oy||(oy={}));var ay;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(ay||(ay={}));var sy;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sy||(sy={}));var $l;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($l||($l={}));var ly;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ly||(ly={}));var xd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xd||(xd={}));var uy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(uy||(uy={}));var cy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(cy||(cy={}));var fy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(fy||(fy={}));var dy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(dy||(dy={}));var hy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hy||(hy={}));var py;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(py||(py={}));var my;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(my||(my={}));var gy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gy||(gy={}));var yy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(yy||(yy={}));var vy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(vy||(vy={}));var wy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wy||(wy={}));var xy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xy||(xy={}));var Ty;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ty||(Ty={}));var Sy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sy||(Sy={}));var Ey;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ey||(Ey={}));var _y;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_y||(_y={}));var by;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(by||(by={}));var Cy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Cy||(Cy={}));var Ay;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ay||(Ay={}));var Ry;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ry||(Ry={}));var Ny;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ny||(Ny={}));var Dy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dy||(Dy={}));var My;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(My||(My={}));var Iy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Iy||(Iy={}));var ky;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ky||(ky={}));var Uy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Uy||(Uy={}));var Ly;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ly||(Ly={}));var Ao;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ao||(Ao={}));class Td{constructor(e){const r={};for(const o of e.headers.entries())r[o[0]]=o[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class rs{get text(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const x=[];for(const S of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[E,D]of Object.entries(S))E!=="text"&&E!=="thought"&&(D!==null||D!==void 0)&&x.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const x of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,E]of Object.entries(x))S!=="inlineData"&&(E!==null||E!==void 0)&&y.push(S);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,r,o,s,c,d,h,p,m;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,r,o,s,c,d,h,p,m;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class By{}class Py{}class zS{}class VS{}class qS{}class HS{}class Oy{}class Fy{}class Gy{}class KS{}class zy{}class Xl{_fromAPIResponse({apiResponse:e,isVertexAI:r}){const o=new Xl;if(o.name=e.name,o.metadata=e.metadata,o.done=e.done,o.error=e.error,r){const s=e.response;if(s){const c=new zy,d=s.videos;c.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?wd(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),c.raiMediaFilteredCount=s.raiMediaFilteredCount,c.raiMediaFilteredReasons=s.raiMediaFilteredReasons,o.response=c}}else{const s=e.response;if(s){const c=new zy,d=s.generateVideoResponse,h=d==null?void 0:d.generatedSamples;c.generatedVideos=h==null?void 0:h.map(p=>{const m=p.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?wd(m==null?void 0:m.encodedVideo):void 0,mimeType:p.encoding}}}),c.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,c.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,o.response=c}}return o}}class Vy{}class qy{}class Hy{}class JS{}class YS{}class WS{}class Ky{}class $S{get text(){var e,r,o;let s="",c=!1;const d=[];for(const h of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,s+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var e,r,o;let s="";const c=[];for(const d of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&p!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class XS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Vv(t,e){const r=dt(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function qv(t){return Array.isArray(t)?t.map(e=>Zl(e)):[Zl(t)]}function Zl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Hv(t){const e=Zl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Kv(t){const e=Zl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Jv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Jy(e)):[Jy(t)]}function Sd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Yy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Wy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function an(t){if(t==null)throw new Error("ContentUnion is required");return Sd(t)?t:{role:"user",parts:Jv(t)}}function Yv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const o=an(r);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const r=an(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>an(r)):[an(e)]}function On(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Yy(t)||Wy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(t)]}const e=[],r=[],o=Sd(t[0]);for(const s of t){const c=Sd(s);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(s);else{if(Yy(s)||Wy(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(s)}}return o||e.push({role:"user",parts:Jv(r)}),e}function ZS(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(o=>o!=="null");if(r.length===1)e.type=Object.values(it).includes(r[0].toUpperCase())?r[0].toUpperCase():it.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of r)e.anyOf.push({type:Object.values(it).includes(o.toUpperCase())?o.toUpperCase():it.TYPE_UNSPECIFIED})}}function Ro(t){const e={},r=["items"],o=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&ZS(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(it).includes(h.toUpperCase())?h.toUpperCase():it.TYPE_UNSPECIFIED}else if(r.includes(d))e[d]=Ro(h);else if(o.includes(d)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(Ro(m))}e[d]=p}else if(s.includes(d)){const p={};for(const[m,y]of Object.entries(h))p[m]=Ro(y);e[d]=p}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Vd(t){return Ro(t)}function qd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Hd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ro(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ro(e.response));return t}function Ho(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function jS(t,e,r,o=1){const s=!e.startsWith(`${r}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:s?`${r}/${e}`:e}function Dr(t,e){if(typeof e!="string")throw new Error("name must be a string");return jS(t,e,"cachedContents")}function Wv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ii(t){return wd(t)}function QS(t){return t!=null&&typeof t=="object"&&"name"in t}function eE(t){return t!=null&&typeof t=="object"&&"video"in t}function tE(t){return t!=null&&typeof t=="object"&&"uri"in t}function $v(t){var e;let r;if(QS(t)&&(r=t.name),!(tE(t)&&(r=t.uri,r===void 0))&&!(eE(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const s=r.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${r}`);r=s[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Xv(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function Zv(t){for(const e of["models","tunedModels","publisherModels"])if(nE(t,e))return t[e];return[]}function nE(t,e){return t!==null&&typeof t=="object"&&e in t}function rE(t,e={}){const r=t,o={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(o.responseJsonSchema=r.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function iE(t,e={}){const r=[],o=new Set;for(const s of t){const c=s.name;if(o.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);o.add(c);const d=rE(s,e);d.functionDeclarations&&r.push(...d.functionDeclarations)}return{functionDeclarations:r}}function jv(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function oE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ko(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function Qv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function sE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function lE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function uE(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],aE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],sE(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],lE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function ew(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>uE(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function cE(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const C=l(t,["minProperties"]);C!=null&&u(e,["minProperties"],C);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const R=l(t,["nullable"]);R!=null&&u(e,["nullable"],R);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const P=l(t,["properties"]);P!=null&&u(e,["properties"],P);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const se=l(t,["type"]);return se!=null&&u(e,["type"],se),e}function fE(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function dE(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function hE(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function pE(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],hE(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function mE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function gE(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],mE(r)),e}function yE(){return{}}function vE(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function wE(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>dE(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],pE(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],gE(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],yE());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],vE(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function xE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function TE(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function SE(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],TE(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function EE(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],xE(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],SE(o)),e}function _E(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function tw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],_E(r)),e}function bE(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],tw(o)),e}function CE(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>bE(s))),u(e,["speakerVoiceConfigs"],o)}return e}function AE(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],tw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],CE(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function RE(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function NE(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],ew(an(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const C=l(e,["seed"]);C!=null&&u(o,["seed"],C);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const R=l(e,["responseSchema"]);R!=null&&u(o,["responseSchema"],cE(Vd(R)));const I=l(e,["responseJsonSchema"]);if(I!=null&&u(o,["responseJsonSchema"],I),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=l(e,["safetySettings"]);if(r!==void 0&&P!=null){let Re=P;Array.isArray(Re)&&(Re=Re.map(Z=>fE(Z))),u(r,["safetySettings"],Re)}const H=l(e,["tools"]);if(r!==void 0&&H!=null){let Re=Ho(H);Array.isArray(Re)&&(Re=Re.map(Z=>wE(qo(Z)))),u(r,["tools"],Re)}const q=l(e,["toolConfig"]);if(r!==void 0&&q!=null&&u(r,["toolConfig"],EE(q)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=l(e,["cachedContent"]);r!==void 0&&ce!=null&&u(r,["cachedContent"],Dr(t,ce));const se=l(e,["responseModalities"]);se!=null&&u(o,["responseModalities"],se);const de=l(e,["mediaResolution"]);de!=null&&u(o,["mediaResolution"],de);const G=l(e,["speechConfig"]);if(G!=null&&u(o,["speechConfig"],AE(qd(G))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=l(e,["thinkingConfig"]);return Te!=null&&u(o,["thinkingConfig"],RE(Te)),o}function DE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["request","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=On(s);Array.isArray(d)&&(d=d.map(h=>ew(h))),u(r,["request","contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["request","generationConfig"],NE(t,c,r)),r}function ME(t,e){const r={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(e,["fileName"]);o!=null&&u(r,["fileName"],o);const s=l(e,["inlinedRequests"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>DE(t,d))),u(r,["requests","requests"],c)}return r}function IE(t,e){const r={},o=l(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function $y(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["src"]);s!=null&&u(r,["batch","inputConfig"],ME(t,jv(t,s)));const c=l(e,["config"]);return c!=null&&u(r,["config"],IE(c,r)),r}function kE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Ko(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function UE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Ko(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function LE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);if(e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function BE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],LE(r,e)),e}function PE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Ko(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function OE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["instancesFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const s=l(t,["bigqueryUri"]);if(s!=null&&u(e,["bigquerySource","inputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function FE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["predictionsFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const s=l(t,["bigqueryUri"]);if(s!=null&&u(e,["bigqueryDestination","outputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function GE(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["dest"]);return e!==void 0&&s!=null&&u(e,["outputConfig"],FE(oE(s))),r}function zE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],dt(t,o));const s=l(e,["src"]);s!=null&&u(r,["inputConfig"],OE(jv(t,s)));const c=l(e,["config"]);return c!=null&&u(r,["config"],GE(c,r)),r}function VE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Ko(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function qE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Ko(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function HE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function KE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],HE(r,e)),e}function JE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Ko(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function YE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function WE(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $E(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function XE(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],YE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],WE(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],$E(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function ZE(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>XE(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function jE(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function QE(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function e_(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>QE(s))),u(e,["urlMetadata"],o)}return e}function t_(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],ZE(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],jE(o));const s=l(t,["tokenCount"]);s!=null&&u(e,["tokenCount"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],e_(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function n_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>t_(m))),u(e,["candidates"],p)}const s=l(t,["modelVersion"]);s!=null&&u(e,["modelVersion"],s);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function nw(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const s=l(t,["message"]);return s!=null&&u(e,["message"],s),e}function r_(t){const e={},r=l(t,["response"]);r!=null&&u(e,["response"],n_(r));const o=l(t,["error"]);return o!=null&&u(e,["error"],nw(o)),e}function i_(t){const e={},r=l(t,["responsesFile"]);r!=null&&u(e,["fileName"],r);const o=l(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>r_(c))),u(e,["inlinedResponses"],s)}return e}function Hl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["metadata","state"]);s!=null&&u(e,["state"],Qv(s));const c=l(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["metadata","endTime"]);d!=null&&u(e,["endTime"],d);const h=l(t,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const p=l(t,["metadata","model"]);p!=null&&u(e,["model"],p);const m=l(t,["metadata","output"]);return m!=null&&u(e,["dest"],i_(m)),e}function o_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["operations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Hl(d))),u(e,["batchJobs"],c)}return e}function a_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);return c!=null&&u(e,["error"],nw(c)),e}function rw(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const s=l(t,["message"]);return s!=null&&u(e,["message"],s),e}function s_(t){const e={},r=l(t,["instancesFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const s=l(t,["bigquerySource","inputUri"]);return s!=null&&u(e,["bigqueryUri"],s),e}function l_(t){const e={},r=l(t,["predictionsFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const s=l(t,["bigqueryDestination","outputUri"]);return s!=null&&u(e,["bigqueryUri"],s),e}function Ed(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],Qv(s));const c=l(t,["error"]);c!=null&&u(e,["error"],rw(c));const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["startTime"]);h!=null&&u(e,["startTime"],h);const p=l(t,["endTime"]);p!=null&&u(e,["endTime"],p);const m=l(t,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=l(t,["model"]);y!=null&&u(e,["model"],y);const x=l(t,["inputConfig"]);x!=null&&u(e,["src"],s_(x));const S=l(t,["outputConfig"]);return S!=null&&u(e,["dest"],l_(S)),e}function u_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["batchPredictionJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Ed(d))),u(e,["batchJobs"],c)}return e}function c_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);return c!=null&&u(e,["error"],rw(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Di;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Di||(Di={}));class hs{constructor(e,r,o,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,o,s)}init(e,r,o){var s,c;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=r.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f_ extends Mi{constructor(e){super(),this.apiClient=e,this.create=async r=>{var o,s;if(this.apiClient.isVertexAI()){const d=Date.now().toString();if(Array.isArray(r.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(r.config=r.config||{},r.config.displayName===void 0&&(r.config.displayName="genaiBatchJob_${timestampStr}"),r.config.dest===void 0&&typeof r.src=="string")if(r.src.startsWith("gs://")&&r.src.endsWith(".jsonl"))r.config.dest=`${r.src.slice(0,-6)}/dest`;else if(r.src.startsWith("bq://"))r.config.dest=`${r.src}_dest_${d}`;else throw new Error("Unsupported source:"+r.src)}else if(Array.isArray(r.src)||typeof r.src!="string"&&r.src.inlinedRequests){let c="",d={};const h=$y(this.apiClient,r);c=Ge("{model}:batchGenerateContent",h._url),d=h._query;const y=h.batch.inputConfig.requests,x=y.requests,S=[];for(const D of x){const C=D;if(C.systemInstruction){const U=C.systemInstruction;delete C.systemInstruction;const R=C.request;R.systemInstruction=U,C.request=R}S.push(C)}return y.requests=S,delete h.config,delete h._url,delete h._query,this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=r.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=r.config)===null||s===void 0?void 0:s.abortSignal}).then(D=>D.json()).then(D=>Hl(D))}return await this.createInternal(r)},this.list=async(r={})=>new hs(Di.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(r),r)}async createInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=zE(this.apiClient,e);return h=Ge("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Ed(y))}else{const m=$y(this.apiClient,e);return h=Ge("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Hl(y))}}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=VE(this.apiClient,e);return h=Ge("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Ed(y))}else{const m=kE(this.apiClient,e);return h=Ge("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Hl(y))}}async cancel(e){var r,o,s,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=qE(this.apiClient,e);d=Ge("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=UE(this.apiClient,e);d=Ge("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=KE(e);return h=Ge("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=u_(y),S=new Ky;return Object.assign(S,x),S})}else{const m=BE(e);return h=Ge("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=o_(y),S=new Ky;return Object.assign(S,x),S})}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=JE(this.apiClient,e);return h=Ge("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>c_(y))}else{const m=PE(this.apiClient,e);return h=Ge("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>a_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d_(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function h_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function p_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function m_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],d_(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],h_(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],p_(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function Xy(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>m_(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function g_(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function y_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function v_(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],y_(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function w_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function x_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],w_(r)),e}function T_(){return{}}function S_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function E_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>g_(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],v_(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],x_(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],T_());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],S_(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function __(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function b_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function C_(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],b_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function A_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],__(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],C_(o)),e}function R_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&u(e,["expireTime"],s);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let y=On(d);Array.isArray(y)&&(y=y.map(x=>Xy(x))),u(e,["contents"],y)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Xy(an(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(x=>E_(x))),u(e,["tools"],y)}const m=l(t,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],A_(m)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function N_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],Vv(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],R_(s,r)),r}function D_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Dr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function M_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Dr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function I_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&u(e,["expireTime"],s),r}function k_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Dr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],I_(s,r)),r}function U_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function L_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],U_(r,e)),e}function B_(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function P_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function O_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function F_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],B_(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],P_(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],O_(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function Zy(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>F_(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function G_(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function z_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function V_(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],z_(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function q_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function H_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],q_(r)),e}function K_(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function J_(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function Y_(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],J_(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function W_(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],Y_(r)),e}function $_(){return{}}function X_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function Z_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>G_(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],V_(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],H_(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],K_(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],W_(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],$_());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],X_(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function j_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function Q_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function eb(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],Q_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function tb(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],j_(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],eb(o)),e}function nb(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&u(e,["expireTime"],s);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let x=On(d);Array.isArray(x)&&(x=x.map(S=>Zy(S))),u(e,["contents"],x)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Zy(an(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>Z_(S))),u(e,["tools"],x)}const m=l(t,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],tb(m));const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),r}function rb(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],Vv(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],nb(s,r)),r}function ib(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Dr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function ob(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Dr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function ab(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&u(e,["expireTime"],s),r}function sb(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Dr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],ab(s,r)),r}function lb(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function ub(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],lb(r,e)),e}function Kl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["model"]);s!=null&&u(e,["model"],s);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function cb(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function fb(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Kl(d))),u(e,["cachedContents"],c)}return e}function Jl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["model"]);s!=null&&u(e,["model"],s);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function db(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function hb(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Jl(d))),u(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pb extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new hs(Di.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(r),r)}async create(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=rb(this.apiClient,e);return h=Ge("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Jl(y))}else{const m=N_(this.apiClient,e);return h=Ge("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Kl(y))}}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=ib(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Jl(y))}else{const m=D_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Kl(y))}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=ob(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=db(y),S=new qy;return Object.assign(S,x),S})}else{const m=M_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=cb(y),S=new qy;return Object.assign(S,x),S})}}async update(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=sb(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Jl(y))}else{const m=k_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Kl(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=ub(e);return h=Ge("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=hb(y),S=new Hy;return Object.assign(S,x),S})}else{const m=L_(e);return h=Ge("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=fb(y),S=new Hy;return Object.assign(S,x),S})}}}function jy(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(t){return this instanceof Ct?(this.v=t,this):new Ct(t)}function No(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(E){return function(D){return Promise.resolve(D).then(E,x)}}function h(E,D){o[E]&&(s[E]=function(C){return new Promise(function(U,R){c.push([E,C,U,R])>1||p(E,C)})},D&&(s[E]=D(s[E])))}function p(E,D){try{m(o[E](D))}catch(C){S(c[0][3],C)}}function m(E){E.value instanceof Ct?Promise.resolve(E.value.v).then(y,x):S(c[0][2],E)}function y(E){p("next",E)}function x(E){p("throw",E)}function S(E,D){E(D),c.shift(),c.length&&p(c[0][0],c[0][1])}}function ds(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof jy=="function"?jy(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(c){r[c]=t[c]&&function(d){return new Promise(function(h,p){d=t[c](d),s(h,p,d.done,d.value)})}}function s(c,d,h,p){Promise.resolve(p).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:iw(r)}function iw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function gb(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Qy(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let o=0;for(;o<r;)if(t[o].role==="user")e.push(t[o]),o++;else{const s=[];let c=!0;for(;o<r&&t[o].role==="model";)s.push(t[o]),c&&!iw(t[o])&&(c=!1),o++;c?e.push(...s):e.pop()}return e}class yb{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new vb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vb{constructor(e,r,o,s={},c=[]){this.apiClient=e,this.modelsModule=r,this.model=o,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),gb(c)}async sendMessage(e){var r;await this.sendPromise;const o=an(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,d,h;const p=await s,m=(d=(c=p.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=p.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(x))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var r;await this.sendPromise;const o=an(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,o)}getHistory(e=!1){const r=e?Qy(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var o,s;return No(this,arguments,function*(){var d,h,p,m;const y=[];try{for(var x=!0,S=ds(e),E;E=yield Ct(S.next()),d=E.done,!d;x=!0){m=E.value,x=!1;const D=m;if(mb(D)){const C=(s=(o=D.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content;C!==void 0&&y.push(C)}yield yield Ct(D)}}catch(D){h={error:D}}finally{try{!x&&!d&&(p=S.return)&&(yield Ct(p.call(S)))}finally{if(h)throw h.error}}this.recordHistory(r,y)})}recordHistory(e,r,o){let s=[];r.length>0&&r.every(c=>c.role!==void 0)?s=r:s.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Qy(o)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ru extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ru.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wb(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function xb(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],wb(r,e)),e}function Tb(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const s=l(t,["code"]);return s!=null&&u(e,["code"],s),e}function Sb(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["mimeType"]);s!=null&&u(e,["mimeType"],s);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const x=l(t,["downloadUri"]);x!=null&&u(e,["downloadUri"],x);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const D=l(t,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const C=l(t,["error"]);return C!=null&&u(e,["error"],Tb(C)),e}function Eb(t){const e={},r=l(t,["file"]);r!=null&&u(e,["file"],Sb(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function _b(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],$v(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function bb(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],$v(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function Cb(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const s=l(t,["code"]);return s!=null&&u(e,["code"],s),e}function _d(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["mimeType"]);s!=null&&u(e,["mimeType"],s);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const x=l(t,["downloadUri"]);x!=null&&u(e,["downloadUri"],x);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const D=l(t,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const C=l(t,["error"]);return C!=null&&u(e,["error"],Cb(C)),e}function Ab(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>_d(d))),u(e,["files"],c)}return e}function Rb(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function Nb(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Db extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new hs(Di.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>_d(r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xb(e);return c=Ge("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=Ab(p),y=new JS;return Object.assign(y,m),y})}}async createInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Eb(e);return c=Ge("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=Rb(p),y=new YS;return Object.assign(y,m),y})}}async get(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_b(e);return c=Ge("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>_d(p))}}async delete(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bb(e);return c=Ge("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=Nb(p),y=new WS;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mb(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function ow(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],Mb(r)),e}function Ib(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],ow(o)),e}function kb(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ib(s))),u(e,["speakerVoiceConfigs"],o)}return e}function Ub(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],ow(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],kb(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function Lb(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function Bb(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Pb(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ob(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],Lb(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],Bb(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],Pb(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function Fb(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>Ob(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function Gb(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function zb(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function Vb(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],zb(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function qb(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function Hb(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],qb(r)),e}function Kb(){return{}}function Jb(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function Yb(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>Gb(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],Vb(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],Hb(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],Kb());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],Jb(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function Wb(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function e0(){return{}}function $b(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function Xb(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],$b(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function Zb(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function jb(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],Zb(o)),e}function Qb(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function eC(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],Ub(Hd(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],Fb(an(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=Ho(D);Array.isArray(q)&&(q=q.map(ce=>Yb(qo(ce)))),u(e,["setup","tools"],q)}const C=l(t,["sessionResumption"]);e!==void 0&&C!=null&&u(e,["setup","sessionResumption"],Wb(C));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],e0());const R=l(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&u(e,["setup","outputAudioTranscription"],e0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],Xb(I));const P=l(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],jb(P));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],Qb(H)),r}function tC(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],eC(s,r)),r}function nC(){return{}}function rC(){return{}}function iC(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],qv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],Kv(o));const s=l(t,["audioStreamEnd"]);s!=null&&u(e,["audioStreamEnd"],s);const c=l(t,["video"]);c!=null&&u(e,["video"],Hv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],nC()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],rC()),e}function aw(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function oC(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>aw(s))),u(e,["weightedPrompts"],o)}return e}function sw(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const s=l(t,["seed"]);s!=null&&u(e,["seed"],s);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const x=l(t,["muteDrums"]);x!=null&&u(e,["muteDrums"],x);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function aC(t){const e={},r=l(t,["musicGenerationConfig"]);return r!=null&&u(e,["musicGenerationConfig"],sw(r)),e}function lw(t){const e={},r=l(t,["model"]);return r!=null&&u(e,["model"],r),e}function uw(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>aw(s))),u(e,["weightedPrompts"],o)}return e}function bd(t){const e={},r=l(t,["setup"]);r!=null&&u(e,["setup"],lw(r));const o=l(t,["clientContent"]);o!=null&&u(e,["clientContent"],uw(o));const s=l(t,["musicGenerationConfig"]);s!=null&&u(e,["musicGenerationConfig"],sw(s));const c=l(t,["playbackControl"]);return c!=null&&u(e,["playbackControl"],c),e}function sC(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function lC(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],sC(r)),e}function uC(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],lC(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function cC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function fC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function dC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function hC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],cC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],fC(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],dC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function pC(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>hC(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function mC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function gC(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function yC(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],gC(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function vC(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function wC(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],vC(r)),e}function xC(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function TC(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function SC(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],TC(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function EC(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],SC(r)),e}function _C(){return{}}function bC(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function CC(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>mC(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],yC(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],wC(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],xC(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],EC(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],_C());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],bC(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function AC(t){const e={},r=l(t,["handle"]);r!=null&&u(e,["handle"],r);const o=l(t,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function t0(){return{}}function RC(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function NC(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],RC(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function DC(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function MC(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],DC(o)),e}function IC(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function kC(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],uC(Hd(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],pC(an(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=Ho(D);Array.isArray(q)&&(q=q.map(ce=>CC(qo(ce)))),u(e,["setup","tools"],q)}const C=l(t,["sessionResumption"]);e!==void 0&&C!=null&&u(e,["setup","sessionResumption"],AC(C));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],t0());const R=l(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&u(e,["setup","outputAudioTranscription"],t0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],NC(I));const P=l(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],MC(P));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],IC(H)),r}function UC(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],kC(s,r)),r}function LC(){return{}}function BC(){return{}}function PC(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],qv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],Kv(o));const s=l(t,["audioStreamEnd"]);s!=null&&u(e,["audioStreamEnd"],s);const c=l(t,["video"]);c!=null&&u(e,["video"],Hv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],LC()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],BC()),e}function OC(){return{}}function FC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function GC(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function zC(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function VC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],FC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],GC(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],zC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function qC(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>VC(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function n0(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function HC(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function KC(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>HC(s))),u(e,["urlMetadata"],o)}return e}function JC(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],qC(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const s=l(t,["interrupted"]);s!=null&&u(e,["interrupted"],s);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],n0(h));const p=l(t,["outputTranscription"]);p!=null&&u(e,["outputTranscription"],n0(p));const m=l(t,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],KC(m)),e}function YC(t){const e={},r=l(t,["id"]);r!=null&&u(e,["id"],r);const o=l(t,["args"]);o!=null&&u(e,["args"],o);const s=l(t,["name"]);return s!=null&&u(e,["name"],s),e}function WC(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>YC(s))),u(e,["functionCalls"],o)}return e}function $C(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function Dl(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function XC(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const s=l(t,["responseTokenCount"]);s!=null&&u(e,["responseTokenCount"],s);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>Dl(E))),u(e,["promptTokensDetails"],S)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>Dl(E))),u(e,["cacheTokensDetails"],S)}const y=l(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>Dl(E))),u(e,["responseTokensDetails"],S)}const x=l(t,["toolUsePromptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>Dl(E))),u(e,["toolUsePromptTokensDetails"],S)}return e}function ZC(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function jC(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&u(e,["lastConsumedClientMessageIndex"],s),e}function QC(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],OC());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],JC(o));const s=l(t,["toolCall"]);s!=null&&u(e,["toolCall"],WC(s));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],$C(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],XC(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],ZC(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],jC(p)),e}function eA(){return{}}function tA(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function nA(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>tA(s))),u(e,["weightedPrompts"],o)}return e}function rA(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const s=l(t,["seed"]);s!=null&&u(e,["seed"],s);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const x=l(t,["muteDrums"]);x!=null&&u(e,["muteDrums"],x);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function iA(t){const e={},r=l(t,["clientContent"]);r!=null&&u(e,["clientContent"],nA(r));const o=l(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],rA(o)),e}function oA(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);o!=null&&u(e,["mimeType"],o);const s=l(t,["sourceMetadata"]);return s!=null&&u(e,["sourceMetadata"],iA(s)),e}function aA(t){const e={},r=l(t,["audioChunks"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>oA(s))),u(e,["audioChunks"],o)}return e}function sA(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function lA(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],eA());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],aA(o));const s=l(t,["filteredPrompt"]);return s!=null&&u(e,["filteredPrompt"],sA(s)),e}function uA(t){const e={},r=l(t,["sessionId"]);return r!=null&&u(e,["sessionId"],r),e}function cA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function fA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function dA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function hA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],cA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],fA(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],dA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function pA(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>hA(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function r0(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function mA(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],pA(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const s=l(t,["interrupted"]);s!=null&&u(e,["interrupted"],s);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],r0(h));const p=l(t,["outputTranscription"]);return p!=null&&u(e,["outputTranscription"],r0(p)),e}function gA(t){const e={},r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);return o!=null&&u(e,["name"],o),e}function yA(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>gA(s))),u(e,["functionCalls"],o)}return e}function vA(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function Ml(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function wA(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const s=l(t,["candidatesTokenCount"]);s!=null&&u(e,["responseTokenCount"],s);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(D=>Ml(D))),u(e,["promptTokensDetails"],E)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(D=>Ml(D))),u(e,["cacheTokensDetails"],E)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(D=>Ml(D))),u(e,["responseTokensDetails"],E)}const x=l(t,["toolUsePromptTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(D=>Ml(D))),u(e,["toolUsePromptTokensDetails"],E)}const S=l(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function xA(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function TA(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&u(e,["lastConsumedClientMessageIndex"],s),e}function SA(t){const e={},r=l(t,["setupComplete"]);r!=null&&u(e,["setupComplete"],uA(r));const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],mA(o));const s=l(t,["toolCall"]);s!=null&&u(e,["toolCall"],yA(s));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],vA(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],wA(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],xA(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],TA(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function _A(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function bA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function CA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],EA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],_A(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],bA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function iu(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>CA(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function AA(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const C=l(t,["minProperties"]);C!=null&&u(e,["minProperties"],C);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const R=l(t,["nullable"]);R!=null&&u(e,["nullable"],R);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const P=l(t,["properties"]);P!=null&&u(e,["properties"],P);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const se=l(t,["type"]);return se!=null&&u(e,["type"],se),e}function RA(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function NA(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function DA(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function MA(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],DA(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function IA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function kA(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],IA(r)),e}function UA(){return{}}function LA(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function BA(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>NA(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],MA(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],kA(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],UA());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],LA(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function PA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function OA(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function FA(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],OA(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function GA(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],PA(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],FA(o)),e}function zA(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function cw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],zA(r)),e}function VA(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],cw(o)),e}function qA(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>VA(s))),u(e,["speakerVoiceConfigs"],o)}return e}function HA(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],cw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],qA(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function KA(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function JA(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],iu(an(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const C=l(e,["seed"]);C!=null&&u(o,["seed"],C);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const R=l(e,["responseSchema"]);R!=null&&u(o,["responseSchema"],AA(Vd(R)));const I=l(e,["responseJsonSchema"]);if(I!=null&&u(o,["responseJsonSchema"],I),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=l(e,["safetySettings"]);if(r!==void 0&&P!=null){let Re=P;Array.isArray(Re)&&(Re=Re.map(Z=>RA(Z))),u(r,["safetySettings"],Re)}const H=l(e,["tools"]);if(r!==void 0&&H!=null){let Re=Ho(H);Array.isArray(Re)&&(Re=Re.map(Z=>BA(qo(Z)))),u(r,["tools"],Re)}const q=l(e,["toolConfig"]);if(r!==void 0&&q!=null&&u(r,["toolConfig"],GA(q)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=l(e,["cachedContent"]);r!==void 0&&ce!=null&&u(r,["cachedContent"],Dr(t,ce));const se=l(e,["responseModalities"]);se!=null&&u(o,["responseModalities"],se);const de=l(e,["mediaResolution"]);de!=null&&u(o,["mediaResolution"],de);const G=l(e,["speechConfig"]);if(G!=null&&u(o,["speechConfig"],HA(qd(G))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=l(e,["thinkingConfig"]);return Te!=null&&u(o,["thinkingConfig"],KA(Te)),o}function i0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=On(s);Array.isArray(d)&&(d=d.map(h=>iu(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],JA(t,c,r)),r}function YA(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const s=l(t,["title"]);e!==void 0&&s!=null&&u(e,["requests[]","title"],s);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function WA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);s!=null&&u(r,["requests[]","content"],Yv(t,s));const c=l(e,["config"]);c!=null&&u(r,["config"],YA(c,r));const d=l(e,["model"]);return d!==void 0&&u(r,["requests[]","model"],dt(t,d)),r}function $A(t,e){const r={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const p=l(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const y=l(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&u(e,["parameters","outputOptions","mimeType"],x);const S=l(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=l(t,["imageSize"]);if(e!==void 0&&E!=null&&u(e,["parameters","sampleImageSize"],E),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function XA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["config"]);return c!=null&&u(r,["config"],$A(c,r)),r}function ZA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function jA(t,e,r){const o={},s=l(e,["pageSize"]);r!==void 0&&s!=null&&u(r,["_query","pageSize"],s);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],Xv(t,h)),o}function QA(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],jA(t,o,r)),r}function eR(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function tR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],eR(s,r)),r}function nR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function rR(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function iR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=On(s);Array.isArray(d)&&(d=d.map(h=>iu(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],rR(c)),r}function fw(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],Ii(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function oR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);if(e!==void 0&&s!=null&&u(e,["instances[0]","image"],fw(s)),l(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return r}function aR(t,e){const r={},o=l(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=l(t,["durationSeconds"]);if(e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=l(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);const h=l(t,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function sR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["image"]);if(c!=null&&u(r,["instances[0]","image"],fw(c)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["source"]);d!=null&&u(r,["config"],oR(d,r));const h=l(e,["config"]);return h!=null&&u(r,["config"],aR(h,r)),r}function lR(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function uR(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function cR(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function fR(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],lR(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],uR(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],cR(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function Jo(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>fR(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function dR(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const C=l(t,["minProperties"]);C!=null&&u(e,["minProperties"],C);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const R=l(t,["nullable"]);R!=null&&u(e,["nullable"],R);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const P=l(t,["properties"]);P!=null&&u(e,["properties"],P);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const se=l(t,["type"]);return se!=null&&u(e,["type"],se),e}function hR(t){const e={},r=l(t,["featureSelectionPreference"]);return r!=null&&u(e,["featureSelectionPreference"],r),e}function pR(t){const e={},r=l(t,["method"]);r!=null&&u(e,["method"],r);const o=l(t,["category"]);o!=null&&u(e,["category"],o);const s=l(t,["threshold"]);return s!=null&&u(e,["threshold"],s),e}function mR(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function gR(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function yR(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],gR(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function vR(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function wR(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],vR(r)),e}function xR(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function TR(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function SR(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],TR(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function ER(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],SR(r)),e}function _R(){return{}}function bR(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function dw(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>mR(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],yR(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],wR(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],xR(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],ER(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],_R());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],bR(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function CR(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function AR(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function RR(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],AR(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function NR(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],CR(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],RR(o)),e}function DR(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function MR(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],DR(r)),e}function IR(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],MR(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function kR(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function UR(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],Jo(an(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const C=l(e,["seed"]);C!=null&&u(o,["seed"],C);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const R=l(e,["responseSchema"]);R!=null&&u(o,["responseSchema"],dR(Vd(R)));const I=l(e,["responseJsonSchema"]);I!=null&&u(o,["responseJsonSchema"],I);const P=l(e,["routingConfig"]);P!=null&&u(o,["routingConfig"],P);const H=l(e,["modelSelectionConfig"]);H!=null&&u(o,["modelConfig"],hR(H));const q=l(e,["safetySettings"]);if(r!==void 0&&q!=null){let he=q;Array.isArray(he)&&(he=he.map(le=>pR(le))),u(r,["safetySettings"],he)}const ce=l(e,["tools"]);if(r!==void 0&&ce!=null){let he=Ho(ce);Array.isArray(he)&&(he=he.map(le=>dw(qo(le)))),u(r,["tools"],he)}const se=l(e,["toolConfig"]);r!==void 0&&se!=null&&u(r,["toolConfig"],NR(se));const de=l(e,["labels"]);r!==void 0&&de!=null&&u(r,["labels"],de);const G=l(e,["cachedContent"]);r!==void 0&&G!=null&&u(r,["cachedContent"],Dr(t,G));const Te=l(e,["responseModalities"]);Te!=null&&u(o,["responseModalities"],Te);const Re=l(e,["mediaResolution"]);Re!=null&&u(o,["mediaResolution"],Re);const Z=l(e,["speechConfig"]);Z!=null&&u(o,["speechConfig"],IR(qd(Z)));const pe=l(e,["audioTimestamp"]);pe!=null&&u(o,["audioTimestamp"],pe);const B=l(e,["thinkingConfig"]);return B!=null&&u(o,["thinkingConfig"],kR(B)),o}function o0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=On(s);Array.isArray(d)&&(d=d.map(h=>Jo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],UR(t,c,r)),r}function LR(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const s=l(t,["title"]);e!==void 0&&s!=null&&u(e,["instances[]","title"],s);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const d=l(t,["mimeType"]);e!==void 0&&d!=null&&u(e,["instances[]","mimeType"],d);const h=l(t,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),r}function BR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);s!=null&&u(r,["instances[]","content"],Yv(t,s));const c=l(e,["config"]);return c!=null&&u(r,["config"],LR(c,r)),r}function PR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&u(e,["parameters","negativePrompt"],s);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&u(e,["parameters","includeSafetyAttributes"],x);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const D=l(t,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const C=l(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","compressionQuality"],C);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&u(e,["parameters","addWatermark"],U);const R=l(t,["imageSize"]);e!==void 0&&R!=null&&u(e,["parameters","sampleImageSize"],R);const I=l(t,["enhancePrompt"]);return e!==void 0&&I!=null&&u(e,["parameters","enhancePrompt"],I),r}function OR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["config"]);return c!=null&&u(r,["config"],PR(c,r)),r}function lr(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ii(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function FR(t){const e={},r=l(t,["maskMode"]);r!=null&&u(e,["maskMode"],r);const o=l(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const s=l(t,["maskDilation"]);return s!=null&&u(e,["dilation"],s),e}function GR(t){const e={},r=l(t,["controlType"]);r!=null&&u(e,["controlType"],r);const o=l(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function zR(t){const e={},r=l(t,["styleDescription"]);return r!=null&&u(e,["styleDescription"],r),e}function VR(t){const e={},r=l(t,["subjectType"]);r!=null&&u(e,["subjectType"],r);const o=l(t,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function qR(t){const e={},r=l(t,["referenceImage"]);r!=null&&u(e,["referenceImage"],lr(r));const o=l(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const s=l(t,["referenceType"]);s!=null&&u(e,["referenceType"],s);const c=l(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],FR(c));const d=l(t,["controlImageConfig"]);d!=null&&u(e,["controlImageConfig"],GR(d));const h=l(t,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],zR(h));const p=l(t,["subjectImageConfig"]);return p!=null&&u(e,["subjectImageConfig"],VR(p)),e}function HR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&u(e,["parameters","negativePrompt"],s);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&u(e,["parameters","includeSafetyAttributes"],x);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const D=l(t,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const C=l(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","compressionQuality"],C);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&u(e,["parameters","addWatermark"],U);const R=l(t,["editMode"]);e!==void 0&&R!=null&&u(e,["parameters","editMode"],R);const I=l(t,["baseSteps"]);return e!==void 0&&I!=null&&u(e,["parameters","editConfig","baseSteps"],I),r}function KR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>qR(p))),u(r,["instances[0]","referenceImages"],h)}const d=l(e,["config"]);return d!=null&&u(r,["config"],HR(d,r)),r}function JR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const c=l(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);const d=l(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const h=l(t,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=l(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=l(t,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);const y=l(t,["mode"]);return e!==void 0&&y!=null&&u(e,["parameters","mode"],y),r}function YR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["image"]);s!=null&&u(r,["instances[0]","image"],lr(s));const c=l(e,["upscaleFactor"]);c!=null&&u(r,["parameters","upscaleConfig","upscaleFactor"],c);const d=l(e,["config"]);return d!=null&&u(r,["config"],JR(d,r)),r}function WR(t){const e={},r=l(t,["productImage"]);return r!=null&&u(e,["image"],lr(r)),e}function $R(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["personImage"]);e!==void 0&&s!=null&&u(e,["instances[0]","personImage","image"],lr(s));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>WR(h))),u(e,["instances[0]","productImages"],d)}return r}function XR(t,e){const r={},o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["baseSteps"]);e!==void 0&&s!=null&&u(e,["parameters","editConfig","baseSteps"],s);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=l(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const m=l(t,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const x=l(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&u(e,["parameters","outputOptions","compressionQuality"],x);const S=l(t,["enhancePrompt"]);return e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S),r}function ZR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["source"]);s!=null&&u(r,["config"],$R(s,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],XR(c,r)),r}function jR(t){const e={},r=l(t,["image"]);return r!=null&&u(e,["image"],lr(r)),e}function QR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);e!==void 0&&s!=null&&u(e,["instances[0]","image"],lr(s));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],jR(c)),r}function eN(t,e){const r={},o=l(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const s=l(t,["maxPredictions"]);e!==void 0&&s!=null&&u(e,["parameters","maxPredictions"],s);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const d=l(t,["maskDilation"]);e!==void 0&&d!=null&&u(e,["parameters","maskDilation"],d);const h=l(t,["binaryColorThreshold"]);return e!==void 0&&h!=null&&u(e,["parameters","binaryColorThreshold"],h),r}function tN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["source"]);s!=null&&u(r,["config"],QR(s,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],eN(c,r)),r}function nN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function rN(t,e,r){const o={},s=l(e,["pageSize"]);r!==void 0&&s!=null&&u(r,["_query","pageSize"],s);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],Xv(t,h)),o}function iN(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],rN(t,o,r)),r}function oN(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function aN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],oN(s,r)),r}function sN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function lN(t,e){const r={},o=l(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Jo(an(o)));const s=l(t,["tools"]);if(e!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>dw(h))),u(e,["tools"],d)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],c),r}function uN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=On(s);Array.isArray(d)&&(d=d.map(h=>Jo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],lN(c,r)),r}function cN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=On(s);Array.isArray(d)&&(d=d.map(h=>Jo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],c),r}function hw(t){const e={},r=l(t,["uri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ii(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function fN(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);e!==void 0&&s!=null&&u(e,["instances[0]","image"],lr(s));const c=l(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],hw(c)),r}function dN(t){const e={},r=l(t,["image"]);r!=null&&u(e,["image"],lr(r));const o=l(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function hN(t,e){const r={},o=l(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["outputGcsUri"]);e!==void 0&&s!=null&&u(e,["parameters","storageUri"],s);const c=l(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const d=l(t,["durationSeconds"]);e!==void 0&&d!=null&&u(e,["parameters","durationSeconds"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const p=l(t,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const m=l(t,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["pubsubTopic"]);e!==void 0&&x!=null&&u(e,["parameters","pubsubTopic"],x);const S=l(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const E=l(t,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const D=l(t,["generateAudio"]);e!==void 0&&D!=null&&u(e,["parameters","generateAudio"],D);const C=l(t,["lastFrame"]);e!==void 0&&C!=null&&u(e,["instances[0]","lastFrame"],lr(C));const U=l(t,["referenceImages"]);if(e!==void 0&&U!=null){let I=U;Array.isArray(I)&&(I=I.map(P=>dN(P))),u(e,["instances[0]","referenceImages"],I)}const R=l(t,["compressionQuality"]);return e!==void 0&&R!=null&&u(e,["parameters","compressionQuality"],R),r}function pN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["image"]);c!=null&&u(r,["instances[0]","image"],lr(c));const d=l(e,["video"]);d!=null&&u(r,["instances[0]","video"],hw(d));const h=l(e,["source"]);h!=null&&u(r,["config"],fN(h,r));const p=l(e,["config"]);return p!=null&&u(r,["config"],hN(p,r)),r}function mN(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function gN(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function yN(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function vN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],mN(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],gN(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],yN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function wN(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>vN(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function xN(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function TN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function SN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>TN(s))),u(e,["urlMetadata"],o)}return e}function EN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],wN(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],xN(o));const s=l(t,["tokenCount"]);s!=null&&u(e,["tokenCount"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],SN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function a0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>EN(m))),u(e,["candidates"],p)}const s=l(t,["modelVersion"]);s!=null&&u(e,["modelVersion"],s);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function _N(t){const e={},r=l(t,["values"]);return r!=null&&u(e,["values"],r),e}function bN(){return{}}function CN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>_N(d))),u(e,["embeddings"],c)}return l(t,["metadata"])!=null&&u(e,["metadata"],bN()),e}function AN(t){const e={},r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],Ii(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function pw(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const s=l(t,["contentType"]);return s!=null&&u(e,["contentType"],s),e}function RN(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],AN(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const s=l(t,["_self"]);return s!=null&&u(e,["safetyAttributes"],pw(s)),e}function NN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>RN(d))),u(e,["generatedImages"],c)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&u(e,["positivePromptSafetyAttributes"],pw(s)),e}function DN(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const s=l(t,["updateTime"]);return s!=null&&u(e,["updateTime"],s),e}function Cd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["version"]);c!=null&&u(e,["version"],c);const d=l(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],DN(d));const h=l(t,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const p=l(t,["outputTokenLimit"]);p!=null&&u(e,["outputTokenLimit"],p);const m=l(t,["supportedGenerationMethods"]);return m!=null&&u(e,["supportedActions"],m),e}function MN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["_self"]);if(s!=null){let c=Zv(s);Array.isArray(c)&&(c=c.map(d=>Cd(d))),u(e,["models"],c)}return e}function IN(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function kN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const s=l(t,["cachedContentTokenCount"]);return s!=null&&u(e,["cachedContentTokenCount"],s),e}function UN(t){const e={},r=l(t,["video","uri"]);r!=null&&u(e,["uri"],r);const o=l(t,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Ii(o));const s=l(t,["encoding"]);return s!=null&&u(e,["mimeType"],s),e}function LN(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],UN(r)),e}function BN(t){const e={},r=l(t,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>LN(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function PN(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response","generateVideoResponse"]);return d!=null&&u(e,["response"],BN(d)),e}function ON(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function FN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function GN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function zN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],ON(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],FN(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],GN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function VN(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>zN(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function qN(t){const e={},r=l(t,["citations"]);return r!=null&&u(e,["citations"],r),e}function HN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function KN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>HN(s))),u(e,["urlMetadata"],o)}return e}function JN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],VN(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],qN(o));const s=l(t,["finishMessage"]);s!=null&&u(e,["finishMessage"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],KN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function s0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>JN(y))),u(e,["candidates"],m)}const s=l(t,["createTime"]);s!=null&&u(e,["createTime"],s);const c=l(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=l(t,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const h=l(t,["responseId"]);h!=null&&u(e,["responseId"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function YN(t){const e={},r=l(t,["truncated"]);r!=null&&u(e,["truncated"],r);const o=l(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function WN(t){const e={},r=l(t,["values"]);r!=null&&u(e,["values"],r);const o=l(t,["statistics"]);return o!=null&&u(e,["statistics"],YN(o)),e}function $N(t){const e={},r=l(t,["billableCharacterCount"]);return r!=null&&u(e,["billableCharacterCount"],r),e}function XN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions[]","embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>WN(d))),u(e,["embeddings"],c)}const s=l(t,["metadata"]);return s!=null&&u(e,["metadata"],$N(s)),e}function mw(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Ii(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function gw(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const s=l(t,["contentType"]);return s!=null&&u(e,["contentType"],s),e}function ou(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],mw(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const s=l(t,["_self"]);s!=null&&u(e,["safetyAttributes"],gw(s));const c=l(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function ZN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>ou(d))),u(e,["generatedImages"],c)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&u(e,["positivePromptSafetyAttributes"],gw(s)),e}function jN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>ou(c))),u(e,["generatedImages"],s)}return e}function QN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>ou(c))),u(e,["generatedImages"],s)}return e}function eD(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ou(s))),u(e,["generatedImages"],o)}return e}function tD(t){const e={},r=l(t,["label"]);r!=null&&u(e,["label"],r);const o=l(t,["score"]);return o!=null&&u(e,["score"],o),e}function nD(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["mask"],mw(r));const o=l(t,["labels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>tD(c))),u(e,["labels"],s)}return e}function rD(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>nD(s))),u(e,["generatedMasks"],o)}return e}function iD(t){const e={},r=l(t,["endpoint"]);r!=null&&u(e,["name"],r);const o=l(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function oD(t){const e={},r=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const s=l(t,["updateTime"]);return s!=null&&u(e,["updateTime"],s),e}function aD(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const s=l(t,["step"]);return s!=null&&u(e,["step"],s),e}function Ad(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["versionId"]);c!=null&&u(e,["version"],c);const d=l(t,["deployedModels"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>iD(S))),u(e,["endpoints"],x)}const h=l(t,["labels"]);h!=null&&u(e,["labels"],h);const p=l(t,["_self"]);p!=null&&u(e,["tunedModelInfo"],oD(p));const m=l(t,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const y=l(t,["checkpoints"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(S=>aD(S))),u(e,["checkpoints"],x)}return e}function sD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["_self"]);if(s!=null){let c=Zv(s);Array.isArray(c)&&(c=c.map(d=>Ad(d))),u(e,["models"],c)}return e}function lD(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function uD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function cD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["tokensInfo"]);return o!=null&&u(e,["tokensInfo"],o),e}function fD(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["uri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Ii(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function dD(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],fD(r)),e}function hD(t){const e={},r=l(t,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>dD(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function pD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response"]);return d!=null&&u(e,["response"],hD(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mD="Content-Type",gD="X-Server-Timeout",yD="User-Agent",Rd="x-goog-api-client",vD="1.17.0",wD=`google-genai-sdk/${vD}`,xD="v1beta1",TD="v1beta",l0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class SD{constructor(e){var r,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:xD,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:TD,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,o){const s=[this.getRequestUrlInternal(r)];return o&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,r,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))s.searchParams.append(d,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.unaryApiCall(s,c,e.httpMethod)}patchHttpOptions(e,r){const o=JSON.parse(JSON.stringify(e));for(const[s,c]of Object.entries(r))typeof c=="object"?o[s]=Object.assign(Object.assign({},o[s]),c):c!==void 0&&(o[s]=c);return o}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,r,o);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.streamApiCall(s,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,o){if(r&&r.timeout||o){const s=new AbortController,c=s.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const d=setTimeout(()=>s.abort(),r.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=c}return r&&r.extraBody!==null&&ED(e,r.extraBody),e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async s=>(await u0(s),new Td(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async s=>(await u0(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var r;return No(this,arguments,function*(){const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:p}=yield Ct(s.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(p,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const S=JSON.parse(JSON.stringify(x.error)),E=S.status,D=S.code,C=`got status: ${E}. ${JSON.stringify(x)}`;if(D>=400&&D<600)throw new ru({message:C,status:D})}}catch(x){if(x.name==="ApiError")throw x}d+=m;let y=d.match(l0);for(;y;){const x=y[1];try{const S=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ct(new Td(S)),d=d.slice(y[0].length),y=d.match(l0)}catch(S){throw new Error(`exception parsing stream chunk ${x}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},r=wD+" "+this.clientOptions.userAgentExtra;return e[yD]=r,e[Rd]=r,e[mD]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))r.append(o,s);e.timeout&&e.timeout>0&&r.append(gD,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var o;const s={};r!=null&&(s.mimeType=r.mimeType,s.name=r.name,s.displayName=r.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);s.sizeBytes=String(d.size);const h=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const p=await this.fetchUploadUrl(s,r);return c.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var o;let s={};r!=null&&r.httpOptions?s=r.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:Ge("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:s});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function u0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(o);throw r>=400&&r<600?new ru({message:s,status:r}):new Error(s)}}function ED(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(c,d){const h=Object.assign({},c);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p)){const m=d[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=o(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const s=o(r,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _D="mcp_used/unknown";let bD=!1;function yw(t){for(const e of t)if(CD(e)||typeof e=="object"&&"inputSchema"in e)return!0;return bD}function vw(t){var e;const r=(e=t[Rd])!==null&&e!==void 0?e:"";t[Rd]=(r+` ${_D}`).trimStart()}function CD(t){return t!==null&&typeof t=="object"&&t instanceof Kd}function AD(t,e=100){return No(this,arguments,function*(){let o,s=0;for(;s<e;){const c=yield Ct(t.listTools({cursor:o}));for(const d of c.tools)yield yield Ct(d),s++;if(!c.nextCursor)break;o=c.nextCursor}})}class Kd{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Kd(e,r)}async initialize(){var e,r,o,s;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var h=!0,p=(r=void 0,ds(AD(y))),m;m=await p.next(),e=m.done,!e;h=!0){s=m.value,h=!1;const x=s;d.push(x);const S=x.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=y}}catch(x){r={error:x}}finally{try{!h&&!e&&(o=p.return)&&await o.call(p)}finally{if(r)throw r.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),iE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[o.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await s.callTool({name:o.name,arguments:o.args},void 0,c);r.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function RD(t,e,r){const o=new XS;let s;r.data instanceof Blob?s=JSON.parse(await r.data.text()):s=JSON.parse(r.data);const c=lA(s);Object.assign(o,c),e(o)}class ND{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o}async connect(e){var r,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=ID(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(P=>{m=P}),x=e.callbacks,S=function(){m({})},E=this.apiClient,D={onopen:S,onmessage:P=>{RD(E,x.onmessage,P)},onerror:(r=x==null?void 0:x.onerror)!==null&&r!==void 0?r:function(P){},onclose:(o=x==null?void 0:x.onclose)!==null&&o!==void 0?o:function(P){}},C=this.webSocketFactory.create(p,MD(d),D);C.connect(),await y;const U=dt(this.apiClient,e.model),R=lw({model:U}),I=bd({setup:R});return C.send(JSON.stringify(I)),new DD(C,this.apiClient)}}class DD{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=oC(e),o=uw(r);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=aC(e),o=bd(r);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const r=bd({playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Ao.PLAY)}pause(){this.sendPlaybackControl(Ao.PAUSE)}stop(){this.sendPlaybackControl(Ao.STOP)}resetContext(){this.sendPlaybackControl(Ao.RESET_CONTEXT)}close(){this.conn.close()}}function MD(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function ID(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function UD(t,e,r){const o=new $S;let s;r.data instanceof Blob?s=await r.data.text():r.data instanceof ArrayBuffer?s=new TextDecoder().decode(r.data):s=r.data;const c=JSON.parse(s);if(t.isVertexAI()){const d=SA(c);Object.assign(o,d)}else{const d=QC(c);Object.assign(o,d)}e(o)}class LD{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o,this.music=new ND(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,o,s,c,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&yw(e.config.tools)&&vw(x);const S=FD(x);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const G=this.apiClient.getApiKey();let Te="BidiGenerateContent",Re="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Te="BidiGenerateContentConstrained",Re="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${Te}?${Re}=${G}`}let E=()=>{};const D=new Promise(G=>{E=G}),C=e.callbacks,U=function(){var G;(G=C==null?void 0:C.onopen)===null||G===void 0||G.call(C),E({})},R=this.apiClient,I={onopen:U,onmessage:G=>{UD(R,C.onmessage,G)},onerror:(r=C==null?void 0:C.onerror)!==null&&r!==void 0?r:function(G){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(G){}},P=this.webSocketFactory.create(y,OD(S),I);P.connect(),await D;let H=dt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const G=this.apiClient.getProject(),Te=this.apiClient.getLocation();H=`projects/${G}/locations/${Te}/`+H}let q={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$l.AUDIO]}:e.config.responseModalities=[$l.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ce=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],se=[];for(const G of ce)if(this.isCallableTool(G)){const Te=G;se.push(await Te.tool())}else se.push(G);se.length>0&&(e.config.tools=se);const de={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=UC(this.apiClient,de):q=tC(this.apiClient,de),delete q.config,P.send(JSON.stringify(q)),new PD(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const BD={turnComplete:!0};class PD{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let o=[];try{o=On(r.turns),e.isVertexAI()?o=o.map(s=>Jo(s)):o=o.map(s=>iu(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:o,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let o=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?o=r.functionResponses:o=[r.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const c of o){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(kD)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},BD),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:PC(e)}:r={realtimeInput:iC(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function OD(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function FD(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c0=10;function f0(t){var e,r,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const d of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(Do(d)){s=!0;break}if(!s)return!0;const c=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Do(t){return"callTool"in t&&typeof t.callTool=="function"}function GD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(s=>Do(s)))!==null&&o!==void 0?o:!1}function zD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(s=>!Do(s)))!==null&&o!==void 0?o:!1}function d0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VD extends Mi{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var o,s,c,d,h;const p=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!GD(r)||f0(r.config))return await this.generateContentInternal(p);if(zD(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const x=On(p.contents),S=(c=(s=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:c0;let E=0;for(;E<S&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const D=m.candidates[0].content,C=[];for(const U of(h=(d=r.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Do(U)){const I=await U.callTool(m.functionCalls);C.push(...I)}E++,y={role:"user",parts:C},p.contents=On(p.contents),p.contents.push(D),p.contents.push(y),d0(p.config)&&(x.push(D),x.push(y))}return d0(p.config)&&(m.automaticFunctionCallingHistory=x),m},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),f0(r.config)){const o=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(o=>{var s;let c;const d=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((s=p==null?void 0:p.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=p==null?void 0:p.safetyAttributes:d.push(p);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async r=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new hs(Di.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async r=>{const o={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(o.referenceImages=r.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async r=>{let o={numberOfImages:1,mode:"upscale"};r.config&&(o=Object.assign(Object.assign({},o),r.config));const s={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:o};return await this.upscaleImageInternal(s)},this.generateVideos=async r=>{if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,o,s;const c=(r=e.config)===null||r===void 0?void 0:r.tools;if(!c)return e;const d=await Promise.all(c.map(async p=>Do(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&yw(e.config.tools)){const p=(s=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),vw(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var r,o,s;const c=new Map;for(const d of(o=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&o!==void 0?o:[])if(Do(d)){const h=d,p=await h.tool();for(const m of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(e){var r,o,s;const c=(s=(o=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:c0;let d=!1,h=0;const p=await this.initAfcToolsMap(e);return(function(m,y,x){var S,E;return No(this,arguments,function*(){for(var D,C,U,R;h<c;){d&&(h++,d=!1);const q=yield Ct(m.processParamsMaybeAddMcpUsage(x)),ce=yield Ct(m.generateContentStreamInternal(q)),se=[],de=[];try{for(var I=!0,P=(C=void 0,ds(ce)),H;H=yield Ct(P.next()),D=H.done,!D;I=!0){R=H.value,I=!1;const G=R;if(yield yield Ct(G),G.candidates&&(!((S=G.candidates[0])===null||S===void 0)&&S.content)){de.push(G.candidates[0].content);for(const Te of(E=G.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<c&&Te.functionCall){if(!Te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Te.functionCall.name)){const Re=yield Ct(y.get(Te.functionCall.name).callTool([Te.functionCall]));se.push(...Re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Te.functionCall.name}`)}}}}catch(G){C={error:G}}finally{try{!I&&!D&&(U=P.return)&&(yield Ct(U.call(P)))}finally{if(C)throw C.error}}if(se.length>0){d=!0;const G=new rs;G.candidates=[{content:{role:"user",parts:se}}],yield yield Ct(G);const Te=[];Te.push(...de),Te.push({role:"user",parts:se});const Re=On(x.contents).concat(Te);x.contents=Re}else break}})})(this,p,e)}async generateContentInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=o0(this.apiClient,e);return h=Ge("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=s0(y),S=new rs;return Object.assign(S,x),S})}else{const m=i0(this.apiClient,e);return h=Ge("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=a0(y),S=new rs;return Object.assign(S,x),S})}}async generateContentStreamInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=o0(this.apiClient,e);return h=Ge("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(x){return No(this,arguments,function*(){var S,E,D,C;try{for(var U=!0,R=ds(x),I;I=yield Ct(R.next()),S=I.done,!S;U=!0){C=I.value,U=!1;const P=C,H=s0(yield Ct(P.json()));H.sdkHttpResponse={headers:P.headers};const q=new rs;Object.assign(q,H),yield yield Ct(q)}}catch(P){E={error:P}}finally{try{!U&&!S&&(D=R.return)&&(yield Ct(D.call(R)))}finally{if(E)throw E.error}}})})}else{const m=i0(this.apiClient,e);return h=Ge("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(x){return No(this,arguments,function*(){var S,E,D,C;try{for(var U=!0,R=ds(x),I;I=yield Ct(R.next()),S=I.done,!S;U=!0){C=I.value,U=!1;const P=C,H=a0(yield Ct(P.json()));H.sdkHttpResponse={headers:P.headers};const q=new rs;Object.assign(q,H),yield yield Ct(q)}}catch(P){E={error:P}}finally{try{!U&&!S&&(D=R.return)&&(yield Ct(D.call(R)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=BR(this.apiClient,e);return h=Ge("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=XN(y),S=new By;return Object.assign(S,x),S})}else{const m=WA(this.apiClient,e);return h=Ge("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=CN(y),S=new By;return Object.assign(S,x),S})}}async generateImagesInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=OR(this.apiClient,e);return h=Ge("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=ZN(y),S=new Py;return Object.assign(S,x),S})}else{const m=XA(this.apiClient,e);return h=Ge("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=NN(y),S=new Py;return Object.assign(S,x),S})}}async editImageInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=KR(this.apiClient,e);return c=Ge("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=jN(p),y=new zS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=YR(this.apiClient,e);return c=Ge("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=QN(p),y=new VS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=ZR(this.apiClient,e);return c=Ge("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=eD(p),y=new qS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=tN(this.apiClient,e);return c=Ge("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=rD(p),y=new HS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=nN(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Ad(y))}else{const m=ZA(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Cd(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=iN(this.apiClient,e);return h=Ge("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=sD(y),S=new Oy;return Object.assign(S,x),S})}else{const m=QA(this.apiClient,e);return h=Ge("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=MN(y),S=new Oy;return Object.assign(S,x),S})}}async update(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=aN(this.apiClient,e);return h=Ge("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Ad(y))}else{const m=tR(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Cd(y))}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=sN(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=lD(y),S=new Fy;return Object.assign(S,x),S})}else{const m=nR(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=IN(y),S=new Fy;return Object.assign(S,x),S})}}async countTokens(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=uN(this.apiClient,e);return h=Ge("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=uD(y),S=new Gy;return Object.assign(S,x),S})}else{const m=iR(this.apiClient,e);return h=Ge("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=kN(y),S=new Gy;return Object.assign(S,x),S})}}async computeTokens(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=cN(this.apiClient,e);return c=Ge("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=cD(p),y=new KS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=pN(this.apiClient,e);return h=Ge("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>{const x=pD(y),S=new Xl;return Object.assign(S,x),S})}else{const m=sR(this.apiClient,e);return h=Ge("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const x=PN(y),S=new Xl;return Object.assign(S,x),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function HD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["operationName"],r);const o=l(t,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const s=l(t,["config"]);return s!=null&&u(e,["config"],s),e}function KD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JD extends Mi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=KD(e);return h=Ge("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d}else{const m=qD(e);return h=Ge("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=HD(e);return c=Ge("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YD(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function ww(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],YD(r)),e}function WD(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],ww(o)),e}function $D(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>WD(s))),u(e,["speakerVoiceConfigs"],o)}return e}function XD(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],ww(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],$D(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function ZD(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function jD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function QD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function eM(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],ZD(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],jD(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],QD(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function tM(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>eM(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function nM(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function rM(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function iM(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],rM(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function oM(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function aM(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],oM(r)),e}function sM(){return{}}function lM(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function uM(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>nM(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],iM(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],aM(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],sM());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],lM(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function cM(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function h0(){return{}}function fM(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function dM(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],fM(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function hM(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function pM(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],hM(o)),e}function mM(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function gM(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],XD(Hd(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],tM(an(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=Ho(D);Array.isArray(q)&&(q=q.map(ce=>uM(qo(ce)))),u(e,["setup","tools"],q)}const C=l(t,["sessionResumption"]);e!==void 0&&C!=null&&u(e,["setup","sessionResumption"],cM(C));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],h0());const R=l(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&u(e,["setup","outputAudioTranscription"],h0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],dM(I));const P=l(t,["contextWindowCompression"]);e!==void 0&&P!=null&&u(e,["setup","contextWindowCompression"],pM(P));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],mM(H)),r}function yM(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],gM(s,r)),r}function vM(t,e,r){const o={},s=l(e,["expireTime"]);r!==void 0&&s!=null&&u(r,["expireTime"],s);const c=l(e,["newSessionExpireTime"]);r!==void 0&&c!=null&&u(r,["newSessionExpireTime"],c);const d=l(e,["uses"]);r!==void 0&&d!=null&&u(r,["uses"],d);const h=l(e,["liveConnectConstraints"]);r!==void 0&&h!=null&&u(r,["bidiGenerateContentSetup"],yM(t,h));const p=l(e,["lockAdditionalFields"]);return r!==void 0&&p!=null&&u(r,["fieldMask"],p),o}function wM(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],vM(t,o,r)),r}function xM(t){const e={},r=l(t,["name"]);return r!=null&&u(e,["name"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TM(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const s=Object.keys(o).map(c=>`${r}.${c}`);e.push(...s)}else e.push(r)}return e.join(",")}function SM(t,e){let r=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const c=o.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,r=c):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(r){const c=TM(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(m=>d.includes(m)?`generationConfig.${m}`:m));const p=[];c&&p.push(c),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class EM extends Mi{constructor(e){super(),this.apiClient=e}async create(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=wM(this.apiClient,e);c=Ge("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const p=SM(h,e.config);return s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>xM(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _M(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function bM(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function CM(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],bM(r,e)),e}function AM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function RM(t){const e={},r=l(t,["textInput"]);r!=null&&u(e,["textInput"],r);const o=l(t,["output"]);return o!=null&&u(e,["output"],o),e}function NM(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>RM(s))),u(e,["examples","examples"],o)}return e}function DM(t,e){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(t,["epochCount"]);e!==void 0&&s!=null&&u(e,["tuningTask","hyperparameters","epochCount"],s);const c=l(t,["learningRateMultiplier"]);if(c!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(t,["batchSize"]);e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","batchSize"],d);const h=l(t,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),r}function MM(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const s=l(t,["trainingDataset"]);s!=null&&u(e,["tuningTask","trainingData"],NM(s));const c=l(t,["config"]);return c!=null&&u(e,["config"],DM(c,e)),e}function IM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function kM(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function UM(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],kM(r,e)),e}function LM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function BM(t,e){const r={},o=l(t,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const s=l(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function PM(t,e){const r={},o=l(t,["gcsUri"]);o!=null&&u(r,["validationDatasetUri"],o);const s=l(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s),r}function OM(t,e){const r={},o=l(t,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],PM(o,r));const s=l(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&u(e,["tunedModelDisplayName"],s);const c=l(t,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=l(t,["epochCount"]);e!==void 0&&d!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=l(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=l(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=l(t,["preTunedModelCheckpointId"]);m!=null&&u(r,["preTunedModel","checkpointId"],m);const y=l(t,["adapterSize"]);if(e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function FM(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const s=l(t,["trainingDataset"]);s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],BM(s,e));const c=l(t,["config"]);return c!=null&&u(e,["config"],OM(c,e)),e}function GM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["model"],r);const o=l(t,["name"]);return o!=null&&u(e,["endpoint"],o),e}function xw(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],Wv(s));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["tuningTask","startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["tuningTask","completeTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["description"]);m!=null&&u(e,["description"],m);const y=l(t,["baseModel"]);y!=null&&u(e,["baseModel"],y);const x=l(t,["_self"]);x!=null&&u(e,["tunedModel"],GM(x));const S=l(t,["customBaseModel"]);S!=null&&u(e,["customBaseModel"],S);const E=l(t,["experiment"]);E!=null&&u(e,["experiment"],E);const D=l(t,["labels"]);D!=null&&u(e,["labels"],D);const C=l(t,["outputUri"]);C!=null&&u(e,["outputUri"],C);const U=l(t,["pipelineJob"]);U!=null&&u(e,["pipelineJob"],U);const R=l(t,["serviceAccount"]);R!=null&&u(e,["serviceAccount"],R);const I=l(t,["tunedModelDisplayName"]);return I!=null&&u(e,["tunedModelDisplayName"],I),e}function zM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>xw(d))),u(e,["tuningJobs"],c)}return e}function VM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["metadata"]);s!=null&&u(e,["metadata"],s);const c=l(t,["done"]);c!=null&&u(e,["done"],c);const d=l(t,["error"]);return d!=null&&u(e,["error"],d),e}function qM(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const s=l(t,["step"]);s!=null&&u(e,["step"],s);const c=l(t,["endpoint"]);return c!=null&&u(e,["endpoint"],c),e}function HM(t){const e={},r=l(t,["model"]);r!=null&&u(e,["model"],r);const o=l(t,["endpoint"]);o!=null&&u(e,["endpoint"],o);const s=l(t,["checkpoints"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>qM(d))),u(e,["checkpoints"],c)}return e}function Nd(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],Wv(s));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["endTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["error"]);m!=null&&u(e,["error"],m);const y=l(t,["description"]);y!=null&&u(e,["description"],y);const x=l(t,["baseModel"]);x!=null&&u(e,["baseModel"],x);const S=l(t,["tunedModel"]);S!=null&&u(e,["tunedModel"],HM(S));const E=l(t,["preTunedModel"]);E!=null&&u(e,["preTunedModel"],E);const D=l(t,["supervisedTuningSpec"]);D!=null&&u(e,["supervisedTuningSpec"],D);const C=l(t,["tuningDataStats"]);C!=null&&u(e,["tuningDataStats"],C);const U=l(t,["encryptionSpec"]);U!=null&&u(e,["encryptionSpec"],U);const R=l(t,["partnerModelTuningSpec"]);R!=null&&u(e,["partnerModelTuningSpec"],R);const I=l(t,["customBaseModel"]);I!=null&&u(e,["customBaseModel"],I);const P=l(t,["experiment"]);P!=null&&u(e,["experiment"],P);const H=l(t,["labels"]);H!=null&&u(e,["labels"],H);const q=l(t,["outputUri"]);q!=null&&u(e,["outputUri"],q);const ce=l(t,["pipelineJob"]);ce!=null&&u(e,["pipelineJob"],ce);const se=l(t,["serviceAccount"]);se!=null&&u(e,["serviceAccount"],se);const de=l(t,["tunedModelDisplayName"]);return de!=null&&u(e,["tunedModelDisplayName"],de),e}function KM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Nd(d))),u(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JM extends Mi{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new hs(Di.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const o={tunedModelName:r.baseModel},s=Object.assign(Object.assign({},r),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},r);return await this.tuneInternal(o)}else{const o=Object.assign({},r),s=await this.tuneMldevInternal(o);let c="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?c=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(c=s.name.split("/operations/")[0]),{name:c,state:xd.JOB_STATE_QUEUED}}}}async getInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=IM(e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Nd(y))}else{const m=_M(e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>xw(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=UM(e);return h=Ge("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=KM(y),S=new Vy;return Object.assign(S,x),S})}else{const m=CM(e);return h=Ge("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=zM(y),S=new Vy;return Object.assign(S,x),S})}}async cancel(e){var r,o,s,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=LM(e);d=Ge("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=AM(e);d=Ge("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=FM(e);return c=Ge("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>Nd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=MM(e);return c=Ge("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>VM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YM{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const WM=1024*1024*8,$M=3,XM=1e3,ZM=2,Cf="x-goog-upload-status";async function jM(t,e,r){var o,s,c;let d=0,h=0,p=new Td(new Response),m="upload";for(d=t.size;h<d;){const x=Math.min(WM,d-h),S=t.slice(h,h+x);h+x>=d&&(m+=", finalize");let E=0,D=XM;for(;E<$M&&(p=await r.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(x)}}}),!(!((o=p==null?void 0:p.headers)===null||o===void 0)&&o[Cf]));)E++,await e5(D),D=D*ZM;if(h+=x,((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[Cf])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((c=p==null?void 0:p.headers)===null||c===void 0?void 0:c[Cf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function QM(t){return{size:t.size,type:t.type}}function e5(t){return new Promise(e=>setTimeout(e,t))}class t5{async upload(e,r,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jM(e,r,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n5{create(e,r,o){return new r5(e,r,o)}}class r5{constructor(e,r,o){this.url=e,this.headers=r,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p0="x-goog-api-key";class i5{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(p0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(p0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o5="gl-node/";class a5{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const o=GS(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const s=new i5(this.apiKey);this.apiClient=new SD({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:o5+"web",uploader:new t5,downloader:new YM}),this.models=new VD(this.apiClient),this.live=new LD(this.apiClient,s,new n5),this.batches=new f_(this.apiClient),this.chats=new yb(this.models,this.apiClient),this.caches=new pb(this.apiClient),this.files=new Db(this.apiClient),this.operations=new JD(this.apiClient),this.authTokens=new EM(this.apiClient),this.tunings=new JM(this.apiClient)}}const ps=new a5({apiKey:"PLACEHOLDER_API_KEY"}),s5=t=>t.map(e=>{if(e.type==="image"){const{src:r,...o}=e;return o}return e}),Bo=t=>t.map(e=>({...e,content:s5(e.content)})),Dd=t=>Math.round((t||"").length/3.5),m0=t=>Array.isArray(t)?t.map(e=>{if(e.type==="list"){const r=e;if(typeof r.text=="string"&&!Array.isArray(r.items))return{type:"list",style:r.style||"unordered",items:[r.text]}}return e}):[],g0=t=>(t.newDocuments&&(t.newDocuments=t.newDocuments.map(e=>({...e,content:m0(e.content)}))),t.updatedDocuments&&(t.updatedDocuments=t.updatedDocuments.map(e=>({...e,content:m0(e.content)}))),t),y0={type:it.OBJECT,properties:{id:{type:it.STRING},title:{type:it.STRING},category:{type:it.STRING},content:{type:it.ARRAY,items:{type:it.OBJECT,properties:{type:{type:it.STRING,enum:["heading","paragraph","list","image","blockquote","definition_list"]},level:{type:it.INTEGER,description:"Apenas para blocos 'heading'. Níveis 1, 2 ou 3."},text:{type:it.STRING,description:"O conteúdo de texto para blocos 'heading', 'paragraph' e 'blockquote'."},style:{type:it.STRING,enum:["unordered","ordered"],description:"Apenas para blocos 'list'."},items:{oneOf:[{type:it.ARRAY,items:{type:it.STRING},description:"Uma array de strings de itens para blocos 'list'."},{type:it.ARRAY,items:{type:it.OBJECT,properties:{term:{type:it.STRING},description:{type:it.STRING}},required:["term","description"]},description:"Apenas para blocos 'definition_list'. Uma array de objetos com 'term' e 'description'."}]},id:{type:it.STRING,description:"O ID único para blocos 'image'."},caption:{type:it.STRING,description:"A legenda para blocos 'image'."}},required:["type"]}}},required:["id","title","category","content"]},Tw={type:it.OBJECT,properties:{newDocuments:{type:it.ARRAY,description:"Array de documentos inteiramente novos. Se nenhum for criado, retorne um array vazio [].",items:y0},updatedDocuments:{type:it.ARRAY,description:"Array de documentos existentes que foram modificados. Retorne o objeto completo para cada documento modificado. Se nenhum for modificado, retorne um array vazio [].",items:y0},deletedDocumentIds:{type:it.ARRAY,description:"Array de IDs de documentos a serem excluídos. Se nenhum for removido, retorne um array vazio [].",items:{type:it.STRING}},summary:{type:it.STRING,description:"Um breve resumo em uma frase das mudanças feitas."},thinkingProcess:{type:it.ARRAY,description:"Uma lista passo a passo em Português Brasileiro descrevendo o raciocínio para as mudanças feitas.",items:{type:it.STRING}}},required:["newDocuments","updatedDocuments","deletedDocumentIds","summary","thinkingProcess"]};async function Sw(t,e,r,o){const s=async(d,h=0)=>{const p=await ps.models.generateContentStream({model:"gemini-2.5-flash",contents:d,config:e});let m="";for await(const y of p)y.text&&(m+=y.text,r(h+Dd(m)));return m};let c=await s(t);try{let d=JSON.parse(c);if(!d.newDocuments||!d.updatedDocuments||!d.deletedDocumentIds||!d.summary||!d.thinkingProcess)throw new Error("A resposta da IA está faltando campos obrigatórios.");return d=g0(d),{payload:d,rawJson:c}}catch(d){console.warn("Falha ao analisar o JSON da primeira tentativa, tentando continuar.",{error:d,partialJson:c}),o("A resposta da IA foi longa e foi cortada. Solicitando a continuação para completar a tarefa...");let h="Nenhum processo de raciocínio foi capturado na resposta parcial.";try{const S=c.match(/"thinkingProcess"\s*:\s*\[\s*([^\]]*)/);if(S&&S[1]){const E=S[1].match(/"(.*?)"/g);E&&(h=E.map(D=>` - ${JSON.parse(D)}`).join(`
`))}}catch(S){console.error("Não foi possível extrair o processo de raciocínio.",S)}const p=`${t}

---
CONTEXTO DA SUA TENTATIVA ANTERIOR (que foi interrompida):
Seu processo de raciocínio parcial foi:
${h}

Sua resposta JSON parcial foi:
${c}
---

Continue o que estava fazendo.`,m=Dd(c),y=await s(p,m),x=c+y;try{let S=JSON.parse(x);if(!S.newDocuments||!S.updatedDocuments||!S.deletedDocumentIds||!S.summary||!S.thinkingProcess)throw new Error("A resposta da IA na segunda tentativa também está faltando campos obrigatórios.");return console.log("Continuação bem-sucedida! JSON combinado analisado com sucesso."),S=g0(S),{payload:S,rawJson:x}}catch(S){throw console.error("Falha ao analisar o JSON mesmo após a continuação.",{retryError:S,finalJson:x}),new Error("Falha ao obter uma resposta JSON válida da IA, mesmo após uma nova tentativa. A resposta combinada era inválida. Por favor, tente simplificar sua instrução.")}}}async function l5(t,e,r,o,s,c){const d=Bo(e),p=`
    ${r==="GDD"?"Você é um game designer especialista gerenciando um Documento de Design de Jogo (GDD) interligado.":"Você é um roteirista sênior gerenciando um Roteiro de Jogo cronológico interligado."}
    Sua tarefa é integrar de forma inteligente e focada uma nova ideia/texto fornecida por um usuário na estrutura do documento existente.
    O objetivo principal é manter cada documento coeso e focado em seu próprio assunto, evitando a saturação de links e informações tangenciais.

    **REGRAS CRÍTicas:**
    1.  **Princípio do Foco do Documento:** Cada documento deve ter um propósito claro e se concentrar em seu próprio tópico. Não adicione detalhes extensos sobre um conceito se ele já tiver seu próprio documento dedicado. A integração deve ocorrer no local mais apropriado.
    2.  **Integração Direta:** Analise a ideia do usuário e determine o melhor local para integrá-la. Isso pode significar criar um novo documento para uma nova mecânica ou adicionar um parágrafo a um documento existente.
    3.  **Links Internos com Moderação:** Ao adicionar conteúdo, crie um link para outro documento (usando [[Título do Documento]]) SOMENTE se a referência for **essencial e direta** para a compreensão do texto atual. Evite links para documentos com relação apenas indireta. NÃO sature o texto com links; a clareza é mais importante que a interconexão exaustiva. Se você renomear um documento, atualize os links existentes para ele.
    4.  **Edições Precisas:** Faça apenas as alterações estritamente necessárias. NÃO reescreva partes de um documento que não foram afetadas pela ideia. Modifique apenas o texto relevante para incorporar a nova ideia.
    5.  **Formato de Saída:** Sua resposta DEVE ser um único objeto JSON com as chaves especificadas no esquema.
    6.  **Raciocínio (thinkingProcess):** Forneça uma lista passo a passo descrevendo seu raciocínio. Explique por que você está criando ou atualizando documentos específicos, justificando a relevância da alteração para aquele documento. Este campo é OBRIGATÓRIO.
    7.  **Preservar IDs:** Você DEVE preservar o 'id' dos documentos e blocos de imagem existentes.
    8.  **Novos IDs:** Para novos documentos, gere um ID único usando o timestamp atual como uma string (ex: "${Date.now()}").
    9.  **Idioma:** Toda a sua saída (títulos, conteúdo, resumo) DEVE ESTAR EM PORTUGUÊS BRASILEIRO.
    10. **Estrutura do Conteúdo:** Adira à estrutura de blocos de conteúdo.

    **Novos Blocos de Conteúdo:**
    - **Blockquote (\`blockquote\`):** Use para citações, diálogos, ou para destacar um parágrafo que necessita de ênfase especial, separando-o visualmente do texto principal.
    - **Lista de Definição (\`definition_list\`):** Use para pares de termo-definição. Ideal para explicar mecânicas, atributos, ou glossários. Exemplo: 'Mecânica: [descrição]' deve se tornar um item em uma lista de definição.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(d,null,2)}
    ---

    **NOVA IDEIA PARA INTEGRAR:**
    ---
    ${t}
    ---

    Agora, execute a integração focada e retorne APENAS AS ALTERAÇÕES no formato JSON especificado.
  `,m={responseMimeType:"application/json",responseSchema:Tw,maxOutputTokens:c.maxOutputTokens,thinkingConfig:{thinkingBudget:c.thinkingBudget}};try{return await Sw(p,m,o,s)}catch(y){throw console.error("Erro final ao chamar a API Gemini para integração de ideia:",y),new Error(y instanceof Error?y.message:"Falha ao obter uma resposta válida da IA.")}}async function u5(t,e,r,o){const c=`
      Você é um assistente de escrita. Sua tarefa é reescrever o texto fornecido com base na instrução dada.
      ${r?`
      CONTEXTO DO DOCUMENTO (APENAS DOCUMENTOS RELEVANTES):
      ---
      ${JSON.stringify(Bo(r).map(d=>({title:d.title,category:d.category,content:d.content})),null,2)}
      ---
    `:""}
      Responda APENAS com o texto reescrito, dentro de um objeto JSON com uma única chave "rewrittenText". Não adicione nenhuma explicação ou formatação extra.
      Todos os links internos no formato [[Título do Documento]], [[Título do Documento#Texto do Título]] ou [[img:id-da-imagem]] devem ser preservados.

      INSTRUÇÃO:
      "${e}"

      TEXTO ORIGINAL A SER REESCRITO:
      ---
      ${t}
      ---
    `;try{const d=await ps.models.generateContentStream({model:"gemini-2.5-flash",contents:c,config:{responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{rewrittenText:{type:it.STRING,description:"O texto reescrito."}},required:["rewrittenText"]},maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}});let h="";for await(const y of d)y.text&&(h+=y.text,o(Dd(h)));const p=h.trim(),m=JSON.parse(p);if(typeof m.rewrittenText!="string")throw new Error("A resposta da IA não continha o texto reescrito esperado.");return m.rewrittenText}catch(d){throw console.error("Erro ao chamar a API Gemini para aprimorar o texto:",d),new Error("Falha ao obter uma resposta válida da IA para o aprimoramento do texto.")}}async function c5(t,e,r,o,s,c){const d=r==="GDD"?"Documento de Design de Jogo (GDD)":"Roteiro de Jogo",h=Bo(e),p=`
    Você é um especialista encarregado de gerenciar um ${d} interligado.
    Sua tarefa é realizar uma atualização de alto nível em todo o documento com base na instrução de um usuário.

    **REGRAS CRÍTICAS:**
    1.  **Formato de Saída:** Sua resposta DEVE ser um único objeto JSON com as chaves especificadas no esquema.
    2.  **Raciocínio (thinkingProcess):** Forneça uma lista passo a passo descrevendo seu raciocínio para as mudanças. Explique por que você está criando, atualizando ou excluindo documentos. Este campo é OBRIGATÓRIO.
    3.  **Preservar IDs:** Ao atualizar um documento existente, você DEVE preservar seu 'id' original. Para blocos de imagem, você DEVE preservar seu 'id' original.
    4.  **IDs de Novos Documentos:** Para quaisquer novos documentos que você criar, gere um ID único usando o timestamp atual como uma string (ex: "${Date.now()}").
    5.  **Edições Focadas:** Faça apenas as alterações estritamente necessárias para cumprir a instrução. Não reescreva ou reorganize partes do documento que não estão diretamente relacionadas à instrução do usuário.
    6.  **Blocos de Imagem:** Você NÃO PODE criar novos blocos de imagem ou inventar IDs de imagem. Você pode mover blocos de imagem existentes, alterar suas legendas ('caption') ou excluí-los, mas o campo 'id' de uma imagem existente DEVE ser preservado.
    7.  **Sem Deleções de Documentos:** Por segurança, não delete nenhum documento. Você pode atualizar o conteúdo para ficar vazio ou marcar o documento como obsoleto no título, mas não o remova do array de saída.
    8.  **Links Internos:** Mantenha e atualize meticulosamente todos os links internos. Use o formato [[Título do Documento]] para vincular a um documento. Para vincular a um título específico dentro de um documento, use o formato [[Título do Documento#Texto do Título]]. Se você renomear um documento ou um título, atualize TODOS os links que apontam para ele em todo o GDD/Roteiro. Links de imagem usam [[img:id-da-imagem]].
    9.  **Idioma:** Toda a sua saída (títulos, conteúdo, etc.) DEVE ESTAR EM PORTUGUÊS BRASILEIRO.
    
    **Novos Blocos de Conteúdo:**
    - **Blockquote (\`blockquote\`):** Use para citações, diálogos, ou para destacar um parágrafo que necessita de ênfase especial, separando-o visualmente do texto principal.
    - **Lista de Definição (\`definition_list\`):** Use para pares de termo-definição. Ideal para explicar mecânicas, atributos, ou glossários. Exemplo: 'Mecânica: [descrição]' deve se tornar um item em uma lista de definição.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(h,null,2)}
    ---

    **INSTRUÇÃO DO USUÁRIO:**
    ---
    ${t}
    ---

    Agora, execute as atualizações solicitadas e retorne APENAS AS ALTERAÇÕES no formato JSON especificado.
  `,m={responseMimeType:"application/json",responseSchema:Tw,maxOutputTokens:c.maxOutputTokens,thinkingConfig:{thinkingBudget:c.thinkingBudget}};try{return await Sw(p,m,o,s)}catch(y){throw console.error("Erro final ao chamar a API Gemini para atualização global:",y),new Error(y instanceof Error?y.message:"Falha ao obter uma resposta válida da IA.")}}function f5(t,e){const r={GDD:Bo(t),Roteiro:Bo(e)},o=`
        Você é um assistente especialista em design de jogos. Sua finalidade é responder a perguntas sobre o Documento de Design de Jogo (GDD) e o Roteiro fornecidos. 
        Você NÃO DEVE inventar informações. Baseie todas as suas respostas estritamente no contexto fornecido.
        NÃO se ofereça para modificar os documentos. Seu papel é apenas consultivo.
        Seja conciso e direto em suas respostas.

        Aqui está o contexto completo:
        ---
        ${JSON.stringify(r,null,2)}
        ---
    `;return ps.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:o,maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}})}async function d5(t,e,r,o){let s="";t.content.slice(Math.max(0,e-2),e+1).forEach(p=>{"text"in p&&p.text&&(s+=p.text+`
`),"items"in p&&Array.isArray(p.items)&&(s+=p.items.join(`
`)+`
`)}),s||(s=t.content.map(p=>"text"in p?p.text:"").join(`
`));const d=Bo(r),h=`
        Você é um diretor de arte e artista conceitual trabalhando em um jogo. Sua tarefa é escrever um prompt de geração de imagem detalhado e vívido para o modelo de imagem 'Imagen'.

        **REGRAS CRÍTICAS:**
        1.  **Contexto Completo:** Use o JSON 'DOCUMENTO COMPLETO' abaixo para entender o estilo visual geral, design de personagens, ambientação e lore do jogo. Sua imagem DEVE ser consistente com este contexto.
        2.  **Contexto Específico:** O 'CONTEXTO ESPECÍFICO DA CENA' descreve onde a imagem será inserida. Use-o para entender a cena imediata, a ação e o humor.
        3.  **Instrução do Usuário:** Se uma 'INSTRUÇÃO DO USUÁRIO' for fornecida, ela tem a MAIOR prioridade para o conteúdo da cena. Integre a instrução do usuário de forma criativa, mas AINDA mantenha a consistência com o estilo visual do 'DOCUMENTO COMPLETO'.
        4.  **Formato do Prompt:** O prompt que você escrever deve ser em inglês, altamente descritivo, focado em detalhes visuais e usar termos artísticos. Pense em composição, iluminação, paleta de cores, estilo artístico e emoção.
        5.  **Saída:** Sua resposta DEVE ser um único objeto JSON com uma única chave "image_prompt".

        **DOCUMENTO COMPLETO (GDD/Roteiro):**
        ---
        ${JSON.stringify(d,null,2)}
        ---

        **CONTEXTO ESPECÍFICO DA CENA:**
        ---
        ${s.trim()}
        ---

        **INSTRUÇÃO DO USUÁRIO (se houver):**
        ---
        ${o||"Nenhuma. Crie a imagem com base no contexto da cena e no GDD."}
        ---

        Agora, escreva o prompt para o modelo de imagem e retorne-o no formato JSON especificado.
    `;try{const m=(await ps.models.generateContent({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{image_prompt:{type:it.STRING,description:"O prompt de geração de imagem detalhado em inglês."}},required:["image_prompt"]},thinkingConfig:{thinkingBudget:5e3}}})).text.trim(),y=JSON.parse(m);if(typeof y.image_prompt!="string"||!y.image_prompt)throw new Error("A IA não gerou um prompt de imagem válido.");return y.image_prompt}catch(p){throw console.error("Erro ao chamar a API Gemini para gerar o prompt de imagem:",p),new Error("Falha ao criar um prompt para a imagem. O serviço pode estar indisponível.")}}async function h5(t){try{const e=await ps.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:"16:9"}});if(!e.generatedImages||e.generatedImages.length===0||!e.generatedImages[0].image.imageBytes)throw new Error("A API de imagem não retornou dados de imagem.");return{base64:e.generatedImages[0].image.imageBytes,mimeType:"image/png"}}catch(e){throw console.error("Erro ao chamar a API Imagen para gerar imagem:",e),new Error("Falha ao gerar a imagem. Verifique o prompt ou a disponibilidade do serviço.")}}function p5(t){const e=t.split(",");if(e.length<2)throw new Error("Invalid data URL format for blob conversion");const r=e[0].match(/:(.*?);/);if(!r)throw new Error("Could not parse MIME type from data URL");const o=r[1],s=atob(e[1]);let c=s.length;const d=new Uint8Array(c);for(;c--;)d[c]=s.charCodeAt(c);return new Blob([d],{type:o})}async function v0(t,e,r,o){const s=t.replace(/\/$/,""),c=JSON.parse(JSON.stringify(r)),d=[],h=[...c.gdd,...c.script];for(const p of h)if(!(!p.content||!Array.isArray(p.content))){for(const m of p.content)if(m.type==="image"&&m.src&&m.src.startsWith("data:image")){const y=(async()=>{try{const x=p5(m.src),S=new File([x],`image-${Date.now()}.${x.type.split("/")[1]||"png"}`,{type:x.type}),E=new FormData;E.append("file",S);const D=await fetch(`${s}/upload-imagem`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:E});if(!D.ok){const U=await D.text();throw new Error(`Falha no upload da imagem: ${D.status} - ${U}`)}const C=await D.json();if(!C.url)throw new Error("A resposta do upload de imagem não continha uma URL.");m.src=C.url}catch(x){throw console.error("Erro ao processar e fazer upload de uma imagem:",x),x}})();d.push(y)}}try{await Promise.all(d);const p=await fetch(`${s}/versions`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({type:o.type,name:o.name,gddData:c})});if(!p.ok){const m=await p.text();throw new Error(`Erro do servidor ao salvar a versão: ${p.status} - ${m}`)}return await p.json()}catch(p){throw console.error("Falha ao salvar versão na nuvem:",p),new Error(`Falha na comunicação com o servidor: ${p instanceof Error?p.message:"Erro desconhecido"}`)}}async function m5(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/versions`,{method:"GET",headers:{"X-Access-Key":e}});if(!o.ok){const c=await o.text();throw new Error(`Erro do servidor: ${o.status} - ${c}`)}const s=await o.json();if(!s||!Array.isArray(s.manual)||!Array.isArray(s.automatic))throw new Error("Dados de versões recebidos da nuvem estão em um formato inválido.");return s}catch(o){throw console.error("Falha ao buscar versões da nuvem:",o),new Error(`Falha na comunicação com o servidor: ${o instanceof Error?o.message:"Erro desconhecido"}`)}}async function w0(t,e,r){const o=t.replace(/\/$/,"");try{const s=await fetch(`${o}/versions/${r}`,{method:"GET",headers:{"X-Access-Key":e}});if(!s.ok){const d=await s.text();throw new Error(`Erro do servidor: ${s.status} - ${d}`)}const c=await s.json();if(!c||!Array.isArray(c.gdd)||!Array.isArray(c.script))throw new Error("Dados da versão recebidos da nuvem estão em um formato inválido.");return c}catch(s){throw console.error("Falha ao carregar versão da nuvem:",s),new Error(`Falha na comunicação com o servidor: ${s instanceof Error?s.message:"Erro desconhecido"}`)}}async function x0(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/versions/latest/meta`,{method:"GET",headers:{"X-Access-Key":e}});if(o.status===404)return null;if(!o.ok){const c=await o.text();throw new Error(`Erro do servidor: ${o.status} - ${c}`)}const s=await o.json();if(!s||!s.id||!s.timestamp)throw new Error("Metadados da versão mais recente recebidos em formato inválido.");return s}catch(o){throw console.error("Falha ao buscar metadados da versão mais recente:",o),new Error(`Falha na comunicação com o servidor: ${o instanceof Error?o.message:"Erro desconhecido"}`)}}const g5="GDD_DATABASE",y5=1,jl="gdd_documents",Ql="script_documents",Ew="all_docs";let is=null;function _w(){return is||(is=new Promise((t,e)=>{const r=indexedDB.open(g5,y5);r.onerror=()=>{console.error("IndexedDB error:",r.error),e("Error opening IndexedDB."),is=null},r.onsuccess=()=>{t(r.result)},r.onupgradeneeded=o=>{const s=o.target.result;s.objectStoreNames.contains(jl)||s.createObjectStore(jl),s.objectStoreNames.contains(Ql)||s.createObjectStore(Ql)}}),is)}async function bw(t){const e=await _w();return new Promise((r,o)=>{const d=e.transaction(t,"readonly").objectStore(t).get(Ew);d.onerror=()=>o(`Error getting docs from ${t}`),d.onsuccess=()=>r(d.result||null)})}async function Cw(t,e){const r=await _w();return new Promise((o,s)=>{const h=r.transaction(t,"readwrite").objectStore(t).put(e,Ew);h.onerror=()=>s(`Error saving docs to ${t}`),h.onsuccess=()=>o()})}const v5=()=>bw(jl),T0=t=>Cw(jl,t),w5=()=>bw(Ql),S0=t=>Cw(Ql,t),us=[{id:"1",title:"Princípios de Design de Personagem",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Nosso design de personagem segue uma abordagem de 'realismo estilizado'. As características principais incluem silhuetas exageradas e rostos expressivos. Todos os personagens devem se encaixar na estética definida no [[Guia de Estilo Visual]]. O protagonista principal, Kael, é projetado para ser ágil e misterioso."}]},{id:"2",title:"Guia de Estilo Visual",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O estilo visual do jogo é uma fusão de cyberpunk e mitologia antiga. Usamos uma paleta de cores de alto contraste com detalhes em neon contra ambientes escuros e chuvosos. A inspiração é tirada de filmes clássicos neo-noir. Todos os assets devem seguir estas diretrizes."}]},{id:"3",title:"Loop Principal de Gameplay",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O loop principal é: EXPLORAR, LUTAR, MELHORAR. Os jogadores exploram o mundo para encontrar recursos e missões. Eles se envolvem em nossas [[Mecânicas de Combate]] para superar desafios. Finalmente, eles usam recompensas para melhorar seus equipamentos e habilidades."}]},{id:"4",title:"Mecânicas de Combate",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O combate é um sistema de terceira pessoa em ritmo acelerado, focado em esquivar e contra-atacar. Os jogadores têm um ataque leve, um ataque pesado e habilidades especiais ligadas aos [[Amuletos]] equipados. O gerenciamento de estamina é crucial."}]},{id:"5",title:"Música Tema Principal",category:"Som",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O tema principal é uma peça orquestral com toques eletrônicos, refletindo o cenário do jogo. Deve ser memorável e evoluir durante momentos chave da história, conforme descrito no [[Arco da História Principal]]."}]},{id:"6",title:"Arco da História Principal",category:"História",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"A história segue Kael, um pária que descobre ser a chave para impedir uma profecia de fim do mundo. O arco é dividido em três atos: O Despertar, A Descida e O Acerto de Contas. A jornada de Kael é de autodescoberta e sacrifício."}]},{id:"7",title:"Amuletos",category:"Lógica",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Amuletos são itens mágicos que concedem habilidades especiais. Existem três tipos: Ofensivo, Defensivo e Utilitário. Cada amuleto tem um período de recarga e um custo de energia. Os jogadores podem equipar até dois ao mesmo tempo."}]}],cs=[{id:"script-1",title:"Ato 1: O Despertar - Missão 1",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Cutscene de Abertura",level:2},{type:"paragraph",text:"A cena começa com Kael acordando em um beco chuvoso, sem memória. Uma figura misteriosa se aproxima e lhe entrega um amuleto brilhante antes de desaparecer nas sombras."},{type:"heading",text:"Objetivos da Missão",level:2},{type:"list",style:"ordered",items:["Siga o rastro da figura misteriosa.","Aprenda a usar as habilidades básicas de combate.","Encontre o primeiro refúgio seguro."]}]},{id:"script-2",title:"Ato 1: O Despertar - Missão 2",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Encontrando o Mentor",level:2},{type:"paragraph",text:"Kael chega ao refúgio e encontra um velho chamado Elara, que explica a importância dos [[Amuletos]] e o perigo que se aproxima. Elara se torna o mentor de Kael."},{type:"heading",text:"Diálogo Chave",level:2},{type:"paragraph",text:'Elara: "Esse amuleto... é parte de você agora. Ele o guiará, mas também o marcará como um alvo. Você deve aprender a controlá-lo antes que eles o encontrem."'}]}],x5=t=>Math.round((t||"").length/3.5),E0=(t,e)=>{const r=new Map;t.forEach(p=>{p.content.forEach(m=>{m.type==="image"&&m.src&&r.set(m.id,m.src)})});const o=p=>({...p,content:p.content.map(m=>{if(m.type==="image"&&m.id&&!m.src){const y=r.get(m.id);return{...m,src:y||""}}return m})}),s=new Date().toISOString(),c=new Map(t.map(p=>[p.id,p]));e.deletedDocumentIds.forEach(p=>{c.delete(p)}),e.updatedDocuments.forEach(p=>{const m=o(p);c.set(p.id,{...m,lastEdited:s})});const d=e.newDocuments.map(p=>({...o(p),lastEdited:s}));return[...c.values(),...d]},Il=t=>{if(!Array.isArray(t))return[];const e=new Date().toISOString();return t.map(r=>({...r,lastEdited:r.lastEdited||e}))},_0="interactive-gdd-documents",b0="interactive-gdd-script-documents",T5=()=>{const[t,e]=Ie.useState(null),[r,o]=Ie.useState(null),[s,c]=Ie.useState(!0),[d,h]=Ie.useState(null),[p,m]=Ie.useState("gdd"),[y,x]=Ie.useState(null),[S,E]=Ie.useState(null),[D,C]=Ie.useState(""),[U,R]=Ie.useState(null);Ie.useEffect(()=>{async function ue(){try{let K=await v5(),J=await w5();if(!K)try{const Q=window.localStorage.getItem(_0);Q&&(K=JSON.parse(Q),await T0(K),window.localStorage.removeItem(_0))}catch(Q){console.error("Não foi possível migrar o GDD do localStorage",Q)}if(!J)try{const Q=window.localStorage.getItem(b0);Q&&(J=JSON.parse(Q),await S0(J),window.localStorage.removeItem(b0))}catch(Q){console.error("Não foi possível migrar os Roteiros do localStorage",Q)}K||(K=us),J||(J=cs);const O=Il(K),Y=Il(J);e(O),o(Y),O.length>0&&x(O[0].id),Y.length>0&&E(Y[0].id)}catch(K){console.error("Falha ao carregar documentos da persistência",K),h("Não foi possível carregar os dados salvos. Começando com um novo conjunto de documentos."),e(Il(us)),o(Il(cs)),us.length>0&&x(us[0].id),cs.length>0&&E(cs[0].id)}finally{c(!1)}}ue()},[]),Ie.useEffect(()=>{t&&!s&&T0(t).catch(ue=>{console.error("Falha ao salvar documentos do GDD no IndexedDB",ue),h("Falha ao salvar as alterações do GDD. Seus dados podem não persistir.")})},[t,s]),Ie.useEffect(()=>{r&&!s&&S0(r).catch(ue=>{console.error("Falha ao salvar documentos de roteiro no IndexedDB",ue),h("Falha ao salvar as alterações do Roteiro. Seus dados podem não persistir.")})},[r,s]);const I=Ie.useMemo(()=>(p==="gdd"?t:r)||[],[p,t,r]),P=Ie.useMemo(()=>p==="gdd"?y:S,[p,y,S]),H=Ie.useMemo(()=>{const ue=K=>K?K.trim().split(/\s+/).filter(Boolean).length:0;return I.reduce((K,J)=>{let O=ue(J.title);return Array.isArray(J.content)&&J.content.forEach(Y=>{Y.type==="heading"||Y.type==="paragraph"?O+=ue(Y.text):Y.type==="list"&&Array.isArray(Y.items)?Y.items.forEach(Q=>O+=ue(Q)):Y.type==="image"&&(O+=ue(Y.caption))}),K+O},0)},[I]),q=Ie.useMemo(()=>{if(!D.trim())return[];const ue=[],K=D.trim().toLowerCase(),J=[...(t||[]).map(Y=>({...Y,viewMode:"gdd"})),...(r||[]).map(Y=>({...Y,viewMode:"script"}))],O=(Y,Q)=>{const ee=Y.toLowerCase().indexOf(Q);if(ee===-1)return null;const $=Math.max(0,ee-40),M=Math.min(Y.length,ee+Q.length+40),N=($>0?"...":"")+Y.substring($,M)+(M<Y.length?"...":""),te=new RegExp(`(${D.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi"),W=N.split(te);return fs.createElement(fs.Fragment,null,...W.map((z,F)=>F%2===1?fs.createElement("mark",{key:F,className:"bg-yellow-400 text-black px-0.5 rounded-sm"},z):z))};return J.forEach(Y=>{const Q=new Set;if(Y.title.toLowerCase().includes(K)){const ee=O(Y.title,K);ee&&Q.add(ee)}Y.content.forEach(ee=>{let $=[];(ee.type==="heading"||ee.type==="paragraph")&&ee.text?$.push(ee.text):ee.type==="list"&&ee.items?$.push(...ee.items.filter(Boolean)):ee.type==="image"&&ee.caption&&$.push(ee.caption),$.forEach(M=>{if(M.toLowerCase().includes(K)){const N=O(M,K);N&&Q.add(N)}})}),Q.size>0&&ue.push({docId:Y.id,docTitle:Y.title,category:Y.category,viewMode:Y.viewMode,snippets:Array.from(Q)})}),ue},[D,t,r]),ce=Ie.useMemo(()=>I.find(ue=>ue.id===P)||null,[P,I]),se=Ie.useMemo(()=>[...new Set(I.map(ue=>ue.category))],[I]);return{documents:t,scriptDocuments:r,setDocuments:e,setScriptDocuments:o,isDBLoading:s,dbError:d,viewMode:p,setViewMode:m,activeDocuments:I,activeDocumentId:P,categories:se,activeDocument:ce,totalWordCount:H,searchQuery:D,setSearchQuery:C,searchResults:q,scrollToHeading:U,setScrollToHeading:R,handleSelectDocument:ue=>{(t||[]).some(J=>J.id===ue)?(m("gdd"),x(ue)):(m("script"),E(ue)),C("")},handleSelectSearchResult:(ue,K)=>{m(K),K==="gdd"?x(ue):E(ue),C("")},handleNavigate:(ue,K)=>{(t||[]).some(O=>O.id===ue)?(m("gdd"),x(ue)):(m("script"),E(ue)),R(K||null)},handleDidScrollToHeading:()=>R(null),handleUpdateBlock:(ue,K,J,O)=>{const Q=(t||[]).some($=>$.id===ue)?e:o,ee=new Date().toISOString();Q($=>($||[]).map(M=>{if(M.id!==ue)return M;const N=[...M.content],te={...N[K]};if(te.type==="list"&&O!==void 0&&Array.isArray(te.items)){const W=[...te.items];W[O]=J,te.items=W}else te.type==="heading"||te.type==="paragraph"?te.text=J:te.type==="image"&&O===void 0&&(te.caption=J);return N[K]=te,{...M,content:N,lastEdited:ee}}))},handleSetContent:(ue,K)=>{const O=(t||[]).some(Q=>Q.id===ue)?e:o,Y=new Date().toISOString();O(Q=>(Q||[]).map(ee=>ee.id===ue?{...ee,content:K,lastEdited:Y}:ee))},handleUpdateBlockContent:(ue,K,J)=>{const Y=(t||[]).some(ee=>ee.id===ue)?e:o,Q=new Date().toISOString();Y(ee=>(ee||[]).map($=>{if($.id!==ue)return $;const M=[...$.content],N=M[K];return N?(M[K]={...N,...J},{...$,content:M,lastEdited:Q}):$}))},handleUpdateCategoryName:(ue,K)=>{if(!K||K.trim()===""||ue===K)return;const J=p==="gdd"?e:o,O=new Date().toISOString();J(Y=>(Y||[]).map(Q=>Q.category===ue?{...Q,category:K,lastEdited:O}:Q))},handleUpdateDocumentTitle:(ue,K)=>{if(!K||K.trim()==="")return;const J=p==="gdd"?e:o,O=new Date().toISOString();J(Y=>{var N;const Q=Y||[],ee=(N=Q.find(te=>te.id===ue))==null?void 0:N.title;if(!ee||ee===K)return Q;const $=new RegExp(`\\[\\[${ee.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\]`,"gi"),M=`[[${K}]]`;return Q.map(te=>{let W=!1,z={...te};te.id===ue&&(z.title=K,W=!0);const F=z.content.map(ie=>{var b;if((ie.type==="heading"||ie.type==="paragraph")&&((b=ie.text)!=null&&b.match($)))return W=!0,{...ie,text:ie.text.replace($,M)};if(ie.type==="list"&&Array.isArray(ie.items)){let re=!1;const k=ie.items.map(v=>v!=null&&v.match($)?(re=!0,v.replace($,M)):v);if(re)return W=!0,{...ie,items:k}}return ie});return W&&(z.lastEdited=O),{...z,content:F}})})},handleReorderDocuments:(ue,K)=>{(p==="gdd"?e:o)(O=>{const Y=O||[],Q=Y.findIndex(W=>W.id===ue),ee=Y.findIndex(W=>W.id===K);if(Q===-1||ee===-1)return Y;const $=Y[Q],M=Y[ee];if($.category!==M.category)return Y;const N=[...Y];N.splice(Q,1);const te=N.findIndex(W=>W.id===K);return N.splice(te,0,$),N})},handleReorderCategories:(ue,K)=>{(p==="gdd"?e:o)(O=>{const Y=O||[],Q=[...new Set(Y.map(z=>z.category))],ee=Q.indexOf(ue),$=Q.indexOf(K);if(ee===-1||$===-1)return Y;const M=[...Q],[N]=M.splice(ee,1);M.splice($,0,N);const te=new Map;Y.forEach(z=>{te.has(z.category)||te.set(z.category,[]),te.get(z.category).push(z)});const W=[];return M.forEach(z=>{const F=te.get(z)||[];W.push(...F)}),W})}}},C0="nil",S5=()=>{const[t,e]=Ie.useState(null),[r,o]=Ie.useState(null);return Ie.useEffect(()=>{if(window.opener&&window.location.hash.includes("access_token")){try{const d=new URLSearchParams(window.location.hash.substring(1)).get("access_token");d&&window.opener.handleGoogleAuthCallback&&window.opener.handleGoogleAuthCallback(d)}catch(c){console.error("Erro ao processar o callback de autenticação do Google:",c)}finally{window.close()}return}return window.handleGoogleAuthCallback=c=>{c&&e(c)},()=>{delete window.handleGoogleAuthCallback}},[]),{googleAccessToken:t,authError:r,handleGoogleAuthClick:()=>{if(o(null),C0.startsWith("SEU_ID_DE_CLIENTE_AQUI")){o("Por favor, configure o ID de Cliente do Google para usar a integração com o Google Drive.");return}let c;try{const S=window.top.location;c=`${S.protocol}//${S.host}${S.pathname}`}catch(S){console.warn("Não foi possível acessar window.top.location para determinar a URI de redirecionamento, recorrendo a window.location.",S);const E=window.location;c=`${E.protocol}//${E.host}${E.pathname}`}const h=`https://accounts.google.com/o/oauth2/v2/auth?scope=${encodeURIComponent("https://www.googleapis.com/auth/drive.file")}&include_granted_scopes=true&response_type=token&redirect_uri=${encodeURIComponent(c)}&client_id=${C0}`,p=600,m=700,y=(window.innerWidth-p)/2,x=(window.innerHeight-m)/2;window.open(h,"googleAuth",`width=${p},height=${m},left=${y},top=${x},resizable=yes,scrollbars=yes,status=yes`)}}};var E5=Object.defineProperty,_5=Object.defineProperties,b5=Object.getOwnPropertyDescriptors,A0=Object.getOwnPropertySymbols,C5=Object.prototype.hasOwnProperty,A5=Object.prototype.propertyIsEnumerable,Md=(t,e,r)=>e in t?E5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ut=(t,e)=>{for(var r in e||(e={}))C5.call(e,r)&&Md(t,r,e[r]);if(A0)for(var r of A0(e))A5.call(e,r)&&Md(t,r,e[r]);return t},Po=(t,e)=>_5(t,b5(e)),Se=(t,e,r)=>(Md(t,typeof e!="symbol"?e+"":e,r),r),kl=(t,e,r)=>new Promise((o,s)=>{var c=p=>{try{h(r.next(p))}catch(m){s(m)}},d=p=>{try{h(r.throw(p))}catch(m){s(m)}},h=p=>p.done?o(p.value):Promise.resolve(p.value).then(c,d);h((r=r.apply(t,e)).next())});class eu{constructor(e){Se(this,"rootKey"),this.rootKey=e}}const R5=Object.seal({});class Ee extends eu{constructor(e){super(e),Se(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const o=this.root.map(s=>s instanceof eu?s.prepForXml(e):s).filter(s=>s!==void 0);return e.stack.pop(),{[this.rootKey]:o.length?o.length===1&&((r=o[0])!=null&&r._attr)?o[0]:o:R5}}addChildElement(e){return this.root.push(e),this}}class au extends Ee{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Oe extends eu{constructor(e){super("_attr"),Se(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.keys(this.root).forEach(o=>{const s=this.root[o];if(s!==void 0){const c=this.xmlKeys&&this.xmlKeys[o]||o;r[c]=s}}),{_attr:r}}}class Yo extends eu{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:o})=>o!==void 0).reduce((o,{key:s,value:c})=>Po(ut({},o),{[s]:c}),{})}}}class zt extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Aw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rw={},Jd={exports:{}},Mo=typeof Reflect=="object"?Reflect:null,R0=Mo&&typeof Mo.apply=="function"?Mo.apply:function(e,r,o){return Function.prototype.apply.call(e,r,o)},Yl;Mo&&typeof Mo.ownKeys=="function"?Yl=Mo.ownKeys:Object.getOwnPropertySymbols?Yl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Yl=function(e){return Object.getOwnPropertyNames(e)};function N5(t){console&&console.warn&&console.warn(t)}var Nw=Number.isNaN||function(e){return e!==e};function xt(){xt.init.call(this)}Jd.exports=xt;Jd.exports.once=k5;xt.EventEmitter=xt;xt.prototype._events=void 0;xt.prototype._eventsCount=0;xt.prototype._maxListeners=void 0;var N0=10;function su(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(xt,"defaultMaxListeners",{enumerable:!0,get:function(){return N0},set:function(t){if(typeof t!="number"||t<0||Nw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");N0=t}});xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Nw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Dw(t){return t._maxListeners===void 0?xt.defaultMaxListeners:t._maxListeners}xt.prototype.getMaxListeners=function(){return Dw(this)};xt.prototype.emit=function(e){for(var r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);var s=e==="error",c=this._events;if(c!==void 0)s=s&&c.error===void 0;else if(!s)return!1;if(s){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var p=c[e];if(p===void 0)return!1;if(typeof p=="function")R0(p,this,r);else for(var m=p.length,y=Lw(p,m),o=0;o<m;++o)R0(y[o],this,r);return!0};function Mw(t,e,r,o){var s,c,d;if(su(r),c=t._events,c===void 0?(c=t._events=Object.create(null),t._eventsCount=0):(c.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),c=t._events),d=c[e]),d===void 0)d=c[e]=r,++t._eventsCount;else if(typeof d=="function"?d=c[e]=o?[r,d]:[d,r]:o?d.unshift(r):d.push(r),s=Dw(t),s>0&&d.length>s&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=d.length,N5(h)}return t}xt.prototype.addListener=function(e,r){return Mw(this,e,r,!1)};xt.prototype.on=xt.prototype.addListener;xt.prototype.prependListener=function(e,r){return Mw(this,e,r,!0)};function D5(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Iw(t,e,r){var o={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=D5.bind(o);return s.listener=r,o.wrapFn=s,s}xt.prototype.once=function(e,r){return su(r),this.on(e,Iw(this,e,r)),this};xt.prototype.prependOnceListener=function(e,r){return su(r),this.prependListener(e,Iw(this,e,r)),this};xt.prototype.removeListener=function(e,r){var o,s,c,d,h;if(su(r),s=this._events,s===void 0)return this;if(o=s[e],o===void 0)return this;if(o===r||o.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,o.listener||r));else if(typeof o!="function"){for(c=-1,d=o.length-1;d>=0;d--)if(o[d]===r||o[d].listener===r){h=o[d].listener,c=d;break}if(c<0)return this;c===0?o.shift():M5(o,c),o.length===1&&(s[e]=o[0]),s.removeListener!==void 0&&this.emit("removeListener",e,h||r)}return this};xt.prototype.off=xt.prototype.removeListener;xt.prototype.removeAllListeners=function(e){var r,o,s;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[e]),this;if(arguments.length===0){var c=Object.keys(o),d;for(s=0;s<c.length;++s)d=c[s],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=o[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function kw(t,e,r){var o=t._events;if(o===void 0)return[];var s=o[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?I5(s):Lw(s,s.length)}xt.prototype.listeners=function(e){return kw(this,e,!0)};xt.prototype.rawListeners=function(e){return kw(this,e,!1)};xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Uw.call(t,e)};xt.prototype.listenerCount=Uw;function Uw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}xt.prototype.eventNames=function(){return this._eventsCount>0?Yl(this._events):[]};function Lw(t,e){for(var r=new Array(e),o=0;o<e;++o)r[o]=t[o];return r}function M5(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function I5(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function k5(t,e){return new Promise(function(r,o){function s(d){t.removeListener(e,c),o(d)}function c(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}Bw(t,e,c,{once:!0}),e!=="error"&&U5(t,s,{once:!0})})}function U5(t,e,r){typeof t.on=="function"&&Bw(t,"error",e,r)}function Bw(t,e,r,o){if(typeof t.on=="function")o.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(c){o.once&&t.removeEventListener(e,s),r(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Yd=Jd.exports,Id={exports:{}};typeof Object.create=="function"?Id.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Id.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}};var ki=Id.exports;function L5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pw={exports:{}},Vt=Pw.exports={},ir,or;function kd(){throw new Error("setTimeout has not been defined")}function Ud(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ir=setTimeout:ir=kd}catch{ir=kd}try{typeof clearTimeout=="function"?or=clearTimeout:or=Ud}catch{or=Ud}})();function Ow(t){if(ir===setTimeout)return setTimeout(t,0);if((ir===kd||!ir)&&setTimeout)return ir=setTimeout,setTimeout(t,0);try{return ir(t,0)}catch{try{return ir.call(null,t,0)}catch{return ir.call(this,t,0)}}}function B5(t){if(or===clearTimeout)return clearTimeout(t);if((or===Ud||!or)&&clearTimeout)return or=clearTimeout,clearTimeout(t);try{return or(t)}catch{try{return or.call(null,t)}catch{return or.call(this,t)}}}var Nr=[],Io=!1,Ri,Wl=-1;function P5(){!Io||!Ri||(Io=!1,Ri.length?Nr=Ri.concat(Nr):Wl=-1,Nr.length&&Fw())}function Fw(){if(!Io){var t=Ow(P5);Io=!0;for(var e=Nr.length;e;){for(Ri=Nr,Nr=[];++Wl<e;)Ri&&Ri[Wl].run();Wl=-1,e=Nr.length}Ri=null,Io=!1,B5(t)}}Vt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Nr.push(new Gw(t,e)),Nr.length===1&&!Io&&Ow(Fw)};function Gw(t,e){this.fun=t,this.array=e}Gw.prototype.run=function(){this.fun.apply(null,this.array)};Vt.title="browser";Vt.browser=!0;Vt.env={};Vt.argv=[];Vt.version="";Vt.versions={};function Mr(){}Vt.on=Mr;Vt.addListener=Mr;Vt.once=Mr;Vt.off=Mr;Vt.removeListener=Mr;Vt.removeAllListeners=Mr;Vt.emit=Mr;Vt.prependListener=Mr;Vt.prependOnceListener=Mr;Vt.listeners=function(t){return[]};Vt.binding=function(t){throw new Error("process.binding is not supported")};Vt.cwd=function(){return"/"};Vt.chdir=function(t){throw new Error("process.chdir is not supported")};Vt.umask=function(){return 0};var O5=Pw.exports;const nt=L5(O5);var Af,D0;function zw(){return D0||(D0=1,Af=Yd.EventEmitter),Af}var Rf={},os={},M0;function F5(){if(M0)return os;M0=1,os.byteLength=h,os.toByteArray=m,os.fromByteArray=S;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)t[s]=o[s],e[o.charCodeAt(s)]=s;e[45]=62,e[95]=63;function d(E){var D=E.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=E.indexOf("=");C===-1&&(C=D);var U=C===D?0:4-C%4;return[C,U]}function h(E){var D=d(E),C=D[0],U=D[1];return(C+U)*3/4-U}function p(E,D,C){return(D+C)*3/4-C}function m(E){var D,C=d(E),U=C[0],R=C[1],I=new r(p(E,U,R)),P=0,H=R>0?U-4:U,q;for(q=0;q<H;q+=4)D=e[E.charCodeAt(q)]<<18|e[E.charCodeAt(q+1)]<<12|e[E.charCodeAt(q+2)]<<6|e[E.charCodeAt(q+3)],I[P++]=D>>16&255,I[P++]=D>>8&255,I[P++]=D&255;return R===2&&(D=e[E.charCodeAt(q)]<<2|e[E.charCodeAt(q+1)]>>4,I[P++]=D&255),R===1&&(D=e[E.charCodeAt(q)]<<10|e[E.charCodeAt(q+1)]<<4|e[E.charCodeAt(q+2)]>>2,I[P++]=D>>8&255,I[P++]=D&255),I}function y(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function x(E,D,C){for(var U,R=[],I=D;I<C;I+=3)U=(E[I]<<16&16711680)+(E[I+1]<<8&65280)+(E[I+2]&255),R.push(y(U));return R.join("")}function S(E){for(var D,C=E.length,U=C%3,R=[],I=16383,P=0,H=C-U;P<H;P+=I)R.push(x(E,P,P+I>H?H:P+I));return U===1?(D=E[C-1],R.push(t[D>>2]+t[D<<4&63]+"==")):U===2&&(D=(E[C-2]<<8)+E[C-1],R.push(t[D>>10]+t[D>>4&63]+t[D<<2&63]+"=")),R.join("")}return os}var Ul={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var I0;function G5(){return I0||(I0=1,Ul.read=function(t,e,r,o,s){var c,d,h=s*8-o-1,p=(1<<h)-1,m=p>>1,y=-7,x=r?s-1:0,S=r?-1:1,E=t[e+x];for(x+=S,c=E&(1<<-y)-1,E>>=-y,y+=h;y>0;c=c*256+t[e+x],x+=S,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=o;y>0;d=d*256+t[e+x],x+=S,y-=8);if(c===0)c=1-m;else{if(c===p)return d?NaN:(E?-1:1)*(1/0);d=d+Math.pow(2,o),c=c-m}return(E?-1:1)*d*Math.pow(2,c-o)},Ul.write=function(t,e,r,o,s,c){var d,h,p,m=c*8-s-1,y=(1<<m)-1,x=y>>1,S=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=o?0:c-1,D=o?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,d=y):(d=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-d))<1&&(d--,p*=2),d+x>=1?e+=S/p:e+=S*Math.pow(2,1-x),e*p>=2&&(d++,p/=2),d+x>=y?(h=0,d=y):d+x>=1?(h=(e*p-1)*Math.pow(2,s),d=d+x):(h=e*Math.pow(2,x-1)*Math.pow(2,s),d=0));s>=8;t[r+E]=h&255,E+=D,h/=256,s-=8);for(d=d<<s|h,m+=s;m>0;t[r+E]=d&255,E+=D,d/=256,m-=8);t[r+E-D]|=C*128}),Ul}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var k0;function lu(){return k0||(k0=1,(function(t){var e=F5(),r=G5(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var k=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(k,v),k.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(k){if(k>s)throw new RangeError('The value "'+k+'" is invalid for option "size"');var v=new Uint8Array(k);return Object.setPrototypeOf(v,h.prototype),v}function h(k,v,T){if(typeof k=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(k)}return p(k,v,T)}h.poolSize=8192;function p(k,v,T){if(typeof k=="string")return S(k,v);if(ArrayBuffer.isView(k))return D(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(ie(k,ArrayBuffer)||k&&ie(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(k,SharedArrayBuffer)||k&&ie(k.buffer,SharedArrayBuffer)))return C(k,v,T);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=k.valueOf&&k.valueOf();if(A!=null&&A!==k)return h.from(A,v,T);var X=U(k);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return h.from(k[Symbol.toPrimitive]("string"),v,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}h.from=function(k,v,T){return p(k,v,T)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function y(k,v,T){return m(k),k<=0?d(k):v!==void 0?typeof T=="string"?d(k).fill(v,T):d(k).fill(v):d(k)}h.alloc=function(k,v,T){return y(k,v,T)};function x(k){return m(k),d(k<0?0:R(k)|0)}h.allocUnsafe=function(k){return x(k)},h.allocUnsafeSlow=function(k){return x(k)};function S(k,v){if((typeof v!="string"||v==="")&&(v="utf8"),!h.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var T=P(k,v)|0,A=d(T),X=A.write(k,v);return X!==T&&(A=A.slice(0,X)),A}function E(k){for(var v=k.length<0?0:R(k.length)|0,T=d(v),A=0;A<v;A+=1)T[A]=k[A]&255;return T}function D(k){if(ie(k,Uint8Array)){var v=new Uint8Array(k);return C(v.buffer,v.byteOffset,v.byteLength)}return E(k)}function C(k,v,T){if(v<0||k.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<v+(T||0))throw new RangeError('"length" is outside of buffer bounds');var A;return v===void 0&&T===void 0?A=new Uint8Array(k):T===void 0?A=new Uint8Array(k,v):A=new Uint8Array(k,v,T),Object.setPrototypeOf(A,h.prototype),A}function U(k){if(h.isBuffer(k)){var v=R(k.length)|0,T=d(v);return T.length===0||k.copy(T,0,0,v),T}if(k.length!==void 0)return typeof k.length!="number"||b(k.length)?d(0):E(k);if(k.type==="Buffer"&&Array.isArray(k.data))return E(k.data)}function R(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return k|0}function I(k){return+k!=k&&(k=0),h.alloc(+k)}h.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==h.prototype},h.compare=function(v,T){if(ie(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),ie(T,Uint8Array)&&(T=h.from(T,T.offset,T.byteLength)),!h.isBuffer(v)||!h.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===T)return 0;for(var A=v.length,X=T.length,ne=0,j=Math.min(A,X);ne<j;++ne)if(v[ne]!==T[ne]){A=v[ne],X=T[ne];break}return A<X?-1:X<A?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,T){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return h.alloc(0);var A;if(T===void 0)for(T=0,A=0;A<v.length;++A)T+=v[A].length;var X=h.allocUnsafe(T),ne=0;for(A=0;A<v.length;++A){var j=v[A];if(ie(j,Uint8Array))ne+j.length>X.length?h.from(j).copy(X,ne):Uint8Array.prototype.set.call(X,j,ne);else if(h.isBuffer(j))j.copy(X,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=j.length}return X};function P(k,v){if(h.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||ie(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var T=k.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&T===0)return 0;for(var X=!1;;)switch(v){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return N(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return z(k).length;default:if(X)return A?-1:N(k).length;v=(""+v).toLowerCase(),X=!0}}h.byteLength=P;function H(k,v,T){var A=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,v>>>=0,T<=v))return"";for(k||(k="utf8");;)switch(k){case"hex":return ue(this,v,T);case"utf8":case"utf-8":return B(this,v,T);case"ascii":return ae(this,v,T);case"latin1":case"binary":return Ce(this,v,T);case"base64":return pe(this,v,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,v,T);default:if(A)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),A=!0}}h.prototype._isBuffer=!0;function q(k,v,T){var A=k[v];k[v]=k[T],k[T]=A}h.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<v;T+=2)q(this,T,T+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<v;T+=4)q(this,T,T+3),q(this,T+1,T+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<v;T+=8)q(this,T,T+7),q(this,T+1,T+6),q(this,T+2,T+5),q(this,T+3,T+4);return this},h.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?B(this,0,v):H.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:h.compare(this,v)===0},h.prototype.inspect=function(){var v="",T=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(v+=" ... "),"<Buffer "+v+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(v,T,A,X,ne){if(ie(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),!h.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(T===void 0&&(T=0),A===void 0&&(A=v?v.length:0),X===void 0&&(X=0),ne===void 0&&(ne=this.length),T<0||A>v.length||X<0||ne>this.length)throw new RangeError("out of range index");if(X>=ne&&T>=A)return 0;if(X>=ne)return-1;if(T>=A)return 1;if(T>>>=0,A>>>=0,X>>>=0,ne>>>=0,this===v)return 0;for(var j=ne-X,ge=A-T,De=Math.min(j,ge),be=this.slice(X,ne),Le=v.slice(T,A),Pe=0;Pe<De;++Pe)if(be[Pe]!==Le[Pe]){j=be[Pe],ge=Le[Pe];break}return j<ge?-1:ge<j?1:0};function ce(k,v,T,A,X){if(k.length===0)return-1;if(typeof T=="string"?(A=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,b(T)&&(T=X?0:k.length-1),T<0&&(T=k.length+T),T>=k.length){if(X)return-1;T=k.length-1}else if(T<0)if(X)T=0;else return-1;if(typeof v=="string"&&(v=h.from(v,A)),h.isBuffer(v))return v.length===0?-1:se(k,v,T,A,X);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(k,v,T):Uint8Array.prototype.lastIndexOf.call(k,v,T):se(k,[v],T,A,X);throw new TypeError("val must be string, number or Buffer")}function se(k,v,T,A,X){var ne=1,j=k.length,ge=v.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(k.length<2||v.length<2)return-1;ne=2,j/=2,ge/=2,T/=2}function De(Ze,Dt){return ne===1?Ze[Dt]:Ze.readUInt16BE(Dt*ne)}var be;if(X){var Le=-1;for(be=T;be<j;be++)if(De(k,be)===De(v,Le===-1?0:be-Le)){if(Le===-1&&(Le=be),be-Le+1===ge)return Le*ne}else Le!==-1&&(be-=be-Le),Le=-1}else for(T+ge>j&&(T=j-ge),be=T;be>=0;be--){for(var Pe=!0,Ve=0;Ve<ge;Ve++)if(De(k,be+Ve)!==De(v,Ve)){Pe=!1;break}if(Pe)return be}return-1}h.prototype.includes=function(v,T,A){return this.indexOf(v,T,A)!==-1},h.prototype.indexOf=function(v,T,A){return ce(this,v,T,A,!0)},h.prototype.lastIndexOf=function(v,T,A){return ce(this,v,T,A,!1)};function de(k,v,T,A){T=Number(T)||0;var X=k.length-T;A?(A=Number(A),A>X&&(A=X)):A=X;var ne=v.length;A>ne/2&&(A=ne/2);for(var j=0;j<A;++j){var ge=parseInt(v.substr(j*2,2),16);if(b(ge))return j;k[T+j]=ge}return j}function G(k,v,T,A){return F(N(v,k.length-T),k,T,A)}function Te(k,v,T,A){return F(te(v),k,T,A)}function Re(k,v,T,A){return F(z(v),k,T,A)}function Z(k,v,T,A){return F(W(v,k.length-T),k,T,A)}h.prototype.write=function(v,T,A,X){if(T===void 0)X="utf8",A=this.length,T=0;else if(A===void 0&&typeof T=="string")X=T,A=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(A)?(A=A>>>0,X===void 0&&(X="utf8")):(X=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-T;if((A===void 0||A>ne)&&(A=ne),v.length>0&&(A<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var j=!1;;)switch(X){case"hex":return de(this,v,T,A);case"utf8":case"utf-8":return G(this,v,T,A);case"ascii":case"latin1":case"binary":return Te(this,v,T,A);case"base64":return Re(this,v,T,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,v,T,A);default:if(j)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),j=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(k,v,T){return v===0&&T===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(v,T))}function B(k,v,T){T=Math.min(k.length,T);for(var A=[],X=v;X<T;){var ne=k[X],j=null,ge=ne>239?4:ne>223?3:ne>191?2:1;if(X+ge<=T){var De,be,Le,Pe;switch(ge){case 1:ne<128&&(j=ne);break;case 2:De=k[X+1],(De&192)===128&&(Pe=(ne&31)<<6|De&63,Pe>127&&(j=Pe));break;case 3:De=k[X+1],be=k[X+2],(De&192)===128&&(be&192)===128&&(Pe=(ne&15)<<12|(De&63)<<6|be&63,Pe>2047&&(Pe<55296||Pe>57343)&&(j=Pe));break;case 4:De=k[X+1],be=k[X+2],Le=k[X+3],(De&192)===128&&(be&192)===128&&(Le&192)===128&&(Pe=(ne&15)<<18|(De&63)<<12|(be&63)<<6|Le&63,Pe>65535&&Pe<1114112&&(j=Pe))}}j===null?(j=65533,ge=1):j>65535&&(j-=65536,A.push(j>>>10&1023|55296),j=56320|j&1023),A.push(j),X+=ge}return le(A)}var he=4096;function le(k){var v=k.length;if(v<=he)return String.fromCharCode.apply(String,k);for(var T="",A=0;A<v;)T+=String.fromCharCode.apply(String,k.slice(A,A+=he));return T}function ae(k,v,T){var A="";T=Math.min(k.length,T);for(var X=v;X<T;++X)A+=String.fromCharCode(k[X]&127);return A}function Ce(k,v,T){var A="";T=Math.min(k.length,T);for(var X=v;X<T;++X)A+=String.fromCharCode(k[X]);return A}function ue(k,v,T){var A=k.length;(!v||v<0)&&(v=0),(!T||T<0||T>A)&&(T=A);for(var X="",ne=v;ne<T;++ne)X+=re[k[ne]];return X}function K(k,v,T){for(var A=k.slice(v,T),X="",ne=0;ne<A.length-1;ne+=2)X+=String.fromCharCode(A[ne]+A[ne+1]*256);return X}h.prototype.slice=function(v,T){var A=this.length;v=~~v,T=T===void 0?A:~~T,v<0?(v+=A,v<0&&(v=0)):v>A&&(v=A),T<0?(T+=A,T<0&&(T=0)):T>A&&(T=A),T<v&&(T=v);var X=this.subarray(v,T);return Object.setPrototypeOf(X,h.prototype),X};function J(k,v,T){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+v>T)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(v,T,A){v=v>>>0,T=T>>>0,A||J(v,T,this.length);for(var X=this[v],ne=1,j=0;++j<T&&(ne*=256);)X+=this[v+j]*ne;return X},h.prototype.readUintBE=h.prototype.readUIntBE=function(v,T,A){v=v>>>0,T=T>>>0,A||J(v,T,this.length);for(var X=this[v+--T],ne=1;T>0&&(ne*=256);)X+=this[v+--T]*ne;return X},h.prototype.readUint8=h.prototype.readUInt8=function(v,T){return v=v>>>0,T||J(v,1,this.length),this[v]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(v,T){return v=v>>>0,T||J(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(v,T){return v=v>>>0,T||J(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(v,T){return v=v>>>0,T||J(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(v,T){return v=v>>>0,T||J(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,T,A){v=v>>>0,T=T>>>0,A||J(v,T,this.length);for(var X=this[v],ne=1,j=0;++j<T&&(ne*=256);)X+=this[v+j]*ne;return ne*=128,X>=ne&&(X-=Math.pow(2,8*T)),X},h.prototype.readIntBE=function(v,T,A){v=v>>>0,T=T>>>0,A||J(v,T,this.length);for(var X=T,ne=1,j=this[v+--X];X>0&&(ne*=256);)j+=this[v+--X]*ne;return ne*=128,j>=ne&&(j-=Math.pow(2,8*T)),j},h.prototype.readInt8=function(v,T){return v=v>>>0,T||J(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},h.prototype.readInt16LE=function(v,T){v=v>>>0,T||J(v,2,this.length);var A=this[v]|this[v+1]<<8;return A&32768?A|4294901760:A},h.prototype.readInt16BE=function(v,T){v=v>>>0,T||J(v,2,this.length);var A=this[v+1]|this[v]<<8;return A&32768?A|4294901760:A},h.prototype.readInt32LE=function(v,T){return v=v>>>0,T||J(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,T){return v=v>>>0,T||J(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,T){return v=v>>>0,T||J(v,4,this.length),r.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,T){return v=v>>>0,T||J(v,4,this.length),r.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,T){return v=v>>>0,T||J(v,8,this.length),r.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,T){return v=v>>>0,T||J(v,8,this.length),r.read(this,v,!1,52,8)};function O(k,v,T,A,X,ne){if(!h.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>X||v<ne)throw new RangeError('"value" argument is out of bounds');if(T+A>k.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(v,T,A,X){if(v=+v,T=T>>>0,A=A>>>0,!X){var ne=Math.pow(2,8*A)-1;O(this,v,T,A,ne,0)}var j=1,ge=0;for(this[T]=v&255;++ge<A&&(j*=256);)this[T+ge]=v/j&255;return T+A},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(v,T,A,X){if(v=+v,T=T>>>0,A=A>>>0,!X){var ne=Math.pow(2,8*A)-1;O(this,v,T,A,ne,0)}var j=A-1,ge=1;for(this[T+j]=v&255;--j>=0&&(ge*=256);)this[T+j]=v/ge&255;return T+A},h.prototype.writeUint8=h.prototype.writeUInt8=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,1,255,0),this[T]=v&255,T+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,2,65535,0),this[T]=v&255,this[T+1]=v>>>8,T+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,2,65535,0),this[T]=v>>>8,this[T+1]=v&255,T+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,4,4294967295,0),this[T+3]=v>>>24,this[T+2]=v>>>16,this[T+1]=v>>>8,this[T]=v&255,T+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,4,4294967295,0),this[T]=v>>>24,this[T+1]=v>>>16,this[T+2]=v>>>8,this[T+3]=v&255,T+4},h.prototype.writeIntLE=function(v,T,A,X){if(v=+v,T=T>>>0,!X){var ne=Math.pow(2,8*A-1);O(this,v,T,A,ne-1,-ne)}var j=0,ge=1,De=0;for(this[T]=v&255;++j<A&&(ge*=256);)v<0&&De===0&&this[T+j-1]!==0&&(De=1),this[T+j]=(v/ge>>0)-De&255;return T+A},h.prototype.writeIntBE=function(v,T,A,X){if(v=+v,T=T>>>0,!X){var ne=Math.pow(2,8*A-1);O(this,v,T,A,ne-1,-ne)}var j=A-1,ge=1,De=0;for(this[T+j]=v&255;--j>=0&&(ge*=256);)v<0&&De===0&&this[T+j+1]!==0&&(De=1),this[T+j]=(v/ge>>0)-De&255;return T+A},h.prototype.writeInt8=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,1,127,-128),v<0&&(v=255+v+1),this[T]=v&255,T+1},h.prototype.writeInt16LE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,2,32767,-32768),this[T]=v&255,this[T+1]=v>>>8,T+2},h.prototype.writeInt16BE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,2,32767,-32768),this[T]=v>>>8,this[T+1]=v&255,T+2},h.prototype.writeInt32LE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,4,2147483647,-2147483648),this[T]=v&255,this[T+1]=v>>>8,this[T+2]=v>>>16,this[T+3]=v>>>24,T+4},h.prototype.writeInt32BE=function(v,T,A){return v=+v,T=T>>>0,A||O(this,v,T,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[T]=v>>>24,this[T+1]=v>>>16,this[T+2]=v>>>8,this[T+3]=v&255,T+4};function Y(k,v,T,A,X,ne){if(T+A>k.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Q(k,v,T,A,X){return v=+v,T=T>>>0,X||Y(k,v,T,4),r.write(k,v,T,A,23,4),T+4}h.prototype.writeFloatLE=function(v,T,A){return Q(this,v,T,!0,A)},h.prototype.writeFloatBE=function(v,T,A){return Q(this,v,T,!1,A)};function ee(k,v,T,A,X){return v=+v,T=T>>>0,X||Y(k,v,T,8),r.write(k,v,T,A,52,8),T+8}h.prototype.writeDoubleLE=function(v,T,A){return ee(this,v,T,!0,A)},h.prototype.writeDoubleBE=function(v,T,A){return ee(this,v,T,!1,A)},h.prototype.copy=function(v,T,A,X){if(!h.isBuffer(v))throw new TypeError("argument should be a Buffer");if(A||(A=0),!X&&X!==0&&(X=this.length),T>=v.length&&(T=v.length),T||(T=0),X>0&&X<A&&(X=A),X===A||v.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),v.length-T<X-A&&(X=v.length-T+A);var ne=X-A;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,A,X):Uint8Array.prototype.set.call(v,this.subarray(A,X),T),ne},h.prototype.fill=function(v,T,A,X){if(typeof v=="string"){if(typeof T=="string"?(X=T,T=0,A=this.length):typeof A=="string"&&(X=A,A=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!h.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(v.length===1){var ne=v.charCodeAt(0);(X==="utf8"&&ne<128||X==="latin1")&&(v=ne)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(T<0||this.length<T||this.length<A)throw new RangeError("Out of range index");if(A<=T)return this;T=T>>>0,A=A===void 0?this.length:A>>>0,v||(v=0);var j;if(typeof v=="number")for(j=T;j<A;++j)this[j]=v;else{var ge=h.isBuffer(v)?v:h.from(v,X),De=ge.length;if(De===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(j=0;j<A-T;++j)this[j+T]=ge[j%De]}return this};var $=/[^+/0-9A-Za-z-_]/g;function M(k){if(k=k.split("=")[0],k=k.trim().replace($,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function N(k,v){v=v||1/0;for(var T,A=k.length,X=null,ne=[],j=0;j<A;++j){if(T=k.charCodeAt(j),T>55295&&T<57344){if(!X){if(T>56319){(v-=3)>-1&&ne.push(239,191,189);continue}else if(j+1===A){(v-=3)>-1&&ne.push(239,191,189);continue}X=T;continue}if(T<56320){(v-=3)>-1&&ne.push(239,191,189),X=T;continue}T=(X-55296<<10|T-56320)+65536}else X&&(v-=3)>-1&&ne.push(239,191,189);if(X=null,T<128){if((v-=1)<0)break;ne.push(T)}else if(T<2048){if((v-=2)<0)break;ne.push(T>>6|192,T&63|128)}else if(T<65536){if((v-=3)<0)break;ne.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((v-=4)<0)break;ne.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ne}function te(k){for(var v=[],T=0;T<k.length;++T)v.push(k.charCodeAt(T)&255);return v}function W(k,v){for(var T,A,X,ne=[],j=0;j<k.length&&!((v-=2)<0);++j)T=k.charCodeAt(j),A=T>>8,X=T%256,ne.push(X),ne.push(A);return ne}function z(k){return e.toByteArray(M(k))}function F(k,v,T,A){for(var X=0;X<A&&!(X+T>=v.length||X>=k.length);++X)v[X+T]=k[X];return X}function ie(k,v){return k instanceof v||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===v.name}function b(k){return k!==k}var re=(function(){for(var k="0123456789abcdef",v=new Array(256),T=0;T<16;++T)for(var A=T*16,X=0;X<16;++X)v[A+X]=k[T]+k[X];return v})()})(Rf)),Rf}var Nf={},Df={},Mf,U0;function Vw(){return U0||(U0=1,Mf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,r);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),Mf}var If,L0;function Wd(){if(L0)return If;L0=1;var t=Vw();return If=function(){return t()&&!!Symbol.toStringTag},If}var kf,B0;function z5(){if(B0)return kf;B0=1;var t=typeof Symbol<"u"&&Symbol,e=Vw();return kf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},kf}var Uf,P0;function V5(){if(P0)return Uf;P0=1;var t={foo:{}},e=Object;return Uf=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},Uf}var Lf,O0;function q5(){if(O0)return Lf;O0=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,o="[object Function]",s=function(p,m){for(var y=[],x=0;x<p.length;x+=1)y[x]=p[x];for(var S=0;S<m.length;S+=1)y[S+p.length]=m[S];return y},c=function(p,m){for(var y=[],x=m,S=0;x<p.length;x+=1,S+=1)y[S]=p[x];return y},d=function(h,p){for(var m="",y=0;y<h.length;y+=1)m+=h[y],y+1<h.length&&(m+=p);return m};return Lf=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==o)throw new TypeError(t+m);for(var y=c(arguments,1),x,S=function(){if(this instanceof x){var R=m.apply(this,s(y,arguments));return Object(R)===R?R:this}return m.apply(p,s(y,arguments))},E=r(0,m.length-y.length),D=[],C=0;C<E;C++)D[C]="$"+C;if(x=Function("binder","return function ("+d(D,",")+"){ return binder.apply(this,arguments); }")(S),m.prototype){var U=function(){};U.prototype=m.prototype,x.prototype=new U,U.prototype=null}return x},Lf}var Bf,F0;function $d(){if(F0)return Bf;F0=1;var t=q5();return Bf=Function.prototype.bind||t,Bf}var Pf,G0;function H5(){if(G0)return Pf;G0=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=$d();return Pf=r.call(t,e),Pf}var Of,z0;function Wo(){if(z0)return Of;z0=1;var t,e=SyntaxError,r=Function,o=TypeError,s=function(Z){try{return r('"use strict"; return ('+Z+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var d=function(){throw new o},h=c?(function(){try{return arguments.callee,d}catch{try{return c(arguments,"callee").get}catch{return d}}})():d,p=z5()(),m=V5()(),y=Object.getPrototypeOf||(m?function(Z){return Z.__proto__}:null),x={},S=typeof Uint8Array>"u"||!y?t:y(Uint8Array),E={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":p&&y?y([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":x,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&y?y(y([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!p||!y?t:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!p||!y?t:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&y?y(""[Symbol.iterator]()):t,"%Symbol%":p?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":h,"%TypedArray%":S,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(y)try{null.error}catch(Z){var D=y(y(Z));E["%Error.prototype%"]=D}var C=function Z(pe){var B;if(pe==="%AsyncFunction%")B=s("async function () {}");else if(pe==="%GeneratorFunction%")B=s("function* () {}");else if(pe==="%AsyncGeneratorFunction%")B=s("async function* () {}");else if(pe==="%AsyncGenerator%"){var he=Z("%AsyncGeneratorFunction%");he&&(B=he.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var le=Z("%AsyncGenerator%");le&&y&&(B=y(le.prototype))}return E[pe]=B,B},U={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=$d(),I=H5(),P=R.call(Function.call,Array.prototype.concat),H=R.call(Function.apply,Array.prototype.splice),q=R.call(Function.call,String.prototype.replace),ce=R.call(Function.call,String.prototype.slice),se=R.call(Function.call,RegExp.prototype.exec),de=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,Te=function(pe){var B=ce(pe,0,1),he=ce(pe,-1);if(B==="%"&&he!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(he==="%"&&B!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var le=[];return q(pe,de,function(ae,Ce,ue,K){le[le.length]=ue?q(K,G,"$1"):Ce||ae}),le},Re=function(pe,B){var he=pe,le;if(I(U,he)&&(le=U[he],he="%"+le[0]+"%"),I(E,he)){var ae=E[he];if(ae===x&&(ae=C(he)),typeof ae>"u"&&!B)throw new o("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:le,name:he,value:ae}}throw new e("intrinsic "+pe+" does not exist!")};return Of=function(pe,B){if(typeof pe!="string"||pe.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new o('"allowMissing" argument must be a boolean');if(se(/^%?[^%]*%?$/,pe)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var he=Te(pe),le=he.length>0?he[0]:"",ae=Re("%"+le+"%",B),Ce=ae.name,ue=ae.value,K=!1,J=ae.alias;J&&(le=J[0],H(he,P([0,1],J)));for(var O=1,Y=!0;O<he.length;O+=1){var Q=he[O],ee=ce(Q,0,1),$=ce(Q,-1);if((ee==='"'||ee==="'"||ee==="`"||$==='"'||$==="'"||$==="`")&&ee!==$)throw new e("property names with quotes must have matching quotes");if((Q==="constructor"||!Y)&&(K=!0),le+="."+Q,Ce="%"+le+"%",I(E,Ce))ue=E[Ce];else if(ue!=null){if(!(Q in ue)){if(!B)throw new o("base intrinsic for "+pe+" exists, but the property is not available.");return}if(c&&O+1>=he.length){var M=c(ue,Q);Y=!!M,Y&&"get"in M&&!("originalValue"in M.get)?ue=M.get:ue=ue[Q]}else Y=I(ue,Q),ue=ue[Q];Y&&!K&&(E[Ce]=ue)}}return ue},Of}var Ff={exports:{}},Gf,V0;function qw(){if(V0)return Gf;V0=1;var t=Wo(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},Gf=r,Gf}var zf,q0;function Xd(){if(q0)return zf;q0=1;var t=Wo(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return zf=e,zf}var Vf,H0;function K5(){if(H0)return Vf;H0=1;var t=qw()(),e=Wo(),r=t&&e("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var o=e("%SyntaxError%"),s=e("%TypeError%"),c=Xd();return Vf=function(h,p,m){if(!h||typeof h!="object"&&typeof h!="function")throw new s("`obj` must be an object or a function`");if(typeof p!="string"&&typeof p!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var y=arguments.length>3?arguments[3]:null,x=arguments.length>4?arguments[4]:null,S=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,D=!!c&&c(h,p);if(r)r(h,p,{configurable:S===null&&D?D.configurable:!S,enumerable:y===null&&D?D.enumerable:!y,value:m,writable:x===null&&D?D.writable:!x});else if(E||!y&&!x&&!S)h[p]=m;else throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Vf}var qf,K0;function J5(){if(K0)return qf;K0=1;var t=Wo(),e=K5(),r=qw()(),o=Xd(),s=t("%TypeError%"),c=t("%Math.floor%");return qf=function(h,p){if(typeof h!="function")throw new s("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||c(p)!==p)throw new s("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],y=!0,x=!0;if("length"in h&&o){var S=o(h,"length");S&&!S.configurable&&(y=!1),S&&!S.writable&&(x=!1)}return(y||x||!m)&&(r?e(h,"length",p,!0,!0):e(h,"length",p)),h},qf}var J0;function Hw(){return J0||(J0=1,(function(t){var e=$d(),r=Wo(),o=J5(),s=r("%TypeError%"),c=r("%Function.prototype.apply%"),d=r("%Function.prototype.call%"),h=r("%Reflect.apply%",!0)||e.call(d,c),p=r("%Object.defineProperty%",!0),m=r("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}t.exports=function(S){if(typeof S!="function")throw new s("a function is required");var E=h(e,d,arguments);return o(E,1+m(0,S.length-(arguments.length-1)),!0)};var y=function(){return h(e,c,arguments)};p?p(t.exports,"apply",{value:y}):t.exports.apply=y})(Ff)),Ff.exports}var Hf,Y0;function Kw(){if(Y0)return Hf;Y0=1;var t=Wo(),e=Hw(),r=e(t("String.prototype.indexOf"));return Hf=function(s,c){var d=t(s,!!c);return typeof d=="function"&&r(s,".prototype.")>-1?e(d):d},Hf}var Kf,W0;function Y5(){if(W0)return Kf;W0=1;var t=Wd()(),e=Kw(),r=e("Object.prototype.toString"),o=function(h){return t&&h&&typeof h=="object"&&Symbol.toStringTag in h?!1:r(h)==="[object Arguments]"},s=function(h){return o(h)?!0:h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&r(h)!=="[object Array]"&&r(h.callee)==="[object Function]"},c=(function(){return o(arguments)})();return o.isLegacyArguments=s,Kf=c?o:s,Kf}var Jf,$0;function W5(){if($0)return Jf;$0=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,o=Wd()(),s=Object.getPrototypeOf,c=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},d;return Jf=function(p){if(typeof p!="function")return!1;if(r.test(e.call(p)))return!0;if(!o){var m=t.call(p);return m==="[object GeneratorFunction]"}if(!s)return!1;if(typeof d>"u"){var y=c();d=y?s(y):!1}return s(p)===d},Jf}var Yf,X0;function $5(){if(X0)return Yf;X0=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,r)}catch(I){I!==o&&(e=null)}else e=null;var s=/^\s*class\b/,c=function(P){try{var H=t.call(P);return s.test(H)}catch{return!1}},d=function(P){try{return c(P)?!1:(t.call(P),!0)}catch{return!1}},h=Object.prototype.toString,p="[object Object]",m="[object Function]",y="[object GeneratorFunction]",x="[object HTMLAllCollection]",S="[object HTML document.all class]",E="[object HTMLCollection]",D=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),U=function(){return!1};if(typeof document=="object"){var R=document.all;h.call(R)===h.call(document.all)&&(U=function(P){if((C||!P)&&(typeof P>"u"||typeof P=="object"))try{var H=h.call(P);return(H===x||H===S||H===E||H===p)&&P("")==null}catch{}return!1})}return Yf=e?function(P){if(U(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;try{e(P,null,r)}catch(H){if(H!==o)return!1}return!c(P)&&d(P)}:function(P){if(U(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;if(D)return d(P);if(c(P))return!1;var H=h.call(P);return H!==m&&H!==y&&!/^\[object HTML/.test(H)?!1:d(P)},Yf}var Wf,Z0;function X5(){if(Z0)return Wf;Z0=1;var t=$5(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,o=function(p,m,y){for(var x=0,S=p.length;x<S;x++)r.call(p,x)&&(y==null?m(p[x],x,p):m.call(y,p[x],x,p))},s=function(p,m,y){for(var x=0,S=p.length;x<S;x++)y==null?m(p.charAt(x),x,p):m.call(y,p.charAt(x),x,p)},c=function(p,m,y){for(var x in p)r.call(p,x)&&(y==null?m(p[x],x,p):m.call(y,p[x],x,p))},d=function(p,m,y){if(!t(m))throw new TypeError("iterator must be a function");var x;arguments.length>=3&&(x=y),e.call(p)==="[object Array]"?o(p,m,x):typeof p=="string"?s(p,m,x):c(p,m,x)};return Wf=d,Wf}var $f,j0;function Z5(){if(j0)return $f;j0=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?sr:globalThis;return $f=function(){for(var o=[],s=0;s<t.length;s++)typeof e[t[s]]=="function"&&(o[o.length]=t[s]);return o},$f}var Xf,Q0;function Jw(){if(Q0)return Xf;Q0=1;var t=X5(),e=Z5(),r=Hw(),o=Kw(),s=Xd(),c=o("Object.prototype.toString"),d=Wd()(),h=typeof globalThis>"u"?sr:globalThis,p=e(),m=o("String.prototype.slice"),y=Object.getPrototypeOf,x=o("Array.prototype.indexOf",!0)||function(U,R){for(var I=0;I<U.length;I+=1)if(U[I]===R)return I;return-1},S={__proto__:null};d&&s&&y?t(p,function(C){var U=new h[C];if(Symbol.toStringTag in U){var R=y(U),I=s(R,Symbol.toStringTag);if(!I){var P=y(R);I=s(P,Symbol.toStringTag)}S["$"+C]=r(I.get)}}):t(p,function(C){var U=new h[C],R=U.slice||U.set;R&&(S["$"+C]=r(R))});var E=function(U){var R=!1;return t(S,function(I,P){if(!R)try{"$"+I(U)===P&&(R=m(P,1))}catch{}}),R},D=function(U){var R=!1;return t(S,function(I,P){if(!R)try{I(U),R=m(P,1)}catch{}}),R};return Xf=function(U){if(!U||typeof U!="object")return!1;if(!d){var R=m(c(U),8,-1);return x(p,R)>-1?R:R!=="Object"?!1:D(U)}return s?E(U):null},Xf}var Zf,ev;function j5(){if(ev)return Zf;ev=1;var t=Jw();return Zf=function(r){return!!t(r)},Zf}var tv;function Q5(){return tv||(tv=1,(function(t){var e=Y5(),r=W5(),o=Jw(),s=j5();function c(A){return A.call.bind(A)}var d=typeof BigInt<"u",h=typeof Symbol<"u",p=c(Object.prototype.toString),m=c(Number.prototype.valueOf),y=c(String.prototype.valueOf),x=c(Boolean.prototype.valueOf);if(d)var S=c(BigInt.prototype.valueOf);if(h)var E=c(Symbol.prototype.valueOf);function D(A,X){if(typeof A!="object")return!1;try{return X(A),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=s;function C(A){return typeof Promise<"u"&&A instanceof Promise||A!==null&&typeof A=="object"&&typeof A.then=="function"&&typeof A.catch=="function"}t.isPromise=C;function U(A){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(A):s(A)||Y(A)}t.isArrayBufferView=U;function R(A){return o(A)==="Uint8Array"}t.isUint8Array=R;function I(A){return o(A)==="Uint8ClampedArray"}t.isUint8ClampedArray=I;function P(A){return o(A)==="Uint16Array"}t.isUint16Array=P;function H(A){return o(A)==="Uint32Array"}t.isUint32Array=H;function q(A){return o(A)==="Int8Array"}t.isInt8Array=q;function ce(A){return o(A)==="Int16Array"}t.isInt16Array=ce;function se(A){return o(A)==="Int32Array"}t.isInt32Array=se;function de(A){return o(A)==="Float32Array"}t.isFloat32Array=de;function G(A){return o(A)==="Float64Array"}t.isFloat64Array=G;function Te(A){return o(A)==="BigInt64Array"}t.isBigInt64Array=Te;function Re(A){return o(A)==="BigUint64Array"}t.isBigUint64Array=Re;function Z(A){return p(A)==="[object Map]"}Z.working=typeof Map<"u"&&Z(new Map);function pe(A){return typeof Map>"u"?!1:Z.working?Z(A):A instanceof Map}t.isMap=pe;function B(A){return p(A)==="[object Set]"}B.working=typeof Set<"u"&&B(new Set);function he(A){return typeof Set>"u"?!1:B.working?B(A):A instanceof Set}t.isSet=he;function le(A){return p(A)==="[object WeakMap]"}le.working=typeof WeakMap<"u"&&le(new WeakMap);function ae(A){return typeof WeakMap>"u"?!1:le.working?le(A):A instanceof WeakMap}t.isWeakMap=ae;function Ce(A){return p(A)==="[object WeakSet]"}Ce.working=typeof WeakSet<"u"&&Ce(new WeakSet);function ue(A){return Ce(A)}t.isWeakSet=ue;function K(A){return p(A)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function J(A){return typeof ArrayBuffer>"u"?!1:K.working?K(A):A instanceof ArrayBuffer}t.isArrayBuffer=J;function O(A){return p(A)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function Y(A){return typeof DataView>"u"?!1:O.working?O(A):A instanceof DataView}t.isDataView=Y;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(A){return p(A)==="[object SharedArrayBuffer]"}function $(A){return typeof Q>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new Q)),ee.working?ee(A):A instanceof Q)}t.isSharedArrayBuffer=$;function M(A){return p(A)==="[object AsyncFunction]"}t.isAsyncFunction=M;function N(A){return p(A)==="[object Map Iterator]"}t.isMapIterator=N;function te(A){return p(A)==="[object Set Iterator]"}t.isSetIterator=te;function W(A){return p(A)==="[object Generator]"}t.isGeneratorObject=W;function z(A){return p(A)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=z;function F(A){return D(A,m)}t.isNumberObject=F;function ie(A){return D(A,y)}t.isStringObject=ie;function b(A){return D(A,x)}t.isBooleanObject=b;function re(A){return d&&D(A,S)}t.isBigIntObject=re;function k(A){return h&&D(A,E)}t.isSymbolObject=k;function v(A){return F(A)||ie(A)||b(A)||re(A)||k(A)}t.isBoxedPrimitive=v;function T(A){return typeof Uint8Array<"u"&&(J(A)||$(A))}t.isAnyArrayBuffer=T,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(A){Object.defineProperty(t,A,{enumerable:!1,value:function(){throw new Error(A+" is not supported in userland")}})})})(Df)),Df}var jf,nv;function eI(){return nv||(nv=1,jf=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),jf}var rv;function Yw(){return rv||(rv=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(Y){for(var Q=Object.keys(Y),ee={},$=0;$<Q.length;$++)ee[Q[$]]=Object.getOwnPropertyDescriptor(Y,Q[$]);return ee},r=/%[sdj%]/g;t.format=function(O){if(!q(O)){for(var Y=[],Q=0;Q<arguments.length;Q++)Y.push(d(arguments[Q]));return Y.join(" ")}for(var Q=1,ee=arguments,$=ee.length,M=String(O).replace(r,function(te){if(te==="%%")return"%";if(Q>=$)return te;switch(te){case"%s":return String(ee[Q++]);case"%d":return Number(ee[Q++]);case"%j":try{return JSON.stringify(ee[Q++])}catch{return"[Circular]"}default:return te}}),N=ee[Q];Q<$;N=ee[++Q])I(N)||!G(N)?M+=" "+N:M+=" "+d(N);return M},t.deprecate=function(O,Y){if(typeof nt<"u"&&nt.noDeprecation===!0)return O;if(typeof nt>"u")return function(){return t.deprecate(O,Y).apply(this,arguments)};var Q=!1;function ee(){if(!Q){if(nt.throwDeprecation)throw new Error(Y);nt.traceDeprecation?console.trace(Y):console.error(Y),Q=!0}return O.apply(this,arguments)}return ee};var o={},s=/^$/;if(nt.env.NODE_DEBUG){var c=nt.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+c+"$","i")}t.debuglog=function(O){if(O=O.toUpperCase(),!o[O])if(s.test(O)){var Y=nt.pid;o[O]=function(){var Q=t.format.apply(t,arguments);console.error("%s %d: %s",O,Y,Q)}}else o[O]=function(){};return o[O]};function d(O,Y){var Q={seen:[],stylize:p};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),R(Y)?Q.showHidden=Y:Y&&t._extend(Q,Y),se(Q.showHidden)&&(Q.showHidden=!1),se(Q.depth)&&(Q.depth=2),se(Q.colors)&&(Q.colors=!1),se(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=h),y(Q,O,Q.depth)}t.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(O,Y){var Q=d.styles[Y];return Q?"\x1B["+d.colors[Q][0]+"m"+O+"\x1B["+d.colors[Q][1]+"m":O}function p(O,Y){return O}function m(O){var Y={};return O.forEach(function(Q,ee){Y[Q]=!0}),Y}function y(O,Y,Q){if(O.customInspect&&Y&&Z(Y.inspect)&&Y.inspect!==t.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var ee=Y.inspect(Q,O);return q(ee)||(ee=y(O,ee,Q)),ee}var $=x(O,Y);if($)return $;var M=Object.keys(Y),N=m(M);if(O.showHidden&&(M=Object.getOwnPropertyNames(Y)),Re(Y)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return S(Y);if(M.length===0){if(Z(Y)){var te=Y.name?": "+Y.name:"";return O.stylize("[Function"+te+"]","special")}if(de(Y))return O.stylize(RegExp.prototype.toString.call(Y),"regexp");if(Te(Y))return O.stylize(Date.prototype.toString.call(Y),"date");if(Re(Y))return S(Y)}var W="",z=!1,F=["{","}"];if(U(Y)&&(z=!0,F=["[","]"]),Z(Y)){var ie=Y.name?": "+Y.name:"";W=" [Function"+ie+"]"}if(de(Y)&&(W=" "+RegExp.prototype.toString.call(Y)),Te(Y)&&(W=" "+Date.prototype.toUTCString.call(Y)),Re(Y)&&(W=" "+S(Y)),M.length===0&&(!z||Y.length==0))return F[0]+W+F[1];if(Q<0)return de(Y)?O.stylize(RegExp.prototype.toString.call(Y),"regexp"):O.stylize("[Object]","special");O.seen.push(Y);var b;return z?b=E(O,Y,Q,N,M):b=M.map(function(re){return D(O,Y,Q,N,re,z)}),O.seen.pop(),C(b,W,F)}function x(O,Y){if(se(Y))return O.stylize("undefined","undefined");if(q(Y)){var Q="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(Q,"string")}if(H(Y))return O.stylize(""+Y,"number");if(R(Y))return O.stylize(""+Y,"boolean");if(I(Y))return O.stylize("null","null")}function S(O){return"["+Error.prototype.toString.call(O)+"]"}function E(O,Y,Q,ee,$){for(var M=[],N=0,te=Y.length;N<te;++N)Ce(Y,String(N))?M.push(D(O,Y,Q,ee,String(N),!0)):M.push("");return $.forEach(function(W){W.match(/^\d+$/)||M.push(D(O,Y,Q,ee,W,!0))}),M}function D(O,Y,Q,ee,$,M){var N,te,W;if(W=Object.getOwnPropertyDescriptor(Y,$)||{value:Y[$]},W.get?W.set?te=O.stylize("[Getter/Setter]","special"):te=O.stylize("[Getter]","special"):W.set&&(te=O.stylize("[Setter]","special")),Ce(ee,$)||(N="["+$+"]"),te||(O.seen.indexOf(W.value)<0?(I(Q)?te=y(O,W.value,null):te=y(O,W.value,Q-1),te.indexOf(`
`)>-1&&(M?te=te.split(`
`).map(function(z){return"  "+z}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(z){return"   "+z}).join(`
`))):te=O.stylize("[Circular]","special")),se(N)){if(M&&$.match(/^\d+$/))return te;N=JSON.stringify(""+$),N.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.slice(1,-1),N=O.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=O.stylize(N,"string"))}return N+": "+te}function C(O,Y,Q){var ee=O.reduce(function($,M){return M.indexOf(`
`)>=0,$+M.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ee>60?Q[0]+(Y===""?"":Y+`
 `)+" "+O.join(`,
  `)+" "+Q[1]:Q[0]+Y+" "+O.join(", ")+" "+Q[1]}t.types=Q5();function U(O){return Array.isArray(O)}t.isArray=U;function R(O){return typeof O=="boolean"}t.isBoolean=R;function I(O){return O===null}t.isNull=I;function P(O){return O==null}t.isNullOrUndefined=P;function H(O){return typeof O=="number"}t.isNumber=H;function q(O){return typeof O=="string"}t.isString=q;function ce(O){return typeof O=="symbol"}t.isSymbol=ce;function se(O){return O===void 0}t.isUndefined=se;function de(O){return G(O)&&B(O)==="[object RegExp]"}t.isRegExp=de,t.types.isRegExp=de;function G(O){return typeof O=="object"&&O!==null}t.isObject=G;function Te(O){return G(O)&&B(O)==="[object Date]"}t.isDate=Te,t.types.isDate=Te;function Re(O){return G(O)&&(B(O)==="[object Error]"||O instanceof Error)}t.isError=Re,t.types.isNativeError=Re;function Z(O){return typeof O=="function"}t.isFunction=Z;function pe(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}t.isPrimitive=pe,t.isBuffer=eI();function B(O){return Object.prototype.toString.call(O)}function he(O){return O<10?"0"+O.toString(10):O.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ae(){var O=new Date,Y=[he(O.getHours()),he(O.getMinutes()),he(O.getSeconds())].join(":");return[O.getDate(),le[O.getMonth()],Y].join(" ")}t.log=function(){console.log("%s - %s",ae(),t.format.apply(t,arguments))},t.inherits=ki,t._extend=function(O,Y){if(!Y||!G(Y))return O;for(var Q=Object.keys(Y),ee=Q.length;ee--;)O[Q[ee]]=Y[Q[ee]];return O};function Ce(O,Y){return Object.prototype.hasOwnProperty.call(O,Y)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&Y[ue]){var Q=Y[ue];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,ue,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var ee,$,M=new Promise(function(W,z){ee=W,$=z}),N=[],te=0;te<arguments.length;te++)N.push(arguments[te]);N.push(function(W,z){W?$(W):ee(z)});try{Y.apply(this,N)}catch(W){$(W)}return M}return Object.setPrototypeOf(Q,Object.getPrototypeOf(Y)),ue&&Object.defineProperty(Q,ue,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,e(Y))},t.promisify.custom=ue;function K(O,Y){if(!O){var Q=new Error("Promise was rejected with a falsy value");Q.reason=O,O=Q}return Y(O)}function J(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var Q=[],ee=0;ee<arguments.length;ee++)Q.push(arguments[ee]);var $=Q.pop();if(typeof $!="function")throw new TypeError("The last argument must be of type Function");var M=this,N=function(){return $.apply(M,arguments)};O.apply(this,Q).then(function(te){nt.nextTick(N.bind(null,null,te))},function(te){nt.nextTick(K.bind(null,te,N))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(O)),Object.defineProperties(Y,e(O)),Y}t.callbackify=J})(Nf)),Nf}var Qf,iv;function tI(){if(iv)return Qf;iv=1;function t(S,E){var D=Object.keys(S);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(S);E&&(C=C.filter(function(U){return Object.getOwnPropertyDescriptor(S,U).enumerable})),D.push.apply(D,C)}return D}function e(S){for(var E=1;E<arguments.length;E++){var D=arguments[E]!=null?arguments[E]:{};E%2?t(Object(D),!0).forEach(function(C){r(S,C,D[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(C){Object.defineProperty(S,C,Object.getOwnPropertyDescriptor(D,C))})}return S}function r(S,E,D){return E in S?Object.defineProperty(S,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[E]=D,S}function o(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function s(S,E){for(var D=0;D<E.length;D++){var C=E[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}function c(S,E,D){return E&&s(S.prototype,E),S}var d=lu(),h=d.Buffer,p=Yw(),m=p.inspect,y=m&&m.custom||"inspect";function x(S,E,D){h.prototype.copy.call(S,E,D)}return Qf=(function(){function S(){o(this,S),this.head=null,this.tail=null,this.length=0}return c(S,[{key:"push",value:function(D){var C={data:D,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(D){var C={data:D,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var D=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,D}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(D){if(this.length===0)return"";for(var C=this.head,U=""+C.data;C=C.next;)U+=D+C.data;return U}},{key:"concat",value:function(D){if(this.length===0)return h.alloc(0);for(var C=h.allocUnsafe(D>>>0),U=this.head,R=0;U;)x(U.data,C,R),R+=U.data.length,U=U.next;return C}},{key:"consume",value:function(D,C){var U;return D<this.head.data.length?(U=this.head.data.slice(0,D),this.head.data=this.head.data.slice(D)):D===this.head.data.length?U=this.shift():U=C?this._getString(D):this._getBuffer(D),U}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(D){var C=this.head,U=1,R=C.data;for(D-=R.length;C=C.next;){var I=C.data,P=D>I.length?I.length:D;if(P===I.length?R+=I:R+=I.slice(0,D),D-=P,D===0){P===I.length?(++U,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=I.slice(P));break}++U}return this.length-=U,R}},{key:"_getBuffer",value:function(D){var C=h.allocUnsafe(D),U=this.head,R=1;for(U.data.copy(C),D-=U.data.length;U=U.next;){var I=U.data,P=D>I.length?I.length:D;if(I.copy(C,C.length-D,0,P),D-=P,D===0){P===I.length?(++R,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=I.slice(P));break}++R}return this.length-=R,C}},{key:y,value:function(D,C){return m(this,e({},C,{depth:0,customInspect:!1}))}}]),S})(),Qf}var ed,ov;function Ww(){if(ov)return ed;ov=1;function t(d,h){var p=this,m=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return m||y?(h?h(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,nt.nextTick(s,this,d)):nt.nextTick(s,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(x){!h&&x?p._writableState?p._writableState.errorEmitted?nt.nextTick(r,p):(p._writableState.errorEmitted=!0,nt.nextTick(e,p,x)):nt.nextTick(e,p,x):h?(nt.nextTick(r,p),h(x)):nt.nextTick(r,p)}),this)}function e(d,h){s(d,h),r(d)}function r(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(d,h){d.emit("error",h)}function c(d,h){var p=d._readableState,m=d._writableState;p&&p.autoDestroy||m&&m.autoDestroy?d.destroy(h):d.emit("error",h)}return ed={destroy:t,undestroy:o,errorOrDestroy:c},ed}var td={},av;function $o(){if(av)return td;av=1;function t(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var e={};function r(h,p,m){m||(m=Error);function y(S,E,D){return typeof p=="string"?p:p(S,E,D)}var x=(function(S){t(E,S);function E(D,C,U){return S.call(this,y(D,C,U))||this}return E})(m);x.prototype.name=m.name,x.prototype.code=h,e[h]=x}function o(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(y){return String(y)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function s(h,p,m){return h.substr(0,p.length)===p}function c(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function d(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}return r("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(h,p,m){var y;typeof p=="string"&&s(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var x;if(c(h," argument"))x="The ".concat(h," ").concat(y," ").concat(o(p,"type"));else{var S=d(h,".")?"property":"argument";x='The "'.concat(h,'" ').concat(S," ").concat(y," ").concat(o(p,"type"))}return x+=". Received type ".concat(typeof m),x},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),td.codes=e,td}var nd,sv;function $w(){if(sv)return nd;sv=1;var t=$o().codes.ERR_INVALID_OPT_VALUE;function e(o,s,c){return o.highWaterMark!=null?o.highWaterMark:s?o[c]:null}function r(o,s,c,d){var h=e(s,d,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var p=d?c:"highWaterMark";throw new t(p,h)}return Math.floor(h)}return o.objectMode?16:16*1024}return nd={getHighWaterMark:r},nd}var rd,lv;function nI(){if(lv)return rd;lv=1,rd=t;function t(r,o){if(e("noDeprecation"))return r;var s=!1;function c(){if(!s){if(e("throwDeprecation"))throw new Error(o);e("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return r.apply(this,arguments)}return c}function e(r){try{if(!sr.localStorage)return!1}catch{return!1}var o=sr.localStorage[r];return o==null?!1:String(o).toLowerCase()==="true"}return rd}var id,uv;function Xw(){if(uv)return id;uv=1,id=de;function t($){var M=this;this.next=null,this.entry=null,this.finish=function(){ee(M,$)}}var e;de.WritableState=ce;var r={deprecate:nI()},o=zw(),s=lu().Buffer,c=sr.Uint8Array||function(){};function d($){return s.from($)}function h($){return s.isBuffer($)||$ instanceof c}var p=Ww(),m=$w(),y=m.getHighWaterMark,x=$o().codes,S=x.ERR_INVALID_ARG_TYPE,E=x.ERR_METHOD_NOT_IMPLEMENTED,D=x.ERR_MULTIPLE_CALLBACK,C=x.ERR_STREAM_CANNOT_PIPE,U=x.ERR_STREAM_DESTROYED,R=x.ERR_STREAM_NULL_VALUES,I=x.ERR_STREAM_WRITE_AFTER_END,P=x.ERR_UNKNOWN_ENCODING,H=p.errorOrDestroy;ki(de,o);function q(){}function ce($,M,N){e=e||Oo(),$=$||{},typeof N!="boolean"&&(N=M instanceof e),this.objectMode=!!$.objectMode,N&&(this.objectMode=this.objectMode||!!$.writableObjectMode),this.highWaterMark=y(this,$,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=$.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){le(M,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}ce.prototype.getBuffer=function(){for(var M=this.bufferedRequest,N=[];M;)N.push(M),M=M.next;return N},(function(){try{Object.defineProperty(ce.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var se;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(se=Function.prototype[Symbol.hasInstance],Object.defineProperty(de,Symbol.hasInstance,{value:function(M){return se.call(this,M)?!0:this!==de?!1:M&&M._writableState instanceof ce}})):se=function(M){return M instanceof this};function de($){e=e||Oo();var M=this instanceof e;if(!M&&!se.call(de,this))return new de($);this._writableState=new ce($,this,M),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),o.call(this)}de.prototype.pipe=function(){H(this,new C)};function G($,M){var N=new I;H($,N),nt.nextTick(M,N)}function Te($,M,N,te){var W;return N===null?W=new R:typeof N!="string"&&!M.objectMode&&(W=new S("chunk",["string","Buffer"],N)),W?(H($,W),nt.nextTick(te,W),!1):!0}de.prototype.write=function($,M,N){var te=this._writableState,W=!1,z=!te.objectMode&&h($);return z&&!s.isBuffer($)&&($=d($)),typeof M=="function"&&(N=M,M=null),z?M="buffer":M||(M=te.defaultEncoding),typeof N!="function"&&(N=q),te.ending?G(this,N):(z||Te(this,te,$,N))&&(te.pendingcb++,W=Z(this,te,z,$,M,N)),W},de.prototype.cork=function(){this._writableState.corked++},de.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,!$.writing&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ue(this,$))},de.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new P(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(de.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Re($,M,N){return!$.objectMode&&$.decodeStrings!==!1&&typeof M=="string"&&(M=s.from(M,N)),M}Object.defineProperty(de.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Z($,M,N,te,W,z){if(!N){var F=Re(M,te,W);te!==F&&(N=!0,W="buffer",te=F)}var ie=M.objectMode?1:te.length;M.length+=ie;var b=M.length<M.highWaterMark;if(b||(M.needDrain=!0),M.writing||M.corked){var re=M.lastBufferedRequest;M.lastBufferedRequest={chunk:te,encoding:W,isBuf:N,callback:z,next:null},re?re.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else pe($,M,!1,ie,te,W,z);return b}function pe($,M,N,te,W,z,F){M.writelen=te,M.writecb=F,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new U("write")):N?$._writev(W,M.onwrite):$._write(W,z,M.onwrite),M.sync=!1}function B($,M,N,te,W){--M.pendingcb,N?(nt.nextTick(W,te),nt.nextTick(Y,$,M),$._writableState.errorEmitted=!0,H($,te)):(W(te),$._writableState.errorEmitted=!0,H($,te),Y($,M))}function he($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function le($,M){var N=$._writableState,te=N.sync,W=N.writecb;if(typeof W!="function")throw new D;if(he(N),M)B($,N,te,M,W);else{var z=K(N)||$.destroyed;!z&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&ue($,N),te?nt.nextTick(ae,$,N,z,W):ae($,N,z,W)}}function ae($,M,N,te){N||Ce($,M),M.pendingcb--,te(),Y($,M)}function Ce($,M){M.length===0&&M.needDrain&&(M.needDrain=!1,$.emit("drain"))}function ue($,M){M.bufferProcessing=!0;var N=M.bufferedRequest;if($._writev&&N&&N.next){var te=M.bufferedRequestCount,W=new Array(te),z=M.corkedRequestsFree;z.entry=N;for(var F=0,ie=!0;N;)W[F]=N,N.isBuf||(ie=!1),N=N.next,F+=1;W.allBuffers=ie,pe($,M,!0,M.length,W,"",z.finish),M.pendingcb++,M.lastBufferedRequest=null,z.next?(M.corkedRequestsFree=z.next,z.next=null):M.corkedRequestsFree=new t(M),M.bufferedRequestCount=0}else{for(;N;){var b=N.chunk,re=N.encoding,k=N.callback,v=M.objectMode?1:b.length;if(pe($,M,!1,v,b,re,k),N=N.next,M.bufferedRequestCount--,M.writing)break}N===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=N,M.bufferProcessing=!1}de.prototype._write=function($,M,N){N(new E("_write()"))},de.prototype._writev=null,de.prototype.end=function($,M,N){var te=this._writableState;return typeof $=="function"?(N=$,$=null,M=null):typeof M=="function"&&(N=M,M=null),$!=null&&this.write($,M),te.corked&&(te.corked=1,this.uncork()),te.ending||Q(this,te,N),this},Object.defineProperty(de.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function K($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function J($,M){$._final(function(N){M.pendingcb--,N&&H($,N),M.prefinished=!0,$.emit("prefinish"),Y($,M)})}function O($,M){!M.prefinished&&!M.finalCalled&&(typeof $._final=="function"&&!M.destroyed?(M.pendingcb++,M.finalCalled=!0,nt.nextTick(J,$,M)):(M.prefinished=!0,$.emit("prefinish")))}function Y($,M){var N=K(M);if(N&&(O($,M),M.pendingcb===0&&(M.finished=!0,$.emit("finish"),M.autoDestroy))){var te=$._readableState;(!te||te.autoDestroy&&te.endEmitted)&&$.destroy()}return N}function Q($,M,N){M.ending=!0,Y($,M),N&&(M.finished?nt.nextTick(N):$.once("finish",N)),M.ended=!0,$.writable=!1}function ee($,M,N){var te=$.entry;for($.entry=null;te;){var W=te.callback;M.pendingcb--,W(N),te=te.next}M.corkedRequestsFree.next=$}return Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),de.prototype.destroy=p.destroy,de.prototype._undestroy=p.undestroy,de.prototype._destroy=function($,M){M($)},id}var od,cv;function Oo(){if(cv)return od;cv=1;var t=Object.keys||function(m){var y=[];for(var x in m)y.push(x);return y};od=d;var e=Zw(),r=Xw();ki(d,e);for(var o=t(r.prototype),s=0;s<o.length;s++){var c=o[s];d.prototype[c]||(d.prototype[c]=r.prototype[c])}function d(m){if(!(this instanceof d))return new d(m);e.call(this,m),r.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||nt.nextTick(p,this)}function p(m){m.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),od}var ad={},Ll={exports:{}},fv;function rI(){return fv||(fv=1,(function(t,e){var r=lu(),o=r.Buffer;function s(d,h){for(var p in d)h[p]=d[p]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=c);function c(d,h,p){return o(d,h,p)}s(o,c),c.from=function(d,h,p){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,h,p)},c.alloc=function(d,h,p){if(typeof d!="number")throw new TypeError("Argument must be a number");var m=o(d);return h!==void 0?typeof p=="string"?m.fill(h,p):m.fill(h):m.fill(0),m},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}})(Ll,Ll.exports)),Ll.exports}var dv;function Ld(){if(dv)return ad;dv=1;var t=rI().Buffer,e=t.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(R){if(!R)return"utf8";for(var I;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(I)return;R=(""+R).toLowerCase(),I=!0}}function o(R){var I=r(R);if(typeof I!="string"&&(t.isEncoding===e||!e(R)))throw new Error("Unknown encoding: "+R);return I||R}ad.StringDecoder=s;function s(R){this.encoding=o(R);var I;switch(this.encoding){case"utf16le":this.text=x,this.end=S,I=4;break;case"utf8":this.fillLast=p,I=4;break;case"base64":this.text=E,this.end=D,I=3;break;default:this.write=C,this.end=U;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}s.prototype.write=function(R){if(R.length===0)return"";var I,P;if(this.lastNeed){if(I=this.fillLast(R),I===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<R.length?I?I+this.text(R,P):this.text(R,P):I||""},s.prototype.end=y,s.prototype.text=m,s.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function c(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}function d(R,I,P){var H=I.length-1;if(H<P)return 0;var q=c(I[H]);return q>=0?(q>0&&(R.lastNeed=q-1),q):--H<P||q===-2?0:(q=c(I[H]),q>=0?(q>0&&(R.lastNeed=q-2),q):--H<P||q===-2?0:(q=c(I[H]),q>=0?(q>0&&(q===2?q=0:R.lastNeed=q-3),q):0))}function h(R,I,P){if((I[0]&192)!==128)return R.lastNeed=0,"�";if(R.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return R.lastNeed=1,"�";if(R.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return R.lastNeed=2,"�"}}function p(R){var I=this.lastTotal-this.lastNeed,P=h(this,R);if(P!==void 0)return P;if(this.lastNeed<=R.length)return R.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,I,0,R.length),this.lastNeed-=R.length}function m(R,I){var P=d(this,R,I);if(!this.lastNeed)return R.toString("utf8",I);this.lastTotal=P;var H=R.length-(P-this.lastNeed);return R.copy(this.lastChar,0,H),R.toString("utf8",I,H)}function y(R){var I=R&&R.length?this.write(R):"";return this.lastNeed?I+"�":I}function x(R,I){if((R.length-I)%2===0){var P=R.toString("utf16le",I);if(P){var H=P.charCodeAt(P.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",I,R.length-1)}function S(R){var I=R&&R.length?this.write(R):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,P)}return I}function E(R,I){var P=(R.length-I)%3;return P===0?R.toString("base64",I):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",I,R.length-P))}function D(R){var I=R&&R.length?this.write(R):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function C(R){return R.toString(this.encoding)}function U(R){return R&&R.length?this.write(R):""}return ad}var sd,hv;function Zd(){if(hv)return sd;hv=1;var t=$o().codes.ERR_STREAM_PREMATURE_CLOSE;function e(c){var d=!1;return function(){if(!d){d=!0;for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];c.apply(this,p)}}}function r(){}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,d,h){if(typeof d=="function")return s(c,null,d);d||(d={}),h=e(h||r);var p=d.readable||d.readable!==!1&&c.readable,m=d.writable||d.writable!==!1&&c.writable,y=function(){c.writable||S()},x=c._writableState&&c._writableState.finished,S=function(){m=!1,x=!0,p||h.call(c)},E=c._readableState&&c._readableState.endEmitted,D=function(){p=!1,E=!0,m||h.call(c)},C=function(P){h.call(c,P)},U=function(){var P;if(p&&!E)return(!c._readableState||!c._readableState.ended)&&(P=new t),h.call(c,P);if(m&&!x)return(!c._writableState||!c._writableState.ended)&&(P=new t),h.call(c,P)},R=function(){c.req.on("finish",S)};return o(c)?(c.on("complete",S),c.on("abort",U),c.req?R():c.on("request",R)):m&&!c._writableState&&(c.on("end",y),c.on("close",y)),c.on("end",D),c.on("finish",S),d.error!==!1&&c.on("error",C),c.on("close",U),function(){c.removeListener("complete",S),c.removeListener("abort",U),c.removeListener("request",R),c.req&&c.req.removeListener("finish",S),c.removeListener("end",y),c.removeListener("close",y),c.removeListener("finish",S),c.removeListener("end",D),c.removeListener("error",C),c.removeListener("close",U)}}return sd=s,sd}var ld,pv;function iI(){if(pv)return ld;pv=1;var t;function e(R,I,P){return I in R?Object.defineProperty(R,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):R[I]=P,R}var r=Zd(),o=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),m=Symbol("stream");function y(R,I){return{value:R,done:I}}function x(R){var I=R[o];if(I!==null){var P=R[m].read();P!==null&&(R[h]=null,R[o]=null,R[s]=null,I(y(P,!1)))}}function S(R){nt.nextTick(x,R)}function E(R,I){return function(P,H){R.then(function(){if(I[d]){P(y(void 0,!0));return}I[p](P,H)},H)}}var D=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((t={get stream(){return this[m]},next:function(){var I=this,P=this[c];if(P!==null)return Promise.reject(P);if(this[d])return Promise.resolve(y(void 0,!0));if(this[m].destroyed)return new Promise(function(se,de){nt.nextTick(function(){I[c]?de(I[c]):se(y(void 0,!0))})});var H=this[h],q;if(H)q=new Promise(E(H,this));else{var ce=this[m].read();if(ce!==null)return Promise.resolve(y(ce,!1));q=new Promise(this[p])}return this[h]=q,q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var I=this;return new Promise(function(P,H){I[m].destroy(null,function(q){if(q){H(q);return}P(y(void 0,!0))})})}),t),D),U=function(I){var P,H=Object.create(C,(P={},e(P,m,{value:I,writable:!0}),e(P,o,{value:null,writable:!0}),e(P,s,{value:null,writable:!0}),e(P,c,{value:null,writable:!0}),e(P,d,{value:I._readableState.endEmitted,writable:!0}),e(P,p,{value:function(ce,se){var de=H[m].read();de?(H[h]=null,H[o]=null,H[s]=null,ce(y(de,!1))):(H[o]=ce,H[s]=se)},writable:!0}),P));return H[h]=null,r(I,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=H[s];ce!==null&&(H[h]=null,H[o]=null,H[s]=null,ce(q)),H[c]=q;return}var se=H[o];se!==null&&(H[h]=null,H[o]=null,H[s]=null,se(y(void 0,!0))),H[d]=!0}),I.on("readable",S.bind(null,H)),H};return ld=U,ld}var ud,mv;function oI(){return mv||(mv=1,ud=function(){throw new Error("Readable.from is not available in the browser")}),ud}var cd,gv;function Zw(){if(gv)return cd;gv=1,cd=G;var t;G.ReadableState=de,Yd.EventEmitter;var e=function(F,ie){return F.listeners(ie).length},r=zw(),o=lu().Buffer,s=sr.Uint8Array||function(){};function c(z){return o.from(z)}function d(z){return o.isBuffer(z)||z instanceof s}var h=Yw(),p;h&&h.debuglog?p=h.debuglog("stream"):p=function(){};var m=tI(),y=Ww(),x=$w(),S=x.getHighWaterMark,E=$o().codes,D=E.ERR_INVALID_ARG_TYPE,C=E.ERR_STREAM_PUSH_AFTER_EOF,U=E.ERR_METHOD_NOT_IMPLEMENTED,R=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,P,H;ki(G,r);var q=y.errorOrDestroy,ce=["error","close","destroy","pause","resume"];function se(z,F,ie){if(typeof z.prependListener=="function")return z.prependListener(F,ie);!z._events||!z._events[F]?z.on(F,ie):Array.isArray(z._events[F])?z._events[F].unshift(ie):z._events[F]=[ie,z._events[F]]}function de(z,F,ie){t=t||Oo(),z=z||{},typeof ie!="boolean"&&(ie=F instanceof t),this.objectMode=!!z.objectMode,ie&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=S(this,z,"readableHighWaterMark",ie),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(I||(I=Ld().StringDecoder),this.decoder=new I(z.encoding),this.encoding=z.encoding)}function G(z){if(t=t||Oo(),!(this instanceof G))return new G(z);var F=this instanceof t;this._readableState=new de(z,this,F),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),r.call(this)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),G.prototype.destroy=y.destroy,G.prototype._undestroy=y.undestroy,G.prototype._destroy=function(z,F){F(z)},G.prototype.push=function(z,F){var ie=this._readableState,b;return ie.objectMode?b=!0:typeof z=="string"&&(F=F||ie.defaultEncoding,F!==ie.encoding&&(z=o.from(z,F),F=""),b=!0),Te(this,z,F,!1,b)},G.prototype.unshift=function(z){return Te(this,z,null,!0,!1)};function Te(z,F,ie,b,re){p("readableAddChunk",F);var k=z._readableState;if(F===null)k.reading=!1,le(z,k);else{var v;if(re||(v=Z(k,F)),v)q(z,v);else if(k.objectMode||F&&F.length>0)if(typeof F!="string"&&!k.objectMode&&Object.getPrototypeOf(F)!==o.prototype&&(F=c(F)),b)k.endEmitted?q(z,new R):Re(z,k,F,!0);else if(k.ended)q(z,new C);else{if(k.destroyed)return!1;k.reading=!1,k.decoder&&!ie?(F=k.decoder.write(F),k.objectMode||F.length!==0?Re(z,k,F,!1):ue(z,k)):Re(z,k,F,!1)}else b||(k.reading=!1,ue(z,k))}return!k.ended&&(k.length<k.highWaterMark||k.length===0)}function Re(z,F,ie,b){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,z.emit("data",ie)):(F.length+=F.objectMode?1:ie.length,b?F.buffer.unshift(ie):F.buffer.push(ie),F.needReadable&&ae(z)),ue(z,F)}function Z(z,F){var ie;return!d(F)&&typeof F!="string"&&F!==void 0&&!z.objectMode&&(ie=new D("chunk",["string","Buffer","Uint8Array"],F)),ie}G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(z){I||(I=Ld().StringDecoder);var F=new I(z);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var ie=this._readableState.buffer.head,b="";ie!==null;)b+=F.write(ie.data),ie=ie.next;return this._readableState.buffer.clear(),b!==""&&this._readableState.buffer.push(b),this._readableState.length=b.length,this};var pe=1073741824;function B(z){return z>=pe?z=pe:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function he(z,F){return z<=0||F.length===0&&F.ended?0:F.objectMode?1:z!==z?F.flowing&&F.length?F.buffer.head.data.length:F.length:(z>F.highWaterMark&&(F.highWaterMark=B(z)),z<=F.length?z:F.ended?F.length:(F.needReadable=!0,0))}G.prototype.read=function(z){p("read",z),z=parseInt(z,10);var F=this._readableState,ie=z;if(z!==0&&(F.emittedReadable=!1),z===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return p("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?N(this):ae(this),null;if(z=he(z,F),z===0&&F.ended)return F.length===0&&N(this),null;var b=F.needReadable;p("need readable",b),(F.length===0||F.length-z<F.highWaterMark)&&(b=!0,p("length less than watermark",b)),F.ended||F.reading?(b=!1,p("reading or ended",b)):b&&(p("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(z=he(ie,F)));var re;return z>0?re=M(z,F):re=null,re===null?(F.needReadable=F.length<=F.highWaterMark,z=0):(F.length-=z,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),ie!==z&&F.ended&&N(this)),re!==null&&this.emit("data",re),re};function le(z,F){if(p("onEofChunk"),!F.ended){if(F.decoder){var ie=F.decoder.end();ie&&ie.length&&(F.buffer.push(ie),F.length+=F.objectMode?1:ie.length)}F.ended=!0,F.sync?ae(z):(F.needReadable=!1,F.emittedReadable||(F.emittedReadable=!0,Ce(z)))}}function ae(z){var F=z._readableState;p("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(p("emitReadable",F.flowing),F.emittedReadable=!0,nt.nextTick(Ce,z))}function Ce(z){var F=z._readableState;p("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&(F.length||F.ended)&&(z.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,$(z)}function ue(z,F){F.readingMore||(F.readingMore=!0,nt.nextTick(K,z,F))}function K(z,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var ie=F.length;if(p("maybeReadMore read 0"),z.read(0),ie===F.length)break}F.readingMore=!1}G.prototype._read=function(z){q(this,new U("_read()"))},G.prototype.pipe=function(z,F){var ie=this,b=this._readableState;switch(b.pipesCount){case 0:b.pipes=z;break;case 1:b.pipes=[b.pipes,z];break;default:b.pipes.push(z);break}b.pipesCount+=1,p("pipe count=%d opts=%j",b.pipesCount,F);var re=(!F||F.end!==!1)&&z!==nt.stdout&&z!==nt.stderr,k=re?T:Le;b.endEmitted?nt.nextTick(k):ie.once("end",k),z.on("unpipe",v);function v(Pe,Ve){p("onunpipe"),Pe===ie&&Ve&&Ve.hasUnpiped===!1&&(Ve.hasUnpiped=!0,ne())}function T(){p("onend"),z.end()}var A=J(ie);z.on("drain",A);var X=!1;function ne(){p("cleanup"),z.removeListener("close",De),z.removeListener("finish",be),z.removeListener("drain",A),z.removeListener("error",ge),z.removeListener("unpipe",v),ie.removeListener("end",T),ie.removeListener("end",Le),ie.removeListener("data",j),X=!0,b.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&A()}ie.on("data",j);function j(Pe){p("ondata");var Ve=z.write(Pe);p("dest.write",Ve),Ve===!1&&((b.pipesCount===1&&b.pipes===z||b.pipesCount>1&&W(b.pipes,z)!==-1)&&!X&&(p("false write response, pause",b.awaitDrain),b.awaitDrain++),ie.pause())}function ge(Pe){p("onerror",Pe),Le(),z.removeListener("error",ge),e(z,"error")===0&&q(z,Pe)}se(z,"error",ge);function De(){z.removeListener("finish",be),Le()}z.once("close",De);function be(){p("onfinish"),z.removeListener("close",De),Le()}z.once("finish",be);function Le(){p("unpipe"),ie.unpipe(z)}return z.emit("pipe",ie),b.flowing||(p("pipe resume"),ie.resume()),z};function J(z){return function(){var ie=z._readableState;p("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&e(z,"data")&&(ie.flowing=!0,$(z))}}G.prototype.unpipe=function(z){var F=this._readableState,ie={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return z&&z!==F.pipes?this:(z||(z=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,z&&z.emit("unpipe",this,ie),this);if(!z){var b=F.pipes,re=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var k=0;k<re;k++)b[k].emit("unpipe",this,{hasUnpiped:!1});return this}var v=W(F.pipes,z);return v===-1?this:(F.pipes.splice(v,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),z.emit("unpipe",this,ie),this)},G.prototype.on=function(z,F){var ie=r.prototype.on.call(this,z,F),b=this._readableState;return z==="data"?(b.readableListening=this.listenerCount("readable")>0,b.flowing!==!1&&this.resume()):z==="readable"&&!b.endEmitted&&!b.readableListening&&(b.readableListening=b.needReadable=!0,b.flowing=!1,b.emittedReadable=!1,p("on readable",b.length,b.reading),b.length?ae(this):b.reading||nt.nextTick(Y,this)),ie},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(z,F){var ie=r.prototype.removeListener.call(this,z,F);return z==="readable"&&nt.nextTick(O,this),ie},G.prototype.removeAllListeners=function(z){var F=r.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&nt.nextTick(O,this),F};function O(z){var F=z._readableState;F.readableListening=z.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:z.listenerCount("data")>0&&z.resume()}function Y(z){p("readable nexttick read 0"),z.read(0)}G.prototype.resume=function(){var z=this._readableState;return z.flowing||(p("resume"),z.flowing=!z.readableListening,Q(this,z)),z.paused=!1,this};function Q(z,F){F.resumeScheduled||(F.resumeScheduled=!0,nt.nextTick(ee,z,F))}function ee(z,F){p("resume",F.reading),F.reading||z.read(0),F.resumeScheduled=!1,z.emit("resume"),$(z),F.flowing&&!F.reading&&z.read(0)}G.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function $(z){var F=z._readableState;for(p("flow",F.flowing);F.flowing&&z.read()!==null;);}G.prototype.wrap=function(z){var F=this,ie=this._readableState,b=!1;z.on("end",function(){if(p("wrapped end"),ie.decoder&&!ie.ended){var v=ie.decoder.end();v&&v.length&&F.push(v)}F.push(null)}),z.on("data",function(v){if(p("wrapped data"),ie.decoder&&(v=ie.decoder.write(v)),!(ie.objectMode&&v==null)&&!(!ie.objectMode&&(!v||!v.length))){var T=F.push(v);T||(b=!0,z.pause())}});for(var re in z)this[re]===void 0&&typeof z[re]=="function"&&(this[re]=(function(T){return function(){return z[T].apply(z,arguments)}})(re));for(var k=0;k<ce.length;k++)z.on(ce[k],this.emit.bind(this,ce[k]));return this._read=function(v){p("wrapped _read",v),b&&(b=!1,z.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=iI()),P(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),G._fromList=M,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function M(z,F){if(F.length===0)return null;var ie;return F.objectMode?ie=F.buffer.shift():!z||z>=F.length?(F.decoder?ie=F.buffer.join(""):F.buffer.length===1?ie=F.buffer.first():ie=F.buffer.concat(F.length),F.buffer.clear()):ie=F.buffer.consume(z,F.decoder),ie}function N(z){var F=z._readableState;p("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,nt.nextTick(te,F,z))}function te(z,F){if(p("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,F.readable=!1,F.emit("end"),z.autoDestroy)){var ie=F._writableState;(!ie||ie.autoDestroy&&ie.finished)&&F.destroy()}}typeof Symbol=="function"&&(G.from=function(z,F){return H===void 0&&(H=oI()),H(G,z,F)});function W(z,F){for(var ie=0,b=z.length;ie<b;ie++)if(z[ie]===F)return ie;return-1}return cd}var fd,yv;function jw(){if(yv)return fd;yv=1,fd=h;var t=$o().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,c=Oo();ki(h,c);function d(y,x){var S=this._transformState;S.transforming=!1;var E=S.writecb;if(E===null)return this.emit("error",new r);S.writechunk=null,S.writecb=null,x!=null&&this.push(x),E(y);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);c.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(x,S){m(y,x,S)}):m(this,null,null)}h.prototype.push=function(y,x){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,x)},h.prototype._transform=function(y,x,S){S(new e("_transform()"))},h.prototype._write=function(y,x,S){var E=this._transformState;if(E.writecb=S,E.writechunk=y,E.writeencoding=x,!E.transforming){var D=this._readableState;(E.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},h.prototype._read=function(y){var x=this._transformState;x.writechunk!==null&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},h.prototype._destroy=function(y,x){c.prototype._destroy.call(this,y,function(S){x(S)})};function m(y,x,S){if(x)return y.emit("error",x);if(S!=null&&y.push(S),y._writableState.length)throw new s;if(y._transformState.transforming)throw new o;return y.push(null)}return fd}var dd,vv;function aI(){if(vv)return dd;vv=1,dd=e;var t=jw();ki(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,o,s){s(null,r)},dd}var hd,wv;function sI(){if(wv)return hd;wv=1;var t;function e(S){var E=!1;return function(){E||(E=!0,S.apply(void 0,arguments))}}var r=$o().codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function c(S){if(S)throw S}function d(S){return S.setHeader&&typeof S.abort=="function"}function h(S,E,D,C){C=e(C);var U=!1;S.on("close",function(){U=!0}),t===void 0&&(t=Zd()),t(S,{readable:E,writable:D},function(I){if(I)return C(I);U=!0,C()});var R=!1;return function(I){if(!U&&!R){if(R=!0,d(S))return S.abort();if(typeof S.destroy=="function")return S.destroy();C(I||new s("pipe"))}}}function p(S){S()}function m(S,E){return S.pipe(E)}function y(S){return!S.length||typeof S[S.length-1]!="function"?c:S.pop()}function x(){for(var S=arguments.length,E=new Array(S),D=0;D<S;D++)E[D]=arguments[D];var C=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new o("streams");var U,R=E.map(function(I,P){var H=P<E.length-1,q=P>0;return h(I,H,q,function(ce){U||(U=ce),ce&&R.forEach(p),!H&&(R.forEach(p),C(U))})});return E.reduce(m)}return hd=x,hd}var jd=Fn,Qd=Yd.EventEmitter,lI=ki;lI(Fn,Qd);Fn.Readable=Zw();Fn.Writable=Xw();Fn.Duplex=Oo();Fn.Transform=jw();Fn.PassThrough=aI();Fn.finished=Zd();Fn.pipeline=sI();Fn.Stream=Fn;function Fn(){Qd.call(this)}Fn.prototype.pipe=function(t,e){var r=this;function o(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}r.on("data",o);function s(){r.readable&&r.resume&&r.resume()}t.on("drain",s),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",d),r.on("close",h));var c=!1;function d(){c||(c=!0,t.end())}function h(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function p(y){if(m(),Qd.listenerCount(this,"error")===0)throw y}r.on("error",p),t.on("error",p);function m(){r.removeListener("data",o),t.removeListener("drain",s),r.removeListener("end",d),r.removeListener("close",h),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t};(function(t){(function(e){e.parser=function(M,N){return new o(M,N)},e.SAXParser=o,e.SAXStream=y,e.createStream=m,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(M,N){if(!(this instanceof o))return new o(M,N);var te=this;c(te),te.q=te.c="",te.bufferCheckPosition=e.MAX_BUFFER_LENGTH,te.opt=N||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!M,te.noscript=!!(M||te.opt.noscript),te.state=G.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(C)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),Re(te,"onready")}Object.create||(Object.create=function(M){function N(){}N.prototype=M;var te=new N;return te}),Object.keys||(Object.keys=function(M){var N=[];for(var te in M)M.hasOwnProperty(te)&&N.push(te);return N});function s(M){for(var N=Math.max(e.MAX_BUFFER_LENGTH,10),te=0,W=0,z=r.length;W<z;W++){var F=M[r[W]].length;if(F>N)switch(r[W]){case"textNode":pe(M);break;case"cdata":Z(M,"oncdata",M.cdata),M.cdata="";break;case"script":Z(M,"onscript",M.script),M.script="";break;default:he(M,"Max buffer length exceeded: "+r[W])}te=Math.max(te,F)}var ie=e.MAX_BUFFER_LENGTH-te;M.bufferCheckPosition=ie+M.position}function c(M){for(var N=0,te=r.length;N<te;N++)M[r[N]]=""}function d(M){pe(M),M.cdata!==""&&(Z(M,"oncdata",M.cdata),M.cdata=""),M.script!==""&&(Z(M,"onscript",M.script),M.script="")}o.prototype={end:function(){le(this)},write:$,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var h;try{h=jd.Stream}catch{h=function(){}}var p=e.EVENTS.filter(function(M){return M!=="error"&&M!=="end"});function m(M,N){return new y(M,N)}function y(M,N){if(!(this instanceof y))return new y(M,N);h.apply(this),this._parser=new o(M,N),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(W){te.emit("error",W),te._parser.error=null},this._decoder=null,p.forEach(function(W){Object.defineProperty(te,"on"+W,{get:function(){return te._parser["on"+W]},set:function(z){if(!z)return te.removeAllListeners(W),te._parser["on"+W]=z,z;te.on(W,z)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(h.prototype,{constructor:{value:y}}),y.prototype.write=function(M){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(M)){if(!this._decoder){var N=Ld().StringDecoder;this._decoder=new N("utf8")}M=this._decoder.write(M)}return this._parser.write(M.toString()),this.emit("data",M),!0},y.prototype.end=function(M){return M&&M.length&&this.write(M),this._parser.end(),!0},y.prototype.on=function(M,N){var te=this;return!te._parser["on"+M]&&p.indexOf(M)!==-1&&(te._parser["on"+M]=function(){var W=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);W.splice(0,0,M),te.emit.apply(te,W)}),h.prototype.on.call(te,M,N)};var x="[CDATA[",S="DOCTYPE",E="http://www.w3.org/XML/1998/namespace",D="http://www.w3.org/2000/xmlns/",C={xml:E,xmlns:D},U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function H(M){return M===" "||M===`
`||M==="\r"||M==="	"}function q(M){return M==='"'||M==="'"}function ce(M){return M===">"||H(M)}function se(M,N){return M.test(N)}function de(M,N){return!se(M,N)}var G=0;e.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(M){var N=e.ENTITIES[M],te=typeof N=="number"?String.fromCharCode(N):N;e.ENTITIES[M]=te});for(var Te in e.STATE)e.STATE[e.STATE[Te]]=Te;G=e.STATE;function Re(M,N,te){M[N]&&M[N](te)}function Z(M,N,te){M.textNode&&pe(M),Re(M,N,te)}function pe(M){M.textNode=B(M.opt,M.textNode),M.textNode&&Re(M,"ontext",M.textNode),M.textNode=""}function B(M,N){return M.trim&&(N=N.trim()),M.normalize&&(N=N.replace(/\s+/g," ")),N}function he(M,N){return pe(M),M.trackPosition&&(N+=`
Line: `+M.line+`
Column: `+M.column+`
Char: `+M.c),N=new Error(N),M.error=N,Re(M,"onerror",N),M}function le(M){return M.sawRoot&&!M.closedRoot&&ae(M,"Unclosed root tag"),M.state!==G.BEGIN&&M.state!==G.BEGIN_WHITESPACE&&M.state!==G.TEXT&&he(M,"Unexpected end"),pe(M),M.c="",M.closed=!0,Re(M,"onend"),o.call(M,M.strict,M.opt),M}function ae(M,N){if(typeof M!="object"||!(M instanceof o))throw new Error("bad call to strictFail");M.strict&&he(M,N)}function Ce(M){M.strict||(M.tagName=M.tagName[M.looseCase]());var N=M.tags[M.tags.length-1]||M,te=M.tag={name:M.tagName,attributes:{}};M.opt.xmlns&&(te.ns=N.ns),M.attribList.length=0,Z(M,"onopentagstart",te)}function ue(M,N){var te=M.indexOf(":"),W=te<0?["",M]:M.split(":"),z=W[0],F=W[1];return N&&M==="xmlns"&&(z="xmlns",F=""),{prefix:z,local:F}}function K(M){if(M.strict||(M.attribName=M.attribName[M.looseCase]()),M.attribList.indexOf(M.attribName)!==-1||M.tag.attributes.hasOwnProperty(M.attribName)){M.attribName=M.attribValue="";return}if(M.opt.xmlns){var N=ue(M.attribName,!0),te=N.prefix,W=N.local;if(te==="xmlns")if(W==="xml"&&M.attribValue!==E)ae(M,"xml: prefix must be bound to "+E+`
Actual: `+M.attribValue);else if(W==="xmlns"&&M.attribValue!==D)ae(M,"xmlns: prefix must be bound to "+D+`
Actual: `+M.attribValue);else{var z=M.tag,F=M.tags[M.tags.length-1]||M;z.ns===F.ns&&(z.ns=Object.create(F.ns)),z.ns[W]=M.attribValue}M.attribList.push([M.attribName,M.attribValue])}else M.tag.attributes[M.attribName]=M.attribValue,Z(M,"onattribute",{name:M.attribName,value:M.attribValue});M.attribName=M.attribValue=""}function J(M,N){if(M.opt.xmlns){var te=M.tag,W=ue(M.tagName);te.prefix=W.prefix,te.local=W.local,te.uri=te.ns[W.prefix]||"",te.prefix&&!te.uri&&(ae(M,"Unbound namespace prefix: "+JSON.stringify(M.tagName)),te.uri=W.prefix);var z=M.tags[M.tags.length-1]||M;te.ns&&z.ns!==te.ns&&Object.keys(te.ns).forEach(function(j){Z(M,"onopennamespace",{prefix:j,uri:te.ns[j]})});for(var F=0,ie=M.attribList.length;F<ie;F++){var b=M.attribList[F],re=b[0],k=b[1],v=ue(re,!0),T=v.prefix,A=v.local,X=T===""?"":te.ns[T]||"",ne={name:re,value:k,prefix:T,local:A,uri:X};T&&T!=="xmlns"&&!X&&(ae(M,"Unbound namespace prefix: "+JSON.stringify(T)),ne.uri=T),M.tag.attributes[re]=ne,Z(M,"onattribute",ne)}M.attribList.length=0}M.tag.isSelfClosing=!!N,M.sawRoot=!0,M.tags.push(M.tag),Z(M,"onopentag",M.tag),N||(!M.noscript&&M.tagName.toLowerCase()==="script"?M.state=G.SCRIPT:M.state=G.TEXT,M.tag=null,M.tagName=""),M.attribName=M.attribValue="",M.attribList.length=0}function O(M){if(!M.tagName){ae(M,"Weird empty close tag."),M.textNode+="</>",M.state=G.TEXT;return}if(M.script){if(M.tagName!=="script"){M.script+="</"+M.tagName+">",M.tagName="",M.state=G.SCRIPT;return}Z(M,"onscript",M.script),M.script=""}var N=M.tags.length,te=M.tagName;M.strict||(te=te[M.looseCase]());for(var W=te;N--;){var z=M.tags[N];if(z.name!==W)ae(M,"Unexpected close tag");else break}if(N<0){ae(M,"Unmatched closing tag: "+M.tagName),M.textNode+="</"+M.tagName+">",M.state=G.TEXT;return}M.tagName=te;for(var F=M.tags.length;F-- >N;){var ie=M.tag=M.tags.pop();M.tagName=M.tag.name,Z(M,"onclosetag",M.tagName);var b={};for(var re in ie.ns)b[re]=ie.ns[re];var k=M.tags[M.tags.length-1]||M;M.opt.xmlns&&ie.ns!==k.ns&&Object.keys(ie.ns).forEach(function(v){var T=ie.ns[v];Z(M,"onclosenamespace",{prefix:v,uri:T})})}N===0&&(M.closedRoot=!0),M.tagName=M.attribValue=M.attribName="",M.attribList.length=0,M.state=G.TEXT}function Y(M){var N=M.entity,te=N.toLowerCase(),W,z="";return M.ENTITIES[N]?M.ENTITIES[N]:M.ENTITIES[te]?M.ENTITIES[te]:(N=te,N.charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),W=parseInt(N,16),z=W.toString(16)):(N=N.slice(1),W=parseInt(N,10),z=W.toString(10))),N=N.replace(/^0+/,""),isNaN(W)||z.toLowerCase()!==N?(ae(M,"Invalid character entity"),"&"+M.entity+";"):String.fromCodePoint(W))}function Q(M,N){N==="<"?(M.state=G.OPEN_WAKA,M.startTagPosition=M.position):H(N)||(ae(M,"Non-whitespace before first tag."),M.textNode=N,M.state=G.TEXT)}function ee(M,N){var te="";return N<M.length&&(te=M.charAt(N)),te}function $(M){var N=this;if(this.error)throw this.error;if(N.closed)return he(N,"Cannot write after close. Assign an onready handler.");if(M===null)return le(N);typeof M=="object"&&(M=M.toString());for(var te=0,W="";W=ee(M,te++),N.c=W,!!W;)switch(N.trackPosition&&(N.position++,W===`
`?(N.line++,N.column=0):N.column++),N.state){case G.BEGIN:if(N.state=G.BEGIN_WHITESPACE,W==="\uFEFF")continue;Q(N,W);continue;case G.BEGIN_WHITESPACE:Q(N,W);continue;case G.TEXT:if(N.sawRoot&&!N.closedRoot){for(var z=te-1;W&&W!=="<"&&W!=="&";)W=ee(M,te++),W&&N.trackPosition&&(N.position++,W===`
`?(N.line++,N.column=0):N.column++);N.textNode+=M.substring(z,te-1)}W==="<"&&!(N.sawRoot&&N.closedRoot&&!N.strict)?(N.state=G.OPEN_WAKA,N.startTagPosition=N.position):(!H(W)&&(!N.sawRoot||N.closedRoot)&&ae(N,"Text data outside of root node."),W==="&"?N.state=G.TEXT_ENTITY:N.textNode+=W);continue;case G.SCRIPT:W==="<"?N.state=G.SCRIPT_ENDING:N.script+=W;continue;case G.SCRIPT_ENDING:W==="/"?N.state=G.CLOSE_TAG:(N.script+="<"+W,N.state=G.SCRIPT);continue;case G.OPEN_WAKA:if(W==="!")N.state=G.SGML_DECL,N.sgmlDecl="";else if(!H(W))if(se(U,W))N.state=G.OPEN_TAG,N.tagName=W;else if(W==="/")N.state=G.CLOSE_TAG,N.tagName="";else if(W==="?")N.state=G.PROC_INST,N.procInstName=N.procInstBody="";else{if(ae(N,"Unencoded <"),N.startTagPosition+1<N.position){var F=N.position-N.startTagPosition;W=new Array(F).join(" ")+W}N.textNode+="<"+W,N.state=G.TEXT}continue;case G.SGML_DECL:(N.sgmlDecl+W).toUpperCase()===x?(Z(N,"onopencdata"),N.state=G.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+W==="--"?(N.state=G.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+W).toUpperCase()===S?(N.state=G.DOCTYPE,(N.doctype||N.sawRoot)&&ae(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):W===">"?(Z(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=G.TEXT):(q(W)&&(N.state=G.SGML_DECL_QUOTED),N.sgmlDecl+=W);continue;case G.SGML_DECL_QUOTED:W===N.q&&(N.state=G.SGML_DECL,N.q=""),N.sgmlDecl+=W;continue;case G.DOCTYPE:W===">"?(N.state=G.TEXT,Z(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=W,W==="["?N.state=G.DOCTYPE_DTD:q(W)&&(N.state=G.DOCTYPE_QUOTED,N.q=W));continue;case G.DOCTYPE_QUOTED:N.doctype+=W,W===N.q&&(N.q="",N.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:N.doctype+=W,W==="]"?N.state=G.DOCTYPE:q(W)&&(N.state=G.DOCTYPE_DTD_QUOTED,N.q=W);continue;case G.DOCTYPE_DTD_QUOTED:N.doctype+=W,W===N.q&&(N.state=G.DOCTYPE_DTD,N.q="");continue;case G.COMMENT:W==="-"?N.state=G.COMMENT_ENDING:N.comment+=W;continue;case G.COMMENT_ENDING:W==="-"?(N.state=G.COMMENT_ENDED,N.comment=B(N.opt,N.comment),N.comment&&Z(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+W,N.state=G.COMMENT);continue;case G.COMMENT_ENDED:W!==">"?(ae(N,"Malformed comment"),N.comment+="--"+W,N.state=G.COMMENT):N.state=G.TEXT;continue;case G.CDATA:W==="]"?N.state=G.CDATA_ENDING:N.cdata+=W;continue;case G.CDATA_ENDING:W==="]"?N.state=G.CDATA_ENDING_2:(N.cdata+="]"+W,N.state=G.CDATA);continue;case G.CDATA_ENDING_2:W===">"?(N.cdata&&Z(N,"oncdata",N.cdata),Z(N,"onclosecdata"),N.cdata="",N.state=G.TEXT):W==="]"?N.cdata+="]":(N.cdata+="]]"+W,N.state=G.CDATA);continue;case G.PROC_INST:W==="?"?N.state=G.PROC_INST_ENDING:H(W)?N.state=G.PROC_INST_BODY:N.procInstName+=W;continue;case G.PROC_INST_BODY:if(!N.procInstBody&&H(W))continue;W==="?"?N.state=G.PROC_INST_ENDING:N.procInstBody+=W;continue;case G.PROC_INST_ENDING:W===">"?(Z(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=G.TEXT):(N.procInstBody+="?"+W,N.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:se(R,W)?N.tagName+=W:(Ce(N),W===">"?J(N):W==="/"?N.state=G.OPEN_TAG_SLASH:(H(W)||ae(N,"Invalid character in tag name"),N.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:W===">"?(J(N,!0),O(N)):(ae(N,"Forward-slash in opening tag not followed by >"),N.state=G.ATTRIB);continue;case G.ATTRIB:if(H(W))continue;W===">"?J(N):W==="/"?N.state=G.OPEN_TAG_SLASH:se(U,W)?(N.attribName=W,N.attribValue="",N.state=G.ATTRIB_NAME):ae(N,"Invalid attribute name");continue;case G.ATTRIB_NAME:W==="="?N.state=G.ATTRIB_VALUE:W===">"?(ae(N,"Attribute without value"),N.attribValue=N.attribName,K(N),J(N)):H(W)?N.state=G.ATTRIB_NAME_SAW_WHITE:se(R,W)?N.attribName+=W:ae(N,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if(W==="=")N.state=G.ATTRIB_VALUE;else{if(H(W))continue;ae(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",Z(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",W===">"?J(N):se(U,W)?(N.attribName=W,N.state=G.ATTRIB_NAME):(ae(N,"Invalid attribute name"),N.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(H(W))continue;q(W)?(N.q=W,N.state=G.ATTRIB_VALUE_QUOTED):(ae(N,"Unquoted attribute value"),N.state=G.ATTRIB_VALUE_UNQUOTED,N.attribValue=W);continue;case G.ATTRIB_VALUE_QUOTED:if(W!==N.q){W==="&"?N.state=G.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=W;continue}K(N),N.q="",N.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:H(W)?N.state=G.ATTRIB:W===">"?J(N):W==="/"?N.state=G.OPEN_TAG_SLASH:se(U,W)?(ae(N,"No whitespace between attributes"),N.attribName=W,N.attribValue="",N.state=G.ATTRIB_NAME):ae(N,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(!ce(W)){W==="&"?N.state=G.ATTRIB_VALUE_ENTITY_U:N.attribValue+=W;continue}K(N),W===">"?J(N):N.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(N.tagName)W===">"?O(N):se(R,W)?N.tagName+=W:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=G.SCRIPT):(H(W)||ae(N,"Invalid tagname in closing tag"),N.state=G.CLOSE_TAG_SAW_WHITE);else{if(H(W))continue;de(U,W)?N.script?(N.script+="</"+W,N.state=G.SCRIPT):ae(N,"Invalid tagname in closing tag."):N.tagName=W}continue;case G.CLOSE_TAG_SAW_WHITE:if(H(W))continue;W===">"?O(N):ae(N,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var ie,b;switch(N.state){case G.TEXT_ENTITY:ie=G.TEXT,b="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:ie=G.ATTRIB_VALUE_QUOTED,b="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:ie=G.ATTRIB_VALUE_UNQUOTED,b="attribValue";break}W===";"?(N[b]+=Y(N),N.entity="",N.state=ie):se(N.entity.length?P:I,W)?N.entity+=W:(ae(N,"Invalid character in entity name"),N[b]+="&"+N.entity+W,N.entity="",N.state=ie);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&s(N),N}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var M=String.fromCharCode,N=Math.floor,te=function(){var W=16384,z=[],F,ie,b=-1,re=arguments.length;if(!re)return"";for(var k="";++b<re;){var v=Number(arguments[b]);if(!isFinite(v)||v<0||v>1114111||N(v)!==v)throw RangeError("Invalid code point: "+v);v<=65535?z.push(v):(v-=65536,F=(v>>10)+55296,ie=v%1024+56320,z.push(F,ie)),(b+1===re||z.length>W)&&(k+=M.apply(null,z),z.length=0)}return k};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te})()})(t)})(Rw);var eh={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},uI=eh.isArray,th={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!uI(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},cI=Rw,gt=th,ko=eh.isArray,_e,Xe;function fI(t){return _e=gt.copyOptions(t),gt.ensureFlagExists("ignoreDeclaration",_e),gt.ensureFlagExists("ignoreInstruction",_e),gt.ensureFlagExists("ignoreAttributes",_e),gt.ensureFlagExists("ignoreText",_e),gt.ensureFlagExists("ignoreComment",_e),gt.ensureFlagExists("ignoreCdata",_e),gt.ensureFlagExists("ignoreDoctype",_e),gt.ensureFlagExists("compact",_e),gt.ensureFlagExists("alwaysChildren",_e),gt.ensureFlagExists("addParent",_e),gt.ensureFlagExists("trim",_e),gt.ensureFlagExists("nativeType",_e),gt.ensureFlagExists("nativeTypeAttributes",_e),gt.ensureFlagExists("sanitize",_e),gt.ensureFlagExists("instructionHasAttributes",_e),gt.ensureFlagExists("captureSpacesBetweenElements",_e),gt.ensureAlwaysArrayExists(_e),gt.ensureKeyExists("declaration",_e),gt.ensureKeyExists("instruction",_e),gt.ensureKeyExists("attributes",_e),gt.ensureKeyExists("text",_e),gt.ensureKeyExists("comment",_e),gt.ensureKeyExists("cdata",_e),gt.ensureKeyExists("doctype",_e),gt.ensureKeyExists("type",_e),gt.ensureKeyExists("name",_e),gt.ensureKeyExists("elements",_e),gt.ensureKeyExists("parent",_e),_e}function Qw(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function ms(t,e){var r;if(_e.compact){if(!Xe[_e[t+"Key"]]&&(ko(_e.alwaysArray)?_e.alwaysArray.indexOf(_e[t+"Key"])!==-1:_e.alwaysArray)&&(Xe[_e[t+"Key"]]=[]),Xe[_e[t+"Key"]]&&!ko(Xe[_e[t+"Key"]])&&(Xe[_e[t+"Key"]]=[Xe[_e[t+"Key"]]]),t+"Fn"in _e&&typeof e=="string"&&(e=_e[t+"Fn"](e,Xe)),t==="instruction"&&("instructionFn"in _e||"instructionNameFn"in _e)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in _e)e[r]=_e.instructionFn(e[r],r,Xe);else{var o=e[r];delete e[r],e[_e.instructionNameFn(r,o,Xe)]=o}}ko(Xe[_e[t+"Key"]])?Xe[_e[t+"Key"]].push(e):Xe[_e[t+"Key"]]=e}else{Xe[_e.elementsKey]||(Xe[_e.elementsKey]=[]);var s={};if(s[_e.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;s[_e.nameKey]="instructionNameFn"in _e?_e.instructionNameFn(r,e,Xe):r,_e.instructionHasAttributes?(s[_e.attributesKey]=e[r][_e.attributesKey],"instructionFn"in _e&&(s[_e.attributesKey]=_e.instructionFn(s[_e.attributesKey],r,Xe))):("instructionFn"in _e&&(e[r]=_e.instructionFn(e[r],r,Xe)),s[_e.instructionKey]=e[r])}else t+"Fn"in _e&&(e=_e[t+"Fn"](e,Xe)),s[_e[t+"Key"]]=e;_e.addParent&&(s[_e.parentKey]=Xe),Xe[_e.elementsKey].push(s)}}function ex(t){if("attributesFn"in _e&&t&&(t=_e.attributesFn(t,Xe)),(_e.trim||"attributeValueFn"in _e||"attributeNameFn"in _e||_e.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(_e.trim&&(t[e]=t[e].trim()),_e.nativeTypeAttributes&&(t[e]=Qw(t[e])),"attributeValueFn"in _e&&(t[e]=_e.attributeValueFn(t[e],e,Xe)),"attributeNameFn"in _e)){var r=t[e];delete t[e],t[_e.attributeNameFn(e,t[e],Xe)]=r}}return t}function dI(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||_e.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,o;(o=r.exec(t.body))!==null;)e[o[1]]=o[2]||o[3]||o[4];e=ex(e)}if(t.name.toLowerCase()==="xml"){if(_e.ignoreDeclaration)return;Xe[_e.declarationKey]={},Object.keys(e).length&&(Xe[_e.declarationKey][_e.attributesKey]=e),_e.addParent&&(Xe[_e.declarationKey][_e.parentKey]=Xe)}else{if(_e.ignoreInstruction)return;_e.trim&&(t.body=t.body.trim());var s={};_e.instructionHasAttributes&&Object.keys(e).length?(s[t.name]={},s[t.name][_e.attributesKey]=e):s[t.name]=t.body,ms("instruction",s)}}function hI(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=ex(e),"elementNameFn"in _e&&(t=_e.elementNameFn(t,Xe)),_e.compact){if(r={},!_e.ignoreAttributes&&e&&Object.keys(e).length){r[_e.attributesKey]={};var o;for(o in e)e.hasOwnProperty(o)&&(r[_e.attributesKey][o]=e[o])}!(t in Xe)&&(ko(_e.alwaysArray)?_e.alwaysArray.indexOf(t)!==-1:_e.alwaysArray)&&(Xe[t]=[]),Xe[t]&&!ko(Xe[t])&&(Xe[t]=[Xe[t]]),ko(Xe[t])?Xe[t].push(r):Xe[t]=r}else Xe[_e.elementsKey]||(Xe[_e.elementsKey]=[]),r={},r[_e.typeKey]="element",r[_e.nameKey]=t,!_e.ignoreAttributes&&e&&Object.keys(e).length&&(r[_e.attributesKey]=e),_e.alwaysChildren&&(r[_e.elementsKey]=[]),Xe[_e.elementsKey].push(r);r[_e.parentKey]=Xe,Xe=r}function pI(t){_e.ignoreText||!t.trim()&&!_e.captureSpacesBetweenElements||(_e.trim&&(t=t.trim()),_e.nativeType&&(t=Qw(t)),_e.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),ms("text",t))}function mI(t){_e.ignoreComment||(_e.trim&&(t=t.trim()),ms("comment",t))}function gI(t){var e=Xe[_e.parentKey];_e.addParent||delete Xe[_e.parentKey],Xe=e}function yI(t){_e.ignoreCdata||(_e.trim&&(t=t.trim()),ms("cdata",t))}function vI(t){_e.ignoreDoctype||(t=t.replace(/^ /,""),_e.trim&&(t=t.trim()),ms("doctype",t))}function wI(t){t.note=t}var tx=function(t,e){var r=cI.parser(!0,{}),o={};if(Xe=o,_e=fI(e),r.opt={strictEntities:!0},r.onopentag=hI,r.ontext=pI,r.oncomment=mI,r.onclosetag=gI,r.onerror=wI,r.oncdata=yI,r.ondoctype=vI,r.onprocessinginstruction=dI,r.write(t).close(),o[_e.elementsKey]){var s=o[_e.elementsKey];delete o[_e.elementsKey],o[_e.elementsKey]=s,delete o.text}return o},xv=th,xI=tx;function TI(t){var e=xv.copyOptions(t);return xv.ensureSpacesExists(e),e}var SI=function(t,e){var r,o,s,c;return r=TI(e),o=xI(t,r),c="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?s=JSON.stringify(o,function(d,h){return d===c?"_":h},r.spaces):s=JSON.stringify(o,null,r.spaces),s.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},_t=th,EI=eh.isArray,sn,ln;function _I(t){var e=_t.copyOptions(t);return _t.ensureFlagExists("ignoreDeclaration",e),_t.ensureFlagExists("ignoreInstruction",e),_t.ensureFlagExists("ignoreAttributes",e),_t.ensureFlagExists("ignoreText",e),_t.ensureFlagExists("ignoreComment",e),_t.ensureFlagExists("ignoreCdata",e),_t.ensureFlagExists("ignoreDoctype",e),_t.ensureFlagExists("compact",e),_t.ensureFlagExists("indentText",e),_t.ensureFlagExists("indentCdata",e),_t.ensureFlagExists("indentAttributes",e),_t.ensureFlagExists("indentInstruction",e),_t.ensureFlagExists("fullTagEmptyElement",e),_t.ensureFlagExists("noQuotesForNativeAttributes",e),_t.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),_t.ensureKeyExists("declaration",e),_t.ensureKeyExists("instruction",e),_t.ensureKeyExists("attributes",e),_t.ensureKeyExists("text",e),_t.ensureKeyExists("comment",e),_t.ensureKeyExists("cdata",e),_t.ensureKeyExists("doctype",e),_t.ensureKeyExists("type",e),_t.ensureKeyExists("name",e),_t.ensureKeyExists("elements",e),e}function ar(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function uu(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,ln,sn));var o,s,c,d,h=[];for(o in t)t.hasOwnProperty(o)&&t[o]!==null&&t[o]!==void 0&&(d=e.noQuotesForNativeAttributes&&typeof t[o]!="string"?"":'"',s=""+t[o],s=s.replace(/"/g,"&quot;"),c="attributeNameFn"in e?e.attributeNameFn(o,s,ln,sn):o,h.push(e.spaces&&e.indentAttributes?ar(e,r+1,!1):" "),h.push(c+"="+d+("attributeValueFn"in e?e.attributeValueFn(s,o,ln,sn):s)+d));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&h.push(ar(e,r,!1)),h.join("")}function nx(t,e,r){return sn=t,ln="xml",e.ignoreDeclaration?"":"<?xml"+uu(t[e.attributesKey],e,r)+"?>"}function rx(t,e,r){if(e.ignoreInstruction)return"";var o;for(o in t)if(t.hasOwnProperty(o))break;var s="instructionNameFn"in e?e.instructionNameFn(o,t[o],ln,sn):o;if(typeof t[o]=="object")return sn=t,ln=s,"<?"+s+uu(t[o][e.attributesKey],e,r)+"?>";var c=t[o]?t[o]:"";return"instructionFn"in e&&(c=e.instructionFn(c,o,ln,sn)),"<?"+s+(c?" "+c:"")+"?>"}function ix(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,ln,sn):t)+"-->"}function ox(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,ln,sn):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function ax(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,ln,sn):t)+">"}function nh(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,ln,sn):t)}function bI(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function CI(t,e,r){sn=t,ln=t.name;var o=[],s="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;o.push("<"+s),t[e.attributesKey]&&o.push(uu(t[e.attributesKey],e,r));var c=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return c||("fullTagEmptyElementFn"in e?c=e.fullTagEmptyElementFn(t.name,t):c=e.fullTagEmptyElement),c?(o.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(o.push(sx(t[e.elementsKey],e,r+1)),sn=t,ln=t.name),o.push(e.spaces&&bI(t,e)?`
`+Array(r+1).join(e.spaces):""),o.push("</"+s+">")):o.push("/>"),o.join("")}function sx(t,e,r,o){return t.reduce(function(s,c){var d=ar(e,r,o&&!s);switch(c.type){case"element":return s+d+CI(c,e,r);case"comment":return s+d+ix(c[e.commentKey],e);case"doctype":return s+d+ax(c[e.doctypeKey],e);case"cdata":return s+(e.indentCdata?d:"")+ox(c[e.cdataKey],e);case"text":return s+(e.indentText?d:"")+nh(c[e.textKey],e);case"instruction":var h={};return h[c[e.nameKey]]=c[e.attributesKey]?c:c[e.instructionKey],s+(e.indentInstruction?d:"")+rx(h,e,r)}},"")}function lx(t,e,r){var o;for(o in t)if(t.hasOwnProperty(o))switch(o){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function AI(t,e,r,o,s){sn=t,ln=e;var c="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var d=[];if(e){if(d.push("<"+c),typeof t!="object")return d.push(">"+nh(t,r)+"</"+c+">"),d.join("");t[r.attributesKey]&&d.push(uu(t[r.attributesKey],r,o));var h=lx(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(h||("fullTagEmptyElementFn"in r?h=r.fullTagEmptyElementFn(e,t):h=r.fullTagEmptyElement),h)d.push(">");else return d.push("/>"),d.join("")}return d.push(ux(t,r,o+1,!1)),sn=t,ln=e,e&&d.push((s?ar(r,o,!1):"")+"</"+c+">"),d.join("")}function ux(t,e,r,o){var s,c,d,h=[];for(c in t)if(t.hasOwnProperty(c))for(d=EI(t[c])?t[c]:[t[c]],s=0;s<d.length;++s){switch(c){case e.declarationKey:h.push(nx(d[s],e,r));break;case e.instructionKey:h.push((e.indentInstruction?ar(e,r,o):"")+rx(d[s],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:h.push((e.indentText?ar(e,r,o):"")+nh(d[s],e));break;case e.cdataKey:h.push((e.indentCdata?ar(e,r,o):"")+ox(d[s],e));break;case e.doctypeKey:h.push(ar(e,r,o)+ax(d[s],e));break;case e.commentKey:h.push(ar(e,r,o)+ix(d[s],e));break;default:h.push(ar(e,r,o)+AI(d[s],c,e,r,lx(d[s],e)))}o=o&&!h.length}return h.join("")}var cx=function(t,e){e=_I(e);var r=[];return sn=t,ln="_root_",e.compact?r.push(ux(t,e,0,!0)):(t[e.declarationKey]&&r.push(nx(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(sx(t[e.elementsKey],e,0,!r.length))),r.join("")},RI=cx,NI=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return RI(r,e)},DI=tx,MI=SI,II=cx,kI=NI,fx={xml2js:DI,xml2json:MI,js2xml:II,json2xml:kI};const rh=t=>{switch(t.type){case void 0:case"element":const e=new LI(t.name,t.attributes),r=t.elements||[];for(const o of r){const s=rh(o);s!==void 0&&e.push(s)}return e;case"text":return t.text;default:return}};class UI extends Oe{}class LI extends Ee{static fromXmlString(e){const r=fx.xml2js(e,{compact:!1});return rh(r)}constructor(e,r){super(e),r&&this.root.push(new UI(r))}push(e){this.root.push(e)}}class BI extends Ee{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class dx extends Ee{constructor(e,r){super(e),r&&(this.root=r.root)}}const Tn=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},cu=t=>{const e=Tn(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},hx=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},Tv=t=>hx(t,1),px=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},mx=t=>{const e=px(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Fo=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return hx(e,3)},Ni=t=>typeof t=="string"?px(t):Tn(t),PI=t=>typeof t=="string"?mx(t):cu(t),$n=t=>typeof t=="string"?mx(t):cu(t),OI=cu,FI=cu,GI=t=>t.toISOString();class ke extends Ee{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new zt({val:r}))}}class pd extends Ee{constructor(e,r){super(e),this.root.push(new zt({val:PI(r)}))}}class Uo extends Ee{constructor(e,r){super(e),this.root.push(new zt({val:r}))}}const as=(t,e)=>new un({name:t,attributes:{value:{key:"w:val",value:e}}});class ih extends Ee{constructor(e,r){super(e),this.root.push(new zt({val:r}))}}class bi extends Ee{constructor(e,r){super(e),this.root.push(r)}}class un extends Ee{constructor({name:e,attributes:r,children:o}){super(e),r&&this.root.push(new Yo(r)),o&&this.root.push(...o)}}const xn={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class zI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class VI extends Ee{constructor(e){super("w:jc"),this.root.push(new zI({val:e}))}}class Bt extends Ee{constructor(e,{color:r,size:o,space:s,style:c}){super(e),this.root.push(new qI({style:c,color:r===void 0?void 0:Fo(r),size:o===void 0?void 0:OI(o),space:s===void 0?void 0:FI(s)}))}}class qI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const oh={SINGLE:"single",NONE:"none"};class HI extends au{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Bt("w:top",e.top)),e.bottom&&this.root.push(new Bt("w:bottom",e.bottom)),e.left&&this.root.push(new Bt("w:left",e.left)),e.right&&this.root.push(new Bt("w:right",e.right))}}class KI extends Ee{constructor(){super("w:pBdr");const e=new Bt("w:bottom",{color:"auto",space:1,style:oh.SINGLE,size:6});this.root.push(e)}}class JI extends Ee{constructor({start:e,end:r,left:o,right:s,hanging:c,firstLine:d}){super("w:ind"),this.root.push(new Yo({start:{key:"w:start",value:e===void 0?void 0:Ni(e)},end:{key:"w:end",value:r===void 0?void 0:Ni(r)},left:{key:"w:left",value:o===void 0?void 0:Ni(o)},right:{key:"w:right",value:s===void 0?void 0:Ni(s)},hanging:{key:"w:hanging",value:c===void 0?void 0:$n(c)},firstLine:{key:"w:firstLine",value:d===void 0?void 0:$n(d)}}))}}let YI=class extends Ee{constructor(){super("w:br")}};const ah={BEGIN:"begin",END:"end",SEPARATE:"separate"};class sh extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Bl extends Ee{constructor(e){super("w:fldChar"),this.root.push(new sh({type:ah.BEGIN,dirty:e}))}}class Pl extends Ee{constructor(e){super("w:fldChar"),this.root.push(new sh({type:ah.SEPARATE,dirty:e}))}}class Ol extends Ee{constructor(e){super("w:fldChar"),this.root.push(new sh({type:ah.END,dirty:e}))}}const Go={DEFAULT:"default",PRESERVE:"preserve"};class zo extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{space:"xml:space"})}}class WI extends Ee{constructor(){super("w:instrText"),this.root.push(new zo({space:Go.PRESERVE})),this.root.push("PAGE")}}class $I extends Ee{constructor(){super("w:instrText"),this.root.push(new zo({space:Go.PRESERVE})),this.root.push("NUMPAGES")}}class XI extends Ee{constructor(){super("w:instrText"),this.root.push(new zo({space:Go.PRESERVE})),this.root.push("SECTIONPAGES")}}class ZI extends Ee{constructor(){super("w:instrText"),this.root.push(new zo({space:Go.PRESERVE})),this.root.push("SECTION")}}class jI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class gx extends Ee{constructor({fill:e,color:r,type:o}){super("w:shd"),this.root.push(new jI({fill:e===void 0?void 0:Fo(e),color:r===void 0?void 0:Fo(r),type:o}))}}class QI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const ek={DOT:"dot"};class tk extends Ee{constructor(e){super("w:em"),this.root.push(new zt({val:e}))}}class nk extends tk{constructor(e=ek.DOT){super(e)}}class rk extends Ee{constructor(e){super("w:spacing"),this.root.push(new zt({val:Ni(e)}))}}class ik extends Ee{constructor(e){super("w:color"),this.root.push(new zt({val:Fo(e)}))}}class ok extends Ee{constructor(e){super("w:highlight"),this.root.push(new zt({val:e}))}}class ak extends Ee{constructor(e){super("w:highlightCs"),this.root.push(new zt({val:e}))}}const sk=t=>new un({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class Sv extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class md extends Ee{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const o=e;this.root.push(new Sv({ascii:o,cs:o,eastAsia:o,hAnsi:o,hint:r}))}else{const o=e;this.root.push(new Sv(o))}}}let yx=class extends Ee{constructor(e){super("w:vertAlign"),this.root.push(new zt({val:e}))}};class lk extends yx{constructor(){super("superscript")}}class uk extends yx{constructor(){super("subscript")}}const lh={SINGLE:"single"};class ck extends Ee{constructor(e=lh.SINGLE,r){super("w:u"),this.root.push(new zt({val:e,color:r===void 0?void 0:Fo(r)}))}}class Ui extends au{constructor(e){var r,o;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new ke("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new ke("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new ke("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new ke("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new ke("w:iCs",(o=e.italicsComplexScript)!=null?o:e.italics)),e.underline&&this.push(new ck(e.underline.type,e.underline.color)),e.effect&&this.push(new Uo("w:effect",e.effect)),e.emphasisMark&&this.push(new nk(e.emphasisMark.type)),e.color&&this.push(new ik(e.color)),e.kern&&this.push(new pd("w:kern",e.kern)),e.position&&this.push(new Uo("w:position",e.position)),e.size!==void 0&&this.push(new pd("w:sz",e.size));const s=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;s&&this.push(new pd("w:szCs",s)),e.rightToLeft!==void 0&&this.push(new ke("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new ke("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new ke("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new ke("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new ke("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new uk),e.superScript&&this.push(new lk),e.style&&this.push(new Uo("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new md(e.font)):"name"in e.font?this.push(new md(e.font.name,e.font.hint)):this.push(new md(e.font))),e.highlight&&this.push(new ok(e.highlight));const c=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;c&&this.push(new ak(c)),e.characterSpacing&&this.push(new rk(e.characterSpacing)),e.emboss!==void 0&&this.push(new ke("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new ke("w:imprint",e.imprint)),e.shading&&this.push(new gx(e.shading)),e.revision&&this.push(new fk(e.revision)),e.border&&this.push(new Bt("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new ke("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new ke("w:vanish",e.vanish)),e.specVanish&&this.push(new ke("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new ih("w:w",e.scale)),e.language&&this.push(sk(e.language)),e.math&&this.push(new ke("w:oMath",e.math))}push(e){this.root.push(e)}}class fk extends Ee{constructor(e){super("w:rPrChange"),this.root.push(new QI({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ui(e))}}class Bd extends Ee{constructor(e){var r;return super("w:t"),typeof e=="string"?(this.root.push(new zo({space:Go.PRESERVE})),this.root.push(e),this):(this.root.push(new zo({space:(r=e.space)!=null?r:Go.DEFAULT})),this.root.push(e.text),this)}}const Fl={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class gs extends Ee{constructor(e){if(super("w:r"),Se(this,"properties"),this.properties=new Ui(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new YI);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case Fl.CURRENT:this.root.push(new Bl),this.root.push(new WI),this.root.push(new Pl),this.root.push(new Ol);break;case Fl.TOTAL_PAGES:this.root.push(new Bl),this.root.push(new $I),this.root.push(new Pl),this.root.push(new Ol);break;case Fl.TOTAL_PAGES_IN_SECTION:this.root.push(new Bl),this.root.push(new XI),this.root.push(new Pl),this.root.push(new Ol);break;case Fl.CURRENT_SECTION:this.root.push(new Bl),this.root.push(new ZI),this.root.push(new Pl),this.root.push(new Ol);break;default:this.root.push(new Bd(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new Bd(e.text))}}class Ai extends gs{constructor(e){if(typeof e=="string")return super({}),this.root.push(new Bd(e)),this;super(e)}}let dk="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",hk=(t,e=21)=>(r=e)=>{let o="",s=r;for(;s--;)o+=t[Math.random()*t.length|0];return o},pk=(t=21)=>{let e="",r=t;for(;r--;)e+=dk[Math.random()*64|0];return e};const Wn=t=>Math.floor(t*72*20),fu=(t=0)=>{let e=t;return()=>++e},mk=()=>fu(),gk=()=>fu(1),yk=()=>fu(),vk=()=>fu(),vx=()=>pk().toLowerCase(),ss=t=>hk("1234567890abcdef",t)(),wk=()=>`${ss(8)}-${ss(4)}-${ss(4)}-${ss(4)}-${ss(12)}`,xk={PAGE:"page"},Tk={PAGE:"page"};class Sk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{x:"x",y:"y"})}}class Ek extends Ee{constructor(){super("wp:simplePos"),this.root.push(new Sk({x:0,y:0}))}}class wx extends Ee{constructor(e){super("wp:align"),this.root.push(e)}}class xx extends Ee{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class _k extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class bk extends Ee{constructor(e){if(super("wp:positionH"),this.root.push(new _k({relativeFrom:e.relative||xk.PAGE})),e.align)this.root.push(new wx(e.align));else if(e.offset!==void 0)this.root.push(new xx(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class Ck extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class Ak extends Ee{constructor(e){if(super("wp:positionV"),this.root.push(new Ck({relativeFrom:e.relative||Tk.PAGE})),e.align)this.root.push(new wx(e.align));else if(e.offset!==void 0)this.root.push(new xx(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class Rk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{uri:"uri"})}}class Nk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{embed:"r:embed",cstate:"cstate"})}}class Dk extends Ee{constructor(e){super("a:blip"),this.root.push(new Nk({embed:`rId{${e.fileName}}`,cstate:"none"}))}}class Mk extends Ee{constructor(){super("a:srcRect")}}class Ik extends Ee{constructor(){super("a:fillRect")}}class kk extends Ee{constructor(){super("a:stretch"),this.root.push(new Ik)}}class Uk extends Ee{constructor(e){super("pic:blipFill"),this.root.push(new Dk(e)),this.root.push(new Mk),this.root.push(new kk)}}class Lk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class Bk extends Ee{constructor(){super("a:picLocks"),this.root.push(new Lk({noChangeAspect:1,noChangeArrowheads:1}))}}class Pk extends Ee{constructor(){super("pic:cNvPicPr"),this.root.push(new Bk)}}const Tx=(t,e)=>new un({name:"a:hlinkClick",attributes:Po(ut({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class Ok extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class Fk extends Ee{constructor(){super("pic:cNvPr"),this.root.push(new Ok({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof uh){this.root.push(Tx(o.linkId,!1));break}}return super.prepForXml(e)}}class Gk extends Ee{constructor(){super("pic:nvPicPr"),this.root.push(new Fk),this.root.push(new Pk)}}class zk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class Vk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class qk extends Ee{constructor(e,r){super("a:ext"),Se(this,"attributes"),this.attributes=new Vk({cx:e,cy:r}),this.root.push(this.attributes)}}class Hk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{x:"x",y:"y"})}}class Kk extends Ee{constructor(){super("a:off"),this.root.push(new Hk({x:0,y:0}))}}class Jk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class Yk extends Ee{constructor(e){var r,o;super("a:xfrm"),Se(this,"extents"),this.root.push(new Jk({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(o=e.flip)==null?void 0:o.horizontal,rotation:e.rotation})),this.extents=new qk(e.emus.x,e.emus.y),this.root.push(new Kk),this.root.push(this.extents)}}const Sx=()=>new un({name:"a:noFill"}),Wk=t=>new un({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),$k=t=>new un({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),Ev=t=>new un({name:"a:solidFill",children:[t.type==="rgb"?$k(t):Wk(t)]}),Xk=t=>new un({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?Sx():t.solidFillType==="rgb"?Ev({type:"rgb",value:t.value}):Ev({type:"scheme",value:t.value})]});class Zk extends Ee{constructor(){super("a:avLst")}}class jk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{prst:"prst"})}}class Qk extends Ee{constructor(){super("a:prstGeom"),this.root.push(new jk({prst:"rect"})),this.root.push(new Zk)}}class e6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{bwMode:"bwMode"})}}class t6 extends Ee{constructor({outline:e,transform:r}){super("pic:spPr"),Se(this,"form"),this.root.push(new e6({bwMode:"auto"})),this.form=new Yk(r),this.root.push(this.form),this.root.push(new Qk),e&&(this.root.push(Sx()),this.root.push(Xk(e)))}}class n6 extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("pic:pic"),this.root.push(new zk({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new Gk),this.root.push(new Uk(e)),this.root.push(new t6({transform:r,outline:o}))}}class r6 extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("a:graphicData"),Se(this,"pic"),this.root.push(new Rk({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new n6({mediaData:e,transform:r,outline:o}),this.root.push(this.pic)}}class i6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{a:"xmlns:a"})}}class Ex extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("a:graphic"),Se(this,"data"),this.root.push(new i6({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new r6({mediaData:e,transform:r,outline:o}),this.root.push(this.data)}}const Gl={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},o6={BOTH_SIDES:"bothSides"};class _v extends Ee{constructor(){super("wp:wrapNone")}}class a6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class s6 extends Ee{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new a6({wrapText:e.side||o6.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class l6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class u6 extends Ee{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new l6({distT:e.top,distB:e.bottom}))}}class c6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class f6 extends Ee{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new c6({distT:e.top,distB:e.bottom}))}}class _x extends Ee{constructor({name:e,description:r,title:o}={name:"",description:"",title:""}){super("wp:docPr"),Se(this,"docPropertiesUniqueNumericId",yk()),this.root.push(new Yo({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:r},title:{key:"title",value:o}}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof uh){this.root.push(Tx(o.linkId,!0));break}}return super.prepForXml(e)}}const bx=({top:t,right:e,bottom:r,left:o})=>new un({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:o}}});class d6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Cx extends Ee{constructor(e,r){super("wp:extent"),Se(this,"attributes"),this.attributes=new d6({cx:e,cy:r}),this.root.push(this.attributes)}}class h6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class p6 extends Ee{constructor(){super("a:graphicFrameLocks"),this.root.push(new h6({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class Ax extends Ee{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new p6)}}class m6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class g6 extends Ee{constructor({mediaData:e,transform:r,drawingOptions:o}){super("wp:anchor");const s=ut({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},o.floating);if(this.root.push(new m6({distT:s.margins&&s.margins.top||0,distB:s.margins&&s.margins.bottom||0,distL:s.margins&&s.margins.left||0,distR:s.margins&&s.margins.right||0,simplePos:"0",allowOverlap:s.allowOverlap===!0?"1":"0",behindDoc:s.behindDocument===!0?"1":"0",locked:s.lockAnchor===!0?"1":"0",layoutInCell:s.layoutInCell===!0?"1":"0",relativeHeight:s.zIndex?s.zIndex:r.emus.y})),this.root.push(new Ek),this.root.push(new bk(s.horizontalPosition)),this.root.push(new Ak(s.verticalPosition)),this.root.push(new Cx(r.emus.x,r.emus.y)),this.root.push(bx({top:0,right:0,bottom:0,left:0})),o.floating!==void 0&&o.floating.wrap!==void 0)switch(o.floating.wrap.type){case Gl.SQUARE:this.root.push(new s6(o.floating.wrap,o.floating.margins));break;case Gl.TIGHT:this.root.push(new u6(o.floating.margins));break;case Gl.TOP_AND_BOTTOM:this.root.push(new f6(o.floating.margins));break;case Gl.NONE:default:this.root.push(new _v)}else this.root.push(new _v);this.root.push(new _x(o.docProperties)),this.root.push(new Ax),this.root.push(new Ex({mediaData:e,transform:r,outline:o.outline}))}}const y6=({mediaData:t,transform:e,docProperties:r,outline:o})=>{var s,c,d,h;return new un({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new Cx(e.emus.x,e.emus.y),bx(o?{top:((s=o.width)!=null?s:9525)*2,right:((c=o.width)!=null?c:9525)*2,bottom:((d=o.width)!=null?d:9525)*2,left:((h=o.width)!=null?h:9525)*2}:{top:0,right:0,bottom:0,left:0}),new _x(r),new Ax,new Ex({mediaData:t,transform:e,outline:o})]})};class v6 extends Ee{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new g6({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(y6({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}class w6 extends gs{constructor(e){super({}),Se(this,"key",`${vx()}.png`),Se(this,"imageData");const r=typeof e.data=="string"?this.convertDataURIToBinary(e.data):e.data;this.imageData={stream:r,fileName:this.key,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}};const o=new v6(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(o)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),super.prepForXml(e)}convertDataURIToBinary(e){if(typeof atob=="function"){const r=";base64,",o=e.indexOf(r),s=o===-1?0:o+r.length;return new Uint8Array(atob(e.substring(s)).split("").map(c=>c.charCodeAt(0)))}else{const r=require("buffer");return new r.Buffer(e,"base64")}}}class x6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class T6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class S6 extends Ee{constructor({id:e,initials:r,author:o,date:s=new Date,children:c}){super("w:comment"),this.root.push(new x6({id:e,initials:r,author:o,date:s.toISOString()}));for(const d of c)this.root.push(d)}}class E6 extends Ee{constructor({children:e}){super("w:comments"),this.root.push(new T6({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new S6(r))}}class _6 extends Ee{constructor(){super("w:pageBreakBefore")}}const Pd={AUTO:"auto"};class b6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class C6 extends Ee{constructor(e){super("w:spacing"),this.root.push(new b6(e))}}const Eo={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",TITLE:"Title"};let zl=class extends Ee{constructor(e){super("w:pStyle"),this.root.push(new zt({val:e}))}};class A6 extends Ee{constructor(e){super("w:tabs");for(const r of e)this.root.push(new N6(r))}}const bv={LEFT:"left",RIGHT:"right"};class R6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class N6 extends Ee{constructor({type:e,position:r,leader:o}){super("w:tab"),this.root.push(new R6({val:e,pos:r,leader:o}))}}class Cv extends Ee{constructor(e,r){super("w:numPr"),this.root.push(new D6(r)),this.root.push(new M6(e))}}class D6 extends Ee{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new zt({val:e}))}}class M6 extends Ee{constructor(e){super("w:numId"),this.root.push(new zt({val:typeof e=="string"?`{${e}}`:e}))}}class I6 extends Ee{constructor(){super(...arguments),Se(this,"fileChild",Symbol())}}class k6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const U6={EXTERNAL:"External"};class L6 extends Ee{constructor(e,r,o,s){super("Relationship"),this.root.push(new k6({id:e,type:r,target:o,targetMode:s}))}}class B6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class uh extends Ee{constructor(e,r,o){super("w:hyperlink"),Se(this,"linkId"),this.linkId=r;const s={history:1,anchor:o||void 0,id:o?void 0:`rId${this.linkId}`},c=new B6(s);this.root.push(c),e.forEach(d=>{this.root.push(d)})}}class P6 extends Ee{constructor(e){super("w:externalHyperlink"),this.options=e}}class O6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class F6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id"})}}class G6{constructor(e){Se(this,"bookmarkUniqueNumericId",vk()),Se(this,"start"),Se(this,"children"),Se(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new z6(e.id,r),this.children=e.children,this.end=new V6(r)}}class z6 extends Ee{constructor(e,r){super("w:bookmarkStart");const o=new O6({name:e,id:r});this.root.push(o)}}class V6 extends Ee{constructor(e){super("w:bookmarkEnd");const r=new F6({id:e});this.root.push(r)}}class q6 extends Ee{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new zt({val:e}))}}class H6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{verticalAlign:"w:val"})}}class K6 extends Ee{constructor(e){super("w:vAlign"),this.root.push(new H6({verticalAlign:e}))}}const Lo={DEFAULT:"default",FIRST:"first",EVEN:"even"};class J6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Av={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class gd extends Ee{constructor(e,r){super(e),this.root.push(new J6({type:r.type||Lo.DEFAULT,id:`rId${r.id}`}))}}class Y6 extends Ee{constructor({space:e,count:r,separate:o,equalWidth:s,children:c}){super("w:cols"),this.root.push(new Yo({space:{key:"w:space",value:e===void 0?void 0:$n(e)},count:{key:"w:num",value:r===void 0?void 0:Tn(r)},separate:{key:"w:sep",value:o},equalWidth:{key:"w:equalWidth",value:s}})),!s&&c&&c.forEach(d=>this.addChildElement(d))}}class W6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class $6 extends Ee{constructor(e,r,o){super("w:docGrid"),this.root.push(new W6({type:o,linePitch:Tn(e),charSpace:r?Tn(r):void 0}))}}const X6=({countBy:t,start:e,restart:r,distance:o})=>new un({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Tn(t)},start:{key:"w:start",value:e===void 0?void 0:Tn(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:o===void 0?void 0:$n(o)}}});class Rv extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class Z6 extends au{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new Rv({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new Rv({})),e.pageBorderTop&&this.root.push(new Bt("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Bt("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Bt("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Bt("w:right",e.pageBorderRight))}}class j6 extends Ee{constructor(e,r,o,s,c,d,h){super("w:pgMar"),this.root.push(new Yo({top:{key:"w:top",value:Ni(e)},right:{key:"w:right",value:$n(r)},bottom:{key:"w:bottom",value:Ni(o)},left:{key:"w:left",value:$n(s)},header:{key:"w:header",value:$n(c)},footer:{key:"w:footer",value:$n(d)},gutter:{key:"w:gutter",value:$n(h)}}))}}class Q6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class e4 extends Ee{constructor({start:e,formatType:r,separator:o}){super("w:pgNumType"),this.root.push(new Q6({start:e===void 0?void 0:Tn(e),formatType:r,separator:o}))}}const Rx={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class t4 extends Ee{constructor(e,r,o){super("w:pgSz");const s=o===Rx.LANDSCAPE,c=$n(e),d=$n(r);this.root.push(new Yo({width:{key:"w:w",value:s?d:c},height:{key:"w:h",value:s?c:d},orientation:{key:"w:orient",value:o}}))}}class n4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class r4 extends Ee{constructor(e){super("w:textDirection"),this.root.push(new n4({val:e}))}}class i4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class o4 extends Ee{constructor(e){super("w:type"),this.root.push(new i4({val:e}))}}const Ci={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},yd={WIDTH:11906,HEIGHT:16838,ORIENTATION:Rx.PORTRAIT};class a4 extends Ee{constructor({page:{size:{width:e=yd.WIDTH,height:r=yd.HEIGHT,orientation:o=yd.ORIENTATION}={},margin:{top:s=Ci.TOP,right:c=Ci.RIGHT,bottom:d=Ci.BOTTOM,left:h=Ci.LEFT,header:p=Ci.HEADER,footer:m=Ci.FOOTER,gutter:y=Ci.GUTTER}={},pageNumbers:x={},borders:S,textDirection:E}={},grid:{linePitch:D=360,charSpace:C,type:U}={},headerWrapperGroup:R={},footerWrapperGroup:I={},lineNumbers:P,titlePage:H,verticalAlign:q,column:ce,type:se}={}){super("w:sectPr"),this.addHeaderFooterGroup(Av.HEADER,R),this.addHeaderFooterGroup(Av.FOOTER,I),se&&this.root.push(new o4(se)),this.root.push(new t4(e,r,o)),this.root.push(new j6(s,c,d,h,p,m,y)),S&&this.root.push(new Z6(S)),P&&this.root.push(X6(P)),this.root.push(new e4(x)),ce&&this.root.push(new Y6(ce)),q&&this.root.push(new K6(q)),H!==void 0&&this.root.push(new ke("w:titlePg",H)),E&&this.root.push(new r4(E)),this.root.push(new $6(D,C,U))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new gd(e,{type:Lo.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new gd(e,{type:Lo.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new gd(e,{type:Lo.EVEN,id:r.even.View.ReferenceId}))}}class s4 extends Ee{constructor(){super("w:body"),Se(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new a4(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new on({}),o=new Vo({});return o.push(e),r.addChildElement(o),r}}class ys extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class l4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class u4 extends Ee{constructor(e){super("w:background"),this.root.push(new l4({color:e.color===void 0?void 0:Fo(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:Tv(e.themeShade),themeTint:e.themeTint===void 0?void 0:Tv(e.themeTint)}))}}class c4 extends Ee{constructor(e){super("w:document"),Se(this,"body"),this.root.push(new ys({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new s4,e.background&&this.root.push(new u4(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class f4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class Xo extends Ee{constructor(){super("Relationships"),this.root.push(new f4({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,o,s){const c=new L6(`rId${e}`,r,o,s);return this.root.push(c),c}get RelationshipCount(){return this.root.length-1}}class Nx{constructor(e){Se(this,"document"),Se(this,"relationships"),this.document=new c4(e),this.relationships=new Xo}get View(){return this.document}get Relationships(){return this.relationships}}class d4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class h4 extends Ee{constructor(){super("w:wordWrap"),this.root.push(new d4({val:0}))}}const p4=t=>{var e,r;return new un({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Vo extends au{constructor(e){var r,o;if(super("w:pPr"),Se(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new zl(e.heading)),e.bullet&&this.push(new zl("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new zl("ListParagraph"))),e.style&&this.push(new zl(e.style)),e.keepNext!==void 0&&this.push(new ke("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new ke("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new _6),e.frame&&this.push(p4(e.frame)),e.widowControl!==void 0&&this.push(new ke("w:widowControl",e.widowControl)),e.bullet&&this.push(new Cv(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Cv(`${e.numbering.reference}-${(o=e.numbering.instance)!=null?o:0}`,e.numbering.level))),e.border&&this.push(new HI(e.border)),e.thematicBreak&&this.push(new KI),e.shading&&this.push(new gx(e.shading)),e.wordWrap&&this.push(new h4),e.overflowPunctuation&&this.push(new ke("w:overflowPunct",e.overflowPunctuation));const s=[...e.rightTabStop!==void 0?[{type:bv.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:bv.LEFT,position:e.leftTabStop}]:[]];s.length>0&&this.push(new A6(s)),e.bidirectional!==void 0&&this.push(new ke("w:bidi",e.bidirectional)),e.spacing&&this.push(new C6(e.spacing)),e.indent&&this.push(new JI(e.indent)),e.contextualSpacing!==void 0&&this.push(new ke("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new VI(e.alignment)),e.outlineLevel!==void 0&&this.push(new q6(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new ke("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new ke("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Ui(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Nx)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class on extends I6{constructor(e){if(super("w:p"),Se(this,"properties"),typeof e=="string")return this.properties=new Vo({}),this.root.push(this.properties),this.root.push(new Ai(e)),this;if(this.properties=new Vo(e),this.root.push(this.properties),e.text&&this.root.push(new Ai(e.text)),e.children)for(const r of e.children){if(r instanceof G6){this.root.push(r.start);for(const o of r.children)this.root.push(o);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof P6){const o=this.root.indexOf(r),s=new uh(r.options.children,vx());e.viewWrapper.Relationships.createRelationship(s.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,U6.EXTERNAL),this.root[o]=s}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const _o={style:oh.NONE,size:0,color:"auto"},bo={style:oh.SINGLE,size:4,color:"auto"};class m4 extends Ee{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Bt("w:top",e.top)):this.root.push(new Bt("w:top",bo)),e.left?this.root.push(new Bt("w:left",e.left)):this.root.push(new Bt("w:left",bo)),e.bottom?this.root.push(new Bt("w:bottom",e.bottom)):this.root.push(new Bt("w:bottom",bo)),e.right?this.root.push(new Bt("w:right",e.right)):this.root.push(new Bt("w:right",bo)),e.insideHorizontal?this.root.push(new Bt("w:insideH",e.insideHorizontal)):this.root.push(new Bt("w:insideH",bo)),e.insideVertical?this.root.push(new Bt("w:insideV",e.insideVertical)):this.root.push(new Bt("w:insideV",bo))}}Se(m4,"NONE",{top:_o,bottom:_o,left:_o,right:_o,insideHorizontal:_o,insideVertical:_o});class g4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class y4 extends Ee{constructor(){super("Properties"),this.root.push(new g4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class v4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class w4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class oi extends Ee{constructor(e,r){super("Default"),this.root.push(new w4({contentType:e,extension:r}))}}class x4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Pn extends Ee{constructor(e,r){super("Override"),this.root.push(new x4({contentType:e,partName:r}))}}class T4 extends Ee{constructor(){super("Types"),this.root.push(new v4({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new oi("image/png","png")),this.root.push(new oi("image/jpeg","jpeg")),this.root.push(new oi("image/jpeg","jpg")),this.root.push(new oi("image/bmp","bmp")),this.root.push(new oi("image/gif","gif")),this.root.push(new oi("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new oi("application/xml","xml")),this.root.push(new oi("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Pn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Pn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class S4 extends Ee{constructor(e){super("cp:coreProperties"),this.root.push(new ys({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new bi("dc:title",e.title)),e.subject&&this.root.push(new bi("dc:subject",e.subject)),e.creator&&this.root.push(new bi("dc:creator",e.creator)),e.keywords&&this.root.push(new bi("cp:keywords",e.keywords)),e.description&&this.root.push(new bi("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new bi("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new bi("cp:revision",String(e.revision))),this.root.push(new Nv("dcterms:created")),this.root.push(new Nv("dcterms:modified"))}}class Nv extends Ee{constructor(e){super(e),this.root.push(new ys({type:"dcterms:W3CDTF"})),this.root.push(GI(new Date))}}class E4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class _4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class b4 extends Ee{constructor(e,r){super("property"),this.root.push(new _4({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new C4(r.value))}}class C4 extends Ee{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class A4 extends Ee{constructor(e){super("Properties"),Se(this,"nextId"),Se(this,"properties",[]),this.root.push(new E4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new b4(this.nextId++,e))}}class R4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let N4=class extends dx{constructor(e,r){super("w:ftr",r),Se(this,"refId"),this.refId=e,r||this.root.push(new R4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class D4{constructor(e,r,o){Se(this,"footer"),Se(this,"relationships"),this.media=e,this.footer=new N4(r,o),this.relationships=new Xo}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class M4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class I4 extends Ee{constructor(){super("w:footnoteRef")}}class k4 extends gs{constructor(){super({style:"FootnoteReference"}),this.root.push(new I4)}}const Dv={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class vd extends Ee{constructor(e){super("w:footnote"),this.root.push(new M4({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const o=e.children[r];r===0&&o.addRunToFront(new k4),this.root.push(o)}}}class U4 extends Ee{constructor(){super("w:continuationSeparator")}}class L4 extends gs{constructor(){super({}),this.root.push(new U4)}}class B4 extends Ee{constructor(){super("w:separator")}}class P4 extends gs{constructor(){super({}),this.root.push(new B4)}}class O4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class F4 extends Ee{constructor(){super("w:footnotes"),this.root.push(new O4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new vd({id:-1,type:Dv.SEPERATOR,children:[new on({spacing:{after:0,line:240,lineRule:Pd.AUTO},children:[new P4]})]});this.root.push(e);const r=new vd({id:0,type:Dv.CONTINUATION_SEPERATOR,children:[new on({spacing:{after:0,line:240,lineRule:Pd.AUTO},children:[new L4]})]});this.root.push(r)}createFootNote(e,r){const o=new vd({id:e,children:r});this.root.push(o)}}class G4{constructor(){Se(this,"footnotess"),Se(this,"relationships"),this.footnotess=new F4,this.relationships=new Xo}get View(){return this.footnotess}get Relationships(){return this.relationships}}class z4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let V4=class extends dx{constructor(e,r){super("w:hdr",r),Se(this,"refId"),this.refId=e,r||this.root.push(new z4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class q4{constructor(e,r,o){Se(this,"header"),Se(this,"relationships"),this.media=e,this.header=new V4(r,o),this.relationships=new Xo}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class H4{constructor(){Se(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Rr={BULLET:"bullet"};class K4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class J4 extends Ee{constructor(e){super("w:numFmt"),this.root.push(new zt({val:e}))}}class Y4 extends Ee{constructor(e){super("w:lvlText"),this.root.push(new zt({val:e}))}}class W4 extends Ee{constructor(e){super("w:lvlJc"),this.root.push(new zt({val:e}))}}class $4 extends Ee{constructor(e){super("w:suff"),this.root.push(new zt({val:e}))}}class X4 extends Ee{constructor(){super("w:isLgl")}}class Z4 extends Ee{constructor({level:e,format:r,text:o,alignment:s=xn.START,start:c=1,style:d,suffix:h,isLegalNumberingStyle:p}){if(super("w:lvl"),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.root.push(new ih("w:start",Tn(c))),r&&this.root.push(new J4(r)),h&&this.root.push(new $4(h)),p&&this.root.push(new X4),o&&this.root.push(new Y4(o)),this.root.push(new W4(s)),this.paragraphProperties=new Vo(d&&d.paragraph),this.runProperties=new Ui(d&&d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new K4({ilvl:Tn(e),tentative:1}))}}class j4 extends Z4{}class Q4 extends Ee{constructor(e){super("w:multiLevelType"),this.root.push(new zt({val:e}))}}class e3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class Mv extends Ee{constructor(e,r){super("w:abstractNum"),Se(this,"id"),this.root.push(new e3({abstractNumId:Tn(e),restartNumberingAfterBreak:0})),this.root.push(new Q4("hybridMultilevel")),this.id=e;for(const o of r)this.root.push(new j4(o))}}class t3 extends Ee{constructor(e){super("w:abstractNumId"),this.root.push(new zt({val:e}))}}class n3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{numId:"w:numId"})}}class Iv extends Ee{constructor(e){if(super("w:num"),Se(this,"numId"),Se(this,"reference"),Se(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new n3({numId:Tn(e.numId)})),this.root.push(new t3(Tn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new i3(r.num,r.start))}}class r3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl"})}}class i3 extends Ee{constructor(e,r){super("w:lvlOverride"),this.root.push(new r3({ilvl:e})),r!==void 0&&this.root.push(new a3(r))}}class o3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class a3 extends Ee{constructor(e){super("w:startOverride"),this.root.push(new o3({val:e}))}}class s3 extends Ee{constructor(e){super("w:numbering"),Se(this,"abstractNumberingMap",new Map),Se(this,"concreteNumberingMap",new Map),Se(this,"referenceConfigMap",new Map),Se(this,"abstractNumUniqueNumericId",mk()),Se(this,"concreteNumUniqueNumericId",gk()),this.root.push(new ys({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new Mv(this.abstractNumUniqueNumericId(),[{level:0,format:Rr.BULLET,text:"●",alignment:xn.LEFT,style:{paragraph:{indent:{left:Wn(.5),hanging:Wn(.25)}}}},{level:1,format:Rr.BULLET,text:"○",alignment:xn.LEFT,style:{paragraph:{indent:{left:Wn(1),hanging:Wn(.25)}}}},{level:2,format:Rr.BULLET,text:"■",alignment:xn.LEFT,style:{paragraph:{indent:{left:2160,hanging:Wn(.25)}}}},{level:3,format:Rr.BULLET,text:"●",alignment:xn.LEFT,style:{paragraph:{indent:{left:2880,hanging:Wn(.25)}}}},{level:4,format:Rr.BULLET,text:"○",alignment:xn.LEFT,style:{paragraph:{indent:{left:3600,hanging:Wn(.25)}}}},{level:5,format:Rr.BULLET,text:"■",alignment:xn.LEFT,style:{paragraph:{indent:{left:4320,hanging:Wn(.25)}}}},{level:6,format:Rr.BULLET,text:"●",alignment:xn.LEFT,style:{paragraph:{indent:{left:5040,hanging:Wn(.25)}}}},{level:7,format:Rr.BULLET,text:"●",alignment:xn.LEFT,style:{paragraph:{indent:{left:5760,hanging:Wn(.25)}}}},{level:8,format:Rr.BULLET,text:"●",alignment:xn.LEFT,style:{paragraph:{indent:{left:6480,hanging:Wn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Iv({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const o of e.config)this.abstractNumberingMap.set(o.reference,new Mv(this.abstractNumUniqueNumericId(),o.levels)),this.referenceConfigMap.set(o.reference,o.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const o=this.abstractNumberingMap.get(e);if(!o)return;const s=`${e}-${r}`;if(this.concreteNumberingMap.has(s))return;const c=this.referenceConfigMap.get(e),d=c&&c[0].start,h={numId:this.concreteNumUniqueNumericId(),abstractNumId:o.id,reference:e,instance:r,overrideLevels:[d&&Number.isInteger(d)?{num:0,start:d}:{num:0,start:1}]};this.concreteNumberingMap.set(s,new Iv(h))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class l3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class u3 extends Ee{constructor(e){super("w:compatSetting"),this.root.push(new l3({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class c3 extends Ee{constructor(e){super("w:compat"),e.version&&this.root.push(new u3(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new ke("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new ke("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new ke("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new ke("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new ke("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new ke("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new ke("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new ke("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new ke("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new ke("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new ke("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new ke("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new ke("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new ke("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new ke("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new ke("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new ke("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new ke("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new ke("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new ke("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new ke("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new ke("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new ke("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new ke("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new ke("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new ke("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new ke("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new ke("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new ke("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new ke("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new ke("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new ke("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new ke("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new ke("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new ke("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new ke("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new ke("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new ke("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new ke("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new ke("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new ke("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new ke("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new ke("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new ke("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new ke("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new ke("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new ke("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new ke("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new ke("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new ke("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new ke("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new ke("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new ke("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new ke("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new ke("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new ke("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new ke("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new ke("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new ke("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new ke("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new ke("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new ke("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new ke("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new ke("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new ke("w:cachedColBalance",e.cachedColumnBalance))}}class f3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class d3 extends Ee{constructor(e){var r,o,s,c;super("w:settings"),this.root.push(new f3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new ke("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new ke("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new ke("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new ke("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new ih("w:defaultTabStop",e.defaultTabStop)),this.root.push(new c3(Po(ut({},(r=e.compatibility)!=null?r:{}),{version:(c=(s=(o=e.compatibility)==null?void 0:o.version)!=null?s:e.compatibilityModeVersion)!=null?c:15})))}}class Dx extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class h3 extends Ee{constructor(e){super("w:name"),this.root.push(new Dx({val:e}))}}class p3 extends Ee{constructor(e){super("w:uiPriority"),this.root.push(new Dx({val:Tn(e)}))}}class m3 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Mx extends Ee{constructor(e,r){super("w:style"),this.root.push(new m3(e)),r.name&&this.root.push(new h3(r.name)),r.basedOn&&this.root.push(new Uo("w:basedOn",r.basedOn)),r.next&&this.root.push(new Uo("w:next",r.next)),r.link&&this.root.push(new Uo("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new p3(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new ke("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new ke("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new ke("w:qFormat",r.quickFormat))}}class du extends Mx{constructor(e){super({type:"paragraph",styleId:e.id},e),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.paragraphProperties=new Vo(e.paragraph),this.runProperties=new Ui(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class hu extends Mx{constructor(e){super({type:"character",styleId:e.id},ut({uiPriority:99,unhideWhenUsed:!0},e)),Se(this,"runProperties"),this.runProperties=new Ui(e.run),this.root.push(this.runProperties)}}class ai extends du{constructor(e){super(ut({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class g3 extends ai{constructor(e){super(ut({id:"Title",name:"Title"},e))}}class y3 extends ai{constructor(e){super(ut({id:"Heading1",name:"Heading 1"},e))}}class v3 extends ai{constructor(e){super(ut({id:"Heading2",name:"Heading 2"},e))}}class w3 extends ai{constructor(e){super(ut({id:"Heading3",name:"Heading 3"},e))}}class x3 extends ai{constructor(e){super(ut({id:"Heading4",name:"Heading 4"},e))}}class T3 extends ai{constructor(e){super(ut({id:"Heading5",name:"Heading 5"},e))}}class S3 extends ai{constructor(e){super(ut({id:"Heading6",name:"Heading 6"},e))}}class E3 extends ai{constructor(e){super(ut({id:"Strong",name:"Strong"},e))}}class _3 extends du{constructor(e){super(ut({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class b3 extends du{constructor(e){super(ut({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Pd.AUTO}},run:{size:20}},e))}}class C3 extends hu{constructor(e){super(ut({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class A3 extends hu{constructor(e){super(ut({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class R3 extends hu{constructor(e){super(ut({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:lh.SINGLE}}},e))}}class Od extends Ee{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new du(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new hu(r))}}class N3 extends Ee{constructor(e){super("w:pPrDefault"),this.root.push(new Vo(e))}}class D3 extends Ee{constructor(e){super("w:rPrDefault"),this.root.push(new Ui(e))}}class M3 extends Ee{constructor(e){super("w:docDefaults"),Se(this,"runPropertiesDefaults"),Se(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new D3(e.run),this.paragraphPropertiesDefaults=new N3(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class I3{newInstance(e){const r=fx.xml2js(e,{compact:!1});let o;for(const d of r.elements||[])d.name==="w:styles"&&(o=d);if(o===void 0)throw new Error("can not find styles element");const s=o.elements||[];return new Od({initialStyles:new BI(o.attributes),importedStyles:s.map(d=>rh(d))})}}class kv{newInstance(e={}){var r;return{initialStyles:new ys({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new M3((r=e.document)!=null?r:{}),new g3(ut({run:{size:56}},e.title)),new y3(ut({run:{color:"2E74B5",size:32}},e.heading1)),new v3(ut({run:{color:"2E74B5",size:26}},e.heading2)),new w3(ut({run:{color:"1F4D78",size:24}},e.heading3)),new x3(ut({run:{color:"2E74B5",italics:!0}},e.heading4)),new T3(ut({run:{color:"2E74B5"}},e.heading5)),new S3(ut({run:{color:"1F4D78"}},e.heading6)),new E3(ut({run:{bold:!0}},e.strong)),new _3(e.listParagraph||{}),new R3(e.hyperlink||{}),new C3(e.footnoteReference||{}),new b3(e.footnoteText||{}),new A3(e.footnoteTextChar||{})]}}}const Vl=({id:t,fontKey:e,subsetted:r},o)=>new un({name:o,attributes:ut({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new ke("w:subsetted",r)]:[]]}),k3=({name:t,altName:e,panose1:r,charset:o,family:s,notTrueType:c,pitch:d,sig:h,embedRegular:p,embedBold:m,embedItalic:y,embedBoldItalic:x})=>new un({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[as("w:altName",e)]:[],...r?[as("w:panose1",r)]:[],...o?[as("w:charset",o)]:[],as("w:family",s),...c?[new ke("w:notTrueType",c)]:[],as("w:pitch",d),...h?[new un({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:h.usb0},usb1:{key:"w:usb1",value:h.usb1},usb2:{key:"w:usb2",value:h.usb2},usb3:{key:"w:usb3",value:h.usb3},csb0:{key:"w:csb0",value:h.csb0},csb1:{key:"w:csb1",value:h.csb1}}})]:[],...p?[Vl(p,"w:embedRegular")]:[],...m?[Vl(m,"w:embedBold")]:[],...y?[Vl(y,"w:embedItalic")]:[],...x?[Vl(x,"w:embedBoldItalic")]:[]]}),U3=({name:t,index:e,fontKey:r,characterSet:o})=>k3({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),L3=t=>new un({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>U3({name:e.name,index:r+1,fontKey:e.fontKey}))});class B3{constructor(e){Se(this,"fontTable"),Se(this,"relationships"),Se(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Po(ut({},r),{fontKey:wk()})),this.fontTable=L3(this.fontOptionsWithKey),this.relationships=new Xo;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}let P3=class{constructor(e){Se(this,"currentRelationshipId",1),Se(this,"documentWrapper"),Se(this,"headers",[]),Se(this,"footers",[]),Se(this,"coreProperties"),Se(this,"numbering"),Se(this,"media"),Se(this,"fileRelationships"),Se(this,"footnotesWrapper"),Se(this,"settings"),Se(this,"contentTypes"),Se(this,"customProperties"),Se(this,"appProperties"),Se(this,"styles"),Se(this,"comments"),Se(this,"fontWrapper");var r,o,s,c,d,h,p,m;if(this.coreProperties=new S4(Po(ut({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(o=e.revision)!=null?o:1,lastModifiedBy:(s=e.lastModifiedBy)!=null?s:"Un-named"})),this.numbering=new s3(e.numbering?e.numbering:{config:[]}),this.comments=new E6((c=e.comments)!=null?c:{children:[]}),this.fileRelationships=new Xo,this.customProperties=new A4((d=e.customProperties)!=null?d:[]),this.appProperties=new y4,this.footnotesWrapper=new G4,this.contentTypes=new T4,this.documentWrapper=new Nx({background:e.background}),this.settings=new d3({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(h=e.features)==null?void 0:h.trackRevisions,updateFields:(p=e.features)==null?void 0:p.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new H4,e.externalStyles){const y=new I3;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const x=new kv().newInstance(e.styles.default);this.styles=new Od(ut(ut({},x),e.styles))}else{const y=new kv;this.styles=new Od(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new B3((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:r={},children:o,properties:s}){this.documentWrapper.View.Body.addSection(Po(ut({},s),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const c of o)this.documentWrapper.View.add(c)}createHeader(e){const r=new q4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addHeaderToDocument(r),r}createFooter(e){const r=new D4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Lo.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Lo.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};function ql(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ix={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return(function r(o,s,c){function d(m,y){if(!s[m]){if(!o[m]){var x=typeof ql=="function"&&ql;if(!y&&x)return x(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var E=s[m]={exports:{}};o[m][0].call(E.exports,function(D){var C=o[m][1][D];return d(C||D)},E,E.exports,r,o,s,c)}return s[m].exports}for(var h=typeof ql=="function"&&ql,p=0;p<c.length;p++)d(c[p]);return d})({1:[function(r,o,s){var c=r("./utils"),d=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(p){for(var m,y,x,S,E,D,C,U=[],R=0,I=p.length,P=I,H=c.getTypeOf(p)!=="string";R<p.length;)P=I-R,x=H?(m=p[R++],y=R<I?p[R++]:0,R<I?p[R++]:0):(m=p.charCodeAt(R++),y=R<I?p.charCodeAt(R++):0,R<I?p.charCodeAt(R++):0),S=m>>2,E=(3&m)<<4|y>>4,D=1<P?(15&y)<<2|x>>6:64,C=2<P?63&x:64,U.push(h.charAt(S)+h.charAt(E)+h.charAt(D)+h.charAt(C));return U.join("")},s.decode=function(p){var m,y,x,S,E,D,C=0,U=0,R="data:";if(p.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var I,P=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&P--,p.charAt(p.length-2)===h.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=d.uint8array?new Uint8Array(0|P):new Array(0|P);C<p.length;)m=h.indexOf(p.charAt(C++))<<2|(S=h.indexOf(p.charAt(C++)))>>4,y=(15&S)<<4|(E=h.indexOf(p.charAt(C++)))>>2,x=(3&E)<<6|(D=h.indexOf(p.charAt(C++))),I[U++]=m,E!==64&&(I[U++]=y),D!==64&&(I[U++]=x);return I}},{"./support":30,"./utils":32}],2:[function(r,o,s){var c=r("./external"),d=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function m(y,x,S,E,D){this.compressedSize=y,this.uncompressedSize=x,this.crc32=S,this.compression=E,this.compressedContent=D}m.prototype={getContentWorker:function(){var y=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),x=this;return y.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,x,S){return y.pipe(new h).pipe(new p("uncompressedSize")).pipe(x.compressWorker(S)).pipe(new p("compressedSize")).withStreamInfo("compression",x)},o.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,s){var c=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,s){var c=r("./utils"),d=(function(){for(var h,p=[],m=0;m<256;m++){h=m;for(var y=0;y<8;y++)h=1&h?3988292384^h>>>1:h>>>1;p[m]=h}return p})();o.exports=function(h,p){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,y,x,S){var E=d,D=S+x;m^=-1;for(var C=S;C<D;C++)m=m>>>8^E[255&(m^y[C])];return-1^m})(0|p,h,h.length,0):(function(m,y,x,S){var E=d,D=S+x;m^=-1;for(var C=S;C<D;C++)m=m>>>8^E[255&(m^y.charCodeAt(C))];return-1^m})(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,o,s){var c=null;c=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:c}},{lie:37}],7:[function(r,o,s){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=r("pako"),h=r("./utils"),p=r("./stream/GenericWorker"),m=c?"uint8array":"array";function y(x,S){p.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=S,this.meta={}}s.magic="\b\0",h.inherits(y,p),y.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,x.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(S){x.push({data:S,meta:x.meta})}},s.compressWorker=function(x){return new y("Deflate",x)},s.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,s){function c(E,D){var C,U="";for(C=0;C<D;C++)U+=String.fromCharCode(255&E),E>>>=8;return U}function d(E,D,C,U,R,I){var P,H,q=E.file,ce=E.compression,se=I!==m.utf8encode,de=h.transformTo("string",I(q.name)),G=h.transformTo("string",m.utf8encode(q.name)),Te=q.comment,Re=h.transformTo("string",I(Te)),Z=h.transformTo("string",m.utf8encode(Te)),pe=G.length!==q.name.length,B=Z.length!==Te.length,he="",le="",ae="",Ce=q.dir,ue=q.date,K={crc32:0,compressedSize:0,uncompressedSize:0};D&&!C||(K.crc32=E.crc32,K.compressedSize=E.compressedSize,K.uncompressedSize=E.uncompressedSize);var J=0;D&&(J|=8),se||!pe&&!B||(J|=2048);var O=0,Y=0;Ce&&(O|=16),R==="UNIX"?(Y=798,O|=(function(ee,$){var M=ee;return ee||(M=$?16893:33204),(65535&M)<<16})(q.unixPermissions,Ce)):(Y=20,O|=(function(ee){return 63&(ee||0)})(q.dosPermissions)),P=ue.getUTCHours(),P<<=6,P|=ue.getUTCMinutes(),P<<=5,P|=ue.getUTCSeconds()/2,H=ue.getUTCFullYear()-1980,H<<=4,H|=ue.getUTCMonth()+1,H<<=5,H|=ue.getUTCDate(),pe&&(le=c(1,1)+c(y(de),4)+G,he+="up"+c(le.length,2)+le),B&&(ae=c(1,1)+c(y(Re),4)+Z,he+="uc"+c(ae.length,2)+ae);var Q="";return Q+=`
\0`,Q+=c(J,2),Q+=ce.magic,Q+=c(P,2),Q+=c(H,2),Q+=c(K.crc32,4),Q+=c(K.compressedSize,4),Q+=c(K.uncompressedSize,4),Q+=c(de.length,2),Q+=c(he.length,2),{fileRecord:x.LOCAL_FILE_HEADER+Q+de+he,dirRecord:x.CENTRAL_FILE_HEADER+c(Y,2)+Q+c(Re.length,2)+"\0\0\0\0"+c(O,4)+c(U,4)+de+he+Re}}var h=r("../utils"),p=r("../stream/GenericWorker"),m=r("../utf8"),y=r("../crc32"),x=r("../signature");function S(E,D,C,U){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=C,this.encodeFileName=U,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,p),S.prototype.push=function(E){var D=E.meta.percent||0,C=this.entriesCount,U=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,p.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:C?(D+100*(C-U-1))/C:100}}))},S.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var D=this.streamFiles&&!E.file.dir;if(D){var C=d(E,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(E){this.accumulate=!1;var D=this.streamFiles&&!E.file.dir,C=d(E,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),D)this.push({data:(function(U){return x.DATA_DESCRIPTOR+c(U.crc32,4)+c(U.compressedSize,4)+c(U.uncompressedSize,4)})(E),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var E=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var C=this.bytesWritten-E,U=(function(R,I,P,H,q){var ce=h.transformTo("string",q(H));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(R,2)+c(R,2)+c(I,4)+c(P,4)+c(ce.length,2)+ce})(this.dirRecords.length,C,E,this.zipComment,this.encodeFileName);this.push({data:U,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(E){this._sources.push(E);var D=this;return E.on("data",function(C){D.processChunk(C)}),E.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),E.on("error",function(C){D.error(C)}),this},S.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(E){var D=this._sources;if(!p.prototype.error.call(this,E))return!1;for(var C=0;C<D.length;C++)try{D[C].error(E)}catch{}return!0},S.prototype.lock=function(){p.prototype.lock.call(this);for(var E=this._sources,D=0;D<E.length;D++)E[D].lock()},o.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,s){var c=r("../compressions"),d=r("./ZipFileWorker");s.generateWorker=function(h,p,m){var y=new d(p.streamFiles,m,p.platform,p.encodeFileName),x=0;try{h.forEach(function(S,E){x++;var D=(function(I,P){var H=I||P,q=c[H];if(!q)throw new Error(H+" is not a valid compression method !");return q})(E.options.compression,p.compression),C=E.options.compressionOptions||p.compressionOptions||{},U=E.dir,R=E.date;E._compressWorker(D,C).withStreamInfo("file",{name:S,dir:U,date:R,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(y)}),y.entriesCount=x}catch(S){y.error(S)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,s){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=r("./object")).loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=r("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,s){var c=r("./utils"),d=r("./external"),h=r("./utf8"),p=r("./zipEntries"),m=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function x(S){return new d.Promise(function(E,D){var C=S.decompressed.getContentWorker().pipe(new m);C.on("error",function(U){D(U)}).on("end",function(){C.streamInfo.crc32!==S.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}o.exports=function(S,E){var D=this;return E=c.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),y.isNode&&y.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,E.optimizedBinaryString,E.base64).then(function(C){var U=new p(E);return U.load(C),U}).then(function(C){var U=[d.Promise.resolve(C)],R=C.files;if(E.checkCRC32)for(var I=0;I<R.length;I++)U.push(x(R[I]));return d.Promise.all(U)}).then(function(C){for(var U=C.shift(),R=U.files,I=0;I<R.length;I++){var P=R[I],H=P.fileNameStr,q=c.resolve(P.fileNameStr);D.file(q,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:E.createFolders}),P.dir||(D.file(q).unsafeOriginalName=H)}return U.zipComment.length&&(D.comment=U.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,s){var c=r("../utils"),d=r("../stream/GenericWorker");function h(p,m){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,d),h.prototype._bindStream=function(p){var m=this;(this._stream=p).pause(),p.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,s){var c=r("readable-stream").Readable;function d(h,p,m){c.call(this,p),this._helper=h;var y=this;h.on("data",function(x,S){y.push(x)||y._helper.pause(),m&&m(S)}).on("error",function(x){y.emit("error",x)}).on("end",function(){y.push(null)})}r("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(r,o,s){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,o,s){function c(q,ce,se){var de,G=h.getTypeOf(ce),Te=h.extend(se||{},y);Te.date=Te.date||new Date,Te.compression!==null&&(Te.compression=Te.compression.toUpperCase()),typeof Te.unixPermissions=="string"&&(Te.unixPermissions=parseInt(Te.unixPermissions,8)),Te.unixPermissions&&16384&Te.unixPermissions&&(Te.dir=!0),Te.dosPermissions&&16&Te.dosPermissions&&(Te.dir=!0),Te.dir&&(q=R(q)),Te.createFolders&&(de=U(q))&&I.call(this,de,!0);var Re=G==="string"&&Te.binary===!1&&Te.base64===!1;se&&se.binary!==void 0||(Te.binary=!Re),(ce instanceof x&&ce.uncompressedSize===0||Te.dir||!ce||ce.length===0)&&(Te.base64=!1,Te.binary=!0,ce="",Te.compression="STORE",G="string");var Z=null;Z=ce instanceof x||ce instanceof p?ce:D.isNode&&D.isStream(ce)?new C(q,ce):h.prepareContent(q,ce,Te.binary,Te.optimizedBinaryString,Te.base64);var pe=new S(q,Z,Te);this.files[q]=pe}var d=r("./utf8"),h=r("./utils"),p=r("./stream/GenericWorker"),m=r("./stream/StreamHelper"),y=r("./defaults"),x=r("./compressedObject"),S=r("./zipObject"),E=r("./generate"),D=r("./nodejsUtils"),C=r("./nodejs/NodejsStreamInputAdapter"),U=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var ce=q.lastIndexOf("/");return 0<ce?q.substring(0,ce):""},R=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},I=function(q,ce){return ce=ce!==void 0?ce:y.createFolders,q=R(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:ce}),this.files[q]};function P(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var ce,se,de;for(ce in this.files)de=this.files[ce],(se=ce.slice(this.root.length,ce.length))&&ce.slice(0,this.root.length)===this.root&&q(se,de)},filter:function(q){var ce=[];return this.forEach(function(se,de){q(se,de)&&ce.push(de)}),ce},file:function(q,ce,se){if(arguments.length!==1)return q=this.root+q,c.call(this,q,ce,se),this;if(P(q)){var de=q;return this.filter(function(Te,Re){return!Re.dir&&de.test(Te)})}var G=this.files[this.root+q];return G&&!G.dir?G:null},folder:function(q){if(!q)return this;if(P(q))return this.filter(function(G,Te){return Te.dir&&q.test(G)});var ce=this.root+q,se=I.call(this,ce),de=this.clone();return de.root=se.name,de},remove:function(q){q=this.root+q;var ce=this.files[q];if(ce||(q.slice(-1)!=="/"&&(q+="/"),ce=this.files[q]),ce&&!ce.dir)delete this.files[q];else for(var se=this.filter(function(G,Te){return Te.name.slice(0,q.length)===q}),de=0;de<se.length;de++)delete this.files[se[de].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var ce,se={};try{if((se=h.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=se.type.toLowerCase(),se.compression=se.compression.toUpperCase(),se.type==="binarystring"&&(se.type="string"),!se.type)throw new Error("No output type specified.");h.checkSupport(se.type),se.platform!=="darwin"&&se.platform!=="freebsd"&&se.platform!=="linux"&&se.platform!=="sunos"||(se.platform="UNIX"),se.platform==="win32"&&(se.platform="DOS");var de=se.comment||this.comment||"";ce=E.generateWorker(this,se,de)}catch(G){(ce=new p("error")).error(G)}return new m(ce,se.type||"string",se.mimeType)},generateAsync:function(q,ce){return this.generateInternalStream(q).accumulate(ce)},generateNodeStream:function(q,ce){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(ce)}};o.exports=H},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,s){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,s){var c=r("./DataReader");function d(h){c.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),x=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===p&&this.data[S+1]===m&&this.data[S+2]===y&&this.data[S+3]===x)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),x=h.charCodeAt(3),S=this.readData(4);return p===S[0]&&m===S[1]&&y===S[2]&&x===S[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(r,o,s){var c=r("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,m=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)m=(m<<8)+this.byteAt(p);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(r,o,s){var c=r("./Uint8ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,s){var c=r("./DataReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(r,o,s){var c=r("./ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,s){var c=r("../utils"),d=r("../support"),h=r("./ArrayReader"),p=r("./StringReader"),m=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(x){var S=c.getTypeOf(x);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(x):d.uint8array?new y(c.transformTo("uint8array",x)):new h(c.transformTo("array",x)):new p(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,s){var c=r("./GenericWorker"),d=r("../utils");function h(p){c.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,s){var c=r("./GenericWorker"),d=r("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,c),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,s){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(h,d),h.prototype.processChunk=function(p){if(p){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,s){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=c.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,m);break;case"uint8array":p=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":p=this.data.slice(this.index,m)}return this.index=m,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,s){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(r,o,s){var c=r("../utils"),d=r("./ConvertWorker"),h=r("./GenericWorker"),p=r("../base64"),m=r("../support"),y=r("../external"),x=null;if(m.nodestream)try{x=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(D,C){return new y.Promise(function(U,R){var I=[],P=D._internalType,H=D._outputType,q=D._mimeType;D.on("data",function(ce,se){I.push(ce),C&&C(se)}).on("error",function(ce){I=[],R(ce)}).on("end",function(){try{var ce=(function(se,de,G){switch(se){case"blob":return c.newBlob(c.transformTo("arraybuffer",de),G);case"base64":return p.encode(de);default:return c.transformTo(se,de)}})(H,(function(se,de){var G,Te=0,Re=null,Z=0;for(G=0;G<de.length;G++)Z+=de[G].length;switch(se){case"string":return de.join("");case"array":return Array.prototype.concat.apply([],de);case"uint8array":for(Re=new Uint8Array(Z),G=0;G<de.length;G++)Re.set(de[G],Te),Te+=de[G].length;return Re;case"nodebuffer":return Buffer.concat(de);default:throw new Error("concat : unsupported type '"+se+"'")}})(P,I),q);U(ce)}catch(se){R(se)}I=[]}).resume()})}function E(D,C,U){var R=C;switch(C){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string"}try{this._internalType=R,this._outputType=C,this._mimeType=U,c.checkSupport(R),this._worker=D.pipe(new d(R)),D.lock()}catch(I){this._worker=new h("error"),this._worker.error(I)}}E.prototype={accumulate:function(D){return S(this,D)},on:function(D,C){var U=this;return D==="data"?this._worker.on(D,function(R){C.call(U,R.data,R.meta)}):this._worker.on(D,function(){c.delay(C,arguments,U)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},D)}},o.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var c=new ArrayBuffer(0);try{s.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),s.blob=d.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,s){for(var c=r("./utils"),d=r("./support"),h=r("./nodejsUtils"),p=r("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function x(){p.call(this,"utf-8 decode"),this.leftOver=null}function S(){p.call(this,"utf-8 encode")}s.utf8encode=function(E){return d.nodebuffer?h.newBufferFrom(E,"utf-8"):(function(D){var C,U,R,I,P,H=D.length,q=0;for(I=0;I<H;I++)(64512&(U=D.charCodeAt(I)))==55296&&I+1<H&&(64512&(R=D.charCodeAt(I+1)))==56320&&(U=65536+(U-55296<<10)+(R-56320),I++),q+=U<128?1:U<2048?2:U<65536?3:4;for(C=d.uint8array?new Uint8Array(q):new Array(q),I=P=0;P<q;I++)(64512&(U=D.charCodeAt(I)))==55296&&I+1<H&&(64512&(R=D.charCodeAt(I+1)))==56320&&(U=65536+(U-55296<<10)+(R-56320),I++),U<128?C[P++]=U:(U<2048?C[P++]=192|U>>>6:(U<65536?C[P++]=224|U>>>12:(C[P++]=240|U>>>18,C[P++]=128|U>>>12&63),C[P++]=128|U>>>6&63),C[P++]=128|63&U);return C})(E)},s.utf8decode=function(E){return d.nodebuffer?c.transformTo("nodebuffer",E).toString("utf-8"):(function(D){var C,U,R,I,P=D.length,H=new Array(2*P);for(C=U=0;C<P;)if((R=D[C++])<128)H[U++]=R;else if(4<(I=m[R]))H[U++]=65533,C+=I-1;else{for(R&=I===2?31:I===3?15:7;1<I&&C<P;)R=R<<6|63&D[C++],I--;1<I?H[U++]=65533:R<65536?H[U++]=R:(R-=65536,H[U++]=55296|R>>10&1023,H[U++]=56320|1023&R)}return H.length!==U&&(H.subarray?H=H.subarray(0,U):H.length=U),c.applyFromCharCode(H)})(E=c.transformTo(d.uint8array?"uint8array":"array",E))},c.inherits(x,p),x.prototype.processChunk=function(E){var D=c.transformTo(d.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var C=D;(D=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),D.set(C,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var U=(function(I,P){var H;for((P=P||I.length)>I.length&&(P=I.length),H=P-1;0<=H&&(192&I[H])==128;)H--;return H<0||H===0?P:H+m[I[H]]>P?H:P})(D),R=D;U!==D.length&&(d.uint8array?(R=D.subarray(0,U),this.leftOver=D.subarray(U,D.length)):(R=D.slice(0,U),this.leftOver=D.slice(U,D.length))),this.push({data:s.utf8decode(R),meta:E.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=x,c.inherits(S,p),S.prototype.processChunk=function(E){this.push({data:s.utf8encode(E.data),meta:E.meta})},s.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,s){var c=r("./support"),d=r("./base64"),h=r("./nodejsUtils"),p=r("./external");function m(C){return C}function y(C,U){for(var R=0;R<C.length;++R)U[R]=255&C.charCodeAt(R);return U}r("setimmediate"),s.newBlob=function(C,U){s.checkSupport("blob");try{return new Blob([C],{type:U})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(C),R.getBlob(U)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(C,U,R){var I=[],P=0,H=C.length;if(H<=R)return String.fromCharCode.apply(null,C);for(;P<H;)U==="array"||U==="nodebuffer"?I.push(String.fromCharCode.apply(null,C.slice(P,Math.min(P+R,H)))):I.push(String.fromCharCode.apply(null,C.subarray(P,Math.min(P+R,H)))),P+=R;return I.join("")},stringifyByChar:function(C){for(var U="",R=0;R<C.length;R++)U+=String.fromCharCode(C[R]);return U},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(C){var U=65536,R=s.getTypeOf(C),I=!0;if(R==="uint8array"?I=x.applyCanBeUsed.uint8array:R==="nodebuffer"&&(I=x.applyCanBeUsed.nodebuffer),I)for(;1<U;)try{return x.stringifyByChunk(C,R,U)}catch{U=Math.floor(U/2)}return x.stringifyByChar(C)}function E(C,U){for(var R=0;R<C.length;R++)U[R]=C[R];return U}s.applyFromCharCode=S;var D={};D.string={string:m,array:function(C){return y(C,new Array(C.length))},arraybuffer:function(C){return D.string.uint8array(C).buffer},uint8array:function(C){return y(C,new Uint8Array(C.length))},nodebuffer:function(C){return y(C,h.allocBuffer(C.length))}},D.array={string:S,array:m,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(C)}},D.arraybuffer={string:function(C){return S(new Uint8Array(C))},array:function(C){return E(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:m,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(new Uint8Array(C))}},D.uint8array={string:S,array:function(C){return E(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:m,nodebuffer:function(C){return h.newBufferFrom(C)}},D.nodebuffer={string:S,array:function(C){return E(C,new Array(C.length))},arraybuffer:function(C){return D.nodebuffer.uint8array(C).buffer},uint8array:function(C){return E(C,new Uint8Array(C.length))},nodebuffer:m},s.transformTo=function(C,U){if(U=U||"",!C)return U;s.checkSupport(C);var R=s.getTypeOf(U);return D[R][C](U)},s.resolve=function(C){for(var U=C.split("/"),R=[],I=0;I<U.length;I++){var P=U[I];P==="."||P===""&&I!==0&&I!==U.length-1||(P===".."?R.pop():R.push(P))}return R.join("/")},s.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(C)?"nodebuffer":c.uint8array&&C instanceof Uint8Array?"uint8array":c.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(C){if(!c[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(C){var U,R,I="";for(R=0;R<(C||"").length;R++)I+="\\x"+((U=C.charCodeAt(R))<16?"0":"")+U.toString(16).toUpperCase();return I},s.delay=function(C,U,R){setImmediate(function(){C.apply(R||null,U||[])})},s.inherits=function(C,U){function R(){}R.prototype=U.prototype,C.prototype=new R},s.extend=function(){var C,U,R={};for(C=0;C<arguments.length;C++)for(U in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],U)&&R[U]===void 0&&(R[U]=arguments[C][U]);return R},s.prepareContent=function(C,U,R,I,P){return p.Promise.resolve(U).then(function(H){return c.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new p.Promise(function(q,ce){var se=new FileReader;se.onload=function(de){q(de.target.result)},se.onerror=function(de){ce(de.target.error)},se.readAsArrayBuffer(H)}):H}).then(function(H){var q=s.getTypeOf(H);return q?(q==="arraybuffer"?H=s.transformTo("uint8array",H):q==="string"&&(P?H=d.decode(H):R&&I!==!0&&(H=(function(ce){return y(ce,c.uint8array?new Uint8Array(ce.length):new Array(ce.length))})(H))),H):p.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,s){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./signature"),p=r("./zipEntry"),m=r("./support");function y(x){this.files=[],this.loadOptions=x}y.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(x)+")")}},isSignature:function(x,S){var E=this.reader.index;this.reader.setIndex(x);var D=this.reader.readString(4)===S;return this.reader.setIndex(E),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",E=d.transformTo(S,x);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,S,E,D=this.zip64EndOfCentralSize-44;0<D;)x=this.reader.readInt(2),S=this.reader.readInt(4),E=this.reader.readData(S),this.zip64ExtensibleData[x]={id:x,length:S,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,S;for(x=0;x<this.files.length;x++)S=this.files[x],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(x=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var S=x;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var D=S-E;if(0<D)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(x){this.reader=c(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,s){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./compressedObject"),p=r("./crc32"),m=r("./utf8"),y=r("./compressions"),x=r("./support");function S(E,D){this.options=E,this.loadOptions=D}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var D,C;if(E.skip(22),this.fileNameLength=E.readInt(2),C=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=(function(U){for(var R in y)if(Object.prototype.hasOwnProperty.call(y,R)&&y[R].magic===U)return y[R];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,D,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var D=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(D),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var D,C,U,R=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<R;)D=E.readInt(2),C=E.readInt(2),U=E.readData(C),this.extraFields[D]={id:D,length:C,value:U};E.setIndex(R)},handleUTF8:function(){var E=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var C=d.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var U=this.findExtraFieldUnicodeComment();if(U!==null)this.fileCommentStr=U;else{var R=d.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var D=c(E.value);return D.readInt(1)!==1||p(this.fileName)!==D.readInt(4)?null:m.utf8decode(D.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var D=c(E.value);return D.readInt(1)!==1||p(this.fileComment)!==D.readInt(4)?null:m.utf8decode(D.readData(E.length-5))}return null}},o.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,s){function c(D,C,U){this.name=D,this.dir=U.dir,this.date=U.date,this.comment=U.comment,this.unixPermissions=U.unixPermissions,this.dosPermissions=U.dosPermissions,this._data=C,this._dataBinary=U.binary,this.options={compression:U.compression,compressionOptions:U.compressionOptions}}var d=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),p=r("./utf8"),m=r("./compressedObject"),y=r("./stream/GenericWorker");c.prototype={internalStream:function(D){var C=null,U="string";try{if(!D)throw new Error("No output type specified.");var R=(U=D.toLowerCase())==="string"||U==="text";U!=="binarystring"&&U!=="text"||(U="string"),C=this._decompressWorker();var I=!this._dataBinary;I&&!R&&(C=C.pipe(new p.Utf8EncodeWorker)),!I&&R&&(C=C.pipe(new p.Utf8DecodeWorker))}catch(P){(C=new y("error")).error(P)}return new d(C,U,"")},async:function(D,C){return this.internalStream(D).accumulate(C)},nodeStream:function(D,C){return this.internalStream(D||"nodebuffer").toNodejsStream(C)},_compressWorker:function(D,C){if(this._data instanceof m&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var U=this._decompressWorker();return this._dataBinary||(U=U.pipe(new p.Utf8EncodeWorker)),m.createWorkerFrom(U,D,C)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new h(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<x.length;E++)c.prototype[x[E]]=S;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,s){(function(c){var d,h,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var m=0,y=new p(D),x=c.document.createTextNode("");y.observe(x,{characterData:!0}),d=function(){x.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var C=c.document.createElement("script");C.onreadystatechange=function(){D(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},c.document.documentElement.appendChild(C)}:function(){setTimeout(D,0)};else{var S=new c.MessageChannel;S.port1.onmessage=D,d=function(){S.port2.postMessage(0)}}var E=[];function D(){var C,U;h=!0;for(var R=E.length;R;){for(U=E,E=[],C=-1;++C<R;)U[C]();R=E.length}h=!1}o.exports=function(C){E.push(C)!==1||h||d()}}).call(this,typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,s){var c=r("immediate");function d(){}var h={},p=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function x(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,R!==d&&C(this,R)}function S(R,I,P){this.promise=R,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function E(R,I,P){c(function(){var H;try{H=I(P)}catch(q){return h.reject(R,q)}H===R?h.reject(R,new TypeError("Cannot resolve promise with itself")):h.resolve(R,H)})}function D(R){var I=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof I=="function")return function(){I.apply(R,arguments)}}function C(R,I){var P=!1;function H(se){P||(P=!0,h.reject(R,se))}function q(se){P||(P=!0,h.resolve(R,se))}var ce=U(function(){I(q,H)});ce.status==="error"&&H(ce.value)}function U(R,I){var P={};try{P.value=R(I),P.status="success"}catch(H){P.status="error",P.value=H}return P}(o.exports=x).prototype.finally=function(R){if(typeof R!="function")return this;var I=this.constructor;return this.then(function(P){return I.resolve(R()).then(function(){return P})},function(P){return I.resolve(R()).then(function(){throw P})})},x.prototype.catch=function(R){return this.then(null,R)},x.prototype.then=function(R,I){if(typeof R!="function"&&this.state===m||typeof I!="function"&&this.state===p)return this;var P=new this.constructor(d);return this.state!==y?E(P,this.state===m?R:I,this.outcome):this.queue.push(new S(P,R,I)),P},S.prototype.callFulfilled=function(R){h.resolve(this.promise,R)},S.prototype.otherCallFulfilled=function(R){E(this.promise,this.onFulfilled,R)},S.prototype.callRejected=function(R){h.reject(this.promise,R)},S.prototype.otherCallRejected=function(R){E(this.promise,this.onRejected,R)},h.resolve=function(R,I){var P=U(D,I);if(P.status==="error")return h.reject(R,P.value);var H=P.value;if(H)C(R,H);else{R.state=m,R.outcome=I;for(var q=-1,ce=R.queue.length;++q<ce;)R.queue[q].callFulfilled(I)}return R},h.reject=function(R,I){R.state=p,R.outcome=I;for(var P=-1,H=R.queue.length;++P<H;)R.queue[P].callRejected(I);return R},x.resolve=function(R){return R instanceof this?R:h.resolve(new this(d),R)},x.reject=function(R){var I=new this(d);return h.reject(I,R)},x.all=function(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=R.length,H=!1;if(!P)return this.resolve([]);for(var q=new Array(P),ce=0,se=-1,de=new this(d);++se<P;)G(R[se],se);return de;function G(Te,Re){I.resolve(Te).then(function(Z){q[Re]=Z,++ce!==P||H||(H=!0,h.resolve(de,q))},function(Z){H||(H=!0,h.reject(de,Z))})}},x.race=function(R){var I=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=R.length,H=!1;if(!P)return this.resolve([]);for(var q=-1,ce=new this(d);++q<P;)se=R[q],I.resolve(se).then(function(de){H||(H=!0,h.resolve(ce,de))},function(de){H||(H=!0,h.reject(ce,de))});var se;return ce}},{immediate:36}],38:[function(r,o,s){var c={};(0,r("./lib/utils/common").assign)(c,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,s){var c=r("./zlib/deflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/messages"),m=r("./zlib/zstream"),y=Object.prototype.toString,x=0,S=-1,E=0,D=8;function C(R){if(!(this instanceof C))return new C(R);this.options=d.assign({level:S,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},R||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var P=c.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(P!==x)throw new Error(p[P]);if(I.header&&c.deflateSetHeader(this.strm,I.header),I.dictionary){var H;if(H=typeof I.dictionary=="string"?h.string2buf(I.dictionary):y.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(P=c.deflateSetDictionary(this.strm,H))!==x)throw new Error(p[P]);this._dict_set=!0}}function U(R,I){var P=new C(I);if(P.push(R,!0),P.err)throw P.msg||p[P.err];return P.result}C.prototype.push=function(R,I){var P,H,q=this.strm,ce=this.options.chunkSize;if(this.ended)return!1;H=I===~~I?I:I===!0?4:0,typeof R=="string"?q.input=h.string2buf(R):y.call(R)==="[object ArrayBuffer]"?q.input=new Uint8Array(R):q.input=R,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new d.Buf8(ce),q.next_out=0,q.avail_out=ce),(P=c.deflate(q,H))!==1&&P!==x)return this.onEnd(P),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(q.output,q.next_out))):this.onData(d.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&P!==1);return H===4?(P=c.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===x):H!==2||(this.onEnd(x),!(q.avail_out=0))},C.prototype.onData=function(R){this.chunks.push(R)},C.prototype.onEnd=function(R){R===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},s.Deflate=C,s.deflate=U,s.deflateRaw=function(R,I){return(I=I||{}).raw=!0,U(R,I)},s.gzip=function(R,I){return(I=I||{}).gzip=!0,U(R,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,s){var c=r("./zlib/inflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/constants"),m=r("./zlib/messages"),y=r("./zlib/zstream"),x=r("./zlib/gzheader"),S=Object.prototype.toString;function E(C){if(!(this instanceof E))return new E(C);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},C||{});var U=this.options;U.raw&&0<=U.windowBits&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),!(0<=U.windowBits&&U.windowBits<16)||C&&C.windowBits||(U.windowBits+=32),15<U.windowBits&&U.windowBits<48&&(15&U.windowBits)==0&&(U.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var R=c.inflateInit2(this.strm,U.windowBits);if(R!==p.Z_OK)throw new Error(m[R]);this.header=new x,c.inflateGetHeader(this.strm,this.header)}function D(C,U){var R=new E(U);if(R.push(C,!0),R.err)throw R.msg||m[R.err];return R.result}E.prototype.push=function(C,U){var R,I,P,H,q,ce,se=this.strm,de=this.options.chunkSize,G=this.options.dictionary,Te=!1;if(this.ended)return!1;I=U===~~U?U:U===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof C=="string"?se.input=h.binstring2buf(C):S.call(C)==="[object ArrayBuffer]"?se.input=new Uint8Array(C):se.input=C,se.next_in=0,se.avail_in=se.input.length;do{if(se.avail_out===0&&(se.output=new d.Buf8(de),se.next_out=0,se.avail_out=de),(R=c.inflate(se,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&G&&(ce=typeof G=="string"?h.string2buf(G):S.call(G)==="[object ArrayBuffer]"?new Uint8Array(G):G,R=c.inflateSetDictionary(this.strm,ce)),R===p.Z_BUF_ERROR&&Te===!0&&(R=p.Z_OK,Te=!1),R!==p.Z_STREAM_END&&R!==p.Z_OK)return this.onEnd(R),!(this.ended=!0);se.next_out&&(se.avail_out!==0&&R!==p.Z_STREAM_END&&(se.avail_in!==0||I!==p.Z_FINISH&&I!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=h.utf8border(se.output,se.next_out),H=se.next_out-P,q=h.buf2string(se.output,P),se.next_out=H,se.avail_out=de-H,H&&d.arraySet(se.output,se.output,P,H,0),this.onData(q)):this.onData(d.shrinkBuf(se.output,se.next_out)))),se.avail_in===0&&se.avail_out===0&&(Te=!0)}while((0<se.avail_in||se.avail_out===0)&&R!==p.Z_STREAM_END);return R===p.Z_STREAM_END&&(I=p.Z_FINISH),I===p.Z_FINISH?(R=c.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===p.Z_OK):I!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(se.avail_out=0))},E.prototype.onData=function(C){this.chunks.push(C)},E.prototype.onEnd=function(C){C===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},s.Inflate=E,s.inflate=D,s.inflateRaw=function(C,U){return(U=U||{}).raw=!0,D(C,U)},s.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,s){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var x in y)y.hasOwnProperty(x)&&(p[x]=y[x])}}return p},s.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var d={arraySet:function(p,m,y,x,S){if(m.subarray&&p.subarray)p.set(m.subarray(y,y+x),S);else for(var E=0;E<x;E++)p[S+E]=m[y+E]},flattenChunks:function(p){var m,y,x,S,E,D;for(m=x=0,y=p.length;m<y;m++)x+=p[m].length;for(D=new Uint8Array(x),m=S=0,y=p.length;m<y;m++)E=p[m],D.set(E,S),S+=E.length;return D}},h={arraySet:function(p,m,y,x,S){for(var E=0;E<x;E++)p[S+E]=m[y+E]},flattenChunks:function(p){return[].concat.apply([],p)}};s.setTyped=function(p){p?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,d)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,h))},s.setTyped(c)},{}],42:[function(r,o,s){var c=r("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new c.Buf8(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(x,S){if(S<65537&&(x.subarray&&h||!x.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(x,S));for(var E="",D=0;D<S;D++)E+=String.fromCharCode(x[D]);return E}p[254]=p[254]=1,s.string2buf=function(x){var S,E,D,C,U,R=x.length,I=0;for(C=0;C<R;C++)(64512&(E=x.charCodeAt(C)))==55296&&C+1<R&&(64512&(D=x.charCodeAt(C+1)))==56320&&(E=65536+(E-55296<<10)+(D-56320),C++),I+=E<128?1:E<2048?2:E<65536?3:4;for(S=new c.Buf8(I),C=U=0;U<I;C++)(64512&(E=x.charCodeAt(C)))==55296&&C+1<R&&(64512&(D=x.charCodeAt(C+1)))==56320&&(E=65536+(E-55296<<10)+(D-56320),C++),E<128?S[U++]=E:(E<2048?S[U++]=192|E>>>6:(E<65536?S[U++]=224|E>>>12:(S[U++]=240|E>>>18,S[U++]=128|E>>>12&63),S[U++]=128|E>>>6&63),S[U++]=128|63&E);return S},s.buf2binstring=function(x){return y(x,x.length)},s.binstring2buf=function(x){for(var S=new c.Buf8(x.length),E=0,D=S.length;E<D;E++)S[E]=x.charCodeAt(E);return S},s.buf2string=function(x,S){var E,D,C,U,R=S||x.length,I=new Array(2*R);for(E=D=0;E<R;)if((C=x[E++])<128)I[D++]=C;else if(4<(U=p[C]))I[D++]=65533,E+=U-1;else{for(C&=U===2?31:U===3?15:7;1<U&&E<R;)C=C<<6|63&x[E++],U--;1<U?I[D++]=65533:C<65536?I[D++]=C:(C-=65536,I[D++]=55296|C>>10&1023,I[D++]=56320|1023&C)}return y(I,D)},s.utf8border=function(x,S){var E;for((S=S||x.length)>x.length&&(S=x.length),E=S-1;0<=E&&(192&x[E])==128;)E--;return E<0||E===0?S:E+p[x[E]]>S?E:S}},{"./common":41}],43:[function(r,o,s){o.exports=function(c,d,h,p){for(var m=65535&c|0,y=c>>>16&65535|0,x=0;h!==0;){for(h-=x=2e3<h?2e3:h;y=y+(m=m+d[p++]|0)|0,--x;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(r,o,s){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,s){var c=(function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h})();o.exports=function(d,h,p,m){var y=c,x=m+p;d^=-1;for(var S=m;S<x;S++)d=d>>>8^y[255&(d^h[S])];return-1^d}},{}],46:[function(r,o,s){var c,d=r("../utils/common"),h=r("./trees"),p=r("./adler32"),m=r("./crc32"),y=r("./messages"),x=0,S=4,E=0,D=-2,C=-1,U=4,R=2,I=8,P=9,H=286,q=30,ce=19,se=2*H+1,de=15,G=3,Te=258,Re=Te+G+1,Z=42,pe=113,B=1,he=2,le=3,ae=4;function Ce(b,re){return b.msg=y[re],re}function ue(b){return(b<<1)-(4<b?9:0)}function K(b){for(var re=b.length;0<=--re;)b[re]=0}function J(b){var re=b.state,k=re.pending;k>b.avail_out&&(k=b.avail_out),k!==0&&(d.arraySet(b.output,re.pending_buf,re.pending_out,k,b.next_out),b.next_out+=k,re.pending_out+=k,b.total_out+=k,b.avail_out-=k,re.pending-=k,re.pending===0&&(re.pending_out=0))}function O(b,re){h._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,re),b.block_start=b.strstart,J(b.strm)}function Y(b,re){b.pending_buf[b.pending++]=re}function Q(b,re){b.pending_buf[b.pending++]=re>>>8&255,b.pending_buf[b.pending++]=255&re}function ee(b,re){var k,v,T=b.max_chain_length,A=b.strstart,X=b.prev_length,ne=b.nice_match,j=b.strstart>b.w_size-Re?b.strstart-(b.w_size-Re):0,ge=b.window,De=b.w_mask,be=b.prev,Le=b.strstart+Te,Pe=ge[A+X-1],Ve=ge[A+X];b.prev_length>=b.good_match&&(T>>=2),ne>b.lookahead&&(ne=b.lookahead);do if(ge[(k=re)+X]===Ve&&ge[k+X-1]===Pe&&ge[k]===ge[A]&&ge[++k]===ge[A+1]){A+=2,k++;do;while(ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&ge[++A]===ge[++k]&&A<Le);if(v=Te-(Le-A),A=Le-Te,X<v){if(b.match_start=re,ne<=(X=v))break;Pe=ge[A+X-1],Ve=ge[A+X]}}while((re=be[re&De])>j&&--T!=0);return X<=b.lookahead?X:b.lookahead}function $(b){var re,k,v,T,A,X,ne,j,ge,De,be=b.w_size;do{if(T=b.window_size-b.lookahead-b.strstart,b.strstart>=be+(be-Re)){for(d.arraySet(b.window,b.window,be,be,0),b.match_start-=be,b.strstart-=be,b.block_start-=be,re=k=b.hash_size;v=b.head[--re],b.head[re]=be<=v?v-be:0,--k;);for(re=k=be;v=b.prev[--re],b.prev[re]=be<=v?v-be:0,--k;);T+=be}if(b.strm.avail_in===0)break;if(X=b.strm,ne=b.window,j=b.strstart+b.lookahead,ge=T,De=void 0,De=X.avail_in,ge<De&&(De=ge),k=De===0?0:(X.avail_in-=De,d.arraySet(ne,X.input,X.next_in,De,j),X.state.wrap===1?X.adler=p(X.adler,ne,De,j):X.state.wrap===2&&(X.adler=m(X.adler,ne,De,j)),X.next_in+=De,X.total_in+=De,De),b.lookahead+=k,b.lookahead+b.insert>=G)for(A=b.strstart-b.insert,b.ins_h=b.window[A],b.ins_h=(b.ins_h<<b.hash_shift^b.window[A+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[A+G-1])&b.hash_mask,b.prev[A&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=A,A++,b.insert--,!(b.lookahead+b.insert<G)););}while(b.lookahead<Re&&b.strm.avail_in!==0)}function M(b,re){for(var k,v;;){if(b.lookahead<Re){if($(b),b.lookahead<Re&&re===x)return B;if(b.lookahead===0)break}if(k=0,b.lookahead>=G&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+G-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),k!==0&&b.strstart-k<=b.w_size-Re&&(b.match_length=ee(b,k)),b.match_length>=G)if(v=h._tr_tally(b,b.strstart-b.match_start,b.match_length-G),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=G){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+G-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else v=h._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(v&&(O(b,!1),b.strm.avail_out===0))return B}return b.insert=b.strstart<G-1?b.strstart:G-1,re===S?(O(b,!0),b.strm.avail_out===0?le:ae):b.last_lit&&(O(b,!1),b.strm.avail_out===0)?B:he}function N(b,re){for(var k,v,T;;){if(b.lookahead<Re){if($(b),b.lookahead<Re&&re===x)return B;if(b.lookahead===0)break}if(k=0,b.lookahead>=G&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+G-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=G-1,k!==0&&b.prev_length<b.max_lazy_match&&b.strstart-k<=b.w_size-Re&&(b.match_length=ee(b,k),b.match_length<=5&&(b.strategy===1||b.match_length===G&&4096<b.strstart-b.match_start)&&(b.match_length=G-1)),b.prev_length>=G&&b.match_length<=b.prev_length){for(T=b.strstart+b.lookahead-G,v=h._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-G),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=T&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+G-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=G-1,b.strstart++,v&&(O(b,!1),b.strm.avail_out===0))return B}else if(b.match_available){if((v=h._tr_tally(b,0,b.window[b.strstart-1]))&&O(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return B}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(v=h._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<G-1?b.strstart:G-1,re===S?(O(b,!0),b.strm.avail_out===0?le:ae):b.last_lit&&(O(b,!1),b.strm.avail_out===0)?B:he}function te(b,re,k,v,T){this.good_length=b,this.max_lazy=re,this.nice_length=k,this.max_chain=v,this.func=T}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*se),this.dyn_dtree=new d.Buf16(2*(2*q+1)),this.bl_tree=new d.Buf16(2*(2*ce+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(de+1),this.heap=new d.Buf16(2*H+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*H+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(b){var re;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=R,(re=b.state).pending=0,re.pending_out=0,re.wrap<0&&(re.wrap=-re.wrap),re.status=re.wrap?Z:pe,b.adler=re.wrap===2?0:1,re.last_flush=x,h._tr_init(re),E):Ce(b,D)}function F(b){var re=z(b);return re===E&&(function(k){k.window_size=2*k.w_size,K(k.head),k.max_lazy_match=c[k.level].max_lazy,k.good_match=c[k.level].good_length,k.nice_match=c[k.level].nice_length,k.max_chain_length=c[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=G-1,k.match_available=0,k.ins_h=0})(b.state),re}function ie(b,re,k,v,T,A){if(!b)return D;var X=1;if(re===C&&(re=6),v<0?(X=0,v=-v):15<v&&(X=2,v-=16),T<1||P<T||k!==I||v<8||15<v||re<0||9<re||A<0||U<A)return Ce(b,D);v===8&&(v=9);var ne=new W;return(b.state=ne).strm=b,ne.wrap=X,ne.gzhead=null,ne.w_bits=v,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=T+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+G-1)/G),ne.window=new d.Buf8(2*ne.w_size),ne.head=new d.Buf16(ne.hash_size),ne.prev=new d.Buf16(ne.w_size),ne.lit_bufsize=1<<T+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new d.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=re,ne.strategy=A,ne.method=k,F(b)}c=[new te(0,0,0,0,function(b,re){var k=65535;for(k>b.pending_buf_size-5&&(k=b.pending_buf_size-5);;){if(b.lookahead<=1){if($(b),b.lookahead===0&&re===x)return B;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var v=b.block_start+k;if((b.strstart===0||b.strstart>=v)&&(b.lookahead=b.strstart-v,b.strstart=v,O(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-Re&&(O(b,!1),b.strm.avail_out===0))return B}return b.insert=0,re===S?(O(b,!0),b.strm.avail_out===0?le:ae):(b.strstart>b.block_start&&(O(b,!1),b.strm.avail_out),B)}),new te(4,4,8,4,M),new te(4,5,16,8,M),new te(4,6,32,32,M),new te(4,4,16,16,N),new te(8,16,32,32,N),new te(8,16,128,128,N),new te(8,32,128,256,N),new te(32,128,258,1024,N),new te(32,258,258,4096,N)],s.deflateInit=function(b,re){return ie(b,re,I,15,8,0)},s.deflateInit2=ie,s.deflateReset=F,s.deflateResetKeep=z,s.deflateSetHeader=function(b,re){return b&&b.state?b.state.wrap!==2?D:(b.state.gzhead=re,E):D},s.deflate=function(b,re){var k,v,T,A;if(!b||!b.state||5<re||re<0)return b?Ce(b,D):D;if(v=b.state,!b.output||!b.input&&b.avail_in!==0||v.status===666&&re!==S)return Ce(b,b.avail_out===0?-5:D);if(v.strm=b,k=v.last_flush,v.last_flush=re,v.status===Z)if(v.wrap===2)b.adler=0,Y(v,31),Y(v,139),Y(v,8),v.gzhead?(Y(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),Y(v,255&v.gzhead.time),Y(v,v.gzhead.time>>8&255),Y(v,v.gzhead.time>>16&255),Y(v,v.gzhead.time>>24&255),Y(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),Y(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(Y(v,255&v.gzhead.extra.length),Y(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(b.adler=m(b.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(Y(v,0),Y(v,0),Y(v,0),Y(v,0),Y(v,0),Y(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),Y(v,3),v.status=pe);else{var X=I+(v.w_bits-8<<4)<<8;X|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(X|=32),X+=31-X%31,v.status=pe,Q(v,X),v.strstart!==0&&(Q(v,b.adler>>>16),Q(v,65535&b.adler)),b.adler=1}if(v.status===69)if(v.gzhead.extra){for(T=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),J(b),T=v.pending,v.pending!==v.pending_buf_size));)Y(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){T=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),J(b),T=v.pending,v.pending===v.pending_buf_size)){A=1;break}A=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,Y(v,A)}while(A!==0);v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),A===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){T=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),J(b),T=v.pending,v.pending===v.pending_buf_size)){A=1;break}A=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,Y(v,A)}while(A!==0);v.gzhead.hcrc&&v.pending>T&&(b.adler=m(b.adler,v.pending_buf,v.pending-T,T)),A===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&J(b),v.pending+2<=v.pending_buf_size&&(Y(v,255&b.adler),Y(v,b.adler>>8&255),b.adler=0,v.status=pe)):v.status=pe),v.pending!==0){if(J(b),b.avail_out===0)return v.last_flush=-1,E}else if(b.avail_in===0&&ue(re)<=ue(k)&&re!==S)return Ce(b,-5);if(v.status===666&&b.avail_in!==0)return Ce(b,-5);if(b.avail_in!==0||v.lookahead!==0||re!==x&&v.status!==666){var ne=v.strategy===2?(function(j,ge){for(var De;;){if(j.lookahead===0&&($(j),j.lookahead===0)){if(ge===x)return B;break}if(j.match_length=0,De=h._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,De&&(O(j,!1),j.strm.avail_out===0))return B}return j.insert=0,ge===S?(O(j,!0),j.strm.avail_out===0?le:ae):j.last_lit&&(O(j,!1),j.strm.avail_out===0)?B:he})(v,re):v.strategy===3?(function(j,ge){for(var De,be,Le,Pe,Ve=j.window;;){if(j.lookahead<=Te){if($(j),j.lookahead<=Te&&ge===x)return B;if(j.lookahead===0)break}if(j.match_length=0,j.lookahead>=G&&0<j.strstart&&(be=Ve[Le=j.strstart-1])===Ve[++Le]&&be===Ve[++Le]&&be===Ve[++Le]){Pe=j.strstart+Te;do;while(be===Ve[++Le]&&be===Ve[++Le]&&be===Ve[++Le]&&be===Ve[++Le]&&be===Ve[++Le]&&be===Ve[++Le]&&be===Ve[++Le]&&be===Ve[++Le]&&Le<Pe);j.match_length=Te-(Pe-Le),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=G?(De=h._tr_tally(j,1,j.match_length-G),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(De=h._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),De&&(O(j,!1),j.strm.avail_out===0))return B}return j.insert=0,ge===S?(O(j,!0),j.strm.avail_out===0?le:ae):j.last_lit&&(O(j,!1),j.strm.avail_out===0)?B:he})(v,re):c[v.level].func(v,re);if(ne!==le&&ne!==ae||(v.status=666),ne===B||ne===le)return b.avail_out===0&&(v.last_flush=-1),E;if(ne===he&&(re===1?h._tr_align(v):re!==5&&(h._tr_stored_block(v,0,0,!1),re===3&&(K(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),J(b),b.avail_out===0))return v.last_flush=-1,E}return re!==S?E:v.wrap<=0?1:(v.wrap===2?(Y(v,255&b.adler),Y(v,b.adler>>8&255),Y(v,b.adler>>16&255),Y(v,b.adler>>24&255),Y(v,255&b.total_in),Y(v,b.total_in>>8&255),Y(v,b.total_in>>16&255),Y(v,b.total_in>>24&255)):(Q(v,b.adler>>>16),Q(v,65535&b.adler)),J(b),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?E:1)},s.deflateEnd=function(b){var re;return b&&b.state?(re=b.state.status)!==Z&&re!==69&&re!==73&&re!==91&&re!==103&&re!==pe&&re!==666?Ce(b,D):(b.state=null,re===pe?Ce(b,-3):E):D},s.deflateSetDictionary=function(b,re){var k,v,T,A,X,ne,j,ge,De=re.length;if(!b||!b.state||(A=(k=b.state).wrap)===2||A===1&&k.status!==Z||k.lookahead)return D;for(A===1&&(b.adler=p(b.adler,re,De,0)),k.wrap=0,De>=k.w_size&&(A===0&&(K(k.head),k.strstart=0,k.block_start=0,k.insert=0),ge=new d.Buf8(k.w_size),d.arraySet(ge,re,De-k.w_size,k.w_size,0),re=ge,De=k.w_size),X=b.avail_in,ne=b.next_in,j=b.input,b.avail_in=De,b.next_in=0,b.input=re,$(k);k.lookahead>=G;){for(v=k.strstart,T=k.lookahead-(G-1);k.ins_h=(k.ins_h<<k.hash_shift^k.window[v+G-1])&k.hash_mask,k.prev[v&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=v,v++,--T;);k.strstart=v,k.lookahead=G-1,$(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=G-1,k.match_available=0,b.next_in=ne,b.input=j,b.avail_in=X,k.wrap=A,E},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,s){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,s){o.exports=function(c,d){var h,p,m,y,x,S,E,D,C,U,R,I,P,H,q,ce,se,de,G,Te,Re,Z,pe,B,he;h=c.state,p=c.next_in,B=c.input,m=p+(c.avail_in-5),y=c.next_out,he=c.output,x=y-(d-c.avail_out),S=y+(c.avail_out-257),E=h.dmax,D=h.wsize,C=h.whave,U=h.wnext,R=h.window,I=h.hold,P=h.bits,H=h.lencode,q=h.distcode,ce=(1<<h.lenbits)-1,se=(1<<h.distbits)-1;e:do{P<15&&(I+=B[p++]<<P,P+=8,I+=B[p++]<<P,P+=8),de=H[I&ce];t:for(;;){if(I>>>=G=de>>>24,P-=G,(G=de>>>16&255)===0)he[y++]=65535&de;else{if(!(16&G)){if((64&G)==0){de=H[(65535&de)+(I&(1<<G)-1)];continue t}if(32&G){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}Te=65535&de,(G&=15)&&(P<G&&(I+=B[p++]<<P,P+=8),Te+=I&(1<<G)-1,I>>>=G,P-=G),P<15&&(I+=B[p++]<<P,P+=8,I+=B[p++]<<P,P+=8),de=q[I&se];n:for(;;){if(I>>>=G=de>>>24,P-=G,!(16&(G=de>>>16&255))){if((64&G)==0){de=q[(65535&de)+(I&(1<<G)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(Re=65535&de,P<(G&=15)&&(I+=B[p++]<<P,(P+=8)<G&&(I+=B[p++]<<P,P+=8)),E<(Re+=I&(1<<G)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(I>>>=G,P-=G,(G=y-x)<Re){if(C<(G=Re-G)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(pe=R,(Z=0)===U){if(Z+=D-G,G<Te){for(Te-=G;he[y++]=R[Z++],--G;);Z=y-Re,pe=he}}else if(U<G){if(Z+=D+U-G,(G-=U)<Te){for(Te-=G;he[y++]=R[Z++],--G;);if(Z=0,U<Te){for(Te-=G=U;he[y++]=R[Z++],--G;);Z=y-Re,pe=he}}}else if(Z+=U-G,G<Te){for(Te-=G;he[y++]=R[Z++],--G;);Z=y-Re,pe=he}for(;2<Te;)he[y++]=pe[Z++],he[y++]=pe[Z++],he[y++]=pe[Z++],Te-=3;Te&&(he[y++]=pe[Z++],1<Te&&(he[y++]=pe[Z++]))}else{for(Z=y-Re;he[y++]=he[Z++],he[y++]=he[Z++],he[y++]=he[Z++],2<(Te-=3););Te&&(he[y++]=he[Z++],1<Te&&(he[y++]=he[Z++]))}break}}break}}while(p<m&&y<S);p-=Te=P>>3,I&=(1<<(P-=Te<<3))-1,c.next_in=p,c.next_out=y,c.avail_in=p<m?m-p+5:5-(p-m),c.avail_out=y<S?S-y+257:257-(y-S),h.hold=I,h.bits=P}},{}],49:[function(r,o,s){var c=r("../utils/common"),d=r("./adler32"),h=r("./crc32"),p=r("./inffast"),m=r("./inftrees"),y=1,x=2,S=0,E=-2,D=1,C=852,U=592;function R(Z){return(Z>>>24&255)+(Z>>>8&65280)+((65280&Z)<<8)+((255&Z)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(Z){var pe;return Z&&Z.state?(pe=Z.state,Z.total_in=Z.total_out=pe.total=0,Z.msg="",pe.wrap&&(Z.adler=1&pe.wrap),pe.mode=D,pe.last=0,pe.havedict=0,pe.dmax=32768,pe.head=null,pe.hold=0,pe.bits=0,pe.lencode=pe.lendyn=new c.Buf32(C),pe.distcode=pe.distdyn=new c.Buf32(U),pe.sane=1,pe.back=-1,S):E}function H(Z){var pe;return Z&&Z.state?((pe=Z.state).wsize=0,pe.whave=0,pe.wnext=0,P(Z)):E}function q(Z,pe){var B,he;return Z&&Z.state?(he=Z.state,pe<0?(B=0,pe=-pe):(B=1+(pe>>4),pe<48&&(pe&=15)),pe&&(pe<8||15<pe)?E:(he.window!==null&&he.wbits!==pe&&(he.window=null),he.wrap=B,he.wbits=pe,H(Z))):E}function ce(Z,pe){var B,he;return Z?(he=new I,(Z.state=he).window=null,(B=q(Z,pe))!==S&&(Z.state=null),B):E}var se,de,G=!0;function Te(Z){if(G){var pe;for(se=new c.Buf32(512),de=new c.Buf32(32),pe=0;pe<144;)Z.lens[pe++]=8;for(;pe<256;)Z.lens[pe++]=9;for(;pe<280;)Z.lens[pe++]=7;for(;pe<288;)Z.lens[pe++]=8;for(m(y,Z.lens,0,288,se,0,Z.work,{bits:9}),pe=0;pe<32;)Z.lens[pe++]=5;m(x,Z.lens,0,32,de,0,Z.work,{bits:5}),G=!1}Z.lencode=se,Z.lenbits=9,Z.distcode=de,Z.distbits=5}function Re(Z,pe,B,he){var le,ae=Z.state;return ae.window===null&&(ae.wsize=1<<ae.wbits,ae.wnext=0,ae.whave=0,ae.window=new c.Buf8(ae.wsize)),he>=ae.wsize?(c.arraySet(ae.window,pe,B-ae.wsize,ae.wsize,0),ae.wnext=0,ae.whave=ae.wsize):(he<(le=ae.wsize-ae.wnext)&&(le=he),c.arraySet(ae.window,pe,B-he,le,ae.wnext),(he-=le)?(c.arraySet(ae.window,pe,B-he,he,0),ae.wnext=he,ae.whave=ae.wsize):(ae.wnext+=le,ae.wnext===ae.wsize&&(ae.wnext=0),ae.whave<ae.wsize&&(ae.whave+=le))),0}s.inflateReset=H,s.inflateReset2=q,s.inflateResetKeep=P,s.inflateInit=function(Z){return ce(Z,15)},s.inflateInit2=ce,s.inflate=function(Z,pe){var B,he,le,ae,Ce,ue,K,J,O,Y,Q,ee,$,M,N,te,W,z,F,ie,b,re,k,v,T=0,A=new c.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return E;(B=Z.state).mode===12&&(B.mode=13),Ce=Z.next_out,le=Z.output,K=Z.avail_out,ae=Z.next_in,he=Z.input,ue=Z.avail_in,J=B.hold,O=B.bits,Y=ue,Q=K,re=S;e:for(;;)switch(B.mode){case D:if(B.wrap===0){B.mode=13;break}for(;O<16;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if(2&B.wrap&&J===35615){A[B.check=0]=255&J,A[1]=J>>>8&255,B.check=h(B.check,A,2,0),O=J=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&J)<<8)+(J>>8))%31){Z.msg="incorrect header check",B.mode=30;break}if((15&J)!=8){Z.msg="unknown compression method",B.mode=30;break}if(O-=4,b=8+(15&(J>>>=4)),B.wbits===0)B.wbits=b;else if(b>B.wbits){Z.msg="invalid window size",B.mode=30;break}B.dmax=1<<b,Z.adler=B.check=1,B.mode=512&J?10:12,O=J=0;break;case 2:for(;O<16;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if(B.flags=J,(255&B.flags)!=8){Z.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){Z.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=J>>8&1),512&B.flags&&(A[0]=255&J,A[1]=J>>>8&255,B.check=h(B.check,A,2,0)),O=J=0,B.mode=3;case 3:for(;O<32;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}B.head&&(B.head.time=J),512&B.flags&&(A[0]=255&J,A[1]=J>>>8&255,A[2]=J>>>16&255,A[3]=J>>>24&255,B.check=h(B.check,A,4,0)),O=J=0,B.mode=4;case 4:for(;O<16;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}B.head&&(B.head.xflags=255&J,B.head.os=J>>8),512&B.flags&&(A[0]=255&J,A[1]=J>>>8&255,B.check=h(B.check,A,2,0)),O=J=0,B.mode=5;case 5:if(1024&B.flags){for(;O<16;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}B.length=J,B.head&&(B.head.extra_len=J),512&B.flags&&(A[0]=255&J,A[1]=J>>>8&255,B.check=h(B.check,A,2,0)),O=J=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(ue<(ee=B.length)&&(ee=ue),ee&&(B.head&&(b=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),c.arraySet(B.head.extra,he,ae,ee,b)),512&B.flags&&(B.check=h(B.check,he,ee,ae)),ue-=ee,ae+=ee,B.length-=ee),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(ue===0)break e;for(ee=0;b=he[ae+ee++],B.head&&b&&B.length<65536&&(B.head.name+=String.fromCharCode(b)),b&&ee<ue;);if(512&B.flags&&(B.check=h(B.check,he,ee,ae)),ue-=ee,ae+=ee,b)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(ue===0)break e;for(ee=0;b=he[ae+ee++],B.head&&b&&B.length<65536&&(B.head.comment+=String.fromCharCode(b)),b&&ee<ue;);if(512&B.flags&&(B.check=h(B.check,he,ee,ae)),ue-=ee,ae+=ee,b)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;O<16;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if(J!==(65535&B.check)){Z.msg="header crc mismatch",B.mode=30;break}O=J=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),Z.adler=B.check=0,B.mode=12;break;case 10:for(;O<32;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}Z.adler=B.check=R(J),O=J=0,B.mode=11;case 11:if(B.havedict===0)return Z.next_out=Ce,Z.avail_out=K,Z.next_in=ae,Z.avail_in=ue,B.hold=J,B.bits=O,2;Z.adler=B.check=1,B.mode=12;case 12:if(pe===5||pe===6)break e;case 13:if(B.last){J>>>=7&O,O-=7&O,B.mode=27;break}for(;O<3;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}switch(B.last=1&J,O-=1,3&(J>>>=1)){case 0:B.mode=14;break;case 1:if(Te(B),B.mode=20,pe!==6)break;J>>>=2,O-=2;break e;case 2:B.mode=17;break;case 3:Z.msg="invalid block type",B.mode=30}J>>>=2,O-=2;break;case 14:for(J>>>=7&O,O-=7&O;O<32;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if((65535&J)!=(J>>>16^65535)){Z.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&J,O=J=0,B.mode=15,pe===6)break e;case 15:B.mode=16;case 16:if(ee=B.length){if(ue<ee&&(ee=ue),K<ee&&(ee=K),ee===0)break e;c.arraySet(le,he,ae,ee,Ce),ue-=ee,ae+=ee,K-=ee,Ce+=ee,B.length-=ee;break}B.mode=12;break;case 17:for(;O<14;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if(B.nlen=257+(31&J),J>>>=5,O-=5,B.ndist=1+(31&J),J>>>=5,O-=5,B.ncode=4+(15&J),J>>>=4,O-=4,286<B.nlen||30<B.ndist){Z.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;O<3;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}B.lens[X[B.have++]]=7&J,J>>>=3,O-=3}for(;B.have<19;)B.lens[X[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,k={bits:B.lenbits},re=m(0,B.lens,0,19,B.lencode,0,B.work,k),B.lenbits=k.bits,re){Z.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;te=(T=B.lencode[J&(1<<B.lenbits)-1])>>>16&255,W=65535&T,!((N=T>>>24)<=O);){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if(W<16)J>>>=N,O-=N,B.lens[B.have++]=W;else{if(W===16){for(v=N+2;O<v;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if(J>>>=N,O-=N,B.have===0){Z.msg="invalid bit length repeat",B.mode=30;break}b=B.lens[B.have-1],ee=3+(3&J),J>>>=2,O-=2}else if(W===17){for(v=N+3;O<v;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}O-=N,b=0,ee=3+(7&(J>>>=N)),J>>>=3,O-=3}else{for(v=N+7;O<v;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}O-=N,b=0,ee=11+(127&(J>>>=N)),J>>>=7,O-=7}if(B.have+ee>B.nlen+B.ndist){Z.msg="invalid bit length repeat",B.mode=30;break}for(;ee--;)B.lens[B.have++]=b}}if(B.mode===30)break;if(B.lens[256]===0){Z.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,k={bits:B.lenbits},re=m(y,B.lens,0,B.nlen,B.lencode,0,B.work,k),B.lenbits=k.bits,re){Z.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,k={bits:B.distbits},re=m(x,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,k),B.distbits=k.bits,re){Z.msg="invalid distances set",B.mode=30;break}if(B.mode=20,pe===6)break e;case 20:B.mode=21;case 21:if(6<=ue&&258<=K){Z.next_out=Ce,Z.avail_out=K,Z.next_in=ae,Z.avail_in=ue,B.hold=J,B.bits=O,p(Z,Q),Ce=Z.next_out,le=Z.output,K=Z.avail_out,ae=Z.next_in,he=Z.input,ue=Z.avail_in,J=B.hold,O=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;te=(T=B.lencode[J&(1<<B.lenbits)-1])>>>16&255,W=65535&T,!((N=T>>>24)<=O);){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if(te&&(240&te)==0){for(z=N,F=te,ie=W;te=(T=B.lencode[ie+((J&(1<<z+F)-1)>>z)])>>>16&255,W=65535&T,!(z+(N=T>>>24)<=O);){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}J>>>=z,O-=z,B.back+=z}if(J>>>=N,O-=N,B.back+=N,B.length=W,te===0){B.mode=26;break}if(32&te){B.back=-1,B.mode=12;break}if(64&te){Z.msg="invalid literal/length code",B.mode=30;break}B.extra=15&te,B.mode=22;case 22:if(B.extra){for(v=B.extra;O<v;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}B.length+=J&(1<<B.extra)-1,J>>>=B.extra,O-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;te=(T=B.distcode[J&(1<<B.distbits)-1])>>>16&255,W=65535&T,!((N=T>>>24)<=O);){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if((240&te)==0){for(z=N,F=te,ie=W;te=(T=B.distcode[ie+((J&(1<<z+F)-1)>>z)])>>>16&255,W=65535&T,!(z+(N=T>>>24)<=O);){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}J>>>=z,O-=z,B.back+=z}if(J>>>=N,O-=N,B.back+=N,64&te){Z.msg="invalid distance code",B.mode=30;break}B.offset=W,B.extra=15&te,B.mode=24;case 24:if(B.extra){for(v=B.extra;O<v;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}B.offset+=J&(1<<B.extra)-1,J>>>=B.extra,O-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){Z.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(K===0)break e;if(ee=Q-K,B.offset>ee){if((ee=B.offset-ee)>B.whave&&B.sane){Z.msg="invalid distance too far back",B.mode=30;break}$=ee>B.wnext?(ee-=B.wnext,B.wsize-ee):B.wnext-ee,ee>B.length&&(ee=B.length),M=B.window}else M=le,$=Ce-B.offset,ee=B.length;for(K<ee&&(ee=K),K-=ee,B.length-=ee;le[Ce++]=M[$++],--ee;);B.length===0&&(B.mode=21);break;case 26:if(K===0)break e;le[Ce++]=B.length,K--,B.mode=21;break;case 27:if(B.wrap){for(;O<32;){if(ue===0)break e;ue--,J|=he[ae++]<<O,O+=8}if(Q-=K,Z.total_out+=Q,B.total+=Q,Q&&(Z.adler=B.check=B.flags?h(B.check,le,Q,Ce-Q):d(B.check,le,Q,Ce-Q)),Q=K,(B.flags?J:R(J))!==B.check){Z.msg="incorrect data check",B.mode=30;break}O=J=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;O<32;){if(ue===0)break e;ue--,J+=he[ae++]<<O,O+=8}if(J!==(4294967295&B.total)){Z.msg="incorrect length check",B.mode=30;break}O=J=0}B.mode=29;case 29:re=1;break e;case 30:re=-3;break e;case 31:return-4;case 32:default:return E}return Z.next_out=Ce,Z.avail_out=K,Z.next_in=ae,Z.avail_in=ue,B.hold=J,B.bits=O,(B.wsize||Q!==Z.avail_out&&B.mode<30&&(B.mode<27||pe!==4))&&Re(Z,Z.output,Z.next_out,Q-Z.avail_out)?(B.mode=31,-4):(Y-=Z.avail_in,Q-=Z.avail_out,Z.total_in+=Y,Z.total_out+=Q,B.total+=Q,B.wrap&&Q&&(Z.adler=B.check=B.flags?h(B.check,le,Q,Z.next_out-Q):d(B.check,le,Q,Z.next_out-Q)),Z.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(Y==0&&Q===0||pe===4)&&re===S&&(re=-5),re)},s.inflateEnd=function(Z){if(!Z||!Z.state)return E;var pe=Z.state;return pe.window&&(pe.window=null),Z.state=null,S},s.inflateGetHeader=function(Z,pe){var B;return Z&&Z.state?(2&(B=Z.state).wrap)==0?E:((B.head=pe).done=!1,S):E},s.inflateSetDictionary=function(Z,pe){var B,he=pe.length;return Z&&Z.state?(B=Z.state).wrap!==0&&B.mode!==11?E:B.mode===11&&d(1,pe,he,0)!==B.check?-3:Re(Z,pe,he,he)?(B.mode=31,-4):(B.havedict=1,S):E},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,s){var c=r("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,x,S,E,D,C,U,R){var I,P,H,q,ce,se,de,G,Te,Re=R.bits,Z=0,pe=0,B=0,he=0,le=0,ae=0,Ce=0,ue=0,K=0,J=0,O=null,Y=0,Q=new c.Buf16(16),ee=new c.Buf16(16),$=null,M=0;for(Z=0;Z<=15;Z++)Q[Z]=0;for(pe=0;pe<E;pe++)Q[x[S+pe]]++;for(le=Re,he=15;1<=he&&Q[he]===0;he--);if(he<le&&(le=he),he===0)return D[C++]=20971520,D[C++]=20971520,R.bits=1,0;for(B=1;B<he&&Q[B]===0;B++);for(le<B&&(le=B),Z=ue=1;Z<=15;Z++)if(ue<<=1,(ue-=Q[Z])<0)return-1;if(0<ue&&(y===0||he!==1))return-1;for(ee[1]=0,Z=1;Z<15;Z++)ee[Z+1]=ee[Z]+Q[Z];for(pe=0;pe<E;pe++)x[S+pe]!==0&&(U[ee[x[S+pe]]++]=pe);if(se=y===0?(O=$=U,19):y===1?(O=d,Y-=257,$=h,M-=257,256):(O=p,$=m,-1),Z=B,ce=C,Ce=pe=J=0,H=-1,q=(K=1<<(ae=le))-1,y===1&&852<K||y===2&&592<K)return 1;for(;;){for(de=Z-Ce,Te=U[pe]<se?(G=0,U[pe]):U[pe]>se?(G=$[M+U[pe]],O[Y+U[pe]]):(G=96,0),I=1<<Z-Ce,B=P=1<<ae;D[ce+(J>>Ce)+(P-=I)]=de<<24|G<<16|Te|0,P!==0;);for(I=1<<Z-1;J&I;)I>>=1;if(I!==0?(J&=I-1,J+=I):J=0,pe++,--Q[Z]==0){if(Z===he)break;Z=x[S+U[pe]]}if(le<Z&&(J&q)!==H){for(Ce===0&&(Ce=le),ce+=B,ue=1<<(ae=Z-Ce);ae+Ce<he&&!((ue-=Q[ae+Ce])<=0);)ae++,ue<<=1;if(K+=1<<ae,y===1&&852<K||y===2&&592<K)return 1;D[H=J&q]=le<<24|ae<<16|ce-C|0}}return J!==0&&(D[ce+J]=Z-Ce<<24|64<<16|0),R.bits=le,0}},{"../utils/common":41}],51:[function(r,o,s){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,s){var c=r("../utils/common"),d=0,h=1;function p(T){for(var A=T.length;0<=--A;)T[A]=0}var m=0,y=29,x=256,S=x+1+y,E=30,D=19,C=2*S+1,U=15,R=16,I=7,P=256,H=16,q=17,ce=18,se=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],de=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Re=new Array(2*(S+2));p(Re);var Z=new Array(2*E);p(Z);var pe=new Array(512);p(pe);var B=new Array(256);p(B);var he=new Array(y);p(he);var le,ae,Ce,ue=new Array(E);function K(T,A,X,ne,j){this.static_tree=T,this.extra_bits=A,this.extra_base=X,this.elems=ne,this.max_length=j,this.has_stree=T&&T.length}function J(T,A){this.dyn_tree=T,this.max_code=0,this.stat_desc=A}function O(T){return T<256?pe[T]:pe[256+(T>>>7)]}function Y(T,A){T.pending_buf[T.pending++]=255&A,T.pending_buf[T.pending++]=A>>>8&255}function Q(T,A,X){T.bi_valid>R-X?(T.bi_buf|=A<<T.bi_valid&65535,Y(T,T.bi_buf),T.bi_buf=A>>R-T.bi_valid,T.bi_valid+=X-R):(T.bi_buf|=A<<T.bi_valid&65535,T.bi_valid+=X)}function ee(T,A,X){Q(T,X[2*A],X[2*A+1])}function $(T,A){for(var X=0;X|=1&T,T>>>=1,X<<=1,0<--A;);return X>>>1}function M(T,A,X){var ne,j,ge=new Array(U+1),De=0;for(ne=1;ne<=U;ne++)ge[ne]=De=De+X[ne-1]<<1;for(j=0;j<=A;j++){var be=T[2*j+1];be!==0&&(T[2*j]=$(ge[be]++,be))}}function N(T){var A;for(A=0;A<S;A++)T.dyn_ltree[2*A]=0;for(A=0;A<E;A++)T.dyn_dtree[2*A]=0;for(A=0;A<D;A++)T.bl_tree[2*A]=0;T.dyn_ltree[2*P]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function te(T){8<T.bi_valid?Y(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function W(T,A,X,ne){var j=2*A,ge=2*X;return T[j]<T[ge]||T[j]===T[ge]&&ne[A]<=ne[X]}function z(T,A,X){for(var ne=T.heap[X],j=X<<1;j<=T.heap_len&&(j<T.heap_len&&W(A,T.heap[j+1],T.heap[j],T.depth)&&j++,!W(A,ne,T.heap[j],T.depth));)T.heap[X]=T.heap[j],X=j,j<<=1;T.heap[X]=ne}function F(T,A,X){var ne,j,ge,De,be=0;if(T.last_lit!==0)for(;ne=T.pending_buf[T.d_buf+2*be]<<8|T.pending_buf[T.d_buf+2*be+1],j=T.pending_buf[T.l_buf+be],be++,ne===0?ee(T,j,A):(ee(T,(ge=B[j])+x+1,A),(De=se[ge])!==0&&Q(T,j-=he[ge],De),ee(T,ge=O(--ne),X),(De=de[ge])!==0&&Q(T,ne-=ue[ge],De)),be<T.last_lit;);ee(T,P,A)}function ie(T,A){var X,ne,j,ge=A.dyn_tree,De=A.stat_desc.static_tree,be=A.stat_desc.has_stree,Le=A.stat_desc.elems,Pe=-1;for(T.heap_len=0,T.heap_max=C,X=0;X<Le;X++)ge[2*X]!==0?(T.heap[++T.heap_len]=Pe=X,T.depth[X]=0):ge[2*X+1]=0;for(;T.heap_len<2;)ge[2*(j=T.heap[++T.heap_len]=Pe<2?++Pe:0)]=1,T.depth[j]=0,T.opt_len--,be&&(T.static_len-=De[2*j+1]);for(A.max_code=Pe,X=T.heap_len>>1;1<=X;X--)z(T,ge,X);for(j=Le;X=T.heap[1],T.heap[1]=T.heap[T.heap_len--],z(T,ge,1),ne=T.heap[1],T.heap[--T.heap_max]=X,T.heap[--T.heap_max]=ne,ge[2*j]=ge[2*X]+ge[2*ne],T.depth[j]=(T.depth[X]>=T.depth[ne]?T.depth[X]:T.depth[ne])+1,ge[2*X+1]=ge[2*ne+1]=j,T.heap[1]=j++,z(T,ge,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],(function(Ve,Ze){var Dt,Mt,St,ht,Sn,cn,At=Ze.dyn_tree,Gn=Ze.max_code,Li=Ze.stat_desc.static_tree,ur=Ze.stat_desc.has_stree,Ir=Ze.stat_desc.extra_bits,zn=Ze.stat_desc.extra_base,It=Ze.stat_desc.max_length,cr=0;for(ht=0;ht<=U;ht++)Ve.bl_count[ht]=0;for(At[2*Ve.heap[Ve.heap_max]+1]=0,Dt=Ve.heap_max+1;Dt<C;Dt++)It<(ht=At[2*At[2*(Mt=Ve.heap[Dt])+1]+1]+1)&&(ht=It,cr++),At[2*Mt+1]=ht,Gn<Mt||(Ve.bl_count[ht]++,Sn=0,zn<=Mt&&(Sn=Ir[Mt-zn]),cn=At[2*Mt],Ve.opt_len+=cn*(ht+Sn),ur&&(Ve.static_len+=cn*(Li[2*Mt+1]+Sn)));if(cr!==0){do{for(ht=It-1;Ve.bl_count[ht]===0;)ht--;Ve.bl_count[ht]--,Ve.bl_count[ht+1]+=2,Ve.bl_count[It]--,cr-=2}while(0<cr);for(ht=It;ht!==0;ht--)for(Mt=Ve.bl_count[ht];Mt!==0;)Gn<(St=Ve.heap[--Dt])||(At[2*St+1]!==ht&&(Ve.opt_len+=(ht-At[2*St+1])*At[2*St],At[2*St+1]=ht),Mt--)}})(T,A),M(ge,Pe,T.bl_count)}function b(T,A,X){var ne,j,ge=-1,De=A[1],be=0,Le=7,Pe=4;for(De===0&&(Le=138,Pe=3),A[2*(X+1)+1]=65535,ne=0;ne<=X;ne++)j=De,De=A[2*(ne+1)+1],++be<Le&&j===De||(be<Pe?T.bl_tree[2*j]+=be:j!==0?(j!==ge&&T.bl_tree[2*j]++,T.bl_tree[2*H]++):be<=10?T.bl_tree[2*q]++:T.bl_tree[2*ce]++,ge=j,Pe=(be=0)===De?(Le=138,3):j===De?(Le=6,3):(Le=7,4))}function re(T,A,X){var ne,j,ge=-1,De=A[1],be=0,Le=7,Pe=4;for(De===0&&(Le=138,Pe=3),ne=0;ne<=X;ne++)if(j=De,De=A[2*(ne+1)+1],!(++be<Le&&j===De)){if(be<Pe)for(;ee(T,j,T.bl_tree),--be!=0;);else j!==0?(j!==ge&&(ee(T,j,T.bl_tree),be--),ee(T,H,T.bl_tree),Q(T,be-3,2)):be<=10?(ee(T,q,T.bl_tree),Q(T,be-3,3)):(ee(T,ce,T.bl_tree),Q(T,be-11,7));ge=j,Pe=(be=0)===De?(Le=138,3):j===De?(Le=6,3):(Le=7,4)}}p(ue);var k=!1;function v(T,A,X,ne){Q(T,(m<<1)+(ne?1:0),3),(function(j,ge,De,be){te(j),Y(j,De),Y(j,~De),c.arraySet(j.pending_buf,j.window,ge,De,j.pending),j.pending+=De})(T,A,X)}s._tr_init=function(T){k||((function(){var A,X,ne,j,ge,De=new Array(U+1);for(j=ne=0;j<y-1;j++)for(he[j]=ne,A=0;A<1<<se[j];A++)B[ne++]=j;for(B[ne-1]=j,j=ge=0;j<16;j++)for(ue[j]=ge,A=0;A<1<<de[j];A++)pe[ge++]=j;for(ge>>=7;j<E;j++)for(ue[j]=ge<<7,A=0;A<1<<de[j]-7;A++)pe[256+ge++]=j;for(X=0;X<=U;X++)De[X]=0;for(A=0;A<=143;)Re[2*A+1]=8,A++,De[8]++;for(;A<=255;)Re[2*A+1]=9,A++,De[9]++;for(;A<=279;)Re[2*A+1]=7,A++,De[7]++;for(;A<=287;)Re[2*A+1]=8,A++,De[8]++;for(M(Re,S+1,De),A=0;A<E;A++)Z[2*A+1]=5,Z[2*A]=$(A,5);le=new K(Re,se,x+1,S,U),ae=new K(Z,de,0,E,U),Ce=new K(new Array(0),G,0,D,I)})(),k=!0),T.l_desc=new J(T.dyn_ltree,le),T.d_desc=new J(T.dyn_dtree,ae),T.bl_desc=new J(T.bl_tree,Ce),T.bi_buf=0,T.bi_valid=0,N(T)},s._tr_stored_block=v,s._tr_flush_block=function(T,A,X,ne){var j,ge,De=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=(function(be){var Le,Pe=4093624447;for(Le=0;Le<=31;Le++,Pe>>>=1)if(1&Pe&&be.dyn_ltree[2*Le]!==0)return d;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return h;for(Le=32;Le<x;Le++)if(be.dyn_ltree[2*Le]!==0)return h;return d})(T)),ie(T,T.l_desc),ie(T,T.d_desc),De=(function(be){var Le;for(b(be,be.dyn_ltree,be.l_desc.max_code),b(be,be.dyn_dtree,be.d_desc.max_code),ie(be,be.bl_desc),Le=D-1;3<=Le&&be.bl_tree[2*Te[Le]+1]===0;Le--);return be.opt_len+=3*(Le+1)+5+5+4,Le})(T),j=T.opt_len+3+7>>>3,(ge=T.static_len+3+7>>>3)<=j&&(j=ge)):j=ge=X+5,X+4<=j&&A!==-1?v(T,A,X,ne):T.strategy===4||ge===j?(Q(T,2+(ne?1:0),3),F(T,Re,Z)):(Q(T,4+(ne?1:0),3),(function(be,Le,Pe,Ve){var Ze;for(Q(be,Le-257,5),Q(be,Pe-1,5),Q(be,Ve-4,4),Ze=0;Ze<Ve;Ze++)Q(be,be.bl_tree[2*Te[Ze]+1],3);re(be,be.dyn_ltree,Le-1),re(be,be.dyn_dtree,Pe-1)})(T,T.l_desc.max_code+1,T.d_desc.max_code+1,De+1),F(T,T.dyn_ltree,T.dyn_dtree)),N(T),ne&&te(T)},s._tr_tally=function(T,A,X){return T.pending_buf[T.d_buf+2*T.last_lit]=A>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&A,T.pending_buf[T.l_buf+T.last_lit]=255&X,T.last_lit++,A===0?T.dyn_ltree[2*X]++:(T.matches++,A--,T.dyn_ltree[2*(B[X]+x+1)]++,T.dyn_dtree[2*O(A)]++),T.last_lit===T.lit_bufsize-1},s._tr_align=function(T){Q(T,2,3),ee(T,P,Re),(function(A){A.bi_valid===16?(Y(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):8<=A.bi_valid&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)})(T)}},{"../utils/common":41}],53:[function(r,o,s){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,s){(function(c){(function(d,h){if(!d.setImmediate){var p,m,y,x,S=1,E={},D=!1,C=d.document,U=Object.getPrototypeOf&&Object.getPrototypeOf(d);U=U&&U.setTimeout?U:d,p={}.toString.call(d.process)==="[object process]"?function(H){nt.nextTick(function(){I(H)})}:(function(){if(d.postMessage&&!d.importScripts){var H=!0,q=d.onmessage;return d.onmessage=function(){H=!1},d.postMessage("","*"),d.onmessage=q,H}})()?(x="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",P,!1):d.attachEvent("onmessage",P),function(H){d.postMessage(x+H,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(H){I(H.data)},function(H){y.port2.postMessage(H)}):C&&"onreadystatechange"in C.createElement("script")?(m=C.documentElement,function(H){var q=C.createElement("script");q.onreadystatechange=function(){I(H),q.onreadystatechange=null,m.removeChild(q),q=null},m.appendChild(q)}):function(H){setTimeout(I,0,H)},U.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var q=new Array(arguments.length-1),ce=0;ce<q.length;ce++)q[ce]=arguments[ce+1];var se={callback:H,args:q};return E[S]=se,p(S),S++},U.clearImmediate=R}function R(H){delete E[H]}function I(H){if(D)setTimeout(I,0,H);else{var q=E[H];if(q){D=!0;try{(function(ce){var se=ce.callback,de=ce.args;switch(de.length){case 0:se();break;case 1:se(de[0]);break;case 2:se(de[0],de[1]);break;case 3:se(de[0],de[1],de[2]);break;default:se.apply(h,de)}})(q)}finally{R(H),D=!1}}}}function P(H){H.source===d&&typeof H.data=="string"&&H.data.indexOf(x)===0&&I(+H.data.slice(x.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ix);var O3=Ix.exports;const F3=Aw(O3);var tu={exports:{}},G3={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function z3(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,r){return G3[r]}):t}var V3=z3,Fd=V3,Uv=jd.Stream,q3="    ";function H3(t,e){typeof e!="object"&&(e={indent:e});var r=e.stream?new Uv:null,o="",s=!1,c=e.indent?e.indent===!0?q3:e.indent:"",d=!0;function h(S){d?nt.nextTick(S):S()}function p(S,E){if(E!==void 0&&(o+=E),S&&!s&&(r=r||new Uv,s=!0),S&&s){var D=o;h(function(){r.emit("data",D)}),o=""}}function m(S,E){ch(p,nu(S,c,c?1:0),E)}function y(){if(r){var S=o;h(function(){r.emit("data",S),r.emit("end"),r.readable=!1,r.emit("close")})}}function x(S){var E=S.encoding||"UTF-8",D={version:"1.0",encoding:E};S.standalone&&(D.standalone=S.standalone),m({"?xml":{_attr:D}}),o=o.replace("/>","?>")}return h(function(){d=!1}),e.declaration&&x(e.declaration),t&&t.forEach?t.forEach(function(S,E){var D;E+1===t.length&&(D=y),m(S,D)}):m(t,y),r?(r.readable=!0,r):o}function K3(){var t=Array.prototype.slice.call(arguments),e={_elem:nu(t)};return e.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var o=this,s=this._elem.indent;ch(this.append,nu(r,s,this._elem.icount+(s?1:0)),function(){o.append(!0)})},e.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},e}function J3(t,e){return new Array(e||0).join(t||"")}function nu(t,e,r){r=r||0;var o=J3(e,r),s,c=t,d=!1;if(typeof t=="object"){var h=Object.keys(t);if(s=h[0],c=t[s],c&&c._elem)return c._elem.name=s,c._elem.icount=r,c._elem.indent=e,c._elem.indents=o,c._elem.interrupt=c,c._elem}var p=[],m=[],y;function x(S){var E=Object.keys(S);E.forEach(function(D){p.push(Y3(D,S[D]))})}switch(typeof c){case"object":if(c===null)break;c._attr&&x(c._attr),c._cdata&&m.push(("<![CDATA["+c._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),c.forEach&&(y=!1,m.push(""),c.forEach(function(S){if(typeof S=="object"){var E=Object.keys(S)[0];E=="_attr"?x(S._attr):m.push(nu(S,e,r+1))}else m.pop(),y=!0,m.push(Fd(S))}),y||m.push(""));break;default:m.push(Fd(c))}return{name:s,interrupt:d,attributes:p,content:m,icount:r,indents:o,indent:e}}function ch(t,e,r){if(typeof e!="object")return t(!1,e);var o=e.interrupt?1:e.content.length;function s(){for(;e.content.length;){var d=e.content.shift();if(d!==void 0){if(c(d))return;ch(t,d)}}t(!1,(o>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!r?`
`:"")),r&&r()}function c(d){return d.interrupt?(d.interrupt.append=t,d.interrupt.end=s,d.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(o?e.name?">":"":e.name?"/>":"")+(e.indent&&o>1?`
`:"")),!o)return t(!1,e.indent?`
`:"");c(e)||s()}function Y3(t,e){return t+'="'+Fd(e)+'"'}tu.exports=H3;tu.exports.element=tu.exports.Element=K3;var W3=tu.exports;const Gt=Aw(W3),Lv=0,Bv=32,$3=32,X3=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==$3)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const s=r.replace(/(..)/g,"$1 ").trim().split(" ").map(p=>parseInt(p,16));s.reverse();const d=t.slice(Lv,Bv).map((p,m)=>p^s[m%s.length]);return Buffer.concat([t.slice(0,Lv),d,t.slice(Bv)])};class Z3{format(e,r={stack:[]}){const o=e.prepForXml(r);if(o)return o;throw Error("XMLComponent did not format correctly")}}class j3{replace(e,r,o){let s=e;return r.forEach((c,d)=>{s=s.replace(new RegExp(`{${c.fileName}}`,"g"),(o+d).toString())}),s}getMediaData(e,r){return r.Array.filter(o=>e.search(`{${o.fileName}}`)>0)}}class Q3{replace(e,r){let o=e;for(const s of r)o=o.replace(new RegExp(`{${s.reference}-${s.instance}}`,"g"),s.numId.toString());return o}}class eU{constructor(){Se(this,"formatter"),Se(this,"imageReplacer"),Se(this,"numberingReplacer"),this.formatter=new Z3,this.imageReplacer=new j3,this.numberingReplacer=new Q3}compile(e,r){const o=new F3,s=this.xmlifyFile(e,r),c=new Map(Object.entries(s));for(const[,d]of c)if(Array.isArray(d))for(const h of d)o.file(h.path,h.data);else o.file(d.path,d.data);for(const{stream:d,fileName:h}of e.Media.Array)o.file(`word/media/${h}`,d);for(const{data:d,name:h,fontKey:p}of e.FontTable.fontOptionsWithKey){const[m]=h.split(".");o.file(`word/fonts/${m}.odttf`,X3(d,p))}return o}xmlifyFile(e,r){const o=e.Document.Relationships.RelationshipCount+1,s=Gt(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(s,e.Media);return{Relationships:{data:(c.forEach((d,h)=>{e.Document.Relationships.createRelationship(o+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),Gt(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const d=this.imageReplacer.replace(s,c,o);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const d=Gt(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Gt(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Gt(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Gt(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,h)=>{const p=Gt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,x)=>{d.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Gt(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,h)=>{const p=Gt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,x)=>{d.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Gt(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:e.Headers.map((d,h)=>{const p=Gt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:e.Footers.map((d,h)=>{const p=Gt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:Gt(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Gt(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Gt(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Gt(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Gt(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Gt(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Gt(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Gt(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Gt(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const tU={WITH_2_BLANKS:"  "},ls=t=>t===!0?tU.WITH_2_BLANKS:t===!1?void 0:t;class kx{static toString(e,r){return kl(this,null,function*(){return yield this.compiler.compile(e,ls(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,r){return kl(this,null,function*(){return yield this.compiler.compile(e,ls(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,r){return kl(this,null,function*(){return yield this.compiler.compile(e,ls(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,r){return kl(this,null,function*(){return yield this.compiler.compile(e,ls(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,r){const o=new jd.Stream;return this.compiler.compile(e,ls(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(c=>{o.emit("data",c),o.emit("end")}),o}}Se(kx,"compiler",new eU);const Pv=async(t,e)=>{if(!t||t.length===0)return null;const r=d=>d?d.split(/(\[\[.*?\]\])/g).filter(Boolean).map(p=>{if(p.startsWith("[[")&&p.endsWith("]]")){const m=p.slice(2,-2);return new Ai({text:m,style:"LinkStyle"})}return new Ai(p)}):[],o=[];o.push(new on({text:e==="GDD"?"Game Design Document":"Roteiro do Jogo",heading:Eo.TITLE,alignment:xn.CENTER}));const s=[...new Set(t.map(d=>d.category))];for(const d of s){o.push(new on({text:d,heading:Eo.HEADING_1,spacing:{before:400,after:200}}));const h=t.filter(p=>p.category===d);for(const p of h){if(o.push(new on({text:p.title,heading:Eo.HEADING_2,spacing:{before:300,after:150}})),!p.content||p.content.length===0){o.push(new on({children:[new Ai({text:"[Este documento está vazio.]",italics:!0,color:"808080"})],spacing:{after:200}}));continue}for(const m of p.content)switch(m.type){case"heading":{const y=m.level===1?Eo.HEADING_3:m.level===2?Eo.HEADING_4:Eo.HEADING_5;o.push(new on({children:r(m.text),heading:y}));break}case"paragraph":{o.push(new on({children:r(m.text),spacing:{after:120}}));break}case"blockquote":{o.push(new on({children:r(m.text),style:"IntenseQuote"}));break}case"definition_list":{if(Array.isArray(m.items))for(const y of m.items)o.push(new on({children:[new Ai({text:y.term,bold:!0})]})),o.push(new on({children:r(y.description),indent:{left:400},spacing:{after:100}}));break}case"list":{if(Array.isArray(m.items))for(const y of m.items)typeof y=="string"&&o.push(new on({children:r(y),...m.style==="ordered"?{numbering:{reference:"default-numbering",level:0}}:{bullet:{level:0}}}));break}case"image":{if(m.src&&m.src.includes(","))try{const y=m.src.split(",")[1],x=atob(y),S=x.length,E=new Uint8Array(S);for(let D=0;D<S;D++)E[D]=x.charCodeAt(D);o.push(new on({children:[new w6({data:E,width:500,height:375})],alignment:xn.CENTER})),m.caption&&o.push(new on({children:r(m.caption),style:"Caption"}))}catch(y){console.error("Erro ao processar imagem para o docx:",y),o.push(new on({children:[new Ai({text:`[Falha ao carregar imagem: ${m.id}]`,color:"FF0000"})]}))}break}}}}const c=new P3({creator:"AI-Powered Interactive GDD",title:e,numbering:{config:[{reference:"default-numbering",levels:[{level:0,format:"decimal",text:"%1.",alignment:xn.START}]}]},styles:{paragraphStyles:[{id:"Caption",name:"Caption",basedOn:"Normal",next:"Normal",run:{italics:!0,size:18,color:"808080"},paragraph:{alignment:xn.CENTER,spacing:{after:200}}},{id:"IntenseQuote",name:"Intense Quote",basedOn:"Normal",next:"Normal",run:{color:"5A5A5A",italics:!0},paragraph:{indentation:{left:400},border:{left:{color:"auto",space:4,style:"single",size:6}},spacing:{before:200,after:200}}}],characterStyles:[{id:"LinkStyle",name:"Link Style",basedOn:"Default",run:{color:"0000FF",underline:{type:lh.SINGLE,color:"0000FF"}}}]},sections:[{children:o}]});return kx.toBlob(c)},nU="Kael-is-the-key-to-stop-the-end-of-the-world-prophecy",Ux=new TextEncoder,rU=new TextDecoder,Lx=t=>{const e=Ux.encode(nU),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t[o]^e[o%e.length];return r};function iU(t){const e=JSON.stringify(t),r=Ux.encode(e),o=Lx(r),s=8192;let c="";for(let d=0;d<o.length;d+=s){const h=o.subarray(d,d+s);c+=String.fromCharCode.apply(null,h)}return btoa(c)}function oU(t){const e=atob(t),r=new Uint8Array(e.length).map((c,d)=>e.charCodeAt(d)),o=Lx(r),s=rU.decode(o);return JSON.parse(s)}const Co="currentCloudVersionMeta";function aU(){var sa;const{documents:t,scriptDocuments:e,setDocuments:r,setScriptDocuments:o,isDBLoading:s,dbError:c,viewMode:d,setViewMode:h,activeDocuments:p,activeDocumentId:m,categories:y,activeDocument:x,totalWordCount:S,searchQuery:E,setSearchQuery:D,searchResults:C,scrollToHeading:U,handleSelectDocument:R,handleSelectSearchResult:I,handleNavigate:P,handleDidScrollToHeading:H,handleUpdateBlock:q,handleSetContent:ce,handleUpdateBlockContent:se,handleUpdateCategoryName:de,handleUpdateDocumentTitle:G,handleReorderDocuments:Te,handleReorderCategories:Re}=T5(),{googleAccessToken:Z,authError:pe,handleGoogleAuthClick:B}=S5(),[he,le]=Ie.useState(320),[ae,Ce]=Ie.useState(!1),[ue,K]=Ie.useState(320),J=Ie.useRef(!1),[O,Y]=Ie.useState(!1),[Q,ee]=Ie.useState(!1),[$,M]=Ie.useState(!1),[N,te]=Ie.useState(!1),[W,z]=Ie.useState(!1),[F,ie]=Ie.useState(null),[b,re]=Ie.useState(null),[k,v]=Ie.useState({isOpen:!1,docId:null,blockIndex:null,itemIndex:void 0,initialText:""}),[T,A]=Ie.useState({isOpen:!1,targetDoc:null,references:[]}),[X,ne]=Ie.useState({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),[j,ge]=Ie.useState(null),[De,be]=Ie.useState(!1),[Le,Pe]=Ie.useState([]),[Ve,Ze]=Ie.useState(!1),Dt=Ie.useRef(null),[Mt,St]=Ie.useState(!1),ht=Ie.useRef(null),[Sn,cn]=Ie.useState(""),[At,Gn]=Ie.useState(0),[Li,ur]=Ie.useState(-1),[Ir,zn]=Ie.useState(!1),[It,cr]=Ie.useState(""),[hn,Zo]=Ie.useState(""),[Bi,kr]=Ie.useState(!1),[vs,Jt]=Ie.useState(null),[Vn,qt]=Ie.useState(!0),[Pt,Xn]=Ie.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[jo,Qo]=Ie.useState(!1),[pu,Pi]=Ie.useState(!1),[Zn,Oi]=Ie.useState(null),[Ur,fr]=Ie.useState(!1),[si,dr]=Ie.useState(null),[Rt,Fi]=Ie.useState(null),Gi=Ie.useRef(t),qn=Ie.useRef(e);Ie.useEffect(()=>{Gi.current=t},[t]),Ie.useEffect(()=>{qn.current=e},[e]),Ie.useEffect(()=>{if(!s){const Ue=localStorage.getItem("cloudSyncUrl"),Be=localStorage.getItem("cloudSyncKey");Ue&&Be?(cr(Ue),Zo(Be)):(qt(!1),zn(!0))}},[s]),Ie.useEffect(()=>{!s&&!Ir&&(async()=>{if(!It||!hn)return;const Be=localStorage.getItem(Co);if(Be)try{const Je=JSON.parse(Be),ze=await x0(It,hn);ze&&ze.id!==Je.id&&new Date(ze.timestamp)>new Date(Je.timestamp)&&Fi(ze)}catch(Je){console.error("Failed to check for new versions:",Je)}})()},[It,hn,s,Ir]),Ie.useEffect(()=>{const Ue=Je=>{if(!J.current)return;const ze=Math.max(240,Math.min(Je.clientX,600));le(ze)},Be=()=>{J.current=!1,document.body.style.cursor="auto",document.body.style.userSelect="auto"};return window.addEventListener("mousemove",Ue),window.addEventListener("mouseup",Be),()=>{window.removeEventListener("mousemove",Ue),window.removeEventListener("mouseup",Be)}},[]),Ie.useEffect(()=>{const Ue=Be=>{ht.current&&!ht.current.contains(Be.target)&&St(!1)};return document.addEventListener("mousedown",Ue),()=>{document.removeEventListener("mousedown",Ue)}},[]),Ie.useEffect(()=>{cn(""),Gn(0),ur(-1)},[x==null?void 0:x.id]);const Lr=Ue=>{ae||(Ue.preventDefault(),J.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none")},mu=()=>{Ce(Ue=>{const Be=!Ue;return Be?(K(he),le(0)):le(ue),Be})};Ie.useEffect(()=>{c&&ge(c)},[c]),Ie.useEffect(()=>{pe&&ge(pe)},[pe]);const ws=Ue=>{cn(Ue),ur(Ue.trim()?0:-1)},xs=()=>{At>0&&ur(Ue=>(Ue-1+At)%At)},gu=()=>{At>0&&ur(Ue=>(Ue+1)%At)},zi=(Ue,Be)=>{cn(E),I(Ue,Be)},li=async(Ue,Be)=>{if(!It||!hn){console.log("Cloud sync not configured, skipping automatic save.");return}const Je=Be==="gdd"?Ue:Gi.current,ze=Be==="script"?Ue:qn.current;if(!Je||!ze){console.warn("Skipping auto-save because one of the document sets is not available.");return}Jt("Salvando backup automático na nuvem...");try{const et=await v0(It,hn,{gdd:Je,script:ze},{type:"automatic"});localStorage.setItem(Co,JSON.stringify(et)),Jt("Backup automático salvo com sucesso!")}catch(He){const et=He instanceof Error?`Falha no backup automático: ${He.message}`:"Falha no backup automático.";Jt(et),console.error(et,He)}finally{setTimeout(()=>{Jt(He=>He!=null&&He.includes("backup")?null:He)},5e3)}},Hn=async(Ue,Be)=>{Y(!1),ge(null);const Je=(d==="gdd"?t:e)||[],ze=d==="gdd"?r:o,He=d==="gdd"?"GDD":"Roteiro";ne({isLoading:!0,message:"A IA está analisando sua ideia...",currentTokens:0,estimatedTokens:Be.maxOutputTokens});const et=qe=>{ne(st=>({...st,currentTokens:qe}))},je=qe=>{ne(st=>({...st,message:qe}))};try{const{payload:qe,rawJson:st}=await l5(Ue,Je,He,et,je,Be);re({...qe,rawJson:st}),ne(fn=>({...fn,message:`Integrando sugestão da IA: ${qe.summary}`}));let bt=[];ze(fn=>(bt=E0(fn||[],qe),bt)),li(bt,d);const Yt=qe.newDocuments;Yt.length>0?R(Yt[0].id):setTimeout(()=>{!bt.some(Hi=>Hi.id===m)&&bt.length>0&&R(bt[0].id)},0)}catch(qe){console.error(qe),ge(qe instanceof Error?qe.message:"Ocorreu um erro desconhecido.")}finally{setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},ea=async(Ue,Be)=>{ee(!1),ge(null);const Je=(d==="gdd"?t:e)||[],ze=d==="gdd"?r:o,He=d==="gdd"?"GDD":"Roteiro";ne({isLoading:!0,message:"A IA está reestruturando os documentos...",currentTokens:0,estimatedTokens:Be.maxOutputTokens});const et=qe=>{ne(st=>({...st,currentTokens:qe}))},je=qe=>{ne(st=>({...st,message:qe}))};try{const{payload:qe,rawJson:st}=await c5(Ue,Je,He,et,je,Be);re({...qe,rawJson:st});let bt=[];ze(Yt=>(bt=E0(Yt||[],qe),bt)),li(bt,d),ne(Yt=>({...Yt,message:qe.summary||"Documentos atualizados com sucesso!"})),setTimeout(()=>{!bt.some(fn=>fn.id===m)&&bt.length>0&&R(bt[0].id)},0)}catch(qe){console.error(qe),ge(qe instanceof Error?qe.message:`Ocorreu um erro desconhecido durante a atualização global do ${He}.`)}finally{setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1e3)}},Ts=()=>{ge(null);try{const Be=iU({gdd:t,script:e}),Je=new Blob([Be],{type:"text/plain"}),ze=URL.createObjectURL(Je),He=document.createElement("a");He.href=ze,He.download="gdd-e-roteiro-data.json",document.body.appendChild(He),He.click(),document.body.removeChild(He),URL.revokeObjectURL(ze)}catch(Ue){console.error("Falha ao fazer o download dos dados",Ue),ge(Ue instanceof Error?Ue.message:"Falha ao fazer o download dos dados.")}},jn=Ue=>{try{let Be;try{Be=JSON.parse(Ue)}catch(ze){try{Be=oU(Ue)}catch(He){throw console.error("Falha na descriptografia e na análise JSON:",{jsonError:ze,decryptError:He}),new Error("Formato de arquivo inválido. O arquivo deve ser um JSON válido ou um arquivo criptografado válido deste aplicativo.")}}const Je=ze=>Array.isArray(ze)&&ze.every(He=>He&&typeof He=="object"&&"id"in He&&"title"in He&&"category"in He&&"content"in He);if(localStorage.removeItem(Co),Be&&typeof Be=="object"&&"gdd"in Be&&"script"in Be&&!Array.isArray(Be)){if(!Je(Be.gdd)||!Je(Be.script))throw new Error("Formato de arquivo inválido. O arquivo combinado deve conter arrays de documentos válidos para GDD e Roteiro.");r(Be.gdd),o(Be.script)}else if(Je(Be))r(Be);else throw new Error("Formato de arquivo desconhecido ou inválido. O arquivo deve conter um GDD e Roteiro combinados ou apenas um GDD antigo.")}catch(Be){console.error("Falha ao analisar o arquivo carregado",Be),ge(Be instanceof Error?Be.message:"Falha ao processar o arquivo. Certifique-se de que é um arquivo JSON válido ou um arquivo criptografado válido deste aplicativo.")}finally{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},ta=()=>{z(!1),ge(null);const Ue=document.createElement("input");Ue.type="file",Ue.accept="application/json,.json,text/plain",Ue.onchange=Be=>{var et;const ze=(et=Be.target.files)==null?void 0:et[0];if(!ze)return;ne({isLoading:!0,message:"Processando arquivo...",currentTokens:0,estimatedTokens:0});const He=new FileReader;He.onload=je=>{var st;const qe=(st=je.target)==null?void 0:st.result;typeof qe=="string"&&jn(qe)},He.onerror=()=>{ge("Falha ao ler o arquivo."),ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},He.readAsText(ze)},Ue.click()},na=async Ue=>{z(!1),ge(null);const Be=Ue.match(/file\/d\/([a-zA-Z0-9_-]+)/);if(!Be||!Be[1]){ge("URL do Google Drive inválida. Certifique-se de que é um link de compartilhamento de arquivo.");return}const Je=Be[1];ne({isLoading:!0,message:"Baixando arquivo do Google Drive...",currentTokens:0,estimatedTokens:0});try{const ze=`https://www.googleapis.com/drive/v3/files/${Je}?alt=media&key=PLACEHOLDER_API_KEY`,He=await fetch(ze);if(He.ok){const qe=await He.text();ne(st=>({...st,message:"Processando arquivo público..."})),jn(qe);return}if(!Z)throw new Error("Não foi possível buscar o arquivo público. Se for um arquivo privado, por favor, conecte sua conta do Google primeiro.");ne(qe=>({...qe,message:"Tentando acesso privado..."}));const et=await fetch(`https://www.googleapis.com/drive/v3/files/${Je}?alt=media`,{headers:{Authorization:`Bearer ${Z}`}});if(!et.ok)throw et.status===401?new Error("Não autorizado. Sua sessão do Google pode ter expirado. Por favor, conecte-se novamente."):new Error(`Falha ao buscar o arquivo do Google Drive: ${et.statusText}`);const je=await et.text();ne(qe=>({...qe,message:"Processando arquivo privado..."})),jn(je)}catch(ze){console.error("Falha ao carregar do Google Drive",ze),ge(ze instanceof Error?ze.message:"Ocorreu um erro desconhecido ao carregar do Google Drive."),ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},yu=async()=>{ge(null),ne({isLoading:!0,message:"Gerando arquivos .docx...",currentTokens:0,estimatedTokens:0});try{const Ue=(ze,He)=>{const et=URL.createObjectURL(ze),je=document.createElement("a");je.href=et,je.download=He,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(et)},Be=await Pv(t,"GDD");Be&&Ue(Be,"GDD.docx"),await new Promise(ze=>setTimeout(ze,200));const Je=await Pv(e,"Roteiro");Je&&Ue(Je,"Roteiro.docx"),ne(ze=>({...ze,message:"Documentos gerados com sucesso!"}))}catch(Ue){console.error("Falha ao gerar documentos",Ue),ge(Ue instanceof Error?Ue.message:"Falha ao gerar os documentos.")}finally{setTimeout(()=>{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},1500)}},Ss=(Ue,Be,Je,ze)=>{v({isOpen:!0,docId:Ue,blockIndex:Be,initialText:Je,itemIndex:ze})},pn=async(Ue,Be)=>{const{docId:Je,blockIndex:ze,itemIndex:He,initialText:et}=k;if(Je===null||ze===null||!et)return;v({...k,isOpen:!1}),ge(null);const je=Math.round(x5(et)*1.5);ne({isLoading:!0,message:"A IA está aprimorando o texto...",currentTokens:0,estimatedTokens:je});const qe=st=>{ne(bt=>({...bt,currentTokens:st}))};try{const Yt=await u5(et,Ue,Be?(d==="gdd"?t:e)||[]:void 0,qe);q(Je,ze,Yt,He)}catch(st){console.error("Falha ao aprimorar o texto",st),ge(st instanceof Error?st.message:"Falha ao aprimorar o texto.")}finally{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},ra=Ue=>{const Be=[...t||[],...e||[]],Je=Be.find(je=>je.id===Ue);if(!Je)return;const ze=[],He=new RegExp(`(\\[\\[${Je.title.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\])`,"gi"),et=je=>je.split(He).map((qe,st)=>He.test(qe)?_.jsx("strong",{className:"bg-yellow-400/30 text-yellow-200",children:qe},st):qe);Be.forEach(je=>{je.id!==Je.id&&je.content.forEach(qe=>{let st=[];(qe.type==="heading"||qe.type==="paragraph")&&qe.text?st.push(qe.text):qe.type==="list"&&qe.items?st.push(...qe.items.filter(Boolean)):qe.type==="image"&&qe.caption&&st.push(qe.caption),st.forEach(bt=>{He.test(bt)&&ze.push({docId:je.id,docTitle:je.title,category:je.category,snippet:_.jsx(_.Fragment,{children:et(bt)})})})})}),A({isOpen:!0,targetDoc:Je,references:ze})},vu=()=>{A({isOpen:!1,targetDoc:null,references:[]})},Vi=()=>{be(Ue=>!Ue)},Es=()=>{Pe([]),Dt.current=null},qi=async Ue=>{if(!t||!e)return;const Be={role:"user",text:Ue};Pe(Je=>[...Je,Be]),Ze(!0);try{Dt.current||(Dt.current=f5(t,e));const ze={role:"model",text:(await Dt.current.sendMessage({message:Ue})).text};Pe(He=>[...He,ze])}catch(Je){console.error("Erro na consulta avançada do chat:",Je);const ze={role:"model",text:"Desculpe, ocorreu um erro ao processar sua pergunta. Por favor, tente novamente."};Pe(He=>[...He,ze])}finally{Ze(!1)}},wu=(Ue,Be)=>{ie({docId:Ue,insertionIndex:Be}),te(!0)},mn=async Ue=>{if(!F)return;const{docId:Be,insertionIndex:Je}=F,ze=(t||[]).some(je=>je.id===Be),et=((ze?t:e)||[]).find(je=>je.id===Be);if(!et){ge("Documento alvo para geração de imagem não encontrado.");return}te(!1),ge(null);try{ne({isLoading:!0,message:"A IA está criando um prompt de imagem detalhado...",currentTokens:0,estimatedTokens:0});const je=await d5(et,Je,[...t||[],...e||[]],Ue);ne(hr=>({...hr,message:"A IA está gerando a imagem..."}));const{base64:qe,mimeType:st}=await h5(je),bt={type:"image",id:`img-ai-${Date.now()}`,src:`data:${st};base64,${qe}`,caption:je},Yt=[...et.content];Yt.splice(Je,0,bt);const fn=ze?r:o,Hi=new Date().toISOString();fn(hr=>(hr||[]).map(Ki=>Ki.id===Be?{...Ki,content:Yt,lastEdited:Hi}:Ki)),ne(hr=>({...hr,message:"Imagem gerada e inserida com sucesso!"}))}catch(je){console.error("Falha ao gerar a imagem com IA",je),ge(je instanceof Error?je.message:"Ocorreu um erro desconhecido durante a geração da imagem.")}finally{ie(null),setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},ia=async(Ue,Be)=>{if(cr(Ue),Zo(Be),localStorage.setItem("cloudSyncUrl",Ue),localStorage.setItem("cloudSyncKey",Be),Jt("Configurações salvas com sucesso!"),!Vn){zn(!1),qt(!0);const ze=JSON.stringify(Gi.current)===JSON.stringify(us),He=JSON.stringify(qn.current)===JSON.stringify(cs);if(ze&&He){ne({isLoading:!0,message:"Buscando a versão mais recente da nuvem...",currentTokens:0,estimatedTokens:0});try{const et=await x0(Ue,Be);if(et){ne(qe=>({...qe,message:"Baixando a versão mais recente..."}));const je=await w0(Ue,Be,et.id);r(je.gdd),o(je.script),localStorage.setItem(Co,JSON.stringify(et)),ne(qe=>({...qe,message:"Versão mais recente carregada com sucesso!"}))}else ne(je=>({...je,message:"Nenhuma versão encontrada na nuvem. Mantendo documentos padrão."}))}catch(et){console.error("Falha ao buscar automaticamente a versão mais recente:",et),ge(et instanceof Error?et.message:"Não foi possível carregar a versão mais recente da nuvem.")}finally{setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}}}setTimeout(()=>Jt(null),3e3)},_s=()=>{if(!It||!hn){Jt("Erro: URL do Worker ou Chave não configurada.");return}Qo(!0)},oa=async Ue=>{kr(!0),Jt("Enviando versão para a nuvem..."),Qo(!1);try{const Je=await v0(It,hn,{gdd:t||[],script:e||[]},{type:"manual",name:Ue});Jt(`Versão "${Je.name}" salva com sucesso!`),localStorage.setItem(Co,JSON.stringify(Je))}catch(Be){Jt(Be instanceof Error?`Erro no upload: ${Be.message}`:"Erro desconhecido no upload.")}finally{kr(!1),setTimeout(()=>Jt(null),5e3)}},Br=async()=>{if(!It||!hn){Jt("Erro: URL do Worker ou Chave não configurada.");return}fr(!0),dr(null),Oi(null),Pi(!0);try{const Ue=await m5(It,hn);Ue.manual.sort((Be,Je)=>new Date(Je.timestamp).getTime()-new Date(Be.timestamp).getTime()),Ue.automatic.sort((Be,Je)=>new Date(Je.timestamp).getTime()-new Date(Be.timestamp).getTime()),Oi(Ue)}catch(Ue){dr(Ue instanceof Error?Ue.message:"Erro desconhecido ao buscar versões.")}finally{fr(!1)}},aa=(Ue,Be)=>{Xn({isOpen:!0,title:"Confirmar Carregamento de Versão",message:"Isso substituirá seus documentos locais pelos da versão selecionada na nuvem. Esta ação não pode ser desfeita. Deseja continuar?",onConfirm:async()=>{Pi(!1),kr(!0),Jt("Baixando versão da nuvem...");try{const ze=await w0(It,hn,Ue);Jt("Dados recebidos. Atualizando documentos..."),r(ze.gdd),o(ze.script);let He=Be;!He&&Zn&&(He=[...Zn.manual,...Zn.automatic].find(je=>je.id===Ue)),He&&localStorage.setItem(Co,JSON.stringify(He)),Jt("Dados carregados da nuvem com sucesso!")}catch(ze){Jt(ze instanceof Error?`Erro no download: ${ze.message}`:"Erro desconhecido no download.")}finally{kr(!1),setTimeout(()=>Jt(null),5e3)}}})};return _.jsxs("div",{className:"flex h-screen font-sans relative",children:[(X.isLoading||s)&&_.jsx(xS,{message:s?"Carregando documentos...":X.message,currentTokens:X.currentTokens,estimatedTokens:X.estimatedTokens}),_.jsx(j1,{width:he,title:d==="gdd"?"GDD Explorer":"Roteiro Explorer",documents:p,categories:y,activeDocumentId:m,onSelectDocument:R,onUpdateCategoryName:de,onUpdateDocumentTitle:G,onReorderDocuments:Te,onReorderCategories:Re,onFindReferences:ra,totalWordCount:S,searchQuery:E,onSearchChange:D,searchResults:C,onSelectSearchResult:zi}),!ae&&_.jsx("div",{onMouseDown:Lr,className:"w-1.5 flex-shrink-0 bg-gray-700 hover:bg-indigo-500 transition-colors duration-200",style:{cursor:"col-resize"}}),_.jsx("button",{onClick:mu,className:"absolute top-1/2 -translate-y-1/2 bg-gray-800 hover:bg-indigo-600 border border-gray-700 text-white rounded-full p-1 z-40 transition-all duration-200 shadow-lg",style:{left:ae?"8px":`${he-16}px`},title:ae?"Expandir":"Recolher","aria-label":ae?"Expandir painel lateral":"Recolher painel lateral",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${ae?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),_.jsxs("main",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto min-w-0",children:[_.jsxs("header",{className:"sticky top-0 z-30 flex items-center justify-between p-4 bg-gray-900/80 backdrop-blur-sm border-b border-gray-700",children:[_.jsx("div",{className:"flex items-center flex-shrink-0",children:_.jsxs("div",{className:"bg-gray-800 p-1 rounded-lg flex items-center",children:[_.jsx("button",{onClick:()=>h("gdd"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${d==="gdd"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"GDD"}),_.jsx("button",{onClick:()=>h("script"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${d==="script"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"Roteiro"})]})}),_.jsx("div",{className:"flex-grow flex justify-center px-4",children:x&&_.jsxs("div",{className:"relative w-full max-w-lg",children:[_.jsx("input",{type:"text",value:Sn,onChange:Ue=>ws(Ue.target.value),placeholder:"Pesquisar neste documento...",className:"w-full bg-gray-800 border border-gray-600 rounded-full py-2 pl-4 pr-32 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),Sn&&_.jsxs("div",{className:"absolute inset-y-0 right-2 flex items-center space-x-1 text-gray-400",children:[_.jsx("span",{className:"text-xs px-2",children:At>0?`${Li+1} de ${At}`:"0/0"}),_.jsx("button",{onClick:xs,disabled:At===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:_.jsx(uS,{})}),_.jsx("button",{onClick:gu,disabled:At===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:_.jsx(cS,{})})]})]})}),_.jsxs("div",{className:"relative flex-shrink-0",ref:ht,children:[_.jsx("button",{onClick:()=>St(Ue=>!Ue),className:"p-2 rounded-full hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500","aria-haspopup":"true","aria-expanded":Mt,title:"Menu de Ações",children:_.jsx(rS,{})}),Mt&&_.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700 rounded-lg shadow-2xl p-2 z-50 animate-dropdown",children:[_.jsxs("button",{onClick:()=>{Y(!0),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-left font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),_.jsx("span",{className:"ml-3",children:"Integrar Nova Ideia"})]}),_.jsxs("button",{onClick:()=>{ee(!0),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:`Atualizar todo o ${d.toUpperCase()} com uma instrução`,children:[_.jsx(tS,{}),_.jsx("span",{className:"ml-3",children:"Atualização Global"})]}),_.jsx("hr",{className:"border-gray-600 my-1"}),_.jsxs("button",{onClick:()=>{z(!0),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Carregar GDD e Roteiro",children:[_.jsx(Fv,{}),_.jsx("span",{className:"ml-3",children:"Carregar GDD & Roteiro"})]}),_.jsxs("button",{onClick:()=>{Ts(),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Salvar GDD e Roteiro no computador",children:[_.jsx(Q1,{}),_.jsx("span",{className:"ml-3",children:"Salvar GDD & Roteiro"})]}),_.jsxs("button",{onClick:()=>{yu(),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Gerar e baixar o documento completo",children:[_.jsx(eS,{}),_.jsx("span",{className:"ml-3",children:"Gerar Documentos .docx"})]}),_.jsx("hr",{className:"border-gray-600 my-1"}),_.jsxs("button",{onClick:()=>{qt(!0),zn(!0),St(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Configurar e usar a sincronização na nuvem",children:[_.jsx(zd,{}),_.jsx("span",{className:"ml-3",children:"Sincronização na Nuvem"})]}),_.jsxs("button",{onClick:()=>{B(),St(!1)},disabled:!!Z,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:Z?"Conectado ao Google Drive":"Conectar ao Google Drive para salvar backups",children:[_.jsx(Gv,{}),_.jsx("span",{className:"ml-3",children:Z?"Conectado ao Google Drive":"Conectar ao Google Drive"})]}),_.jsx("hr",{className:"border-gray-600 my-1"}),_.jsxs("button",{onClick:()=>{M(!0),St(!1)},disabled:!b,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:"Ver o processo de raciocínio da última ação da IA",children:[_.jsx(nS,{}),_.jsx("span",{className:"ml-3",children:"Ver Raciocínio da IA"})]})]})]})]}),j&&_.jsxs("div",{className:"m-4 p-4 bg-red-800/50 border border-red-600 text-red-200 rounded-md relative animate-fade-in",children:[_.jsx("h3",{className:"font-bold",children:"Ocorreu um Erro"}),_.jsx("p",{children:j}),_.jsx("button",{onClick:()=>ge(null),className:"absolute top-2 right-2 text-red-200 hover:text-white p-1",children:"×"})]}),_.jsx(mS,{document:x,allDocuments:[...t||[],...e||[]],onNavigate:P,onRefineRequest:Ss,onFindReferences:ra,onUpdateBlock:q,onUpdateBlockContent:se,onSetContent:ce,scrollToHeading:U,onDidScrollToHeading:H,onOpenImageGenerationModal:wu,docSearchQuery:Sn,docSearchCurrentIndex:Li,onDocSearchResultsChange:Gn})]}),_.jsx(gS,{isOpen:O,onClose:()=>Y(!1),onSubmit:Hn,contextType:d==="gdd"?"GDD":"Roteiro"}),_.jsx(wS,{isOpen:Q,onClose:()=>ee(!1),onSubmit:ea,contextType:d==="gdd"?"GDD":"Roteiro"}),_.jsx(RS,{isOpen:N,onClose:()=>te(!1),onSubmit:mn}),_.jsx(NS,{isOpen:W,onClose:()=>z(!1),onUploadLocal:ta,onUploadFromUrl:na,isGoogleAuth:!!Z,onGoogleAuthClick:()=>{B()}}),_.jsx(vS,{isOpen:k.isOpen,onClose:()=>v({...k,isOpen:!1}),onSubmit:pn,initialText:k.initialText,contextType:d==="gdd"?"GDD":"Roteiro"}),_.jsx(SS,{isOpen:T.isOpen,onClose:vu,targetDocTitle:((sa=T.targetDoc)==null?void 0:sa.title)||"",references:T.references,onNavigate:P}),_.jsx(AS,{isOpen:$,onClose:()=>M(!1),insight:b}),_.jsx(DS,{isOpen:Ir,onClose:()=>zn(!1),isClosable:Vn,initialUrl:It,initialKey:hn,onSaveSettings:ia,onUploadClick:_s,onDownloadClick:Br,isSyncing:Bi,syncStatus:vs}),_.jsx(IS,{isOpen:jo,onClose:()=>Qo(!1),onSave:oa,isSaving:Bi}),_.jsx(US,{isOpen:pu,onClose:()=>Pi(!1),onLoadVersion:aa,versions:Zn,isLoading:Ur,error:si}),_.jsx(MS,{isOpen:Pt.isOpen,onClose:()=>Xn({...Pt,isOpen:!1}),onConfirm:()=>{Pt.onConfirm(),Xn({...Pt,isOpen:!1})},title:Pt.title,message:Pt.message}),_.jsx(BS,{isOpen:!!Rt,onClose:()=>Fi(null),onConfirm:()=>{Rt&&aa(Rt.id,Rt),Fi(null)},latestVersion:Rt}),_.jsx(CS,{isOpen:De,onToggle:Vi,messages:Le,isLoading:Ve,onSendMessage:qi,onClearChat:Es})]})}const Bx=document.getElementById("root");if(!Bx)throw new Error("Could not find root element to mount to");const sU=Y1.createRoot(Bx);sU.render(_.jsx(fs.StrictMode,{children:_.jsx(aU,{})}));

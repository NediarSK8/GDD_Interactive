(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();function Sv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kc={exports:{}},Aa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function b1(){if(Sg)return Aa;Sg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var h in s)h!=="key"&&(c[h]=s[h])}else c=s;return s=c.ref,{$$typeof:t,type:o,key:d,ref:s!==void 0?s:null,props:c}}return Aa.Fragment=e,Aa.jsx=r,Aa.jsxs=r,Aa}var Eg;function A1(){return Eg||(Eg=1,Kc.exports=b1()),Kc.exports}var P=A1(),Yc={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function R1(){if(_g)return We;_g=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function S(Y){return Y===null||typeof Y!="object"?null:(Y=T&&Y[T]||Y["@@iterator"],typeof Y=="function"?Y:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,b={};function I(Y,W,L){this.props=Y,this.context=W,this.refs=b,this.updater=L||E}I.prototype.isReactComponent={},I.prototype.setState=function(Y,W){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,W,"setState")},I.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function A(){}A.prototype=I.prototype;function D(Y,W,L){this.props=Y,this.context=W,this.refs=b,this.updater=L||E}var O=D.prototype=new A;O.constructor=D,M(O,I.prototype),O.isPureReactComponent=!0;var J=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function oe(Y,W,L,X,j,ee){return L=ee.ref,{$$typeof:t,type:Y,key:W,ref:L!==void 0?L:null,props:ee}}function he(Y,W){return oe(Y.type,W,void 0,void 0,void 0,Y.props)}function G(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function Te(Y){var W={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(L){return W[L]})}var be=/\/+/g;function Z(Y,W){return typeof Y=="object"&&Y!==null&&Y.key!=null?Te(""+Y.key):W.toString(36)}function pe(){}function B(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(pe,pe):(Y.status="pending",Y.then(function(W){Y.status==="pending"&&(Y.status="fulfilled",Y.value=W)},function(W){Y.status==="pending"&&(Y.status="rejected",Y.reason=W)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function de(Y,W,L,X,j){var ee=typeof Y;(ee==="undefined"||ee==="boolean")&&(Y=null);var V=!1;if(Y===null)V=!0;else switch(ee){case"bigint":case"string":case"number":V=!0;break;case"object":switch(Y.$$typeof){case t:case e:V=!0;break;case y:return V=Y._init,de(V(Y._payload),W,L,X,j)}}if(V)return j=j(Y),V=X===""?"."+Z(Y,0):X,J(j)?(L="",V!=null&&(L=V.replace(be,"$&/")+"/"),de(j,W,L,"",function($){return $})):j!=null&&(G(j)&&(j=he(j,L+(j.key==null||Y&&Y.key===j.key?"":(""+j.key).replace(be,"$&/")+"/")+V)),W.push(j)),1;V=0;var _=X===""?".":X+":";if(J(Y))for(var C=0;C<Y.length;C++)X=Y[C],ee=_+Z(X,C),V+=de(X,W,L,ee,j);else if(C=S(Y),typeof C=="function")for(Y=C.call(Y),C=0;!(X=Y.next()).done;)X=X.value,ee=_+Z(X,C++),V+=de(X,W,L,ee,j);else if(ee==="object"){if(typeof Y.then=="function")return de(B(Y),W,L,X,j);throw W=String(Y),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return V}function se(Y,W,L){if(Y==null)return Y;var X=[],j=0;return de(Y,X,"","",function(ee){return W.call(L,ee,j++)}),X}function re(Y){if(Y._status===-1){var W=Y._result;W=W(),W.then(function(L){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=L)},function(L){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=L)}),Y._status===-1&&(Y._status=0,Y._result=W)}if(Y._status===1)return Y._result.default;throw Y._result}var Ae=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function ae(){}return We.Children={map:se,forEach:function(Y,W,L){se(Y,function(){W.apply(this,arguments)},L)},count:function(Y){var W=0;return se(Y,function(){W++}),W},toArray:function(Y){return se(Y,function(W){return W})||[]},only:function(Y){if(!G(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},We.Component=I,We.Fragment=r,We.Profiler=s,We.PureComponent=D,We.StrictMode=o,We.Suspense=p,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,We.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return K.H.useMemoCache(Y)}},We.cache=function(Y){return function(){return Y.apply(null,arguments)}},We.cloneElement=function(Y,W,L){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var X=M({},Y.props),j=Y.key,ee=void 0;if(W!=null)for(V in W.ref!==void 0&&(ee=void 0),W.key!==void 0&&(j=""+W.key),W)!ue.call(W,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&W.ref===void 0||(X[V]=W[V]);var V=arguments.length-2;if(V===1)X.children=L;else if(1<V){for(var _=Array(V),C=0;C<V;C++)_[C]=arguments[C+2];X.children=_}return oe(Y.type,j,void 0,void 0,ee,X)},We.createContext=function(Y){return Y={$$typeof:d,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:c,_context:Y},Y},We.createElement=function(Y,W,L){var X,j={},ee=null;if(W!=null)for(X in W.key!==void 0&&(ee=""+W.key),W)ue.call(W,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(j[X]=W[X]);var V=arguments.length-2;if(V===1)j.children=L;else if(1<V){for(var _=Array(V),C=0;C<V;C++)_[C]=arguments[C+2];j.children=_}if(Y&&Y.defaultProps)for(X in V=Y.defaultProps,V)j[X]===void 0&&(j[X]=V[X]);return oe(Y,ee,void 0,void 0,null,j)},We.createRef=function(){return{current:null}},We.forwardRef=function(Y){return{$$typeof:h,render:Y}},We.isValidElement=G,We.lazy=function(Y){return{$$typeof:y,_payload:{_status:-1,_result:Y},_init:re}},We.memo=function(Y,W){return{$$typeof:m,type:Y,compare:W===void 0?null:W}},We.startTransition=function(Y){var W=K.T,L={};K.T=L;try{var X=Y(),j=K.S;j!==null&&j(L,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ae,Ae)}catch(ee){Ae(ee)}finally{K.T=W}},We.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},We.use=function(Y){return K.H.use(Y)},We.useActionState=function(Y,W,L){return K.H.useActionState(Y,W,L)},We.useCallback=function(Y,W){return K.H.useCallback(Y,W)},We.useContext=function(Y){return K.H.useContext(Y)},We.useDebugValue=function(){},We.useDeferredValue=function(Y,W){return K.H.useDeferredValue(Y,W)},We.useEffect=function(Y,W,L){var X=K.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(Y,W)},We.useId=function(){return K.H.useId()},We.useImperativeHandle=function(Y,W,L){return K.H.useImperativeHandle(Y,W,L)},We.useInsertionEffect=function(Y,W){return K.H.useInsertionEffect(Y,W)},We.useLayoutEffect=function(Y,W){return K.H.useLayoutEffect(Y,W)},We.useMemo=function(Y,W){return K.H.useMemo(Y,W)},We.useOptimistic=function(Y,W){return K.H.useOptimistic(Y,W)},We.useReducer=function(Y,W,L){return K.H.useReducer(Y,W,L)},We.useRef=function(Y){return K.H.useRef(Y)},We.useState=function(Y){return K.H.useState(Y)},We.useSyncExternalStore=function(Y,W,L){return K.H.useSyncExternalStore(Y,W,L)},We.useTransition=function(){return K.H.useTransition()},We.version="19.1.1",We}var Cg;function hd(){return Cg||(Cg=1,Yc.exports=R1()),Yc.exports}var Ue=hd();const Ba=Sv(Ue);var Jc={exports:{}},Ra={},Wc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function N1(){return bg||(bg=1,(function(t){function e(se,re){var Ae=se.length;se.push(re);e:for(;0<Ae;){var ae=Ae-1>>>1,Y=se[ae];if(0<s(Y,re))se[ae]=re,se[Ae]=Y,Ae=ae;else break e}}function r(se){return se.length===0?null:se[0]}function o(se){if(se.length===0)return null;var re=se[0],Ae=se.pop();if(Ae!==re){se[0]=Ae;e:for(var ae=0,Y=se.length,W=Y>>>1;ae<W;){var L=2*(ae+1)-1,X=se[L],j=L+1,ee=se[j];if(0>s(X,Ae))j<Y&&0>s(ee,X)?(se[ae]=ee,se[j]=Ae,ae=j):(se[ae]=X,se[L]=Ae,ae=L);else if(j<Y&&0>s(ee,Ae))se[ae]=ee,se[j]=Ae,ae=j;else break e}}return re}function s(se,re){var Ae=se.sortIndex-re.sortIndex;return Ae!==0?Ae:se.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,T=null,S=3,E=!1,M=!1,b=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function J(se){for(var re=r(m);re!==null;){if(re.callback===null)o(m);else if(re.startTime<=se)o(m),re.sortIndex=re.expirationTime,e(p,re);else break;re=r(m)}}function K(se){if(b=!1,J(se),!M)if(r(p)!==null)M=!0,ue||(ue=!0,Z());else{var re=r(m);re!==null&&de(K,re.startTime-se)}}var ue=!1,oe=-1,he=5,G=-1;function Te(){return I?!0:!(t.unstable_now()-G<he)}function be(){if(I=!1,ue){var se=t.unstable_now();G=se;var re=!0;try{e:{M=!1,b&&(b=!1,D(oe),oe=-1),E=!0;var Ae=S;try{t:{for(J(se),T=r(p);T!==null&&!(T.expirationTime>se&&Te());){var ae=T.callback;if(typeof ae=="function"){T.callback=null,S=T.priorityLevel;var Y=ae(T.expirationTime<=se);if(se=t.unstable_now(),typeof Y=="function"){T.callback=Y,J(se),re=!0;break t}T===r(p)&&o(p),J(se)}else o(p);T=r(p)}if(T!==null)re=!0;else{var W=r(m);W!==null&&de(K,W.startTime-se),re=!1}}break e}finally{T=null,S=Ae,E=!1}re=void 0}}finally{re?Z():ue=!1}}}var Z;if(typeof O=="function")Z=function(){O(be)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,B=pe.port2;pe.port1.onmessage=be,Z=function(){B.postMessage(null)}}else Z=function(){A(be,0)};function de(se,re){oe=A(function(){se(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(se){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var Ae=S;S=re;try{return se()}finally{S=Ae}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(se,re){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Ae=S;S=se;try{return re()}finally{S=Ae}},t.unstable_scheduleCallback=function(se,re,Ae){var ae=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?ae+Ae:ae):Ae=ae,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Ae+Y,se={id:y++,callback:re,priorityLevel:se,startTime:Ae,expirationTime:Y,sortIndex:-1},Ae>ae?(se.sortIndex=Ae,e(m,se),r(p)===null&&se===r(m)&&(b?(D(oe),oe=-1):b=!0,de(K,Ae-ae))):(se.sortIndex=Y,e(p,se),M||E||(M=!0,ue||(ue=!0,Z()))),se},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(se){var re=S;return function(){var Ae=S;S=re;try{return se.apply(this,arguments)}finally{S=Ae}}}})($c)),$c}var Ag;function M1(){return Ag||(Ag=1,Wc.exports=N1()),Wc.exports}var Xc={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function D1(){if(Rg)return Zt;Rg=1;var t=hd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Zt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},Zt.flushSync=function(p){var m=d.T,y=o.p;try{if(d.T=null,o.p=2,p)return p()}finally{d.T=m,o.p=y,o.d.f()}},Zt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},Zt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},Zt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:E}):y==="script"&&o.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},Zt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);o.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},Zt.requestFormReset=function(p){o.d.r(p)},Zt.unstable_batchedUpdates=function(p,m){return p(m)},Zt.useFormState=function(p,m,y){return d.H.useFormState(p,m,y)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.1.1",Zt}var Ng;function I1(){if(Ng)return Xc.exports;Ng=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xc.exports=D1(),Xc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function k1(){if(Mg)return Ra;Mg=1;var t=M1(),e=hd(),r=I1();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(o(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(o(188));return i!==n?null:n}for(var a=n,f=i;;){var g=a.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){a=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===a)return h(g),n;if(w===f)return h(g),i;w=w.sibling}throw Error(o(188))}if(a.return!==f.return)a=g,f=w;else{for(var U=!1,q=g.child;q;){if(q===a){U=!0,a=g,f=w;break}if(q===f){U=!0,f=g,a=w;break}q=q.sibling}if(!U){for(q=w.child;q;){if(q===a){U=!0,a=w,f=g;break}if(q===f){U=!0,f=w,a=g;break}q=q.sibling}if(!U)throw Error(o(189))}}if(a.alternate!==f)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),O=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=be&&n[be]||n["@@iterator"],typeof n=="function"?n:null)}var pe=Symbol.for("react.client.reference");function B(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case I:return"Profiler";case b:return"StrictMode";case K:return"Suspense";case ue:return"SuspenseList";case G:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case O:return(n.displayName||"Context")+".Provider";case D:return(n._context.displayName||"Context")+".Consumer";case J:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case oe:return i=n.displayName||null,i!==null?i:B(n.type)||"Memo";case he:i=n._payload,n=n._init;try{return B(n(i))}catch{}}return null}var de=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},ae=[],Y=-1;function W(n){return{current:n}}function L(n){0>Y||(n.current=ae[Y],ae[Y]=null,Y--)}function X(n,i){Y++,ae[Y]=n.current,n.current=i}var j=W(null),ee=W(null),V=W(null),_=W(null);function C(n,i){switch(X(V,i),X(ee,n),X(j,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Xm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Xm(i),n=Zm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(j),X(j,n)}function $(){L(j),L(ee),L(V)}function z(n){n.memoizedState!==null&&X(_,n);var i=j.current,a=Zm(i,n.type);i!==a&&(X(ee,n),X(j,a))}function F(n){ee.current===n&&(L(j),L(ee)),_.current===n&&(L(_),Sa._currentValue=Ae)}var H=Object.prototype.hasOwnProperty,fe=t.unstable_scheduleCallback,R=t.unstable_cancelCallback,le=t.unstable_shouldYield,k=t.unstable_requestPaint,v=t.unstable_now,x=t.unstable_getCurrentPriorityLevel,N=t.unstable_ImmediatePriority,Q=t.unstable_UserBlockingPriority,ie=t.unstable_NormalPriority,te=t.unstable_LowPriority,_e=t.unstable_IdlePriority,De=t.log,Ne=t.unstable_setDisableYieldValue,ke=null,Le=null;function Fe(n){if(typeof De=="function"&&Ne(n),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(ke,n)}catch{}}var ct=Math.clz32?Math.clz32:Zn,xn=Math.log,an=Math.LN2;function Zn(n){return n>>>=0,n===0?32:31-(xn(n)/an|0)|0}var pt=256,Un=4194304;function hn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function $t(n,i,a){var f=n.pendingLanes;if(f===0)return 0;var g=0,w=n.suspendedLanes,U=n.pingedLanes;n=n.warmLanes;var q=f&134217727;return q!==0?(f=q&~w,f!==0?g=hn(f):(U&=q,U!==0?g=hn(U):a||(a=q&~n,a!==0&&(g=hn(a))))):(q=f&~w,q!==0?g=hn(q):U!==0?g=hn(U):a||(a=f&~n,a!==0&&(g=hn(a)))),g===0?0:i!==0&&i!==g&&(i&w)===0&&(w=g&-g,a=i&-i,w>=a||w===32&&(a&4194048)!==0)?i:g}function Gn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Do(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var n=pt;return pt<<=1,(pt&4194048)===0&&(pt=256),n}function zr(){var n=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),n}function Ke(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Je(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function nt(n,i,a,f,g,w){var U=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var q=n.entanglements,ne=n.expirationTimes,ye=n.hiddenUpdates;for(a=U&~a;0<a;){var Ce=31-ct(a),Me=1<<Ce;q[Ce]=0,ne[Ce]=-1;var ve=ye[Ce];if(ve!==null)for(ye[Ce]=null,Ce=0;Ce<ve.length;Ce++){var we=ve[Ce];we!==null&&(we.lane&=-536870913)}a&=~Me}f!==0&&rt(n,f,0),w!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=w&~(U&~i))}function rt(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var f=31-ct(i);n.entangledLanes|=i,n.entanglements[f]=n.entanglements[f]|1073741824|a&4194090}function ht(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var f=31-ct(a),g=1<<f;g&i|n[f]&i&&(n[f]|=i),a&=~g}}function At(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ve(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function at(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:gg(n.type))}function st(n,i){var a=re.p;try{return re.p=n,i()}finally{re.p=a}}var $e=Math.random().toString(36).slice(2),lt="__reactFiber$"+$e,It="__reactProps$"+$e,rn="__reactContainer$"+$e,Qn="__reactEvents$"+$e,Io="__reactListeners$"+$e,yT="__reactHandles$"+$e,Od="__reactResources$"+$e,ko="__reactMarker$"+$e;function Ol(n){delete n[lt],delete n[It],delete n[Qn],delete n[Io],delete n[yT]}function yi(n){var i=n[lt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[rn]||a[lt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=tg(n);n!==null;){if(a=n[lt])return a;n=tg(n)}return i}n=a,a=n.parentNode}return null}function vi(n){if(n=n[lt]||n[rn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Uo(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function wi(n){var i=n[Od];return i||(i=n[Od]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function zt(n){n[ko]=!0}var Fd=new Set,Gd={};function qr(n,i){Ti(n,i),Ti(n+"Capture",i)}function Ti(n,i){for(Gd[n]=i,n=0;n<i.length;n++)Fd.add(i[n])}var vT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vd={},zd={};function wT(n){return H.call(zd,n)?!0:H.call(Vd,n)?!1:vT.test(n)?zd[n]=!0:(Vd[n]=!0,!1)}function za(n,i,a){if(wT(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function qa(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function jn(n,i,a,f){if(f===null)n.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+f)}}var Fl,qd;function xi(n){if(Fl===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Fl=i&&i[1]||"",qd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fl+n+qd}var Gl=!1;function Vl(n,i){if(!n||Gl)return"";Gl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(we){var ve=we}Reflect.construct(n,[],Me)}else{try{Me.call()}catch(we){ve=we}n.call(Me.prototype)}}else{try{throw Error()}catch(we){ve=we}(Me=n())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),U=w[0],q=w[1];if(U&&q){var ne=U.split(`
`),ye=q.split(`
`);for(g=f=0;f<ne.length&&!ne[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ye.length&&!ye[g].includes("DetermineComponentFrameRoot");)g++;if(f===ne.length||g===ye.length)for(f=ne.length-1,g=ye.length-1;1<=f&&0<=g&&ne[f]!==ye[g];)g--;for(;1<=f&&0<=g;f--,g--)if(ne[f]!==ye[g]){if(f!==1||g!==1)do if(f--,g--,0>g||ne[f]!==ye[g]){var Ce=`
`+ne[f].replace(" at new "," at ");return n.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",n.displayName)),Ce}while(1<=f&&0<=g);break}}}finally{Gl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?xi(a):""}function TT(n){switch(n.tag){case 26:case 27:case 5:return xi(n.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Vl(n.type,!1);case 11:return Vl(n.type.render,!1);case 1:return Vl(n.type,!0);case 31:return xi("Activity");default:return""}}function Hd(n){try{var i="";do i+=TT(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Kd(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xT(n){var i=Kd(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),f=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,w=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(U){f=""+U,w.call(this,U)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(U){f=""+U},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ha(n){n._valueTracker||(n._valueTracker=xT(n))}function Yd(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),f="";return n&&(f=Kd(n)?n.checked?"true":"false":n.value),n=f,n!==a?(i.setValue(n),!0):!1}function Ka(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ST=/[\n"\\]/g;function En(n){return n.replace(ST,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zl(n,i,a,f,g,w,U,q){n.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?n.type=U:n.removeAttribute("type"),i!=null?U==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Sn(i)):n.value!==""+Sn(i)&&(n.value=""+Sn(i)):U!=="submit"&&U!=="reset"||n.removeAttribute("value"),i!=null?ql(n,U,Sn(i)):a!=null?ql(n,U,Sn(a)):f!=null&&n.removeAttribute("value"),g==null&&w!=null&&(n.defaultChecked=!!w),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?n.name=""+Sn(q):n.removeAttribute("name")}function Jd(n,i,a,f,g,w,U,q){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.type=w),i!=null||a!=null){if(!(w!=="submit"&&w!=="reset"||i!=null))return;a=a!=null?""+Sn(a):"",i=i!=null?""+Sn(i):a,q||i===n.value||(n.value=i),n.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=q?n.checked:!!f,n.defaultChecked=!!f,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(n.name=U)}function ql(n,i,a){i==="number"&&Ka(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Si(n,i,a,f){if(n=n.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=i.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&f&&(n[a].defaultSelected=!0)}else{for(a=""+Sn(a),i=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Wd(n,i,a){if(i!=null&&(i=""+Sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Sn(a):""}function $d(n,i,a,f){if(i==null){if(f!=null){if(a!=null)throw Error(o(92));if(de(f)){if(1<f.length)throw Error(o(93));f=f[0]}a=f}a==null&&(a=""),i=a}a=Sn(i),n.defaultValue=a,f=n.textContent,f===a&&f!==""&&f!==null&&(n.value=f)}function Ei(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ET=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xd(n,i,a){var f=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":f?n.setProperty(i,a):typeof a!="number"||a===0||ET.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Zd(n,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&a[g]!==f&&Xd(n,g,f)}else for(var w in i)i.hasOwnProperty(w)&&Xd(n,w,i[w])}function Hl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _T=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(n){return CT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Kl=null;function Yl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _i=null,Ci=null;function Qd(n){var i=vi(n);if(i&&(n=i.stateNode)){var a=n[It]||null;e:switch(n=i.stateNode,i.type){case"input":if(zl(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var f=a[i];if(f!==n&&f.form===n.form){var g=f[It]||null;if(!g)throw Error(o(90));zl(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<a.length;i++)f=a[i],f.form===n.form&&Yd(f)}break e;case"textarea":Wd(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Si(n,!!a.multiple,i,!1)}}}var Jl=!1;function jd(n,i,a){if(Jl)return n(i,a);Jl=!0;try{var f=n(i);return f}finally{if(Jl=!1,(_i!==null||Ci!==null)&&(Ds(),_i&&(i=_i,n=Ci,Ci=_i=null,Qd(i),n)))for(i=0;i<n.length;i++)Qd(n[i])}}function Lo(n,i){var a=n.stateNode;if(a===null)return null;var f=a[It]||null;if(f===null)return null;a=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(er)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Wl=!1}var vr=null,$l=null,Ja=null;function eh(){if(Ja)return Ja;var n,i=$l,a=i.length,f,g="value"in vr?vr.value:vr.textContent,w=g.length;for(n=0;n<a&&i[n]===g[n];n++);var U=a-n;for(f=1;f<=U&&i[a-f]===g[w-f];f++);return Ja=g.slice(n,1<f?1-f:void 0)}function Wa(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function $a(){return!0}function th(){return!1}function sn(n){function i(a,f,g,w,U){this._reactName=a,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=U,this.currentTarget=null;for(var q in n)n.hasOwnProperty(q)&&(a=n[q],this[q]=a?a(w):w[q]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?$a:th,this.isPropagationStopped=th,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),i}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=sn(Hr),Po=y({},Hr,{view:0,detail:0}),bT=sn(Po),Xl,Zl,Oo,Za=y({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oo&&(Oo&&n.type==="mousemove"?(Xl=n.screenX-Oo.screenX,Zl=n.screenY-Oo.screenY):Zl=Xl=0,Oo=n),Xl)},movementY:function(n){return"movementY"in n?n.movementY:Zl}}),nh=sn(Za),AT=y({},Za,{dataTransfer:0}),RT=sn(AT),NT=y({},Po,{relatedTarget:0}),Ql=sn(NT),MT=y({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),DT=sn(MT),IT=y({},Hr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kT=sn(IT),UT=y({},Hr,{data:0}),rh=sn(UT),LT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OT(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=PT[n])?!!i[n]:!1}function jl(){return OT}var FT=y({},Po,{key:function(n){if(n.key){var i=LT[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Wa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?BT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(n){return n.type==="keypress"?Wa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),GT=sn(FT),VT=y({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=sn(VT),zT=y({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),qT=sn(zT),HT=y({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),KT=sn(HT),YT=y({},Za,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JT=sn(YT),WT=y({},Hr,{newState:0,oldState:0}),$T=sn(WT),XT=[9,13,27,32],eu=er&&"CompositionEvent"in window,Fo=null;er&&"documentMode"in document&&(Fo=document.documentMode);var ZT=er&&"TextEvent"in window&&!Fo,oh=er&&(!eu||Fo&&8<Fo&&11>=Fo),ah=" ",sh=!1;function lh(n,i){switch(n){case"keyup":return XT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bi=!1;function QT(n,i){switch(n){case"compositionend":return uh(i);case"keypress":return i.which!==32?null:(sh=!0,ah);case"textInput":return n=i.data,n===ah&&sh?null:n;default:return null}}function jT(n,i){if(bi)return n==="compositionend"||!eu&&lh(n,i)?(n=eh(),Ja=$l=vr=null,bi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oh&&i.locale!=="ko"?null:i.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!ex[n.type]:i==="textarea"}function fh(n,i,a,f){_i?Ci?Ci.push(f):Ci=[f]:_i=f,i=Ps(i,"onChange"),0<i.length&&(a=new Xa("onChange","change",null,a,f),n.push({event:a,listeners:i}))}var Go=null,Vo=null;function tx(n){Km(n,0)}function Qa(n){var i=Uo(n);if(Yd(i))return n}function dh(n,i){if(n==="change")return i}var hh=!1;if(er){var tu;if(er){var nu="oninput"in document;if(!nu){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),nu=typeof ph.oninput=="function"}tu=nu}else tu=!1;hh=tu&&(!document.documentMode||9<document.documentMode)}function mh(){Go&&(Go.detachEvent("onpropertychange",gh),Vo=Go=null)}function gh(n){if(n.propertyName==="value"&&Qa(Vo)){var i=[];fh(i,Vo,n,Yl(n)),jd(tx,i)}}function nx(n,i,a){n==="focusin"?(mh(),Go=i,Vo=a,Go.attachEvent("onpropertychange",gh)):n==="focusout"&&mh()}function rx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qa(Vo)}function ix(n,i){if(n==="click")return Qa(i)}function ox(n,i){if(n==="input"||n==="change")return Qa(i)}function ax(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var pn=typeof Object.is=="function"?Object.is:ax;function zo(n,i){if(pn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),f=Object.keys(i);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var g=a[f];if(!H.call(i,g)||!pn(n[g],i[g]))return!1}return!0}function yh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vh(n,i){var a=yh(n);n=0;for(var f;a;){if(a.nodeType===3){if(f=n+a.textContent.length,n<=i&&f>=i)return{node:a,offset:i-n};n=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yh(a)}}function wh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?wh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Th(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ka(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ka(n.document)}return i}function ru(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var sx=er&&"documentMode"in document&&11>=document.documentMode,Ai=null,iu=null,qo=null,ou=!1;function xh(n,i,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ou||Ai==null||Ai!==Ka(f)||(f=Ai,"selectionStart"in f&&ru(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),qo&&zo(qo,f)||(qo=f,f=Ps(iu,"onSelect"),0<f.length&&(i=new Xa("onSelect","select",null,i,a),n.push({event:i,listeners:f}),i.target=Ai)))}function Kr(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ri={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},au={},Sh={};er&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Yr(n){if(au[n])return au[n];if(!Ri[n])return n;var i=Ri[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sh)return au[n]=i[a];return n}var Eh=Yr("animationend"),_h=Yr("animationiteration"),Ch=Yr("animationstart"),lx=Yr("transitionrun"),ux=Yr("transitionstart"),cx=Yr("transitioncancel"),bh=Yr("transitionend"),Ah=new Map,su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");su.push("scrollEnd");function Ln(n,i){Ah.set(n,i),qr(i,[n])}var Rh=new WeakMap;function _n(n,i){if(typeof n=="object"&&n!==null){var a=Rh.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Hd(i)},Rh.set(n,i),i)}return{value:n,source:i,stack:Hd(i)}}var Cn=[],Ni=0,lu=0;function ja(){for(var n=Ni,i=lu=Ni=0;i<n;){var a=Cn[i];Cn[i++]=null;var f=Cn[i];Cn[i++]=null;var g=Cn[i];Cn[i++]=null;var w=Cn[i];if(Cn[i++]=null,f!==null&&g!==null){var U=f.pending;U===null?g.next=g:(g.next=U.next,U.next=g),f.pending=g}w!==0&&Nh(a,g,w)}}function es(n,i,a,f){Cn[Ni++]=n,Cn[Ni++]=i,Cn[Ni++]=a,Cn[Ni++]=f,lu|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function uu(n,i,a,f){return es(n,i,a,f),ts(n)}function Mi(n,i){return es(n,null,null,i),ts(n)}function Nh(n,i,a){n.lanes|=a;var f=n.alternate;f!==null&&(f.lanes|=a);for(var g=!1,w=n.return;w!==null;)w.childLanes|=a,f=w.alternate,f!==null&&(f.childLanes|=a),w.tag===22&&(n=w.stateNode,n===null||n._visibility&1||(g=!0)),n=w,w=w.return;return n.tag===3?(w=n.stateNode,g&&i!==null&&(g=31-ct(a),n=w.hiddenUpdates,f=n[g],f===null?n[g]=[i]:f.push(i),i.lane=a|536870912),w):null}function ts(n){if(50<pa)throw pa=0,mc=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Di={};function fx(n,i,a,f){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,i,a,f){return new fx(n,i,a,f)}function cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tr(n,i){var a=n.alternate;return a===null?(a=mn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Mh(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ns(n,i,a,f,g,w){var U=0;if(f=n,typeof n=="function")cu(n)&&(U=1);else if(typeof n=="string")U=h1(n,a,j.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case G:return n=mn(31,a,i,g),n.elementType=G,n.lanes=w,n;case M:return Jr(a.children,g,w,i);case b:U=8,g|=24;break;case I:return n=mn(12,a,i,g|2),n.elementType=I,n.lanes=w,n;case K:return n=mn(13,a,i,g),n.elementType=K,n.lanes=w,n;case ue:return n=mn(19,a,i,g),n.elementType=ue,n.lanes=w,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case O:U=10;break e;case D:U=9;break e;case J:U=11;break e;case oe:U=14;break e;case he:U=16,f=null;break e}U=29,a=Error(o(130,n===null?"null":typeof n,"")),f=null}return i=mn(U,a,i,g),i.elementType=n,i.type=f,i.lanes=w,i}function Jr(n,i,a,f){return n=mn(7,n,f,i),n.lanes=a,n}function fu(n,i,a){return n=mn(6,n,null,i),n.lanes=a,n}function du(n,i,a){return i=mn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ii=[],ki=0,rs=null,is=0,bn=[],An=0,Wr=null,nr=1,rr="";function $r(n,i){Ii[ki++]=is,Ii[ki++]=rs,rs=n,is=i}function Dh(n,i,a){bn[An++]=nr,bn[An++]=rr,bn[An++]=Wr,Wr=n;var f=nr;n=rr;var g=32-ct(f)-1;f&=~(1<<g),a+=1;var w=32-ct(i)+g;if(30<w){var U=g-g%5;w=(f&(1<<U)-1).toString(32),f>>=U,g-=U,nr=1<<32-ct(i)+g|a<<g|f,rr=w+n}else nr=1<<w|a<<g|f,rr=n}function hu(n){n.return!==null&&($r(n,1),Dh(n,1,0))}function pu(n){for(;n===rs;)rs=Ii[--ki],Ii[ki]=null,is=Ii[--ki],Ii[ki]=null;for(;n===Wr;)Wr=bn[--An],bn[An]=null,rr=bn[--An],bn[An]=null,nr=bn[--An],bn[An]=null}var on=null,Nt=null,ft=!1,Xr=null,Vn=!1,mu=Error(o(519));function Zr(n){var i=Error(o(418,""));throw Yo(_n(i,n)),mu}function Ih(n){var i=n.stateNode,a=n.type,f=n.memoizedProps;switch(i[lt]=n,i[It]=f,a){case"dialog":tt("cancel",i),tt("close",i);break;case"iframe":case"object":case"embed":tt("load",i);break;case"video":case"audio":for(a=0;a<ga.length;a++)tt(ga[a],i);break;case"source":tt("error",i);break;case"img":case"image":case"link":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"input":tt("invalid",i),Jd(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ha(i);break;case"select":tt("invalid",i);break;case"textarea":tt("invalid",i),$d(i,f.value,f.defaultValue,f.children),Ha(i)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||f.suppressHydrationWarning===!0||$m(i.textContent,a)?(f.popover!=null&&(tt("beforetoggle",i),tt("toggle",i)),f.onScroll!=null&&tt("scroll",i),f.onScrollEnd!=null&&tt("scrollend",i),f.onClick!=null&&(i.onclick=Os),i=!0):i=!1,i||Zr(n)}function kh(n){for(on=n.return;on;)switch(on.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:on=on.return}}function Ho(n){if(n!==on)return!1;if(!ft)return kh(n),ft=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Dc(n.type,n.memoizedProps)),a=!a),a&&Nt&&Zr(n),kh(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Nt=Pn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Nt=null}}else i===27?(i=Nt,Ur(n.type)?(n=Lc,Lc=null,Nt=n):Nt=i):Nt=on?Pn(n.stateNode.nextSibling):null;return!0}function Ko(){Nt=on=null,ft=!1}function Uh(){var n=Xr;return n!==null&&(cn===null?cn=n:cn.push.apply(cn,n),Xr=null),n}function Yo(n){Xr===null?Xr=[n]:Xr.push(n)}var gu=W(null),Qr=null,ir=null;function wr(n,i,a){X(gu,i._currentValue),i._currentValue=a}function or(n){n._currentValue=gu.current,L(gu)}function yu(n,i,a){for(;n!==null;){var f=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),n===a)break;n=n.return}}function vu(n,i,a,f){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var w=g.dependencies;if(w!==null){var U=g.child;w=w.firstContext;e:for(;w!==null;){var q=w;w=g;for(var ne=0;ne<i.length;ne++)if(q.context===i[ne]){w.lanes|=a,q=w.alternate,q!==null&&(q.lanes|=a),yu(w.return,a,n),f||(U=null);break e}w=q.next}}else if(g.tag===18){if(U=g.return,U===null)throw Error(o(341));U.lanes|=a,w=U.alternate,w!==null&&(w.lanes|=a),yu(U,a,n),U=null}else U=g.child;if(U!==null)U.return=g;else for(U=g;U!==null;){if(U===n){U=null;break}if(g=U.sibling,g!==null){g.return=U.return,U=g;break}U=U.return}g=U}}function Jo(n,i,a,f){n=null;for(var g=i,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var U=g.alternate;if(U===null)throw Error(o(387));if(U=U.memoizedProps,U!==null){var q=g.type;pn(g.pendingProps.value,U.value)||(n!==null?n.push(q):n=[q])}}else if(g===_.current){if(U=g.alternate,U===null)throw Error(o(387));U.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Sa):n=[Sa])}g=g.return}n!==null&&vu(i,n,a,f),i.flags|=262144}function os(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function jr(n){Qr=n,ir=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return Lh(Qr,n)}function as(n,i){return Qr===null&&jr(n),Lh(n,i)}function Lh(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ir===null){if(n===null)throw Error(o(308));ir=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ir=ir.next=i;return a}var dx=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,f){n.push(f)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},hx=t.unstable_scheduleCallback,px=t.unstable_NormalPriority,Gt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wu(){return{controller:new dx,data:new Map,refCount:0}}function Wo(n){n.refCount--,n.refCount===0&&hx(px,function(){n.controller.abort()})}var $o=null,Tu=0,Ui=0,Li=null;function mx(n,i){if($o===null){var a=$o=[];Tu=0,Ui=Sc(),Li={status:"pending",value:void 0,then:function(f){a.push(f)}}}return Tu++,i.then(Bh,Bh),i}function Bh(){if(--Tu===0&&$o!==null){Li!==null&&(Li.status="fulfilled");var n=$o;$o=null,Ui=0,Li=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function gx(n,i){var a=[],f={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<a.length;g++)(0,a[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),f}var Ph=se.S;se.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&mx(n,i),Ph!==null&&Ph(n,i)};var ei=W(null);function xu(){var n=ei.current;return n!==null?n:Et.pooledCache}function ss(n,i){i===null?X(ei,ei.current):X(ei,i.pool)}function Oh(){var n=xu();return n===null?null:{parent:Gt._currentValue,pool:n}}var Xo=Error(o(460)),Fh=Error(o(474)),ls=Error(o(542)),Su={then:function(){}};function Gh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function us(){}function Vh(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(us,us),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,qh(n),n;default:if(typeof i.status=="string")i.then(us,us);else{if(n=Et,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,qh(n),n}throw Zo=i,Xo}}var Zo=null;function zh(){if(Zo===null)throw Error(o(459));var n=Zo;return Zo=null,n}function qh(n){if(n===Xo||n===ls)throw Error(o(483))}var Tr=!1;function Eu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function xr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Sr(n,i,a){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=ts(n),Nh(n,null,a),i}return es(n,f,i,a),ts(n)}function Qo(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var f=i.lanes;f&=n.pendingLanes,a|=f,i.lanes=a,ht(n,a)}}function Cu(n,i){var a=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var g=null,w=null;if(a=a.firstBaseUpdate,a!==null){do{var U={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};w===null?g=w=U:w=w.next=U,a=a.next}while(a!==null);w===null?g=w=i:w=w.next=i}else g=w=i;a={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var bu=!1;function jo(){if(bu){var n=Li;if(n!==null)throw n}}function ea(n,i,a,f){bu=!1;var g=n.updateQueue;Tr=!1;var w=g.firstBaseUpdate,U=g.lastBaseUpdate,q=g.shared.pending;if(q!==null){g.shared.pending=null;var ne=q,ye=ne.next;ne.next=null,U===null?w=ye:U.next=ye,U=ne;var Ce=n.alternate;Ce!==null&&(Ce=Ce.updateQueue,q=Ce.lastBaseUpdate,q!==U&&(q===null?Ce.firstBaseUpdate=ye:q.next=ye,Ce.lastBaseUpdate=ne))}if(w!==null){var Me=g.baseState;U=0,Ce=ye=ne=null,q=w;do{var ve=q.lane&-536870913,we=ve!==q.lane;if(we?(it&ve)===ve:(f&ve)===ve){ve!==0&&ve===Ui&&(bu=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var He=n,ze=q;ve=i;var Tt=a;switch(ze.tag){case 1:if(He=ze.payload,typeof He=="function"){Me=He.call(Tt,Me,ve);break e}Me=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=ze.payload,ve=typeof He=="function"?He.call(Tt,Me,ve):He,ve==null)break e;Me=y({},Me,ve);break e;case 2:Tr=!0}}ve=q.callback,ve!==null&&(n.flags|=64,we&&(n.flags|=8192),we=g.callbacks,we===null?g.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ce===null?(ye=Ce=we,ne=Me):Ce=Ce.next=we,U|=ve;if(q=q.next,q===null){if(q=g.shared.pending,q===null)break;we=q,q=we.next,we.next=null,g.lastBaseUpdate=we,g.shared.pending=null}}while(!0);Ce===null&&(ne=Me),g.baseState=ne,g.firstBaseUpdate=ye,g.lastBaseUpdate=Ce,w===null&&(g.shared.lanes=0),Mr|=U,n.lanes=U,n.memoizedState=Me}}function Hh(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function Kh(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Hh(a[n],i)}var Bi=W(null),cs=W(0);function Yh(n,i){n=dr,X(cs,n),X(Bi,i),dr=n|i.baseLanes}function Au(){X(cs,dr),X(Bi,Bi.current)}function Ru(){dr=cs.current,L(Bi),L(cs)}var Er=0,Xe=null,vt=null,Ot=null,fs=!1,Pi=!1,ti=!1,ds=0,ta=0,Oi=null,yx=0;function kt(){throw Error(o(321))}function Nu(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!pn(n[a],i[a]))return!1;return!0}function Mu(n,i,a,f,g,w){return Er=w,Xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,se.H=n===null||n.memoizedState===null?Np:Mp,ti=!1,w=a(f,g),ti=!1,Pi&&(w=Wh(i,a,f,g)),Jh(n),w}function Jh(n){se.H=vs;var i=vt!==null&&vt.next!==null;if(Er=0,Ot=vt=Xe=null,fs=!1,ta=0,Oi=null,i)throw Error(o(300));n===null||qt||(n=n.dependencies,n!==null&&os(n)&&(qt=!0))}function Wh(n,i,a,f){Xe=n;var g=0;do{if(Pi&&(Oi=null),ta=0,Pi=!1,25<=g)throw Error(o(301));if(g+=1,Ot=vt=null,n.updateQueue!=null){var w=n.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}se.H=_x,w=i(a,f)}while(Pi);return w}function vx(){var n=se.H,i=n.useState()[0];return i=typeof i.then=="function"?na(i):i,n=n.useState()[0],(vt!==null?vt.memoizedState:null)!==n&&(Xe.flags|=1024),i}function Du(){var n=ds!==0;return ds=0,n}function Iu(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function ku(n){if(fs){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fs=!1}Er=0,Ot=vt=Xe=null,Pi=!1,ta=ds=0,Oi=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Xe.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function Ft(){if(vt===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var i=Ot===null?Xe.memoizedState:Ot.next;if(i!==null)Ot=i,vt=n;else{if(n===null)throw Xe.alternate===null?Error(o(467)):Error(o(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ot===null?Xe.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function na(n){var i=ta;return ta+=1,Oi===null&&(Oi=[]),n=Vh(Oi,n,i),i=Xe,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,se.H=i===null||i.memoizedState===null?Np:Mp),n}function hs(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return na(n);if(n.$$typeof===O)return Xt(n)}throw Error(o(438,String(n)))}function Lu(n){var i=null,a=Xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var f=Xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Uu(),Xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),f=0;f<n;f++)a[f]=Te;return i.index++,a}function ar(n,i){return typeof i=="function"?i(n):i}function ps(n){var i=Ft();return Bu(i,vt,n)}function Bu(n,i,a){var f=n.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=a;var g=n.baseQueue,w=f.pending;if(w!==null){if(g!==null){var U=g.next;g.next=w.next,w.next=U}i.baseQueue=g=w,f.pending=null}if(w=n.baseState,g===null)n.memoizedState=w;else{i=g.next;var q=U=null,ne=null,ye=i,Ce=!1;do{var Me=ye.lane&-536870913;if(Me!==ye.lane?(it&Me)===Me:(Er&Me)===Me){var ve=ye.revertLane;if(ve===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Me===Ui&&(Ce=!0);else if((Er&ve)===ve){ye=ye.next,ve===Ui&&(Ce=!0);continue}else Me={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ne===null?(q=ne=Me,U=w):ne=ne.next=Me,Xe.lanes|=ve,Mr|=ve;Me=ye.action,ti&&a(w,Me),w=ye.hasEagerState?ye.eagerState:a(w,Me)}else ve={lane:Me,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ne===null?(q=ne=ve,U=w):ne=ne.next=ve,Xe.lanes|=Me,Mr|=Me;ye=ye.next}while(ye!==null&&ye!==i);if(ne===null?U=w:ne.next=q,!pn(w,n.memoizedState)&&(qt=!0,Ce&&(a=Li,a!==null)))throw a;n.memoizedState=w,n.baseState=U,n.baseQueue=ne,f.lastRenderedState=w}return g===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function Pu(n){var i=Ft(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var f=a.dispatch,g=a.pending,w=i.memoizedState;if(g!==null){a.pending=null;var U=g=g.next;do w=n(w,U.action),U=U.next;while(U!==g);pn(w,i.memoizedState)||(qt=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),a.lastRenderedState=w}return[w,f]}function $h(n,i,a){var f=Xe,g=Ft(),w=ft;if(w){if(a===void 0)throw Error(o(407));a=a()}else a=i();var U=!pn((vt||g).memoizedState,a);U&&(g.memoizedState=a,qt=!0),g=g.queue;var q=Qh.bind(null,f,g,n);if(ra(2048,8,q,[n]),g.getSnapshot!==i||U||Ot!==null&&Ot.memoizedState.tag&1){if(f.flags|=2048,Fi(9,ms(),Zh.bind(null,f,g,a,i),null),Et===null)throw Error(o(349));w||(Er&124)!==0||Xh(f,i,a)}return a}function Xh(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Xe.updateQueue,i===null?(i=Uu(),Xe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Zh(n,i,a,f){i.value=a,i.getSnapshot=f,jh(i)&&ep(n)}function Qh(n,i,a){return a(function(){jh(i)&&ep(n)})}function jh(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!pn(n,a)}catch{return!0}}function ep(n){var i=Mi(n,2);i!==null&&Tn(i,n,2)}function Ou(n){var i=ln();if(typeof n=="function"){var a=n;if(n=a(),ti){Fe(!0);try{a()}finally{Fe(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:n},i}function tp(n,i,a,f){return n.baseState=a,Bu(n,vt,typeof f=="function"?f:ar)}function wx(n,i,a,f,g){if(ys(n))throw Error(o(485));if(n=i.action,n!==null){var w={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){w.listeners.push(U)}};se.T!==null?a(!0):w.isTransition=!1,f(w),a=i.pending,a===null?(w.next=i.pending=w,np(i,w)):(w.next=a.next,i.pending=a.next=w)}}function np(n,i){var a=i.action,f=i.payload,g=n.state;if(i.isTransition){var w=se.T,U={};se.T=U;try{var q=a(g,f),ne=se.S;ne!==null&&ne(U,q),rp(n,i,q)}catch(ye){Fu(n,i,ye)}finally{se.T=w}}else try{w=a(g,f),rp(n,i,w)}catch(ye){Fu(n,i,ye)}}function rp(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){ip(n,i,f)},function(f){return Fu(n,i,f)}):ip(n,i,a)}function ip(n,i,a){i.status="fulfilled",i.value=a,op(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,np(n,a)))}function Fu(n,i,a){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=a,op(i),i=i.next;while(i!==f)}n.action=null}function op(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ap(n,i){return i}function sp(n,i){if(ft){var a=Et.formState;if(a!==null){e:{var f=Xe;if(ft){if(Nt){t:{for(var g=Nt,w=Vn;g.nodeType!==8;){if(!w){g=null;break t}if(g=Pn(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){Nt=Pn(g.nextSibling),f=g.data==="F!";break e}}Zr(f)}f=!1}f&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:i},a.queue=f,a=bp.bind(null,Xe,f),f.dispatch=a,f=Ou(!1),w=Hu.bind(null,Xe,!1,f.queue),f=ln(),g={state:i,dispatch:null,action:n,pending:null},f.queue=g,a=wx.bind(null,Xe,g,w,a),g.dispatch=a,f.memoizedState=n,[i,a,!1]}function lp(n){var i=Ft();return up(i,vt,n)}function up(n,i,a){if(i=Bu(n,i,ap)[0],n=ps(ar)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=na(i)}catch(U){throw U===Xo?ls:U}else f=i;i=Ft();var g=i.queue,w=g.dispatch;return a!==i.memoizedState&&(Xe.flags|=2048,Fi(9,ms(),Tx.bind(null,g,a),null)),[f,w,n]}function Tx(n,i){n.action=i}function cp(n){var i=Ft(),a=vt;if(a!==null)return up(i,a,n);Ft(),i=i.memoizedState,a=Ft();var f=a.queue.dispatch;return a.memoizedState=n,[i,f,!1]}function Fi(n,i,a,f){return n={tag:n,create:a,deps:f,inst:i,next:null},i=Xe.updateQueue,i===null&&(i=Uu(),Xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(f=a.next,a.next=n,n.next=f,i.lastEffect=n),n}function ms(){return{destroy:void 0,resource:void 0}}function fp(){return Ft().memoizedState}function gs(n,i,a,f){var g=ln();f=f===void 0?null:f,Xe.flags|=n,g.memoizedState=Fi(1|i,ms(),a,f)}function ra(n,i,a,f){var g=Ft();f=f===void 0?null:f;var w=g.memoizedState.inst;vt!==null&&f!==null&&Nu(f,vt.memoizedState.deps)?g.memoizedState=Fi(i,w,a,f):(Xe.flags|=n,g.memoizedState=Fi(1|i,w,a,f))}function dp(n,i){gs(8390656,8,n,i)}function hp(n,i){ra(2048,8,n,i)}function pp(n,i){return ra(4,2,n,i)}function mp(n,i){return ra(4,4,n,i)}function gp(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function yp(n,i,a){a=a!=null?a.concat([n]):null,ra(4,4,gp.bind(null,i,n),a)}function Gu(){}function vp(n,i){var a=Ft();i=i===void 0?null:i;var f=a.memoizedState;return i!==null&&Nu(i,f[1])?f[0]:(a.memoizedState=[n,i],n)}function wp(n,i){var a=Ft();i=i===void 0?null:i;var f=a.memoizedState;if(i!==null&&Nu(i,f[1]))return f[0];if(f=n(),ti){Fe(!0);try{n()}finally{Fe(!1)}}return a.memoizedState=[f,i],f}function Vu(n,i,a){return a===void 0||(Er&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Sm(),Xe.lanes|=n,Mr|=n,a)}function Tp(n,i,a,f){return pn(a,i)?a:Bi.current!==null?(n=Vu(n,a,f),pn(n,i)||(qt=!0),n):(Er&42)===0?(qt=!0,n.memoizedState=a):(n=Sm(),Xe.lanes|=n,Mr|=n,i)}function xp(n,i,a,f,g){var w=re.p;re.p=w!==0&&8>w?w:8;var U=se.T,q={};se.T=q,Hu(n,!1,i,a);try{var ne=g(),ye=se.S;if(ye!==null&&ye(q,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ce=gx(ne,f);ia(n,i,Ce,wn(n))}else ia(n,i,f,wn(n))}catch(Me){ia(n,i,{then:function(){},status:"rejected",reason:Me},wn())}finally{re.p=w,se.T=U}}function xx(){}function zu(n,i,a,f){if(n.tag!==5)throw Error(o(476));var g=Sp(n).queue;xp(n,g,i,Ae,a===null?xx:function(){return Ep(n),a(f)})}function Sp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:Ae},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ep(n){var i=Sp(n).next.queue;ia(n,i,{},wn())}function qu(){return Xt(Sa)}function _p(){return Ft().memoizedState}function Cp(){return Ft().memoizedState}function Sx(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();n=xr(a);var f=Sr(i,n,a);f!==null&&(Tn(f,i,a),Qo(f,i,a)),i={cache:wu()},n.payload=i;return}i=i.return}}function Ex(n,i,a){var f=wn();a={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ys(n)?Ap(i,a):(a=uu(n,i,a,f),a!==null&&(Tn(a,n,f),Rp(a,i,f)))}function bp(n,i,a){var f=wn();ia(n,i,a,f)}function ia(n,i,a,f){var g={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ys(n))Ap(i,g);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var U=i.lastRenderedState,q=w(U,a);if(g.hasEagerState=!0,g.eagerState=q,pn(q,U))return es(n,i,g,0),Et===null&&ja(),!1}catch{}finally{}if(a=uu(n,i,g,f),a!==null)return Tn(a,n,f),Rp(a,i,f),!0}return!1}function Hu(n,i,a,f){if(f={lane:2,revertLane:Sc(),action:f,hasEagerState:!1,eagerState:null,next:null},ys(n)){if(i)throw Error(o(479))}else i=uu(n,a,f,2),i!==null&&Tn(i,n,2)}function ys(n){var i=n.alternate;return n===Xe||i!==null&&i===Xe}function Ap(n,i){Pi=fs=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Rp(n,i,a){if((a&4194048)!==0){var f=i.lanes;f&=n.pendingLanes,a|=f,i.lanes=a,ht(n,a)}}var vs={readContext:Xt,use:hs,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},Np={readContext:Xt,use:hs,useCallback:function(n,i){return ln().memoizedState=[n,i===void 0?null:i],n},useContext:Xt,useEffect:dp,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,gs(4194308,4,gp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return gs(4194308,4,n,i)},useInsertionEffect:function(n,i){gs(4,2,n,i)},useMemo:function(n,i){var a=ln();i=i===void 0?null:i;var f=n();if(ti){Fe(!0);try{n()}finally{Fe(!1)}}return a.memoizedState=[f,i],f},useReducer:function(n,i,a){var f=ln();if(a!==void 0){var g=a(i);if(ti){Fe(!0);try{a(i)}finally{Fe(!1)}}}else g=i;return f.memoizedState=f.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},f.queue=n,n=n.dispatch=Ex.bind(null,Xe,n),[f.memoizedState,n]},useRef:function(n){var i=ln();return n={current:n},i.memoizedState=n},useState:function(n){n=Ou(n);var i=n.queue,a=bp.bind(null,Xe,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Gu,useDeferredValue:function(n,i){var a=ln();return Vu(a,n,i)},useTransition:function(){var n=Ou(!1);return n=xp.bind(null,Xe,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var f=Xe,g=ln();if(ft){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),Et===null)throw Error(o(349));(it&124)!==0||Xh(f,i,a)}g.memoizedState=a;var w={value:a,getSnapshot:i};return g.queue=w,dp(Qh.bind(null,f,w,n),[n]),f.flags|=2048,Fi(9,ms(),Zh.bind(null,f,w,a,i),null),a},useId:function(){var n=ln(),i=Et.identifierPrefix;if(ft){var a=rr,f=nr;a=(f&~(1<<32-ct(f)-1)).toString(32)+a,i=""+i+"R"+a,a=ds++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=yx++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:qu,useFormState:sp,useActionState:sp,useOptimistic:function(n){var i=ln();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Hu.bind(null,Xe,!0,a),a.dispatch=i,[n,i]},useMemoCache:Lu,useCacheRefresh:function(){return ln().memoizedState=Sx.bind(null,Xe)}},Mp={readContext:Xt,use:hs,useCallback:vp,useContext:Xt,useEffect:hp,useImperativeHandle:yp,useInsertionEffect:pp,useLayoutEffect:mp,useMemo:wp,useReducer:ps,useRef:fp,useState:function(){return ps(ar)},useDebugValue:Gu,useDeferredValue:function(n,i){var a=Ft();return Tp(a,vt.memoizedState,n,i)},useTransition:function(){var n=ps(ar)[0],i=Ft().memoizedState;return[typeof n=="boolean"?n:na(n),i]},useSyncExternalStore:$h,useId:_p,useHostTransitionStatus:qu,useFormState:lp,useActionState:lp,useOptimistic:function(n,i){var a=Ft();return tp(a,vt,n,i)},useMemoCache:Lu,useCacheRefresh:Cp},_x={readContext:Xt,use:hs,useCallback:vp,useContext:Xt,useEffect:hp,useImperativeHandle:yp,useInsertionEffect:pp,useLayoutEffect:mp,useMemo:wp,useReducer:Pu,useRef:fp,useState:function(){return Pu(ar)},useDebugValue:Gu,useDeferredValue:function(n,i){var a=Ft();return vt===null?Vu(a,n,i):Tp(a,vt.memoizedState,n,i)},useTransition:function(){var n=Pu(ar)[0],i=Ft().memoizedState;return[typeof n=="boolean"?n:na(n),i]},useSyncExternalStore:$h,useId:_p,useHostTransitionStatus:qu,useFormState:cp,useActionState:cp,useOptimistic:function(n,i){var a=Ft();return vt!==null?tp(a,vt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Lu,useCacheRefresh:Cp},Gi=null,oa=0;function ws(n){var i=oa;return oa+=1,Gi===null&&(Gi=[]),Vh(Gi,n,i)}function aa(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ts(n,i){throw i.$$typeof===T?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Dp(n){var i=n._init;return i(n._payload)}function Ip(n){function i(me,ce){if(n){var ge=me.deletions;ge===null?(me.deletions=[ce],me.flags|=16):ge.push(ce)}}function a(me,ce){if(!n)return null;for(;ce!==null;)i(me,ce),ce=ce.sibling;return null}function f(me){for(var ce=new Map;me!==null;)me.key!==null?ce.set(me.key,me):ce.set(me.index,me),me=me.sibling;return ce}function g(me,ce){return me=tr(me,ce),me.index=0,me.sibling=null,me}function w(me,ce,ge){return me.index=ge,n?(ge=me.alternate,ge!==null?(ge=ge.index,ge<ce?(me.flags|=67108866,ce):ge):(me.flags|=67108866,ce)):(me.flags|=1048576,ce)}function U(me){return n&&me.alternate===null&&(me.flags|=67108866),me}function q(me,ce,ge,Re){return ce===null||ce.tag!==6?(ce=fu(ge,me.mode,Re),ce.return=me,ce):(ce=g(ce,ge),ce.return=me,ce)}function ne(me,ce,ge,Re){var Pe=ge.type;return Pe===M?Ce(me,ce,ge.props.children,Re,ge.key):ce!==null&&(ce.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===he&&Dp(Pe)===ce.type)?(ce=g(ce,ge.props),aa(ce,ge),ce.return=me,ce):(ce=ns(ge.type,ge.key,ge.props,null,me.mode,Re),aa(ce,ge),ce.return=me,ce)}function ye(me,ce,ge,Re){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ge.containerInfo||ce.stateNode.implementation!==ge.implementation?(ce=du(ge,me.mode,Re),ce.return=me,ce):(ce=g(ce,ge.children||[]),ce.return=me,ce)}function Ce(me,ce,ge,Re,Pe){return ce===null||ce.tag!==7?(ce=Jr(ge,me.mode,Re,Pe),ce.return=me,ce):(ce=g(ce,ge),ce.return=me,ce)}function Me(me,ce,ge){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=fu(""+ce,me.mode,ge),ce.return=me,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case S:return ge=ns(ce.type,ce.key,ce.props,null,me.mode,ge),aa(ge,ce),ge.return=me,ge;case E:return ce=du(ce,me.mode,ge),ce.return=me,ce;case he:var Re=ce._init;return ce=Re(ce._payload),Me(me,ce,ge)}if(de(ce)||Z(ce))return ce=Jr(ce,me.mode,ge,null),ce.return=me,ce;if(typeof ce.then=="function")return Me(me,ws(ce),ge);if(ce.$$typeof===O)return Me(me,as(me,ce),ge);Ts(me,ce)}return null}function ve(me,ce,ge,Re){var Pe=ce!==null?ce.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Pe!==null?null:q(me,ce,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case S:return ge.key===Pe?ne(me,ce,ge,Re):null;case E:return ge.key===Pe?ye(me,ce,ge,Re):null;case he:return Pe=ge._init,ge=Pe(ge._payload),ve(me,ce,ge,Re)}if(de(ge)||Z(ge))return Pe!==null?null:Ce(me,ce,ge,Re,null);if(typeof ge.then=="function")return ve(me,ce,ws(ge),Re);if(ge.$$typeof===O)return ve(me,ce,as(me,ge),Re);Ts(me,ge)}return null}function we(me,ce,ge,Re,Pe){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return me=me.get(ge)||null,q(ce,me,""+Re,Pe);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case S:return me=me.get(Re.key===null?ge:Re.key)||null,ne(ce,me,Re,Pe);case E:return me=me.get(Re.key===null?ge:Re.key)||null,ye(ce,me,Re,Pe);case he:var Qe=Re._init;return Re=Qe(Re._payload),we(me,ce,ge,Re,Pe)}if(de(Re)||Z(Re))return me=me.get(ge)||null,Ce(ce,me,Re,Pe,null);if(typeof Re.then=="function")return we(me,ce,ge,ws(Re),Pe);if(Re.$$typeof===O)return we(me,ce,ge,as(ce,Re),Pe);Ts(ce,Re)}return null}function He(me,ce,ge,Re){for(var Pe=null,Qe=null,Ge=ce,qe=ce=0,Kt=null;Ge!==null&&qe<ge.length;qe++){Ge.index>qe?(Kt=Ge,Ge=null):Kt=Ge.sibling;var ut=ve(me,Ge,ge[qe],Re);if(ut===null){Ge===null&&(Ge=Kt);break}n&&Ge&&ut.alternate===null&&i(me,Ge),ce=w(ut,ce,qe),Qe===null?Pe=ut:Qe.sibling=ut,Qe=ut,Ge=Kt}if(qe===ge.length)return a(me,Ge),ft&&$r(me,qe),Pe;if(Ge===null){for(;qe<ge.length;qe++)Ge=Me(me,ge[qe],Re),Ge!==null&&(ce=w(Ge,ce,qe),Qe===null?Pe=Ge:Qe.sibling=Ge,Qe=Ge);return ft&&$r(me,qe),Pe}for(Ge=f(Ge);qe<ge.length;qe++)Kt=we(Ge,me,qe,ge[qe],Re),Kt!==null&&(n&&Kt.alternate!==null&&Ge.delete(Kt.key===null?qe:Kt.key),ce=w(Kt,ce,qe),Qe===null?Pe=Kt:Qe.sibling=Kt,Qe=Kt);return n&&Ge.forEach(function(Fr){return i(me,Fr)}),ft&&$r(me,qe),Pe}function ze(me,ce,ge,Re){if(ge==null)throw Error(o(151));for(var Pe=null,Qe=null,Ge=ce,qe=ce=0,Kt=null,ut=ge.next();Ge!==null&&!ut.done;qe++,ut=ge.next()){Ge.index>qe?(Kt=Ge,Ge=null):Kt=Ge.sibling;var Fr=ve(me,Ge,ut.value,Re);if(Fr===null){Ge===null&&(Ge=Kt);break}n&&Ge&&Fr.alternate===null&&i(me,Ge),ce=w(Fr,ce,qe),Qe===null?Pe=Fr:Qe.sibling=Fr,Qe=Fr,Ge=Kt}if(ut.done)return a(me,Ge),ft&&$r(me,qe),Pe;if(Ge===null){for(;!ut.done;qe++,ut=ge.next())ut=Me(me,ut.value,Re),ut!==null&&(ce=w(ut,ce,qe),Qe===null?Pe=ut:Qe.sibling=ut,Qe=ut);return ft&&$r(me,qe),Pe}for(Ge=f(Ge);!ut.done;qe++,ut=ge.next())ut=we(Ge,me,qe,ut.value,Re),ut!==null&&(n&&ut.alternate!==null&&Ge.delete(ut.key===null?qe:ut.key),ce=w(ut,ce,qe),Qe===null?Pe=ut:Qe.sibling=ut,Qe=ut);return n&&Ge.forEach(function(C1){return i(me,C1)}),ft&&$r(me,qe),Pe}function Tt(me,ce,ge,Re){if(typeof ge=="object"&&ge!==null&&ge.type===M&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case S:e:{for(var Pe=ge.key;ce!==null;){if(ce.key===Pe){if(Pe=ge.type,Pe===M){if(ce.tag===7){a(me,ce.sibling),Re=g(ce,ge.props.children),Re.return=me,me=Re;break e}}else if(ce.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===he&&Dp(Pe)===ce.type){a(me,ce.sibling),Re=g(ce,ge.props),aa(Re,ge),Re.return=me,me=Re;break e}a(me,ce);break}else i(me,ce);ce=ce.sibling}ge.type===M?(Re=Jr(ge.props.children,me.mode,Re,ge.key),Re.return=me,me=Re):(Re=ns(ge.type,ge.key,ge.props,null,me.mode,Re),aa(Re,ge),Re.return=me,me=Re)}return U(me);case E:e:{for(Pe=ge.key;ce!==null;){if(ce.key===Pe)if(ce.tag===4&&ce.stateNode.containerInfo===ge.containerInfo&&ce.stateNode.implementation===ge.implementation){a(me,ce.sibling),Re=g(ce,ge.children||[]),Re.return=me,me=Re;break e}else{a(me,ce);break}else i(me,ce);ce=ce.sibling}Re=du(ge,me.mode,Re),Re.return=me,me=Re}return U(me);case he:return Pe=ge._init,ge=Pe(ge._payload),Tt(me,ce,ge,Re)}if(de(ge))return He(me,ce,ge,Re);if(Z(ge)){if(Pe=Z(ge),typeof Pe!="function")throw Error(o(150));return ge=Pe.call(ge),ze(me,ce,ge,Re)}if(typeof ge.then=="function")return Tt(me,ce,ws(ge),Re);if(ge.$$typeof===O)return Tt(me,ce,as(me,ge),Re);Ts(me,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,ce!==null&&ce.tag===6?(a(me,ce.sibling),Re=g(ce,ge),Re.return=me,me=Re):(a(me,ce),Re=fu(ge,me.mode,Re),Re.return=me,me=Re),U(me)):a(me,ce)}return function(me,ce,ge,Re){try{oa=0;var Pe=Tt(me,ce,ge,Re);return Gi=null,Pe}catch(Ge){if(Ge===Xo||Ge===ls)throw Ge;var Qe=mn(29,Ge,null,me.mode);return Qe.lanes=Re,Qe.return=me,Qe}finally{}}}var Vi=Ip(!0),kp=Ip(!1),Rn=W(null),zn=null;function _r(n){var i=n.alternate;X(Vt,Vt.current&1),X(Rn,n),zn===null&&(i===null||Bi.current!==null||i.memoizedState!==null)&&(zn=n)}function Up(n){if(n.tag===22){if(X(Vt,Vt.current),X(Rn,n),zn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(zn=n)}}else Cr()}function Cr(){X(Vt,Vt.current),X(Rn,Rn.current)}function sr(n){L(Rn),zn===n&&(zn=null),L(Vt)}var Vt=W(0);function xs(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Uc(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ku(n,i,a,f){i=n.memoizedState,a=a(f,i),a=a==null?i:y({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Yu={enqueueSetState:function(n,i,a){n=n._reactInternals;var f=wn(),g=xr(f);g.payload=i,a!=null&&(g.callback=a),i=Sr(n,g,f),i!==null&&(Tn(i,n,f),Qo(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var f=wn(),g=xr(f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Sr(n,g,f),i!==null&&(Tn(i,n,f),Qo(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=wn(),f=xr(a);f.tag=2,i!=null&&(f.callback=i),i=Sr(n,f,a),i!==null&&(Tn(i,n,a),Qo(i,n,a))}};function Lp(n,i,a,f,g,w,U){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,w,U):i.prototype&&i.prototype.isPureReactComponent?!zo(a,f)||!zo(g,w):!0}function Bp(n,i,a,f){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,f),i.state!==n&&Yu.enqueueReplaceState(i,i.state,null)}function ni(n,i){var a=i;if("ref"in i){a={};for(var f in i)f!=="ref"&&(a[f]=i[f])}if(n=n.defaultProps){a===i&&(a=y({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}var Ss=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Pp(n){Ss(n)}function Op(n){console.error(n)}function Fp(n){Ss(n)}function Es(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function Gp(n,i,a){try{var f=n.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ju(n,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Es(n,i)},a}function Vp(n){return n=xr(n),n.tag=3,n}function zp(n,i,a,f){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var w=f.value;n.payload=function(){return g(w)},n.callback=function(){Gp(i,a,f)}}var U=a.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(n.callback=function(){Gp(i,a,f),typeof g!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var q=f.stack;this.componentDidCatch(f.value,{componentStack:q!==null?q:""})})}function Cx(n,i,a,f,g){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=a.alternate,i!==null&&Jo(i,a,g,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return zn===null?yc():a.alternate===null&&Mt===0&&(Mt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,f===Su?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([f]):i.add(f),wc(n,f,g)),!1;case 22:return a.flags|=65536,f===Su?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([f]):a.add(f)),wc(n,f,g)),!1}throw Error(o(435,a.tag))}return wc(n,f,g),yc(),!1}if(ft)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==mu&&(n=Error(o(422),{cause:f}),Yo(_n(n,a)))):(f!==mu&&(i=Error(o(423),{cause:f}),Yo(_n(i,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,f=_n(f,a),g=Ju(n.stateNode,f,g),Cu(n,g),Mt!==4&&(Mt=2)),!1;var w=Error(o(520),{cause:f});if(w=_n(w,a),ha===null?ha=[w]:ha.push(w),Mt!==4&&(Mt=2),i===null)return!0;f=_n(f,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=Ju(a.stateNode,f,n),Cu(a,n),!1;case 1:if(i=a.type,w=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dr===null||!Dr.has(w))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Vp(g),zp(g,n,a,f),Cu(a,g),!1}a=a.return}while(a!==null);return!1}var qp=Error(o(461)),qt=!1;function Yt(n,i,a,f){i.child=n===null?kp(i,null,a,f):Vi(i,n.child,a,f)}function Hp(n,i,a,f,g){a=a.render;var w=i.ref;if("ref"in f){var U={};for(var q in f)q!=="ref"&&(U[q]=f[q])}else U=f;return jr(i),f=Mu(n,i,a,U,w,g),q=Du(),n!==null&&!qt?(Iu(n,i,g),lr(n,i,g)):(ft&&q&&hu(i),i.flags|=1,Yt(n,i,f,g),i.child)}function Kp(n,i,a,f,g){if(n===null){var w=a.type;return typeof w=="function"&&!cu(w)&&w.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=w,Yp(n,i,w,f,g)):(n=ns(a.type,null,f,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(w=n.child,!tc(n,g)){var U=w.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(U,f)&&n.ref===i.ref)return lr(n,i,g)}return i.flags|=1,n=tr(w,f),n.ref=i.ref,n.return=i,i.child=n}function Yp(n,i,a,f,g){if(n!==null){var w=n.memoizedProps;if(zo(w,f)&&n.ref===i.ref)if(qt=!1,i.pendingProps=f=w,tc(n,g))(n.flags&131072)!==0&&(qt=!0);else return i.lanes=n.lanes,lr(n,i,g)}return Wu(n,i,a,f,g)}function Jp(n,i,a){var f=i.pendingProps,g=f.children,w=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=w!==null?w.baseLanes|a:a,n!==null){for(g=i.child=n.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;i.childLanes=w&~f}else i.childLanes=0,i.child=null;return Wp(n,i,f,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ss(i,w!==null?w.cachePool:null),w!==null?Yh(i,w):Au(),Up(i);else return i.lanes=i.childLanes=536870912,Wp(n,i,w!==null?w.baseLanes|a:a,a)}else w!==null?(ss(i,w.cachePool),Yh(i,w),Cr(),i.memoizedState=null):(n!==null&&ss(i,null),Au(),Cr());return Yt(n,i,g,a),i.child}function Wp(n,i,a,f){var g=xu();return g=g===null?null:{parent:Gt._currentValue,pool:g},i.memoizedState={baseLanes:a,cachePool:g},n!==null&&ss(i,null),Au(),Up(i),n!==null&&Jo(n,i,f,!0),null}function _s(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Wu(n,i,a,f,g){return jr(i),a=Mu(n,i,a,f,void 0,g),f=Du(),n!==null&&!qt?(Iu(n,i,g),lr(n,i,g)):(ft&&f&&hu(i),i.flags|=1,Yt(n,i,a,g),i.child)}function $p(n,i,a,f,g,w){return jr(i),i.updateQueue=null,a=Wh(i,f,a,g),Jh(n),f=Du(),n!==null&&!qt?(Iu(n,i,w),lr(n,i,w)):(ft&&f&&hu(i),i.flags|=1,Yt(n,i,a,w),i.child)}function Xp(n,i,a,f,g){if(jr(i),i.stateNode===null){var w=Di,U=a.contextType;typeof U=="object"&&U!==null&&(w=Xt(U)),w=new a(f,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Yu,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=f,w.state=i.memoizedState,w.refs={},Eu(i),U=a.contextType,w.context=typeof U=="object"&&U!==null?Xt(U):Di,w.state=i.memoizedState,U=a.getDerivedStateFromProps,typeof U=="function"&&(Ku(i,a,U,f),w.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(U=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),U!==w.state&&Yu.enqueueReplaceState(w,w.state,null),ea(i,f,w,g),jo(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(n===null){w=i.stateNode;var q=i.memoizedProps,ne=ni(a,q);w.props=ne;var ye=w.context,Ce=a.contextType;U=Di,typeof Ce=="object"&&Ce!==null&&(U=Xt(Ce));var Me=a.getDerivedStateFromProps;Ce=typeof Me=="function"||typeof w.getSnapshotBeforeUpdate=="function",q=i.pendingProps!==q,Ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(q||ye!==U)&&Bp(i,w,f,U),Tr=!1;var ve=i.memoizedState;w.state=ve,ea(i,f,w,g),jo(),ye=i.memoizedState,q||ve!==ye||Tr?(typeof Me=="function"&&(Ku(i,a,Me,f),ye=i.memoizedState),(ne=Tr||Lp(i,a,ne,f,ve,ye,U))?(Ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=ye),w.props=f,w.state=ye,w.context=U,f=ne):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{w=i.stateNode,_u(n,i),U=i.memoizedProps,Ce=ni(a,U),w.props=Ce,Me=i.pendingProps,ve=w.context,ye=a.contextType,ne=Di,typeof ye=="object"&&ye!==null&&(ne=Xt(ye)),q=a.getDerivedStateFromProps,(ye=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U!==Me||ve!==ne)&&Bp(i,w,f,ne),Tr=!1,ve=i.memoizedState,w.state=ve,ea(i,f,w,g),jo();var we=i.memoizedState;U!==Me||ve!==we||Tr||n!==null&&n.dependencies!==null&&os(n.dependencies)?(typeof q=="function"&&(Ku(i,a,q,f),we=i.memoizedState),(Ce=Tr||Lp(i,a,Ce,f,ve,we,ne)||n!==null&&n.dependencies!==null&&os(n.dependencies))?(ye||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,we,ne),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,we,ne)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||U===n.memoizedProps&&ve===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||U===n.memoizedProps&&ve===n.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=we),w.props=f,w.state=we,w.context=ne,f=Ce):(typeof w.componentDidUpdate!="function"||U===n.memoizedProps&&ve===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||U===n.memoizedProps&&ve===n.memoizedState||(i.flags|=1024),f=!1)}return w=f,_s(n,i),f=(i.flags&128)!==0,w||f?(w=i.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,n!==null&&f?(i.child=Vi(i,n.child,null,g),i.child=Vi(i,null,a,g)):Yt(n,i,a,g),i.memoizedState=w.state,n=i.child):n=lr(n,i,g),n}function Zp(n,i,a,f){return Ko(),i.flags|=256,Yt(n,i,a,f),i.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(n){return{baseLanes:n,cachePool:Oh()}}function Zu(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Nn),n}function Qp(n,i,a){var f=i.pendingProps,g=!1,w=(i.flags&128)!==0,U;if((U=w)||(U=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),U&&(g=!0,i.flags&=-129),U=(i.flags&32)!==0,i.flags&=-33,n===null){if(ft){if(g?_r(i):Cr(),ft){var q=Nt,ne;if(ne=q){e:{for(ne=q,q=Vn;ne.nodeType!==8;){if(!q){q=null;break e}if(ne=Pn(ne.nextSibling),ne===null){q=null;break e}}q=ne}q!==null?(i.memoizedState={dehydrated:q,treeContext:Wr!==null?{id:nr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},ne=mn(18,null,null,0),ne.stateNode=q,ne.return=i,i.child=ne,on=i,Nt=null,ne=!0):ne=!1}ne||Zr(i)}if(q=i.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return Uc(q)?i.lanes=32:i.lanes=536870912,null;sr(i)}return q=f.children,f=f.fallback,g?(Cr(),g=i.mode,q=Cs({mode:"hidden",children:q},g),f=Jr(f,g,a,null),q.return=i,f.return=i,q.sibling=f,i.child=q,g=i.child,g.memoizedState=Xu(a),g.childLanes=Zu(n,U,a),i.memoizedState=$u,f):(_r(i),Qu(i,q))}if(ne=n.memoizedState,ne!==null&&(q=ne.dehydrated,q!==null)){if(w)i.flags&256?(_r(i),i.flags&=-257,i=ju(n,i,a)):i.memoizedState!==null?(Cr(),i.child=n.child,i.flags|=128,i=null):(Cr(),g=f.fallback,q=i.mode,f=Cs({mode:"visible",children:f.children},q),g=Jr(g,q,a,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,Vi(i,n.child,null,a),f=i.child,f.memoizedState=Xu(a),f.childLanes=Zu(n,U,a),i.memoizedState=$u,i=g);else if(_r(i),Uc(q)){if(U=q.nextSibling&&q.nextSibling.dataset,U)var ye=U.dgst;U=ye,f=Error(o(419)),f.stack="",f.digest=U,Yo({value:f,source:null,stack:null}),i=ju(n,i,a)}else if(qt||Jo(n,i,a,!1),U=(a&n.childLanes)!==0,qt||U){if(U=Et,U!==null&&(f=a&-a,f=(f&42)!==0?1:At(f),f=(f&(U.suspendedLanes|a))!==0?0:f,f!==0&&f!==ne.retryLane))throw ne.retryLane=f,Mi(n,f),Tn(U,n,f),qp;q.data==="$?"||yc(),i=ju(n,i,a)}else q.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=ne.treeContext,Nt=Pn(q.nextSibling),on=i,ft=!0,Xr=null,Vn=!1,n!==null&&(bn[An++]=nr,bn[An++]=rr,bn[An++]=Wr,nr=n.id,rr=n.overflow,Wr=i),i=Qu(i,f.children),i.flags|=4096);return i}return g?(Cr(),g=f.fallback,q=i.mode,ne=n.child,ye=ne.sibling,f=tr(ne,{mode:"hidden",children:f.children}),f.subtreeFlags=ne.subtreeFlags&65011712,ye!==null?g=tr(ye,g):(g=Jr(g,q,a,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,q=n.child.memoizedState,q===null?q=Xu(a):(ne=q.cachePool,ne!==null?(ye=Gt._currentValue,ne=ne.parent!==ye?{parent:ye,pool:ye}:ne):ne=Oh(),q={baseLanes:q.baseLanes|a,cachePool:ne}),g.memoizedState=q,g.childLanes=Zu(n,U,a),i.memoizedState=$u,f):(_r(i),a=n.child,n=a.sibling,a=tr(a,{mode:"visible",children:f.children}),a.return=i,a.sibling=null,n!==null&&(U=i.deletions,U===null?(i.deletions=[n],i.flags|=16):U.push(n)),i.child=a,i.memoizedState=null,a)}function Qu(n,i){return i=Cs({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Cs(n,i){return n=mn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ju(n,i,a){return Vi(i,n.child,null,a),n=Qu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function jp(n,i,a){n.lanes|=i;var f=n.alternate;f!==null&&(f.lanes|=i),yu(n.return,i,a)}function ec(n,i,a,f,g){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=a,w.tailMode=g)}function em(n,i,a){var f=i.pendingProps,g=f.revealOrder,w=f.tail;if(Yt(n,i,f.children,a),f=Vt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jp(n,a,i);else if(n.tag===19)jp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(X(Vt,f),g){case"forwards":for(a=i.child,g=null;a!==null;)n=a.alternate,n!==null&&xs(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),ec(i,!1,g,a,w);break;case"backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&xs(n)===null){i.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}ec(i,!0,a,null,w);break;case"together":ec(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function lr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Mr|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Jo(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,a=tr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=tr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function tc(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&os(n)))}function bx(n,i,a){switch(i.tag){case 3:C(i,i.stateNode.containerInfo),wr(i,Gt,n.memoizedState.cache),Ko();break;case 27:case 5:z(i);break;case 4:C(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(_r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qp(n,i,a):(_r(i),n=lr(n,i,a),n!==null?n.sibling:null);_r(i);break;case 19:var g=(n.flags&128)!==0;if(f=(a&i.childLanes)!==0,f||(Jo(n,i,a,!1),f=(a&i.childLanes)!==0),g){if(f)return em(n,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(Vt,Vt.current),f)break;return null;case 22:case 23:return i.lanes=0,Jp(n,i,a);case 24:wr(i,Gt,n.memoizedState.cache)}return lr(n,i,a)}function tm(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)qt=!0;else{if(!tc(n,a)&&(i.flags&128)===0)return qt=!1,bx(n,i,a);qt=(n.flags&131072)!==0}else qt=!1,ft&&(i.flags&1048576)!==0&&Dh(i,is,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")cu(f)?(n=ni(f,n),i.tag=1,i=Xp(null,i,f,n,a)):(i.tag=0,i=Wu(null,i,f,n,a));else{if(f!=null){if(g=f.$$typeof,g===J){i.tag=11,i=Hp(null,i,f,n,a);break e}else if(g===oe){i.tag=14,i=Kp(null,i,f,n,a);break e}}throw i=B(f)||f,Error(o(306,i,""))}}return i;case 0:return Wu(n,i,i.type,i.pendingProps,a);case 1:return f=i.type,g=ni(f,i.pendingProps),Xp(n,i,f,g,a);case 3:e:{if(C(i,i.stateNode.containerInfo),n===null)throw Error(o(387));f=i.pendingProps;var w=i.memoizedState;g=w.element,_u(n,i),ea(i,f,null,a);var U=i.memoizedState;if(f=U.cache,wr(i,Gt,f),f!==w.cache&&vu(i,[Gt],a,!0),jo(),f=U.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:U.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=Zp(n,i,f,a);break e}else if(f!==g){g=_n(Error(o(424)),i),Yo(g),i=Zp(n,i,f,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Nt=Pn(n.firstChild),on=i,ft=!0,Xr=null,Vn=!0,a=kp(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ko(),f===g){i=lr(n,i,a);break e}Yt(n,i,f,a)}i=i.child}return i;case 26:return _s(n,i),n===null?(a=og(i.type,null,i.pendingProps,null))?i.memoizedState=a:ft||(a=i.type,n=i.pendingProps,f=Fs(V.current).createElement(a),f[lt]=i,f[It]=n,Wt(f,a,n),zt(f),i.stateNode=f):i.memoizedState=og(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return z(i),n===null&&ft&&(f=i.stateNode=ng(i.type,i.pendingProps,V.current),on=i,Vn=!0,g=Nt,Ur(i.type)?(Lc=g,Nt=Pn(f.firstChild)):Nt=g),Yt(n,i,i.pendingProps.children,a),_s(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ft&&((g=f=Nt)&&(f=e1(f,i.type,i.pendingProps,Vn),f!==null?(i.stateNode=f,on=i,Nt=Pn(f.firstChild),Vn=!1,g=!0):g=!1),g||Zr(i)),z(i),g=i.type,w=i.pendingProps,U=n!==null?n.memoizedProps:null,f=w.children,Dc(g,w)?f=null:U!==null&&Dc(g,U)&&(i.flags|=32),i.memoizedState!==null&&(g=Mu(n,i,vx,null,null,a),Sa._currentValue=g),_s(n,i),Yt(n,i,f,a),i.child;case 6:return n===null&&ft&&((n=a=Nt)&&(a=t1(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,on=i,Nt=null,n=!0):n=!1),n||Zr(i)),null;case 13:return Qp(n,i,a);case 4:return C(i,i.stateNode.containerInfo),f=i.pendingProps,n===null?i.child=Vi(i,null,f,a):Yt(n,i,f,a),i.child;case 11:return Hp(n,i,i.type,i.pendingProps,a);case 7:return Yt(n,i,i.pendingProps,a),i.child;case 8:return Yt(n,i,i.pendingProps.children,a),i.child;case 12:return Yt(n,i,i.pendingProps.children,a),i.child;case 10:return f=i.pendingProps,wr(i,i.type,f.value),Yt(n,i,f.children,a),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,jr(i),g=Xt(g),f=f(g),i.flags|=1,Yt(n,i,f,a),i.child;case 14:return Kp(n,i,i.type,i.pendingProps,a);case 15:return Yp(n,i,i.type,i.pendingProps,a);case 19:return em(n,i,a);case 31:return f=i.pendingProps,a=i.mode,f={mode:f.mode,children:f.children},n===null?(a=Cs(f,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=tr(n.child,f),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Jp(n,i,a);case 24:return jr(i),f=Xt(Gt),n===null?(g=xu(),g===null&&(g=Et,w=wu(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=a),g=w),i.memoizedState={parent:f,cache:g},Eu(i),wr(i,Gt,g)):((n.lanes&a)!==0&&(_u(n,i),ea(i,null,null,a),jo()),g=n.memoizedState,w=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),wr(i,Gt,f)):(f=w.cache,wr(i,Gt,f),f!==g.cache&&vu(i,[Gt],a,!0))),Yt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function ur(n){n.flags|=4}function nm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!cg(i)){if(i=Rn.current,i!==null&&((it&4194048)===it?zn!==null:(it&62914560)!==it&&(it&536870912)===0||i!==zn))throw Zo=Su,Fh;n.flags|=8192}}function bs(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?zr():536870912,n.lanes|=i,Ki|=i)}function sa(n,i){if(!ft)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,f=0;if(i)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=a,i}function Ax(n,i,a){var f=i.pendingProps;switch(pu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return a=i.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),or(Gt),$(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ho(i)?ur(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uh())),Rt(i),null;case 26:return a=i.memoizedState,n===null?(ur(i),a!==null?(Rt(i),nm(i,a)):(Rt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ur(i),Rt(i),nm(i,a)):(Rt(i),i.flags&=-16777217):(n.memoizedProps!==f&&ur(i),Rt(i),i.flags&=-16777217),null;case 27:F(i),a=V.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==f&&ur(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Rt(i),null}n=j.current,Ho(i)?Ih(i):(n=ng(g,f,a),i.stateNode=n,ur(i))}return Rt(i),null;case 5:if(F(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==f&&ur(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Rt(i),null}if(n=j.current,Ho(i))Ih(i);else{switch(g=Fs(V.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?g.createElement(a,{is:f.is}):g.createElement(a)}}n[lt]=i,n[It]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(Wt(n,a,f),a){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ur(i)}}return Rt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==f&&ur(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(o(166));if(n=V.current,Ho(i)){if(n=i.stateNode,a=i.memoizedProps,f=null,g=on,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}n[lt]=i,n=!!(n.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||$m(n.nodeValue,a)),n||Zr(i)}else n=Fs(n).createTextNode(f),n[lt]=i,i.stateNode=n}return Rt(i),null;case 13:if(f=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ho(i),f!==null&&f.dehydrated!==null){if(n===null){if(!g)throw Error(o(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[lt]=i}else Ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),g=!1}else g=Uh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(sr(i),i):(sr(i),null)}if(sr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=f!==null,n=n!==null&&n.memoizedState!==null,a){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),bs(i,i.updateQueue),Rt(i),null;case 4:return $(),n===null&&bc(i.stateNode.containerInfo),Rt(i),null;case 10:return or(i.type),Rt(i),null;case 19:if(L(Vt),g=i.memoizedState,g===null)return Rt(i),null;if(f=(i.flags&128)!==0,w=g.rendering,w===null)if(f)sa(g,!1);else{if(Mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(w=xs(n),w!==null){for(i.flags|=128,sa(g,!1),n=w.updateQueue,i.updateQueue=n,bs(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Mh(a,n),a=a.sibling;return X(Vt,Vt.current&1|2),i.child}n=n.sibling}g.tail!==null&&v()>Ns&&(i.flags|=128,f=!0,sa(g,!1),i.lanes=4194304)}else{if(!f)if(n=xs(w),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,bs(i,n),sa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ft)return Rt(i),null}else 2*v()-g.renderingStartTime>Ns&&a!==536870912&&(i.flags|=128,f=!0,sa(g,!1),i.lanes=4194304);g.isBackwards?(w.sibling=i.child,i.child=w):(n=g.last,n!==null?n.sibling=w:i.child=w,g.last=w)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=v(),i.sibling=null,n=Vt.current,X(Vt,f?n&1|2:n&1),i):(Rt(i),null);case 22:case 23:return sr(i),Ru(),f=i.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(a&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),a=i.updateQueue,a!==null&&bs(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==a&&(i.flags|=2048),n!==null&&L(ei),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),or(Gt),Rt(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Rx(n,i){switch(pu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return or(Gt),$(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return F(i),null;case 13:if(sr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Ko()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return L(Vt),null;case 4:return $(),null;case 10:return or(i.type),null;case 22:case 23:return sr(i),Ru(),n!==null&&L(ei),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return or(Gt),null;case 25:return null;default:return null}}function rm(n,i){switch(pu(i),i.tag){case 3:or(Gt),$();break;case 26:case 27:case 5:F(i);break;case 4:$();break;case 13:sr(i);break;case 19:L(Vt);break;case 10:or(i.type);break;case 22:case 23:sr(i),Ru(),n!==null&&L(ei);break;case 24:or(Gt)}}function la(n,i){try{var a=i.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var g=f.next;a=g;do{if((a.tag&n)===n){f=void 0;var w=a.create,U=a.inst;f=w(),U.destroy=f}a=a.next}while(a!==g)}}catch(q){St(i,i.return,q)}}function br(n,i,a){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var w=g.next;f=w;do{if((f.tag&n)===n){var U=f.inst,q=U.destroy;if(q!==void 0){U.destroy=void 0,g=i;var ne=a,ye=q;try{ye()}catch(Ce){St(g,ne,Ce)}}}f=f.next}while(f!==w)}}catch(Ce){St(i,i.return,Ce)}}function im(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Kh(i,a)}catch(f){St(n,n.return,f)}}}function om(n,i,a){a.props=ni(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(f){St(n,i,f)}}function ua(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(g){St(n,i,g)}}function qn(n,i){var a=n.ref,f=n.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(g){St(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){St(n,i,g)}else a.current=null}function am(n){var i=n.type,a=n.memoizedProps,f=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break e;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(g){St(n,n.return,g)}}function nc(n,i,a){try{var f=n.stateNode;$x(f,n.type,a,i),f[It]=i}catch(g){St(n,n.return,g)}}function sm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ur(n.type)||n.tag===4}function rc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ur(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ic(n,i,a){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Os));else if(f!==4&&(f===27&&Ur(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(ic(n,i,a),n=n.sibling;n!==null;)ic(n,i,a),n=n.sibling}function As(n,i,a){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(f!==4&&(f===27&&Ur(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(As(n,i,a),n=n.sibling;n!==null;)As(n,i,a),n=n.sibling}function lm(n){var i=n.stateNode,a=n.memoizedProps;try{for(var f=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Wt(i,f,a),i[lt]=n,i[It]=a}catch(w){St(n,n.return,w)}}var cr=!1,Ut=!1,oc=!1,um=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Nx(n,i){if(n=n.containerInfo,Nc=Ks,n=Th(n),ru(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{a.nodeType,w.nodeType}catch{a=null;break e}var U=0,q=-1,ne=-1,ye=0,Ce=0,Me=n,ve=null;t:for(;;){for(var we;Me!==a||g!==0&&Me.nodeType!==3||(q=U+g),Me!==w||f!==0&&Me.nodeType!==3||(ne=U+f),Me.nodeType===3&&(U+=Me.nodeValue.length),(we=Me.firstChild)!==null;)ve=Me,Me=we;for(;;){if(Me===n)break t;if(ve===a&&++ye===g&&(q=U),ve===w&&++Ce===f&&(ne=U),(we=Me.nextSibling)!==null)break;Me=ve,ve=Me.parentNode}Me=we}a=q===-1||ne===-1?null:{start:q,end:ne}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mc={focusedElem:n,selectionRange:a},Ks=!1,Ht=i;Ht!==null;)if(i=Ht,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ht=n;else for(;Ht!==null;){switch(i=Ht,w=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&w!==null){n=void 0,a=i,g=w.memoizedProps,w=w.memoizedState,f=a.stateNode;try{var He=ni(a.type,g,a.elementType===a.type);n=f.getSnapshotBeforeUpdate(He,w),f.__reactInternalSnapshotBeforeUpdate=n}catch(ze){St(a,a.return,ze)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)kc(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":kc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,Ht=n;break}Ht=i.return}}function cm(n,i,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(n,a),f&4&&la(5,a);break;case 1:if(Ar(n,a),f&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(U){St(a,a.return,U)}else{var g=ni(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(U){St(a,a.return,U)}}f&64&&im(a),f&512&&ua(a,a.return);break;case 3:if(Ar(n,a),f&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Kh(n,i)}catch(U){St(a,a.return,U)}}break;case 27:i===null&&f&4&&lm(a);case 26:case 5:Ar(n,a),i===null&&f&4&&am(a),f&512&&ua(a,a.return);break;case 12:Ar(n,a);break;case 13:Ar(n,a),f&4&&hm(n,a),f&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Ox.bind(null,a),n1(n,a))));break;case 22:if(f=a.memoizedState!==null||cr,!f){i=i!==null&&i.memoizedState!==null||Ut,g=cr;var w=Ut;cr=f,(Ut=i)&&!w?Rr(n,a,(a.subtreeFlags&8772)!==0):Ar(n,a),cr=g,Ut=w}break;case 30:break;default:Ar(n,a)}}function fm(n){var i=n.alternate;i!==null&&(n.alternate=null,fm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ol(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bt=null,un=!1;function fr(n,i,a){for(a=a.child;a!==null;)dm(n,i,a),a=a.sibling}function dm(n,i,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(ke,a)}catch{}switch(a.tag){case 26:Ut||qn(a,i),fr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||qn(a,i);var f=bt,g=un;Ur(a.type)&&(bt=a.stateNode,un=!1),fr(n,i,a),va(a.stateNode),bt=f,un=g;break;case 5:Ut||qn(a,i);case 6:if(f=bt,g=un,bt=null,fr(n,i,a),bt=f,un=g,bt!==null)if(un)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(w){St(a,i,w)}else try{bt.removeChild(a.stateNode)}catch(w){St(a,i,w)}break;case 18:bt!==null&&(un?(n=bt,eg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ba(n)):eg(bt,a.stateNode));break;case 4:f=bt,g=un,bt=a.stateNode.containerInfo,un=!0,fr(n,i,a),bt=f,un=g;break;case 0:case 11:case 14:case 15:Ut||br(2,a,i),Ut||br(4,a,i),fr(n,i,a);break;case 1:Ut||(qn(a,i),f=a.stateNode,typeof f.componentWillUnmount=="function"&&om(a,i,f)),fr(n,i,a);break;case 21:fr(n,i,a);break;case 22:Ut=(f=Ut)||a.memoizedState!==null,fr(n,i,a),Ut=f;break;default:fr(n,i,a)}}function hm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ba(n)}catch(a){St(i,i.return,a)}}function Mx(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new um),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new um),i;default:throw Error(o(435,n.tag))}}function ac(n,i){var a=Mx(n);i.forEach(function(f){var g=Fx.bind(null,n,f);a.has(f)||(a.add(f),f.then(g,g))})}function gn(n,i){var a=i.deletions;if(a!==null)for(var f=0;f<a.length;f++){var g=a[f],w=n,U=i,q=U;e:for(;q!==null;){switch(q.tag){case 27:if(Ur(q.type)){bt=q.stateNode,un=!1;break e}break;case 5:bt=q.stateNode,un=!1;break e;case 3:case 4:bt=q.stateNode.containerInfo,un=!0;break e}q=q.return}if(bt===null)throw Error(o(160));dm(w,U,g),bt=null,un=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)pm(i,n),i=i.sibling}var Bn=null;function pm(n,i){var a=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gn(i,n),yn(n),f&4&&(br(3,n,n.return),la(3,n),br(5,n,n.return));break;case 1:gn(i,n),yn(n),f&512&&(Ut||a===null||qn(a,a.return)),f&64&&cr&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var g=Bn;if(gn(i,n),yn(n),f&512&&(Ut||a===null||qn(a,a.return)),f&4){var w=a!==null?a.memoizedState:null;if(f=n.memoizedState,a===null)if(f===null)if(n.stateNode===null){e:{f=n.type,a=n.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":w=g.getElementsByTagName("title")[0],(!w||w[ko]||w[lt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(f),g.head.insertBefore(w,g.querySelector("head > title"))),Wt(w,f,a),w[lt]=n,zt(w),f=w;break e;case"link":var U=lg("link","href",g).get(f+(a.href||""));if(U){for(var q=0;q<U.length;q++)if(w=U[q],w.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&w.getAttribute("rel")===(a.rel==null?null:a.rel)&&w.getAttribute("title")===(a.title==null?null:a.title)&&w.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){U.splice(q,1);break t}}w=g.createElement(f),Wt(w,f,a),g.head.appendChild(w);break;case"meta":if(U=lg("meta","content",g).get(f+(a.content||""))){for(q=0;q<U.length;q++)if(w=U[q],w.getAttribute("content")===(a.content==null?null:""+a.content)&&w.getAttribute("name")===(a.name==null?null:a.name)&&w.getAttribute("property")===(a.property==null?null:a.property)&&w.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&w.getAttribute("charset")===(a.charSet==null?null:a.charSet)){U.splice(q,1);break t}}w=g.createElement(f),Wt(w,f,a),g.head.appendChild(w);break;default:throw Error(o(468,f))}w[lt]=n,zt(w),f=w}n.stateNode=f}else ug(g,n.type,n.stateNode);else n.stateNode=sg(g,f,n.memoizedProps);else w!==f?(w===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):w.count--,f===null?ug(g,n.type,n.stateNode):sg(g,f,n.memoizedProps)):f===null&&n.stateNode!==null&&nc(n,n.memoizedProps,a.memoizedProps)}break;case 27:gn(i,n),yn(n),f&512&&(Ut||a===null||qn(a,a.return)),a!==null&&f&4&&nc(n,n.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,n),yn(n),f&512&&(Ut||a===null||qn(a,a.return)),n.flags&32){g=n.stateNode;try{Ei(g,"")}catch(we){St(n,n.return,we)}}f&4&&n.stateNode!=null&&(g=n.memoizedProps,nc(n,g,a!==null?a.memoizedProps:g)),f&1024&&(oc=!0);break;case 6:if(gn(i,n),yn(n),f&4){if(n.stateNode===null)throw Error(o(162));f=n.memoizedProps,a=n.stateNode;try{a.nodeValue=f}catch(we){St(n,n.return,we)}}break;case 3:if(zs=null,g=Bn,Bn=Gs(i.containerInfo),gn(i,n),Bn=g,yn(n),f&4&&a!==null&&a.memoizedState.isDehydrated)try{ba(i.containerInfo)}catch(we){St(n,n.return,we)}oc&&(oc=!1,mm(n));break;case 4:f=Bn,Bn=Gs(n.stateNode.containerInfo),gn(i,n),yn(n),Bn=f;break;case 12:gn(i,n),yn(n);break;case 13:gn(i,n),yn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=v()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,ac(n,f)));break;case 22:g=n.memoizedState!==null;var ne=a!==null&&a.memoizedState!==null,ye=cr,Ce=Ut;if(cr=ye||g,Ut=Ce||ne,gn(i,n),Ut=Ce,cr=ye,yn(n),f&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(a===null||ne||cr||Ut||ri(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){ne=a=i;try{if(w=ne.stateNode,g)U=w.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{q=ne.stateNode;var Me=ne.memoizedProps.style,ve=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;q.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(we){St(ne,ne.return,we)}}}else if(i.tag===6){if(a===null){ne=i;try{ne.stateNode.nodeValue=g?"":ne.memoizedProps}catch(we){St(ne,ne.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=n.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,ac(n,a))));break;case 19:gn(i,n),yn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,ac(n,f)));break;case 30:break;case 21:break;default:gn(i,n),yn(n)}}function yn(n){var i=n.flags;if(i&2){try{for(var a,f=n.return;f!==null;){if(sm(f)){a=f;break}f=f.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var g=a.stateNode,w=rc(n);As(n,w,g);break;case 5:var U=a.stateNode;a.flags&32&&(Ei(U,""),a.flags&=-33);var q=rc(n);As(n,q,U);break;case 3:case 4:var ne=a.stateNode.containerInfo,ye=rc(n);ic(n,ye,ne);break;default:throw Error(o(161))}}catch(Ce){St(n,n.return,Ce)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function mm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;mm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ar(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cm(n,i.alternate,i),i=i.sibling}function ri(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:br(4,i,i.return),ri(i);break;case 1:qn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&om(i,i.return,a),ri(i);break;case 27:va(i.stateNode);case 26:case 5:qn(i,i.return),ri(i);break;case 22:i.memoizedState===null&&ri(i);break;case 30:ri(i);break;default:ri(i)}n=n.sibling}}function Rr(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=n,w=i,U=w.flags;switch(w.tag){case 0:case 11:case 15:Rr(g,w,a),la(4,w);break;case 1:if(Rr(g,w,a),f=w,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ye){St(f,f.return,ye)}if(f=w,g=f.updateQueue,g!==null){var q=f.stateNode;try{var ne=g.shared.hiddenCallbacks;if(ne!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ne.length;g++)Hh(ne[g],q)}catch(ye){St(f,f.return,ye)}}a&&U&64&&im(w),ua(w,w.return);break;case 27:lm(w);case 26:case 5:Rr(g,w,a),a&&f===null&&U&4&&am(w),ua(w,w.return);break;case 12:Rr(g,w,a);break;case 13:Rr(g,w,a),a&&U&4&&hm(g,w);break;case 22:w.memoizedState===null&&Rr(g,w,a),ua(w,w.return);break;case 30:break;default:Rr(g,w,a)}i=i.sibling}}function sc(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Wo(a))}function lc(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Wo(n))}function Hn(n,i,a,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gm(n,i,a,f),i=i.sibling}function gm(n,i,a,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Hn(n,i,a,f),g&2048&&la(9,i);break;case 1:Hn(n,i,a,f);break;case 3:Hn(n,i,a,f),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Wo(n)));break;case 12:if(g&2048){Hn(n,i,a,f),n=i.stateNode;try{var w=i.memoizedProps,U=w.id,q=w.onPostCommit;typeof q=="function"&&q(U,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ne){St(i,i.return,ne)}}else Hn(n,i,a,f);break;case 13:Hn(n,i,a,f);break;case 23:break;case 22:w=i.stateNode,U=i.alternate,i.memoizedState!==null?w._visibility&2?Hn(n,i,a,f):ca(n,i):w._visibility&2?Hn(n,i,a,f):(w._visibility|=2,zi(n,i,a,f,(i.subtreeFlags&10256)!==0)),g&2048&&sc(U,i);break;case 24:Hn(n,i,a,f),g&2048&&lc(i.alternate,i);break;default:Hn(n,i,a,f)}}function zi(n,i,a,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var w=n,U=i,q=a,ne=f,ye=U.flags;switch(U.tag){case 0:case 11:case 15:zi(w,U,q,ne,g),la(8,U);break;case 23:break;case 22:var Ce=U.stateNode;U.memoizedState!==null?Ce._visibility&2?zi(w,U,q,ne,g):ca(w,U):(Ce._visibility|=2,zi(w,U,q,ne,g)),g&&ye&2048&&sc(U.alternate,U);break;case 24:zi(w,U,q,ne,g),g&&ye&2048&&lc(U.alternate,U);break;default:zi(w,U,q,ne,g)}i=i.sibling}}function ca(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,f=i,g=f.flags;switch(f.tag){case 22:ca(a,f),g&2048&&sc(f.alternate,f);break;case 24:ca(a,f),g&2048&&lc(f.alternate,f);break;default:ca(a,f)}i=i.sibling}}var fa=8192;function qi(n){if(n.subtreeFlags&fa)for(n=n.child;n!==null;)ym(n),n=n.sibling}function ym(n){switch(n.tag){case 26:qi(n),n.flags&fa&&n.memoizedState!==null&&m1(Bn,n.memoizedState,n.memoizedProps);break;case 5:qi(n);break;case 3:case 4:var i=Bn;Bn=Gs(n.stateNode.containerInfo),qi(n),Bn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=fa,fa=16777216,qi(n),fa=i):qi(n));break;default:qi(n)}}function vm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function da(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];Ht=f,Tm(f,n)}vm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wm(n),n=n.sibling}function wm(n){switch(n.tag){case 0:case 11:case 15:da(n),n.flags&2048&&br(9,n,n.return);break;case 3:da(n);break;case 12:da(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Rs(n)):da(n);break;default:da(n)}}function Rs(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];Ht=f,Tm(f,n)}vm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:br(8,i,i.return),Rs(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rs(i));break;default:Rs(i)}n=n.sibling}}function Tm(n,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,Ht=f;else e:for(a=n;Ht!==null;){f=Ht;var g=f.sibling,w=f.return;if(fm(f),f===a){Ht=null;break e}if(g!==null){g.return=w,Ht=g;break e}Ht=w}}}var Dx={getCacheForType:function(n){var i=Xt(Gt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},Ix=typeof WeakMap=="function"?WeakMap:Map,mt=0,Et=null,et=null,it=0,gt=0,vn=null,Nr=!1,Hi=!1,uc=!1,dr=0,Mt=0,Mr=0,ii=0,cc=0,Nn=0,Ki=0,ha=null,cn=null,fc=!1,dc=0,Ns=1/0,Ms=null,Dr=null,Jt=0,Ir=null,Yi=null,Ji=0,hc=0,pc=null,xm=null,pa=0,mc=null;function wn(){if((mt&2)!==0&&it!==0)return it&-it;if(se.T!==null){var n=Ui;return n!==0?n:Sc()}return at()}function Sm(){Nn===0&&(Nn=(it&536870912)===0||ft?gi():536870912);var n=Rn.current;return n!==null&&(n.flags|=32),Nn}function Tn(n,i,a){(n===Et&&(gt===2||gt===9)||n.cancelPendingCommit!==null)&&(Wi(n,0),kr(n,it,Nn,!1)),Je(n,a),((mt&2)===0||n!==Et)&&(n===Et&&((mt&2)===0&&(ii|=a),Mt===4&&kr(n,it,Nn,!1)),Kn(n))}function Em(n,i,a){if((mt&6)!==0)throw Error(o(327));var f=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Gn(n,i),g=f?Lx(n,i):vc(n,i,!0),w=f;do{if(g===0){Hi&&!f&&kr(n,i,0,!1);break}else{if(a=n.current.alternate,w&&!kx(a)){g=vc(n,i,!1),w=!1;continue}if(g===2){if(w=i,n.errorRecoveryDisabledLanes&w)var U=0;else U=n.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){i=U;e:{var q=n;g=ha;var ne=q.current.memoizedState.isDehydrated;if(ne&&(Wi(q,U).flags|=256),U=vc(q,U,!1),U!==2){if(uc&&!ne){q.errorRecoveryDisabledLanes|=w,ii|=w,g=4;break e}w=cn,cn=g,w!==null&&(cn===null?cn=w:cn.push.apply(cn,w))}g=U}if(w=!1,g!==2)continue}}if(g===1){Wi(n,0),kr(n,i,0,!0);break}e:{switch(f=n,w=g,w){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:kr(f,i,Nn,!Nr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(g=dc+300-v(),10<g)){if(kr(f,i,Nn,!Nr),$t(f,0,!0)!==0)break e;f.timeoutHandle=Qm(_m.bind(null,f,a,cn,Ms,fc,i,Nn,ii,Ki,Nr,w,2,-0,0),g);break e}_m(f,a,cn,Ms,fc,i,Nn,ii,Ki,Nr,w,0,-0,0)}}break}while(!0);Kn(n)}function _m(n,i,a,f,g,w,U,q,ne,ye,Ce,Me,ve,we){if(n.timeoutHandle=-1,Me=i.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(xa={stylesheets:null,count:0,unsuspend:p1},ym(i),Me=g1(),Me!==null)){n.cancelPendingCommit=Me(Dm.bind(null,n,i,w,a,f,g,U,q,ne,Ce,1,ve,we)),kr(n,w,U,!ye);return}Dm(n,i,w,a,f,g,U,q,ne)}function kx(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var g=a[f],w=g.getSnapshot;g=g.value;try{if(!pn(w(),g))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function kr(n,i,a,f){i&=~cc,i&=~ii,n.suspendedLanes|=i,n.pingedLanes&=~i,f&&(n.warmLanes|=i),f=n.expirationTimes;for(var g=i;0<g;){var w=31-ct(g),U=1<<w;f[w]=-1,g&=~U}a!==0&&rt(n,a,i)}function Ds(){return(mt&6)===0?(ma(0),!1):!0}function gc(){if(et!==null){if(gt===0)var n=et.return;else n=et,ir=Qr=null,ku(n),Gi=null,oa=0,n=et;for(;n!==null;)rm(n.alternate,n),n=n.return;et=null}}function Wi(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Zx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),gc(),Et=n,et=a=tr(n.current,null),it=i,gt=0,vn=null,Nr=!1,Hi=Gn(n,i),uc=!1,Ki=Nn=cc=ii=Mr=Mt=0,cn=ha=null,fc=!1,(i&8)!==0&&(i|=i&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=i;0<f;){var g=31-ct(f),w=1<<g;i|=n[g],f&=~w}return dr=i,ja(),a}function Cm(n,i){Xe=null,se.H=vs,i===Xo||i===ls?(i=zh(),gt=3):i===Fh?(i=zh(),gt=4):gt=i===qp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,et===null&&(Mt=1,Es(n,_n(i,n.current)))}function bm(){var n=se.H;return se.H=vs,n===null?vs:n}function Am(){var n=se.A;return se.A=Dx,n}function yc(){Mt=4,Nr||(it&4194048)!==it&&Rn.current!==null||(Hi=!0),(Mr&134217727)===0&&(ii&134217727)===0||Et===null||kr(Et,it,Nn,!1)}function vc(n,i,a){var f=mt;mt|=2;var g=bm(),w=Am();(Et!==n||it!==i)&&(Ms=null,Wi(n,i)),i=!1;var U=Mt;e:do try{if(gt!==0&&et!==null){var q=et,ne=vn;switch(gt){case 8:gc(),U=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var ye=gt;if(gt=0,vn=null,$i(n,q,ne,ye),a&&Hi){U=0;break e}break;default:ye=gt,gt=0,vn=null,$i(n,q,ne,ye)}}Ux(),U=Mt;break}catch(Ce){Cm(n,Ce)}while(!0);return i&&n.shellSuspendCounter++,ir=Qr=null,mt=f,se.H=g,se.A=w,et===null&&(Et=null,it=0,ja()),U}function Ux(){for(;et!==null;)Rm(et)}function Lx(n,i){var a=mt;mt|=2;var f=bm(),g=Am();Et!==n||it!==i?(Ms=null,Ns=v()+500,Wi(n,i)):Hi=Gn(n,i);e:do try{if(gt!==0&&et!==null){i=et;var w=vn;t:switch(gt){case 1:gt=0,vn=null,$i(n,i,w,1);break;case 2:case 9:if(Gh(w)){gt=0,vn=null,Nm(i);break}i=function(){gt!==2&&gt!==9||Et!==n||(gt=7),Kn(n)},w.then(i,i);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:Gh(w)?(gt=0,vn=null,Nm(i)):(gt=0,vn=null,$i(n,i,w,7));break;case 5:var U=null;switch(et.tag){case 26:U=et.memoizedState;case 5:case 27:var q=et;if(!U||cg(U)){gt=0,vn=null;var ne=q.sibling;if(ne!==null)et=ne;else{var ye=q.return;ye!==null?(et=ye,Is(ye)):et=null}break t}}gt=0,vn=null,$i(n,i,w,5);break;case 6:gt=0,vn=null,$i(n,i,w,6);break;case 8:gc(),Mt=6;break e;default:throw Error(o(462))}}Bx();break}catch(Ce){Cm(n,Ce)}while(!0);return ir=Qr=null,se.H=f,se.A=g,mt=a,et!==null?0:(Et=null,it=0,ja(),Mt)}function Bx(){for(;et!==null&&!le();)Rm(et)}function Rm(n){var i=tm(n.alternate,n,dr);n.memoizedProps=n.pendingProps,i===null?Is(n):et=i}function Nm(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=$p(a,i,i.pendingProps,i.type,void 0,it);break;case 11:i=$p(a,i,i.pendingProps,i.type.render,i.ref,it);break;case 5:ku(i);default:rm(a,i),i=et=Mh(i,dr),i=tm(a,i,dr)}n.memoizedProps=n.pendingProps,i===null?Is(n):et=i}function $i(n,i,a,f){ir=Qr=null,ku(i),Gi=null,oa=0;var g=i.return;try{if(Cx(n,g,i,a,it)){Mt=1,Es(n,_n(a,n.current)),et=null;return}}catch(w){if(g!==null)throw et=g,w;Mt=1,Es(n,_n(a,n.current)),et=null;return}i.flags&32768?(ft||f===1?n=!0:Hi||(it&536870912)!==0?n=!1:(Nr=n=!0,(f===2||f===9||f===3||f===6)&&(f=Rn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Mm(i,n)):Is(i)}function Is(n){var i=n;do{if((i.flags&32768)!==0){Mm(i,Nr);return}n=i.return;var a=Ax(i.alternate,i,dr);if(a!==null){et=a;return}if(i=i.sibling,i!==null){et=i;return}et=i=n}while(i!==null);Mt===0&&(Mt=5)}function Mm(n,i){do{var a=Rx(n.alternate,n);if(a!==null){a.flags&=32767,et=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){et=n;return}et=n=a}while(n!==null);Mt=6,et=null}function Dm(n,i,a,f,g,w,U,q,ne){n.cancelPendingCommit=null;do ks();while(Jt!==0);if((mt&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(w=i.lanes|i.childLanes,w|=lu,nt(n,a,w,U,q,ne),n===Et&&(et=Et=null,it=0),Yi=i,Ir=n,Ji=a,hc=w,pc=g,xm=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Gx(ie,function(){return Bm(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=se.T,se.T=null,g=re.p,re.p=2,U=mt,mt|=4;try{Nx(n,i,a)}finally{mt=U,re.p=g,se.T=f}}Jt=1,Im(),km(),Um()}}function Im(){if(Jt===1){Jt=0;var n=Ir,i=Yi,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=se.T,se.T=null;var f=re.p;re.p=2;var g=mt;mt|=4;try{pm(i,n);var w=Mc,U=Th(n.containerInfo),q=w.focusedElem,ne=w.selectionRange;if(U!==q&&q&&q.ownerDocument&&wh(q.ownerDocument.documentElement,q)){if(ne!==null&&ru(q)){var ye=ne.start,Ce=ne.end;if(Ce===void 0&&(Ce=ye),"selectionStart"in q)q.selectionStart=ye,q.selectionEnd=Math.min(Ce,q.value.length);else{var Me=q.ownerDocument||document,ve=Me&&Me.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),He=q.textContent.length,ze=Math.min(ne.start,He),Tt=ne.end===void 0?ze:Math.min(ne.end,He);!we.extend&&ze>Tt&&(U=Tt,Tt=ze,ze=U);var me=vh(q,ze),ce=vh(q,Tt);if(me&&ce&&(we.rangeCount!==1||we.anchorNode!==me.node||we.anchorOffset!==me.offset||we.focusNode!==ce.node||we.focusOffset!==ce.offset)){var ge=Me.createRange();ge.setStart(me.node,me.offset),we.removeAllRanges(),ze>Tt?(we.addRange(ge),we.extend(ce.node,ce.offset)):(ge.setEnd(ce.node,ce.offset),we.addRange(ge))}}}}for(Me=[],we=q;we=we.parentNode;)we.nodeType===1&&Me.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Me.length;q++){var Re=Me[q];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Ks=!!Nc,Mc=Nc=null}finally{mt=g,re.p=f,se.T=a}}n.current=i,Jt=2}}function km(){if(Jt===2){Jt=0;var n=Ir,i=Yi,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=se.T,se.T=null;var f=re.p;re.p=2;var g=mt;mt|=4;try{cm(n,i.alternate,i)}finally{mt=g,re.p=f,se.T=a}}Jt=3}}function Um(){if(Jt===4||Jt===3){Jt=0,k();var n=Ir,i=Yi,a=Ji,f=xm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,Yi=Ir=null,Lm(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Dr=null),Ve(a),i=i.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(ke,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=se.T,g=re.p,re.p=2,se.T=null;try{for(var w=n.onRecoverableError,U=0;U<f.length;U++){var q=f[U];w(q.value,{componentStack:q.stack})}}finally{se.T=i,re.p=g}}(Ji&3)!==0&&ks(),Kn(n),g=n.pendingLanes,(a&4194090)!==0&&(g&42)!==0?n===mc?pa++:(pa=0,mc=n):pa=0,ma(0)}}function Lm(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Wo(i)))}function ks(n){return Im(),km(),Um(),Bm()}function Bm(){if(Jt!==5)return!1;var n=Ir,i=hc;hc=0;var a=Ve(Ji),f=se.T,g=re.p;try{re.p=32>a?32:a,se.T=null,a=pc,pc=null;var w=Ir,U=Ji;if(Jt=0,Yi=Ir=null,Ji=0,(mt&6)!==0)throw Error(o(331));var q=mt;if(mt|=4,wm(w.current),gm(w,w.current,U,a),mt=q,ma(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(ke,w)}catch{}return!0}finally{re.p=g,se.T=f,Lm(n,i)}}function Pm(n,i,a){i=_n(a,i),i=Ju(n.stateNode,i,2),n=Sr(n,i,2),n!==null&&(Je(n,2),Kn(n))}function St(n,i,a){if(n.tag===3)Pm(n,n,a);else for(;i!==null;){if(i.tag===3){Pm(i,n,a);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))){n=_n(a,n),a=Vp(2),f=Sr(i,a,2),f!==null&&(zp(a,f,i,n),Je(f,2),Kn(f));break}}i=i.return}}function wc(n,i,a){var f=n.pingCache;if(f===null){f=n.pingCache=new Ix;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(a)||(uc=!0,g.add(a),n=Px.bind(null,n,i,a),i.then(n,n))}function Px(n,i,a){var f=n.pingCache;f!==null&&f.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Et===n&&(it&a)===a&&(Mt===4||Mt===3&&(it&62914560)===it&&300>v()-dc?(mt&2)===0&&Wi(n,0):cc|=a,Ki===it&&(Ki=0)),Kn(n)}function Om(n,i){i===0&&(i=zr()),n=Mi(n,i),n!==null&&(Je(n,i),Kn(n))}function Ox(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Om(n,a)}function Fx(n,i){var a=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(i),Om(n,a)}function Gx(n,i){return fe(n,i)}var Us=null,Xi=null,Tc=!1,Ls=!1,xc=!1,oi=0;function Kn(n){n!==Xi&&n.next===null&&(Xi===null?Us=Xi=n:Xi=Xi.next=n),Ls=!0,Tc||(Tc=!0,zx())}function ma(n,i){if(!xc&&Ls){xc=!0;do for(var a=!1,f=Us;f!==null;){if(n!==0){var g=f.pendingLanes;if(g===0)var w=0;else{var U=f.suspendedLanes,q=f.pingedLanes;w=(1<<31-ct(42|n)+1)-1,w&=g&~(U&~q),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(a=!0,zm(f,w))}else w=it,w=$t(f,f===Et?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||Gn(f,w)||(a=!0,zm(f,w));f=f.next}while(a);xc=!1}}function Vx(){Fm()}function Fm(){Ls=Tc=!1;var n=0;oi!==0&&(Xx()&&(n=oi),oi=0);for(var i=v(),a=null,f=Us;f!==null;){var g=f.next,w=Gm(f,i);w===0?(f.next=null,a===null?Us=g:a.next=g,g===null&&(Xi=a)):(a=f,(n!==0||(w&3)!==0)&&(Ls=!0)),f=g}ma(n)}function Gm(n,i){for(var a=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,w=n.pendingLanes&-62914561;0<w;){var U=31-ct(w),q=1<<U,ne=g[U];ne===-1?((q&a)===0||(q&f)!==0)&&(g[U]=Do(q,i)):ne<=i&&(n.expiredLanes|=q),w&=~q}if(i=Et,a=it,a=$t(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,a===0||n===i&&(gt===2||gt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&R(f),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Gn(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(f!==null&&R(f),Ve(a)){case 2:case 8:a=Q;break;case 32:a=ie;break;case 268435456:a=_e;break;default:a=ie}return f=Vm.bind(null,n),a=fe(a,f),n.callbackPriority=i,n.callbackNode=a,i}return f!==null&&f!==null&&R(f),n.callbackPriority=2,n.callbackNode=null,2}function Vm(n,i){if(Jt!==0&&Jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(ks()&&n.callbackNode!==a)return null;var f=it;return f=$t(n,n===Et?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(Em(n,f,i),Gm(n,v()),n.callbackNode!=null&&n.callbackNode===a?Vm.bind(null,n):null)}function zm(n,i){if(ks())return null;Em(n,i,!0)}function zx(){Qx(function(){(mt&6)!==0?fe(N,Vx):Fm()})}function Sc(){return oi===0&&(oi=gi()),oi}function qm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ya(""+n)}function Hm(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function qx(n,i,a,f,g){if(i==="submit"&&a&&a.stateNode===g){var w=qm((g[It]||null).action),U=f.submitter;U&&(i=(i=U[It]||null)?qm(i.formAction):U.getAttribute("formAction"),i!==null&&(w=i,U=null));var q=new Xa("action","action",null,f,g);n.push({event:q,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(oi!==0){var ne=U?Hm(g,U):new FormData(g);zu(a,{pending:!0,data:ne,method:g.method,action:w},null,ne)}}else typeof w=="function"&&(q.preventDefault(),ne=U?Hm(g,U):new FormData(g),zu(a,{pending:!0,data:ne,method:g.method,action:w},w,ne))},currentTarget:g}]})}}for(var Ec=0;Ec<su.length;Ec++){var _c=su[Ec],Hx=_c.toLowerCase(),Kx=_c[0].toUpperCase()+_c.slice(1);Ln(Hx,"on"+Kx)}Ln(Eh,"onAnimationEnd"),Ln(_h,"onAnimationIteration"),Ln(Ch,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(lx,"onTransitionRun"),Ln(ux,"onTransitionStart"),Ln(cx,"onTransitionCancel"),Ln(bh,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ga));function Km(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var f=n[a],g=f.event;f=f.listeners;e:{var w=void 0;if(i)for(var U=f.length-1;0<=U;U--){var q=f[U],ne=q.instance,ye=q.currentTarget;if(q=q.listener,ne!==w&&g.isPropagationStopped())break e;w=q,g.currentTarget=ye;try{w(g)}catch(Ce){Ss(Ce)}g.currentTarget=null,w=ne}else for(U=0;U<f.length;U++){if(q=f[U],ne=q.instance,ye=q.currentTarget,q=q.listener,ne!==w&&g.isPropagationStopped())break e;w=q,g.currentTarget=ye;try{w(g)}catch(Ce){Ss(Ce)}g.currentTarget=null,w=ne}}}}function tt(n,i){var a=i[Qn];a===void 0&&(a=i[Qn]=new Set);var f=n+"__bubble";a.has(f)||(Ym(i,n,2,!1),a.add(f))}function Cc(n,i,a){var f=0;i&&(f|=4),Ym(a,n,f,i)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function bc(n){if(!n[Bs]){n[Bs]=!0,Fd.forEach(function(a){a!=="selectionchange"&&(Yx.has(a)||Cc(a,!1,n),Cc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Bs]||(i[Bs]=!0,Cc("selectionchange",!1,i))}}function Ym(n,i,a,f){switch(gg(i)){case 2:var g=w1;break;case 8:g=T1;break;default:g=Gc}a=g.bind(null,i,a,n),g=void 0,!Wl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(i,a,{capture:!0,passive:g}):n.addEventListener(i,a,!0):g!==void 0?n.addEventListener(i,a,{passive:g}):n.addEventListener(i,a,!1)}function Ac(n,i,a,f,g){var w=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var U=f.tag;if(U===3||U===4){var q=f.stateNode.containerInfo;if(q===g)break;if(U===4)for(U=f.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&U.stateNode.containerInfo===g)return;U=U.return}for(;q!==null;){if(U=yi(q),U===null)return;if(ne=U.tag,ne===5||ne===6||ne===26||ne===27){f=w=U;continue e}q=q.parentNode}}f=f.return}jd(function(){var ye=w,Ce=Yl(a),Me=[];e:{var ve=Ah.get(n);if(ve!==void 0){var we=Xa,He=n;switch(n){case"keypress":if(Wa(a)===0)break e;case"keydown":case"keyup":we=GT;break;case"focusin":He="focus",we=Ql;break;case"focusout":He="blur",we=Ql;break;case"beforeblur":case"afterblur":we=Ql;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=RT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=qT;break;case Eh:case _h:case Ch:we=DT;break;case bh:we=KT;break;case"scroll":case"scrollend":we=bT;break;case"wheel":we=JT;break;case"copy":case"cut":case"paste":we=kT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=ih;break;case"toggle":case"beforetoggle":we=$T}var ze=(i&4)!==0,Tt=!ze&&(n==="scroll"||n==="scrollend"),me=ze?ve!==null?ve+"Capture":null:ve;ze=[];for(var ce=ye,ge;ce!==null;){var Re=ce;if(ge=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||ge===null||me===null||(Re=Lo(ce,me),Re!=null&&ze.push(ya(ce,Re,ge))),Tt)break;ce=ce.return}0<ze.length&&(ve=new we(ve,He,null,a,Ce),Me.push({event:ve,listeners:ze}))}}if((i&7)===0){e:{if(ve=n==="mouseover"||n==="pointerover",we=n==="mouseout"||n==="pointerout",ve&&a!==Kl&&(He=a.relatedTarget||a.fromElement)&&(yi(He)||He[rn]))break e;if((we||ve)&&(ve=Ce.window===Ce?Ce:(ve=Ce.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(He=a.relatedTarget||a.toElement,we=ye,He=He?yi(He):null,He!==null&&(Tt=c(He),ze=He.tag,He!==Tt||ze!==5&&ze!==27&&ze!==6)&&(He=null)):(we=null,He=ye),we!==He)){if(ze=nh,Re="onMouseLeave",me="onMouseEnter",ce="mouse",(n==="pointerout"||n==="pointerover")&&(ze=ih,Re="onPointerLeave",me="onPointerEnter",ce="pointer"),Tt=we==null?ve:Uo(we),ge=He==null?ve:Uo(He),ve=new ze(Re,ce+"leave",we,a,Ce),ve.target=Tt,ve.relatedTarget=ge,Re=null,yi(Ce)===ye&&(ze=new ze(me,ce+"enter",He,a,Ce),ze.target=ge,ze.relatedTarget=Tt,Re=ze),Tt=Re,we&&He)t:{for(ze=we,me=He,ce=0,ge=ze;ge;ge=Zi(ge))ce++;for(ge=0,Re=me;Re;Re=Zi(Re))ge++;for(;0<ce-ge;)ze=Zi(ze),ce--;for(;0<ge-ce;)me=Zi(me),ge--;for(;ce--;){if(ze===me||me!==null&&ze===me.alternate)break t;ze=Zi(ze),me=Zi(me)}ze=null}else ze=null;we!==null&&Jm(Me,ve,we,ze,!1),He!==null&&Tt!==null&&Jm(Me,Tt,He,ze,!0)}}e:{if(ve=ye?Uo(ye):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var Pe=dh;else if(ch(ve))if(hh)Pe=ox;else{Pe=rx;var Qe=nx}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?ye&&Hl(ye.elementType)&&(Pe=dh):Pe=ix;if(Pe&&(Pe=Pe(n,ye))){fh(Me,Pe,a,Ce);break e}Qe&&Qe(n,ve,ye),n==="focusout"&&ye&&ve.type==="number"&&ye.memoizedProps.value!=null&&ql(ve,"number",ve.value)}switch(Qe=ye?Uo(ye):window,n){case"focusin":(ch(Qe)||Qe.contentEditable==="true")&&(Ai=Qe,iu=ye,qo=null);break;case"focusout":qo=iu=Ai=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,xh(Me,a,Ce);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":xh(Me,a,Ce)}var Ge;if(eu)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else bi?lh(n,a)&&(qe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(oh&&a.locale!=="ko"&&(bi||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&bi&&(Ge=eh()):(vr=Ce,$l="value"in vr?vr.value:vr.textContent,bi=!0)),Qe=Ps(ye,qe),0<Qe.length&&(qe=new rh(qe,n,null,a,Ce),Me.push({event:qe,listeners:Qe}),Ge?qe.data=Ge:(Ge=uh(a),Ge!==null&&(qe.data=Ge)))),(Ge=ZT?QT(n,a):jT(n,a))&&(qe=Ps(ye,"onBeforeInput"),0<qe.length&&(Qe=new rh("onBeforeInput","beforeinput",null,a,Ce),Me.push({event:Qe,listeners:qe}),Qe.data=Ge)),qx(Me,n,ye,a,Ce)}Km(Me,i)})}function ya(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ps(n,i){for(var a=i+"Capture",f=[];n!==null;){var g=n,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=Lo(n,a),g!=null&&f.unshift(ya(n,g,w)),g=Lo(n,i),g!=null&&f.push(ya(n,g,w))),n.tag===3)return f;n=n.return}return[]}function Zi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Jm(n,i,a,f,g){for(var w=i._reactName,U=[];a!==null&&a!==f;){var q=a,ne=q.alternate,ye=q.stateNode;if(q=q.tag,ne!==null&&ne===f)break;q!==5&&q!==26&&q!==27||ye===null||(ne=ye,g?(ye=Lo(a,w),ye!=null&&U.unshift(ya(a,ye,ne))):g||(ye=Lo(a,w),ye!=null&&U.push(ya(a,ye,ne)))),a=a.return}U.length!==0&&n.push({event:i,listeners:U})}var Jx=/\r\n?/g,Wx=/\u0000|\uFFFD/g;function Wm(n){return(typeof n=="string"?n:""+n).replace(Jx,`
`).replace(Wx,"")}function $m(n,i){return i=Wm(i),Wm(n)===i}function Os(){}function wt(n,i,a,f,g,w){switch(a){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||Ei(n,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&Ei(n,""+f);break;case"className":qa(n,"class",f);break;case"tabIndex":qa(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":qa(n,a,f);break;case"style":Zd(n,f,w);break;case"data":if(i!=="object"){qa(n,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(a);break}f=Ya(""+f),n.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(a==="formAction"?(i!=="input"&&wt(n,i,"name",g.name,g,null),wt(n,i,"formEncType",g.formEncType,g,null),wt(n,i,"formMethod",g.formMethod,g,null),wt(n,i,"formTarget",g.formTarget,g,null)):(wt(n,i,"encType",g.encType,g,null),wt(n,i,"method",g.method,g,null),wt(n,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(a);break}f=Ya(""+f),n.setAttribute(a,f);break;case"onClick":f!=null&&(n.onclick=Os);break;case"onScroll":f!=null&&tt("scroll",n);break;case"onScrollEnd":f!=null&&tt("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(a=f.__html,a!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}a=Ya(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,""+f):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":f===!0?n.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(a,f):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(a,f):n.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(a):n.setAttribute(a,f);break;case"popover":tt("beforetoggle",n),tt("toggle",n),za(n,"popover",f);break;case"xlinkActuate":jn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":jn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":jn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":jn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":jn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":jn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":jn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":jn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":jn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":za(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_T.get(a)||a,za(n,a,f))}}function Rc(n,i,a,f,g,w){switch(a){case"style":Zd(n,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(a=f.__html,a!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof f=="string"?Ei(n,f):(typeof f=="number"||typeof f=="bigint")&&Ei(n,""+f);break;case"onScroll":f!=null&&tt("scroll",n);break;case"onScrollEnd":f!=null&&tt("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),i=a.slice(2,g?a.length-7:void 0),w=n[It]||null,w=w!=null?w[a]:null,typeof w=="function"&&n.removeEventListener(i,w,g),typeof f=="function")){typeof w!="function"&&w!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,f,g);break e}a in n?n[a]=f:f===!0?n.setAttribute(a,""):za(n,a,f)}}}function Wt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",n),tt("load",n);var f=!1,g=!1,w;for(w in a)if(a.hasOwnProperty(w)){var U=a[w];if(U!=null)switch(w){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:wt(n,i,w,U,a,null)}}g&&wt(n,i,"srcSet",a.srcSet,a,null),f&&wt(n,i,"src",a.src,a,null);return;case"input":tt("invalid",n);var q=w=U=g=null,ne=null,ye=null;for(f in a)if(a.hasOwnProperty(f)){var Ce=a[f];if(Ce!=null)switch(f){case"name":g=Ce;break;case"type":U=Ce;break;case"checked":ne=Ce;break;case"defaultChecked":ye=Ce;break;case"value":w=Ce;break;case"defaultValue":q=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(o(137,i));break;default:wt(n,i,f,Ce,a,null)}}Jd(n,w,q,ne,ye,U,g,!1),Ha(n);return;case"select":tt("invalid",n),f=U=w=null;for(g in a)if(a.hasOwnProperty(g)&&(q=a[g],q!=null))switch(g){case"value":w=q;break;case"defaultValue":U=q;break;case"multiple":f=q;default:wt(n,i,g,q,a,null)}i=w,a=U,n.multiple=!!f,i!=null?Si(n,!!f,i,!1):a!=null&&Si(n,!!f,a,!0);return;case"textarea":tt("invalid",n),w=g=f=null;for(U in a)if(a.hasOwnProperty(U)&&(q=a[U],q!=null))switch(U){case"value":f=q;break;case"defaultValue":g=q;break;case"children":w=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(91));break;default:wt(n,i,U,q,a,null)}$d(n,f,g,w),Ha(n);return;case"option":for(ne in a)if(a.hasOwnProperty(ne)&&(f=a[ne],f!=null))switch(ne){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:wt(n,i,ne,f,a,null)}return;case"dialog":tt("beforetoggle",n),tt("toggle",n),tt("cancel",n),tt("close",n);break;case"iframe":case"object":tt("load",n);break;case"video":case"audio":for(f=0;f<ga.length;f++)tt(ga[f],n);break;case"image":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"embed":case"source":case"link":tt("error",n),tt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in a)if(a.hasOwnProperty(ye)&&(f=a[ye],f!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:wt(n,i,ye,f,a,null)}return;default:if(Hl(i)){for(Ce in a)a.hasOwnProperty(Ce)&&(f=a[Ce],f!==void 0&&Rc(n,i,Ce,f,a,void 0));return}}for(q in a)a.hasOwnProperty(q)&&(f=a[q],f!=null&&wt(n,i,q,f,a,null))}function $x(n,i,a,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,U=null,q=null,ne=null,ye=null,Ce=null;for(we in a){var Me=a[we];if(a.hasOwnProperty(we)&&Me!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":ne=Me;default:f.hasOwnProperty(we)||wt(n,i,we,null,f,Me)}}for(var ve in f){var we=f[ve];if(Me=a[ve],f.hasOwnProperty(ve)&&(we!=null||Me!=null))switch(ve){case"type":w=we;break;case"name":g=we;break;case"checked":ye=we;break;case"defaultChecked":Ce=we;break;case"value":U=we;break;case"defaultValue":q=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(o(137,i));break;default:we!==Me&&wt(n,i,ve,we,f,Me)}}zl(n,U,q,ne,ye,Ce,w,g);return;case"select":we=U=q=ve=null;for(w in a)if(ne=a[w],a.hasOwnProperty(w)&&ne!=null)switch(w){case"value":break;case"multiple":we=ne;default:f.hasOwnProperty(w)||wt(n,i,w,null,f,ne)}for(g in f)if(w=f[g],ne=a[g],f.hasOwnProperty(g)&&(w!=null||ne!=null))switch(g){case"value":ve=w;break;case"defaultValue":q=w;break;case"multiple":U=w;default:w!==ne&&wt(n,i,g,w,f,ne)}i=q,a=U,f=we,ve!=null?Si(n,!!a,ve,!1):!!f!=!!a&&(i!=null?Si(n,!!a,i,!0):Si(n,!!a,a?[]:"",!1));return;case"textarea":we=ve=null;for(q in a)if(g=a[q],a.hasOwnProperty(q)&&g!=null&&!f.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:wt(n,i,q,null,f,g)}for(U in f)if(g=f[U],w=a[U],f.hasOwnProperty(U)&&(g!=null||w!=null))switch(U){case"value":ve=g;break;case"defaultValue":we=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==w&&wt(n,i,U,g,f,w)}Wd(n,ve,we);return;case"option":for(var He in a)if(ve=a[He],a.hasOwnProperty(He)&&ve!=null&&!f.hasOwnProperty(He))switch(He){case"selected":n.selected=!1;break;default:wt(n,i,He,null,f,ve)}for(ne in f)if(ve=f[ne],we=a[ne],f.hasOwnProperty(ne)&&ve!==we&&(ve!=null||we!=null))switch(ne){case"selected":n.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:wt(n,i,ne,ve,f,we)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in a)ve=a[ze],a.hasOwnProperty(ze)&&ve!=null&&!f.hasOwnProperty(ze)&&wt(n,i,ze,null,f,ve);for(ye in f)if(ve=f[ye],we=a[ye],f.hasOwnProperty(ye)&&ve!==we&&(ve!=null||we!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(o(137,i));break;default:wt(n,i,ye,ve,f,we)}return;default:if(Hl(i)){for(var Tt in a)ve=a[Tt],a.hasOwnProperty(Tt)&&ve!==void 0&&!f.hasOwnProperty(Tt)&&Rc(n,i,Tt,void 0,f,ve);for(Ce in f)ve=f[Ce],we=a[Ce],!f.hasOwnProperty(Ce)||ve===we||ve===void 0&&we===void 0||Rc(n,i,Ce,ve,f,we);return}}for(var me in a)ve=a[me],a.hasOwnProperty(me)&&ve!=null&&!f.hasOwnProperty(me)&&wt(n,i,me,null,f,ve);for(Me in f)ve=f[Me],we=a[Me],!f.hasOwnProperty(Me)||ve===we||ve==null&&we==null||wt(n,i,Me,ve,f,we)}var Nc=null,Mc=null;function Fs(n){return n.nodeType===9?n:n.ownerDocument}function Xm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Dc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ic=null;function Xx(){var n=window.event;return n&&n.type==="popstate"?n===Ic?!1:(Ic=n,!0):(Ic=null,!1)}var Qm=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(n){return jm.resolve(null).then(n).catch(jx)}:Qm;function jx(n){setTimeout(function(){throw n})}function Ur(n){return n==="head"}function eg(n,i){var a=i,f=0,g=0;do{var w=a.nextSibling;if(n.removeChild(a),w&&w.nodeType===8)if(a=w.data,a==="/$"){if(0<f&&8>f){a=f;var U=n.ownerDocument;if(a&1&&va(U.documentElement),a&2&&va(U.body),a&4)for(a=U.head,va(a),U=a.firstChild;U;){var q=U.nextSibling,ne=U.nodeName;U[ko]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&U.rel.toLowerCase()==="stylesheet"||a.removeChild(U),U=q}}if(g===0){n.removeChild(w),ba(i);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:f=a.charCodeAt(0)-48;else f=0;a=w}while(a);ba(i)}function kc(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kc(a),Ol(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function e1(n,i,a,f){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[ko])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(w=n.getAttribute("rel"),w==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(w!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(w=n.getAttribute("src"),(w!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===w)return n}else return n;if(n=Pn(n.nextSibling),n===null)break}return null}function t1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Pn(n.nextSibling),n===null))return null;return n}function Uc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function n1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var f=function(){i(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Pn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Lc=null;function tg(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function ng(n,i,a){switch(i=Fs(a),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function va(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ol(n)}var Mn=new Map,rg=new Set;function Gs(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var hr=re.d;re.d={f:r1,r:i1,D:o1,C:a1,L:s1,m:l1,X:c1,S:u1,M:f1};function r1(){var n=hr.f(),i=Ds();return n||i}function i1(n){var i=vi(n);i!==null&&i.tag===5&&i.type==="form"?Ep(i):hr.r(n)}var Qi=typeof document>"u"?null:document;function ig(n,i,a){var f=Qi;if(f&&typeof i=="string"&&i){var g=En(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),rg.has(g)||(rg.add(g),n={rel:n,crossOrigin:a,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),Wt(i,"link",n),zt(i),f.head.appendChild(i)))}}function o1(n){hr.D(n),ig("dns-prefetch",n,null)}function a1(n,i){hr.C(n,i),ig("preconnect",n,i)}function s1(n,i,a){hr.L(n,i,a);var f=Qi;if(f&&n&&i){var g='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+En(a.imageSizes)+'"]')):g+='[href="'+En(n)+'"]';var w=g;switch(i){case"style":w=ji(n);break;case"script":w=eo(n)}Mn.has(w)||(n=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Mn.set(w,n),f.querySelector(g)!==null||i==="style"&&f.querySelector(wa(w))||i==="script"&&f.querySelector(Ta(w))||(i=f.createElement("link"),Wt(i,"link",n),zt(i),f.head.appendChild(i)))}}function l1(n,i){hr.m(n,i);var a=Qi;if(a&&n){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+En(f)+'"][href="'+En(n)+'"]',w=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=eo(n)}if(!Mn.has(w)&&(n=y({rel:"modulepreload",href:n},i),Mn.set(w,n),a.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ta(w)))return}f=a.createElement("link"),Wt(f,"link",n),zt(f),a.head.appendChild(f)}}}function u1(n,i,a){hr.S(n,i,a);var f=Qi;if(f&&n){var g=wi(f).hoistableStyles,w=ji(n);i=i||"default";var U=g.get(w);if(!U){var q={loading:0,preload:null};if(U=f.querySelector(wa(w)))q.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Mn.get(w))&&Bc(n,a);var ne=U=f.createElement("link");zt(ne),Wt(ne,"link",n),ne._p=new Promise(function(ye,Ce){ne.onload=ye,ne.onerror=Ce}),ne.addEventListener("load",function(){q.loading|=1}),ne.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Vs(U,i,f)}U={type:"stylesheet",instance:U,count:1,state:q},g.set(w,U)}}}function c1(n,i){hr.X(n,i);var a=Qi;if(a&&n){var f=wi(a).hoistableScripts,g=eo(n),w=f.get(g);w||(w=a.querySelector(Ta(g)),w||(n=y({src:n,async:!0},i),(i=Mn.get(g))&&Pc(n,i),w=a.createElement("script"),zt(w),Wt(w,"link",n),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function f1(n,i){hr.M(n,i);var a=Qi;if(a&&n){var f=wi(a).hoistableScripts,g=eo(n),w=f.get(g);w||(w=a.querySelector(Ta(g)),w||(n=y({src:n,async:!0,type:"module"},i),(i=Mn.get(g))&&Pc(n,i),w=a.createElement("script"),zt(w),Wt(w,"link",n),a.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function og(n,i,a,f){var g=(g=V.current)?Gs(g):null;if(!g)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ji(a.href),a=wi(g).hoistableStyles,f=a.get(i),f||(f={type:"style",instance:null,count:0,state:null},a.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ji(a.href);var w=wi(g).hoistableStyles,U=w.get(n);if(U||(g=g.ownerDocument||g,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(n,U),(w=g.querySelector(wa(n)))&&!w._p&&(U.instance=w,U.state.loading=5),Mn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(n,a),w||d1(g,n,a,U.state))),i&&f===null)throw Error(o(528,""));return U}if(i&&f!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=wi(g).hoistableScripts,f=a.get(i),f||(f={type:"script",instance:null,count:0,state:null},a.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function ji(n){return'href="'+En(n)+'"'}function wa(n){return'link[rel="stylesheet"]['+n+"]"}function ag(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function d1(n,i,a,f){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=n.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),Wt(i,"link",a),zt(i),n.head.appendChild(i))}function eo(n){return'[src="'+En(n)+'"]'}function Ta(n){return"script[async]"+n}function sg(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var f=n.querySelector('style[data-href~="'+En(a.href)+'"]');if(f)return i.instance=f,zt(f),f;var g=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),zt(f),Wt(f,"style",g),Vs(f,a.precedence,n),i.instance=f;case"stylesheet":g=ji(a.href);var w=n.querySelector(wa(g));if(w)return i.state.loading|=4,i.instance=w,zt(w),w;f=ag(a),(g=Mn.get(g))&&Bc(f,g),w=(n.ownerDocument||n).createElement("link"),zt(w);var U=w;return U._p=new Promise(function(q,ne){U.onload=q,U.onerror=ne}),Wt(w,"link",f),i.state.loading|=4,Vs(w,a.precedence,n),i.instance=w;case"script":return w=eo(a.src),(g=n.querySelector(Ta(w)))?(i.instance=g,zt(g),g):(f=a,(g=Mn.get(w))&&(f=y({},a),Pc(f,g)),n=n.ownerDocument||n,g=n.createElement("script"),zt(g),Wt(g,"link",f),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,Vs(f,a.precedence,n));return i.instance}function Vs(n,i,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,w=g,U=0;U<f.length;U++){var q=f[U];if(q.dataset.precedence===i)w=q;else if(w!==g)break}w?w.parentNode.insertBefore(n,w.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Bc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Pc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var zs=null;function lg(n,i,a){if(zs===null){var f=new Map,g=zs=new Map;g.set(a,f)}else g=zs,f=g.get(a),f||(f=new Map,g.set(a,f));if(f.has(n))return f;for(f.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var w=a[g];if(!(w[ko]||w[lt]||n==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var U=w.getAttribute(i)||"";U=n+U;var q=f.get(U);q?q.push(w):f.set(U,[w])}}return f}function ug(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function h1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var xa=null;function p1(){}function m1(n,i,a){if(xa===null)throw Error(o(475));var f=xa;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=ji(a.href),w=n.querySelector(wa(g));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=qs.bind(f),n.then(f,f)),i.state.loading|=4,i.instance=w,zt(w);return}w=n.ownerDocument||n,a=ag(a),(g=Mn.get(g))&&Bc(a,g),w=w.createElement("link"),zt(w);var U=w;U._p=new Promise(function(q,ne){U.onload=q,U.onerror=ne}),Wt(w,"link",a),i.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=qs.bind(f),n.addEventListener("load",i),n.addEventListener("error",i))}}function g1(){if(xa===null)throw Error(o(475));var n=xa;return n.stylesheets&&n.count===0&&Oc(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Oc(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function qs(){if(this.count--,this.count===0){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Hs=null;function Oc(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Hs=new Map,i.forEach(y1,n),Hs=null,qs.call(n))}function y1(n,i){if(!(i.state.loading&4)){var a=Hs.get(n);if(a)var f=a.get(null);else{a=new Map,Hs.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var U=g[w];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(a.set(U.dataset.precedence,U),f=U)}f&&a.set(null,f)}g=i.instance,U=g.getAttribute("data-precedence"),w=a.get(U)||f,w===f&&a.set(null,g),a.set(U,g),this.count++,f=qs.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),w?w.parentNode.insertBefore(g,w.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Sa={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function v1(n,i,a,f,g,w,U,q){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ke(0),this.hiddenUpdates=Ke(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function fg(n,i,a,f,g,w,U,q,ne,ye,Ce,Me){return n=new v1(n,i,a,U,q,ne,ye,Me),i=1,w===!0&&(i|=24),w=mn(3,null,null,i),n.current=w,w.stateNode=n,i=wu(),i.refCount++,n.pooledCache=i,i.refCount++,w.memoizedState={element:f,isDehydrated:a,cache:i},Eu(w),n}function dg(n){return n?(n=Di,n):Di}function hg(n,i,a,f,g,w){g=dg(g),f.context===null?f.context=g:f.pendingContext=g,f=xr(i),f.payload={element:a},w=w===void 0?null:w,w!==null&&(f.callback=w),a=Sr(n,f,i),a!==null&&(Tn(a,n,i),Qo(a,n,i))}function pg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Fc(n,i){pg(n,i),(n=n.alternate)&&pg(n,i)}function mg(n){if(n.tag===13){var i=Mi(n,67108864);i!==null&&Tn(i,n,67108864),Fc(n,67108864)}}var Ks=!0;function w1(n,i,a,f){var g=se.T;se.T=null;var w=re.p;try{re.p=2,Gc(n,i,a,f)}finally{re.p=w,se.T=g}}function T1(n,i,a,f){var g=se.T;se.T=null;var w=re.p;try{re.p=8,Gc(n,i,a,f)}finally{re.p=w,se.T=g}}function Gc(n,i,a,f){if(Ks){var g=Vc(f);if(g===null)Ac(n,i,f,Ys,a),yg(n,f);else if(S1(g,n,i,a,f))f.stopPropagation();else if(yg(n,f),i&4&&-1<x1.indexOf(n)){for(;g!==null;){var w=vi(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var U=hn(w.pendingLanes);if(U!==0){var q=w;for(q.pendingLanes|=2,q.entangledLanes|=2;U;){var ne=1<<31-ct(U);q.entanglements[1]|=ne,U&=~ne}Kn(w),(mt&6)===0&&(Ns=v()+500,ma(0))}}break;case 13:q=Mi(w,2),q!==null&&Tn(q,w,2),Ds(),Fc(w,2)}if(w=Vc(f),w===null&&Ac(n,i,f,Ys,a),w===g)break;g=w}g!==null&&f.stopPropagation()}else Ac(n,i,f,null,a)}}function Vc(n){return n=Yl(n),zc(n)}var Ys=null;function zc(n){if(Ys=null,n=yi(n),n!==null){var i=c(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=d(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Ys=n,null}function gg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(x()){case N:return 2;case Q:return 8;case ie:case te:return 32;case _e:return 268435456;default:return 32}default:return 32}}var qc=!1,Lr=null,Br=null,Pr=null,Ea=new Map,_a=new Map,Or=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yg(n,i){switch(n){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Ea.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(i.pointerId)}}function Ca(n,i,a,f,g,w){return n===null||n.nativeEvent!==w?(n={blockedOn:i,domEventName:a,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},i!==null&&(i=vi(i),i!==null&&mg(i)),n):(n.eventSystemFlags|=f,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function S1(n,i,a,f,g){switch(i){case"focusin":return Lr=Ca(Lr,n,i,a,f,g),!0;case"dragenter":return Br=Ca(Br,n,i,a,f,g),!0;case"mouseover":return Pr=Ca(Pr,n,i,a,f,g),!0;case"pointerover":var w=g.pointerId;return Ea.set(w,Ca(Ea.get(w)||null,n,i,a,f,g)),!0;case"gotpointercapture":return w=g.pointerId,_a.set(w,Ca(_a.get(w)||null,n,i,a,f,g)),!0}return!1}function vg(n){var i=yi(n.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){n.blockedOn=i,st(n.priority,function(){if(a.tag===13){var f=wn();f=At(f);var g=Mi(a,f);g!==null&&Tn(g,a,f),Fc(a,f)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Js(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Vc(n.nativeEvent);if(a===null){a=n.nativeEvent;var f=new a.constructor(a.type,a);Kl=f,a.target.dispatchEvent(f),Kl=null}else return i=vi(a),i!==null&&mg(i),n.blockedOn=a,!1;i.shift()}return!0}function wg(n,i,a){Js(n)&&a.delete(i)}function E1(){qc=!1,Lr!==null&&Js(Lr)&&(Lr=null),Br!==null&&Js(Br)&&(Br=null),Pr!==null&&Js(Pr)&&(Pr=null),Ea.forEach(wg),_a.forEach(wg)}function Ws(n,i){n.blockedOn===i&&(n.blockedOn=null,qc||(qc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,E1)))}var $s=null;function Tg(n){$s!==n&&($s=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$s===n&&($s=null);for(var i=0;i<n.length;i+=3){var a=n[i],f=n[i+1],g=n[i+2];if(typeof f!="function"){if(zc(f||a)===null)continue;break}var w=vi(a);w!==null&&(n.splice(i,3),i-=3,zu(w,{pending:!0,data:g,method:a.method,action:f},f,g))}}))}function ba(n){function i(ne){return Ws(ne,n)}Lr!==null&&Ws(Lr,n),Br!==null&&Ws(Br,n),Pr!==null&&Ws(Pr,n),Ea.forEach(i),_a.forEach(i);for(var a=0;a<Or.length;a++){var f=Or[a];f.blockedOn===n&&(f.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)vg(a),a.blockedOn===null&&Or.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var g=a[f],w=a[f+1],U=g[It]||null;if(typeof w=="function")U||Tg(a);else if(U){var q=null;if(w&&w.hasAttribute("formAction")){if(g=w,U=w[It]||null)q=U.formAction;else if(zc(g)!==null)continue}else q=U.action;typeof q=="function"?a[f+1]=q:(a.splice(f,3),f-=3),Tg(a)}}}function Hc(n){this._internalRoot=n}Xs.prototype.render=Hc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,f=wn();hg(a,f,n,i,null,null)},Xs.prototype.unmount=Hc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;hg(n.current,2,null,n,null,null),Ds(),i[rn]=null}};function Xs(n){this._internalRoot=n}Xs.prototype.unstable_scheduleHydration=function(n){if(n){var i=at();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,n),a===0&&vg(n)}};var xg=e.version;if(xg!=="19.1.1")throw Error(o(527,xg,"19.1.1"));re.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var _1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{ke=Zs.inject(_1),Le=Zs}catch{}}return Ra.createRoot=function(n,i){if(!s(n))throw Error(o(299));var a=!1,f="",g=Pp,w=Op,U=Fp,q=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(U=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(q=i.unstable_transitionCallbacks)),i=fg(n,1,!1,null,null,a,f,g,w,U,q,null),n[rn]=i.current,bc(n),new Hc(i)},Ra.hydrateRoot=function(n,i,a){if(!s(n))throw Error(o(299));var f=!1,g="",w=Pp,U=Op,q=Fp,ne=null,ye=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(w=a.onUncaughtError),a.onCaughtError!==void 0&&(U=a.onCaughtError),a.onRecoverableError!==void 0&&(q=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(ne=a.unstable_transitionCallbacks),a.formState!==void 0&&(ye=a.formState)),i=fg(n,1,!0,i,a??null,f,g,w,U,q,ne,ye),i.context=dg(null),a=i.current,f=wn(),f=At(f),g=xr(f),g.callback=null,Sr(a,g,f),a=f,i.current.lanes=a,Je(i,a),Kn(i),n[rn]=i.current,bc(n),new Xs(i)},Ra.version="19.1.1",Ra}var Dg;function U1(){if(Dg)return Jc.exports;Dg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jc.exports=k1(),Jc.exports}var L1=U1();const B1=Sv(L1),Zc=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",P1=t=>{if(!t)return"";try{const e=new Date(t),o=Math.round((new Date().getTime()-e.getTime())/1e3);if(o<2)return"agora";if(o<60)return`${o}s atrs`;const s=Math.round(o/60);if(s<60)return`${s}m atrs`;const c=Math.round(s/60);if(c<24)return`${c}h atrs`;const d=Math.round(c/24);return d<=7?`${d}d atrs`:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}).format(e)}catch{return""}},Ig=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"})}),O1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),kg=({isCollapsed:t})=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transition-transform duration-200 ${t?"-rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),F1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),G1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),V1=({width:t,title:e,documents:r,categories:o,activeDocumentId:s,onSelectDocument:c,onUpdateCategoryName:d,onUpdateDocumentTitle:h,onReorderDocuments:p,onReorderCategories:m,onFindReferences:y,totalWordCount:T,searchQuery:S,onSearchChange:E,searchResults:M,onSelectSearchResult:b})=>{const[I,A]=Ue.useState(null),[D,O]=Ue.useState(""),[J,K]=Ue.useState({}),[ue,oe]=Ue.useState(!1),[he,G]=Ue.useState(null),Te=ee=>{K(V=>({...V,[ee]:!V[ee]}))},be=ee=>{const V=r.find(C=>C.id===ee),_=V==null?void 0:V.content.some(C=>C.type==="heading");s===ee?_&&oe(C=>!C):(c(ee),oe(!1))},Z=(ee,V,_)=>{A({type:ee,id:V}),O(_)},pe=()=>{A(null),O("")},B=()=>{if(!I||!D.trim()){pe();return}I.type==="category"?d(I.id,D):I.type==="document"&&h(I.id,D),pe()},de=ee=>{ee.key==="Enter"?B():ee.key==="Escape"&&pe()},se=()=>{G(null)},re=(ee,V)=>{ee.dataTransfer.setData("application/json",JSON.stringify({type:"doc",id:V})),ee.dataTransfer.effectAllowed="move",setTimeout(()=>G({type:"doc",id:V}),0)},Ae=ee=>{ee.preventDefault(),(he==null?void 0:he.type)==="doc"&&ee.currentTarget.classList.add("bg-gray-700/50")},ae=ee=>{ee.currentTarget.classList.remove("bg-gray-700/50")},Y=(ee,V)=>{ee.preventDefault(),ee.currentTarget.classList.remove("bg-gray-700/50");try{const _=JSON.parse(ee.dataTransfer.getData("application/json"));_.type==="doc"&&_.id&&_.id!==V&&p(_.id,V)}catch(_){console.error(_)}G(null)},W=(ee,V)=>{ee.dataTransfer.setData("application/json",JSON.stringify({type:"category",name:V})),ee.dataTransfer.effectAllowed="move",setTimeout(()=>G({type:"category",id:V}),0)},L=ee=>{ee.preventDefault(),(he==null?void 0:he.type)==="category"&&ee.currentTarget.classList.add("bg-gray-700/50")},X=ee=>{ee.currentTarget.classList.remove("bg-gray-700/50")},j=(ee,V)=>{ee.preventDefault(),ee.stopPropagation(),ee.currentTarget.classList.remove("bg-gray-700/50");try{const _=JSON.parse(ee.dataTransfer.getData("application/json"));_.type==="category"&&_.name&&_.name!==V&&m(_.name,V)}catch(_){console.error(_)}G(null)};return P.jsxs("aside",{style:{width:`${t}px`},className:"bg-gray-800 text-white flex flex-col h-full border-r border-gray-700 flex-shrink-0",children:[P.jsxs("div",{className:"p-4 border-b border-gray-700",children:[P.jsx("h2",{className:"text-xl font-semibold mb-3",children:e}),P.jsxs("div",{className:"relative text-gray-400 focus-within:text-gray-100",children:[P.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:P.jsx(F1,{})}),P.jsx("input",{type:"text",placeholder:"Pesquisar documentos...",value:S,onChange:ee=>E(ee.target.value),className:"w-full pl-10 pr-10 py-2 bg-gray-900 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),S&&P.jsx("button",{onClick:()=>E(""),className:"absolute inset-y-0 right-0 flex items-center pr-3","aria-label":"Clear search",children:P.jsx(G1,{})})]})]}),P.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:S?P.jsx("div",{children:M.length>0?P.jsx("ul",{className:"space-y-2",children:M.map(ee=>P.jsx("li",{children:P.jsxs("button",{onClick:()=>b(ee.docId,ee.viewMode),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[P.jsx("div",{className:"font-semibold text-indigo-400",children:ee.docTitle}),P.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:[ee.category," (",ee.viewMode.toUpperCase(),")"]}),P.jsx("div",{className:"space-y-1 text-sm text-gray-400 italic",children:ee.snippets.slice(0,3).map((V,_)=>P.jsx("div",{className:"truncate text-ellipsis",children:V},_))})]})},ee.docId))}):P.jsx("div",{className:"text-center text-gray-500 p-4",children:"Nenhum resultado encontrado."})}):o.map(ee=>{const V=r.filter(z=>z.category===ee);if(V.length===0)return null;const _=(I==null?void 0:I.type)==="category"&&I.id===ee,C=!!J[ee],$=(he==null?void 0:he.type)==="category"&&he.id===ee;return P.jsxs("div",{className:`transition-opacity ${$?"opacity-30":""}`,children:[P.jsx("div",{className:"group flex items-center justify-between mb-2 rounded-md",draggable:!_,onDragStart:_?void 0:z=>W(z,ee),onDragEnd:_?void 0:se,onDragOver:_?void 0:L,onDragLeave:_?void 0:X,onDrop:_?void 0:z=>j(z,ee),style:{cursor:_?"default":"grab"},children:_?P.jsx("input",{type:"text",value:D,onChange:z=>O(z.target.value),onBlur:B,onKeyDown:de,autoFocus:!0,className:"w-full bg-gray-900 text-sm font-bold text-indigo-300 uppercase tracking-wider p-1 rounded border border-indigo-500 outline-none"}):P.jsxs(P.Fragment,{children:[P.jsxs("button",{onClick:()=>Te(ee),className:"flex items-center flex-grow text-left text-sm font-bold text-indigo-400 uppercase tracking-wider p-1 -ml-1 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 group","aria-expanded":!C,"aria-controls":`category-section-${Zc(ee)}`,children:[P.jsx(kg,{isCollapsed:C}),P.jsx("span",{className:"ml-1 group-hover:text-indigo-300 transition-colors",children:ee})]}),P.jsx("button",{onClick:()=>Z("category",ee,ee),className:"text-gray-500 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1 ml-2 flex-shrink-0","aria-label":`Edit category ${ee}`,children:P.jsx(Ig,{})})]})}),!C&&P.jsx("ul",{id:`category-section-${Zc(ee)}`,className:"space-y-1 pl-4 border-l border-gray-600 ml-1.5",children:V.map(z=>{const F=(I==null?void 0:I.type)==="document"&&I.id===z.id,H=s===z.id,fe=z.content.some(le=>le.type==="heading"),R=(he==null?void 0:he.type)==="doc"&&he.id===z.id;return P.jsxs("li",{draggable:!F,onDragStart:F?void 0:le=>re(le,z.id),onDragEnd:F?void 0:se,onDragOver:F?void 0:Ae,onDragLeave:F?void 0:ae,onDrop:F?void 0:le=>Y(le,z.id),className:`rounded-md transition-opacity ${R?"opacity-30":""}`,children:[P.jsx("div",{className:`group flex items-center justify-between w-full pr-1 transition-colors duration-200 rounded-md ${H?"bg-indigo-600":"hover:bg-gray-700"}`,children:F?P.jsx("input",{type:"text",value:D,onChange:le=>O(le.target.value),onBlur:B,onKeyDown:de,autoFocus:!0,className:"w-full bg-gray-900 text-sm px-3 py-2 rounded-md border border-indigo-500 outline-none"}):P.jsxs(P.Fragment,{children:[P.jsxs("button",{onClick:()=>be(z.id),className:`flex items-start flex-grow text-left px-3 py-2 text-sm w-full rounded-l-md ${H?"font-semibold":"text-gray-300 group-hover:text-white"}`,style:{cursor:"grab"},"aria-expanded":H&&fe?!ue:void 0,"aria-controls":H&&fe?`doc-headings-${z.id}`:void 0,children:[P.jsx("span",{className:"w-4 mr-1 flex-shrink-0 mt-1",children:H&&fe&&P.jsx(kg,{isCollapsed:ue})}),P.jsxs("div",{className:"flex-grow",children:[P.jsx("span",{className:"block truncate",title:z.title,children:z.title}),H&&z.lastEdited&&P.jsx("div",{className:"text-xs font-normal text-indigo-200/80 -mt-0.5",children:P1(z.lastEdited)})]})]}),P.jsxs("div",{className:"flex items-center flex-shrink-0",children:[P.jsx("button",{onClick:()=>y(z.id),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Find references for ${z.title}`,title:`Encontrar referncias para ${z.title}`,children:P.jsx(O1,{})}),P.jsx("button",{onClick:()=>Z("document",z.id,z.title),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Edit title for ${z.title}`,children:P.jsx(Ig,{})})]})]})}),H&&fe&&!ue&&P.jsx("ul",{id:`doc-headings-${z.id}`,className:"pl-4 mt-1 space-y-1 border-l border-gray-600 ml-3",children:z.content.filter(le=>le.type==="heading").map((le,k)=>{const v=Zc(le.text),x=N=>{switch(N){case 1:return"pl-3";case 2:return"pl-6";case 3:return"pl-9";default:return"pl-3"}};return P.jsx("li",{children:P.jsx("a",{href:`#${v}`,onClick:N=>{N.preventDefault();const Q=document.getElementById(v);Q&&Q.scrollIntoView({behavior:"smooth"})},className:`block w-full text-left py-1 text-xs text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors ${x(le.level)}`,children:le.text})},`${z.id}-heading-${k}`)})})]},z.id)})})]},ee)})}),P.jsx("footer",{className:"p-4 border-t border-gray-700",children:P.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[P.jsx("div",{className:"font-semibold uppercase tracking-wider",children:"Tamanho Total"}),P.jsxs("div",{className:"text-lg font-bold text-white",children:[T.toLocaleString("pt-BR")," palavras"]}),P.jsxs("div",{className:"text-gray-500",children:["~",Math.round(T/.75).toLocaleString("pt-BR")," tokens estimados"]})]})})]})},z1=()=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-2",children:[P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}),P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a8.25 8.25 0 0 1-8.25-8.25V12a8.25 8.25 0 0 1 16.5 0v.75A8.25 8.25 0 0 1 12 21Z"})]}),q1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),H1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),K1=()=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[P.jsx("path",{fill:"#4CAF50",d:"M32.4,18.3l-7.4-12.8L10.3,34.4l7.4,12.8L32.4,18.3z"}),P.jsx("path",{fill:"#FFC107",d:"M10.3,12.8L2.9,25.6l14.7,8.5l7.4-12.8L10.3,12.8z"}),P.jsx("path",{fill:"#2196F3",d:"M45.1,25.6L32.4,47.2l-7.4-12.8L40,12.8L45.1,25.6z"})]}),Y1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),J1=()=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:[P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4-2.245 4.5 4.5 0 118.4-2.475c0 1.039-.44 2.002-1.215 2.754a3 3 0 00-1.008 2.836z"}),P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 5.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z"})]}),W1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456l1.178.398-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),Ev=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3v18M3 3h9M3 12h9m-9 9h9M15 3h6m-3 0v18"})}),$1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),X1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12M8.25 17.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Z1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Q1=()=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"}),P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})]}),j1=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:P.jsx("path",{fillRule:"evenodd",d:"M9.191 2.992c.213.385.418.77.615 1.156a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038zM3 9.75A.75.75 0 013.75 9h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 9.75zm16.491-6.758a.75.75 0 011.107-.038 8.25 8.25 0 011.538 3.327c.079.316.153.636.223.959a.75.75 0 01-.58.871 8.25 8.25 0 00-3.612-.387l-.054.022a.75.75 0 11-.84-1.01c.197-.386.402-.77.615-1.156zM18 9.75a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm-9.841 7.242a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038c.213.385.418.77.615 1.156zm8.682 1.01a.75.75 0 00.84-1.01c-.197-.386-.402-.77-.615-1.156a.75.75 0 00-1.107-.038 8.25 8.25 0 00-1.538 3.327c-.079.316-.153.636-.223.959a.75.75 0 00.58.871 8.25 8.25 0 013.612-.387l.054.022z",clipRule:"evenodd"})}),eS=()=>P.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 p-8",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"})}),P.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Welcome to your GDD"}),P.jsx("p",{className:"mt-2 max-w-md",children:'Select a document from the sidebar to view its content, or use the "Integrate New Idea" button to add new concepts with the help of AI.'})]}),Qc=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",Na=({onClick:t})=>P.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Editar texto",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),tS=({onClick:t})=>P.jsx("button",{onClick:t,className:"heading-level-button p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Alterar nvel do ttulo",children:P.jsx(Ev,{})}),to=({onClick:t})=>P.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-red-600 hover:text-white transition-all",title:"Apagar bloco",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),Ug=({onClick:t})=>P.jsx("div",{className:"absolute inset-x-0 -top-4 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10",children:P.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md",title:"Adicionar bloco",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})}),nS=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),rS=({document:t,allDocuments:e,onNavigate:r,onRefineRequest:o,onFindReferences:s,onUpdateBlock:c,onUpdateBlockContent:d,onSetContent:h,scrollToHeading:p,onDidScrollToHeading:m,onOpenImageGenerationModal:y})=>{const[T,S]=Ue.useState(null),[E,M]=Ue.useState(null),[b,I]=Ue.useState(null),[A,D]=Ue.useState(""),O=Ue.useRef(null),J=Ue.useRef(null),[K,ue]=Ue.useState(null),[oe,he]=Ue.useState(0),[G,Te]=Ue.useState(null);Ue.useEffect(()=>{if(p&&t){const V=window.document.getElementById(p);V&&(V.scrollIntoView({behavior:"smooth",block:"start"}),V.classList.add("highlight-scroll"),setTimeout(()=>{V.classList.remove("highlight-scroll")},2e3)),m()}},[p,t,m]),Ue.useEffect(()=>{const V=_=>{T&&_.target instanceof Element&&!_.target.closest(".refine-popup")&&S(null),E&&_.target instanceof Element&&!_.target.closest(".heading-level-popup, .heading-level-button")&&M(null),K&&_.target instanceof Element&&!_.target.closest(".add-block-menu")&&ue(null)};return window.document.addEventListener("mousedown",V),()=>{window.document.removeEventListener("mousedown",V)}},[T,E,K]);const be=()=>{var _;if(!t||b)return;const V=window.getSelection();if(V&&!V.isCollapsed&&V.rangeCount>0){const C=V.getRangeAt(0);let $=C.startContainer.parentElement;if(!((_=O.current)!=null&&_.contains($))){S(null);return}const z=$==null?void 0:$.closest("[data-block-index]");if(!z){S(null);return}const F=z.getAttribute("data-block-index");if(!F)return;const H=parseInt(F,10),fe=t.content[H];let R,le="";if(fe.type==="list"&&"items"in fe&&Array.isArray(fe.items)&&typeof fe.items[0]=="string"){const x=$==null?void 0:$.closest("[data-item-index]");if(x){const N=x.getAttribute("data-item-index");N&&(R=parseInt(N,10),le=fe.items[R])}else{S(null);return}}else if(fe.type==="heading"||fe.type==="paragraph"||fe.type==="blockquote")le=fe.text;else if(fe.type==="image")le=fe.caption;else{S(null);return}if(!le){S(null);return}const k=C.getBoundingClientRect(),v=O.current.getBoundingClientRect();S({top:k.top-v.top-40,left:k.left-v.left+k.width/2-16,docId:t.id,blockIndex:H,itemIndex:R,text:le})}else T&&setTimeout(()=>S(null),100)},Z=(V,_,C)=>{S(null),I({blockIndex:V,itemIndex:C}),D(_)},pe=()=>{I(null),D("")},B=()=>{!t||b===null||(c(t.id,b.blockIndex,A,b.itemIndex),pe())},de=V=>{if(!t)return;const _=t.content.filter((C,$)=>$!==V);h(t.id,_)},se=(V,_)=>{V.preventDefault();const C=V.currentTarget.getBoundingClientRect(),$=O.current.getBoundingClientRect();ue({index:_,top:C.top-$.top-45,left:C.left-$.left+C.width/2})},re=(V,_)=>{var F;if(!t)return;if(V==="image"){he(_),(F=J.current)==null||F.click(),ue(null);return}if(V==="generate-image-ai"){y(t.id,_),ue(null);return}let C=null,$,z;switch(V){case"heading":C={type:"heading",level:2,text:"Novo Ttulo"},$=C.text;break;case"paragraph":C={type:"paragraph",text:"Novo pargrafo."},$=C.text;break;case"list":C={type:"list",style:"unordered",items:["Item 1","Item 2"]},$=C.items[0],z=0;break;case"blockquote":C={type:"blockquote",text:"Citao."},$=C.text;break}if(C){const H=[...t.content];H.splice(_,0,C),h(t.id,H),$!==void 0&&setTimeout(()=>Z(_,$,z),50)}ue(null)},Ae=V=>{var $;const _=($=V.target.files)==null?void 0:$[0];if(!_||!t)return;const C=new FileReader;C.onload=z=>{var H;const F=(H=z.target)==null?void 0:H.result;if(F){const fe={type:"image",id:`img-${Date.now()}`,src:F,caption:"Insira uma legenda para a imagem."},R=[...t.content];R.splice(oe,0,fe),h(t.id,R),setTimeout(()=>Z(oe,fe.caption),50)}},C.readAsDataURL(_),V.target&&(V.target.value="")},ae=(V,_,C)=>{const $=V.currentTarget.getBoundingClientRect(),z=O.current.getBoundingClientRect();M({top:$.bottom-z.top+4,left:$.left-z.left,blockIndex:_,currentLevel:C})},{docTitleMap:Y,headingMap:W}=Ue.useMemo(()=>{const V=new Map,_=new Map;return e.forEach(C=>{V.set(C.title.toLowerCase(),C.id),C.content.forEach($=>{$.type==="heading"&&$.text&&(_.has($.text.toLowerCase())||_.set($.text.toLowerCase(),{docId:C.id,slug:Qc($.text)}))})}),{docTitleMap:V,headingMap:_}},[e]),L=V=>V?V.split(/(\[\[.*?\]\])/g).filter(Boolean).map((C,$)=>{if(C.startsWith("[[")&&C.endsWith("]]")){const z=C.slice(2,-2);let F=z,H=z,fe=!1;if(z.includes("|")){const v=z.split("|");F=v[0],H=v.slice(1).join("|"),fe=!0}if(F.startsWith("img:")){const v=F.substring(4),x=t==null?void 0:t.content.find(N=>N.type==="image"&&N.id===v);return x?P.jsx("span",{onMouseEnter:N=>{const Q=N.currentTarget.getBoundingClientRect();Te({src:x.src,top:Q.bottom+5,left:Q.left})},onMouseLeave:()=>Te(null),className:"text-green-400 font-semibold hover:underline bg-green-900/30 px-1 py-0.5 rounded-sm transition-colors cursor-pointer",children:fe?H:`img:${v.slice(-4)}`},$):P.jsx("span",{className:"text-red-400 line-through px-1",title:`Imagem no encontrada: "${v}"`,children:fe?H:v},$)}let R=F,le;F.includes("#")&&([R,le]=F.split("#",2));const k=Y.get(R.toLowerCase());if(k){const v=le?Qc(le):void 0;return P.jsx("button",{onClick:()=>r(k,v),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:H},$)}if(!le){const v=W.get(R.toLowerCase());if(v)return P.jsx("button",{onClick:()=>r(v.docId,v.slug),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:H},$)}return P.jsx("span",{className:"text-red-400 line-through px-1",title:`Link no encontrado: "${F}"`,children:H},$)}return C}):[];if(!t)return P.jsx(eS,{});const X=()=>P.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[P.jsx("button",{onClick:pe,className:"px-3 py-1 text-sm rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),P.jsx("button",{onClick:B,className:"px-3 py-1 text-sm rounded bg-indigo-600 hover:bg-indigo-500",children:"Salvar"})]}),j=V=>{switch(V){case 1:return"text-2xl font-bold text-indigo-400";case 2:return"text-xl font-semibold text-gray-200";case 3:return"text-lg font-medium text-gray-300";default:return"text-2xl font-bold text-indigo-400"}},ee=({state:V,onAddBlock:_})=>{const C=Ue.useRef(null),$=[{type:"heading",title:"Ttulo",icon:P.jsx(Ev,{})},{type:"paragraph",title:"Pargrafo",icon:P.jsx($1,{})},{type:"list",title:"Lista",icon:P.jsx(X1,{})},{type:"blockquote",title:"Citao",icon:P.jsx(j1,{})},{type:"image",title:"Imagem",icon:P.jsx(Z1,{})},{type:"generate-image-ai",title:"Gerar Imagem com IA",icon:P.jsx(Q1,{})}];return P.jsx("div",{ref:C,className:"add-block-menu absolute z-20 flex items-center space-x-1 bg-gray-900 border border-gray-700 p-1 rounded-lg shadow-lg",style:{top:`${V.top}px`,left:`${V.left}px`,transform:"translateX(-50%)"},children:$.map(z=>P.jsx("button",{title:z.title,onClick:()=>_(z.type,V.index),className:"p-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors",children:z.icon},z.type))})};return P.jsxs("div",{className:"p-8 lg:p-12 prose prose-invert prose-lg max-w-4xl mx-auto relative",ref:O,onMouseUp:be,children:[P.jsx("input",{type:"file",accept:"image/*",ref:J,onChange:Ae,className:"hidden"}),G&&P.jsx("div",{className:"fixed z-50 p-1 bg-gray-900 border border-gray-600 rounded-md shadow-lg",style:{top:G.top,left:G.left,pointerEvents:"none"},children:P.jsx("img",{src:G.src,alt:"Preview",className:"max-w-xs max-h-48 rounded-sm"})}),T&&P.jsx("button",{className:"refine-popup absolute z-20 bg-yellow-400 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center shadow-lg hover:bg-yellow-300 transition-all scale-100 hover:scale-110",style:{top:`${T.top}px`,left:`${T.left}px`},onClick:()=>{o(T.docId,T.blockIndex,T.text,T.itemIndex),S(null)},title:"Aprimorar texto com IA",children:""}),K&&P.jsx(ee,{state:K,onAddBlock:re}),E&&P.jsx("div",{className:"heading-level-popup absolute z-30 bg-gray-700 rounded-md shadow-lg p-1 flex flex-col",style:{top:`${E.top}px`,left:`${E.left}px`},children:[1,2,3].map(V=>P.jsxs("button",{onClick:()=>{d(t.id,E.blockIndex,{level:V}),M(null)},className:`text-left text-sm px-3 py-1 rounded-sm transition-colors ${E.currentLevel===V?"bg-indigo-600 text-white":"hover:bg-gray-600 text-gray-200"}`,children:["Ttulo ",V]},V))}),P.jsxs("div",{className:"mb-8 pb-4 border-b border-gray-700",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("p",{className:"text-indigo-400 font-semibold",children:t.category}),P.jsxs("button",{onClick:()=>s(t.id),className:"flex items-center space-x-2 text-sm text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md px-2 py-1 transition-colors",title:"Encontrar menes a este documento",children:[P.jsx(nS,{}),P.jsx("span",{children:"Encontrar Referncias"})]})]}),P.jsx("h1",{className:"text-4xl font-extrabold text-white !mb-0",children:t.title})]}),P.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[Array.isArray(t.content)&&t.content.map((V,_)=>{if(!V)return null;const C=()=>{switch(V.type){case"heading":{const $=(b==null?void 0:b.blockIndex)===_&&b.itemIndex===void 0,z=Qc(V.text);return $?P.jsxs("div",{className:"mt-4 mb-2",children:[P.jsx("textarea",{value:A,onChange:F=>D(F.target.value),className:`w-full p-2 bg-gray-900 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 ${j(V.level)}`,rows:1,autoFocus:!0}),P.jsx(X,{})]}):P.jsxs("div",{className:"group relative",children:[!b&&P.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[P.jsx(tS,{onClick:F=>ae(F,_,V.level)}),P.jsx(Na,{onClick:()=>Z(_,V.text)}),P.jsx(to,{onClick:()=>de(_)})]}),(()=>{const F={id:z,"data-block-index":_,className:"scroll-mt-24"};switch(V.level){case 1:return P.jsx("h2",{...F,className:`${F.className} text-indigo-400 border-b border-gray-700 pb-2 text-2xl font-bold`,children:L(V.text)});case 2:return P.jsx("h3",{...F,className:`${F.className} text-xl font-semibold text-gray-200 mt-8 mb-2`,children:L(V.text)});case 3:return P.jsx("h4",{...F,className:`${F.className} text-lg font-medium text-gray-300 mt-6 mb-1`,children:L(V.text)});default:return P.jsx("h2",{...F,className:`${F.className} text-indigo-400 border-b border-gray-700 pb-2 text-2xl font-bold`,children:L(V.text)})}})()]})}case"paragraph":return(b==null?void 0:b.blockIndex)===_&&b.itemIndex===void 0?P.jsxs("div",{className:"my-4",children:[P.jsx("textarea",{value:A,onChange:z=>D(z.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 leading-relaxed",rows:Math.max(3,A.split(`
`).length),autoFocus:!0}),P.jsx(X,{})]}):P.jsxs("div",{className:"group relative",children:[!b&&P.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[P.jsx(Na,{onClick:()=>Z(_,V.text)}),P.jsx(to,{onClick:()=>de(_)})]}),P.jsx("p",{"data-block-index":_,children:(()=>{const z=V.text||"",F=z.indexOf(":");if(F>0&&F<z.length-1){const H=z.substring(0,F);if(H.split(/\s+/).filter(Boolean).length<=5&&!H.includes(".")){const R=z.substring(F+1);return P.jsxs(Ba.Fragment,{children:[P.jsxs("strong",{className:"text-gray-200",children:[L(H),":"]}),L(R)]})}}return L(z)})()})]});case"blockquote":return(b==null?void 0:b.blockIndex)===_&&b.itemIndex===void 0?P.jsxs("div",{className:"my-4",children:[P.jsx("textarea",{value:A,onChange:z=>D(z.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 leading-relaxed",rows:Math.max(3,A.split(`
`).length),autoFocus:!0}),P.jsx(X,{})]}):P.jsxs("div",{className:"group relative",children:[!b&&P.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[P.jsx(Na,{onClick:()=>Z(_,V.text)}),P.jsx(to,{onClick:()=>de(_)})]}),P.jsx("blockquote",{"data-block-index":_,className:"border-l-4 border-gray-500 pl-4 italic text-gray-400",children:L(V.text)})]});case"list":{const $=V,z=Array.isArray($.items)?$.items:[];if(z.length===0)return null;const F=$.style==="ordered"?"ol":"ul";return P.jsxs("div",{className:"group relative",children:[!b&&P.jsx("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:P.jsx(to,{onClick:()=>de(_)})}),P.jsx(F,{"data-block-index":_,className:"pl-8 space-y-2",children:z.map((H,fe)=>{const R=(b==null?void 0:b.blockIndex)===_&&b.itemIndex===fe;return P.jsx("li",{"data-item-index":fe,children:R?P.jsxs("div",{className:"my-2",children:[P.jsx("textarea",{value:A,onChange:le=>D(le.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500",rows:Math.max(1,A.split(`
`).length),autoFocus:!0}),P.jsx(X,{})]}):P.jsxs("div",{className:"group/item relative",children:[!b&&P.jsx("div",{className:"absolute top-0 -right-8 z-10 opacity-0 group-hover/item:opacity-100 transition-opacity",children:P.jsx(Na,{onClick:()=>Z(_,H,fe)})}),L(H)]})},fe)})})]})}case"definition_list":{const $=V,z=Array.isArray($.items)?$.items:[];return z.length===0?null:P.jsxs("div",{className:"group relative my-4",children:[!b&&P.jsx("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:P.jsx(to,{onClick:()=>de(_)})}),P.jsx("dl",{"data-block-index":_,children:z.map((F,H)=>P.jsxs("div",{className:"mb-2",children:[P.jsx("dt",{className:"font-semibold text-gray-200",children:L(F.term)}),P.jsx("dd",{className:"ml-4 text-gray-400",children:L(F.description)})]},H))})]})}case"image":return(b==null?void 0:b.blockIndex)===_&&b.itemIndex===void 0?P.jsxs("figure",{id:V.id,"data-block-index":_,className:"my-6 not-prose",children:[P.jsx("img",{src:V.src,alt:V.caption,className:"w-full rounded-md shadow-lg"}),P.jsx("textarea",{value:A,onChange:z=>D(z.target.value),className:"w-full mt-2 p-2 bg-gray-900 border border-gray-600 rounded-md text-sm text-center italic",autoFocus:!0}),P.jsx(X,{})]}):P.jsxs("figure",{id:V.id,"data-block-index":_,className:"my-6 not-prose",children:[P.jsxs("div",{className:"group relative",children:[!b&&P.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[P.jsx(Na,{onClick:()=>Z(_,V.caption)}),P.jsx(to,{onClick:()=>de(_)})]}),P.jsx("img",{src:V.src,alt:V.caption,className:"w-full rounded-md shadow-lg"})]}),P.jsx("figcaption",{className:"text-center text-sm italic text-gray-400 mt-2",children:L(V.caption)})]});default:return null}};return P.jsxs("div",{className:"group relative",children:[P.jsx(Ug,{onClick:$=>se($,_)}),C()]},_)}),Array.isArray(t.content)&&P.jsx("div",{className:"group relative h-8",children:P.jsx(Ug,{onClick:V=>se(V,t.content.length)})})]})]})},iS=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[s,c]=Ue.useState(""),[d,h]=Ue.useState(!1),[p,m]=Ue.useState(65e3),[y,T]=Ue.useState(1e4);if(!t)return null;const S=b=>{b.preventDefault(),s.trim()&&(r(s,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=b=>{const I=parseInt(b.target.value,10);m(I),y>=I&&T(Math.max(0,I-512))},M=b=>{const I=parseInt(b.target.value,10);T(I)};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:P.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:b=>b.stopPropagation(),children:[P.jsxs("div",{className:"flex justify-between items-center mb-6",children:[P.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Integrar Nova Ideia ao ",o]}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:""})]}),P.jsxs("p",{className:"text-gray-400 mb-4",children:["Cole qualquer texto aqui - um novo documento, uma ideia, um pargrafo para adicionar, notas de reunio, etc. A IA ir analis-lo e sugerir a melhor forma de integr-lo ao ",o,"."]}),P.jsxs("form",{onSubmit:S,children:[P.jsx("textarea",{value:s,onChange:b=>c(b.target.value),placeholder:"Ex: Vamos adicionar um sistema de criao onde os jogadores podem combinar fragmentos elementais para criar novos feitios...",className:"w-full h-64 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),P.jsxs("div",{className:"mt-4",children:[P.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configuraes Avanadas"]}),d&&P.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"maxOutputTokens",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Sada: ",P.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),P.jsx("input",{id:"maxOutputTokens",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),P.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho mximo da resposta da IA. Valores mais altos permitem mudanas mais complexas."})]}),P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"thinkingBudget",className:"block text-sm font-medium text-gray-300",children:["Oramento de Raciocnio (Thinking Budget): ",P.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),P.jsx("input",{id:"thinkingBudget",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:M,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),P.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rpidas, mas de menor qualidade.'})]})]})]}),P.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[P.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),P.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Deixar a IA Integrar"})]})]})]})})},oS=["Corrigir ortografia e gramtica","Tornar o texto mais formal","Simplificar a linguagem","Expandir esta ideia","Resumir este ponto"],aS=({isOpen:t,onClose:e,onSubmit:r,initialText:o,contextType:s})=>{const[c,d]=Ue.useState(""),[h,p]=Ue.useState(!1);if(Ue.useEffect(()=>{t&&(d(""),p(!1))},[t]),!t)return null;const m=y=>{y.preventDefault(),c.trim()&&r(c,h)};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:P.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:y=>y.stopPropagation(),children:[P.jsxs("div",{className:"flex justify-between items-center mb-4",children:[P.jsx("h2",{className:"text-2xl font-bold text-white flex items-center",children:" Aprimorar Texto com IA"}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:""})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Texto Original:"}),P.jsx("blockquote",{className:"bg-gray-900/50 border-l-4 border-gray-600 p-3 rounded-r-md text-gray-300 max-h-32 overflow-y-auto",children:o})]}),P.jsxs("form",{onSubmit:m,children:[P.jsxs("div",{className:"mb-4",children:[P.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Sugestes:"}),P.jsx("div",{className:"flex flex-wrap gap-2",children:oS.map(y=>P.jsx("button",{type:"button",onClick:()=>d(y),className:"px-3 py-1 text-sm bg-gray-700 hover:bg-indigo-600 rounded-full transition-colors",children:y},y))})]}),P.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:"Ou escreva sua prpria instruo aqui...",className:"w-full h-24 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),P.jsx("div",{className:"mt-4",children:P.jsxs("label",{className:"flex items-center text-gray-400 cursor-pointer",children:[P.jsx("input",{type:"checkbox",checked:h,onChange:y=>p(y.target.checked),className:"w-4 h-4 bg-gray-900 border-gray-600 rounded text-indigo-600 focus:ring-indigo-500"}),P.jsxs("span",{className:"ml-2 text-sm select-none",children:["Incluir contexto (enviar todo o ",s," para a IA)"]})]})}),P.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[P.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),P.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Aprimorar"})]})]})]})})},sS=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[s,c]=Ue.useState(""),[d,h]=Ue.useState(!1),[p,m]=Ue.useState(65e3),[y,T]=Ue.useState(1e4);if(!t)return null;const S=I=>{I.preventDefault(),s.trim()&&(r(s,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=I=>{const A=parseInt(I.target.value,10);m(A),y>=A&&T(Math.max(0,A-512))},M=I=>{const A=parseInt(I.target.value,10);T(A)},b=o==="GDD"?"Ex: Crie uma nova categoria 'Inimigos' e adicione documentos para 'Grunt' e 'Brute' com base na lore existente...":"Ex: Divida o Ato 1 em mais duas misses, focando na introduo da mecnica de furtividade antes do primeiro chefe.";return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:P.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:I=>I.stopPropagation(),children:[P.jsxs("div",{className:"flex justify-between items-center mb-6",children:[P.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Atualizao Global do ",o," com IA"]}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:""})]}),P.jsxs("p",{className:"text-gray-400 mb-4",children:["Fornea uma instruo de alto nvel. A IA analisar todo o ",o," e aplicar as mudanas necessrias, como criar novos documentos, atualizar sees existentes e garantir a consistncia dos links."]}),P.jsxs("form",{onSubmit:S,children:[P.jsx("textarea",{value:s,onChange:I=>c(I.target.value),placeholder:b,className:"w-full h-48 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"}),P.jsxs("div",{className:"mt-4",children:[P.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-purple-400 hover:text-purple-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configuraes Avanadas"]}),d&&P.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"maxOutputTokensGlobal",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Sada: ",P.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),P.jsx("input",{id:"maxOutputTokensGlobal",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),P.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho mximo da resposta da IA. Valores mais altos permitem mudanas mais complexas."})]}),P.jsxs("div",{children:[P.jsxs("label",{htmlFor:"thinkingBudgetGlobal",className:"block text-sm font-medium text-gray-300",children:["Oramento de Raciocnio (Thinking Budget): ",P.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),P.jsx("input",{id:"thinkingBudgetGlobal",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:M,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),P.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rpidas, mas de menor qualidade.'})]})]})]}),P.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[P.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),P.jsxs("button",{type:"submit",disabled:!s.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:["Atualizar ",o]})]})]})]})})},lS=({message:t,currentTokens:e,estimatedTokens:r})=>{const o=r&&e&&r>0?e/r*100:0,s=typeof e=="number"&&typeof r=="number"&&r>0;return P.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 text-white",children:[P.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[P.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),P.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),P.jsx("p",{className:"text-xl font-semibold mb-4",children:t}),s&&P.jsxs("div",{className:"w-80 text-center",children:[P.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:P.jsx("div",{className:"bg-indigo-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(o,100)}%`}})}),P.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[e.toLocaleString("pt-BR")," / ",r.toLocaleString("pt-BR")," tokens gerados (estimativa)"]})]})]})},uS=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),cS=({isOpen:t,onClose:e,targetDocTitle:r,references:o,onNavigate:s})=>{if(!t)return null;const c=d=>{s(d),e()};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:P.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all",onClick:d=>d.stopPropagation(),children:[P.jsxs("div",{className:"flex justify-between items-start mb-6",children:[P.jsxs("div",{className:"flex items-center",children:[P.jsx(uS,{}),P.jsxs("div",{children:[P.jsxs("h2",{className:"text-2xl font-bold text-white",children:['Referncias a "',r,'"']}),P.jsxs("p",{className:"text-gray-400 text-sm",children:[o.length," meno(es) encontrada(s)."]})]})]}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:""})]}),o.length>0?P.jsx("ul",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:o.map((d,h)=>P.jsx("li",{children:P.jsxs("button",{onClick:()=>c(d.docId),className:"w-full text-left bg-gray-900/50 p-4 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[P.jsx("div",{className:"font-semibold text-indigo-400 text-lg",children:d.docTitle}),P.jsx("div",{className:"text-xs text-gray-500 mb-2 uppercase tracking-wider",children:d.category}),P.jsxs("blockquote",{className:"text-gray-300 border-l-2 border-gray-600 pl-3 text-sm italic",children:["...",d.snippet,"..."]})]})},h))}):P.jsx("div",{className:"text-center py-10",children:P.jsx("p",{className:"text-gray-400",children:"Nenhuma referncia encontrada para este documento."})})]})})},Lg=()=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75a7.5 7.5 0 01-7.5-7.5"})]}),fS=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),dS=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v18m-4.5-13.5h9M5.25 6H18.75M8.25 4.5V3.75a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5V4.5m-6 13.5V18a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5v.75"})}),hS=()=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),pS=({isOpen:t,onToggle:e,messages:r,isLoading:o,onSendMessage:s,onClearChat:c})=>{const[d,h]=Ue.useState(""),p=Ue.useRef(null);Ue.useEffect(()=>{var T;(T=p.current)==null||T.scrollIntoView({behavior:"smooth"})},[r,o]);const m=()=>{d.trim()&&!o&&(s(d),h(""))},y=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),m())};return t?P.jsxs("div",{className:"fixed bottom-6 right-6 w-[400px] h-[600px] bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl flex flex-col z-50",children:[P.jsxs("header",{className:"flex items-center justify-between p-4 bg-gray-900/50 rounded-t-2xl border-b border-gray-700",children:[P.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[P.jsx(Lg,{}),P.jsx("span",{className:"ml-2",children:"Consulta Avanada"})]}),P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",title:"Limpar chat",disabled:r.length===0,children:P.jsx(dS,{})}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:P.jsx(fS,{})})]})]}),P.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[r.length===0&&P.jsx("div",{className:"text-center text-gray-400 text-sm h-full flex items-center justify-center",children:P.jsx("p",{children:'Faa uma pergunta sobre o GDD ou o Roteiro. Por exemplo: "Qual o loop de gameplay principal?"'})}),r.map((T,S)=>P.jsx("div",{className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:P.jsx("div",{className:`max-w-[80%] rounded-xl px-4 py-2 ${T.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-200"}`,children:P.jsx("p",{className:"text-sm whitespace-pre-wrap",children:T.text})})},S)),o&&P.jsx("div",{className:"flex justify-start",children:P.jsx("div",{className:"max-w-[80%] rounded-xl px-4 py-2 bg-gray-700 text-gray-200",children:P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),P.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),P.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"})]})})}),P.jsx("div",{ref:p})]}),P.jsx("div",{className:"p-4 border-t border-gray-700",children:P.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg pr-2",children:[P.jsx("input",{type:"text",value:d,onChange:T=>h(T.target.value),onKeyPress:y,placeholder:"Pergunte algo...",className:"w-full bg-transparent p-3 text-sm text-gray-200 focus:outline-none",disabled:o}),P.jsx("button",{onClick:m,disabled:!d.trim()||o,className:"p-2 rounded-md text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",children:P.jsx(hS,{})})]})})]}):P.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 bg-indigo-600 text-white rounded-full p-4 shadow-lg hover:bg-indigo-500 transition-transform hover:scale-110 z-50",title:"Consulta Avanada",children:P.jsx(Lg,{})})},mS=({isOpen:t,onClose:e,insight:r})=>{const[o,s]=Ue.useState(!1);if(!t||!r)return null;const{summary:c,thinkingProcess:d,rawJson:h}=r;let p="";try{p=JSON.stringify(JSON.parse(h),null,2)}catch{p="Erro ao formatar JSON: "+h}return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:P.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[P.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[P.jsx("h2",{className:"text-2xl font-bold text-white",children:"Anlise da ltima Ao da IA"}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:""})]}),P.jsxs("div",{className:"overflow-y-auto pr-4 -mr-4 space-y-6",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Resumo da IA"}),P.jsxs("p",{className:"bg-gray-900/50 p-3 rounded-md text-gray-300 italic",children:['"',c,'"']})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Processo de Raciocnio"}),P.jsx("ol",{className:"list-decimal list-inside bg-gray-900/50 p-4 rounded-md text-gray-300 space-y-2",children:d.map((m,y)=>P.jsx("li",{children:m},y))})]}),P.jsxs("div",{children:[P.jsxs("button",{onClick:()=>s(!o),className:"text-sm text-teal-400 hover:text-teal-300 focus:outline-none mb-2",children:[o?"Ocultar":"Mostrar"," Sada JSON Bruta"]}),o&&P.jsx("div",{className:"animate-fade-in bg-gray-900 p-4 rounded-md border border-gray-700 max-h-80 overflow-auto",children:P.jsx("pre",{className:"text-xs text-gray-400",children:P.jsx("code",{children:p})})})]})]})]})})},gS=({isOpen:t,onClose:e,onSubmit:r})=>{const[o,s]=Ue.useState("");if(!t)return null;const c=d=>{d.preventDefault(),r(o),s("")};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:P.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:d=>d.stopPropagation(),children:[P.jsxs("div",{className:"flex justify-between items-center mb-6",children:[P.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerar Imagem com IA"}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:""})]}),P.jsx("p",{className:"text-gray-400 mb-4",children:"Opcionalmente, descreva a cena que voc quer gerar. A IA usar o contexto do documento (estilo visual, personagens) para criar um prompt detalhado e gerar uma imagem consistente com o GDD."}),P.jsxs("form",{onSubmit:c,children:[P.jsx("textarea",{value:o,onChange:d=>s(d.target.value),placeholder:"Ex: Kael em uma pose de combate, com seu amuleto brilhando intensamente...",className:"w-full h-40 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"}),P.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[P.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),P.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 transition-colors",children:"Gerar Imagem"})]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yS,vS;function wS(){return{geminiUrl:yS,vertexUrl:vS}}function TS(t,e,r,o){var s,c;if(!(t!=null&&t.baseUrl)){const d=wS();return e?(s=d.vertexUrl)!==null&&s!==void 0?s:r:(c=d.geminiUrl)!==null&&c!==void 0?c:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class di{}function Oe(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(o,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const c=e[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function u(t,e,r){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(r))t[h]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(r))for(let m=0;m<p.length;m++){const y=p[m];u(y,e.slice(c+1),r[m])}else for(const m of p)u(m,e.slice(c+1),r)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];u(p[0],e.slice(c+1),r);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const o=e[e.length-1],s=t[o];if(s!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===s)return;if(typeof s=="object"&&typeof r=="object"&&s!==null&&r!==null)Object.assign(s,r);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=r}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const c=t[s];return Array.isArray(c)?c.map(d=>l(d,e.slice(r+1))):void 0}else return}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bg||(Bg={}));var Pg;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Pg||(Pg={}));var je;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(je||(je={}));var Og;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Og||(Og={}));var Fg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Fg||(Fg={}));var Gg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Gg||(Gg={}));var Vg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Vg||(Vg={}));var zg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(zg||(zg={}));var qg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qg||(qg={}));var Hg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Hg||(Hg={}));var Kg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Kg||(Kg={}));var Yg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Yg||(Yg={}));var Jg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jg||(Jg={}));var Wg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Wg||(Wg={}));var $g;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($g||($g={}));var wl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(wl||(wl={}));var Xg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xg||(Xg={}));var Wf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wf||(Wf={}));var Zg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Zg||(Zg={}));var Qg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qg||(Qg={}));var jg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(jg||(jg={}));var ey;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ey||(ey={}));var ty;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ty||(ty={}));var ny;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ny||(ny={}));var ry;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ry||(ry={}));var iy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(iy||(iy={}));var oy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(oy||(oy={}));var ay;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ay||(ay={}));var sy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sy||(sy={}));var ly;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ly||(ly={}));var uy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(uy||(uy={}));var cy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cy||(cy={}));var fy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(fy||(fy={}));var dy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(dy||(dy={}));var hy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(hy||(hy={}));var py;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(py||(py={}));var my;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(my||(my={}));var gy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(gy||(gy={}));var yy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yy||(yy={}));var vy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vy||(vy={}));var wy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(wy||(wy={}));var Ty;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ty||(Ty={}));var xy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xy||(xy={}));var Sy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sy||(Sy={}));var Ey;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ey||(Ey={}));var oo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(oo||(oo={}));class $f{constructor(e){const r={};for(const o of e.headers.entries())r[o[0]]=o[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ma{get text(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const S of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[E,M]of Object.entries(S))E!=="text"&&E!=="thought"&&(M!==null||M!==void 0)&&T.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,E]of Object.entries(T))S!=="inlineData"&&(E!==null||E!==void 0)&&y.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,r,o,s,c,d,h,p;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,r,o,s,c,d,h,p,m;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,r,o,s,c,d,h,p,m;if(((s=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class _y{}class Cy{}class xS{}class SS{}class ES{}class _S{}class by{}class Ay{}class Ry{}class CS{}class Ny{}class Tl{_fromAPIResponse({apiResponse:e,isVertexAI:r}){const o=new Tl;if(o.name=e.name,o.metadata=e.metadata,o.done=e.done,o.error=e.error,r){const s=e.response;if(s){const c=new Ny,d=s.videos;c.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?Jf(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),c.raiMediaFilteredCount=s.raiMediaFilteredCount,c.raiMediaFilteredReasons=s.raiMediaFilteredReasons,o.response=c}}else{const s=e.response;if(s){const c=new Ny,d=s.generateVideoResponse,h=d==null?void 0:d.generatedSamples;c.generatedVideos=h==null?void 0:h.map(p=>{const m=p.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?Jf(m==null?void 0:m.encodedVideo):void 0,mimeType:p.encoding}}}),c.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,c.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,o.response=c}}return o}}class My{}class Dy{}class Iy{}class bS{}class AS{}class RS{}class ky{}class NS{get text(){var e,r,o;let s="",c=!1;const d=[];for(const h of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,s+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var e,r,o;let s="";const c=[];for(const d of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&p!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class MS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function _v(t,e){const r=dt(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function Cv(t){return Array.isArray(t)?t.map(e=>xl(e)):[xl(t)]}function xl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bv(t){const e=xl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Av(t){const e=xl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Uy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Rv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Uy(e)):[Uy(t)]}function Xf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ly(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function By(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function jt(t){if(t==null)throw new Error("ContentUnion is required");return Xf(t)?t:{role:"user",parts:Rv(t)}}function Nv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const o=jt(r);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const r=jt(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>jt(r)):[jt(e)]}function In(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ly(t)||By(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jt(t)]}const e=[],r=[],o=Xf(t[0]);for(const s of t){const c=Xf(s);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(s);else{if(Ly(s)||By(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(s)}}return o||e.push({role:"user",parts:Rv(r)}),e}function DS(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(o=>o!=="null");if(r.length===1)e.type=Object.values(je).includes(r[0].toUpperCase())?r[0].toUpperCase():je.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of r)e.anyOf.push({type:Object.values(je).includes(o.toUpperCase())?o.toUpperCase():je.TYPE_UNSPECIFIED})}}function ao(t){const e={},r=["items"],o=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&DS(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(je).includes(h.toUpperCase())?h.toUpperCase():je.TYPE_UNSPECIFIED}else if(r.includes(d))e[d]=ao(h);else if(o.includes(d)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(ao(m))}e[d]=p}else if(s.includes(d)){const p={};for(const[m,y]of Object.entries(h))p[m]=ao(y);e[d]=p}else{if(d==="additionalProperties")continue;e[d]=h}return e}function pd(t){return ao(t)}function md(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function gd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function So(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ao(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ao(e.response));return t}function Eo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function IS(t,e,r,o=1){const s=!e.startsWith(`${r}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:s?`${r}/${e}`:e}function gr(t,e){if(typeof e!="string")throw new Error("name must be a string");return IS(t,e,"cachedContents")}function Mv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function hi(t){return Jf(t)}function kS(t){return t!=null&&typeof t=="object"&&"name"in t}function US(t){return t!=null&&typeof t=="object"&&"video"in t}function LS(t){return t!=null&&typeof t=="object"&&"uri"in t}function Dv(t){var e;let r;if(kS(t)&&(r=t.name),!(LS(t)&&(r=t.uri,r===void 0))&&!(US(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const s=r.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${r}`);r=s[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Iv(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function kv(t){for(const e of["models","tunedModels","publisherModels"])if(BS(t,e))return t[e];return[]}function BS(t,e){return t!==null&&typeof t=="object"&&e in t}function PS(t,e={}){const r=t,o={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(o.responseJsonSchema=r.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function OS(t,e={}){const r=[],o=new Set;for(const s of t){const c=s.name;if(o.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);o.add(c);const d=PS(s,e);d.functionDeclarations&&r.push(...d.functionDeclarations)}return{functionDeclarations:r}}function Uv(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function FS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _o(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function Lv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GS(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function VS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function zS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function qS(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],GS(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],VS(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],zS(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function Bv(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>qS(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function HS(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const T=l(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const M=l(t,["minLength"]);M!=null&&u(e,["minLength"],M);const b=l(t,["minProperties"]);b!=null&&u(e,["minProperties"],b);const I=l(t,["minimum"]);I!=null&&u(e,["minimum"],I);const A=l(t,["nullable"]);A!=null&&u(e,["nullable"],A);const D=l(t,["pattern"]);D!=null&&u(e,["pattern"],D);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const J=l(t,["propertyOrdering"]);J!=null&&u(e,["propertyOrdering"],J);const K=l(t,["required"]);K!=null&&u(e,["required"],K);const ue=l(t,["title"]);ue!=null&&u(e,["title"],ue);const oe=l(t,["type"]);return oe!=null&&u(e,["type"],oe),e}function KS(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function YS(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function JS(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function WS(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],JS(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $S(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function XS(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],$S(r)),e}function ZS(){return{}}function QS(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function jS(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>YS(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],WS(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],XS(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],ZS());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],QS(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function eE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function tE(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function nE(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],tE(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function rE(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],eE(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],nE(o)),e}function iE(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Pv(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],iE(r)),e}function oE(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Pv(o)),e}function aE(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>oE(s))),u(e,["speakerVoiceConfigs"],o)}return e}function sE(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Pv(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],aE(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function lE(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function uE(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],Bv(jt(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const M=l(e,["frequencyPenalty"]);M!=null&&u(o,["frequencyPenalty"],M);const b=l(e,["seed"]);b!=null&&u(o,["seed"],b);const I=l(e,["responseMimeType"]);I!=null&&u(o,["responseMimeType"],I);const A=l(e,["responseSchema"]);A!=null&&u(o,["responseSchema"],HS(pd(A)));const D=l(e,["responseJsonSchema"]);if(D!=null&&u(o,["responseJsonSchema"],D),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=l(e,["safetySettings"]);if(r!==void 0&&O!=null){let be=O;Array.isArray(be)&&(be=be.map(Z=>KS(Z))),u(r,["safetySettings"],be)}const J=l(e,["tools"]);if(r!==void 0&&J!=null){let be=Eo(J);Array.isArray(be)&&(be=be.map(Z=>jS(So(Z)))),u(r,["tools"],be)}const K=l(e,["toolConfig"]);if(r!==void 0&&K!=null&&u(r,["toolConfig"],rE(K)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=l(e,["cachedContent"]);r!==void 0&&ue!=null&&u(r,["cachedContent"],gr(t,ue));const oe=l(e,["responseModalities"]);oe!=null&&u(o,["responseModalities"],oe);const he=l(e,["mediaResolution"]);he!=null&&u(o,["mediaResolution"],he);const G=l(e,["speechConfig"]);if(G!=null&&u(o,["speechConfig"],sE(md(G))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=l(e,["thinkingConfig"]);return Te!=null&&u(o,["thinkingConfig"],lE(Te)),o}function cE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["request","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=In(s);Array.isArray(d)&&(d=d.map(h=>Bv(h))),u(r,["request","contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["request","generationConfig"],uE(t,c,r)),r}function fE(t,e){const r={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(e,["fileName"]);o!=null&&u(r,["fileName"],o);const s=l(e,["inlinedRequests"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>cE(t,d))),u(r,["requests","requests"],c)}return r}function dE(t,e){const r={},o=l(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Py(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["src"]);s!=null&&u(r,["batch","inputConfig"],fE(t,Uv(t,s)));const c=l(e,["config"]);return c!=null&&u(r,["config"],dE(c,r)),r}function hE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],_o(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function pE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],_o(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function mE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);if(e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function gE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],mE(r,e)),e}function yE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],_o(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function vE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["instancesFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const s=l(t,["bigqueryUri"]);if(s!=null&&u(e,["bigquerySource","inputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function wE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["predictionsFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const s=l(t,["bigqueryUri"]);if(s!=null&&u(e,["bigqueryDestination","outputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function TE(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["dest"]);return e!==void 0&&s!=null&&u(e,["outputConfig"],wE(FS(s))),r}function xE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],dt(t,o));const s=l(e,["src"]);s!=null&&u(r,["inputConfig"],vE(Uv(t,s)));const c=l(e,["config"]);return c!=null&&u(r,["config"],TE(c,r)),r}function SE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],_o(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function EE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],_o(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function _E(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function CE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],_E(r,e)),e}function bE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],_o(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function AE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function RE(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function NE(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ME(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],AE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],RE(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],NE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function DE(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>ME(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function IE(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function kE(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function UE(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>kE(s))),u(e,["urlMetadata"],o)}return e}function LE(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],DE(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],IE(o));const s=l(t,["tokenCount"]);s!=null&&u(e,["tokenCount"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],UE(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const T=l(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function BE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>LE(m))),u(e,["candidates"],p)}const s=l(t,["modelVersion"]);s!=null&&u(e,["modelVersion"],s);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function Ov(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const s=l(t,["message"]);return s!=null&&u(e,["message"],s),e}function PE(t){const e={},r=l(t,["response"]);r!=null&&u(e,["response"],BE(r));const o=l(t,["error"]);return o!=null&&u(e,["error"],Ov(o)),e}function OE(t){const e={},r=l(t,["responsesFile"]);r!=null&&u(e,["fileName"],r);const o=l(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>PE(c))),u(e,["inlinedResponses"],s)}return e}function pl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["metadata","state"]);s!=null&&u(e,["state"],Lv(s));const c=l(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["metadata","endTime"]);d!=null&&u(e,["endTime"],d);const h=l(t,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const p=l(t,["metadata","model"]);p!=null&&u(e,["model"],p);const m=l(t,["metadata","output"]);return m!=null&&u(e,["dest"],OE(m)),e}function FE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["operations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>pl(d))),u(e,["batchJobs"],c)}return e}function GE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);return c!=null&&u(e,["error"],Ov(c)),e}function Fv(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const s=l(t,["message"]);return s!=null&&u(e,["message"],s),e}function VE(t){const e={},r=l(t,["instancesFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const s=l(t,["bigquerySource","inputUri"]);return s!=null&&u(e,["bigqueryUri"],s),e}function zE(t){const e={},r=l(t,["predictionsFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const s=l(t,["bigqueryDestination","outputUri"]);return s!=null&&u(e,["bigqueryUri"],s),e}function Zf(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],Lv(s));const c=l(t,["error"]);c!=null&&u(e,["error"],Fv(c));const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["startTime"]);h!=null&&u(e,["startTime"],h);const p=l(t,["endTime"]);p!=null&&u(e,["endTime"],p);const m=l(t,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=l(t,["model"]);y!=null&&u(e,["model"],y);const T=l(t,["inputConfig"]);T!=null&&u(e,["src"],VE(T));const S=l(t,["outputConfig"]);return S!=null&&u(e,["dest"],zE(S)),e}function qE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["batchPredictionJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Zf(d))),u(e,["batchJobs"],c)}return e}function HE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);return c!=null&&u(e,["error"],Fv(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(fi||(fi={}));class Oa{constructor(e,r,o,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,o,s)}init(e,r,o){var s,c;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=r.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends di{constructor(e){super(),this.apiClient=e,this.create=async r=>{var o,s;if(this.apiClient.isVertexAI()){const d=Date.now().toString();if(Array.isArray(r.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(r.config=r.config||{},r.config.displayName===void 0&&(r.config.displayName="genaiBatchJob_${timestampStr}"),r.config.dest===void 0&&typeof r.src=="string")if(r.src.startsWith("gs://")&&r.src.endsWith(".jsonl"))r.config.dest=`${r.src.slice(0,-6)}/dest`;else if(r.src.startsWith("bq://"))r.config.dest=`${r.src}_dest_${d}`;else throw new Error("Unsupported source:"+r.src)}else if(Array.isArray(r.src)||typeof r.src!="string"&&r.src.inlinedRequests){let c="",d={};const h=Py(this.apiClient,r);c=Oe("{model}:batchGenerateContent",h._url),d=h._query;const y=h.batch.inputConfig.requests,T=y.requests,S=[];for(const M of T){const b=M;if(b.systemInstruction){const I=b.systemInstruction;delete b.systemInstruction;const A=b.request;A.systemInstruction=I,b.request=A}S.push(b)}return y.requests=S,delete h.config,delete h._url,delete h._query,this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=r.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=r.config)===null||s===void 0?void 0:s.abortSignal}).then(M=>M.json()).then(M=>pl(M))}return await this.createInternal(r)},this.list=async(r={})=>new Oa(fi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(r),r)}async createInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=xE(this.apiClient,e);return h=Oe("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Zf(y))}else{const m=Py(this.apiClient,e);return h=Oe("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>pl(y))}}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=SE(this.apiClient,e);return h=Oe("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Zf(y))}else{const m=hE(this.apiClient,e);return h=Oe("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>pl(y))}}async cancel(e){var r,o,s,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=EE(this.apiClient,e);d=Oe("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=pE(this.apiClient,e);d=Oe("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=CE(e);return h=Oe("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=qE(y),S=new ky;return Object.assign(S,T),S})}else{const m=gE(e);return h=Oe("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=FE(y),S=new ky;return Object.assign(S,T),S})}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=bE(this.apiClient,e);return h=Oe("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>HE(y))}else{const m=yE(this.apiClient,e);return h=Oe("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>GE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function JE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function WE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $E(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],YE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],JE(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],WE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function Oy(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>$E(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function XE(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function ZE(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function QE(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],ZE(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function jE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function e_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],jE(r)),e}function t_(){return{}}function n_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function r_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>XE(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],QE(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],e_(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],t_());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],n_(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function i_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function o_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function a_(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],o_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function s_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],i_(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],a_(o)),e}function l_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&u(e,["expireTime"],s);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let y=In(d);Array.isArray(y)&&(y=y.map(T=>Oy(T))),u(e,["contents"],y)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Oy(jt(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>r_(T))),u(e,["tools"],y)}const m=l(t,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],s_(m)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function u_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],_v(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],l_(s,r)),r}function c_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],gr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function f_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],gr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function d_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&u(e,["expireTime"],s),r}function h_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],gr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],d_(s,r)),r}function p_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function m_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],p_(r,e)),e}function g_(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function y_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function v_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function w_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],g_(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],y_(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],v_(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function Fy(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>w_(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function T_(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function x_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function S_(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],x_(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function E_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function __(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],E_(r)),e}function C_(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function b_(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function A_(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],b_(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function R_(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],A_(r)),e}function N_(){return{}}function M_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function D_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let T=r;Array.isArray(T)&&(T=T.map(S=>T_(S))),u(e,["functionDeclarations"],T)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],S_(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],__(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],C_(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],R_(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],N_());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],M_(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function I_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function k_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function U_(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],k_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function L_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],I_(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],U_(o)),e}function B_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&u(e,["expireTime"],s);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let T=In(d);Array.isArray(T)&&(T=T.map(S=>Fy(S))),u(e,["contents"],T)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Fy(jt(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>D_(S))),u(e,["tools"],T)}const m=l(t,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],L_(m));const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),r}function P_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],_v(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],B_(s,r)),r}function O_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],gr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function F_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],gr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function G_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&u(e,["expireTime"],s),r}function V_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],gr(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],G_(s,r)),r}function z_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function q_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],z_(r,e)),e}function ml(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["model"]);s!=null&&u(e,["model"],s);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function H_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function K_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>ml(d))),u(e,["cachedContents"],c)}return e}function gl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["model"]);s!=null&&u(e,["model"],s);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function Y_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function J_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>gl(d))),u(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W_ extends di{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Oa(fi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(r),r)}async create(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=P_(this.apiClient,e);return h=Oe("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>gl(y))}else{const m=u_(this.apiClient,e);return h=Oe("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ml(y))}}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=O_(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>gl(y))}else{const m=c_(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ml(y))}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=F_(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=Y_(y),S=new Dy;return Object.assign(S,T),S})}else{const m=f_(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=H_(y),S=new Dy;return Object.assign(S,T),S})}}async update(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=V_(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>gl(y))}else{const m=h_(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ml(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=q_(e);return h=Oe("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=J_(y),S=new Iy;return Object.assign(S,T),S})}else{const m=m_(e);return h=Oe("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=K_(y),S=new Iy;return Object.assign(S,T),S})}}}function Gy(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(t){return this instanceof Ct?(this.v=t,this):new Ct(t)}function so(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(E){return function(M){return Promise.resolve(M).then(E,T)}}function h(E,M){o[E]&&(s[E]=function(b){return new Promise(function(I,A){c.push([E,b,I,A])>1||p(E,b)})},M&&(s[E]=M(s[E])))}function p(E,M){try{m(o[E](M))}catch(b){S(c[0][3],b)}}function m(E){E.value instanceof Ct?Promise.resolve(E.value.v).then(y,T):S(c[0][2],E)}function y(E){p("next",E)}function T(E){p("throw",E)}function S(E,M){E(M),c.shift(),c.length&&p(c[0][0],c[0][1])}}function Pa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Gy=="function"?Gy(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(c){r[c]=t[c]&&function(d){return new Promise(function(h,p){d=t[c](d),s(h,p,d.done,d.value)})}}function s(c,d,h,p){Promise.resolve(p).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:Gv(r)}function Gv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function X_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Vy(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let o=0;for(;o<r;)if(t[o].role==="user")e.push(t[o]),o++;else{const s=[];let c=!0;for(;o<r&&t[o].role==="model";)s.push(t[o]),c&&!Gv(t[o])&&(c=!1),o++;c?e.push(...s):e.pop()}return e}class Z_{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new Q_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Q_{constructor(e,r,o,s={},c=[]){this.apiClient=e,this.modelsModule=r,this.model=o,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),X_(c)}async sendMessage(e){var r;await this.sendPromise;const o=jt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,d,h;const p=await s,m=(d=(c=p.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=p.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(T))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var r;await this.sendPromise;const o=jt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,o)}getHistory(e=!1){const r=e?Vy(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var o,s;return so(this,arguments,function*(){var d,h,p,m;const y=[];try{for(var T=!0,S=Pa(e),E;E=yield Ct(S.next()),d=E.done,!d;T=!0){m=E.value,T=!1;const M=m;if($_(M)){const b=(s=(o=M.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content;b!==void 0&&y.push(b)}yield yield Ct(M)}}catch(M){h={error:M}}finally{try{!T&&!d&&(p=S.return)&&(yield Ct(p.call(S)))}finally{if(h)throw h.error}}this.recordHistory(r,y)})}recordHistory(e,r,o){let s=[];r.length>0&&r.every(c=>c.role!==void 0)?s=r:s.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Vy(o)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Al extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Al.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r}function eC(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],j_(r,e)),e}function tC(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const s=l(t,["code"]);return s!=null&&u(e,["code"],s),e}function nC(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["mimeType"]);s!=null&&u(e,["mimeType"],s);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const T=l(t,["downloadUri"]);T!=null&&u(e,["downloadUri"],T);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const M=l(t,["videoMetadata"]);M!=null&&u(e,["videoMetadata"],M);const b=l(t,["error"]);return b!=null&&u(e,["error"],tC(b)),e}function rC(t){const e={},r=l(t,["file"]);r!=null&&u(e,["file"],nC(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function iC(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],Dv(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function oC(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],Dv(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function aC(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const s=l(t,["code"]);return s!=null&&u(e,["code"],s),e}function Qf(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["mimeType"]);s!=null&&u(e,["mimeType"],s);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const T=l(t,["downloadUri"]);T!=null&&u(e,["downloadUri"],T);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const M=l(t,["videoMetadata"]);M!=null&&u(e,["videoMetadata"],M);const b=l(t,["error"]);return b!=null&&u(e,["error"],aC(b)),e}function sC(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Qf(d))),u(e,["files"],c)}return e}function lC(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function uC(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cC extends di{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Oa(fi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>Qf(r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=eC(e);return c=Oe("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=sC(p),y=new bS;return Object.assign(y,m),y})}}async createInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rC(e);return c=Oe("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=lC(p),y=new AS;return Object.assign(y,m),y})}}async get(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iC(e);return c=Oe("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Qf(p))}}async delete(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oC(e);return c=Oe("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=uC(p),y=new RS;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Vv(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],fC(r)),e}function dC(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Vv(o)),e}function hC(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>dC(s))),u(e,["speakerVoiceConfigs"],o)}return e}function pC(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Vv(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],hC(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function mC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function gC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function yC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function vC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],mC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],gC(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],yC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function wC(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>vC(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function TC(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function xC(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function SC(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],xC(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function EC(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function _C(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],EC(r)),e}function CC(){return{}}function bC(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function AC(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>TC(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],SC(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],_C(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],CC());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],bC(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function RC(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zy(){return{}}function NC(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function MC(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],NC(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function DC(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function IC(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],DC(o)),e}function kC(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function UC(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],pC(gd(T)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],wC(jt(E)));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let K=Eo(M);Array.isArray(K)&&(K=K.map(ue=>AC(So(ue)))),u(e,["setup","tools"],K)}const b=l(t,["sessionResumption"]);e!==void 0&&b!=null&&u(e,["setup","sessionResumption"],RC(b));const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&u(e,["setup","inputAudioTranscription"],zy());const A=l(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&u(e,["setup","outputAudioTranscription"],zy());const D=l(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&u(e,["setup","realtimeInputConfig"],MC(D));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],IC(O));const J=l(t,["proactivity"]);return e!==void 0&&J!=null&&u(e,["setup","proactivity"],kC(J)),r}function LC(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],UC(s,r)),r}function BC(){return{}}function PC(){return{}}function OC(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],Cv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],Av(o));const s=l(t,["audioStreamEnd"]);s!=null&&u(e,["audioStreamEnd"],s);const c=l(t,["video"]);c!=null&&u(e,["video"],bv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],BC()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],PC()),e}function zv(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function FC(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>zv(s))),u(e,["weightedPrompts"],o)}return e}function qv(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const s=l(t,["seed"]);s!=null&&u(e,["seed"],s);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const T=l(t,["muteDrums"]);T!=null&&u(e,["muteDrums"],T);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function GC(t){const e={},r=l(t,["musicGenerationConfig"]);return r!=null&&u(e,["musicGenerationConfig"],qv(r)),e}function Hv(t){const e={},r=l(t,["model"]);return r!=null&&u(e,["model"],r),e}function Kv(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>zv(s))),u(e,["weightedPrompts"],o)}return e}function jf(t){const e={},r=l(t,["setup"]);r!=null&&u(e,["setup"],Hv(r));const o=l(t,["clientContent"]);o!=null&&u(e,["clientContent"],Kv(o));const s=l(t,["musicGenerationConfig"]);s!=null&&u(e,["musicGenerationConfig"],qv(s));const c=l(t,["playbackControl"]);return c!=null&&u(e,["playbackControl"],c),e}function VC(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function zC(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],VC(r)),e}function qC(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],zC(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function HC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function KC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function YC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function JC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],HC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],KC(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],YC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function WC(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>JC(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function $C(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function XC(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function ZC(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],XC(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function QC(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function jC(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],QC(r)),e}function eb(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function tb(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function nb(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],tb(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function rb(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],nb(r)),e}function ib(){return{}}function ob(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function ab(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let T=r;Array.isArray(T)&&(T=T.map(S=>$C(S))),u(e,["functionDeclarations"],T)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],ZC(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],jC(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],eb(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],rb(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],ib());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],ob(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function sb(t){const e={},r=l(t,["handle"]);r!=null&&u(e,["handle"],r);const o=l(t,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function qy(){return{}}function lb(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function ub(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],lb(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function cb(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function fb(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],cb(o)),e}function db(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function hb(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],qC(gd(T)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],WC(jt(E)));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let K=Eo(M);Array.isArray(K)&&(K=K.map(ue=>ab(So(ue)))),u(e,["setup","tools"],K)}const b=l(t,["sessionResumption"]);e!==void 0&&b!=null&&u(e,["setup","sessionResumption"],sb(b));const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&u(e,["setup","inputAudioTranscription"],qy());const A=l(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&u(e,["setup","outputAudioTranscription"],qy());const D=l(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&u(e,["setup","realtimeInputConfig"],ub(D));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],fb(O));const J=l(t,["proactivity"]);return e!==void 0&&J!=null&&u(e,["setup","proactivity"],db(J)),r}function pb(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],hb(s,r)),r}function mb(){return{}}function gb(){return{}}function yb(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],Cv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],Av(o));const s=l(t,["audioStreamEnd"]);s!=null&&u(e,["audioStreamEnd"],s);const c=l(t,["video"]);c!=null&&u(e,["video"],bv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],mb()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],gb()),e}function vb(){return{}}function wb(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function Tb(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function xb(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Sb(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],wb(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],Tb(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],xb(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function Eb(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>Sb(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function Hy(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function _b(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function Cb(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>_b(s))),u(e,["urlMetadata"],o)}return e}function bb(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],Eb(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const s=l(t,["interrupted"]);s!=null&&u(e,["interrupted"],s);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],Hy(h));const p=l(t,["outputTranscription"]);p!=null&&u(e,["outputTranscription"],Hy(p));const m=l(t,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],Cb(m)),e}function Ab(t){const e={},r=l(t,["id"]);r!=null&&u(e,["id"],r);const o=l(t,["args"]);o!=null&&u(e,["args"],o);const s=l(t,["name"]);return s!=null&&u(e,["name"],s),e}function Rb(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ab(s))),u(e,["functionCalls"],o)}return e}function Nb(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function Qs(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function Mb(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const s=l(t,["responseTokenCount"]);s!=null&&u(e,["responseTokenCount"],s);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>Qs(E))),u(e,["promptTokensDetails"],S)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>Qs(E))),u(e,["cacheTokensDetails"],S)}const y=l(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>Qs(E))),u(e,["responseTokensDetails"],S)}const T=l(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(E=>Qs(E))),u(e,["toolUsePromptTokensDetails"],S)}return e}function Db(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function Ib(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&u(e,["lastConsumedClientMessageIndex"],s),e}function kb(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],vb());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],bb(o));const s=l(t,["toolCall"]);s!=null&&u(e,["toolCall"],Rb(s));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],Nb(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],Mb(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],Db(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],Ib(p)),e}function Ub(){return{}}function Lb(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function Bb(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Lb(s))),u(e,["weightedPrompts"],o)}return e}function Pb(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const s=l(t,["seed"]);s!=null&&u(e,["seed"],s);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const T=l(t,["muteDrums"]);T!=null&&u(e,["muteDrums"],T);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function Ob(t){const e={},r=l(t,["clientContent"]);r!=null&&u(e,["clientContent"],Bb(r));const o=l(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],Pb(o)),e}function Fb(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);o!=null&&u(e,["mimeType"],o);const s=l(t,["sourceMetadata"]);return s!=null&&u(e,["sourceMetadata"],Ob(s)),e}function Gb(t){const e={},r=l(t,["audioChunks"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Fb(s))),u(e,["audioChunks"],o)}return e}function Vb(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function zb(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],Ub());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],Gb(o));const s=l(t,["filteredPrompt"]);return s!=null&&u(e,["filteredPrompt"],Vb(s)),e}function qb(t){const e={},r=l(t,["sessionId"]);return r!=null&&u(e,["sessionId"],r),e}function Hb(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function Kb(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function Yb(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function Jb(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],Hb(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],Kb(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],Yb(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function Wb(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>Jb(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function Ky(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function $b(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],Wb(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const s=l(t,["interrupted"]);s!=null&&u(e,["interrupted"],s);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],Ky(h));const p=l(t,["outputTranscription"]);return p!=null&&u(e,["outputTranscription"],Ky(p)),e}function Xb(t){const e={},r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);return o!=null&&u(e,["name"],o),e}function Zb(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Xb(s))),u(e,["functionCalls"],o)}return e}function Qb(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function js(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function jb(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const s=l(t,["candidatesTokenCount"]);s!=null&&u(e,["responseTokenCount"],s);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(M=>js(M))),u(e,["promptTokensDetails"],E)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(M=>js(M))),u(e,["cacheTokensDetails"],E)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(M=>js(M))),u(e,["responseTokensDetails"],E)}const T=l(t,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(M=>js(M))),u(e,["toolUsePromptTokensDetails"],E)}const S=l(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function eA(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function tA(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&u(e,["lastConsumedClientMessageIndex"],s),e}function nA(t){const e={},r=l(t,["setupComplete"]);r!=null&&u(e,["setupComplete"],qb(r));const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],$b(o));const s=l(t,["toolCall"]);s!=null&&u(e,["toolCall"],Zb(s));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],Qb(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],jb(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],eA(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],tA(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function iA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function oA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function aA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],rA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],iA(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],oA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function Rl(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>aA(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function sA(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const T=l(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const M=l(t,["minLength"]);M!=null&&u(e,["minLength"],M);const b=l(t,["minProperties"]);b!=null&&u(e,["minProperties"],b);const I=l(t,["minimum"]);I!=null&&u(e,["minimum"],I);const A=l(t,["nullable"]);A!=null&&u(e,["nullable"],A);const D=l(t,["pattern"]);D!=null&&u(e,["pattern"],D);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const J=l(t,["propertyOrdering"]);J!=null&&u(e,["propertyOrdering"],J);const K=l(t,["required"]);K!=null&&u(e,["required"],K);const ue=l(t,["title"]);ue!=null&&u(e,["title"],ue);const oe=l(t,["type"]);return oe!=null&&u(e,["type"],oe),e}function lA(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function uA(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function cA(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function fA(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],cA(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function dA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function hA(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],dA(r)),e}function pA(){return{}}function mA(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function gA(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>uA(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],fA(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],hA(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],pA());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],mA(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function yA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function vA(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function wA(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],vA(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function TA(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],yA(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],wA(o)),e}function xA(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Yv(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],xA(r)),e}function SA(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Yv(o)),e}function EA(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>SA(s))),u(e,["speakerVoiceConfigs"],o)}return e}function _A(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Yv(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],EA(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function CA(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function bA(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],Rl(jt(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const M=l(e,["frequencyPenalty"]);M!=null&&u(o,["frequencyPenalty"],M);const b=l(e,["seed"]);b!=null&&u(o,["seed"],b);const I=l(e,["responseMimeType"]);I!=null&&u(o,["responseMimeType"],I);const A=l(e,["responseSchema"]);A!=null&&u(o,["responseSchema"],sA(pd(A)));const D=l(e,["responseJsonSchema"]);if(D!=null&&u(o,["responseJsonSchema"],D),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=l(e,["safetySettings"]);if(r!==void 0&&O!=null){let be=O;Array.isArray(be)&&(be=be.map(Z=>lA(Z))),u(r,["safetySettings"],be)}const J=l(e,["tools"]);if(r!==void 0&&J!=null){let be=Eo(J);Array.isArray(be)&&(be=be.map(Z=>gA(So(Z)))),u(r,["tools"],be)}const K=l(e,["toolConfig"]);if(r!==void 0&&K!=null&&u(r,["toolConfig"],TA(K)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=l(e,["cachedContent"]);r!==void 0&&ue!=null&&u(r,["cachedContent"],gr(t,ue));const oe=l(e,["responseModalities"]);oe!=null&&u(o,["responseModalities"],oe);const he=l(e,["mediaResolution"]);he!=null&&u(o,["mediaResolution"],he);const G=l(e,["speechConfig"]);if(G!=null&&u(o,["speechConfig"],_A(md(G))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=l(e,["thinkingConfig"]);return Te!=null&&u(o,["thinkingConfig"],CA(Te)),o}function Yy(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=In(s);Array.isArray(d)&&(d=d.map(h=>Rl(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],bA(t,c,r)),r}function AA(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const s=l(t,["title"]);e!==void 0&&s!=null&&u(e,["requests[]","title"],s);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function RA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);s!=null&&u(r,["requests[]","content"],Nv(t,s));const c=l(e,["config"]);c!=null&&u(r,["config"],AA(c,r));const d=l(e,["model"]);return d!==void 0&&u(r,["requests[]","model"],dt(t,d)),r}function NA(t,e){const r={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const p=l(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const y=l(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const T=l(t,["outputMimeType"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","mimeType"],T);const S=l(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=l(t,["imageSize"]);if(e!==void 0&&E!=null&&u(e,["parameters","sampleImageSize"],E),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function MA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["config"]);return c!=null&&u(r,["config"],NA(c,r)),r}function DA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function IA(t,e,r){const o={},s=l(e,["pageSize"]);r!==void 0&&s!=null&&u(r,["_query","pageSize"],s);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],Iv(t,h)),o}function kA(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],IA(t,o,r)),r}function UA(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function LA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],UA(s,r)),r}function BA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function PA(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function OA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=In(s);Array.isArray(d)&&(d=d.map(h=>Rl(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],PA(c)),r}function Jv(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],hi(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function FA(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);if(e!==void 0&&s!=null&&u(e,["instances[0]","image"],Jv(s)),l(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return r}function GA(t,e){const r={},o=l(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=l(t,["durationSeconds"]);if(e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=l(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);const h=l(t,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function VA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["image"]);if(c!=null&&u(r,["instances[0]","image"],Jv(c)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["source"]);d!=null&&u(r,["config"],FA(d,r));const h=l(e,["config"]);return h!=null&&u(r,["config"],GA(h,r)),r}function zA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function qA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function HA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function KA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],zA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],qA(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],HA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function Co(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>KA(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function YA(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const T=l(t,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const M=l(t,["minLength"]);M!=null&&u(e,["minLength"],M);const b=l(t,["minProperties"]);b!=null&&u(e,["minProperties"],b);const I=l(t,["minimum"]);I!=null&&u(e,["minimum"],I);const A=l(t,["nullable"]);A!=null&&u(e,["nullable"],A);const D=l(t,["pattern"]);D!=null&&u(e,["pattern"],D);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const J=l(t,["propertyOrdering"]);J!=null&&u(e,["propertyOrdering"],J);const K=l(t,["required"]);K!=null&&u(e,["required"],K);const ue=l(t,["title"]);ue!=null&&u(e,["title"],ue);const oe=l(t,["type"]);return oe!=null&&u(e,["type"],oe),e}function JA(t){const e={},r=l(t,["featureSelectionPreference"]);return r!=null&&u(e,["featureSelectionPreference"],r),e}function WA(t){const e={},r=l(t,["method"]);r!=null&&u(e,["method"],r);const o=l(t,["category"]);o!=null&&u(e,["category"],o);const s=l(t,["threshold"]);return s!=null&&u(e,["threshold"],s),e}function $A(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["parameters"]);s!=null&&u(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function XA(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function ZA(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],XA(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function QA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function jA(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],QA(r)),e}function eR(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function tR(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function nR(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],tR(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const s=l(t,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function rR(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],nR(r)),e}function iR(){return{}}function oR(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function Wv(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let T=r;Array.isArray(T)&&(T=T.map(S=>$A(S))),u(e,["functionDeclarations"],T)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=l(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],ZA(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],jA(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],eR(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],rR(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],iR());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],oR(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function aR(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function sR(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function lR(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],sR(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function uR(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],aR(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],lR(o)),e}function cR(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function fR(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],cR(r)),e}function dR(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],fR(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function hR(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function pR(t,e,r){const o={},s=l(e,["systemInstruction"]);r!==void 0&&s!=null&&u(r,["systemInstruction"],Co(jt(s)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const M=l(e,["frequencyPenalty"]);M!=null&&u(o,["frequencyPenalty"],M);const b=l(e,["seed"]);b!=null&&u(o,["seed"],b);const I=l(e,["responseMimeType"]);I!=null&&u(o,["responseMimeType"],I);const A=l(e,["responseSchema"]);A!=null&&u(o,["responseSchema"],YA(pd(A)));const D=l(e,["responseJsonSchema"]);D!=null&&u(o,["responseJsonSchema"],D);const O=l(e,["routingConfig"]);O!=null&&u(o,["routingConfig"],O);const J=l(e,["modelSelectionConfig"]);J!=null&&u(o,["modelConfig"],JA(J));const K=l(e,["safetySettings"]);if(r!==void 0&&K!=null){let de=K;Array.isArray(de)&&(de=de.map(se=>WA(se))),u(r,["safetySettings"],de)}const ue=l(e,["tools"]);if(r!==void 0&&ue!=null){let de=Eo(ue);Array.isArray(de)&&(de=de.map(se=>Wv(So(se)))),u(r,["tools"],de)}const oe=l(e,["toolConfig"]);r!==void 0&&oe!=null&&u(r,["toolConfig"],uR(oe));const he=l(e,["labels"]);r!==void 0&&he!=null&&u(r,["labels"],he);const G=l(e,["cachedContent"]);r!==void 0&&G!=null&&u(r,["cachedContent"],gr(t,G));const Te=l(e,["responseModalities"]);Te!=null&&u(o,["responseModalities"],Te);const be=l(e,["mediaResolution"]);be!=null&&u(o,["mediaResolution"],be);const Z=l(e,["speechConfig"]);Z!=null&&u(o,["speechConfig"],dR(md(Z)));const pe=l(e,["audioTimestamp"]);pe!=null&&u(o,["audioTimestamp"],pe);const B=l(e,["thinkingConfig"]);return B!=null&&u(o,["thinkingConfig"],hR(B)),o}function Jy(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=In(s);Array.isArray(d)&&(d=d.map(h=>Co(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],pR(t,c,r)),r}function mR(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const s=l(t,["title"]);e!==void 0&&s!=null&&u(e,["instances[]","title"],s);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const d=l(t,["mimeType"]);e!==void 0&&d!=null&&u(e,["instances[]","mimeType"],d);const h=l(t,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),r}function gR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);s!=null&&u(r,["instances[]","content"],Nv(t,s));const c=l(e,["config"]);return c!=null&&u(r,["config"],mR(c,r)),r}function yR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&u(e,["parameters","negativePrompt"],s);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const M=l(t,["outputMimeType"]);e!==void 0&&M!=null&&u(e,["parameters","outputOptions","mimeType"],M);const b=l(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&u(e,["parameters","outputOptions","compressionQuality"],b);const I=l(t,["addWatermark"]);e!==void 0&&I!=null&&u(e,["parameters","addWatermark"],I);const A=l(t,["imageSize"]);e!==void 0&&A!=null&&u(e,["parameters","sampleImageSize"],A);const D=l(t,["enhancePrompt"]);return e!==void 0&&D!=null&&u(e,["parameters","enhancePrompt"],D),r}function vR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["config"]);return c!=null&&u(r,["config"],yR(c,r)),r}function Xn(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],hi(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function wR(t){const e={},r=l(t,["maskMode"]);r!=null&&u(e,["maskMode"],r);const o=l(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const s=l(t,["maskDilation"]);return s!=null&&u(e,["dilation"],s),e}function TR(t){const e={},r=l(t,["controlType"]);r!=null&&u(e,["controlType"],r);const o=l(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function xR(t){const e={},r=l(t,["styleDescription"]);return r!=null&&u(e,["styleDescription"],r),e}function SR(t){const e={},r=l(t,["subjectType"]);r!=null&&u(e,["subjectType"],r);const o=l(t,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function ER(t){const e={},r=l(t,["referenceImage"]);r!=null&&u(e,["referenceImage"],Xn(r));const o=l(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const s=l(t,["referenceType"]);s!=null&&u(e,["referenceType"],s);const c=l(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],wR(c));const d=l(t,["controlImageConfig"]);d!=null&&u(e,["controlImageConfig"],TR(d));const h=l(t,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],xR(h));const p=l(t,["subjectImageConfig"]);return p!=null&&u(e,["subjectImageConfig"],SR(p)),e}function _R(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&u(e,["parameters","negativePrompt"],s);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const M=l(t,["outputMimeType"]);e!==void 0&&M!=null&&u(e,["parameters","outputOptions","mimeType"],M);const b=l(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&u(e,["parameters","outputOptions","compressionQuality"],b);const I=l(t,["addWatermark"]);e!==void 0&&I!=null&&u(e,["parameters","addWatermark"],I);const A=l(t,["editMode"]);e!==void 0&&A!=null&&u(e,["parameters","editMode"],A);const D=l(t,["baseSteps"]);return e!==void 0&&D!=null&&u(e,["parameters","editConfig","baseSteps"],D),r}function CR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>ER(p))),u(r,["instances[0]","referenceImages"],h)}const d=l(e,["config"]);return d!=null&&u(r,["config"],_R(d,r)),r}function bR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=l(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const c=l(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);const d=l(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const h=l(t,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=l(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=l(t,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);const y=l(t,["mode"]);return e!==void 0&&y!=null&&u(e,["parameters","mode"],y),r}function AR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["image"]);s!=null&&u(r,["instances[0]","image"],Xn(s));const c=l(e,["upscaleFactor"]);c!=null&&u(r,["parameters","upscaleConfig","upscaleFactor"],c);const d=l(e,["config"]);return d!=null&&u(r,["config"],bR(d,r)),r}function RR(t){const e={},r=l(t,["productImage"]);return r!=null&&u(e,["image"],Xn(r)),e}function NR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["personImage"]);e!==void 0&&s!=null&&u(e,["instances[0]","personImage","image"],Xn(s));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>RR(h))),u(e,["instances[0]","productImages"],d)}return r}function MR(t,e){const r={},o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["baseSteps"]);e!==void 0&&s!=null&&u(e,["parameters","editConfig","baseSteps"],s);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=l(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const m=l(t,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const T=l(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","compressionQuality"],T);const S=l(t,["enhancePrompt"]);return e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S),r}function DR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["source"]);s!=null&&u(r,["config"],NR(s,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],MR(c,r)),r}function IR(t){const e={},r=l(t,["image"]);return r!=null&&u(e,["image"],Xn(r)),e}function kR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);e!==void 0&&s!=null&&u(e,["instances[0]","image"],Xn(s));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],IR(c)),r}function UR(t,e){const r={},o=l(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const s=l(t,["maxPredictions"]);e!==void 0&&s!=null&&u(e,["parameters","maxPredictions"],s);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const d=l(t,["maskDilation"]);e!==void 0&&d!=null&&u(e,["parameters","maskDilation"],d);const h=l(t,["binaryColorThreshold"]);return e!==void 0&&h!=null&&u(e,["parameters","binaryColorThreshold"],h),r}function LR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["source"]);s!=null&&u(r,["config"],kR(s,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],UR(c,r)),r}function BR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function PR(t,e,r){const o={},s=l(e,["pageSize"]);r!==void 0&&s!=null&&u(r,["_query","pageSize"],s);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],Iv(t,h)),o}function OR(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],PR(t,o,r)),r}function FR(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function GR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],FR(s,r)),r}function VR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],s),r}function zR(t,e){const r={},o=l(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Co(jt(o)));const s=l(t,["tools"]);if(e!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Wv(h))),u(e,["tools"],d)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],c),r}function qR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=In(s);Array.isArray(d)&&(d=d.map(h=>Co(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],zR(c,r)),r}function HR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["contents"]);if(s!=null){let d=In(s);Array.isArray(d)&&(d=d.map(h=>Co(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],c),r}function $v(t){const e={},r=l(t,["uri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],hi(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function KR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const s=l(t,["image"]);e!==void 0&&s!=null&&u(e,["instances[0]","image"],Xn(s));const c=l(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],$v(c)),r}function YR(t){const e={},r=l(t,["image"]);r!=null&&u(e,["image"],Xn(r));const o=l(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function JR(t,e){const r={},o=l(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=l(t,["outputGcsUri"]);e!==void 0&&s!=null&&u(e,["parameters","storageUri"],s);const c=l(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const d=l(t,["durationSeconds"]);e!==void 0&&d!=null&&u(e,["parameters","durationSeconds"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const p=l(t,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const m=l(t,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(t,["pubsubTopic"]);e!==void 0&&T!=null&&u(e,["parameters","pubsubTopic"],T);const S=l(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const E=l(t,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const M=l(t,["generateAudio"]);e!==void 0&&M!=null&&u(e,["parameters","generateAudio"],M);const b=l(t,["lastFrame"]);e!==void 0&&b!=null&&u(e,["instances[0]","lastFrame"],Xn(b));const I=l(t,["referenceImages"]);if(e!==void 0&&I!=null){let D=I;Array.isArray(D)&&(D=D.map(O=>YR(O))),u(e,["instances[0]","referenceImages"],D)}const A=l(t,["compressionQuality"]);return e!==void 0&&A!=null&&u(e,["parameters","compressionQuality"],A),r}function WR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const s=l(e,["prompt"]);s!=null&&u(r,["instances[0]","prompt"],s);const c=l(e,["image"]);c!=null&&u(r,["instances[0]","image"],Xn(c));const d=l(e,["video"]);d!=null&&u(r,["instances[0]","video"],$v(d));const h=l(e,["source"]);h!=null&&u(r,["config"],KR(h,r));const p=l(e,["config"]);return p!=null&&u(r,["config"],JR(p,r)),r}function $R(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function XR(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ZR(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function QR(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],$R(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],XR(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],ZR(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function jR(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>QR(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function eN(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function tN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function nN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>tN(s))),u(e,["urlMetadata"],o)}return e}function rN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],jR(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],eN(o));const s=l(t,["tokenCount"]);s!=null&&u(e,["tokenCount"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],nN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const T=l(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function Wy(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>rN(m))),u(e,["candidates"],p)}const s=l(t,["modelVersion"]);s!=null&&u(e,["modelVersion"],s);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function iN(t){const e={},r=l(t,["values"]);return r!=null&&u(e,["values"],r),e}function oN(){return{}}function aN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>iN(d))),u(e,["embeddings"],c)}return l(t,["metadata"])!=null&&u(e,["metadata"],oN()),e}function sN(t){const e={},r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],hi(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Xv(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const s=l(t,["contentType"]);return s!=null&&u(e,["contentType"],s),e}function lN(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],sN(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const s=l(t,["_self"]);return s!=null&&u(e,["safetyAttributes"],Xv(s)),e}function uN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>lN(d))),u(e,["generatedImages"],c)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&u(e,["positivePromptSafetyAttributes"],Xv(s)),e}function cN(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const s=l(t,["updateTime"]);return s!=null&&u(e,["updateTime"],s),e}function ed(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["version"]);c!=null&&u(e,["version"],c);const d=l(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],cN(d));const h=l(t,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const p=l(t,["outputTokenLimit"]);p!=null&&u(e,["outputTokenLimit"],p);const m=l(t,["supportedGenerationMethods"]);return m!=null&&u(e,["supportedActions"],m),e}function fN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["_self"]);if(s!=null){let c=kv(s);Array.isArray(c)&&(c=c.map(d=>ed(d))),u(e,["models"],c)}return e}function dN(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function hN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const s=l(t,["cachedContentTokenCount"]);return s!=null&&u(e,["cachedContentTokenCount"],s),e}function pN(t){const e={},r=l(t,["video","uri"]);r!=null&&u(e,["uri"],r);const o=l(t,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],hi(o));const s=l(t,["encoding"]);return s!=null&&u(e,["mimeType"],s),e}function mN(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],pN(r)),e}function gN(t){const e={},r=l(t,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>mN(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function yN(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response","generateVideoResponse"]);return d!=null&&u(e,["response"],gN(d)),e}function vN(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function wN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function TN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function xN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],vN(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],wN(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],TN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function SN(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>xN(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function EN(t){const e={},r=l(t,["citations"]);return r!=null&&u(e,["citations"],r),e}function _N(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function CN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>_N(s))),u(e,["urlMetadata"],o)}return e}function bN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],SN(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],EN(o));const s=l(t,["finishMessage"]);s!=null&&u(e,["finishMessage"],s);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],CN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const T=l(t,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function $y(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>bN(y))),u(e,["candidates"],m)}const s=l(t,["createTime"]);s!=null&&u(e,["createTime"],s);const c=l(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=l(t,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const h=l(t,["responseId"]);h!=null&&u(e,["responseId"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function AN(t){const e={},r=l(t,["truncated"]);r!=null&&u(e,["truncated"],r);const o=l(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function RN(t){const e={},r=l(t,["values"]);r!=null&&u(e,["values"],r);const o=l(t,["statistics"]);return o!=null&&u(e,["statistics"],AN(o)),e}function NN(t){const e={},r=l(t,["billableCharacterCount"]);return r!=null&&u(e,["billableCharacterCount"],r),e}function MN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions[]","embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>RN(d))),u(e,["embeddings"],c)}const s=l(t,["metadata"]);return s!=null&&u(e,["metadata"],NN(s)),e}function Zv(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],hi(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function Qv(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const s=l(t,["contentType"]);return s!=null&&u(e,["contentType"],s),e}function Nl(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],Zv(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const s=l(t,["_self"]);s!=null&&u(e,["safetyAttributes"],Qv(s));const c=l(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function DN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Nl(d))),u(e,["generatedImages"],c)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&u(e,["positivePromptSafetyAttributes"],Qv(s)),e}function IN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>Nl(c))),u(e,["generatedImages"],s)}return e}function kN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>Nl(c))),u(e,["generatedImages"],s)}return e}function UN(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Nl(s))),u(e,["generatedImages"],o)}return e}function LN(t){const e={},r=l(t,["label"]);r!=null&&u(e,["label"],r);const o=l(t,["score"]);return o!=null&&u(e,["score"],o),e}function BN(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["mask"],Zv(r));const o=l(t,["labels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>LN(c))),u(e,["labels"],s)}return e}function PN(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>BN(s))),u(e,["generatedMasks"],o)}return e}function ON(t){const e={},r=l(t,["endpoint"]);r!=null&&u(e,["name"],r);const o=l(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function FN(t){const e={},r=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const s=l(t,["updateTime"]);return s!=null&&u(e,["updateTime"],s),e}function GN(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const s=l(t,["step"]);return s!=null&&u(e,["step"],s),e}function td(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const s=l(t,["description"]);s!=null&&u(e,["description"],s);const c=l(t,["versionId"]);c!=null&&u(e,["version"],c);const d=l(t,["deployedModels"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(S=>ON(S))),u(e,["endpoints"],T)}const h=l(t,["labels"]);h!=null&&u(e,["labels"],h);const p=l(t,["_self"]);p!=null&&u(e,["tunedModelInfo"],FN(p));const m=l(t,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const y=l(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>GN(S))),u(e,["checkpoints"],T)}return e}function VN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["_self"]);if(s!=null){let c=kv(s);Array.isArray(c)&&(c=c.map(d=>td(d))),u(e,["models"],c)}return e}function zN(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function qN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function HN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["tokensInfo"]);return o!=null&&u(e,["tokensInfo"],o),e}function KN(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["uri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],hi(o));const s=l(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function YN(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],KN(r)),e}function JN(t){const e={},r=l(t,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>YN(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function WN(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const s=l(t,["done"]);s!=null&&u(e,["done"],s);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response"]);return d!=null&&u(e,["response"],JN(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $N="Content-Type",XN="X-Server-Timeout",ZN="User-Agent",nd="x-goog-api-client",QN="1.17.0",jN=`google-genai-sdk/${QN}`,eM="v1beta1",tM="v1beta",Xy=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class nM{constructor(e){var r,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:eM,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:tM,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,o){const s=[this.getRequestUrlInternal(r)];return o&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,r,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))s.searchParams.append(d,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.unaryApiCall(s,c,e.httpMethod)}patchHttpOptions(e,r){const o=JSON.parse(JSON.stringify(e));for(const[s,c]of Object.entries(r))typeof c=="object"?o[s]=Object.assign(Object.assign({},o[s]),c):c!==void 0&&(o[s]=c);return o}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,r,o);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.streamApiCall(s,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,o){if(r&&r.timeout||o){const s=new AbortController,c=s.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const d=setTimeout(()=>s.abort(),r.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=c}return r&&r.extraBody!==null&&rM(e,r.extraBody),e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async s=>(await Zy(s),new $f(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async s=>(await Zy(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var r;return so(this,arguments,function*(){const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:p}=yield Ct(s.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(p,{stream:!0});try{const T=JSON.parse(m);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),E=S.status,M=S.code,b=`got status: ${E}. ${JSON.stringify(T)}`;if(M>=400&&M<600)throw new Al({message:b,status:M})}}catch(T){if(T.name==="ApiError")throw T}d+=m;let y=d.match(Xy);for(;y;){const T=y[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ct(new $f(S)),d=d.slice(y[0].length),y=d.match(Xy)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},r=jN+" "+this.clientOptions.userAgentExtra;return e[ZN]=r,e[nd]=r,e[$N]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))r.append(o,s);e.timeout&&e.timeout>0&&r.append(XN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var o;const s={};r!=null&&(s.mimeType=r.mimeType,s.name=r.name,s.displayName=r.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);s.sizeBytes=String(d.size);const h=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const p=await this.fetchUploadUrl(s,r);return c.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var o;let s={};r!=null&&r.httpOptions?s=r.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:Oe("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:s});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Zy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(o);throw r>=400&&r<600?new Al({message:s,status:r}):new Error(s)}}function rM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(c,d){const h=Object.assign({},c);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p)){const m=d[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=o(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const s=o(r,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iM="mcp_used/unknown";let oM=!1;function jv(t){for(const e of t)if(aM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return oM}function ew(t){var e;const r=(e=t[nd])!==null&&e!==void 0?e:"";t[nd]=(r+` ${iM}`).trimStart()}function aM(t){return t!==null&&typeof t=="object"&&t instanceof yd}function sM(t,e=100){return so(this,arguments,function*(){let o,s=0;for(;s<e;){const c=yield Ct(t.listTools({cursor:o}));for(const d of c.tools)yield yield Ct(d),s++;if(!c.nextCursor)break;o=c.nextCursor}})}class yd{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new yd(e,r)}async initialize(){var e,r,o,s;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var h=!0,p=(r=void 0,Pa(sM(y))),m;m=await p.next(),e=m.done,!e;h=!0){s=m.value,h=!1;const T=s;d.push(T);const S=T.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=y}}catch(T){r={error:T}}finally{try{!h&&!e&&(o=p.return)&&await o.call(p)}finally{if(r)throw r.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),OS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[o.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await s.callTool({name:o.name,arguments:o.args},void 0,c);r.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lM(t,e,r){const o=new MS;let s;r.data instanceof Blob?s=JSON.parse(await r.data.text()):s=JSON.parse(r.data);const c=zb(s);Object.assign(o,c),e(o)}class uM{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o}async connect(e){var r,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=dM(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(O=>{m=O}),T=e.callbacks,S=function(){m({})},E=this.apiClient,M={onopen:S,onmessage:O=>{lM(E,T.onmessage,O)},onerror:(r=T==null?void 0:T.onerror)!==null&&r!==void 0?r:function(O){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(O){}},b=this.webSocketFactory.create(p,fM(d),M);b.connect(),await y;const I=dt(this.apiClient,e.model),A=Hv({model:I}),D=jf({setup:A});return b.send(JSON.stringify(D)),new cM(b,this.apiClient)}}class cM{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=FC(e),o=Kv(r);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=GC(e),o=jf(r);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const r=jf({playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(oo.PLAY)}pause(){this.sendPlaybackControl(oo.PAUSE)}stop(){this.sendPlaybackControl(oo.STOP)}resetContext(){this.sendPlaybackControl(oo.RESET_CONTEXT)}close(){this.conn.close()}}function fM(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function dM(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pM(t,e,r){const o=new NS;let s;r.data instanceof Blob?s=await r.data.text():r.data instanceof ArrayBuffer?s=new TextDecoder().decode(r.data):s=r.data;const c=JSON.parse(s);if(t.isVertexAI()){const d=nA(c);Object.assign(o,d)}else{const d=kb(c);Object.assign(o,d)}e(o)}class mM{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o,this.music=new uM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,o,s,c,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&jv(e.config.tools)&&ew(T);const S=wM(T);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const G=this.apiClient.getApiKey();let Te="BidiGenerateContent",be="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Te="BidiGenerateContentConstrained",be="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${Te}?${be}=${G}`}let E=()=>{};const M=new Promise(G=>{E=G}),b=e.callbacks,I=function(){var G;(G=b==null?void 0:b.onopen)===null||G===void 0||G.call(b),E({})},A=this.apiClient,D={onopen:I,onmessage:G=>{pM(A,b.onmessage,G)},onerror:(r=b==null?void 0:b.onerror)!==null&&r!==void 0?r:function(G){},onclose:(o=b==null?void 0:b.onclose)!==null&&o!==void 0?o:function(G){}},O=this.webSocketFactory.create(y,vM(S),D);O.connect(),await M;let J=dt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const G=this.apiClient.getProject(),Te=this.apiClient.getLocation();J=`projects/${G}/locations/${Te}/`+J}let K={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[wl.AUDIO]}:e.config.responseModalities=[wl.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ue=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],oe=[];for(const G of ue)if(this.isCallableTool(G)){const Te=G;oe.push(await Te.tool())}else oe.push(G);oe.length>0&&(e.config.tools=oe);const he={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?K=pb(this.apiClient,he):K=LC(this.apiClient,he),delete K.config,O.send(JSON.stringify(K)),new yM(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const gM={turnComplete:!0};class yM{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let o=[];try{o=In(r.turns),e.isVertexAI()?o=o.map(s=>Co(s)):o=o.map(s=>Rl(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:o,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let o=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?o=r.functionResponses:o=[r.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const c of o){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(hM)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},gM),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:yb(e)}:r={realtimeInput:OC(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function vM(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function wM(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qy=10;function jy(t){var e,r,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const d of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(lo(d)){s=!0;break}if(!s)return!0;const c=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function lo(t){return"callTool"in t&&typeof t.callTool=="function"}function TM(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(s=>lo(s)))!==null&&o!==void 0?o:!1}function xM(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(s=>!lo(s)))!==null&&o!==void 0?o:!1}function e0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SM extends di{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var o,s,c,d,h;const p=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!TM(r)||jy(r.config))return await this.generateContentInternal(p);if(xM(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const T=In(p.contents),S=(c=(s=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:Qy;let E=0;for(;E<S&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const M=m.candidates[0].content,b=[];for(const I of(h=(d=r.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(lo(I)){const D=await I.callTool(m.functionCalls);b.push(...D)}E++,y={role:"user",parts:b},p.contents=In(p.contents),p.contents.push(M),p.contents.push(y),e0(p.config)&&(T.push(M),T.push(y))}return e0(p.config)&&(m.automaticFunctionCallingHistory=T),m},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),jy(r.config)){const o=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(o=>{var s;let c;const d=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((s=p==null?void 0:p.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=p==null?void 0:p.safetyAttributes:d.push(p);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async r=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Oa(fi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async r=>{const o={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(o.referenceImages=r.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async r=>{let o={numberOfImages:1,mode:"upscale"};r.config&&(o=Object.assign(Object.assign({},o),r.config));const s={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:o};return await this.upscaleImageInternal(s)},this.generateVideos=async r=>{if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,o,s;const c=(r=e.config)===null||r===void 0?void 0:r.tools;if(!c)return e;const d=await Promise.all(c.map(async p=>lo(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&jv(e.config.tools)){const p=(s=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),ew(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var r,o,s;const c=new Map;for(const d of(o=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&o!==void 0?o:[])if(lo(d)){const h=d,p=await h.tool();for(const m of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(e){var r,o,s;const c=(s=(o=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:Qy;let d=!1,h=0;const p=await this.initAfcToolsMap(e);return(function(m,y,T){var S,E;return so(this,arguments,function*(){for(var M,b,I,A;h<c;){d&&(h++,d=!1);const K=yield Ct(m.processParamsMaybeAddMcpUsage(T)),ue=yield Ct(m.generateContentStreamInternal(K)),oe=[],he=[];try{for(var D=!0,O=(b=void 0,Pa(ue)),J;J=yield Ct(O.next()),M=J.done,!M;D=!0){A=J.value,D=!1;const G=A;if(yield yield Ct(G),G.candidates&&(!((S=G.candidates[0])===null||S===void 0)&&S.content)){he.push(G.candidates[0].content);for(const Te of(E=G.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<c&&Te.functionCall){if(!Te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Te.functionCall.name)){const be=yield Ct(y.get(Te.functionCall.name).callTool([Te.functionCall]));oe.push(...be)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Te.functionCall.name}`)}}}}catch(G){b={error:G}}finally{try{!D&&!M&&(I=O.return)&&(yield Ct(I.call(O)))}finally{if(b)throw b.error}}if(oe.length>0){d=!0;const G=new Ma;G.candidates=[{content:{role:"user",parts:oe}}],yield yield Ct(G);const Te=[];Te.push(...he),Te.push({role:"user",parts:oe});const be=In(T.contents).concat(Te);T.contents=be}else break}})})(this,p,e)}async generateContentInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=Jy(this.apiClient,e);return h=Oe("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=$y(y),S=new Ma;return Object.assign(S,T),S})}else{const m=Yy(this.apiClient,e);return h=Oe("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=Wy(y),S=new Ma;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=Jy(this.apiClient,e);return h=Oe("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(T){return so(this,arguments,function*(){var S,E,M,b;try{for(var I=!0,A=Pa(T),D;D=yield Ct(A.next()),S=D.done,!S;I=!0){b=D.value,I=!1;const O=b,J=$y(yield Ct(O.json()));J.sdkHttpResponse={headers:O.headers};const K=new Ma;Object.assign(K,J),yield yield Ct(K)}}catch(O){E={error:O}}finally{try{!I&&!S&&(M=A.return)&&(yield Ct(M.call(A)))}finally{if(E)throw E.error}}})})}else{const m=Yy(this.apiClient,e);return h=Oe("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(T){return so(this,arguments,function*(){var S,E,M,b;try{for(var I=!0,A=Pa(T),D;D=yield Ct(A.next()),S=D.done,!S;I=!0){b=D.value,I=!1;const O=b,J=Wy(yield Ct(O.json()));J.sdkHttpResponse={headers:O.headers};const K=new Ma;Object.assign(K,J),yield yield Ct(K)}}catch(O){E={error:O}}finally{try{!I&&!S&&(M=A.return)&&(yield Ct(M.call(A)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=gR(this.apiClient,e);return h=Oe("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=MN(y),S=new _y;return Object.assign(S,T),S})}else{const m=RA(this.apiClient,e);return h=Oe("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=aN(y),S=new _y;return Object.assign(S,T),S})}}async generateImagesInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=vR(this.apiClient,e);return h=Oe("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=DN(y),S=new Cy;return Object.assign(S,T),S})}else{const m=MA(this.apiClient,e);return h=Oe("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=uN(y),S=new Cy;return Object.assign(S,T),S})}}async editImageInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=CR(this.apiClient,e);return c=Oe("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=IN(p),y=new xS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=AR(this.apiClient,e);return c=Oe("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=kN(p),y=new SS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=DR(this.apiClient,e);return c=Oe("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=UN(p),y=new ES;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=LR(this.apiClient,e);return c=Oe("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const m=PN(p),y=new _S;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=BR(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>td(y))}else{const m=DA(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ed(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=OR(this.apiClient,e);return h=Oe("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=VN(y),S=new by;return Object.assign(S,T),S})}else{const m=kA(this.apiClient,e);return h=Oe("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=fN(y),S=new by;return Object.assign(S,T),S})}}async update(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=GR(this.apiClient,e);return h=Oe("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>td(y))}else{const m=LA(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ed(y))}}async delete(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=VR(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=zN(y),S=new Ay;return Object.assign(S,T),S})}else{const m=BA(this.apiClient,e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=dN(y),S=new Ay;return Object.assign(S,T),S})}}async countTokens(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=qR(this.apiClient,e);return h=Oe("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=qN(y),S=new Ry;return Object.assign(S,T),S})}else{const m=OA(this.apiClient,e);return h=Oe("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=hN(y),S=new Ry;return Object.assign(S,T),S})}}async computeTokens(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=HR(this.apiClient,e);return c=Oe("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const m=HN(p),y=new CS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=WR(this.apiClient,e);return h=Oe("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>{const T=WN(y),S=new Tl;return Object.assign(S,T),S})}else{const m=VA(this.apiClient,e);return h=Oe("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const T=yN(y),S=new Tl;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function _M(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["operationName"],r);const o=l(t,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const s=l(t,["config"]);return s!=null&&u(e,["config"],s),e}function CM(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bM extends di{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=CM(e);return h=Oe("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d}else{const m=EM(e);return h=Oe("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=_M(e);return c=Oe("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AM(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function tw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],AM(r)),e}function RM(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],tw(o)),e}function NM(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>RM(s))),u(e,["speakerVoiceConfigs"],o)}return e}function MM(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],tw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],NM(o));const s=l(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function DM(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=l(t,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function IM(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function kM(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function UM(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],DM(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const s=l(t,["inlineData"]);s!=null&&u(e,["inlineData"],IM(s));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],kM(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const T=l(t,["text"]);return T!=null&&u(e,["text"],T),e}function LM(t){const e={},r=l(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>UM(c))),u(e,["parts"],s)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function BM(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const s=l(t,["name"]);s!=null&&u(e,["name"],s);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function PM(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function OM(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],PM(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function FM(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function GM(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],FM(r)),e}function VM(){return{}}function zM(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function qM(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>BM(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],OM(o));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],GM(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],VM());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],zM(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function HM(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function t0(){return{}}function KM(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function YM(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],KM(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=l(t,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function JM(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function WM(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],JM(o)),e}function $M(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function XM(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],MM(gd(T)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],LM(jt(E)));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let K=Eo(M);Array.isArray(K)&&(K=K.map(ue=>qM(So(ue)))),u(e,["setup","tools"],K)}const b=l(t,["sessionResumption"]);e!==void 0&&b!=null&&u(e,["setup","sessionResumption"],HM(b));const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&u(e,["setup","inputAudioTranscription"],t0());const A=l(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&u(e,["setup","outputAudioTranscription"],t0());const D=l(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&u(e,["setup","realtimeInputConfig"],YM(D));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],WM(O));const J=l(t,["proactivity"]);return e!==void 0&&J!=null&&u(e,["setup","proactivity"],$M(J)),r}function ZM(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const s=l(e,["config"]);return s!=null&&u(r,["config"],XM(s,r)),r}function QM(t,e,r){const o={},s=l(e,["expireTime"]);r!==void 0&&s!=null&&u(r,["expireTime"],s);const c=l(e,["newSessionExpireTime"]);r!==void 0&&c!=null&&u(r,["newSessionExpireTime"],c);const d=l(e,["uses"]);r!==void 0&&d!=null&&u(r,["uses"],d);const h=l(e,["liveConnectConstraints"]);r!==void 0&&h!=null&&u(r,["bidiGenerateContentSetup"],ZM(t,h));const p=l(e,["lockAdditionalFields"]);return r!==void 0&&p!=null&&u(r,["fieldMask"],p),o}function jM(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],QM(t,o,r)),r}function eD(t){const e={},r=l(t,["name"]);return r!=null&&u(e,["name"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tD(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const s=Object.keys(o).map(c=>`${r}.${c}`);e.push(...s)}else e.push(r)}return e.join(",")}function nD(t,e){let r=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const c=o.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,r=c):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(r){const c=tD(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(m=>d.includes(m)?`generationConfig.${m}`:m));const p=[];c&&p.push(c),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class rD extends di{constructor(e){super(),this.apiClient=e}async create(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=jM(this.apiClient,e);c=Oe("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const p=nD(h,e.config);return s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>eD(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function oD(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function aD(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],oD(r,e)),e}function sD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function lD(t){const e={},r=l(t,["textInput"]);r!=null&&u(e,["textInput"],r);const o=l(t,["output"]);return o!=null&&u(e,["output"],o),e}function uD(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>lD(s))),u(e,["examples","examples"],o)}return e}function cD(t,e){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(t,["epochCount"]);e!==void 0&&s!=null&&u(e,["tuningTask","hyperparameters","epochCount"],s);const c=l(t,["learningRateMultiplier"]);if(c!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(t,["batchSize"]);e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","batchSize"],d);const h=l(t,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),r}function fD(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const s=l(t,["trainingDataset"]);s!=null&&u(e,["tuningTask","trainingData"],uD(s));const c=l(t,["config"]);return c!=null&&u(e,["config"],cD(c,e)),e}function dD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function hD(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function pD(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],hD(r,e)),e}function mD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function gD(t,e){const r={},o=l(t,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const s=l(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function yD(t,e){const r={},o=l(t,["gcsUri"]);o!=null&&u(r,["validationDatasetUri"],o);const s=l(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s),r}function vD(t,e){const r={},o=l(t,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],yD(o,r));const s=l(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&u(e,["tunedModelDisplayName"],s);const c=l(t,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=l(t,["epochCount"]);e!==void 0&&d!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=l(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=l(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=l(t,["preTunedModelCheckpointId"]);m!=null&&u(r,["preTunedModel","checkpointId"],m);const y=l(t,["adapterSize"]);if(e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function wD(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const s=l(t,["trainingDataset"]);s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],gD(s,e));const c=l(t,["config"]);return c!=null&&u(e,["config"],vD(c,e)),e}function TD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["model"],r);const o=l(t,["name"]);return o!=null&&u(e,["endpoint"],o),e}function nw(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],Mv(s));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["tuningTask","startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["tuningTask","completeTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["description"]);m!=null&&u(e,["description"],m);const y=l(t,["baseModel"]);y!=null&&u(e,["baseModel"],y);const T=l(t,["_self"]);T!=null&&u(e,["tunedModel"],TD(T));const S=l(t,["customBaseModel"]);S!=null&&u(e,["customBaseModel"],S);const E=l(t,["experiment"]);E!=null&&u(e,["experiment"],E);const M=l(t,["labels"]);M!=null&&u(e,["labels"],M);const b=l(t,["outputUri"]);b!=null&&u(e,["outputUri"],b);const I=l(t,["pipelineJob"]);I!=null&&u(e,["pipelineJob"],I);const A=l(t,["serviceAccount"]);A!=null&&u(e,["serviceAccount"],A);const D=l(t,["tunedModelDisplayName"]);return D!=null&&u(e,["tunedModelDisplayName"],D),e}function xD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>nw(d))),u(e,["tuningJobs"],c)}return e}function SD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["metadata"]);s!=null&&u(e,["metadata"],s);const c=l(t,["done"]);c!=null&&u(e,["done"],c);const d=l(t,["error"]);return d!=null&&u(e,["error"],d),e}function ED(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const s=l(t,["step"]);s!=null&&u(e,["step"],s);const c=l(t,["endpoint"]);return c!=null&&u(e,["endpoint"],c),e}function _D(t){const e={},r=l(t,["model"]);r!=null&&u(e,["model"],r);const o=l(t,["endpoint"]);o!=null&&u(e,["endpoint"],o);const s=l(t,["checkpoints"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>ED(d))),u(e,["checkpoints"],c)}return e}function rd(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const s=l(t,["state"]);s!=null&&u(e,["state"],Mv(s));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["endTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["error"]);m!=null&&u(e,["error"],m);const y=l(t,["description"]);y!=null&&u(e,["description"],y);const T=l(t,["baseModel"]);T!=null&&u(e,["baseModel"],T);const S=l(t,["tunedModel"]);S!=null&&u(e,["tunedModel"],_D(S));const E=l(t,["preTunedModel"]);E!=null&&u(e,["preTunedModel"],E);const M=l(t,["supervisedTuningSpec"]);M!=null&&u(e,["supervisedTuningSpec"],M);const b=l(t,["tuningDataStats"]);b!=null&&u(e,["tuningDataStats"],b);const I=l(t,["encryptionSpec"]);I!=null&&u(e,["encryptionSpec"],I);const A=l(t,["partnerModelTuningSpec"]);A!=null&&u(e,["partnerModelTuningSpec"],A);const D=l(t,["customBaseModel"]);D!=null&&u(e,["customBaseModel"],D);const O=l(t,["experiment"]);O!=null&&u(e,["experiment"],O);const J=l(t,["labels"]);J!=null&&u(e,["labels"],J);const K=l(t,["outputUri"]);K!=null&&u(e,["outputUri"],K);const ue=l(t,["pipelineJob"]);ue!=null&&u(e,["pipelineJob"],ue);const oe=l(t,["serviceAccount"]);oe!=null&&u(e,["serviceAccount"],oe);const he=l(t,["tunedModelDisplayName"]);return he!=null&&u(e,["tunedModelDisplayName"],he),e}function CD(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const s=l(t,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>rd(d))),u(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bD extends di{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new Oa(fi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const o={tunedModelName:r.baseModel},s=Object.assign(Object.assign({},r),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},r);return await this.tuneInternal(o)}else{const o=Object.assign({},r),s=await this.tuneMldevInternal(o);let c="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?c=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(c=s.name.split("/operations/")[0]),{name:c,state:Wf.JOB_STATE_QUEUED}}}}async getInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=dD(e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>rd(y))}else{const m=iD(e);return h=Oe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>nw(y))}}async listInternal(e){var r,o,s,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=pD(e);return h=Oe("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=CD(y),S=new My;return Object.assign(S,T),S})}else{const m=aD(e);return h=Oe("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const T=xD(y),S=new My;return Object.assign(S,T),S})}}async cancel(e){var r,o,s,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=mD(e);d=Oe("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=sD(e);d=Oe("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=wD(e);return c=Oe("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>rd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,o;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fD(e);return c=Oe("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>SD(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AD{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const RD=1024*1024*8,ND=3,MD=1e3,DD=2,jc="x-goog-upload-status";async function ID(t,e,r){var o,s,c;let d=0,h=0,p=new $f(new Response),m="upload";for(d=t.size;h<d;){const T=Math.min(RD,d-h),S=t.slice(h,h+T);h+T>=d&&(m+=", finalize");let E=0,M=MD;for(;E<ND&&(p=await r.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((o=p==null?void 0:p.headers)===null||o===void 0)&&o[jc]));)E++,await UD(M),M=M*DD;if(h+=T,((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[jc])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((c=p==null?void 0:p.headers)===null||c===void 0?void 0:c[jc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function kD(t){return{size:t.size,type:t.type}}function UD(t){return new Promise(e=>setTimeout(e,t))}class LD{async upload(e,r,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ID(e,r,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BD{create(e,r,o){return new PD(e,r,o)}}class PD{constructor(e,r,o){this.url=e,this.headers=r,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n0="x-goog-api-key";class OD{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(n0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(n0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FD="gl-node/";class GD{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const o=TS(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const s=new OD(this.apiKey);this.apiClient=new nM({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:FD+"web",uploader:new LD,downloader:new AD}),this.models=new SM(this.apiClient),this.live=new mM(this.apiClient,s,new BD),this.batches=new KE(this.apiClient),this.chats=new Z_(this.models,this.apiClient),this.caches=new W_(this.apiClient),this.files=new cC(this.apiClient),this.operations=new bM(this.apiClient),this.authTokens=new rD(this.apiClient),this.tunings=new bD(this.apiClient)}}const bo=new GD({apiKey:"PLACEHOLDER_API_KEY"}),VD=t=>t.map(e=>{if(e.type==="image"){const{src:r,...o}=e;return o}return e}),mo=t=>t.map(e=>({...e,content:VD(e.content)})),vd=t=>Math.round((t||"").length/3.5),r0=t=>Array.isArray(t)?t.map(e=>{if(e.type==="list"){const r=e;if(typeof r.text=="string"&&!Array.isArray(r.items))return{type:"list",style:r.style||"unordered",items:[r.text]}}return e}):[],rw=t=>(t.newDocuments&&(t.newDocuments=t.newDocuments.map(e=>({...e,content:r0(e.content)}))),t.updatedDocuments&&(t.updatedDocuments=t.updatedDocuments.map(e=>({...e,content:r0(e.content)}))),t),i0={type:je.OBJECT,properties:{id:{type:je.STRING},title:{type:je.STRING},category:{type:je.STRING},content:{type:je.ARRAY,items:{type:je.OBJECT,properties:{type:{type:je.STRING,enum:["heading","paragraph","list","image","blockquote","definition_list"]},level:{type:je.INTEGER,description:"Apenas para blocos 'heading'. Nveis 1, 2 ou 3."},text:{type:je.STRING,description:"O contedo de texto para blocos 'heading', 'paragraph' e 'blockquote'."},style:{type:je.STRING,enum:["unordered","ordered"],description:"Apenas para blocos 'list'."},items:{oneOf:[{type:je.ARRAY,items:{type:je.STRING},description:"Uma array de strings de itens para blocos 'list'."},{type:je.ARRAY,items:{type:je.OBJECT,properties:{term:{type:je.STRING},description:{type:je.STRING}},required:["term","description"]},description:"Apenas para blocos 'definition_list'. Uma array de objetos com 'term' e 'description'."}]},id:{type:je.STRING,description:"O ID nico para blocos 'image'."},caption:{type:je.STRING,description:"A legenda para blocos 'image'."}},required:["type"]}}},required:["id","title","category","content"]},iw={type:je.OBJECT,properties:{newDocuments:{type:je.ARRAY,description:"Array de documentos inteiramente novos. Se nenhum for criado, retorne um array vazio [].",items:i0},updatedDocuments:{type:je.ARRAY,description:"Array de documentos existentes que foram modificados. Retorne o objeto completo para cada documento modificado. Se nenhum for modificado, retorne um array vazio [].",items:i0},deletedDocumentIds:{type:je.ARRAY,description:"Array de IDs de documentos a serem excludos. Se nenhum for removido, retorne um array vazio [].",items:{type:je.STRING}},summary:{type:je.STRING,description:"Um breve resumo em uma frase das mudanas feitas."},thinkingProcess:{type:je.ARRAY,description:"Uma lista passo a passo em Portugus Brasileiro descrevendo o raciocnio para as mudanas feitas.",items:{type:je.STRING}}},required:["newDocuments","updatedDocuments","deletedDocumentIds","summary","thinkingProcess"]};async function zD(t,e,r,o,s){const c=mo(e),h=`
    ${r==="GDD"?"Voc  um game designer especialista gerenciando um Documento de Design de Jogo (GDD) interligado.":"Voc  um roteirista snior gerenciando um Roteiro de Jogo cronolgico interligado."}
    Sua tarefa  integrar de forma inteligente uma nova ideia/texto fornecida por um usurio na estrutura do documento existente.
    Voc tem o contexto completo do documento atual. Voc DEVE realizar uma atualizao abrangente para incorporar a nova ideia da forma mais coesa e inteligente possvel.

    **REGRAS CRTicas:**
    1.  **Integrao Completa:** Analise a ideia do usurio e determine TODAS as alteraes necessrias no documento. Isso pode envolver criar documentos, atualizar documentos existentes ou mov-los.
    2.  **Edies Focadas:** Faa apenas as alteraes estritamente necessrias. Se uma ideia afeta apenas uma frase em um pargrafo, modifique apenas essa frase e mantenha o restante do pargrafo. Se a ideia  renomear um documento, altere apenas seu ttulo e atualize os links para ele; no modifique seu contedo desnecessariamente. NO reescreva partes de um documento que no foram afetadas pela ideia.
    3.  **Formato de Sada:** Sua resposta DEVE ser um nico objeto JSON com as chaves especificadas no esquema.
    4.  **Raciocnio (thinkingProcess):** Fornea uma lista passo a passo descrevendo seu raciocnio. Explique por que voc est criando, atualizando ou excluindo documentos com base na ideia do usurio. Seja claro e conciso. Este campo  OBRIGATRIO.
    5.  **Preservar IDs:** Voc DEVE preservar o 'id' dos documentos e blocos de imagem existentes.
    6.  **Novos IDs:** Para novos documentos, gere um ID nico usando o timestamp atual como uma string (ex: "${Date.now()}").
    7.  **Links Internos:** Mantenha e atualize meticulosamente todos os links internos. Use o formato [[Ttulo do Documento]] para vincular a um documento. Para vincular a um ttulo especfico dentro de um documento, use o formato [[Ttulo do Documento#Texto do Ttulo]]. Se voc renomear um documento ou um ttulo, atualize TODOS os links que apontam para ele em todo o GDD/Roteiro. Links de imagem usam [[img:id-da-imagem]].
    8.  **Idioma:** Toda a sua sada (ttulos, contedo, resumo) DEVE ESTAR EM PORTUGS BRASILEIRO.
    9.  **Estrutura do Contedo:** Adira  estrutura de blocos de contedo.

    **Novos Blocos de Contedo:**
    - **Blockquote (\`blockquote\`):** Use para citaes, dilogos, ou para destacar um pargrafo que necessita de nfase especial, separando-o visualmente do texto principal.
    - **Lista de Definio (\`definition_list\`):** Use para pares de termo-definio. Ideal para explicar mecnicas, atributos, ou glossrios. Exemplo: 'Mecnica: [descrio]' deve se tornar um item em uma lista de definio.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(c,null,2)}
    ---

    **NOVA IDEIA PARA INTEGRAR:**
    ---
    ${t}
    ---

    Agora, execute a integrao e retorne APENAS AS ALTERAES no formato JSON especificado.
  `;try{const p=await bo.models.generateContentStream({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:iw,maxOutputTokens:s.maxOutputTokens,thinkingConfig:{thinkingBudget:s.thinkingBudget}}});let m="";for await(const S of p)S.text&&(m+=S.text,o(vd(m)));const y=m.trim();let T=JSON.parse(y);if(!T.newDocuments||!T.updatedDocuments||!T.deletedDocumentIds||!T.summary||!T.thinkingProcess)throw new Error("A resposta da IA est faltando campos obrigatrios.");return T=rw(T),{payload:T,rawJson:y}}catch(p){throw console.error("Erro ao chamar a API Gemini para integrao de ideia:",p),new Error("Falha ao obter uma resposta vlida da IA. A ideia pode ser muito complexa ou o servio pode estar indisponvel.")}}async function qD(t,e,r,o){const c=`
      Voc  um assistente de escrita. Sua tarefa  reescrever o texto fornecido com base na instruo dada.
      ${r?`
      CONTEXTO DO DOCUMENTO (APENAS DOCUMENTOS RELEVANTES):
      ---
      ${JSON.stringify(mo(r).map(d=>({title:d.title,category:d.category,content:d.content})),null,2)}
      ---
    `:""}
      Responda APENAS com o texto reescrito, dentro de um objeto JSON com uma nica chave "rewrittenText". No adicione nenhuma explicao ou formatao extra.
      Todos os links internos no formato [[Ttulo do Documento]], [[Ttulo do Documento#Texto do Ttulo]] ou [[img:id-da-imagem]] devem ser preservados.

      INSTRUO:
      "${e}"

      TEXTO ORIGINAL A SER REESCRITO:
      ---
      ${t}
      ---
    `;try{const d=await bo.models.generateContentStream({model:"gemini-2.5-flash",contents:c,config:{responseMimeType:"application/json",responseSchema:{type:je.OBJECT,properties:{rewrittenText:{type:je.STRING,description:"O texto reescrito."}},required:["rewrittenText"]},maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}});let h="";for await(const y of d)y.text&&(h+=y.text,o(vd(h)));const p=h.trim(),m=JSON.parse(p);if(typeof m.rewrittenText!="string")throw new Error("A resposta da IA no continha o texto reescrito esperado.");return m.rewrittenText}catch(d){throw console.error("Erro ao chamar a API Gemini para aprimorar o texto:",d),new Error("Falha ao obter uma resposta vlida da IA para o aprimoramento do texto.")}}async function HD(t,e,r,o,s){const c=r==="GDD"?"Documento de Design de Jogo (GDD)":"Roteiro de Jogo",d=mo(e),h=`
    Voc  um especialista encarregado de gerenciar um ${c} interligado.
    Sua tarefa  realizar uma atualizao de alto nvel em todo o documento com base na instruo de um usurio.

    **REGRAS CRTICAS:**
    1.  **Formato de Sada:** Sua resposta DEVE ser um nico objeto JSON com as chaves especificadas no esquema.
    2.  **Raciocnio (thinkingProcess):** Fornea uma lista passo a passo descrevendo seu raciocnio para as mudanas. Explique por que voc est criando, atualizando ou excluindo documentos. Este campo  OBRIGATRIO.
    3.  **Preservar IDs:** Ao atualizar um documento existente, voc DEVE preservar seu 'id' original. Para blocos de imagem, voc DEVE preservar seu 'id' original.
    4.  **IDs de Novos Documentos:** Para quaisquer novos documentos que voc criar, gere um ID nico usando o timestamp atual como uma string (ex: "${Date.now()}").
    5.  **Edies Focadas:** Faa apenas as alteraes estritamente necessrias para cumprir a instruo. No reescreva ou reorganize partes do documento que no esto diretamente relacionadas  instruo do usurio.
    6.  **Blocos de Imagem:** Voc NO PODE criar novos blocos de imagem ou inventar IDs de imagem. Voc pode mover blocos de imagem existentes, alterar suas legendas ('caption') ou exclu-los, mas o campo 'id' de uma imagem existente DEVE ser preservado.
    7.  **Sem Delees de Documentos:** Por segurana, no delete nenhum documento. Voc pode atualizar o contedo para ficar vazio ou marcar o documento como obsoleto no ttulo, mas no o remova do array de sada.
    8.  **Links Internos:** Mantenha e atualize meticulosamente todos os links internos. Use o formato [[Ttulo do Documento]] para vincular a um documento. Para vincular a um ttulo especfico dentro de um documento, use o formato [[Ttulo do Documento#Texto do Ttulo]]. Se voc renomear um documento ou um ttulo, atualize TODOS os links que apontam para ele em todo o GDD/Roteiro. Links de imagem usam [[img:id-da-imagem]].
    9.  **Idioma:** Toda a sua sada (ttulos, contedo, etc.) DEVE ESTAR EM PORTUGUS BRASILEIRO.
    
    **Novos Blocos de Contedo:**
    - **Blockquote (\`blockquote\`):** Use para citaes, dilogos, ou para destacar um pargrafo que necessita de nfase especial, separando-o visualmente do texto principal.
    - **Lista de Definio (\`definition_list\`):** Use para pares de termo-definio. Ideal para explicar mecnicas, atributos, ou glossrios. Exemplo: 'Mecnica: [descrio]' deve se tornar um item em uma lista de definio.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(d,null,2)}
    ---

    **INSTRUO DO USURIO:**
    ---
    ${t}
    ---

    Agora, execute as atualizaes solicitadas e retorne APENAS AS ALTERAES no formato JSON especificado.
  `;try{const p=await bo.models.generateContentStream({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:iw,maxOutputTokens:s.maxOutputTokens,thinkingConfig:{thinkingBudget:s.thinkingBudget}}});let m="";for await(const S of p)S.text&&(m+=S.text,o(vd(m)));const y=m.trim();let T=JSON.parse(y);if(!T.newDocuments||!T.updatedDocuments||!T.deletedDocumentIds||!T.summary||!T.thinkingProcess)throw new Error("A resposta da IA est faltando campos obrigatrios.");return T=rw(T),{payload:T,rawJson:y}}catch(p){throw console.error("Erro ao chamar a API Gemini para atualizao global:",p),new Error("Falha ao obter uma resposta vlida da IA para a atualizao global. A instruo pode ser muito complexa ou o servio pode estar indisponvel.")}}function KD(t,e){const r={GDD:mo(t),Roteiro:mo(e)},o=`
        Voc  um assistente especialista em design de jogos. Sua finalidade  responder a perguntas sobre o Documento de Design de Jogo (GDD) e o Roteiro fornecidos. 
        Voc NO DEVE inventar informaes. Baseie todas as suas respostas estritamente no contexto fornecido.
        NO se oferea para modificar os documentos. Seu papel  apenas consultivo.
        Seja conciso e direto em suas respostas.

        Aqui est o contexto completo:
        ---
        ${JSON.stringify(r,null,2)}
        ---
    `;return bo.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:o,maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}})}async function YD(t,e,r,o){let s="";t.content.slice(Math.max(0,e-2),e+1).forEach(p=>{"text"in p&&p.text&&(s+=p.text+`
`),"items"in p&&Array.isArray(p.items)&&(s+=p.items.join(`
`)+`
`)}),s||(s=t.content.map(p=>"text"in p?p.text:"").join(`
`));const d=mo(r),h=`
        Voc  um diretor de arte e artista conceitual trabalhando em um jogo. Sua tarefa  escrever um prompt de gerao de imagem detalhado e vvido para o modelo de imagem 'Imagen'.

        **REGRAS CRTICAS:**
        1.  **Contexto Completo:** Use o JSON 'DOCUMENTO COMPLETO' abaixo para entender o estilo visual geral, design de personagens, ambientao e lore do jogo. Sua imagem DEVE ser consistente com este contexto.
        2.  **Contexto Especfico:** O 'CONTEXTO ESPECFICO DA CENA' descreve onde a imagem ser inserida. Use-o para entender a cena imediata, a ao e o humor.
        3.  **Instruo do Usurio:** Se uma 'INSTRUO DO USURIO' for fornecida, ela tem a MAIOR prioridade para o contedo da cena. Integre a instruo do usurio de forma criativa, mas AINDA mantenha a consistncia com o estilo visual do 'DOCUMENTO COMPLETO'.
        4.  **Formato do Prompt:** O prompt que voc escrever deve ser em ingls, altamente descritivo, focado em detalhes visuais e usar termos artsticos. Pense em composio, iluminao, paleta de cores, estilo artstico e emoo.
        5.  **Sada:** Sua resposta DEVE ser um nico objeto JSON com uma nica chave "image_prompt".

        **DOCUMENTO COMPLETO (GDD/Roteiro):**
        ---
        ${JSON.stringify(d,null,2)}
        ---

        **CONTEXTO ESPECFICO DA CENA:**
        ---
        ${s.trim()}
        ---

        **INSTRUO DO USURIO (se houver):**
        ---
        ${o||"Nenhuma. Crie a imagem com base no contexto da cena e no GDD."}
        ---

        Agora, escreva o prompt para o modelo de imagem e retorne-o no formato JSON especificado.
    `;try{const m=(await bo.models.generateContent({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:{type:je.OBJECT,properties:{image_prompt:{type:je.STRING,description:"O prompt de gerao de imagem detalhado em ingls."}},required:["image_prompt"]},thinkingConfig:{thinkingBudget:5e3}}})).text.trim(),y=JSON.parse(m);if(typeof y.image_prompt!="string"||!y.image_prompt)throw new Error("A IA no gerou um prompt de imagem vlido.");return y.image_prompt}catch(p){throw console.error("Erro ao chamar a API Gemini para gerar o prompt de imagem:",p),new Error("Falha ao criar um prompt para a imagem. O servio pode estar indisponvel.")}}async function JD(t){try{const e=await bo.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:"16:9"}});if(!e.generatedImages||e.generatedImages.length===0||!e.generatedImages[0].image.imageBytes)throw new Error("A API de imagem no retornou dados de imagem.");return{base64:e.generatedImages[0].image.imageBytes,mimeType:"image/png"}}catch(e){throw console.error("Erro ao chamar a API Imagen para gerar imagem:",e),new Error("Falha ao gerar a imagem. Verifique o prompt ou a disponibilidade do servio.")}}const WD="GDD_DATABASE",$D=1,Sl="gdd_documents",El="script_documents",ow="all_docs";let Da=null;function aw(){return Da||(Da=new Promise((t,e)=>{const r=indexedDB.open(WD,$D);r.onerror=()=>{console.error("IndexedDB error:",r.error),e("Error opening IndexedDB."),Da=null},r.onsuccess=()=>{t(r.result)},r.onupgradeneeded=o=>{const s=o.target.result;s.objectStoreNames.contains(Sl)||s.createObjectStore(Sl),s.objectStoreNames.contains(El)||s.createObjectStore(El)}}),Da)}async function sw(t){const e=await aw();return new Promise((r,o)=>{const d=e.transaction(t,"readonly").objectStore(t).get(ow);d.onerror=()=>o(`Error getting docs from ${t}`),d.onsuccess=()=>r(d.result||null)})}async function lw(t,e){const r=await aw();return new Promise((o,s)=>{const h=r.transaction(t,"readwrite").objectStore(t).put(e,ow);h.onerror=()=>s(`Error saving docs to ${t}`),h.onsuccess=()=>o()})}const XD=()=>sw(Sl),o0=t=>lw(Sl,t),ZD=()=>sw(El),a0=t=>lw(El,t),el=[{id:"1",title:"Princpios de Design de Personagem",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Nosso design de personagem segue uma abordagem de 'realismo estilizado'. As caractersticas principais incluem silhuetas exageradas e rostos expressivos. Todos os personagens devem se encaixar na esttica definida no [[Guia de Estilo Visual]]. O protagonista principal, Kael,  projetado para ser gil e misterioso."}]},{id:"2",title:"Guia de Estilo Visual",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O estilo visual do jogo  uma fuso de cyberpunk e mitologia antiga. Usamos uma paleta de cores de alto contraste com detalhes em neon contra ambientes escuros e chuvosos. A inspirao  tirada de filmes clssicos neo-noir. Todos os assets devem seguir estas diretrizes."}]},{id:"3",title:"Loop Principal de Gameplay",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O loop principal : EXPLORAR, LUTAR, MELHORAR. Os jogadores exploram o mundo para encontrar recursos e misses. Eles se envolvem em nossas [[Mecnicas de Combate]] para superar desafios. Finalmente, eles usam recompensas para melhorar seus equipamentos e habilidades."}]},{id:"4",title:"Mecnicas de Combate",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O combate  um sistema de terceira pessoa em ritmo acelerado, focado em esquivar e contra-atacar. Os jogadores tm um ataque leve, um ataque pesado e habilidades especiais ligadas aos [[Amuletos]] equipados. O gerenciamento de estamina  crucial."}]},{id:"5",title:"Msica Tema Principal",category:"Som",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O tema principal  uma pea orquestral com toques eletrnicos, refletindo o cenrio do jogo. Deve ser memorvel e evoluir durante momentos chave da histria, conforme descrito no [[Arco da Histria Principal]]."}]},{id:"6",title:"Arco da Histria Principal",category:"Histria",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"A histria segue Kael, um pria que descobre ser a chave para impedir uma profecia de fim do mundo. O arco  dividido em trs atos: O Despertar, A Descida e O Acerto de Contas. A jornada de Kael  de autodescoberta e sacrifcio."}]},{id:"7",title:"Amuletos",category:"Lgica",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Amuletos so itens mgicos que concedem habilidades especiais. Existem trs tipos: Ofensivo, Defensivo e Utilitrio. Cada amuleto tem um perodo de recarga e um custo de energia. Os jogadores podem equipar at dois ao mesmo tempo."}]}],tl=[{id:"script-1",title:"Ato 1: O Despertar - Misso 1",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Cutscene de Abertura",level:2},{type:"paragraph",text:"A cena comea com Kael acordando em um beco chuvoso, sem memria. Uma figura misteriosa se aproxima e lhe entrega um amuleto brilhante antes de desaparecer nas sombras."},{type:"heading",text:"Objetivos da Misso",level:2},{type:"list",style:"ordered",items:["Siga o rastro da figura misteriosa.","Aprenda a usar as habilidades bsicas de combate.","Encontre o primeiro refgio seguro."]}]},{id:"script-2",title:"Ato 1: O Despertar - Misso 2",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Encontrando o Mentor",level:2},{type:"paragraph",text:"Kael chega ao refgio e encontra um velho chamado Elara, que explica a importncia dos [[Amuletos]] e o perigo que se aproxima. Elara se torna o mentor de Kael."},{type:"heading",text:"Dilogo Chave",level:2},{type:"paragraph",text:'Elara: "Esse amuleto...  parte de voc agora. Ele o guiar, mas tambm o marcar como um alvo. Voc deve aprender a control-lo antes que eles o encontrem."'}]}],QD=t=>Math.round((t||"").length/3.5),s0=(t,e)=>{const r=new Map;t.forEach(p=>{p.content.forEach(m=>{m.type==="image"&&m.src&&r.set(m.id,m.src)})});const o=p=>({...p,content:p.content.map(m=>{if(m.type==="image"&&m.id&&!m.src){const y=r.get(m.id);return{...m,src:y||""}}return m})}),s=new Date().toISOString(),c=new Map(t.map(p=>[p.id,p]));e.deletedDocumentIds.forEach(p=>{c.delete(p)}),e.updatedDocuments.forEach(p=>{const m=o(p);c.set(p.id,{...m,lastEdited:s})});const d=e.newDocuments.map(p=>({...o(p),lastEdited:s}));return[...c.values(),...d]},nl=t=>{if(!Array.isArray(t))return[];const e=new Date().toISOString();return t.map(r=>({...r,lastEdited:r.lastEdited||e}))},l0="interactive-gdd-documents",u0="interactive-gdd-script-documents",jD=()=>{const[t,e]=Ue.useState(null),[r,o]=Ue.useState(null),[s,c]=Ue.useState(!0),[d,h]=Ue.useState(null),[p,m]=Ue.useState("gdd"),[y,T]=Ue.useState(null),[S,E]=Ue.useState(null),[M,b]=Ue.useState(""),[I,A]=Ue.useState(null);Ue.useEffect(()=>{async function ae(){try{let Y=await XD(),W=await ZD();if(!Y)try{const j=window.localStorage.getItem(l0);j&&(Y=JSON.parse(j),await o0(Y),window.localStorage.removeItem(l0))}catch(j){console.error("No foi possvel migrar o GDD do localStorage",j)}if(!W)try{const j=window.localStorage.getItem(u0);j&&(W=JSON.parse(j),await a0(W),window.localStorage.removeItem(u0))}catch(j){console.error("No foi possvel migrar os Roteiros do localStorage",j)}Y||(Y=el),W||(W=tl);const L=nl(Y),X=nl(W);e(L),o(X),L.length>0&&T(L[0].id),X.length>0&&E(X[0].id)}catch(Y){console.error("Falha ao carregar documentos da persistncia",Y),h("No foi possvel carregar os dados salvos. Comeando com um novo conjunto de documentos."),e(nl(el)),o(nl(tl)),el.length>0&&T(el[0].id),tl.length>0&&E(tl[0].id)}finally{c(!1)}}ae()},[]),Ue.useEffect(()=>{t&&!s&&o0(t).catch(ae=>{console.error("Falha ao salvar documentos do GDD no IndexedDB",ae),h("Falha ao salvar as alteraes do GDD. Seus dados podem no persistir.")})},[t,s]),Ue.useEffect(()=>{r&&!s&&a0(r).catch(ae=>{console.error("Falha ao salvar documentos de roteiro no IndexedDB",ae),h("Falha ao salvar as alteraes do Roteiro. Seus dados podem no persistir.")})},[r,s]);const D=Ue.useMemo(()=>(p==="gdd"?t:r)||[],[p,t,r]),O=Ue.useMemo(()=>p==="gdd"?y:S,[p,y,S]),J=Ue.useMemo(()=>{const ae=Y=>Y?Y.trim().split(/\s+/).filter(Boolean).length:0;return D.reduce((Y,W)=>{let L=ae(W.title);return Array.isArray(W.content)&&W.content.forEach(X=>{X.type==="heading"||X.type==="paragraph"?L+=ae(X.text):X.type==="list"&&Array.isArray(X.items)?X.items.forEach(j=>L+=ae(j)):X.type==="image"&&(L+=ae(X.caption))}),Y+L},0)},[D]),K=Ue.useMemo(()=>{if(!M.trim())return[];const ae=[],Y=M.trim().toLowerCase(),W=[...(t||[]).map(X=>({...X,viewMode:"gdd"})),...(r||[]).map(X=>({...X,viewMode:"script"}))],L=(X,j)=>{const ee=X.toLowerCase().indexOf(j);if(ee===-1)return null;const V=Math.max(0,ee-40),_=Math.min(X.length,ee+j.length+40),C=(V>0?"...":"")+X.substring(V,_)+(_<X.length?"...":""),$=new RegExp(`(${M.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi"),z=C.split($);return Ba.createElement(Ba.Fragment,null,...z.map((F,H)=>H%2===1?Ba.createElement("mark",{key:H,className:"bg-yellow-400 text-black px-0.5 rounded-sm"},F):F))};return W.forEach(X=>{const j=new Set;if(X.title.toLowerCase().includes(Y)){const ee=L(X.title,Y);ee&&j.add(ee)}X.content.forEach(ee=>{let V=[];(ee.type==="heading"||ee.type==="paragraph")&&ee.text?V.push(ee.text):ee.type==="list"&&ee.items?V.push(...ee.items.filter(Boolean)):ee.type==="image"&&ee.caption&&V.push(ee.caption),V.forEach(_=>{if(_.toLowerCase().includes(Y)){const C=L(_,Y);C&&j.add(C)}})}),j.size>0&&ae.push({docId:X.id,docTitle:X.title,category:X.category,viewMode:X.viewMode,snippets:Array.from(j)})}),ae},[M,t,r]),ue=Ue.useMemo(()=>D.find(ae=>ae.id===O)||null,[O,D]),oe=Ue.useMemo(()=>[...new Set(D.map(ae=>ae.category))],[D]);return{documents:t,scriptDocuments:r,setDocuments:e,setScriptDocuments:o,isDBLoading:s,dbError:d,viewMode:p,setViewMode:m,activeDocuments:D,activeDocumentId:O,categories:oe,activeDocument:ue,totalWordCount:J,searchQuery:M,setSearchQuery:b,searchResults:K,scrollToHeading:I,setScrollToHeading:A,handleSelectDocument:ae=>{(t||[]).some(W=>W.id===ae)?(m("gdd"),T(ae)):(m("script"),E(ae)),b("")},handleSelectSearchResult:(ae,Y)=>{m(Y),Y==="gdd"?T(ae):E(ae),b("")},handleNavigate:(ae,Y)=>{(t||[]).some(L=>L.id===ae)?(m("gdd"),T(ae)):(m("script"),E(ae)),A(Y||null)},handleDidScrollToHeading:()=>A(null),handleUpdateBlock:(ae,Y,W,L)=>{const j=(t||[]).some(V=>V.id===ae)?e:o,ee=new Date().toISOString();j(V=>(V||[]).map(_=>{if(_.id!==ae)return _;const C=[..._.content],$={...C[Y]};if($.type==="list"&&L!==void 0&&Array.isArray($.items)){const z=[...$.items];z[L]=W,$.items=z}else $.type==="heading"||$.type==="paragraph"?$.text=W:$.type==="image"&&L===void 0&&($.caption=W);return C[Y]=$,{..._,content:C,lastEdited:ee}}))},handleSetContent:(ae,Y)=>{const L=(t||[]).some(j=>j.id===ae)?e:o,X=new Date().toISOString();L(j=>(j||[]).map(ee=>ee.id===ae?{...ee,content:Y,lastEdited:X}:ee))},handleUpdateBlockContent:(ae,Y,W)=>{const X=(t||[]).some(ee=>ee.id===ae)?e:o,j=new Date().toISOString();X(ee=>(ee||[]).map(V=>{if(V.id!==ae)return V;const _=[...V.content],C=_[Y];return C?(_[Y]={...C,...W},{...V,content:_,lastEdited:j}):V}))},handleUpdateCategoryName:(ae,Y)=>{if(!Y||Y.trim()===""||ae===Y)return;const W=p==="gdd"?e:o,L=new Date().toISOString();W(X=>(X||[]).map(j=>j.category===ae?{...j,category:Y,lastEdited:L}:j))},handleUpdateDocumentTitle:(ae,Y)=>{if(!Y||Y.trim()==="")return;const W=p==="gdd"?e:o,L=new Date().toISOString();W(X=>{var C;const j=X||[],ee=(C=j.find($=>$.id===ae))==null?void 0:C.title;if(!ee||ee===Y)return j;const V=new RegExp(`\\[\\[${ee.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\]`,"gi"),_=`[[${Y}]]`;return j.map($=>{let z=!1,F={...$};$.id===ae&&(F.title=Y,z=!0);const H=F.content.map(fe=>{var R;if((fe.type==="heading"||fe.type==="paragraph")&&((R=fe.text)!=null&&R.match(V)))return z=!0,{...fe,text:fe.text.replace(V,_)};if(fe.type==="list"&&Array.isArray(fe.items)){let le=!1;const k=fe.items.map(v=>v!=null&&v.match(V)?(le=!0,v.replace(V,_)):v);if(le)return z=!0,{...fe,items:k}}return fe});return z&&(F.lastEdited=L),{...F,content:H}})})},handleReorderDocuments:(ae,Y)=>{(p==="gdd"?e:o)(L=>{const X=L||[],j=X.findIndex(z=>z.id===ae),ee=X.findIndex(z=>z.id===Y);if(j===-1||ee===-1)return X;const V=X[j],_=X[ee];if(V.category!==_.category)return X;const C=[...X];C.splice(j,1);const $=C.findIndex(z=>z.id===Y);return C.splice($,0,V),C})},handleReorderCategories:(ae,Y)=>{(p==="gdd"?e:o)(L=>{const X=L||[],j=[...new Set(X.map(F=>F.category))],ee=j.indexOf(ae),V=j.indexOf(Y);if(ee===-1||V===-1)return X;const _=[...j],[C]=_.splice(ee,1);_.splice(V,0,C);const $=new Map;X.forEach(F=>{$.has(F.category)||$.set(F.category,[]),$.get(F.category).push(F)});const z=[];return _.forEach(F=>{const H=$.get(F)||[];z.push(...H)}),z})}}},c0="nil",eI=()=>{const[t,e]=Ue.useState(null),[r,o]=Ue.useState(null);return Ue.useEffect(()=>{if(window.opener&&window.location.hash.includes("access_token")){try{const d=new URLSearchParams(window.location.hash.substring(1)).get("access_token");d&&window.opener.handleGoogleAuthCallback&&window.opener.handleGoogleAuthCallback(d)}catch(c){console.error("Erro ao processar o callback de autenticao do Google:",c)}finally{window.close()}return}return window.handleGoogleAuthCallback=c=>{c&&e(c)},()=>{delete window.handleGoogleAuthCallback}},[]),{googleAccessToken:t,authError:r,handleGoogleAuthClick:()=>{if(o(null),c0.startsWith("SEU_ID_DE_CLIENTE_AQUI")){o("Por favor, configure o ID de Cliente do Google para usar a integrao com o Google Drive.");return}let c;try{const S=window.top.location;c=`${S.protocol}//${S.host}${S.pathname}`}catch(S){console.warn("No foi possvel acessar window.top.location para determinar a URI de redirecionamento, recorrendo a window.location.",S);const E=window.location;c=`${E.protocol}//${E.host}${E.pathname}`}const h=`https://accounts.google.com/o/oauth2/v2/auth?scope=${encodeURIComponent("https://www.googleapis.com/auth/drive.file")}&include_granted_scopes=true&response_type=token&redirect_uri=${encodeURIComponent(c)}&client_id=${c0}`,p=600,m=700,y=(window.innerWidth-p)/2,T=(window.innerHeight-m)/2;window.open(h,"googleAuth",`width=${p},height=${m},left=${y},top=${T},resizable=yes,scrollbars=yes,status=yes`)}}};var tI=Object.defineProperty,nI=Object.defineProperties,rI=Object.getOwnPropertyDescriptors,f0=Object.getOwnPropertySymbols,iI=Object.prototype.hasOwnProperty,oI=Object.prototype.propertyIsEnumerable,id=(t,e,r)=>e in t?tI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ot=(t,e)=>{for(var r in e||(e={}))iI.call(e,r)&&id(t,r,e[r]);if(f0)for(var r of f0(e))oI.call(e,r)&&id(t,r,e[r]);return t},go=(t,e)=>nI(t,rI(e)),xe=(t,e,r)=>(id(t,typeof e!="symbol"?e+"":e,r),r),rl=(t,e,r)=>new Promise((o,s)=>{var c=p=>{try{h(r.next(p))}catch(m){s(m)}},d=p=>{try{h(r.throw(p))}catch(m){s(m)}},h=p=>p.done?o(p.value):Promise.resolve(p.value).then(c,d);h((r=r.apply(t,e)).next())});class _l{constructor(e){xe(this,"rootKey"),this.rootKey=e}}const aI=Object.seal({});class Se extends _l{constructor(e){super(e),xe(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const o=this.root.map(s=>s instanceof _l?s.prepForXml(e):s).filter(s=>s!==void 0);return e.stack.pop(),{[this.rootKey]:o.length?o.length===1&&((r=o[0])!=null&&r._attr)?o[0]:o:aI}}addChildElement(e){return this.root.push(e),this}}class Ml extends Se{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Be extends _l{constructor(e){super("_attr"),xe(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.keys(this.root).forEach(o=>{const s=this.root[o];if(s!==void 0){const c=this.xmlKeys&&this.xmlKeys[o]||o;r[c]=s}}),{_attr:r}}}class Ao extends _l{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:o})=>o!==void 0).reduce((o,{key:s,value:c})=>go(ot({},o),{[s]:c}),{})}}}class Bt extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cw={},wd={exports:{}},uo=typeof Reflect=="object"?Reflect:null,d0=uo&&typeof uo.apply=="function"?uo.apply:function(e,r,o){return Function.prototype.apply.call(e,r,o)},yl;uo&&typeof uo.ownKeys=="function"?yl=uo.ownKeys:Object.getOwnPropertySymbols?yl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:yl=function(e){return Object.getOwnPropertyNames(e)};function sI(t){console&&console.warn&&console.warn(t)}var fw=Number.isNaN||function(e){return e!==e};function xt(){xt.init.call(this)}wd.exports=xt;wd.exports.once=fI;xt.EventEmitter=xt;xt.prototype._events=void 0;xt.prototype._eventsCount=0;xt.prototype._maxListeners=void 0;var h0=10;function Dl(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(xt,"defaultMaxListeners",{enumerable:!0,get:function(){return h0},set:function(t){if(typeof t!="number"||t<0||fw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");h0=t}});xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||fw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function dw(t){return t._maxListeners===void 0?xt.defaultMaxListeners:t._maxListeners}xt.prototype.getMaxListeners=function(){return dw(this)};xt.prototype.emit=function(e){for(var r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);var s=e==="error",c=this._events;if(c!==void 0)s=s&&c.error===void 0;else if(!s)return!1;if(s){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var p=c[e];if(p===void 0)return!1;if(typeof p=="function")d0(p,this,r);else for(var m=p.length,y=yw(p,m),o=0;o<m;++o)d0(y[o],this,r);return!0};function hw(t,e,r,o){var s,c,d;if(Dl(r),c=t._events,c===void 0?(c=t._events=Object.create(null),t._eventsCount=0):(c.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),c=t._events),d=c[e]),d===void 0)d=c[e]=r,++t._eventsCount;else if(typeof d=="function"?d=c[e]=o?[r,d]:[d,r]:o?d.unshift(r):d.push(r),s=dw(t),s>0&&d.length>s&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=d.length,sI(h)}return t}xt.prototype.addListener=function(e,r){return hw(this,e,r,!1)};xt.prototype.on=xt.prototype.addListener;xt.prototype.prependListener=function(e,r){return hw(this,e,r,!0)};function lI(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function pw(t,e,r){var o={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=lI.bind(o);return s.listener=r,o.wrapFn=s,s}xt.prototype.once=function(e,r){return Dl(r),this.on(e,pw(this,e,r)),this};xt.prototype.prependOnceListener=function(e,r){return Dl(r),this.prependListener(e,pw(this,e,r)),this};xt.prototype.removeListener=function(e,r){var o,s,c,d,h;if(Dl(r),s=this._events,s===void 0)return this;if(o=s[e],o===void 0)return this;if(o===r||o.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,o.listener||r));else if(typeof o!="function"){for(c=-1,d=o.length-1;d>=0;d--)if(o[d]===r||o[d].listener===r){h=o[d].listener,c=d;break}if(c<0)return this;c===0?o.shift():uI(o,c),o.length===1&&(s[e]=o[0]),s.removeListener!==void 0&&this.emit("removeListener",e,h||r)}return this};xt.prototype.off=xt.prototype.removeListener;xt.prototype.removeAllListeners=function(e){var r,o,s;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[e]),this;if(arguments.length===0){var c=Object.keys(o),d;for(s=0;s<c.length;++s)d=c[s],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=o[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function mw(t,e,r){var o=t._events;if(o===void 0)return[];var s=o[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?cI(s):yw(s,s.length)}xt.prototype.listeners=function(e){return mw(this,e,!0)};xt.prototype.rawListeners=function(e){return mw(this,e,!1)};xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):gw.call(t,e)};xt.prototype.listenerCount=gw;function gw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}xt.prototype.eventNames=function(){return this._eventsCount>0?yl(this._events):[]};function yw(t,e){for(var r=new Array(e),o=0;o<e;++o)r[o]=t[o];return r}function uI(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function cI(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function fI(t,e){return new Promise(function(r,o){function s(d){t.removeListener(e,c),o(d)}function c(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}vw(t,e,c,{once:!0}),e!=="error"&&dI(t,s,{once:!0})})}function dI(t,e,r){typeof t.on=="function"&&vw(t,"error",e,r)}function vw(t,e,r,o){if(typeof t.on=="function")o.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(c){o.once&&t.removeEventListener(e,s),r(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Td=wd.exports,od={exports:{}};typeof Object.create=="function"?od.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:od.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}};var pi=od.exports;function hI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ww={exports:{}},Pt=ww.exports={},Yn,Jn;function ad(){throw new Error("setTimeout has not been defined")}function sd(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yn=setTimeout:Yn=ad}catch{Yn=ad}try{typeof clearTimeout=="function"?Jn=clearTimeout:Jn=sd}catch{Jn=sd}})();function Tw(t){if(Yn===setTimeout)return setTimeout(t,0);if((Yn===ad||!Yn)&&setTimeout)return Yn=setTimeout,setTimeout(t,0);try{return Yn(t,0)}catch{try{return Yn.call(null,t,0)}catch{return Yn.call(this,t,0)}}}function pI(t){if(Jn===clearTimeout)return clearTimeout(t);if((Jn===sd||!Jn)&&clearTimeout)return Jn=clearTimeout,clearTimeout(t);try{return Jn(t)}catch{try{return Jn.call(null,t)}catch{return Jn.call(this,t)}}}var mr=[],co=!1,ui,vl=-1;function mI(){!co||!ui||(co=!1,ui.length?mr=ui.concat(mr):vl=-1,mr.length&&xw())}function xw(){if(!co){var t=Tw(mI);co=!0;for(var e=mr.length;e;){for(ui=mr,mr=[];++vl<e;)ui&&ui[vl].run();vl=-1,e=mr.length}ui=null,co=!1,pI(t)}}Pt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];mr.push(new Sw(t,e)),mr.length===1&&!co&&Tw(xw)};function Sw(t,e){this.fun=t,this.array=e}Sw.prototype.run=function(){this.fun.apply(null,this.array)};Pt.title="browser";Pt.browser=!0;Pt.env={};Pt.argv=[];Pt.version="";Pt.versions={};function yr(){}Pt.on=yr;Pt.addListener=yr;Pt.once=yr;Pt.off=yr;Pt.removeListener=yr;Pt.removeAllListeners=yr;Pt.emit=yr;Pt.prependListener=yr;Pt.prependOnceListener=yr;Pt.listeners=function(t){return[]};Pt.binding=function(t){throw new Error("process.binding is not supported")};Pt.cwd=function(){return"/"};Pt.chdir=function(t){throw new Error("process.chdir is not supported")};Pt.umask=function(){return 0};var gI=ww.exports;const Ze=hI(gI);var ef,p0;function Ew(){return p0||(p0=1,ef=Td.EventEmitter),ef}var tf={},Ia={},m0;function yI(){if(m0)return Ia;m0=1,Ia.byteLength=h,Ia.toByteArray=m,Ia.fromByteArray=S;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)t[s]=o[s],e[o.charCodeAt(s)]=s;e[45]=62,e[95]=63;function d(E){var M=E.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=E.indexOf("=");b===-1&&(b=M);var I=b===M?0:4-b%4;return[b,I]}function h(E){var M=d(E),b=M[0],I=M[1];return(b+I)*3/4-I}function p(E,M,b){return(M+b)*3/4-b}function m(E){var M,b=d(E),I=b[0],A=b[1],D=new r(p(E,I,A)),O=0,J=A>0?I-4:I,K;for(K=0;K<J;K+=4)M=e[E.charCodeAt(K)]<<18|e[E.charCodeAt(K+1)]<<12|e[E.charCodeAt(K+2)]<<6|e[E.charCodeAt(K+3)],D[O++]=M>>16&255,D[O++]=M>>8&255,D[O++]=M&255;return A===2&&(M=e[E.charCodeAt(K)]<<2|e[E.charCodeAt(K+1)]>>4,D[O++]=M&255),A===1&&(M=e[E.charCodeAt(K)]<<10|e[E.charCodeAt(K+1)]<<4|e[E.charCodeAt(K+2)]>>2,D[O++]=M>>8&255,D[O++]=M&255),D}function y(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function T(E,M,b){for(var I,A=[],D=M;D<b;D+=3)I=(E[D]<<16&16711680)+(E[D+1]<<8&65280)+(E[D+2]&255),A.push(y(I));return A.join("")}function S(E){for(var M,b=E.length,I=b%3,A=[],D=16383,O=0,J=b-I;O<J;O+=D)A.push(T(E,O,O+D>J?J:O+D));return I===1?(M=E[b-1],A.push(t[M>>2]+t[M<<4&63]+"==")):I===2&&(M=(E[b-2]<<8)+E[b-1],A.push(t[M>>10]+t[M>>4&63]+t[M<<2&63]+"=")),A.join("")}return Ia}var il={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var g0;function vI(){return g0||(g0=1,il.read=function(t,e,r,o,s){var c,d,h=s*8-o-1,p=(1<<h)-1,m=p>>1,y=-7,T=r?s-1:0,S=r?-1:1,E=t[e+T];for(T+=S,c=E&(1<<-y)-1,E>>=-y,y+=h;y>0;c=c*256+t[e+T],T+=S,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=o;y>0;d=d*256+t[e+T],T+=S,y-=8);if(c===0)c=1-m;else{if(c===p)return d?NaN:(E?-1:1)*(1/0);d=d+Math.pow(2,o),c=c-m}return(E?-1:1)*d*Math.pow(2,c-o)},il.write=function(t,e,r,o,s,c){var d,h,p,m=c*8-s-1,y=(1<<m)-1,T=y>>1,S=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=o?0:c-1,M=o?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,d=y):(d=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-d))<1&&(d--,p*=2),d+T>=1?e+=S/p:e+=S*Math.pow(2,1-T),e*p>=2&&(d++,p/=2),d+T>=y?(h=0,d=y):d+T>=1?(h=(e*p-1)*Math.pow(2,s),d=d+T):(h=e*Math.pow(2,T-1)*Math.pow(2,s),d=0));s>=8;t[r+E]=h&255,E+=M,h/=256,s-=8);for(d=d<<s|h,m+=s;m>0;t[r+E]=d&255,E+=M,d/=256,m-=8);t[r+E-M]|=b*128}),il}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var y0;function Il(){return y0||(y0=1,(function(t){var e=yI(),r=vI(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var k=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(k,v),k.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(k){if(k>s)throw new RangeError('The value "'+k+'" is invalid for option "size"');var v=new Uint8Array(k);return Object.setPrototypeOf(v,h.prototype),v}function h(k,v,x){if(typeof k=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(k)}return p(k,v,x)}h.poolSize=8192;function p(k,v,x){if(typeof k=="string")return S(k,v);if(ArrayBuffer.isView(k))return M(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(fe(k,ArrayBuffer)||k&&fe(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(k,SharedArrayBuffer)||k&&fe(k.buffer,SharedArrayBuffer)))return b(k,v,x);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var N=k.valueOf&&k.valueOf();if(N!=null&&N!==k)return h.from(N,v,x);var Q=I(k);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return h.from(k[Symbol.toPrimitive]("string"),v,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}h.from=function(k,v,x){return p(k,v,x)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function y(k,v,x){return m(k),k<=0?d(k):v!==void 0?typeof x=="string"?d(k).fill(v,x):d(k).fill(v):d(k)}h.alloc=function(k,v,x){return y(k,v,x)};function T(k){return m(k),d(k<0?0:A(k)|0)}h.allocUnsafe=function(k){return T(k)},h.allocUnsafeSlow=function(k){return T(k)};function S(k,v){if((typeof v!="string"||v==="")&&(v="utf8"),!h.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var x=O(k,v)|0,N=d(x),Q=N.write(k,v);return Q!==x&&(N=N.slice(0,Q)),N}function E(k){for(var v=k.length<0?0:A(k.length)|0,x=d(v),N=0;N<v;N+=1)x[N]=k[N]&255;return x}function M(k){if(fe(k,Uint8Array)){var v=new Uint8Array(k);return b(v.buffer,v.byteOffset,v.byteLength)}return E(k)}function b(k,v,x){if(v<0||k.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<v+(x||0))throw new RangeError('"length" is outside of buffer bounds');var N;return v===void 0&&x===void 0?N=new Uint8Array(k):x===void 0?N=new Uint8Array(k,v):N=new Uint8Array(k,v,x),Object.setPrototypeOf(N,h.prototype),N}function I(k){if(h.isBuffer(k)){var v=A(k.length)|0,x=d(v);return x.length===0||k.copy(x,0,0,v),x}if(k.length!==void 0)return typeof k.length!="number"||R(k.length)?d(0):E(k);if(k.type==="Buffer"&&Array.isArray(k.data))return E(k.data)}function A(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return k|0}function D(k){return+k!=k&&(k=0),h.alloc(+k)}h.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==h.prototype},h.compare=function(v,x){if(fe(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),fe(x,Uint8Array)&&(x=h.from(x,x.offset,x.byteLength)),!h.isBuffer(v)||!h.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===x)return 0;for(var N=v.length,Q=x.length,ie=0,te=Math.min(N,Q);ie<te;++ie)if(v[ie]!==x[ie]){N=v[ie],Q=x[ie];break}return N<Q?-1:Q<N?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,x){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return h.alloc(0);var N;if(x===void 0)for(x=0,N=0;N<v.length;++N)x+=v[N].length;var Q=h.allocUnsafe(x),ie=0;for(N=0;N<v.length;++N){var te=v[N];if(fe(te,Uint8Array))ie+te.length>Q.length?h.from(te).copy(Q,ie):Uint8Array.prototype.set.call(Q,te,ie);else if(h.isBuffer(te))te.copy(Q,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=te.length}return Q};function O(k,v){if(h.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||fe(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var x=k.length,N=arguments.length>2&&arguments[2]===!0;if(!N&&x===0)return 0;for(var Q=!1;;)switch(v){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return C(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return F(k).length;default:if(Q)return N?-1:C(k).length;v=(""+v).toLowerCase(),Q=!0}}h.byteLength=O;function J(k,v,x){var N=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,v>>>=0,x<=v))return"";for(k||(k="utf8");;)switch(k){case"hex":return ae(this,v,x);case"utf8":case"utf-8":return B(this,v,x);case"ascii":return re(this,v,x);case"latin1":case"binary":return Ae(this,v,x);case"base64":return pe(this,v,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,v,x);default:if(N)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),N=!0}}h.prototype._isBuffer=!0;function K(k,v,x){var N=k[v];k[v]=k[x],k[x]=N}h.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<v;x+=2)K(this,x,x+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<v;x+=4)K(this,x,x+3),K(this,x+1,x+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var x=0;x<v;x+=8)K(this,x,x+7),K(this,x+1,x+6),K(this,x+2,x+5),K(this,x+3,x+4);return this},h.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?B(this,0,v):J.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:h.compare(this,v)===0},h.prototype.inspect=function(){var v="",x=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(v+=" ... "),"<Buffer "+v+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(v,x,N,Q,ie){if(fe(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),!h.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(x===void 0&&(x=0),N===void 0&&(N=v?v.length:0),Q===void 0&&(Q=0),ie===void 0&&(ie=this.length),x<0||N>v.length||Q<0||ie>this.length)throw new RangeError("out of range index");if(Q>=ie&&x>=N)return 0;if(Q>=ie)return-1;if(x>=N)return 1;if(x>>>=0,N>>>=0,Q>>>=0,ie>>>=0,this===v)return 0;for(var te=ie-Q,_e=N-x,De=Math.min(te,_e),Ne=this.slice(Q,ie),ke=v.slice(x,N),Le=0;Le<De;++Le)if(Ne[Le]!==ke[Le]){te=Ne[Le],_e=ke[Le];break}return te<_e?-1:_e<te?1:0};function ue(k,v,x,N,Q){if(k.length===0)return-1;if(typeof x=="string"?(N=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,R(x)&&(x=Q?0:k.length-1),x<0&&(x=k.length+x),x>=k.length){if(Q)return-1;x=k.length-1}else if(x<0)if(Q)x=0;else return-1;if(typeof v=="string"&&(v=h.from(v,N)),h.isBuffer(v))return v.length===0?-1:oe(k,v,x,N,Q);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(k,v,x):Uint8Array.prototype.lastIndexOf.call(k,v,x):oe(k,[v],x,N,Q);throw new TypeError("val must be string, number or Buffer")}function oe(k,v,x,N,Q){var ie=1,te=k.length,_e=v.length;if(N!==void 0&&(N=String(N).toLowerCase(),N==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(k.length<2||v.length<2)return-1;ie=2,te/=2,_e/=2,x/=2}function De(ct,xn){return ie===1?ct[xn]:ct.readUInt16BE(xn*ie)}var Ne;if(Q){var ke=-1;for(Ne=x;Ne<te;Ne++)if(De(k,Ne)===De(v,ke===-1?0:Ne-ke)){if(ke===-1&&(ke=Ne),Ne-ke+1===_e)return ke*ie}else ke!==-1&&(Ne-=Ne-ke),ke=-1}else for(x+_e>te&&(x=te-_e),Ne=x;Ne>=0;Ne--){for(var Le=!0,Fe=0;Fe<_e;Fe++)if(De(k,Ne+Fe)!==De(v,Fe)){Le=!1;break}if(Le)return Ne}return-1}h.prototype.includes=function(v,x,N){return this.indexOf(v,x,N)!==-1},h.prototype.indexOf=function(v,x,N){return ue(this,v,x,N,!0)},h.prototype.lastIndexOf=function(v,x,N){return ue(this,v,x,N,!1)};function he(k,v,x,N){x=Number(x)||0;var Q=k.length-x;N?(N=Number(N),N>Q&&(N=Q)):N=Q;var ie=v.length;N>ie/2&&(N=ie/2);for(var te=0;te<N;++te){var _e=parseInt(v.substr(te*2,2),16);if(R(_e))return te;k[x+te]=_e}return te}function G(k,v,x,N){return H(C(v,k.length-x),k,x,N)}function Te(k,v,x,N){return H($(v),k,x,N)}function be(k,v,x,N){return H(F(v),k,x,N)}function Z(k,v,x,N){return H(z(v,k.length-x),k,x,N)}h.prototype.write=function(v,x,N,Q){if(x===void 0)Q="utf8",N=this.length,x=0;else if(N===void 0&&typeof x=="string")Q=x,N=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(N)?(N=N>>>0,Q===void 0&&(Q="utf8")):(Q=N,N=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ie=this.length-x;if((N===void 0||N>ie)&&(N=ie),v.length>0&&(N<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var te=!1;;)switch(Q){case"hex":return he(this,v,x,N);case"utf8":case"utf-8":return G(this,v,x,N);case"ascii":case"latin1":case"binary":return Te(this,v,x,N);case"base64":return be(this,v,x,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,v,x,N);default:if(te)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),te=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(k,v,x){return v===0&&x===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(v,x))}function B(k,v,x){x=Math.min(k.length,x);for(var N=[],Q=v;Q<x;){var ie=k[Q],te=null,_e=ie>239?4:ie>223?3:ie>191?2:1;if(Q+_e<=x){var De,Ne,ke,Le;switch(_e){case 1:ie<128&&(te=ie);break;case 2:De=k[Q+1],(De&192)===128&&(Le=(ie&31)<<6|De&63,Le>127&&(te=Le));break;case 3:De=k[Q+1],Ne=k[Q+2],(De&192)===128&&(Ne&192)===128&&(Le=(ie&15)<<12|(De&63)<<6|Ne&63,Le>2047&&(Le<55296||Le>57343)&&(te=Le));break;case 4:De=k[Q+1],Ne=k[Q+2],ke=k[Q+3],(De&192)===128&&(Ne&192)===128&&(ke&192)===128&&(Le=(ie&15)<<18|(De&63)<<12|(Ne&63)<<6|ke&63,Le>65535&&Le<1114112&&(te=Le))}}te===null?(te=65533,_e=1):te>65535&&(te-=65536,N.push(te>>>10&1023|55296),te=56320|te&1023),N.push(te),Q+=_e}return se(N)}var de=4096;function se(k){var v=k.length;if(v<=de)return String.fromCharCode.apply(String,k);for(var x="",N=0;N<v;)x+=String.fromCharCode.apply(String,k.slice(N,N+=de));return x}function re(k,v,x){var N="";x=Math.min(k.length,x);for(var Q=v;Q<x;++Q)N+=String.fromCharCode(k[Q]&127);return N}function Ae(k,v,x){var N="";x=Math.min(k.length,x);for(var Q=v;Q<x;++Q)N+=String.fromCharCode(k[Q]);return N}function ae(k,v,x){var N=k.length;(!v||v<0)&&(v=0),(!x||x<0||x>N)&&(x=N);for(var Q="",ie=v;ie<x;++ie)Q+=le[k[ie]];return Q}function Y(k,v,x){for(var N=k.slice(v,x),Q="",ie=0;ie<N.length-1;ie+=2)Q+=String.fromCharCode(N[ie]+N[ie+1]*256);return Q}h.prototype.slice=function(v,x){var N=this.length;v=~~v,x=x===void 0?N:~~x,v<0?(v+=N,v<0&&(v=0)):v>N&&(v=N),x<0?(x+=N,x<0&&(x=0)):x>N&&(x=N),x<v&&(x=v);var Q=this.subarray(v,x);return Object.setPrototypeOf(Q,h.prototype),Q};function W(k,v,x){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+v>x)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(v,x,N){v=v>>>0,x=x>>>0,N||W(v,x,this.length);for(var Q=this[v],ie=1,te=0;++te<x&&(ie*=256);)Q+=this[v+te]*ie;return Q},h.prototype.readUintBE=h.prototype.readUIntBE=function(v,x,N){v=v>>>0,x=x>>>0,N||W(v,x,this.length);for(var Q=this[v+--x],ie=1;x>0&&(ie*=256);)Q+=this[v+--x]*ie;return Q},h.prototype.readUint8=h.prototype.readUInt8=function(v,x){return v=v>>>0,x||W(v,1,this.length),this[v]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(v,x){return v=v>>>0,x||W(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(v,x){return v=v>>>0,x||W(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(v,x){return v=v>>>0,x||W(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(v,x){return v=v>>>0,x||W(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,x,N){v=v>>>0,x=x>>>0,N||W(v,x,this.length);for(var Q=this[v],ie=1,te=0;++te<x&&(ie*=256);)Q+=this[v+te]*ie;return ie*=128,Q>=ie&&(Q-=Math.pow(2,8*x)),Q},h.prototype.readIntBE=function(v,x,N){v=v>>>0,x=x>>>0,N||W(v,x,this.length);for(var Q=x,ie=1,te=this[v+--Q];Q>0&&(ie*=256);)te+=this[v+--Q]*ie;return ie*=128,te>=ie&&(te-=Math.pow(2,8*x)),te},h.prototype.readInt8=function(v,x){return v=v>>>0,x||W(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},h.prototype.readInt16LE=function(v,x){v=v>>>0,x||W(v,2,this.length);var N=this[v]|this[v+1]<<8;return N&32768?N|4294901760:N},h.prototype.readInt16BE=function(v,x){v=v>>>0,x||W(v,2,this.length);var N=this[v+1]|this[v]<<8;return N&32768?N|4294901760:N},h.prototype.readInt32LE=function(v,x){return v=v>>>0,x||W(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,x){return v=v>>>0,x||W(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,x){return v=v>>>0,x||W(v,4,this.length),r.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,x){return v=v>>>0,x||W(v,4,this.length),r.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,x){return v=v>>>0,x||W(v,8,this.length),r.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,x){return v=v>>>0,x||W(v,8,this.length),r.read(this,v,!1,52,8)};function L(k,v,x,N,Q,ie){if(!h.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>Q||v<ie)throw new RangeError('"value" argument is out of bounds');if(x+N>k.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(v,x,N,Q){if(v=+v,x=x>>>0,N=N>>>0,!Q){var ie=Math.pow(2,8*N)-1;L(this,v,x,N,ie,0)}var te=1,_e=0;for(this[x]=v&255;++_e<N&&(te*=256);)this[x+_e]=v/te&255;return x+N},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(v,x,N,Q){if(v=+v,x=x>>>0,N=N>>>0,!Q){var ie=Math.pow(2,8*N)-1;L(this,v,x,N,ie,0)}var te=N-1,_e=1;for(this[x+te]=v&255;--te>=0&&(_e*=256);)this[x+te]=v/_e&255;return x+N},h.prototype.writeUint8=h.prototype.writeUInt8=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,1,255,0),this[x]=v&255,x+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,2,65535,0),this[x]=v&255,this[x+1]=v>>>8,x+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,2,65535,0),this[x]=v>>>8,this[x+1]=v&255,x+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,4,4294967295,0),this[x+3]=v>>>24,this[x+2]=v>>>16,this[x+1]=v>>>8,this[x]=v&255,x+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,4,4294967295,0),this[x]=v>>>24,this[x+1]=v>>>16,this[x+2]=v>>>8,this[x+3]=v&255,x+4},h.prototype.writeIntLE=function(v,x,N,Q){if(v=+v,x=x>>>0,!Q){var ie=Math.pow(2,8*N-1);L(this,v,x,N,ie-1,-ie)}var te=0,_e=1,De=0;for(this[x]=v&255;++te<N&&(_e*=256);)v<0&&De===0&&this[x+te-1]!==0&&(De=1),this[x+te]=(v/_e>>0)-De&255;return x+N},h.prototype.writeIntBE=function(v,x,N,Q){if(v=+v,x=x>>>0,!Q){var ie=Math.pow(2,8*N-1);L(this,v,x,N,ie-1,-ie)}var te=N-1,_e=1,De=0;for(this[x+te]=v&255;--te>=0&&(_e*=256);)v<0&&De===0&&this[x+te+1]!==0&&(De=1),this[x+te]=(v/_e>>0)-De&255;return x+N},h.prototype.writeInt8=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,1,127,-128),v<0&&(v=255+v+1),this[x]=v&255,x+1},h.prototype.writeInt16LE=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,2,32767,-32768),this[x]=v&255,this[x+1]=v>>>8,x+2},h.prototype.writeInt16BE=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,2,32767,-32768),this[x]=v>>>8,this[x+1]=v&255,x+2},h.prototype.writeInt32LE=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,4,2147483647,-2147483648),this[x]=v&255,this[x+1]=v>>>8,this[x+2]=v>>>16,this[x+3]=v>>>24,x+4},h.prototype.writeInt32BE=function(v,x,N){return v=+v,x=x>>>0,N||L(this,v,x,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[x]=v>>>24,this[x+1]=v>>>16,this[x+2]=v>>>8,this[x+3]=v&255,x+4};function X(k,v,x,N,Q,ie){if(x+N>k.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function j(k,v,x,N,Q){return v=+v,x=x>>>0,Q||X(k,v,x,4),r.write(k,v,x,N,23,4),x+4}h.prototype.writeFloatLE=function(v,x,N){return j(this,v,x,!0,N)},h.prototype.writeFloatBE=function(v,x,N){return j(this,v,x,!1,N)};function ee(k,v,x,N,Q){return v=+v,x=x>>>0,Q||X(k,v,x,8),r.write(k,v,x,N,52,8),x+8}h.prototype.writeDoubleLE=function(v,x,N){return ee(this,v,x,!0,N)},h.prototype.writeDoubleBE=function(v,x,N){return ee(this,v,x,!1,N)},h.prototype.copy=function(v,x,N,Q){if(!h.isBuffer(v))throw new TypeError("argument should be a Buffer");if(N||(N=0),!Q&&Q!==0&&(Q=this.length),x>=v.length&&(x=v.length),x||(x=0),Q>0&&Q<N&&(Q=N),Q===N||v.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(N<0||N>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),v.length-x<Q-N&&(Q=v.length-x+N);var ie=Q-N;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,N,Q):Uint8Array.prototype.set.call(v,this.subarray(N,Q),x),ie},h.prototype.fill=function(v,x,N,Q){if(typeof v=="string"){if(typeof x=="string"?(Q=x,x=0,N=this.length):typeof N=="string"&&(Q=N,N=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!h.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(v.length===1){var ie=v.charCodeAt(0);(Q==="utf8"&&ie<128||Q==="latin1")&&(v=ie)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(x<0||this.length<x||this.length<N)throw new RangeError("Out of range index");if(N<=x)return this;x=x>>>0,N=N===void 0?this.length:N>>>0,v||(v=0);var te;if(typeof v=="number")for(te=x;te<N;++te)this[te]=v;else{var _e=h.isBuffer(v)?v:h.from(v,Q),De=_e.length;if(De===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(te=0;te<N-x;++te)this[te+x]=_e[te%De]}return this};var V=/[^+/0-9A-Za-z-_]/g;function _(k){if(k=k.split("=")[0],k=k.trim().replace(V,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function C(k,v){v=v||1/0;for(var x,N=k.length,Q=null,ie=[],te=0;te<N;++te){if(x=k.charCodeAt(te),x>55295&&x<57344){if(!Q){if(x>56319){(v-=3)>-1&&ie.push(239,191,189);continue}else if(te+1===N){(v-=3)>-1&&ie.push(239,191,189);continue}Q=x;continue}if(x<56320){(v-=3)>-1&&ie.push(239,191,189),Q=x;continue}x=(Q-55296<<10|x-56320)+65536}else Q&&(v-=3)>-1&&ie.push(239,191,189);if(Q=null,x<128){if((v-=1)<0)break;ie.push(x)}else if(x<2048){if((v-=2)<0)break;ie.push(x>>6|192,x&63|128)}else if(x<65536){if((v-=3)<0)break;ie.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((v-=4)<0)break;ie.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return ie}function $(k){for(var v=[],x=0;x<k.length;++x)v.push(k.charCodeAt(x)&255);return v}function z(k,v){for(var x,N,Q,ie=[],te=0;te<k.length&&!((v-=2)<0);++te)x=k.charCodeAt(te),N=x>>8,Q=x%256,ie.push(Q),ie.push(N);return ie}function F(k){return e.toByteArray(_(k))}function H(k,v,x,N){for(var Q=0;Q<N&&!(Q+x>=v.length||Q>=k.length);++Q)v[Q+x]=k[Q];return Q}function fe(k,v){return k instanceof v||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===v.name}function R(k){return k!==k}var le=(function(){for(var k="0123456789abcdef",v=new Array(256),x=0;x<16;++x)for(var N=x*16,Q=0;Q<16;++Q)v[N+Q]=k[x]+k[Q];return v})()})(tf)),tf}var nf={},rf={},of,v0;function _w(){return v0||(v0=1,of=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,r);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),of}var af,w0;function xd(){if(w0)return af;w0=1;var t=_w();return af=function(){return t()&&!!Symbol.toStringTag},af}var sf,T0;function wI(){if(T0)return sf;T0=1;var t=typeof Symbol<"u"&&Symbol,e=_w();return sf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},sf}var lf,x0;function TI(){if(x0)return lf;x0=1;var t={foo:{}},e=Object;return lf=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},lf}var uf,S0;function xI(){if(S0)return uf;S0=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,o="[object Function]",s=function(p,m){for(var y=[],T=0;T<p.length;T+=1)y[T]=p[T];for(var S=0;S<m.length;S+=1)y[S+p.length]=m[S];return y},c=function(p,m){for(var y=[],T=m,S=0;T<p.length;T+=1,S+=1)y[S]=p[T];return y},d=function(h,p){for(var m="",y=0;y<h.length;y+=1)m+=h[y],y+1<h.length&&(m+=p);return m};return uf=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==o)throw new TypeError(t+m);for(var y=c(arguments,1),T,S=function(){if(this instanceof T){var A=m.apply(this,s(y,arguments));return Object(A)===A?A:this}return m.apply(p,s(y,arguments))},E=r(0,m.length-y.length),M=[],b=0;b<E;b++)M[b]="$"+b;if(T=Function("binder","return function ("+d(M,",")+"){ return binder.apply(this,arguments); }")(S),m.prototype){var I=function(){};I.prototype=m.prototype,T.prototype=new I,I.prototype=null}return T},uf}var cf,E0;function Sd(){if(E0)return cf;E0=1;var t=xI();return cf=Function.prototype.bind||t,cf}var ff,_0;function SI(){if(_0)return ff;_0=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Sd();return ff=r.call(t,e),ff}var df,C0;function Ro(){if(C0)return df;C0=1;var t,e=SyntaxError,r=Function,o=TypeError,s=function(Z){try{return r('"use strict"; return ('+Z+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var d=function(){throw new o},h=c?(function(){try{return arguments.callee,d}catch{try{return c(arguments,"callee").get}catch{return d}}})():d,p=wI()(),m=TI()(),y=Object.getPrototypeOf||(m?function(Z){return Z.__proto__}:null),T={},S=typeof Uint8Array>"u"||!y?t:y(Uint8Array),E={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":p&&y?y([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&y?y(y([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!p||!y?t:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!p||!y?t:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&y?y(""[Symbol.iterator]()):t,"%Symbol%":p?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":h,"%TypedArray%":S,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(y)try{null.error}catch(Z){var M=y(y(Z));E["%Error.prototype%"]=M}var b=function Z(pe){var B;if(pe==="%AsyncFunction%")B=s("async function () {}");else if(pe==="%GeneratorFunction%")B=s("function* () {}");else if(pe==="%AsyncGeneratorFunction%")B=s("async function* () {}");else if(pe==="%AsyncGenerator%"){var de=Z("%AsyncGeneratorFunction%");de&&(B=de.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var se=Z("%AsyncGenerator%");se&&y&&(B=y(se.prototype))}return E[pe]=B,B},I={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=Sd(),D=SI(),O=A.call(Function.call,Array.prototype.concat),J=A.call(Function.apply,Array.prototype.splice),K=A.call(Function.call,String.prototype.replace),ue=A.call(Function.call,String.prototype.slice),oe=A.call(Function.call,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,Te=function(pe){var B=ue(pe,0,1),de=ue(pe,-1);if(B==="%"&&de!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(de==="%"&&B!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var se=[];return K(pe,he,function(re,Ae,ae,Y){se[se.length]=ae?K(Y,G,"$1"):Ae||re}),se},be=function(pe,B){var de=pe,se;if(D(I,de)&&(se=I[de],de="%"+se[0]+"%"),D(E,de)){var re=E[de];if(re===T&&(re=b(de)),typeof re>"u"&&!B)throw new o("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:se,name:de,value:re}}throw new e("intrinsic "+pe+" does not exist!")};return df=function(pe,B){if(typeof pe!="string"||pe.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new o('"allowMissing" argument must be a boolean');if(oe(/^%?[^%]*%?$/,pe)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var de=Te(pe),se=de.length>0?de[0]:"",re=be("%"+se+"%",B),Ae=re.name,ae=re.value,Y=!1,W=re.alias;W&&(se=W[0],J(de,O([0,1],W)));for(var L=1,X=!0;L<de.length;L+=1){var j=de[L],ee=ue(j,0,1),V=ue(j,-1);if((ee==='"'||ee==="'"||ee==="`"||V==='"'||V==="'"||V==="`")&&ee!==V)throw new e("property names with quotes must have matching quotes");if((j==="constructor"||!X)&&(Y=!0),se+="."+j,Ae="%"+se+"%",D(E,Ae))ae=E[Ae];else if(ae!=null){if(!(j in ae)){if(!B)throw new o("base intrinsic for "+pe+" exists, but the property is not available.");return}if(c&&L+1>=de.length){var _=c(ae,j);X=!!_,X&&"get"in _&&!("originalValue"in _.get)?ae=_.get:ae=ae[j]}else X=D(ae,j),ae=ae[j];X&&!Y&&(E[Ae]=ae)}}return ae},df}var hf={exports:{}},pf,b0;function Cw(){if(b0)return pf;b0=1;var t=Ro(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},pf=r,pf}var mf,A0;function Ed(){if(A0)return mf;A0=1;var t=Ro(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return mf=e,mf}var gf,R0;function EI(){if(R0)return gf;R0=1;var t=Cw()(),e=Ro(),r=t&&e("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var o=e("%SyntaxError%"),s=e("%TypeError%"),c=Ed();return gf=function(h,p,m){if(!h||typeof h!="object"&&typeof h!="function")throw new s("`obj` must be an object or a function`");if(typeof p!="string"&&typeof p!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var y=arguments.length>3?arguments[3]:null,T=arguments.length>4?arguments[4]:null,S=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,M=!!c&&c(h,p);if(r)r(h,p,{configurable:S===null&&M?M.configurable:!S,enumerable:y===null&&M?M.enumerable:!y,value:m,writable:T===null&&M?M.writable:!T});else if(E||!y&&!T&&!S)h[p]=m;else throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},gf}var yf,N0;function _I(){if(N0)return yf;N0=1;var t=Ro(),e=EI(),r=Cw()(),o=Ed(),s=t("%TypeError%"),c=t("%Math.floor%");return yf=function(h,p){if(typeof h!="function")throw new s("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||c(p)!==p)throw new s("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],y=!0,T=!0;if("length"in h&&o){var S=o(h,"length");S&&!S.configurable&&(y=!1),S&&!S.writable&&(T=!1)}return(y||T||!m)&&(r?e(h,"length",p,!0,!0):e(h,"length",p)),h},yf}var M0;function bw(){return M0||(M0=1,(function(t){var e=Sd(),r=Ro(),o=_I(),s=r("%TypeError%"),c=r("%Function.prototype.apply%"),d=r("%Function.prototype.call%"),h=r("%Reflect.apply%",!0)||e.call(d,c),p=r("%Object.defineProperty%",!0),m=r("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}t.exports=function(S){if(typeof S!="function")throw new s("a function is required");var E=h(e,d,arguments);return o(E,1+m(0,S.length-(arguments.length-1)),!0)};var y=function(){return h(e,c,arguments)};p?p(t.exports,"apply",{value:y}):t.exports.apply=y})(hf)),hf.exports}var vf,D0;function Aw(){if(D0)return vf;D0=1;var t=Ro(),e=bw(),r=e(t("String.prototype.indexOf"));return vf=function(s,c){var d=t(s,!!c);return typeof d=="function"&&r(s,".prototype.")>-1?e(d):d},vf}var wf,I0;function CI(){if(I0)return wf;I0=1;var t=xd()(),e=Aw(),r=e("Object.prototype.toString"),o=function(h){return t&&h&&typeof h=="object"&&Symbol.toStringTag in h?!1:r(h)==="[object Arguments]"},s=function(h){return o(h)?!0:h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&r(h)!=="[object Array]"&&r(h.callee)==="[object Function]"},c=(function(){return o(arguments)})();return o.isLegacyArguments=s,wf=c?o:s,wf}var Tf,k0;function bI(){if(k0)return Tf;k0=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,o=xd()(),s=Object.getPrototypeOf,c=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},d;return Tf=function(p){if(typeof p!="function")return!1;if(r.test(e.call(p)))return!0;if(!o){var m=t.call(p);return m==="[object GeneratorFunction]"}if(!s)return!1;if(typeof d>"u"){var y=c();d=y?s(y):!1}return s(p)===d},Tf}var xf,U0;function AI(){if(U0)return xf;U0=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,r)}catch(D){D!==o&&(e=null)}else e=null;var s=/^\s*class\b/,c=function(O){try{var J=t.call(O);return s.test(J)}catch{return!1}},d=function(O){try{return c(O)?!1:(t.call(O),!0)}catch{return!1}},h=Object.prototype.toString,p="[object Object]",m="[object Function]",y="[object GeneratorFunction]",T="[object HTMLAllCollection]",S="[object HTML document.all class]",E="[object HTMLCollection]",M=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var A=document.all;h.call(A)===h.call(document.all)&&(I=function(O){if((b||!O)&&(typeof O>"u"||typeof O=="object"))try{var J=h.call(O);return(J===T||J===S||J===E||J===p)&&O("")==null}catch{}return!1})}return xf=e?function(O){if(I(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;try{e(O,null,r)}catch(J){if(J!==o)return!1}return!c(O)&&d(O)}:function(O){if(I(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;if(M)return d(O);if(c(O))return!1;var J=h.call(O);return J!==m&&J!==y&&!/^\[object HTML/.test(J)?!1:d(O)},xf}var Sf,L0;function RI(){if(L0)return Sf;L0=1;var t=AI(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,o=function(p,m,y){for(var T=0,S=p.length;T<S;T++)r.call(p,T)&&(y==null?m(p[T],T,p):m.call(y,p[T],T,p))},s=function(p,m,y){for(var T=0,S=p.length;T<S;T++)y==null?m(p.charAt(T),T,p):m.call(y,p.charAt(T),T,p)},c=function(p,m,y){for(var T in p)r.call(p,T)&&(y==null?m(p[T],T,p):m.call(y,p[T],T,p))},d=function(p,m,y){if(!t(m))throw new TypeError("iterator must be a function");var T;arguments.length>=3&&(T=y),e.call(p)==="[object Array]"?o(p,m,T):typeof p=="string"?s(p,m,T):c(p,m,T)};return Sf=d,Sf}var Ef,B0;function NI(){if(B0)return Ef;B0=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?$n:globalThis;return Ef=function(){for(var o=[],s=0;s<t.length;s++)typeof e[t[s]]=="function"&&(o[o.length]=t[s]);return o},Ef}var _f,P0;function Rw(){if(P0)return _f;P0=1;var t=RI(),e=NI(),r=bw(),o=Aw(),s=Ed(),c=o("Object.prototype.toString"),d=xd()(),h=typeof globalThis>"u"?$n:globalThis,p=e(),m=o("String.prototype.slice"),y=Object.getPrototypeOf,T=o("Array.prototype.indexOf",!0)||function(I,A){for(var D=0;D<I.length;D+=1)if(I[D]===A)return D;return-1},S={__proto__:null};d&&s&&y?t(p,function(b){var I=new h[b];if(Symbol.toStringTag in I){var A=y(I),D=s(A,Symbol.toStringTag);if(!D){var O=y(A);D=s(O,Symbol.toStringTag)}S["$"+b]=r(D.get)}}):t(p,function(b){var I=new h[b],A=I.slice||I.set;A&&(S["$"+b]=r(A))});var E=function(I){var A=!1;return t(S,function(D,O){if(!A)try{"$"+D(I)===O&&(A=m(O,1))}catch{}}),A},M=function(I){var A=!1;return t(S,function(D,O){if(!A)try{D(I),A=m(O,1)}catch{}}),A};return _f=function(I){if(!I||typeof I!="object")return!1;if(!d){var A=m(c(I),8,-1);return T(p,A)>-1?A:A!=="Object"?!1:M(I)}return s?E(I):null},_f}var Cf,O0;function MI(){if(O0)return Cf;O0=1;var t=Rw();return Cf=function(r){return!!t(r)},Cf}var F0;function DI(){return F0||(F0=1,(function(t){var e=CI(),r=bI(),o=Rw(),s=MI();function c(N){return N.call.bind(N)}var d=typeof BigInt<"u",h=typeof Symbol<"u",p=c(Object.prototype.toString),m=c(Number.prototype.valueOf),y=c(String.prototype.valueOf),T=c(Boolean.prototype.valueOf);if(d)var S=c(BigInt.prototype.valueOf);if(h)var E=c(Symbol.prototype.valueOf);function M(N,Q){if(typeof N!="object")return!1;try{return Q(N),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=s;function b(N){return typeof Promise<"u"&&N instanceof Promise||N!==null&&typeof N=="object"&&typeof N.then=="function"&&typeof N.catch=="function"}t.isPromise=b;function I(N){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(N):s(N)||X(N)}t.isArrayBufferView=I;function A(N){return o(N)==="Uint8Array"}t.isUint8Array=A;function D(N){return o(N)==="Uint8ClampedArray"}t.isUint8ClampedArray=D;function O(N){return o(N)==="Uint16Array"}t.isUint16Array=O;function J(N){return o(N)==="Uint32Array"}t.isUint32Array=J;function K(N){return o(N)==="Int8Array"}t.isInt8Array=K;function ue(N){return o(N)==="Int16Array"}t.isInt16Array=ue;function oe(N){return o(N)==="Int32Array"}t.isInt32Array=oe;function he(N){return o(N)==="Float32Array"}t.isFloat32Array=he;function G(N){return o(N)==="Float64Array"}t.isFloat64Array=G;function Te(N){return o(N)==="BigInt64Array"}t.isBigInt64Array=Te;function be(N){return o(N)==="BigUint64Array"}t.isBigUint64Array=be;function Z(N){return p(N)==="[object Map]"}Z.working=typeof Map<"u"&&Z(new Map);function pe(N){return typeof Map>"u"?!1:Z.working?Z(N):N instanceof Map}t.isMap=pe;function B(N){return p(N)==="[object Set]"}B.working=typeof Set<"u"&&B(new Set);function de(N){return typeof Set>"u"?!1:B.working?B(N):N instanceof Set}t.isSet=de;function se(N){return p(N)==="[object WeakMap]"}se.working=typeof WeakMap<"u"&&se(new WeakMap);function re(N){return typeof WeakMap>"u"?!1:se.working?se(N):N instanceof WeakMap}t.isWeakMap=re;function Ae(N){return p(N)==="[object WeakSet]"}Ae.working=typeof WeakSet<"u"&&Ae(new WeakSet);function ae(N){return Ae(N)}t.isWeakSet=ae;function Y(N){return p(N)==="[object ArrayBuffer]"}Y.working=typeof ArrayBuffer<"u"&&Y(new ArrayBuffer);function W(N){return typeof ArrayBuffer>"u"?!1:Y.working?Y(N):N instanceof ArrayBuffer}t.isArrayBuffer=W;function L(N){return p(N)==="[object DataView]"}L.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&L(new DataView(new ArrayBuffer(1),0,1));function X(N){return typeof DataView>"u"?!1:L.working?L(N):N instanceof DataView}t.isDataView=X;var j=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(N){return p(N)==="[object SharedArrayBuffer]"}function V(N){return typeof j>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new j)),ee.working?ee(N):N instanceof j)}t.isSharedArrayBuffer=V;function _(N){return p(N)==="[object AsyncFunction]"}t.isAsyncFunction=_;function C(N){return p(N)==="[object Map Iterator]"}t.isMapIterator=C;function $(N){return p(N)==="[object Set Iterator]"}t.isSetIterator=$;function z(N){return p(N)==="[object Generator]"}t.isGeneratorObject=z;function F(N){return p(N)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=F;function H(N){return M(N,m)}t.isNumberObject=H;function fe(N){return M(N,y)}t.isStringObject=fe;function R(N){return M(N,T)}t.isBooleanObject=R;function le(N){return d&&M(N,S)}t.isBigIntObject=le;function k(N){return h&&M(N,E)}t.isSymbolObject=k;function v(N){return H(N)||fe(N)||R(N)||le(N)||k(N)}t.isBoxedPrimitive=v;function x(N){return typeof Uint8Array<"u"&&(W(N)||V(N))}t.isAnyArrayBuffer=x,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(N){Object.defineProperty(t,N,{enumerable:!1,value:function(){throw new Error(N+" is not supported in userland")}})})})(rf)),rf}var bf,G0;function II(){return G0||(G0=1,bf=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),bf}var V0;function Nw(){return V0||(V0=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(X){for(var j=Object.keys(X),ee={},V=0;V<j.length;V++)ee[j[V]]=Object.getOwnPropertyDescriptor(X,j[V]);return ee},r=/%[sdj%]/g;t.format=function(L){if(!K(L)){for(var X=[],j=0;j<arguments.length;j++)X.push(d(arguments[j]));return X.join(" ")}for(var j=1,ee=arguments,V=ee.length,_=String(L).replace(r,function($){if($==="%%")return"%";if(j>=V)return $;switch($){case"%s":return String(ee[j++]);case"%d":return Number(ee[j++]);case"%j":try{return JSON.stringify(ee[j++])}catch{return"[Circular]"}default:return $}}),C=ee[j];j<V;C=ee[++j])D(C)||!G(C)?_+=" "+C:_+=" "+d(C);return _},t.deprecate=function(L,X){if(typeof Ze<"u"&&Ze.noDeprecation===!0)return L;if(typeof Ze>"u")return function(){return t.deprecate(L,X).apply(this,arguments)};var j=!1;function ee(){if(!j){if(Ze.throwDeprecation)throw new Error(X);Ze.traceDeprecation?console.trace(X):console.error(X),j=!0}return L.apply(this,arguments)}return ee};var o={},s=/^$/;if(Ze.env.NODE_DEBUG){var c=Ze.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+c+"$","i")}t.debuglog=function(L){if(L=L.toUpperCase(),!o[L])if(s.test(L)){var X=Ze.pid;o[L]=function(){var j=t.format.apply(t,arguments);console.error("%s %d: %s",L,X,j)}}else o[L]=function(){};return o[L]};function d(L,X){var j={seen:[],stylize:p};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),A(X)?j.showHidden=X:X&&t._extend(j,X),oe(j.showHidden)&&(j.showHidden=!1),oe(j.depth)&&(j.depth=2),oe(j.colors)&&(j.colors=!1),oe(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=h),y(j,L,j.depth)}t.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(L,X){var j=d.styles[X];return j?"\x1B["+d.colors[j][0]+"m"+L+"\x1B["+d.colors[j][1]+"m":L}function p(L,X){return L}function m(L){var X={};return L.forEach(function(j,ee){X[j]=!0}),X}function y(L,X,j){if(L.customInspect&&X&&Z(X.inspect)&&X.inspect!==t.inspect&&!(X.constructor&&X.constructor.prototype===X)){var ee=X.inspect(j,L);return K(ee)||(ee=y(L,ee,j)),ee}var V=T(L,X);if(V)return V;var _=Object.keys(X),C=m(_);if(L.showHidden&&(_=Object.getOwnPropertyNames(X)),be(X)&&(_.indexOf("message")>=0||_.indexOf("description")>=0))return S(X);if(_.length===0){if(Z(X)){var $=X.name?": "+X.name:"";return L.stylize("[Function"+$+"]","special")}if(he(X))return L.stylize(RegExp.prototype.toString.call(X),"regexp");if(Te(X))return L.stylize(Date.prototype.toString.call(X),"date");if(be(X))return S(X)}var z="",F=!1,H=["{","}"];if(I(X)&&(F=!0,H=["[","]"]),Z(X)){var fe=X.name?": "+X.name:"";z=" [Function"+fe+"]"}if(he(X)&&(z=" "+RegExp.prototype.toString.call(X)),Te(X)&&(z=" "+Date.prototype.toUTCString.call(X)),be(X)&&(z=" "+S(X)),_.length===0&&(!F||X.length==0))return H[0]+z+H[1];if(j<0)return he(X)?L.stylize(RegExp.prototype.toString.call(X),"regexp"):L.stylize("[Object]","special");L.seen.push(X);var R;return F?R=E(L,X,j,C,_):R=_.map(function(le){return M(L,X,j,C,le,F)}),L.seen.pop(),b(R,z,H)}function T(L,X){if(oe(X))return L.stylize("undefined","undefined");if(K(X)){var j="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize(j,"string")}if(J(X))return L.stylize(""+X,"number");if(A(X))return L.stylize(""+X,"boolean");if(D(X))return L.stylize("null","null")}function S(L){return"["+Error.prototype.toString.call(L)+"]"}function E(L,X,j,ee,V){for(var _=[],C=0,$=X.length;C<$;++C)Ae(X,String(C))?_.push(M(L,X,j,ee,String(C),!0)):_.push("");return V.forEach(function(z){z.match(/^\d+$/)||_.push(M(L,X,j,ee,z,!0))}),_}function M(L,X,j,ee,V,_){var C,$,z;if(z=Object.getOwnPropertyDescriptor(X,V)||{value:X[V]},z.get?z.set?$=L.stylize("[Getter/Setter]","special"):$=L.stylize("[Getter]","special"):z.set&&($=L.stylize("[Setter]","special")),Ae(ee,V)||(C="["+V+"]"),$||(L.seen.indexOf(z.value)<0?(D(j)?$=y(L,z.value,null):$=y(L,z.value,j-1),$.indexOf(`
`)>-1&&(_?$=$.split(`
`).map(function(F){return"  "+F}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(F){return"   "+F}).join(`
`))):$=L.stylize("[Circular]","special")),oe(C)){if(_&&V.match(/^\d+$/))return $;C=JSON.stringify(""+V),C.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(C=C.slice(1,-1),C=L.stylize(C,"name")):(C=C.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),C=L.stylize(C,"string"))}return C+": "+$}function b(L,X,j){var ee=L.reduce(function(V,_){return _.indexOf(`
`)>=0,V+_.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ee>60?j[0]+(X===""?"":X+`
 `)+" "+L.join(`,
  `)+" "+j[1]:j[0]+X+" "+L.join(", ")+" "+j[1]}t.types=DI();function I(L){return Array.isArray(L)}t.isArray=I;function A(L){return typeof L=="boolean"}t.isBoolean=A;function D(L){return L===null}t.isNull=D;function O(L){return L==null}t.isNullOrUndefined=O;function J(L){return typeof L=="number"}t.isNumber=J;function K(L){return typeof L=="string"}t.isString=K;function ue(L){return typeof L=="symbol"}t.isSymbol=ue;function oe(L){return L===void 0}t.isUndefined=oe;function he(L){return G(L)&&B(L)==="[object RegExp]"}t.isRegExp=he,t.types.isRegExp=he;function G(L){return typeof L=="object"&&L!==null}t.isObject=G;function Te(L){return G(L)&&B(L)==="[object Date]"}t.isDate=Te,t.types.isDate=Te;function be(L){return G(L)&&(B(L)==="[object Error]"||L instanceof Error)}t.isError=be,t.types.isNativeError=be;function Z(L){return typeof L=="function"}t.isFunction=Z;function pe(L){return L===null||typeof L=="boolean"||typeof L=="number"||typeof L=="string"||typeof L=="symbol"||typeof L>"u"}t.isPrimitive=pe,t.isBuffer=II();function B(L){return Object.prototype.toString.call(L)}function de(L){return L<10?"0"+L.toString(10):L.toString(10)}var se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function re(){var L=new Date,X=[de(L.getHours()),de(L.getMinutes()),de(L.getSeconds())].join(":");return[L.getDate(),se[L.getMonth()],X].join(" ")}t.log=function(){console.log("%s - %s",re(),t.format.apply(t,arguments))},t.inherits=pi,t._extend=function(L,X){if(!X||!G(X))return L;for(var j=Object.keys(X),ee=j.length;ee--;)L[j[ee]]=X[j[ee]];return L};function Ae(L,X){return Object.prototype.hasOwnProperty.call(L,X)}var ae=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(ae&&X[ae]){var j=X[ae];if(typeof j!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,ae,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var ee,V,_=new Promise(function(z,F){ee=z,V=F}),C=[],$=0;$<arguments.length;$++)C.push(arguments[$]);C.push(function(z,F){z?V(z):ee(F)});try{X.apply(this,C)}catch(z){V(z)}return _}return Object.setPrototypeOf(j,Object.getPrototypeOf(X)),ae&&Object.defineProperty(j,ae,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,e(X))},t.promisify.custom=ae;function Y(L,X){if(!L){var j=new Error("Promise was rejected with a falsy value");j.reason=L,L=j}return X(L)}function W(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var j=[],ee=0;ee<arguments.length;ee++)j.push(arguments[ee]);var V=j.pop();if(typeof V!="function")throw new TypeError("The last argument must be of type Function");var _=this,C=function(){return V.apply(_,arguments)};L.apply(this,j).then(function($){Ze.nextTick(C.bind(null,null,$))},function($){Ze.nextTick(Y.bind(null,$,C))})}return Object.setPrototypeOf(X,Object.getPrototypeOf(L)),Object.defineProperties(X,e(L)),X}t.callbackify=W})(nf)),nf}var Af,z0;function kI(){if(z0)return Af;z0=1;function t(S,E){var M=Object.keys(S);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(S);E&&(b=b.filter(function(I){return Object.getOwnPropertyDescriptor(S,I).enumerable})),M.push.apply(M,b)}return M}function e(S){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?t(Object(M),!0).forEach(function(b){r(S,b,M[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(M)):t(Object(M)).forEach(function(b){Object.defineProperty(S,b,Object.getOwnPropertyDescriptor(M,b))})}return S}function r(S,E,M){return E in S?Object.defineProperty(S,E,{value:M,enumerable:!0,configurable:!0,writable:!0}):S[E]=M,S}function o(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function s(S,E){for(var M=0;M<E.length;M++){var b=E[M];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}function c(S,E,M){return E&&s(S.prototype,E),S}var d=Il(),h=d.Buffer,p=Nw(),m=p.inspect,y=m&&m.custom||"inspect";function T(S,E,M){h.prototype.copy.call(S,E,M)}return Af=(function(){function S(){o(this,S),this.head=null,this.tail=null,this.length=0}return c(S,[{key:"push",value:function(M){var b={data:M,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(M){var b={data:M,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var M=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,M}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(M){if(this.length===0)return"";for(var b=this.head,I=""+b.data;b=b.next;)I+=M+b.data;return I}},{key:"concat",value:function(M){if(this.length===0)return h.alloc(0);for(var b=h.allocUnsafe(M>>>0),I=this.head,A=0;I;)T(I.data,b,A),A+=I.data.length,I=I.next;return b}},{key:"consume",value:function(M,b){var I;return M<this.head.data.length?(I=this.head.data.slice(0,M),this.head.data=this.head.data.slice(M)):M===this.head.data.length?I=this.shift():I=b?this._getString(M):this._getBuffer(M),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(M){var b=this.head,I=1,A=b.data;for(M-=A.length;b=b.next;){var D=b.data,O=M>D.length?D.length:M;if(O===D.length?A+=D:A+=D.slice(0,M),M-=O,M===0){O===D.length?(++I,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=D.slice(O));break}++I}return this.length-=I,A}},{key:"_getBuffer",value:function(M){var b=h.allocUnsafe(M),I=this.head,A=1;for(I.data.copy(b),M-=I.data.length;I=I.next;){var D=I.data,O=M>D.length?D.length:M;if(D.copy(b,b.length-M,0,O),M-=O,M===0){O===D.length?(++A,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=D.slice(O));break}++A}return this.length-=A,b}},{key:y,value:function(M,b){return m(this,e({},b,{depth:0,customInspect:!1}))}}]),S})(),Af}var Rf,q0;function Mw(){if(q0)return Rf;q0=1;function t(d,h){var p=this,m=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return m||y?(h?h(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ze.nextTick(s,this,d)):Ze.nextTick(s,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(T){!h&&T?p._writableState?p._writableState.errorEmitted?Ze.nextTick(r,p):(p._writableState.errorEmitted=!0,Ze.nextTick(e,p,T)):Ze.nextTick(e,p,T):h?(Ze.nextTick(r,p),h(T)):Ze.nextTick(r,p)}),this)}function e(d,h){s(d,h),r(d)}function r(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(d,h){d.emit("error",h)}function c(d,h){var p=d._readableState,m=d._writableState;p&&p.autoDestroy||m&&m.autoDestroy?d.destroy(h):d.emit("error",h)}return Rf={destroy:t,undestroy:o,errorOrDestroy:c},Rf}var Nf={},H0;function No(){if(H0)return Nf;H0=1;function t(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var e={};function r(h,p,m){m||(m=Error);function y(S,E,M){return typeof p=="string"?p:p(S,E,M)}var T=(function(S){t(E,S);function E(M,b,I){return S.call(this,y(M,b,I))||this}return E})(m);T.prototype.name=m.name,T.prototype.code=h,e[h]=T}function o(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(y){return String(y)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function s(h,p,m){return h.substr(0,p.length)===p}function c(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function d(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}return r("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(h,p,m){var y;typeof p=="string"&&s(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var T;if(c(h," argument"))T="The ".concat(h," ").concat(y," ").concat(o(p,"type"));else{var S=d(h,".")?"property":"argument";T='The "'.concat(h,'" ').concat(S," ").concat(y," ").concat(o(p,"type"))}return T+=". Received type ".concat(typeof m),T},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Nf.codes=e,Nf}var Mf,K0;function Dw(){if(K0)return Mf;K0=1;var t=No().codes.ERR_INVALID_OPT_VALUE;function e(o,s,c){return o.highWaterMark!=null?o.highWaterMark:s?o[c]:null}function r(o,s,c,d){var h=e(s,d,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var p=d?c:"highWaterMark";throw new t(p,h)}return Math.floor(h)}return o.objectMode?16:16*1024}return Mf={getHighWaterMark:r},Mf}var Df,Y0;function UI(){if(Y0)return Df;Y0=1,Df=t;function t(r,o){if(e("noDeprecation"))return r;var s=!1;function c(){if(!s){if(e("throwDeprecation"))throw new Error(o);e("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return r.apply(this,arguments)}return c}function e(r){try{if(!$n.localStorage)return!1}catch{return!1}var o=$n.localStorage[r];return o==null?!1:String(o).toLowerCase()==="true"}return Df}var If,J0;function Iw(){if(J0)return If;J0=1,If=he;function t(V){var _=this;this.next=null,this.entry=null,this.finish=function(){ee(_,V)}}var e;he.WritableState=ue;var r={deprecate:UI()},o=Ew(),s=Il().Buffer,c=$n.Uint8Array||function(){};function d(V){return s.from(V)}function h(V){return s.isBuffer(V)||V instanceof c}var p=Mw(),m=Dw(),y=m.getHighWaterMark,T=No().codes,S=T.ERR_INVALID_ARG_TYPE,E=T.ERR_METHOD_NOT_IMPLEMENTED,M=T.ERR_MULTIPLE_CALLBACK,b=T.ERR_STREAM_CANNOT_PIPE,I=T.ERR_STREAM_DESTROYED,A=T.ERR_STREAM_NULL_VALUES,D=T.ERR_STREAM_WRITE_AFTER_END,O=T.ERR_UNKNOWN_ENCODING,J=p.errorOrDestroy;pi(he,o);function K(){}function ue(V,_,C){e=e||yo(),V=V||{},typeof C!="boolean"&&(C=_ instanceof e),this.objectMode=!!V.objectMode,C&&(this.objectMode=this.objectMode||!!V.writableObjectMode),this.highWaterMark=y(this,V,"writableHighWaterMark",C),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=V.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){se(_,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}ue.prototype.getBuffer=function(){for(var _=this.bufferedRequest,C=[];_;)C.push(_),_=_.next;return C},(function(){try{Object.defineProperty(ue.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var oe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(oe=Function.prototype[Symbol.hasInstance],Object.defineProperty(he,Symbol.hasInstance,{value:function(_){return oe.call(this,_)?!0:this!==he?!1:_&&_._writableState instanceof ue}})):oe=function(_){return _ instanceof this};function he(V){e=e||yo();var _=this instanceof e;if(!_&&!oe.call(he,this))return new he(V);this._writableState=new ue(V,this,_),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),o.call(this)}he.prototype.pipe=function(){J(this,new b)};function G(V,_){var C=new D;J(V,C),Ze.nextTick(_,C)}function Te(V,_,C,$){var z;return C===null?z=new A:typeof C!="string"&&!_.objectMode&&(z=new S("chunk",["string","Buffer"],C)),z?(J(V,z),Ze.nextTick($,z),!1):!0}he.prototype.write=function(V,_,C){var $=this._writableState,z=!1,F=!$.objectMode&&h(V);return F&&!s.isBuffer(V)&&(V=d(V)),typeof _=="function"&&(C=_,_=null),F?_="buffer":_||(_=$.defaultEncoding),typeof C!="function"&&(C=K),$.ending?G(this,C):(F||Te(this,$,V,C))&&($.pendingcb++,z=Z(this,$,F,V,_,C)),z},he.prototype.cork=function(){this._writableState.corked++},he.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,!V.writing&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&ae(this,V))},he.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new O(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(he.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function be(V,_,C){return!V.objectMode&&V.decodeStrings!==!1&&typeof _=="string"&&(_=s.from(_,C)),_}Object.defineProperty(he.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Z(V,_,C,$,z,F){if(!C){var H=be(_,$,z);$!==H&&(C=!0,z="buffer",$=H)}var fe=_.objectMode?1:$.length;_.length+=fe;var R=_.length<_.highWaterMark;if(R||(_.needDrain=!0),_.writing||_.corked){var le=_.lastBufferedRequest;_.lastBufferedRequest={chunk:$,encoding:z,isBuf:C,callback:F,next:null},le?le.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else pe(V,_,!1,fe,$,z,F);return R}function pe(V,_,C,$,z,F,H){_.writelen=$,_.writecb=H,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new I("write")):C?V._writev(z,_.onwrite):V._write(z,F,_.onwrite),_.sync=!1}function B(V,_,C,$,z){--_.pendingcb,C?(Ze.nextTick(z,$),Ze.nextTick(X,V,_),V._writableState.errorEmitted=!0,J(V,$)):(z($),V._writableState.errorEmitted=!0,J(V,$),X(V,_))}function de(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function se(V,_){var C=V._writableState,$=C.sync,z=C.writecb;if(typeof z!="function")throw new M;if(de(C),_)B(V,C,$,_,z);else{var F=Y(C)||V.destroyed;!F&&!C.corked&&!C.bufferProcessing&&C.bufferedRequest&&ae(V,C),$?Ze.nextTick(re,V,C,F,z):re(V,C,F,z)}}function re(V,_,C,$){C||Ae(V,_),_.pendingcb--,$(),X(V,_)}function Ae(V,_){_.length===0&&_.needDrain&&(_.needDrain=!1,V.emit("drain"))}function ae(V,_){_.bufferProcessing=!0;var C=_.bufferedRequest;if(V._writev&&C&&C.next){var $=_.bufferedRequestCount,z=new Array($),F=_.corkedRequestsFree;F.entry=C;for(var H=0,fe=!0;C;)z[H]=C,C.isBuf||(fe=!1),C=C.next,H+=1;z.allBuffers=fe,pe(V,_,!0,_.length,z,"",F.finish),_.pendingcb++,_.lastBufferedRequest=null,F.next?(_.corkedRequestsFree=F.next,F.next=null):_.corkedRequestsFree=new t(_),_.bufferedRequestCount=0}else{for(;C;){var R=C.chunk,le=C.encoding,k=C.callback,v=_.objectMode?1:R.length;if(pe(V,_,!1,v,R,le,k),C=C.next,_.bufferedRequestCount--,_.writing)break}C===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=C,_.bufferProcessing=!1}he.prototype._write=function(V,_,C){C(new E("_write()"))},he.prototype._writev=null,he.prototype.end=function(V,_,C){var $=this._writableState;return typeof V=="function"?(C=V,V=null,_=null):typeof _=="function"&&(C=_,_=null),V!=null&&this.write(V,_),$.corked&&($.corked=1,this.uncork()),$.ending||j(this,$,C),this},Object.defineProperty(he.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Y(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function W(V,_){V._final(function(C){_.pendingcb--,C&&J(V,C),_.prefinished=!0,V.emit("prefinish"),X(V,_)})}function L(V,_){!_.prefinished&&!_.finalCalled&&(typeof V._final=="function"&&!_.destroyed?(_.pendingcb++,_.finalCalled=!0,Ze.nextTick(W,V,_)):(_.prefinished=!0,V.emit("prefinish")))}function X(V,_){var C=Y(_);if(C&&(L(V,_),_.pendingcb===0&&(_.finished=!0,V.emit("finish"),_.autoDestroy))){var $=V._readableState;(!$||$.autoDestroy&&$.endEmitted)&&V.destroy()}return C}function j(V,_,C){_.ending=!0,X(V,_),C&&(_.finished?Ze.nextTick(C):V.once("finish",C)),_.ended=!0,V.writable=!1}function ee(V,_,C){var $=V.entry;for(V.entry=null;$;){var z=$.callback;_.pendingcb--,z(C),$=$.next}_.corkedRequestsFree.next=V}return Object.defineProperty(he.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),he.prototype.destroy=p.destroy,he.prototype._undestroy=p.undestroy,he.prototype._destroy=function(V,_){_(V)},If}var kf,W0;function yo(){if(W0)return kf;W0=1;var t=Object.keys||function(m){var y=[];for(var T in m)y.push(T);return y};kf=d;var e=kw(),r=Iw();pi(d,e);for(var o=t(r.prototype),s=0;s<o.length;s++){var c=o[s];d.prototype[c]||(d.prototype[c]=r.prototype[c])}function d(m){if(!(this instanceof d))return new d(m);e.call(this,m),r.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||Ze.nextTick(p,this)}function p(m){m.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),kf}var Uf={},ol={exports:{}},$0;function LI(){return $0||($0=1,(function(t,e){var r=Il(),o=r.Buffer;function s(d,h){for(var p in d)h[p]=d[p]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=c);function c(d,h,p){return o(d,h,p)}s(o,c),c.from=function(d,h,p){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,h,p)},c.alloc=function(d,h,p){if(typeof d!="number")throw new TypeError("Argument must be a number");var m=o(d);return h!==void 0?typeof p=="string"?m.fill(h,p):m.fill(h):m.fill(0),m},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}})(ol,ol.exports)),ol.exports}var X0;function ld(){if(X0)return Uf;X0=1;var t=LI().Buffer,e=t.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(A){if(!A)return"utf8";for(var D;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(D)return;A=(""+A).toLowerCase(),D=!0}}function o(A){var D=r(A);if(typeof D!="string"&&(t.isEncoding===e||!e(A)))throw new Error("Unknown encoding: "+A);return D||A}Uf.StringDecoder=s;function s(A){this.encoding=o(A);var D;switch(this.encoding){case"utf16le":this.text=T,this.end=S,D=4;break;case"utf8":this.fillLast=p,D=4;break;case"base64":this.text=E,this.end=M,D=3;break;default:this.write=b,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(D)}s.prototype.write=function(A){if(A.length===0)return"";var D,O;if(this.lastNeed){if(D=this.fillLast(A),D===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<A.length?D?D+this.text(A,O):this.text(A,O):D||""},s.prototype.end=y,s.prototype.text=m,s.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length};function c(A){return A<=127?0:A>>5===6?2:A>>4===14?3:A>>3===30?4:A>>6===2?-1:-2}function d(A,D,O){var J=D.length-1;if(J<O)return 0;var K=c(D[J]);return K>=0?(K>0&&(A.lastNeed=K-1),K):--J<O||K===-2?0:(K=c(D[J]),K>=0?(K>0&&(A.lastNeed=K-2),K):--J<O||K===-2?0:(K=c(D[J]),K>=0?(K>0&&(K===2?K=0:A.lastNeed=K-3),K):0))}function h(A,D,O){if((D[0]&192)!==128)return A.lastNeed=0,"";if(A.lastNeed>1&&D.length>1){if((D[1]&192)!==128)return A.lastNeed=1,"";if(A.lastNeed>2&&D.length>2&&(D[2]&192)!==128)return A.lastNeed=2,""}}function p(A){var D=this.lastTotal-this.lastNeed,O=h(this,A);if(O!==void 0)return O;if(this.lastNeed<=A.length)return A.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,D,0,A.length),this.lastNeed-=A.length}function m(A,D){var O=d(this,A,D);if(!this.lastNeed)return A.toString("utf8",D);this.lastTotal=O;var J=A.length-(O-this.lastNeed);return A.copy(this.lastChar,0,J),A.toString("utf8",D,J)}function y(A){var D=A&&A.length?this.write(A):"";return this.lastNeed?D+"":D}function T(A,D){if((A.length-D)%2===0){var O=A.toString("utf16le",D);if(O){var J=O.charCodeAt(O.length-1);if(J>=55296&&J<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",D,A.length-1)}function S(A){var D=A&&A.length?this.write(A):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,O)}return D}function E(A,D){var O=(A.length-D)%3;return O===0?A.toString("base64",D):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",D,A.length-O))}function M(A){var D=A&&A.length?this.write(A):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function b(A){return A.toString(this.encoding)}function I(A){return A&&A.length?this.write(A):""}return Uf}var Lf,Z0;function _d(){if(Z0)return Lf;Z0=1;var t=No().codes.ERR_STREAM_PREMATURE_CLOSE;function e(c){var d=!1;return function(){if(!d){d=!0;for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];c.apply(this,p)}}}function r(){}function o(c){return c.setHeader&&typeof c.abort=="function"}function s(c,d,h){if(typeof d=="function")return s(c,null,d);d||(d={}),h=e(h||r);var p=d.readable||d.readable!==!1&&c.readable,m=d.writable||d.writable!==!1&&c.writable,y=function(){c.writable||S()},T=c._writableState&&c._writableState.finished,S=function(){m=!1,T=!0,p||h.call(c)},E=c._readableState&&c._readableState.endEmitted,M=function(){p=!1,E=!0,m||h.call(c)},b=function(O){h.call(c,O)},I=function(){var O;if(p&&!E)return(!c._readableState||!c._readableState.ended)&&(O=new t),h.call(c,O);if(m&&!T)return(!c._writableState||!c._writableState.ended)&&(O=new t),h.call(c,O)},A=function(){c.req.on("finish",S)};return o(c)?(c.on("complete",S),c.on("abort",I),c.req?A():c.on("request",A)):m&&!c._writableState&&(c.on("end",y),c.on("close",y)),c.on("end",M),c.on("finish",S),d.error!==!1&&c.on("error",b),c.on("close",I),function(){c.removeListener("complete",S),c.removeListener("abort",I),c.removeListener("request",A),c.req&&c.req.removeListener("finish",S),c.removeListener("end",y),c.removeListener("close",y),c.removeListener("finish",S),c.removeListener("end",M),c.removeListener("error",b),c.removeListener("close",I)}}return Lf=s,Lf}var Bf,Q0;function BI(){if(Q0)return Bf;Q0=1;var t;function e(A,D,O){return D in A?Object.defineProperty(A,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):A[D]=O,A}var r=_d(),o=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),m=Symbol("stream");function y(A,D){return{value:A,done:D}}function T(A){var D=A[o];if(D!==null){var O=A[m].read();O!==null&&(A[h]=null,A[o]=null,A[s]=null,D(y(O,!1)))}}function S(A){Ze.nextTick(T,A)}function E(A,D){return function(O,J){A.then(function(){if(D[d]){O(y(void 0,!0));return}D[p](O,J)},J)}}var M=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((t={get stream(){return this[m]},next:function(){var D=this,O=this[c];if(O!==null)return Promise.reject(O);if(this[d])return Promise.resolve(y(void 0,!0));if(this[m].destroyed)return new Promise(function(oe,he){Ze.nextTick(function(){D[c]?he(D[c]):oe(y(void 0,!0))})});var J=this[h],K;if(J)K=new Promise(E(J,this));else{var ue=this[m].read();if(ue!==null)return Promise.resolve(y(ue,!1));K=new Promise(this[p])}return this[h]=K,K}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var D=this;return new Promise(function(O,J){D[m].destroy(null,function(K){if(K){J(K);return}O(y(void 0,!0))})})}),t),M),I=function(D){var O,J=Object.create(b,(O={},e(O,m,{value:D,writable:!0}),e(O,o,{value:null,writable:!0}),e(O,s,{value:null,writable:!0}),e(O,c,{value:null,writable:!0}),e(O,d,{value:D._readableState.endEmitted,writable:!0}),e(O,p,{value:function(ue,oe){var he=J[m].read();he?(J[h]=null,J[o]=null,J[s]=null,ue(y(he,!1))):(J[o]=ue,J[s]=oe)},writable:!0}),O));return J[h]=null,r(D,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ue=J[s];ue!==null&&(J[h]=null,J[o]=null,J[s]=null,ue(K)),J[c]=K;return}var oe=J[o];oe!==null&&(J[h]=null,J[o]=null,J[s]=null,oe(y(void 0,!0))),J[d]=!0}),D.on("readable",S.bind(null,J)),J};return Bf=I,Bf}var Pf,j0;function PI(){return j0||(j0=1,Pf=function(){throw new Error("Readable.from is not available in the browser")}),Pf}var Of,ev;function kw(){if(ev)return Of;ev=1,Of=G;var t;G.ReadableState=he,Td.EventEmitter;var e=function(H,fe){return H.listeners(fe).length},r=Ew(),o=Il().Buffer,s=$n.Uint8Array||function(){};function c(F){return o.from(F)}function d(F){return o.isBuffer(F)||F instanceof s}var h=Nw(),p;h&&h.debuglog?p=h.debuglog("stream"):p=function(){};var m=kI(),y=Mw(),T=Dw(),S=T.getHighWaterMark,E=No().codes,M=E.ERR_INVALID_ARG_TYPE,b=E.ERR_STREAM_PUSH_AFTER_EOF,I=E.ERR_METHOD_NOT_IMPLEMENTED,A=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,O,J;pi(G,r);var K=y.errorOrDestroy,ue=["error","close","destroy","pause","resume"];function oe(F,H,fe){if(typeof F.prependListener=="function")return F.prependListener(H,fe);!F._events||!F._events[H]?F.on(H,fe):Array.isArray(F._events[H])?F._events[H].unshift(fe):F._events[H]=[fe,F._events[H]]}function he(F,H,fe){t=t||yo(),F=F||{},typeof fe!="boolean"&&(fe=H instanceof t),this.objectMode=!!F.objectMode,fe&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=S(this,F,"readableHighWaterMark",fe),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(D||(D=ld().StringDecoder),this.decoder=new D(F.encoding),this.encoding=F.encoding)}function G(F){if(t=t||yo(),!(this instanceof G))return new G(F);var H=this instanceof t;this._readableState=new he(F,this,H),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),r.call(this)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),G.prototype.destroy=y.destroy,G.prototype._undestroy=y.undestroy,G.prototype._destroy=function(F,H){H(F)},G.prototype.push=function(F,H){var fe=this._readableState,R;return fe.objectMode?R=!0:typeof F=="string"&&(H=H||fe.defaultEncoding,H!==fe.encoding&&(F=o.from(F,H),H=""),R=!0),Te(this,F,H,!1,R)},G.prototype.unshift=function(F){return Te(this,F,null,!0,!1)};function Te(F,H,fe,R,le){p("readableAddChunk",H);var k=F._readableState;if(H===null)k.reading=!1,se(F,k);else{var v;if(le||(v=Z(k,H)),v)K(F,v);else if(k.objectMode||H&&H.length>0)if(typeof H!="string"&&!k.objectMode&&Object.getPrototypeOf(H)!==o.prototype&&(H=c(H)),R)k.endEmitted?K(F,new A):be(F,k,H,!0);else if(k.ended)K(F,new b);else{if(k.destroyed)return!1;k.reading=!1,k.decoder&&!fe?(H=k.decoder.write(H),k.objectMode||H.length!==0?be(F,k,H,!1):ae(F,k)):be(F,k,H,!1)}else R||(k.reading=!1,ae(F,k))}return!k.ended&&(k.length<k.highWaterMark||k.length===0)}function be(F,H,fe,R){H.flowing&&H.length===0&&!H.sync?(H.awaitDrain=0,F.emit("data",fe)):(H.length+=H.objectMode?1:fe.length,R?H.buffer.unshift(fe):H.buffer.push(fe),H.needReadable&&re(F)),ae(F,H)}function Z(F,H){var fe;return!d(H)&&typeof H!="string"&&H!==void 0&&!F.objectMode&&(fe=new M("chunk",["string","Buffer","Uint8Array"],H)),fe}G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(F){D||(D=ld().StringDecoder);var H=new D(F);this._readableState.decoder=H,this._readableState.encoding=this._readableState.decoder.encoding;for(var fe=this._readableState.buffer.head,R="";fe!==null;)R+=H.write(fe.data),fe=fe.next;return this._readableState.buffer.clear(),R!==""&&this._readableState.buffer.push(R),this._readableState.length=R.length,this};var pe=1073741824;function B(F){return F>=pe?F=pe:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}function de(F,H){return F<=0||H.length===0&&H.ended?0:H.objectMode?1:F!==F?H.flowing&&H.length?H.buffer.head.data.length:H.length:(F>H.highWaterMark&&(H.highWaterMark=B(F)),F<=H.length?F:H.ended?H.length:(H.needReadable=!0,0))}G.prototype.read=function(F){p("read",F),F=parseInt(F,10);var H=this._readableState,fe=F;if(F!==0&&(H.emittedReadable=!1),F===0&&H.needReadable&&((H.highWaterMark!==0?H.length>=H.highWaterMark:H.length>0)||H.ended))return p("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?C(this):re(this),null;if(F=de(F,H),F===0&&H.ended)return H.length===0&&C(this),null;var R=H.needReadable;p("need readable",R),(H.length===0||H.length-F<H.highWaterMark)&&(R=!0,p("length less than watermark",R)),H.ended||H.reading?(R=!1,p("reading or ended",R)):R&&(p("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(F=de(fe,H)));var le;return F>0?le=_(F,H):le=null,le===null?(H.needReadable=H.length<=H.highWaterMark,F=0):(H.length-=F,H.awaitDrain=0),H.length===0&&(H.ended||(H.needReadable=!0),fe!==F&&H.ended&&C(this)),le!==null&&this.emit("data",le),le};function se(F,H){if(p("onEofChunk"),!H.ended){if(H.decoder){var fe=H.decoder.end();fe&&fe.length&&(H.buffer.push(fe),H.length+=H.objectMode?1:fe.length)}H.ended=!0,H.sync?re(F):(H.needReadable=!1,H.emittedReadable||(H.emittedReadable=!0,Ae(F)))}}function re(F){var H=F._readableState;p("emitReadable",H.needReadable,H.emittedReadable),H.needReadable=!1,H.emittedReadable||(p("emitReadable",H.flowing),H.emittedReadable=!0,Ze.nextTick(Ae,F))}function Ae(F){var H=F._readableState;p("emitReadable_",H.destroyed,H.length,H.ended),!H.destroyed&&(H.length||H.ended)&&(F.emit("readable"),H.emittedReadable=!1),H.needReadable=!H.flowing&&!H.ended&&H.length<=H.highWaterMark,V(F)}function ae(F,H){H.readingMore||(H.readingMore=!0,Ze.nextTick(Y,F,H))}function Y(F,H){for(;!H.reading&&!H.ended&&(H.length<H.highWaterMark||H.flowing&&H.length===0);){var fe=H.length;if(p("maybeReadMore read 0"),F.read(0),fe===H.length)break}H.readingMore=!1}G.prototype._read=function(F){K(this,new I("_read()"))},G.prototype.pipe=function(F,H){var fe=this,R=this._readableState;switch(R.pipesCount){case 0:R.pipes=F;break;case 1:R.pipes=[R.pipes,F];break;default:R.pipes.push(F);break}R.pipesCount+=1,p("pipe count=%d opts=%j",R.pipesCount,H);var le=(!H||H.end!==!1)&&F!==Ze.stdout&&F!==Ze.stderr,k=le?x:ke;R.endEmitted?Ze.nextTick(k):fe.once("end",k),F.on("unpipe",v);function v(Le,Fe){p("onunpipe"),Le===fe&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,ie())}function x(){p("onend"),F.end()}var N=W(fe);F.on("drain",N);var Q=!1;function ie(){p("cleanup"),F.removeListener("close",De),F.removeListener("finish",Ne),F.removeListener("drain",N),F.removeListener("error",_e),F.removeListener("unpipe",v),fe.removeListener("end",x),fe.removeListener("end",ke),fe.removeListener("data",te),Q=!0,R.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&N()}fe.on("data",te);function te(Le){p("ondata");var Fe=F.write(Le);p("dest.write",Fe),Fe===!1&&((R.pipesCount===1&&R.pipes===F||R.pipesCount>1&&z(R.pipes,F)!==-1)&&!Q&&(p("false write response, pause",R.awaitDrain),R.awaitDrain++),fe.pause())}function _e(Le){p("onerror",Le),ke(),F.removeListener("error",_e),e(F,"error")===0&&K(F,Le)}oe(F,"error",_e);function De(){F.removeListener("finish",Ne),ke()}F.once("close",De);function Ne(){p("onfinish"),F.removeListener("close",De),ke()}F.once("finish",Ne);function ke(){p("unpipe"),fe.unpipe(F)}return F.emit("pipe",fe),R.flowing||(p("pipe resume"),fe.resume()),F};function W(F){return function(){var fe=F._readableState;p("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,fe.awaitDrain===0&&e(F,"data")&&(fe.flowing=!0,V(F))}}G.prototype.unpipe=function(F){var H=this._readableState,fe={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return F&&F!==H.pipes?this:(F||(F=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,F&&F.emit("unpipe",this,fe),this);if(!F){var R=H.pipes,le=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var k=0;k<le;k++)R[k].emit("unpipe",this,{hasUnpiped:!1});return this}var v=z(H.pipes,F);return v===-1?this:(H.pipes.splice(v,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),F.emit("unpipe",this,fe),this)},G.prototype.on=function(F,H){var fe=r.prototype.on.call(this,F,H),R=this._readableState;return F==="data"?(R.readableListening=this.listenerCount("readable")>0,R.flowing!==!1&&this.resume()):F==="readable"&&!R.endEmitted&&!R.readableListening&&(R.readableListening=R.needReadable=!0,R.flowing=!1,R.emittedReadable=!1,p("on readable",R.length,R.reading),R.length?re(this):R.reading||Ze.nextTick(X,this)),fe},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(F,H){var fe=r.prototype.removeListener.call(this,F,H);return F==="readable"&&Ze.nextTick(L,this),fe},G.prototype.removeAllListeners=function(F){var H=r.prototype.removeAllListeners.apply(this,arguments);return(F==="readable"||F===void 0)&&Ze.nextTick(L,this),H};function L(F){var H=F._readableState;H.readableListening=F.listenerCount("readable")>0,H.resumeScheduled&&!H.paused?H.flowing=!0:F.listenerCount("data")>0&&F.resume()}function X(F){p("readable nexttick read 0"),F.read(0)}G.prototype.resume=function(){var F=this._readableState;return F.flowing||(p("resume"),F.flowing=!F.readableListening,j(this,F)),F.paused=!1,this};function j(F,H){H.resumeScheduled||(H.resumeScheduled=!0,Ze.nextTick(ee,F,H))}function ee(F,H){p("resume",H.reading),H.reading||F.read(0),H.resumeScheduled=!1,F.emit("resume"),V(F),H.flowing&&!H.reading&&F.read(0)}G.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function V(F){var H=F._readableState;for(p("flow",H.flowing);H.flowing&&F.read()!==null;);}G.prototype.wrap=function(F){var H=this,fe=this._readableState,R=!1;F.on("end",function(){if(p("wrapped end"),fe.decoder&&!fe.ended){var v=fe.decoder.end();v&&v.length&&H.push(v)}H.push(null)}),F.on("data",function(v){if(p("wrapped data"),fe.decoder&&(v=fe.decoder.write(v)),!(fe.objectMode&&v==null)&&!(!fe.objectMode&&(!v||!v.length))){var x=H.push(v);x||(R=!0,F.pause())}});for(var le in F)this[le]===void 0&&typeof F[le]=="function"&&(this[le]=(function(x){return function(){return F[x].apply(F,arguments)}})(le));for(var k=0;k<ue.length;k++)F.on(ue[k],this.emit.bind(this,ue[k]));return this._read=function(v){p("wrapped _read",v),R&&(R=!1,F.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=BI()),O(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),G._fromList=_,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _(F,H){if(H.length===0)return null;var fe;return H.objectMode?fe=H.buffer.shift():!F||F>=H.length?(H.decoder?fe=H.buffer.join(""):H.buffer.length===1?fe=H.buffer.first():fe=H.buffer.concat(H.length),H.buffer.clear()):fe=H.buffer.consume(F,H.decoder),fe}function C(F){var H=F._readableState;p("endReadable",H.endEmitted),H.endEmitted||(H.ended=!0,Ze.nextTick($,H,F))}function $(F,H){if(p("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,H.readable=!1,H.emit("end"),F.autoDestroy)){var fe=H._writableState;(!fe||fe.autoDestroy&&fe.finished)&&H.destroy()}}typeof Symbol=="function"&&(G.from=function(F,H){return J===void 0&&(J=PI()),J(G,F,H)});function z(F,H){for(var fe=0,R=F.length;fe<R;fe++)if(F[fe]===H)return fe;return-1}return Of}var Ff,tv;function Uw(){if(tv)return Ff;tv=1,Ff=h;var t=No().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,c=yo();pi(h,c);function d(y,T){var S=this._transformState;S.transforming=!1;var E=S.writecb;if(E===null)return this.emit("error",new r);S.writechunk=null,S.writecb=null,T!=null&&this.push(T),E(y);var M=this._readableState;M.reading=!1,(M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);c.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(T,S){m(y,T,S)}):m(this,null,null)}h.prototype.push=function(y,T){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,T)},h.prototype._transform=function(y,T,S){S(new e("_transform()"))},h.prototype._write=function(y,T,S){var E=this._transformState;if(E.writecb=S,E.writechunk=y,E.writeencoding=T,!E.transforming){var M=this._readableState;(E.needTransform||M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}},h.prototype._read=function(y){var T=this._transformState;T.writechunk!==null&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0},h.prototype._destroy=function(y,T){c.prototype._destroy.call(this,y,function(S){T(S)})};function m(y,T,S){if(T)return y.emit("error",T);if(S!=null&&y.push(S),y._writableState.length)throw new s;if(y._transformState.transforming)throw new o;return y.push(null)}return Ff}var Gf,nv;function OI(){if(nv)return Gf;nv=1,Gf=e;var t=Uw();pi(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,o,s){s(null,r)},Gf}var Vf,rv;function FI(){if(rv)return Vf;rv=1;var t;function e(S){var E=!1;return function(){E||(E=!0,S.apply(void 0,arguments))}}var r=No().codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function c(S){if(S)throw S}function d(S){return S.setHeader&&typeof S.abort=="function"}function h(S,E,M,b){b=e(b);var I=!1;S.on("close",function(){I=!0}),t===void 0&&(t=_d()),t(S,{readable:E,writable:M},function(D){if(D)return b(D);I=!0,b()});var A=!1;return function(D){if(!I&&!A){if(A=!0,d(S))return S.abort();if(typeof S.destroy=="function")return S.destroy();b(D||new s("pipe"))}}}function p(S){S()}function m(S,E){return S.pipe(E)}function y(S){return!S.length||typeof S[S.length-1]!="function"?c:S.pop()}function T(){for(var S=arguments.length,E=new Array(S),M=0;M<S;M++)E[M]=arguments[M];var b=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new o("streams");var I,A=E.map(function(D,O){var J=O<E.length-1,K=O>0;return h(D,J,K,function(ue){I||(I=ue),ue&&A.forEach(p),!J&&(A.forEach(p),b(I))})});return E.reduce(m)}return Vf=T,Vf}var Cd=kn,bd=Td.EventEmitter,GI=pi;GI(kn,bd);kn.Readable=kw();kn.Writable=Iw();kn.Duplex=yo();kn.Transform=Uw();kn.PassThrough=OI();kn.finished=_d();kn.pipeline=FI();kn.Stream=kn;function kn(){bd.call(this)}kn.prototype.pipe=function(t,e){var r=this;function o(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}r.on("data",o);function s(){r.readable&&r.resume&&r.resume()}t.on("drain",s),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",d),r.on("close",h));var c=!1;function d(){c||(c=!0,t.end())}function h(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function p(y){if(m(),bd.listenerCount(this,"error")===0)throw y}r.on("error",p),t.on("error",p);function m(){r.removeListener("data",o),t.removeListener("drain",s),r.removeListener("end",d),r.removeListener("close",h),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t};(function(t){(function(e){e.parser=function(_,C){return new o(_,C)},e.SAXParser=o,e.SAXStream=y,e.createStream=m,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(_,C){if(!(this instanceof o))return new o(_,C);var $=this;c($),$.q=$.c="",$.bufferCheckPosition=e.MAX_BUFFER_LENGTH,$.opt=C||{},$.opt.lowercase=$.opt.lowercase||$.opt.lowercasetags,$.looseCase=$.opt.lowercase?"toLowerCase":"toUpperCase",$.tags=[],$.closed=$.closedRoot=$.sawRoot=!1,$.tag=$.error=null,$.strict=!!_,$.noscript=!!(_||$.opt.noscript),$.state=G.BEGIN,$.strictEntities=$.opt.strictEntities,$.ENTITIES=$.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),$.attribList=[],$.opt.xmlns&&($.ns=Object.create(b)),$.trackPosition=$.opt.position!==!1,$.trackPosition&&($.position=$.line=$.column=0),be($,"onready")}Object.create||(Object.create=function(_){function C(){}C.prototype=_;var $=new C;return $}),Object.keys||(Object.keys=function(_){var C=[];for(var $ in _)_.hasOwnProperty($)&&C.push($);return C});function s(_){for(var C=Math.max(e.MAX_BUFFER_LENGTH,10),$=0,z=0,F=r.length;z<F;z++){var H=_[r[z]].length;if(H>C)switch(r[z]){case"textNode":pe(_);break;case"cdata":Z(_,"oncdata",_.cdata),_.cdata="";break;case"script":Z(_,"onscript",_.script),_.script="";break;default:de(_,"Max buffer length exceeded: "+r[z])}$=Math.max($,H)}var fe=e.MAX_BUFFER_LENGTH-$;_.bufferCheckPosition=fe+_.position}function c(_){for(var C=0,$=r.length;C<$;C++)_[r[C]]=""}function d(_){pe(_),_.cdata!==""&&(Z(_,"oncdata",_.cdata),_.cdata=""),_.script!==""&&(Z(_,"onscript",_.script),_.script="")}o.prototype={end:function(){se(this)},write:V,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var h;try{h=Cd.Stream}catch{h=function(){}}var p=e.EVENTS.filter(function(_){return _!=="error"&&_!=="end"});function m(_,C){return new y(_,C)}function y(_,C){if(!(this instanceof y))return new y(_,C);h.apply(this),this._parser=new o(_,C),this.writable=!0,this.readable=!0;var $=this;this._parser.onend=function(){$.emit("end")},this._parser.onerror=function(z){$.emit("error",z),$._parser.error=null},this._decoder=null,p.forEach(function(z){Object.defineProperty($,"on"+z,{get:function(){return $._parser["on"+z]},set:function(F){if(!F)return $.removeAllListeners(z),$._parser["on"+z]=F,F;$.on(z,F)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(h.prototype,{constructor:{value:y}}),y.prototype.write=function(_){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(_)){if(!this._decoder){var C=ld().StringDecoder;this._decoder=new C("utf8")}_=this._decoder.write(_)}return this._parser.write(_.toString()),this.emit("data",_),!0},y.prototype.end=function(_){return _&&_.length&&this.write(_),this._parser.end(),!0},y.prototype.on=function(_,C){var $=this;return!$._parser["on"+_]&&p.indexOf(_)!==-1&&($._parser["on"+_]=function(){var z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);z.splice(0,0,_),$.emit.apply($,z)}),h.prototype.on.call($,_,C)};var T="[CDATA[",S="DOCTYPE",E="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/2000/xmlns/",b={xml:E,xmlns:M},I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,D=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function J(_){return _===" "||_===`
`||_==="\r"||_==="	"}function K(_){return _==='"'||_==="'"}function ue(_){return _===">"||J(_)}function oe(_,C){return _.test(C)}function he(_,C){return!oe(_,C)}var G=0;e.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(_){var C=e.ENTITIES[_],$=typeof C=="number"?String.fromCharCode(C):C;e.ENTITIES[_]=$});for(var Te in e.STATE)e.STATE[e.STATE[Te]]=Te;G=e.STATE;function be(_,C,$){_[C]&&_[C]($)}function Z(_,C,$){_.textNode&&pe(_),be(_,C,$)}function pe(_){_.textNode=B(_.opt,_.textNode),_.textNode&&be(_,"ontext",_.textNode),_.textNode=""}function B(_,C){return _.trim&&(C=C.trim()),_.normalize&&(C=C.replace(/\s+/g," ")),C}function de(_,C){return pe(_),_.trackPosition&&(C+=`
Line: `+_.line+`
Column: `+_.column+`
Char: `+_.c),C=new Error(C),_.error=C,be(_,"onerror",C),_}function se(_){return _.sawRoot&&!_.closedRoot&&re(_,"Unclosed root tag"),_.state!==G.BEGIN&&_.state!==G.BEGIN_WHITESPACE&&_.state!==G.TEXT&&de(_,"Unexpected end"),pe(_),_.c="",_.closed=!0,be(_,"onend"),o.call(_,_.strict,_.opt),_}function re(_,C){if(typeof _!="object"||!(_ instanceof o))throw new Error("bad call to strictFail");_.strict&&de(_,C)}function Ae(_){_.strict||(_.tagName=_.tagName[_.looseCase]());var C=_.tags[_.tags.length-1]||_,$=_.tag={name:_.tagName,attributes:{}};_.opt.xmlns&&($.ns=C.ns),_.attribList.length=0,Z(_,"onopentagstart",$)}function ae(_,C){var $=_.indexOf(":"),z=$<0?["",_]:_.split(":"),F=z[0],H=z[1];return C&&_==="xmlns"&&(F="xmlns",H=""),{prefix:F,local:H}}function Y(_){if(_.strict||(_.attribName=_.attribName[_.looseCase]()),_.attribList.indexOf(_.attribName)!==-1||_.tag.attributes.hasOwnProperty(_.attribName)){_.attribName=_.attribValue="";return}if(_.opt.xmlns){var C=ae(_.attribName,!0),$=C.prefix,z=C.local;if($==="xmlns")if(z==="xml"&&_.attribValue!==E)re(_,"xml: prefix must be bound to "+E+`
Actual: `+_.attribValue);else if(z==="xmlns"&&_.attribValue!==M)re(_,"xmlns: prefix must be bound to "+M+`
Actual: `+_.attribValue);else{var F=_.tag,H=_.tags[_.tags.length-1]||_;F.ns===H.ns&&(F.ns=Object.create(H.ns)),F.ns[z]=_.attribValue}_.attribList.push([_.attribName,_.attribValue])}else _.tag.attributes[_.attribName]=_.attribValue,Z(_,"onattribute",{name:_.attribName,value:_.attribValue});_.attribName=_.attribValue=""}function W(_,C){if(_.opt.xmlns){var $=_.tag,z=ae(_.tagName);$.prefix=z.prefix,$.local=z.local,$.uri=$.ns[z.prefix]||"",$.prefix&&!$.uri&&(re(_,"Unbound namespace prefix: "+JSON.stringify(_.tagName)),$.uri=z.prefix);var F=_.tags[_.tags.length-1]||_;$.ns&&F.ns!==$.ns&&Object.keys($.ns).forEach(function(te){Z(_,"onopennamespace",{prefix:te,uri:$.ns[te]})});for(var H=0,fe=_.attribList.length;H<fe;H++){var R=_.attribList[H],le=R[0],k=R[1],v=ae(le,!0),x=v.prefix,N=v.local,Q=x===""?"":$.ns[x]||"",ie={name:le,value:k,prefix:x,local:N,uri:Q};x&&x!=="xmlns"&&!Q&&(re(_,"Unbound namespace prefix: "+JSON.stringify(x)),ie.uri=x),_.tag.attributes[le]=ie,Z(_,"onattribute",ie)}_.attribList.length=0}_.tag.isSelfClosing=!!C,_.sawRoot=!0,_.tags.push(_.tag),Z(_,"onopentag",_.tag),C||(!_.noscript&&_.tagName.toLowerCase()==="script"?_.state=G.SCRIPT:_.state=G.TEXT,_.tag=null,_.tagName=""),_.attribName=_.attribValue="",_.attribList.length=0}function L(_){if(!_.tagName){re(_,"Weird empty close tag."),_.textNode+="</>",_.state=G.TEXT;return}if(_.script){if(_.tagName!=="script"){_.script+="</"+_.tagName+">",_.tagName="",_.state=G.SCRIPT;return}Z(_,"onscript",_.script),_.script=""}var C=_.tags.length,$=_.tagName;_.strict||($=$[_.looseCase]());for(var z=$;C--;){var F=_.tags[C];if(F.name!==z)re(_,"Unexpected close tag");else break}if(C<0){re(_,"Unmatched closing tag: "+_.tagName),_.textNode+="</"+_.tagName+">",_.state=G.TEXT;return}_.tagName=$;for(var H=_.tags.length;H-- >C;){var fe=_.tag=_.tags.pop();_.tagName=_.tag.name,Z(_,"onclosetag",_.tagName);var R={};for(var le in fe.ns)R[le]=fe.ns[le];var k=_.tags[_.tags.length-1]||_;_.opt.xmlns&&fe.ns!==k.ns&&Object.keys(fe.ns).forEach(function(v){var x=fe.ns[v];Z(_,"onclosenamespace",{prefix:v,uri:x})})}C===0&&(_.closedRoot=!0),_.tagName=_.attribValue=_.attribName="",_.attribList.length=0,_.state=G.TEXT}function X(_){var C=_.entity,$=C.toLowerCase(),z,F="";return _.ENTITIES[C]?_.ENTITIES[C]:_.ENTITIES[$]?_.ENTITIES[$]:(C=$,C.charAt(0)==="#"&&(C.charAt(1)==="x"?(C=C.slice(2),z=parseInt(C,16),F=z.toString(16)):(C=C.slice(1),z=parseInt(C,10),F=z.toString(10))),C=C.replace(/^0+/,""),isNaN(z)||F.toLowerCase()!==C?(re(_,"Invalid character entity"),"&"+_.entity+";"):String.fromCodePoint(z))}function j(_,C){C==="<"?(_.state=G.OPEN_WAKA,_.startTagPosition=_.position):J(C)||(re(_,"Non-whitespace before first tag."),_.textNode=C,_.state=G.TEXT)}function ee(_,C){var $="";return C<_.length&&($=_.charAt(C)),$}function V(_){var C=this;if(this.error)throw this.error;if(C.closed)return de(C,"Cannot write after close. Assign an onready handler.");if(_===null)return se(C);typeof _=="object"&&(_=_.toString());for(var $=0,z="";z=ee(_,$++),C.c=z,!!z;)switch(C.trackPosition&&(C.position++,z===`
`?(C.line++,C.column=0):C.column++),C.state){case G.BEGIN:if(C.state=G.BEGIN_WHITESPACE,z==="\uFEFF")continue;j(C,z);continue;case G.BEGIN_WHITESPACE:j(C,z);continue;case G.TEXT:if(C.sawRoot&&!C.closedRoot){for(var F=$-1;z&&z!=="<"&&z!=="&";)z=ee(_,$++),z&&C.trackPosition&&(C.position++,z===`
`?(C.line++,C.column=0):C.column++);C.textNode+=_.substring(F,$-1)}z==="<"&&!(C.sawRoot&&C.closedRoot&&!C.strict)?(C.state=G.OPEN_WAKA,C.startTagPosition=C.position):(!J(z)&&(!C.sawRoot||C.closedRoot)&&re(C,"Text data outside of root node."),z==="&"?C.state=G.TEXT_ENTITY:C.textNode+=z);continue;case G.SCRIPT:z==="<"?C.state=G.SCRIPT_ENDING:C.script+=z;continue;case G.SCRIPT_ENDING:z==="/"?C.state=G.CLOSE_TAG:(C.script+="<"+z,C.state=G.SCRIPT);continue;case G.OPEN_WAKA:if(z==="!")C.state=G.SGML_DECL,C.sgmlDecl="";else if(!J(z))if(oe(I,z))C.state=G.OPEN_TAG,C.tagName=z;else if(z==="/")C.state=G.CLOSE_TAG,C.tagName="";else if(z==="?")C.state=G.PROC_INST,C.procInstName=C.procInstBody="";else{if(re(C,"Unencoded <"),C.startTagPosition+1<C.position){var H=C.position-C.startTagPosition;z=new Array(H).join(" ")+z}C.textNode+="<"+z,C.state=G.TEXT}continue;case G.SGML_DECL:(C.sgmlDecl+z).toUpperCase()===T?(Z(C,"onopencdata"),C.state=G.CDATA,C.sgmlDecl="",C.cdata=""):C.sgmlDecl+z==="--"?(C.state=G.COMMENT,C.comment="",C.sgmlDecl=""):(C.sgmlDecl+z).toUpperCase()===S?(C.state=G.DOCTYPE,(C.doctype||C.sawRoot)&&re(C,"Inappropriately located doctype declaration"),C.doctype="",C.sgmlDecl=""):z===">"?(Z(C,"onsgmldeclaration",C.sgmlDecl),C.sgmlDecl="",C.state=G.TEXT):(K(z)&&(C.state=G.SGML_DECL_QUOTED),C.sgmlDecl+=z);continue;case G.SGML_DECL_QUOTED:z===C.q&&(C.state=G.SGML_DECL,C.q=""),C.sgmlDecl+=z;continue;case G.DOCTYPE:z===">"?(C.state=G.TEXT,Z(C,"ondoctype",C.doctype),C.doctype=!0):(C.doctype+=z,z==="["?C.state=G.DOCTYPE_DTD:K(z)&&(C.state=G.DOCTYPE_QUOTED,C.q=z));continue;case G.DOCTYPE_QUOTED:C.doctype+=z,z===C.q&&(C.q="",C.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:C.doctype+=z,z==="]"?C.state=G.DOCTYPE:K(z)&&(C.state=G.DOCTYPE_DTD_QUOTED,C.q=z);continue;case G.DOCTYPE_DTD_QUOTED:C.doctype+=z,z===C.q&&(C.state=G.DOCTYPE_DTD,C.q="");continue;case G.COMMENT:z==="-"?C.state=G.COMMENT_ENDING:C.comment+=z;continue;case G.COMMENT_ENDING:z==="-"?(C.state=G.COMMENT_ENDED,C.comment=B(C.opt,C.comment),C.comment&&Z(C,"oncomment",C.comment),C.comment=""):(C.comment+="-"+z,C.state=G.COMMENT);continue;case G.COMMENT_ENDED:z!==">"?(re(C,"Malformed comment"),C.comment+="--"+z,C.state=G.COMMENT):C.state=G.TEXT;continue;case G.CDATA:z==="]"?C.state=G.CDATA_ENDING:C.cdata+=z;continue;case G.CDATA_ENDING:z==="]"?C.state=G.CDATA_ENDING_2:(C.cdata+="]"+z,C.state=G.CDATA);continue;case G.CDATA_ENDING_2:z===">"?(C.cdata&&Z(C,"oncdata",C.cdata),Z(C,"onclosecdata"),C.cdata="",C.state=G.TEXT):z==="]"?C.cdata+="]":(C.cdata+="]]"+z,C.state=G.CDATA);continue;case G.PROC_INST:z==="?"?C.state=G.PROC_INST_ENDING:J(z)?C.state=G.PROC_INST_BODY:C.procInstName+=z;continue;case G.PROC_INST_BODY:if(!C.procInstBody&&J(z))continue;z==="?"?C.state=G.PROC_INST_ENDING:C.procInstBody+=z;continue;case G.PROC_INST_ENDING:z===">"?(Z(C,"onprocessinginstruction",{name:C.procInstName,body:C.procInstBody}),C.procInstName=C.procInstBody="",C.state=G.TEXT):(C.procInstBody+="?"+z,C.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:oe(A,z)?C.tagName+=z:(Ae(C),z===">"?W(C):z==="/"?C.state=G.OPEN_TAG_SLASH:(J(z)||re(C,"Invalid character in tag name"),C.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:z===">"?(W(C,!0),L(C)):(re(C,"Forward-slash in opening tag not followed by >"),C.state=G.ATTRIB);continue;case G.ATTRIB:if(J(z))continue;z===">"?W(C):z==="/"?C.state=G.OPEN_TAG_SLASH:oe(I,z)?(C.attribName=z,C.attribValue="",C.state=G.ATTRIB_NAME):re(C,"Invalid attribute name");continue;case G.ATTRIB_NAME:z==="="?C.state=G.ATTRIB_VALUE:z===">"?(re(C,"Attribute without value"),C.attribValue=C.attribName,Y(C),W(C)):J(z)?C.state=G.ATTRIB_NAME_SAW_WHITE:oe(A,z)?C.attribName+=z:re(C,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if(z==="=")C.state=G.ATTRIB_VALUE;else{if(J(z))continue;re(C,"Attribute without value"),C.tag.attributes[C.attribName]="",C.attribValue="",Z(C,"onattribute",{name:C.attribName,value:""}),C.attribName="",z===">"?W(C):oe(I,z)?(C.attribName=z,C.state=G.ATTRIB_NAME):(re(C,"Invalid attribute name"),C.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(J(z))continue;K(z)?(C.q=z,C.state=G.ATTRIB_VALUE_QUOTED):(re(C,"Unquoted attribute value"),C.state=G.ATTRIB_VALUE_UNQUOTED,C.attribValue=z);continue;case G.ATTRIB_VALUE_QUOTED:if(z!==C.q){z==="&"?C.state=G.ATTRIB_VALUE_ENTITY_Q:C.attribValue+=z;continue}Y(C),C.q="",C.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:J(z)?C.state=G.ATTRIB:z===">"?W(C):z==="/"?C.state=G.OPEN_TAG_SLASH:oe(I,z)?(re(C,"No whitespace between attributes"),C.attribName=z,C.attribValue="",C.state=G.ATTRIB_NAME):re(C,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(!ue(z)){z==="&"?C.state=G.ATTRIB_VALUE_ENTITY_U:C.attribValue+=z;continue}Y(C),z===">"?W(C):C.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(C.tagName)z===">"?L(C):oe(A,z)?C.tagName+=z:C.script?(C.script+="</"+C.tagName,C.tagName="",C.state=G.SCRIPT):(J(z)||re(C,"Invalid tagname in closing tag"),C.state=G.CLOSE_TAG_SAW_WHITE);else{if(J(z))continue;he(I,z)?C.script?(C.script+="</"+z,C.state=G.SCRIPT):re(C,"Invalid tagname in closing tag."):C.tagName=z}continue;case G.CLOSE_TAG_SAW_WHITE:if(J(z))continue;z===">"?L(C):re(C,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var fe,R;switch(C.state){case G.TEXT_ENTITY:fe=G.TEXT,R="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:fe=G.ATTRIB_VALUE_QUOTED,R="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:fe=G.ATTRIB_VALUE_UNQUOTED,R="attribValue";break}z===";"?(C[R]+=X(C),C.entity="",C.state=fe):oe(C.entity.length?O:D,z)?C.entity+=z:(re(C,"Invalid character in entity name"),C[R]+="&"+C.entity+z,C.entity="",C.state=fe);continue;default:throw new Error(C,"Unknown state: "+C.state)}return C.position>=C.bufferCheckPosition&&s(C),C}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var _=String.fromCharCode,C=Math.floor,$=function(){var z=16384,F=[],H,fe,R=-1,le=arguments.length;if(!le)return"";for(var k="";++R<le;){var v=Number(arguments[R]);if(!isFinite(v)||v<0||v>1114111||C(v)!==v)throw RangeError("Invalid code point: "+v);v<=65535?F.push(v):(v-=65536,H=(v>>10)+55296,fe=v%1024+56320,F.push(H,fe)),(R+1===le||F.length>z)&&(k+=_.apply(null,F),F.length=0)}return k};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:$,configurable:!0,writable:!0}):String.fromCodePoint=$})()})(t)})(cw);var Ad={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},VI=Ad.isArray,Rd={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!VI(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},zI=cw,yt=Rd,fo=Ad.isArray,Ee,Ye;function qI(t){return Ee=yt.copyOptions(t),yt.ensureFlagExists("ignoreDeclaration",Ee),yt.ensureFlagExists("ignoreInstruction",Ee),yt.ensureFlagExists("ignoreAttributes",Ee),yt.ensureFlagExists("ignoreText",Ee),yt.ensureFlagExists("ignoreComment",Ee),yt.ensureFlagExists("ignoreCdata",Ee),yt.ensureFlagExists("ignoreDoctype",Ee),yt.ensureFlagExists("compact",Ee),yt.ensureFlagExists("alwaysChildren",Ee),yt.ensureFlagExists("addParent",Ee),yt.ensureFlagExists("trim",Ee),yt.ensureFlagExists("nativeType",Ee),yt.ensureFlagExists("nativeTypeAttributes",Ee),yt.ensureFlagExists("sanitize",Ee),yt.ensureFlagExists("instructionHasAttributes",Ee),yt.ensureFlagExists("captureSpacesBetweenElements",Ee),yt.ensureAlwaysArrayExists(Ee),yt.ensureKeyExists("declaration",Ee),yt.ensureKeyExists("instruction",Ee),yt.ensureKeyExists("attributes",Ee),yt.ensureKeyExists("text",Ee),yt.ensureKeyExists("comment",Ee),yt.ensureKeyExists("cdata",Ee),yt.ensureKeyExists("doctype",Ee),yt.ensureKeyExists("type",Ee),yt.ensureKeyExists("name",Ee),yt.ensureKeyExists("elements",Ee),yt.ensureKeyExists("parent",Ee),Ee}function Lw(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function Fa(t,e){var r;if(Ee.compact){if(!Ye[Ee[t+"Key"]]&&(fo(Ee.alwaysArray)?Ee.alwaysArray.indexOf(Ee[t+"Key"])!==-1:Ee.alwaysArray)&&(Ye[Ee[t+"Key"]]=[]),Ye[Ee[t+"Key"]]&&!fo(Ye[Ee[t+"Key"]])&&(Ye[Ee[t+"Key"]]=[Ye[Ee[t+"Key"]]]),t+"Fn"in Ee&&typeof e=="string"&&(e=Ee[t+"Fn"](e,Ye)),t==="instruction"&&("instructionFn"in Ee||"instructionNameFn"in Ee)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in Ee)e[r]=Ee.instructionFn(e[r],r,Ye);else{var o=e[r];delete e[r],e[Ee.instructionNameFn(r,o,Ye)]=o}}fo(Ye[Ee[t+"Key"]])?Ye[Ee[t+"Key"]].push(e):Ye[Ee[t+"Key"]]=e}else{Ye[Ee.elementsKey]||(Ye[Ee.elementsKey]=[]);var s={};if(s[Ee.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;s[Ee.nameKey]="instructionNameFn"in Ee?Ee.instructionNameFn(r,e,Ye):r,Ee.instructionHasAttributes?(s[Ee.attributesKey]=e[r][Ee.attributesKey],"instructionFn"in Ee&&(s[Ee.attributesKey]=Ee.instructionFn(s[Ee.attributesKey],r,Ye))):("instructionFn"in Ee&&(e[r]=Ee.instructionFn(e[r],r,Ye)),s[Ee.instructionKey]=e[r])}else t+"Fn"in Ee&&(e=Ee[t+"Fn"](e,Ye)),s[Ee[t+"Key"]]=e;Ee.addParent&&(s[Ee.parentKey]=Ye),Ye[Ee.elementsKey].push(s)}}function Bw(t){if("attributesFn"in Ee&&t&&(t=Ee.attributesFn(t,Ye)),(Ee.trim||"attributeValueFn"in Ee||"attributeNameFn"in Ee||Ee.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(Ee.trim&&(t[e]=t[e].trim()),Ee.nativeTypeAttributes&&(t[e]=Lw(t[e])),"attributeValueFn"in Ee&&(t[e]=Ee.attributeValueFn(t[e],e,Ye)),"attributeNameFn"in Ee)){var r=t[e];delete t[e],t[Ee.attributeNameFn(e,t[e],Ye)]=r}}return t}function HI(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||Ee.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,o;(o=r.exec(t.body))!==null;)e[o[1]]=o[2]||o[3]||o[4];e=Bw(e)}if(t.name.toLowerCase()==="xml"){if(Ee.ignoreDeclaration)return;Ye[Ee.declarationKey]={},Object.keys(e).length&&(Ye[Ee.declarationKey][Ee.attributesKey]=e),Ee.addParent&&(Ye[Ee.declarationKey][Ee.parentKey]=Ye)}else{if(Ee.ignoreInstruction)return;Ee.trim&&(t.body=t.body.trim());var s={};Ee.instructionHasAttributes&&Object.keys(e).length?(s[t.name]={},s[t.name][Ee.attributesKey]=e):s[t.name]=t.body,Fa("instruction",s)}}function KI(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=Bw(e),"elementNameFn"in Ee&&(t=Ee.elementNameFn(t,Ye)),Ee.compact){if(r={},!Ee.ignoreAttributes&&e&&Object.keys(e).length){r[Ee.attributesKey]={};var o;for(o in e)e.hasOwnProperty(o)&&(r[Ee.attributesKey][o]=e[o])}!(t in Ye)&&(fo(Ee.alwaysArray)?Ee.alwaysArray.indexOf(t)!==-1:Ee.alwaysArray)&&(Ye[t]=[]),Ye[t]&&!fo(Ye[t])&&(Ye[t]=[Ye[t]]),fo(Ye[t])?Ye[t].push(r):Ye[t]=r}else Ye[Ee.elementsKey]||(Ye[Ee.elementsKey]=[]),r={},r[Ee.typeKey]="element",r[Ee.nameKey]=t,!Ee.ignoreAttributes&&e&&Object.keys(e).length&&(r[Ee.attributesKey]=e),Ee.alwaysChildren&&(r[Ee.elementsKey]=[]),Ye[Ee.elementsKey].push(r);r[Ee.parentKey]=Ye,Ye=r}function YI(t){Ee.ignoreText||!t.trim()&&!Ee.captureSpacesBetweenElements||(Ee.trim&&(t=t.trim()),Ee.nativeType&&(t=Lw(t)),Ee.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),Fa("text",t))}function JI(t){Ee.ignoreComment||(Ee.trim&&(t=t.trim()),Fa("comment",t))}function WI(t){var e=Ye[Ee.parentKey];Ee.addParent||delete Ye[Ee.parentKey],Ye=e}function $I(t){Ee.ignoreCdata||(Ee.trim&&(t=t.trim()),Fa("cdata",t))}function XI(t){Ee.ignoreDoctype||(t=t.replace(/^ /,""),Ee.trim&&(t=t.trim()),Fa("doctype",t))}function ZI(t){t.note=t}var Pw=function(t,e){var r=zI.parser(!0,{}),o={};if(Ye=o,Ee=qI(e),r.opt={strictEntities:!0},r.onopentag=KI,r.ontext=YI,r.oncomment=JI,r.onclosetag=WI,r.onerror=ZI,r.oncdata=$I,r.ondoctype=XI,r.onprocessinginstruction=HI,r.write(t).close(),o[Ee.elementsKey]){var s=o[Ee.elementsKey];delete o[Ee.elementsKey],o[Ee.elementsKey]=s,delete o.text}return o},iv=Rd,QI=Pw;function jI(t){var e=iv.copyOptions(t);return iv.ensureSpacesExists(e),e}var e5=function(t,e){var r,o,s,c;return r=jI(e),o=QI(t,r),c="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?s=JSON.stringify(o,function(d,h){return d===c?"_":h},r.spaces):s=JSON.stringify(o,null,r.spaces),s.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},_t=Rd,t5=Ad.isArray,en,tn;function n5(t){var e=_t.copyOptions(t);return _t.ensureFlagExists("ignoreDeclaration",e),_t.ensureFlagExists("ignoreInstruction",e),_t.ensureFlagExists("ignoreAttributes",e),_t.ensureFlagExists("ignoreText",e),_t.ensureFlagExists("ignoreComment",e),_t.ensureFlagExists("ignoreCdata",e),_t.ensureFlagExists("ignoreDoctype",e),_t.ensureFlagExists("compact",e),_t.ensureFlagExists("indentText",e),_t.ensureFlagExists("indentCdata",e),_t.ensureFlagExists("indentAttributes",e),_t.ensureFlagExists("indentInstruction",e),_t.ensureFlagExists("fullTagEmptyElement",e),_t.ensureFlagExists("noQuotesForNativeAttributes",e),_t.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),_t.ensureKeyExists("declaration",e),_t.ensureKeyExists("instruction",e),_t.ensureKeyExists("attributes",e),_t.ensureKeyExists("text",e),_t.ensureKeyExists("comment",e),_t.ensureKeyExists("cdata",e),_t.ensureKeyExists("doctype",e),_t.ensureKeyExists("type",e),_t.ensureKeyExists("name",e),_t.ensureKeyExists("elements",e),e}function Wn(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function kl(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,tn,en));var o,s,c,d,h=[];for(o in t)t.hasOwnProperty(o)&&t[o]!==null&&t[o]!==void 0&&(d=e.noQuotesForNativeAttributes&&typeof t[o]!="string"?"":'"',s=""+t[o],s=s.replace(/"/g,"&quot;"),c="attributeNameFn"in e?e.attributeNameFn(o,s,tn,en):o,h.push(e.spaces&&e.indentAttributes?Wn(e,r+1,!1):" "),h.push(c+"="+d+("attributeValueFn"in e?e.attributeValueFn(s,o,tn,en):s)+d));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&h.push(Wn(e,r,!1)),h.join("")}function Ow(t,e,r){return en=t,tn="xml",e.ignoreDeclaration?"":"<?xml"+kl(t[e.attributesKey],e,r)+"?>"}function Fw(t,e,r){if(e.ignoreInstruction)return"";var o;for(o in t)if(t.hasOwnProperty(o))break;var s="instructionNameFn"in e?e.instructionNameFn(o,t[o],tn,en):o;if(typeof t[o]=="object")return en=t,tn=s,"<?"+s+kl(t[o][e.attributesKey],e,r)+"?>";var c=t[o]?t[o]:"";return"instructionFn"in e&&(c=e.instructionFn(c,o,tn,en)),"<?"+s+(c?" "+c:"")+"?>"}function Gw(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,tn,en):t)+"-->"}function Vw(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,tn,en):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function zw(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,tn,en):t)+">"}function Nd(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,tn,en):t)}function r5(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function i5(t,e,r){en=t,tn=t.name;var o=[],s="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;o.push("<"+s),t[e.attributesKey]&&o.push(kl(t[e.attributesKey],e,r));var c=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return c||("fullTagEmptyElementFn"in e?c=e.fullTagEmptyElementFn(t.name,t):c=e.fullTagEmptyElement),c?(o.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(o.push(qw(t[e.elementsKey],e,r+1)),en=t,tn=t.name),o.push(e.spaces&&r5(t,e)?`
`+Array(r+1).join(e.spaces):""),o.push("</"+s+">")):o.push("/>"),o.join("")}function qw(t,e,r,o){return t.reduce(function(s,c){var d=Wn(e,r,o&&!s);switch(c.type){case"element":return s+d+i5(c,e,r);case"comment":return s+d+Gw(c[e.commentKey],e);case"doctype":return s+d+zw(c[e.doctypeKey],e);case"cdata":return s+(e.indentCdata?d:"")+Vw(c[e.cdataKey],e);case"text":return s+(e.indentText?d:"")+Nd(c[e.textKey],e);case"instruction":var h={};return h[c[e.nameKey]]=c[e.attributesKey]?c:c[e.instructionKey],s+(e.indentInstruction?d:"")+Fw(h,e,r)}},"")}function Hw(t,e,r){var o;for(o in t)if(t.hasOwnProperty(o))switch(o){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function o5(t,e,r,o,s){en=t,tn=e;var c="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var d=[];if(e){if(d.push("<"+c),typeof t!="object")return d.push(">"+Nd(t,r)+"</"+c+">"),d.join("");t[r.attributesKey]&&d.push(kl(t[r.attributesKey],r,o));var h=Hw(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(h||("fullTagEmptyElementFn"in r?h=r.fullTagEmptyElementFn(e,t):h=r.fullTagEmptyElement),h)d.push(">");else return d.push("/>"),d.join("")}return d.push(Kw(t,r,o+1,!1)),en=t,tn=e,e&&d.push((s?Wn(r,o,!1):"")+"</"+c+">"),d.join("")}function Kw(t,e,r,o){var s,c,d,h=[];for(c in t)if(t.hasOwnProperty(c))for(d=t5(t[c])?t[c]:[t[c]],s=0;s<d.length;++s){switch(c){case e.declarationKey:h.push(Ow(d[s],e,r));break;case e.instructionKey:h.push((e.indentInstruction?Wn(e,r,o):"")+Fw(d[s],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:h.push((e.indentText?Wn(e,r,o):"")+Nd(d[s],e));break;case e.cdataKey:h.push((e.indentCdata?Wn(e,r,o):"")+Vw(d[s],e));break;case e.doctypeKey:h.push(Wn(e,r,o)+zw(d[s],e));break;case e.commentKey:h.push(Wn(e,r,o)+Gw(d[s],e));break;default:h.push(Wn(e,r,o)+o5(d[s],c,e,r,Hw(d[s],e)))}o=o&&!h.length}return h.join("")}var Yw=function(t,e){e=n5(e);var r=[];return en=t,tn="_root_",e.compact?r.push(Kw(t,e,0,!0)):(t[e.declarationKey]&&r.push(Ow(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(qw(t[e.elementsKey],e,0,!r.length))),r.join("")},a5=Yw,s5=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return a5(r,e)},l5=Pw,u5=e5,c5=Yw,f5=s5,Jw={xml2js:l5,xml2json:u5,js2xml:c5,json2xml:f5};const Md=t=>{switch(t.type){case void 0:case"element":const e=new h5(t.name,t.attributes),r=t.elements||[];for(const o of r){const s=Md(o);s!==void 0&&e.push(s)}return e;case"text":return t.text;default:return}};class d5 extends Be{}class h5 extends Se{static fromXmlString(e){const r=Jw.xml2js(e,{compact:!1});return Md(r)}constructor(e,r){super(e),r&&this.root.push(new d5(r))}push(e){this.root.push(e)}}class p5 extends Se{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class Ww extends Se{constructor(e,r){super(e),r&&(this.root=r.root)}}const dn=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Ul=t=>{const e=dn(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},$w=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},ov=t=>$w(t,1),Xw=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},Zw=t=>{const e=Xw(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},vo=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return $w(e,3)},ci=t=>typeof t=="string"?Xw(t):dn(t),m5=t=>typeof t=="string"?Zw(t):Ul(t),Fn=t=>typeof t=="string"?Zw(t):Ul(t),g5=Ul,y5=Ul,v5=t=>t.toISOString();class Ie extends Se{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new Bt({val:r}))}}class zf extends Se{constructor(e,r){super(e),this.root.push(new Bt({val:m5(r)}))}}class ho extends Se{constructor(e,r){super(e),this.root.push(new Bt({val:r}))}}const ka=(t,e)=>new nn({name:t,attributes:{value:{key:"w:val",value:e}}});class Dd extends Se{constructor(e,r){super(e),this.root.push(new Bt({val:r}))}}class ai extends Se{constructor(e,r){super(e),this.root.push(r)}}class nn extends Se{constructor({name:e,attributes:r,children:o}){super(e),r&&this.root.push(new Ao(r)),o&&this.root.push(...o)}}const fn={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class w5 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{val:"w:val"})}}class T5 extends Se{constructor(e){super("w:jc"),this.root.push(new w5({val:e}))}}class Dt extends Se{constructor(e,{color:r,size:o,space:s,style:c}){super(e),this.root.push(new x5({style:c,color:r===void 0?void 0:vo(r),size:o===void 0?void 0:g5(o),space:s===void 0?void 0:y5(s)}))}}class x5 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Id={SINGLE:"single",NONE:"none"};class S5 extends Ml{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Dt("w:top",e.top)),e.bottom&&this.root.push(new Dt("w:bottom",e.bottom)),e.left&&this.root.push(new Dt("w:left",e.left)),e.right&&this.root.push(new Dt("w:right",e.right))}}class E5 extends Se{constructor(){super("w:pBdr");const e=new Dt("w:bottom",{color:"auto",space:1,style:Id.SINGLE,size:6});this.root.push(e)}}class _5 extends Se{constructor({start:e,end:r,left:o,right:s,hanging:c,firstLine:d}){super("w:ind"),this.root.push(new Ao({start:{key:"w:start",value:e===void 0?void 0:ci(e)},end:{key:"w:end",value:r===void 0?void 0:ci(r)},left:{key:"w:left",value:o===void 0?void 0:ci(o)},right:{key:"w:right",value:s===void 0?void 0:ci(s)},hanging:{key:"w:hanging",value:c===void 0?void 0:Fn(c)},firstLine:{key:"w:firstLine",value:d===void 0?void 0:Fn(d)}}))}}let C5=class extends Se{constructor(){super("w:br")}};const kd={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Ud extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class al extends Se{constructor(e){super("w:fldChar"),this.root.push(new Ud({type:kd.BEGIN,dirty:e}))}}class sl extends Se{constructor(e){super("w:fldChar"),this.root.push(new Ud({type:kd.SEPARATE,dirty:e}))}}class ll extends Se{constructor(e){super("w:fldChar"),this.root.push(new Ud({type:kd.END,dirty:e}))}}const wo={DEFAULT:"default",PRESERVE:"preserve"};class To extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{space:"xml:space"})}}class b5 extends Se{constructor(){super("w:instrText"),this.root.push(new To({space:wo.PRESERVE})),this.root.push("PAGE")}}class A5 extends Se{constructor(){super("w:instrText"),this.root.push(new To({space:wo.PRESERVE})),this.root.push("NUMPAGES")}}class R5 extends Se{constructor(){super("w:instrText"),this.root.push(new To({space:wo.PRESERVE})),this.root.push("SECTIONPAGES")}}class N5 extends Se{constructor(){super("w:instrText"),this.root.push(new To({space:wo.PRESERVE})),this.root.push("SECTION")}}class M5 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Qw extends Se{constructor({fill:e,color:r,type:o}){super("w:shd"),this.root.push(new M5({fill:e===void 0?void 0:vo(e),color:r===void 0?void 0:vo(r),type:o}))}}class D5 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const I5={DOT:"dot"};class k5 extends Se{constructor(e){super("w:em"),this.root.push(new Bt({val:e}))}}class U5 extends k5{constructor(e=I5.DOT){super(e)}}class L5 extends Se{constructor(e){super("w:spacing"),this.root.push(new Bt({val:ci(e)}))}}class B5 extends Se{constructor(e){super("w:color"),this.root.push(new Bt({val:vo(e)}))}}class P5 extends Se{constructor(e){super("w:highlight"),this.root.push(new Bt({val:e}))}}class O5 extends Se{constructor(e){super("w:highlightCs"),this.root.push(new Bt({val:e}))}}const F5=t=>new nn({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class av extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class qf extends Se{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const o=e;this.root.push(new av({ascii:o,cs:o,eastAsia:o,hAnsi:o,hint:r}))}else{const o=e;this.root.push(new av(o))}}}let jw=class extends Se{constructor(e){super("w:vertAlign"),this.root.push(new Bt({val:e}))}};class G5 extends jw{constructor(){super("superscript")}}class V5 extends jw{constructor(){super("subscript")}}const Ld={SINGLE:"single"};class z5 extends Se{constructor(e=Ld.SINGLE,r){super("w:u"),this.root.push(new Bt({val:e,color:r===void 0?void 0:vo(r)}))}}class mi extends Ml{constructor(e){var r,o;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Ie("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Ie("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Ie("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Ie("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Ie("w:iCs",(o=e.italicsComplexScript)!=null?o:e.italics)),e.underline&&this.push(new z5(e.underline.type,e.underline.color)),e.effect&&this.push(new ho("w:effect",e.effect)),e.emphasisMark&&this.push(new U5(e.emphasisMark.type)),e.color&&this.push(new B5(e.color)),e.kern&&this.push(new zf("w:kern",e.kern)),e.position&&this.push(new ho("w:position",e.position)),e.size!==void 0&&this.push(new zf("w:sz",e.size));const s=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;s&&this.push(new zf("w:szCs",s)),e.rightToLeft!==void 0&&this.push(new Ie("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Ie("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Ie("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Ie("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Ie("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new V5),e.superScript&&this.push(new G5),e.style&&this.push(new ho("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new qf(e.font)):"name"in e.font?this.push(new qf(e.font.name,e.font.hint)):this.push(new qf(e.font))),e.highlight&&this.push(new P5(e.highlight));const c=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;c&&this.push(new O5(c)),e.characterSpacing&&this.push(new L5(e.characterSpacing)),e.emboss!==void 0&&this.push(new Ie("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Ie("w:imprint",e.imprint)),e.shading&&this.push(new Qw(e.shading)),e.revision&&this.push(new q5(e.revision)),e.border&&this.push(new Dt("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Ie("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Ie("w:vanish",e.vanish)),e.specVanish&&this.push(new Ie("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new Dd("w:w",e.scale)),e.language&&this.push(F5(e.language)),e.math&&this.push(new Ie("w:oMath",e.math))}push(e){this.root.push(e)}}class q5 extends Se{constructor(e){super("w:rPrChange"),this.root.push(new D5({id:e.id,author:e.author,date:e.date})),this.addChildElement(new mi(e))}}class ud extends Se{constructor(e){var r;return super("w:t"),typeof e=="string"?(this.root.push(new To({space:wo.PRESERVE})),this.root.push(e),this):(this.root.push(new To({space:(r=e.space)!=null?r:wo.DEFAULT})),this.root.push(e.text),this)}}const ul={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Ga extends Se{constructor(e){if(super("w:r"),xe(this,"properties"),this.properties=new mi(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new C5);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case ul.CURRENT:this.root.push(new al),this.root.push(new b5),this.root.push(new sl),this.root.push(new ll);break;case ul.TOTAL_PAGES:this.root.push(new al),this.root.push(new A5),this.root.push(new sl),this.root.push(new ll);break;case ul.TOTAL_PAGES_IN_SECTION:this.root.push(new al),this.root.push(new R5),this.root.push(new sl),this.root.push(new ll);break;case ul.CURRENT_SECTION:this.root.push(new al),this.root.push(new N5),this.root.push(new sl),this.root.push(new ll);break;default:this.root.push(new ud(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new ud(e.text))}}class li extends Ga{constructor(e){if(typeof e=="string")return super({}),this.root.push(new ud(e)),this;super(e)}}let H5="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",K5=(t,e=21)=>(r=e)=>{let o="",s=r;for(;s--;)o+=t[Math.random()*t.length|0];return o},Y5=(t=21)=>{let e="",r=t;for(;r--;)e+=H5[Math.random()*64|0];return e};const On=t=>Math.floor(t*72*20),Ll=(t=0)=>{let e=t;return()=>++e},J5=()=>Ll(),W5=()=>Ll(1),$5=()=>Ll(),X5=()=>Ll(),eT=()=>Y5().toLowerCase(),Ua=t=>K5("1234567890abcdef",t)(),Z5=()=>`${Ua(8)}-${Ua(4)}-${Ua(4)}-${Ua(4)}-${Ua(12)}`,Q5={PAGE:"page"},j5={PAGE:"page"};class ek extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{x:"x",y:"y"})}}class tk extends Se{constructor(){super("wp:simplePos"),this.root.push(new ek({x:0,y:0}))}}class tT extends Se{constructor(e){super("wp:align"),this.root.push(e)}}class nT extends Se{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class nk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class rk extends Se{constructor(e){if(super("wp:positionH"),this.root.push(new nk({relativeFrom:e.relative||Q5.PAGE})),e.align)this.root.push(new tT(e.align));else if(e.offset!==void 0)this.root.push(new nT(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class ik extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class ok extends Se{constructor(e){if(super("wp:positionV"),this.root.push(new ik({relativeFrom:e.relative||j5.PAGE})),e.align)this.root.push(new tT(e.align));else if(e.offset!==void 0)this.root.push(new nT(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class ak extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{uri:"uri"})}}class sk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{embed:"r:embed",cstate:"cstate"})}}class lk extends Se{constructor(e){super("a:blip"),this.root.push(new sk({embed:`rId{${e.fileName}}`,cstate:"none"}))}}class uk extends Se{constructor(){super("a:srcRect")}}class ck extends Se{constructor(){super("a:fillRect")}}class fk extends Se{constructor(){super("a:stretch"),this.root.push(new ck)}}class dk extends Se{constructor(e){super("pic:blipFill"),this.root.push(new lk(e)),this.root.push(new uk),this.root.push(new fk)}}class hk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class pk extends Se{constructor(){super("a:picLocks"),this.root.push(new hk({noChangeAspect:1,noChangeArrowheads:1}))}}class mk extends Se{constructor(){super("pic:cNvPicPr"),this.root.push(new pk)}}const rT=(t,e)=>new nn({name:"a:hlinkClick",attributes:go(ot({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class gk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class yk extends Se{constructor(){super("pic:cNvPr"),this.root.push(new gk({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof Bd){this.root.push(rT(o.linkId,!1));break}}return super.prepForXml(e)}}class vk extends Se{constructor(){super("pic:nvPicPr"),this.root.push(new yk),this.root.push(new mk)}}class wk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class Tk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class xk extends Se{constructor(e,r){super("a:ext"),xe(this,"attributes"),this.attributes=new Tk({cx:e,cy:r}),this.root.push(this.attributes)}}class Sk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{x:"x",y:"y"})}}class Ek extends Se{constructor(){super("a:off"),this.root.push(new Sk({x:0,y:0}))}}class _k extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class Ck extends Se{constructor(e){var r,o;super("a:xfrm"),xe(this,"extents"),this.root.push(new _k({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(o=e.flip)==null?void 0:o.horizontal,rotation:e.rotation})),this.extents=new xk(e.emus.x,e.emus.y),this.root.push(new Ek),this.root.push(this.extents)}}const iT=()=>new nn({name:"a:noFill"}),bk=t=>new nn({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),Ak=t=>new nn({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),sv=t=>new nn({name:"a:solidFill",children:[t.type==="rgb"?Ak(t):bk(t)]}),Rk=t=>new nn({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?iT():t.solidFillType==="rgb"?sv({type:"rgb",value:t.value}):sv({type:"scheme",value:t.value})]});class Nk extends Se{constructor(){super("a:avLst")}}class Mk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{prst:"prst"})}}class Dk extends Se{constructor(){super("a:prstGeom"),this.root.push(new Mk({prst:"rect"})),this.root.push(new Nk)}}class Ik extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{bwMode:"bwMode"})}}class kk extends Se{constructor({outline:e,transform:r}){super("pic:spPr"),xe(this,"form"),this.root.push(new Ik({bwMode:"auto"})),this.form=new Ck(r),this.root.push(this.form),this.root.push(new Dk),e&&(this.root.push(iT()),this.root.push(Rk(e)))}}class Uk extends Se{constructor({mediaData:e,transform:r,outline:o}){super("pic:pic"),this.root.push(new wk({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new vk),this.root.push(new dk(e)),this.root.push(new kk({transform:r,outline:o}))}}class Lk extends Se{constructor({mediaData:e,transform:r,outline:o}){super("a:graphicData"),xe(this,"pic"),this.root.push(new ak({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new Uk({mediaData:e,transform:r,outline:o}),this.root.push(this.pic)}}class Bk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{a:"xmlns:a"})}}class oT extends Se{constructor({mediaData:e,transform:r,outline:o}){super("a:graphic"),xe(this,"data"),this.root.push(new Bk({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new Lk({mediaData:e,transform:r,outline:o}),this.root.push(this.data)}}const cl={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},Pk={BOTH_SIDES:"bothSides"};class lv extends Se{constructor(){super("wp:wrapNone")}}class Ok extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class Fk extends Se{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new Ok({wrapText:e.side||Pk.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class Gk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class Vk extends Se{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new Gk({distT:e.top,distB:e.bottom}))}}class zk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class qk extends Se{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new zk({distT:e.top,distB:e.bottom}))}}class aT extends Se{constructor({name:e,description:r,title:o}={name:"",description:"",title:""}){super("wp:docPr"),xe(this,"docPropertiesUniqueNumericId",$5()),this.root.push(new Ao({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:r},title:{key:"title",value:o}}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof Bd){this.root.push(rT(o.linkId,!0));break}}return super.prepForXml(e)}}const sT=({top:t,right:e,bottom:r,left:o})=>new nn({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:o}}});class Hk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class lT extends Se{constructor(e,r){super("wp:extent"),xe(this,"attributes"),this.attributes=new Hk({cx:e,cy:r}),this.root.push(this.attributes)}}class Kk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class Yk extends Se{constructor(){super("a:graphicFrameLocks"),this.root.push(new Kk({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class uT extends Se{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new Yk)}}class Jk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class Wk extends Se{constructor({mediaData:e,transform:r,drawingOptions:o}){super("wp:anchor");const s=ot({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},o.floating);if(this.root.push(new Jk({distT:s.margins&&s.margins.top||0,distB:s.margins&&s.margins.bottom||0,distL:s.margins&&s.margins.left||0,distR:s.margins&&s.margins.right||0,simplePos:"0",allowOverlap:s.allowOverlap===!0?"1":"0",behindDoc:s.behindDocument===!0?"1":"0",locked:s.lockAnchor===!0?"1":"0",layoutInCell:s.layoutInCell===!0?"1":"0",relativeHeight:s.zIndex?s.zIndex:r.emus.y})),this.root.push(new tk),this.root.push(new rk(s.horizontalPosition)),this.root.push(new ok(s.verticalPosition)),this.root.push(new lT(r.emus.x,r.emus.y)),this.root.push(sT({top:0,right:0,bottom:0,left:0})),o.floating!==void 0&&o.floating.wrap!==void 0)switch(o.floating.wrap.type){case cl.SQUARE:this.root.push(new Fk(o.floating.wrap,o.floating.margins));break;case cl.TIGHT:this.root.push(new Vk(o.floating.margins));break;case cl.TOP_AND_BOTTOM:this.root.push(new qk(o.floating.margins));break;case cl.NONE:default:this.root.push(new lv)}else this.root.push(new lv);this.root.push(new aT(o.docProperties)),this.root.push(new uT),this.root.push(new oT({mediaData:e,transform:r,outline:o.outline}))}}const $k=({mediaData:t,transform:e,docProperties:r,outline:o})=>{var s,c,d,h;return new nn({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new lT(e.emus.x,e.emus.y),sT(o?{top:((s=o.width)!=null?s:9525)*2,right:((c=o.width)!=null?c:9525)*2,bottom:((d=o.width)!=null?d:9525)*2,left:((h=o.width)!=null?h:9525)*2}:{top:0,right:0,bottom:0,left:0}),new aT(r),new uT,new oT({mediaData:t,transform:e,outline:o})]})};class Xk extends Se{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new Wk({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push($k({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}class Zk extends Ga{constructor(e){super({}),xe(this,"key",`${eT()}.png`),xe(this,"imageData");const r=typeof e.data=="string"?this.convertDataURIToBinary(e.data):e.data;this.imageData={stream:r,fileName:this.key,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}};const o=new Xk(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(o)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),super.prepForXml(e)}convertDataURIToBinary(e){if(typeof atob=="function"){const r=";base64,",o=e.indexOf(r),s=o===-1?0:o+r.length;return new Uint8Array(atob(e.substring(s)).split("").map(c=>c.charCodeAt(0)))}else{const r=require("buffer");return new r.Buffer(e,"base64")}}}class Qk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class jk extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class e6 extends Se{constructor({id:e,initials:r,author:o,date:s=new Date,children:c}){super("w:comment"),this.root.push(new Qk({id:e,initials:r,author:o,date:s.toISOString()}));for(const d of c)this.root.push(d)}}class t6 extends Se{constructor({children:e}){super("w:comments"),this.root.push(new jk({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new e6(r))}}class n6 extends Se{constructor(){super("w:pageBreakBefore")}}const cd={AUTO:"auto"};class r6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class i6 extends Se{constructor(e){super("w:spacing"),this.root.push(new r6(e))}}const no={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",TITLE:"Title"};let fl=class extends Se{constructor(e){super("w:pStyle"),this.root.push(new Bt({val:e}))}};class o6 extends Se{constructor(e){super("w:tabs");for(const r of e)this.root.push(new s6(r))}}const uv={LEFT:"left",RIGHT:"right"};class a6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class s6 extends Se{constructor({type:e,position:r,leader:o}){super("w:tab"),this.root.push(new a6({val:e,pos:r,leader:o}))}}class cv extends Se{constructor(e,r){super("w:numPr"),this.root.push(new l6(r)),this.root.push(new u6(e))}}class l6 extends Se{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Bt({val:e}))}}class u6 extends Se{constructor(e){super("w:numId"),this.root.push(new Bt({val:typeof e=="string"?`{${e}}`:e}))}}class c6 extends Se{constructor(){super(...arguments),xe(this,"fileChild",Symbol())}}class f6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const d6={EXTERNAL:"External"};class h6 extends Se{constructor(e,r,o,s){super("Relationship"),this.root.push(new f6({id:e,type:r,target:o,targetMode:s}))}}class p6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Bd extends Se{constructor(e,r,o){super("w:hyperlink"),xe(this,"linkId"),this.linkId=r;const s={history:1,anchor:o||void 0,id:o?void 0:`rId${this.linkId}`},c=new p6(s);this.root.push(c),e.forEach(d=>{this.root.push(d)})}}class m6 extends Se{constructor(e){super("w:externalHyperlink"),this.options=e}}class g6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class y6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{id:"w:id"})}}class v6{constructor(e){xe(this,"bookmarkUniqueNumericId",X5()),xe(this,"start"),xe(this,"children"),xe(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new w6(e.id,r),this.children=e.children,this.end=new T6(r)}}class w6 extends Se{constructor(e,r){super("w:bookmarkStart");const o=new g6({name:e,id:r});this.root.push(o)}}class T6 extends Se{constructor(e){super("w:bookmarkEnd");const r=new y6({id:e});this.root.push(r)}}class x6 extends Se{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Bt({val:e}))}}class S6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{verticalAlign:"w:val"})}}class E6 extends Se{constructor(e){super("w:vAlign"),this.root.push(new S6({verticalAlign:e}))}}const po={DEFAULT:"default",FIRST:"first",EVEN:"even"};class _6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const fv={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Hf extends Se{constructor(e,r){super(e),this.root.push(new _6({type:r.type||po.DEFAULT,id:`rId${r.id}`}))}}class C6 extends Se{constructor({space:e,count:r,separate:o,equalWidth:s,children:c}){super("w:cols"),this.root.push(new Ao({space:{key:"w:space",value:e===void 0?void 0:Fn(e)},count:{key:"w:num",value:r===void 0?void 0:dn(r)},separate:{key:"w:sep",value:o},equalWidth:{key:"w:equalWidth",value:s}})),!s&&c&&c.forEach(d=>this.addChildElement(d))}}class b6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class A6 extends Se{constructor(e,r,o){super("w:docGrid"),this.root.push(new b6({type:o,linePitch:dn(e),charSpace:r?dn(r):void 0}))}}const R6=({countBy:t,start:e,restart:r,distance:o})=>new nn({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:dn(t)},start:{key:"w:start",value:e===void 0?void 0:dn(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:o===void 0?void 0:Fn(o)}}});class dv extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class N6 extends Ml{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new dv({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new dv({})),e.pageBorderTop&&this.root.push(new Dt("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Dt("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Dt("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Dt("w:right",e.pageBorderRight))}}class M6 extends Se{constructor(e,r,o,s,c,d,h){super("w:pgMar"),this.root.push(new Ao({top:{key:"w:top",value:ci(e)},right:{key:"w:right",value:Fn(r)},bottom:{key:"w:bottom",value:ci(o)},left:{key:"w:left",value:Fn(s)},header:{key:"w:header",value:Fn(c)},footer:{key:"w:footer",value:Fn(d)},gutter:{key:"w:gutter",value:Fn(h)}}))}}class D6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class I6 extends Se{constructor({start:e,formatType:r,separator:o}){super("w:pgNumType"),this.root.push(new D6({start:e===void 0?void 0:dn(e),formatType:r,separator:o}))}}const cT={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class k6 extends Se{constructor(e,r,o){super("w:pgSz");const s=o===cT.LANDSCAPE,c=Fn(e),d=Fn(r);this.root.push(new Ao({width:{key:"w:w",value:s?d:c},height:{key:"w:h",value:s?c:d},orientation:{key:"w:orient",value:o}}))}}class U6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{val:"w:val"})}}class L6 extends Se{constructor(e){super("w:textDirection"),this.root.push(new U6({val:e}))}}class B6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{val:"w:val"})}}class P6 extends Se{constructor(e){super("w:type"),this.root.push(new B6({val:e}))}}const si={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Kf={WIDTH:11906,HEIGHT:16838,ORIENTATION:cT.PORTRAIT};class O6 extends Se{constructor({page:{size:{width:e=Kf.WIDTH,height:r=Kf.HEIGHT,orientation:o=Kf.ORIENTATION}={},margin:{top:s=si.TOP,right:c=si.RIGHT,bottom:d=si.BOTTOM,left:h=si.LEFT,header:p=si.HEADER,footer:m=si.FOOTER,gutter:y=si.GUTTER}={},pageNumbers:T={},borders:S,textDirection:E}={},grid:{linePitch:M=360,charSpace:b,type:I}={},headerWrapperGroup:A={},footerWrapperGroup:D={},lineNumbers:O,titlePage:J,verticalAlign:K,column:ue,type:oe}={}){super("w:sectPr"),this.addHeaderFooterGroup(fv.HEADER,A),this.addHeaderFooterGroup(fv.FOOTER,D),oe&&this.root.push(new P6(oe)),this.root.push(new k6(e,r,o)),this.root.push(new M6(s,c,d,h,p,m,y)),S&&this.root.push(new N6(S)),O&&this.root.push(R6(O)),this.root.push(new I6(T)),ue&&this.root.push(new C6(ue)),K&&this.root.push(new E6(K)),J!==void 0&&this.root.push(new Ie("w:titlePg",J)),E&&this.root.push(new L6(E)),this.root.push(new A6(M,b,I))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new Hf(e,{type:po.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Hf(e,{type:po.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Hf(e,{type:po.EVEN,id:r.even.View.ReferenceId}))}}class F6 extends Se{constructor(){super("w:body"),xe(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new O6(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new Qt({}),o=new xo({});return o.push(e),r.addChildElement(o),r}}class Va extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class G6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class V6 extends Se{constructor(e){super("w:background"),this.root.push(new G6({color:e.color===void 0?void 0:vo(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:ov(e.themeShade),themeTint:e.themeTint===void 0?void 0:ov(e.themeTint)}))}}class z6 extends Se{constructor(e){super("w:document"),xe(this,"body"),this.root.push(new Va({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new F6,e.background&&this.root.push(new V6(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class q6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{xmlns:"xmlns"})}}class Mo extends Se{constructor(){super("Relationships"),this.root.push(new q6({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,o,s){const c=new h6(`rId${e}`,r,o,s);return this.root.push(c),c}get RelationshipCount(){return this.root.length-1}}class fT{constructor(e){xe(this,"document"),xe(this,"relationships"),this.document=new z6(e),this.relationships=new Mo}get View(){return this.document}get Relationships(){return this.relationships}}class H6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{val:"w:val"})}}class K6 extends Se{constructor(){super("w:wordWrap"),this.root.push(new H6({val:0}))}}const Y6=t=>{var e,r;return new nn({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class xo extends Ml{constructor(e){var r,o;if(super("w:pPr"),xe(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new fl(e.heading)),e.bullet&&this.push(new fl("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new fl("ListParagraph"))),e.style&&this.push(new fl(e.style)),e.keepNext!==void 0&&this.push(new Ie("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Ie("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new n6),e.frame&&this.push(Y6(e.frame)),e.widowControl!==void 0&&this.push(new Ie("w:widowControl",e.widowControl)),e.bullet&&this.push(new cv(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new cv(`${e.numbering.reference}-${(o=e.numbering.instance)!=null?o:0}`,e.numbering.level))),e.border&&this.push(new S5(e.border)),e.thematicBreak&&this.push(new E5),e.shading&&this.push(new Qw(e.shading)),e.wordWrap&&this.push(new K6),e.overflowPunctuation&&this.push(new Ie("w:overflowPunct",e.overflowPunctuation));const s=[...e.rightTabStop!==void 0?[{type:uv.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:uv.LEFT,position:e.leftTabStop}]:[]];s.length>0&&this.push(new o6(s)),e.bidirectional!==void 0&&this.push(new Ie("w:bidi",e.bidirectional)),e.spacing&&this.push(new i6(e.spacing)),e.indent&&this.push(new _5(e.indent)),e.contextualSpacing!==void 0&&this.push(new Ie("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new T5(e.alignment)),e.outlineLevel!==void 0&&this.push(new x6(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Ie("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Ie("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new mi(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof fT)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class Qt extends c6{constructor(e){if(super("w:p"),xe(this,"properties"),typeof e=="string")return this.properties=new xo({}),this.root.push(this.properties),this.root.push(new li(e)),this;if(this.properties=new xo(e),this.root.push(this.properties),e.text&&this.root.push(new li(e.text)),e.children)for(const r of e.children){if(r instanceof v6){this.root.push(r.start);for(const o of r.children)this.root.push(o);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof m6){const o=this.root.indexOf(r),s=new Bd(r.options.children,eT());e.viewWrapper.Relationships.createRelationship(s.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,d6.EXTERNAL),this.root[o]=s}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const ro={style:Id.NONE,size:0,color:"auto"},io={style:Id.SINGLE,size:4,color:"auto"};class J6 extends Se{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Dt("w:top",e.top)):this.root.push(new Dt("w:top",io)),e.left?this.root.push(new Dt("w:left",e.left)):this.root.push(new Dt("w:left",io)),e.bottom?this.root.push(new Dt("w:bottom",e.bottom)):this.root.push(new Dt("w:bottom",io)),e.right?this.root.push(new Dt("w:right",e.right)):this.root.push(new Dt("w:right",io)),e.insideHorizontal?this.root.push(new Dt("w:insideH",e.insideHorizontal)):this.root.push(new Dt("w:insideH",io)),e.insideVertical?this.root.push(new Dt("w:insideV",e.insideVertical)):this.root.push(new Dt("w:insideV",io))}}xe(J6,"NONE",{top:ro,bottom:ro,left:ro,right:ro,insideHorizontal:ro,insideVertical:ro});class W6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class $6 extends Se{constructor(){super("Properties"),this.root.push(new W6({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class X6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{xmlns:"xmlns"})}}class Z6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Gr extends Se{constructor(e,r){super("Default"),this.root.push(new Z6({contentType:e,extension:r}))}}class Q6 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Dn extends Se{constructor(e,r){super("Override"),this.root.push(new Q6({contentType:e,partName:r}))}}class j6 extends Se{constructor(){super("Types"),this.root.push(new X6({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Gr("image/png","png")),this.root.push(new Gr("image/jpeg","jpeg")),this.root.push(new Gr("image/jpeg","jpg")),this.root.push(new Gr("image/bmp","bmp")),this.root.push(new Gr("image/gif","gif")),this.root.push(new Gr("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Gr("application/xml","xml")),this.root.push(new Gr("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Dn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Dn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class e4 extends Se{constructor(e){super("cp:coreProperties"),this.root.push(new Va({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new ai("dc:title",e.title)),e.subject&&this.root.push(new ai("dc:subject",e.subject)),e.creator&&this.root.push(new ai("dc:creator",e.creator)),e.keywords&&this.root.push(new ai("cp:keywords",e.keywords)),e.description&&this.root.push(new ai("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new ai("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new ai("cp:revision",String(e.revision))),this.root.push(new hv("dcterms:created")),this.root.push(new hv("dcterms:modified"))}}class hv extends Se{constructor(e){super(e),this.root.push(new Va({type:"dcterms:W3CDTF"})),this.root.push(v5(new Date))}}class t4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class n4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class r4 extends Se{constructor(e,r){super("property"),this.root.push(new n4({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new i4(r.value))}}class i4 extends Se{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class o4 extends Se{constructor(e){super("Properties"),xe(this,"nextId"),xe(this,"properties",[]),this.root.push(new t4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new r4(this.nextId++,e))}}class a4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let s4=class extends Ww{constructor(e,r){super("w:ftr",r),xe(this,"refId"),this.refId=e,r||this.root.push(new a4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class l4{constructor(e,r,o){xe(this,"footer"),xe(this,"relationships"),this.media=e,this.footer=new s4(r,o),this.relationships=new Mo}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class u4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class c4 extends Se{constructor(){super("w:footnoteRef")}}class f4 extends Ga{constructor(){super({style:"FootnoteReference"}),this.root.push(new c4)}}const pv={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Yf extends Se{constructor(e){super("w:footnote"),this.root.push(new u4({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const o=e.children[r];r===0&&o.addRunToFront(new f4),this.root.push(o)}}}class d4 extends Se{constructor(){super("w:continuationSeparator")}}class h4 extends Ga{constructor(){super({}),this.root.push(new d4)}}class p4 extends Se{constructor(){super("w:separator")}}class m4 extends Ga{constructor(){super({}),this.root.push(new p4)}}class g4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class y4 extends Se{constructor(){super("w:footnotes"),this.root.push(new g4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Yf({id:-1,type:pv.SEPERATOR,children:[new Qt({spacing:{after:0,line:240,lineRule:cd.AUTO},children:[new m4]})]});this.root.push(e);const r=new Yf({id:0,type:pv.CONTINUATION_SEPERATOR,children:[new Qt({spacing:{after:0,line:240,lineRule:cd.AUTO},children:[new h4]})]});this.root.push(r)}createFootNote(e,r){const o=new Yf({id:e,children:r});this.root.push(o)}}class v4{constructor(){xe(this,"footnotess"),xe(this,"relationships"),this.footnotess=new y4,this.relationships=new Mo}get View(){return this.footnotess}get Relationships(){return this.relationships}}class w4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let T4=class extends Ww{constructor(e,r){super("w:hdr",r),xe(this,"refId"),this.refId=e,r||this.root.push(new w4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class x4{constructor(e,r,o){xe(this,"header"),xe(this,"relationships"),this.media=e,this.header=new T4(r,o),this.relationships=new Mo}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class S4{constructor(){xe(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const pr={BULLET:"bullet"};class E4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class _4 extends Se{constructor(e){super("w:numFmt"),this.root.push(new Bt({val:e}))}}class C4 extends Se{constructor(e){super("w:lvlText"),this.root.push(new Bt({val:e}))}}class b4 extends Se{constructor(e){super("w:lvlJc"),this.root.push(new Bt({val:e}))}}class A4 extends Se{constructor(e){super("w:suff"),this.root.push(new Bt({val:e}))}}class R4 extends Se{constructor(){super("w:isLgl")}}class N4 extends Se{constructor({level:e,format:r,text:o,alignment:s=fn.START,start:c=1,style:d,suffix:h,isLegalNumberingStyle:p}){if(super("w:lvl"),xe(this,"paragraphProperties"),xe(this,"runProperties"),this.root.push(new Dd("w:start",dn(c))),r&&this.root.push(new _4(r)),h&&this.root.push(new A4(h)),p&&this.root.push(new R4),o&&this.root.push(new C4(o)),this.root.push(new b4(s)),this.paragraphProperties=new xo(d&&d.paragraph),this.runProperties=new mi(d&&d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new E4({ilvl:dn(e),tentative:1}))}}class M4 extends N4{}class D4 extends Se{constructor(e){super("w:multiLevelType"),this.root.push(new Bt({val:e}))}}class I4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class mv extends Se{constructor(e,r){super("w:abstractNum"),xe(this,"id"),this.root.push(new I4({abstractNumId:dn(e),restartNumberingAfterBreak:0})),this.root.push(new D4("hybridMultilevel")),this.id=e;for(const o of r)this.root.push(new M4(o))}}class k4 extends Se{constructor(e){super("w:abstractNumId"),this.root.push(new Bt({val:e}))}}class U4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{numId:"w:numId"})}}class gv extends Se{constructor(e){if(super("w:num"),xe(this,"numId"),xe(this,"reference"),xe(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new U4({numId:dn(e.numId)})),this.root.push(new k4(dn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new B4(r.num,r.start))}}class L4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{ilvl:"w:ilvl"})}}class B4 extends Se{constructor(e,r){super("w:lvlOverride"),this.root.push(new L4({ilvl:e})),r!==void 0&&this.root.push(new O4(r))}}class P4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{val:"w:val"})}}class O4 extends Se{constructor(e){super("w:startOverride"),this.root.push(new P4({val:e}))}}class F4 extends Se{constructor(e){super("w:numbering"),xe(this,"abstractNumberingMap",new Map),xe(this,"concreteNumberingMap",new Map),xe(this,"referenceConfigMap",new Map),xe(this,"abstractNumUniqueNumericId",J5()),xe(this,"concreteNumUniqueNumericId",W5()),this.root.push(new Va({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new mv(this.abstractNumUniqueNumericId(),[{level:0,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:On(.5),hanging:On(.25)}}}},{level:1,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:On(1),hanging:On(.25)}}}},{level:2,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:2160,hanging:On(.25)}}}},{level:3,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:2880,hanging:On(.25)}}}},{level:4,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:3600,hanging:On(.25)}}}},{level:5,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:4320,hanging:On(.25)}}}},{level:6,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:5040,hanging:On(.25)}}}},{level:7,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:5760,hanging:On(.25)}}}},{level:8,format:pr.BULLET,text:"",alignment:fn.LEFT,style:{paragraph:{indent:{left:6480,hanging:On(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new gv({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const o of e.config)this.abstractNumberingMap.set(o.reference,new mv(this.abstractNumUniqueNumericId(),o.levels)),this.referenceConfigMap.set(o.reference,o.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const o=this.abstractNumberingMap.get(e);if(!o)return;const s=`${e}-${r}`;if(this.concreteNumberingMap.has(s))return;const c=this.referenceConfigMap.get(e),d=c&&c[0].start,h={numId:this.concreteNumUniqueNumericId(),abstractNumId:o.id,reference:e,instance:r,overrideLevels:[d&&Number.isInteger(d)?{num:0,start:d}:{num:0,start:1}]};this.concreteNumberingMap.set(s,new gv(h))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class G4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class V4 extends Se{constructor(e){super("w:compatSetting"),this.root.push(new G4({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class z4 extends Se{constructor(e){super("w:compat"),e.version&&this.root.push(new V4(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Ie("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Ie("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Ie("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Ie("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Ie("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Ie("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Ie("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Ie("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Ie("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Ie("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Ie("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Ie("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Ie("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Ie("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Ie("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Ie("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Ie("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Ie("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Ie("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Ie("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Ie("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Ie("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Ie("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Ie("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Ie("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Ie("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Ie("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Ie("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Ie("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Ie("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Ie("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Ie("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Ie("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Ie("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Ie("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Ie("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Ie("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ie("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Ie("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Ie("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Ie("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Ie("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Ie("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ie("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Ie("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Ie("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Ie("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Ie("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Ie("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Ie("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Ie("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ie("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Ie("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Ie("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Ie("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Ie("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Ie("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Ie("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Ie("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Ie("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Ie("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Ie("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ie("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Ie("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Ie("w:cachedColBalance",e.cachedColumnBalance))}}class q4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class H4 extends Se{constructor(e){var r,o,s,c;super("w:settings"),this.root.push(new q4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ie("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Ie("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Ie("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Ie("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Dd("w:defaultTabStop",e.defaultTabStop)),this.root.push(new z4(go(ot({},(r=e.compatibility)!=null?r:{}),{version:(c=(s=(o=e.compatibility)==null?void 0:o.version)!=null?s:e.compatibilityModeVersion)!=null?c:15})))}}class dT extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{val:"w:val"})}}class K4 extends Se{constructor(e){super("w:name"),this.root.push(new dT({val:e}))}}class Y4 extends Se{constructor(e){super("w:uiPriority"),this.root.push(new dT({val:dn(e)}))}}class J4 extends Be{constructor(){super(...arguments),xe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class hT extends Se{constructor(e,r){super("w:style"),this.root.push(new J4(e)),r.name&&this.root.push(new K4(r.name)),r.basedOn&&this.root.push(new ho("w:basedOn",r.basedOn)),r.next&&this.root.push(new ho("w:next",r.next)),r.link&&this.root.push(new ho("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new Y4(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Ie("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Ie("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Ie("w:qFormat",r.quickFormat))}}class Bl extends hT{constructor(e){super({type:"paragraph",styleId:e.id},e),xe(this,"paragraphProperties"),xe(this,"runProperties"),this.paragraphProperties=new xo(e.paragraph),this.runProperties=new mi(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Pl extends hT{constructor(e){super({type:"character",styleId:e.id},ot({uiPriority:99,unhideWhenUsed:!0},e)),xe(this,"runProperties"),this.runProperties=new mi(e.run),this.root.push(this.runProperties)}}class Vr extends Bl{constructor(e){super(ot({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class W4 extends Vr{constructor(e){super(ot({id:"Title",name:"Title"},e))}}class $4 extends Vr{constructor(e){super(ot({id:"Heading1",name:"Heading 1"},e))}}class X4 extends Vr{constructor(e){super(ot({id:"Heading2",name:"Heading 2"},e))}}class Z4 extends Vr{constructor(e){super(ot({id:"Heading3",name:"Heading 3"},e))}}class Q4 extends Vr{constructor(e){super(ot({id:"Heading4",name:"Heading 4"},e))}}class j4 extends Vr{constructor(e){super(ot({id:"Heading5",name:"Heading 5"},e))}}class eU extends Vr{constructor(e){super(ot({id:"Heading6",name:"Heading 6"},e))}}class tU extends Vr{constructor(e){super(ot({id:"Strong",name:"Strong"},e))}}class nU extends Bl{constructor(e){super(ot({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class rU extends Bl{constructor(e){super(ot({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:cd.AUTO}},run:{size:20}},e))}}class iU extends Pl{constructor(e){super(ot({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class oU extends Pl{constructor(e){super(ot({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class aU extends Pl{constructor(e){super(ot({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Ld.SINGLE}}},e))}}class fd extends Se{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new Bl(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new Pl(r))}}class sU extends Se{constructor(e){super("w:pPrDefault"),this.root.push(new xo(e))}}class lU extends Se{constructor(e){super("w:rPrDefault"),this.root.push(new mi(e))}}class uU extends Se{constructor(e){super("w:docDefaults"),xe(this,"runPropertiesDefaults"),xe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new lU(e.run),this.paragraphPropertiesDefaults=new sU(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class cU{newInstance(e){const r=Jw.xml2js(e,{compact:!1});let o;for(const d of r.elements||[])d.name==="w:styles"&&(o=d);if(o===void 0)throw new Error("can not find styles element");const s=o.elements||[];return new fd({initialStyles:new p5(o.attributes),importedStyles:s.map(d=>Md(d))})}}class yv{newInstance(e={}){var r;return{initialStyles:new Va({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new uU((r=e.document)!=null?r:{}),new W4(ot({run:{size:56}},e.title)),new $4(ot({run:{color:"2E74B5",size:32}},e.heading1)),new X4(ot({run:{color:"2E74B5",size:26}},e.heading2)),new Z4(ot({run:{color:"1F4D78",size:24}},e.heading3)),new Q4(ot({run:{color:"2E74B5",italics:!0}},e.heading4)),new j4(ot({run:{color:"2E74B5"}},e.heading5)),new eU(ot({run:{color:"1F4D78"}},e.heading6)),new tU(ot({run:{bold:!0}},e.strong)),new nU(e.listParagraph||{}),new aU(e.hyperlink||{}),new iU(e.footnoteReference||{}),new rU(e.footnoteText||{}),new oU(e.footnoteTextChar||{})]}}}const dl=({id:t,fontKey:e,subsetted:r},o)=>new nn({name:o,attributes:ot({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Ie("w:subsetted",r)]:[]]}),fU=({name:t,altName:e,panose1:r,charset:o,family:s,notTrueType:c,pitch:d,sig:h,embedRegular:p,embedBold:m,embedItalic:y,embedBoldItalic:T})=>new nn({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[ka("w:altName",e)]:[],...r?[ka("w:panose1",r)]:[],...o?[ka("w:charset",o)]:[],ka("w:family",s),...c?[new Ie("w:notTrueType",c)]:[],ka("w:pitch",d),...h?[new nn({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:h.usb0},usb1:{key:"w:usb1",value:h.usb1},usb2:{key:"w:usb2",value:h.usb2},usb3:{key:"w:usb3",value:h.usb3},csb0:{key:"w:csb0",value:h.csb0},csb1:{key:"w:csb1",value:h.csb1}}})]:[],...p?[dl(p,"w:embedRegular")]:[],...m?[dl(m,"w:embedBold")]:[],...y?[dl(y,"w:embedItalic")]:[],...T?[dl(T,"w:embedBoldItalic")]:[]]}),dU=({name:t,index:e,fontKey:r,characterSet:o})=>fU({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),hU=t=>new nn({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>dU({name:e.name,index:r+1,fontKey:e.fontKey}))});class pU{constructor(e){xe(this,"fontTable"),xe(this,"relationships"),xe(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>go(ot({},r),{fontKey:Z5()})),this.fontTable=hU(this.fontOptionsWithKey),this.relationships=new Mo;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class mU{constructor(e){xe(this,"currentRelationshipId",1),xe(this,"documentWrapper"),xe(this,"headers",[]),xe(this,"footers",[]),xe(this,"coreProperties"),xe(this,"numbering"),xe(this,"media"),xe(this,"fileRelationships"),xe(this,"footnotesWrapper"),xe(this,"settings"),xe(this,"contentTypes"),xe(this,"customProperties"),xe(this,"appProperties"),xe(this,"styles"),xe(this,"comments"),xe(this,"fontWrapper");var r,o,s,c,d,h,p,m;if(this.coreProperties=new e4(go(ot({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(o=e.revision)!=null?o:1,lastModifiedBy:(s=e.lastModifiedBy)!=null?s:"Un-named"})),this.numbering=new F4(e.numbering?e.numbering:{config:[]}),this.comments=new t6((c=e.comments)!=null?c:{children:[]}),this.fileRelationships=new Mo,this.customProperties=new o4((d=e.customProperties)!=null?d:[]),this.appProperties=new $6,this.footnotesWrapper=new v4,this.contentTypes=new j6,this.documentWrapper=new fT({background:e.background}),this.settings=new H4({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(h=e.features)==null?void 0:h.trackRevisions,updateFields:(p=e.features)==null?void 0:p.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new S4,e.externalStyles){const y=new cU;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const T=new yv().newInstance(e.styles.default);this.styles=new fd(ot(ot({},T),e.styles))}else{const y=new yv;this.styles=new fd(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new pU((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:r={},children:o,properties:s}){this.documentWrapper.View.Body.addSection(go(ot({},s),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const c of o)this.documentWrapper.View.add(c)}createHeader(e){const r=new x4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addHeaderToDocument(r),r}createFooter(e){const r=new l4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=po.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=po.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}function hl(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pT={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return(function r(o,s,c){function d(m,y){if(!s[m]){if(!o[m]){var T=typeof hl=="function"&&hl;if(!y&&T)return T(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var E=s[m]={exports:{}};o[m][0].call(E.exports,function(M){var b=o[m][1][M];return d(b||M)},E,E.exports,r,o,s,c)}return s[m].exports}for(var h=typeof hl=="function"&&hl,p=0;p<c.length;p++)d(c[p]);return d})({1:[function(r,o,s){var c=r("./utils"),d=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(p){for(var m,y,T,S,E,M,b,I=[],A=0,D=p.length,O=D,J=c.getTypeOf(p)!=="string";A<p.length;)O=D-A,T=J?(m=p[A++],y=A<D?p[A++]:0,A<D?p[A++]:0):(m=p.charCodeAt(A++),y=A<D?p.charCodeAt(A++):0,A<D?p.charCodeAt(A++):0),S=m>>2,E=(3&m)<<4|y>>4,M=1<O?(15&y)<<2|T>>6:64,b=2<O?63&T:64,I.push(h.charAt(S)+h.charAt(E)+h.charAt(M)+h.charAt(b));return I.join("")},s.decode=function(p){var m,y,T,S,E,M,b=0,I=0,A="data:";if(p.substr(0,A.length)===A)throw new Error("Invalid base64 input, it looks like a data url.");var D,O=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&O--,p.charAt(p.length-2)===h.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=d.uint8array?new Uint8Array(0|O):new Array(0|O);b<p.length;)m=h.indexOf(p.charAt(b++))<<2|(S=h.indexOf(p.charAt(b++)))>>4,y=(15&S)<<4|(E=h.indexOf(p.charAt(b++)))>>2,T=(3&E)<<6|(M=h.indexOf(p.charAt(b++))),D[I++]=m,E!==64&&(D[I++]=y),M!==64&&(D[I++]=T);return D}},{"./support":30,"./utils":32}],2:[function(r,o,s){var c=r("./external"),d=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function m(y,T,S,E,M){this.compressedSize=y,this.uncompressedSize=T,this.crc32=S,this.compression=E,this.compressedContent=M}m.prototype={getContentWorker:function(){var y=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),T=this;return y.on("end",function(){if(this.streamInfo.data_length!==T.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,T,S){return y.pipe(new h).pipe(new p("uncompressedSize")).pipe(T.compressWorker(S)).pipe(new p("compressedSize")).withStreamInfo("compression",T)},o.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,s){var c=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,s){var c=r("./utils"),d=(function(){for(var h,p=[],m=0;m<256;m++){h=m;for(var y=0;y<8;y++)h=1&h?3988292384^h>>>1:h>>>1;p[m]=h}return p})();o.exports=function(h,p){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,y,T,S){var E=d,M=S+T;m^=-1;for(var b=S;b<M;b++)m=m>>>8^E[255&(m^y[b])];return-1^m})(0|p,h,h.length,0):(function(m,y,T,S){var E=d,M=S+T;m^=-1;for(var b=S;b<M;b++)m=m>>>8^E[255&(m^y.charCodeAt(b))];return-1^m})(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,o,s){var c=null;c=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:c}},{lie:37}],7:[function(r,o,s){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=r("pako"),h=r("./utils"),p=r("./stream/GenericWorker"),m=c?"uint8array":"array";function y(T,S){p.call(this,"FlateWorker/"+T),this._pako=null,this._pakoAction=T,this._pakoOptions=S,this.meta={}}s.magic="\b\0",h.inherits(y,p),y.prototype.processChunk=function(T){this.meta=T.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,T.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var T=this;this._pako.onData=function(S){T.push({data:S,meta:T.meta})}},s.compressWorker=function(T){return new y("Deflate",T)},s.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,s){function c(E,M){var b,I="";for(b=0;b<M;b++)I+=String.fromCharCode(255&E),E>>>=8;return I}function d(E,M,b,I,A,D){var O,J,K=E.file,ue=E.compression,oe=D!==m.utf8encode,he=h.transformTo("string",D(K.name)),G=h.transformTo("string",m.utf8encode(K.name)),Te=K.comment,be=h.transformTo("string",D(Te)),Z=h.transformTo("string",m.utf8encode(Te)),pe=G.length!==K.name.length,B=Z.length!==Te.length,de="",se="",re="",Ae=K.dir,ae=K.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};M&&!b||(Y.crc32=E.crc32,Y.compressedSize=E.compressedSize,Y.uncompressedSize=E.uncompressedSize);var W=0;M&&(W|=8),oe||!pe&&!B||(W|=2048);var L=0,X=0;Ae&&(L|=16),A==="UNIX"?(X=798,L|=(function(ee,V){var _=ee;return ee||(_=V?16893:33204),(65535&_)<<16})(K.unixPermissions,Ae)):(X=20,L|=(function(ee){return 63&(ee||0)})(K.dosPermissions)),O=ae.getUTCHours(),O<<=6,O|=ae.getUTCMinutes(),O<<=5,O|=ae.getUTCSeconds()/2,J=ae.getUTCFullYear()-1980,J<<=4,J|=ae.getUTCMonth()+1,J<<=5,J|=ae.getUTCDate(),pe&&(se=c(1,1)+c(y(he),4)+G,de+="up"+c(se.length,2)+se),B&&(re=c(1,1)+c(y(be),4)+Z,de+="uc"+c(re.length,2)+re);var j="";return j+=`
\0`,j+=c(W,2),j+=ue.magic,j+=c(O,2),j+=c(J,2),j+=c(Y.crc32,4),j+=c(Y.compressedSize,4),j+=c(Y.uncompressedSize,4),j+=c(he.length,2),j+=c(de.length,2),{fileRecord:T.LOCAL_FILE_HEADER+j+he+de,dirRecord:T.CENTRAL_FILE_HEADER+c(X,2)+j+c(be.length,2)+"\0\0\0\0"+c(L,4)+c(I,4)+he+de+be}}var h=r("../utils"),p=r("../stream/GenericWorker"),m=r("../utf8"),y=r("../crc32"),T=r("../signature");function S(E,M,b,I){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=b,this.encodeFileName=I,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,p),S.prototype.push=function(E){var M=E.meta.percent||0,b=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,p.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:b?(M+100*(b-I-1))/b:100}}))},S.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var M=this.streamFiles&&!E.file.dir;if(M){var b=d(E,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(E){this.accumulate=!1;var M=this.streamFiles&&!E.file.dir,b=d(E,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),M)this.push({data:(function(I){return T.DATA_DESCRIPTOR+c(I.crc32,4)+c(I.compressedSize,4)+c(I.uncompressedSize,4)})(E),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var E=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var b=this.bytesWritten-E,I=(function(A,D,O,J,K){var ue=h.transformTo("string",K(J));return T.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(A,2)+c(A,2)+c(D,4)+c(O,4)+c(ue.length,2)+ue})(this.dirRecords.length,b,E,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(E){this._sources.push(E);var M=this;return E.on("data",function(b){M.processChunk(b)}),E.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),E.on("error",function(b){M.error(b)}),this},S.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(E){var M=this._sources;if(!p.prototype.error.call(this,E))return!1;for(var b=0;b<M.length;b++)try{M[b].error(E)}catch{}return!0},S.prototype.lock=function(){p.prototype.lock.call(this);for(var E=this._sources,M=0;M<E.length;M++)E[M].lock()},o.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,s){var c=r("../compressions"),d=r("./ZipFileWorker");s.generateWorker=function(h,p,m){var y=new d(p.streamFiles,m,p.platform,p.encodeFileName),T=0;try{h.forEach(function(S,E){T++;var M=(function(D,O){var J=D||O,K=c[J];if(!K)throw new Error(J+" is not a valid compression method !");return K})(E.options.compression,p.compression),b=E.options.compressionOptions||p.compressionOptions||{},I=E.dir,A=E.date;E._compressWorker(M,b).withStreamInfo("file",{name:S,dir:I,date:A,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(y)}),y.entriesCount=T}catch(S){y.error(S)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,s){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=r("./object")).loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=r("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,s){var c=r("./utils"),d=r("./external"),h=r("./utf8"),p=r("./zipEntries"),m=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function T(S){return new d.Promise(function(E,M){var b=S.decompressed.getContentWorker().pipe(new m);b.on("error",function(I){M(I)}).on("end",function(){b.streamInfo.crc32!==S.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}o.exports=function(S,E){var M=this;return E=c.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),y.isNode&&y.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,E.optimizedBinaryString,E.base64).then(function(b){var I=new p(E);return I.load(b),I}).then(function(b){var I=[d.Promise.resolve(b)],A=b.files;if(E.checkCRC32)for(var D=0;D<A.length;D++)I.push(T(A[D]));return d.Promise.all(I)}).then(function(b){for(var I=b.shift(),A=I.files,D=0;D<A.length;D++){var O=A[D],J=O.fileNameStr,K=c.resolve(O.fileNameStr);M.file(K,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:E.createFolders}),O.dir||(M.file(K).unsafeOriginalName=J)}return I.zipComment.length&&(M.comment=I.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,s){var c=r("../utils"),d=r("../stream/GenericWorker");function h(p,m){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,d),h.prototype._bindStream=function(p){var m=this;(this._stream=p).pause(),p.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,s){var c=r("readable-stream").Readable;function d(h,p,m){c.call(this,p),this._helper=h;var y=this;h.on("data",function(T,S){y.push(T)||y._helper.pause(),m&&m(S)}).on("error",function(T){y.emit("error",T)}).on("end",function(){y.push(null)})}r("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(r,o,s){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,o,s){function c(K,ue,oe){var he,G=h.getTypeOf(ue),Te=h.extend(oe||{},y);Te.date=Te.date||new Date,Te.compression!==null&&(Te.compression=Te.compression.toUpperCase()),typeof Te.unixPermissions=="string"&&(Te.unixPermissions=parseInt(Te.unixPermissions,8)),Te.unixPermissions&&16384&Te.unixPermissions&&(Te.dir=!0),Te.dosPermissions&&16&Te.dosPermissions&&(Te.dir=!0),Te.dir&&(K=A(K)),Te.createFolders&&(he=I(K))&&D.call(this,he,!0);var be=G==="string"&&Te.binary===!1&&Te.base64===!1;oe&&oe.binary!==void 0||(Te.binary=!be),(ue instanceof T&&ue.uncompressedSize===0||Te.dir||!ue||ue.length===0)&&(Te.base64=!1,Te.binary=!0,ue="",Te.compression="STORE",G="string");var Z=null;Z=ue instanceof T||ue instanceof p?ue:M.isNode&&M.isStream(ue)?new b(K,ue):h.prepareContent(K,ue,Te.binary,Te.optimizedBinaryString,Te.base64);var pe=new S(K,Z,Te);this.files[K]=pe}var d=r("./utf8"),h=r("./utils"),p=r("./stream/GenericWorker"),m=r("./stream/StreamHelper"),y=r("./defaults"),T=r("./compressedObject"),S=r("./zipObject"),E=r("./generate"),M=r("./nodejsUtils"),b=r("./nodejs/NodejsStreamInputAdapter"),I=function(K){K.slice(-1)==="/"&&(K=K.substring(0,K.length-1));var ue=K.lastIndexOf("/");return 0<ue?K.substring(0,ue):""},A=function(K){return K.slice(-1)!=="/"&&(K+="/"),K},D=function(K,ue){return ue=ue!==void 0?ue:y.createFolders,K=A(K),this.files[K]||c.call(this,K,null,{dir:!0,createFolders:ue}),this.files[K]};function O(K){return Object.prototype.toString.call(K)==="[object RegExp]"}var J={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(K){var ue,oe,he;for(ue in this.files)he=this.files[ue],(oe=ue.slice(this.root.length,ue.length))&&ue.slice(0,this.root.length)===this.root&&K(oe,he)},filter:function(K){var ue=[];return this.forEach(function(oe,he){K(oe,he)&&ue.push(he)}),ue},file:function(K,ue,oe){if(arguments.length!==1)return K=this.root+K,c.call(this,K,ue,oe),this;if(O(K)){var he=K;return this.filter(function(Te,be){return!be.dir&&he.test(Te)})}var G=this.files[this.root+K];return G&&!G.dir?G:null},folder:function(K){if(!K)return this;if(O(K))return this.filter(function(G,Te){return Te.dir&&K.test(G)});var ue=this.root+K,oe=D.call(this,ue),he=this.clone();return he.root=oe.name,he},remove:function(K){K=this.root+K;var ue=this.files[K];if(ue||(K.slice(-1)!=="/"&&(K+="/"),ue=this.files[K]),ue&&!ue.dir)delete this.files[K];else for(var oe=this.filter(function(G,Te){return Te.name.slice(0,K.length)===K}),he=0;he<oe.length;he++)delete this.files[oe[he].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(K){var ue,oe={};try{if((oe=h.extend(K||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=oe.type.toLowerCase(),oe.compression=oe.compression.toUpperCase(),oe.type==="binarystring"&&(oe.type="string"),!oe.type)throw new Error("No output type specified.");h.checkSupport(oe.type),oe.platform!=="darwin"&&oe.platform!=="freebsd"&&oe.platform!=="linux"&&oe.platform!=="sunos"||(oe.platform="UNIX"),oe.platform==="win32"&&(oe.platform="DOS");var he=oe.comment||this.comment||"";ue=E.generateWorker(this,oe,he)}catch(G){(ue=new p("error")).error(G)}return new m(ue,oe.type||"string",oe.mimeType)},generateAsync:function(K,ue){return this.generateInternalStream(K).accumulate(ue)},generateNodeStream:function(K,ue){return(K=K||{}).type||(K.type="nodebuffer"),this.generateInternalStream(K).toNodejsStream(ue)}};o.exports=J},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,s){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,s){var c=r("./DataReader");function d(h){c.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),T=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===p&&this.data[S+1]===m&&this.data[S+2]===y&&this.data[S+3]===T)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),T=h.charCodeAt(3),S=this.readData(4);return p===S[0]&&m===S[1]&&y===S[2]&&T===S[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(r,o,s){var c=r("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,m=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)m=(m<<8)+this.byteAt(p);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(r,o,s){var c=r("./Uint8ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,s){var c=r("./DataReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(r,o,s){var c=r("./ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,s){var c=r("../utils"),d=r("../support"),h=r("./ArrayReader"),p=r("./StringReader"),m=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(T){var S=c.getTypeOf(T);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(T):d.uint8array?new y(c.transformTo("uint8array",T)):new h(c.transformTo("array",T)):new p(T)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,s){var c=r("./GenericWorker"),d=r("../utils");function h(p){c.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,s){var c=r("./GenericWorker"),d=r("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,c),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,s){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(h,d),h.prototype.processChunk=function(p){if(p){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,s){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=c.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,m);break;case"uint8array":p=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":p=this.data.slice(this.index,m)}return this.index=m,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,s){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(r,o,s){var c=r("../utils"),d=r("./ConvertWorker"),h=r("./GenericWorker"),p=r("../base64"),m=r("../support"),y=r("../external"),T=null;if(m.nodestream)try{T=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(M,b){return new y.Promise(function(I,A){var D=[],O=M._internalType,J=M._outputType,K=M._mimeType;M.on("data",function(ue,oe){D.push(ue),b&&b(oe)}).on("error",function(ue){D=[],A(ue)}).on("end",function(){try{var ue=(function(oe,he,G){switch(oe){case"blob":return c.newBlob(c.transformTo("arraybuffer",he),G);case"base64":return p.encode(he);default:return c.transformTo(oe,he)}})(J,(function(oe,he){var G,Te=0,be=null,Z=0;for(G=0;G<he.length;G++)Z+=he[G].length;switch(oe){case"string":return he.join("");case"array":return Array.prototype.concat.apply([],he);case"uint8array":for(be=new Uint8Array(Z),G=0;G<he.length;G++)be.set(he[G],Te),Te+=he[G].length;return be;case"nodebuffer":return Buffer.concat(he);default:throw new Error("concat : unsupported type '"+oe+"'")}})(O,D),K);I(ue)}catch(oe){A(oe)}D=[]}).resume()})}function E(M,b,I){var A=b;switch(b){case"blob":case"arraybuffer":A="uint8array";break;case"base64":A="string"}try{this._internalType=A,this._outputType=b,this._mimeType=I,c.checkSupport(A),this._worker=M.pipe(new d(A)),M.lock()}catch(D){this._worker=new h("error"),this._worker.error(D)}}E.prototype={accumulate:function(M){return S(this,M)},on:function(M,b){var I=this;return M==="data"?this._worker.on(M,function(A){b.call(I,A.data,A.meta)}):this._worker.on(M,function(){c.delay(b,arguments,I)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(M){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:this._outputType!=="nodebuffer"},M)}},o.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var c=new ArrayBuffer(0);try{s.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),s.blob=d.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,s){for(var c=r("./utils"),d=r("./support"),h=r("./nodejsUtils"),p=r("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function T(){p.call(this,"utf-8 decode"),this.leftOver=null}function S(){p.call(this,"utf-8 encode")}s.utf8encode=function(E){return d.nodebuffer?h.newBufferFrom(E,"utf-8"):(function(M){var b,I,A,D,O,J=M.length,K=0;for(D=0;D<J;D++)(64512&(I=M.charCodeAt(D)))==55296&&D+1<J&&(64512&(A=M.charCodeAt(D+1)))==56320&&(I=65536+(I-55296<<10)+(A-56320),D++),K+=I<128?1:I<2048?2:I<65536?3:4;for(b=d.uint8array?new Uint8Array(K):new Array(K),D=O=0;O<K;D++)(64512&(I=M.charCodeAt(D)))==55296&&D+1<J&&(64512&(A=M.charCodeAt(D+1)))==56320&&(I=65536+(I-55296<<10)+(A-56320),D++),I<128?b[O++]=I:(I<2048?b[O++]=192|I>>>6:(I<65536?b[O++]=224|I>>>12:(b[O++]=240|I>>>18,b[O++]=128|I>>>12&63),b[O++]=128|I>>>6&63),b[O++]=128|63&I);return b})(E)},s.utf8decode=function(E){return d.nodebuffer?c.transformTo("nodebuffer",E).toString("utf-8"):(function(M){var b,I,A,D,O=M.length,J=new Array(2*O);for(b=I=0;b<O;)if((A=M[b++])<128)J[I++]=A;else if(4<(D=m[A]))J[I++]=65533,b+=D-1;else{for(A&=D===2?31:D===3?15:7;1<D&&b<O;)A=A<<6|63&M[b++],D--;1<D?J[I++]=65533:A<65536?J[I++]=A:(A-=65536,J[I++]=55296|A>>10&1023,J[I++]=56320|1023&A)}return J.length!==I&&(J.subarray?J=J.subarray(0,I):J.length=I),c.applyFromCharCode(J)})(E=c.transformTo(d.uint8array?"uint8array":"array",E))},c.inherits(T,p),T.prototype.processChunk=function(E){var M=c.transformTo(d.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var b=M;(M=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),M.set(b,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var I=(function(D,O){var J;for((O=O||D.length)>D.length&&(O=D.length),J=O-1;0<=J&&(192&D[J])==128;)J--;return J<0||J===0?O:J+m[D[J]]>O?J:O})(M),A=M;I!==M.length&&(d.uint8array?(A=M.subarray(0,I),this.leftOver=M.subarray(I,M.length)):(A=M.slice(0,I),this.leftOver=M.slice(I,M.length))),this.push({data:s.utf8decode(A),meta:E.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=T,c.inherits(S,p),S.prototype.processChunk=function(E){this.push({data:s.utf8encode(E.data),meta:E.meta})},s.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,s){var c=r("./support"),d=r("./base64"),h=r("./nodejsUtils"),p=r("./external");function m(b){return b}function y(b,I){for(var A=0;A<b.length;++A)I[A]=255&b.charCodeAt(A);return I}r("setimmediate"),s.newBlob=function(b,I){s.checkSupport("blob");try{return new Blob([b],{type:I})}catch{try{var A=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return A.append(b),A.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(b,I,A){var D=[],O=0,J=b.length;if(J<=A)return String.fromCharCode.apply(null,b);for(;O<J;)I==="array"||I==="nodebuffer"?D.push(String.fromCharCode.apply(null,b.slice(O,Math.min(O+A,J)))):D.push(String.fromCharCode.apply(null,b.subarray(O,Math.min(O+A,J)))),O+=A;return D.join("")},stringifyByChar:function(b){for(var I="",A=0;A<b.length;A++)I+=String.fromCharCode(b[A]);return I},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(b){var I=65536,A=s.getTypeOf(b),D=!0;if(A==="uint8array"?D=T.applyCanBeUsed.uint8array:A==="nodebuffer"&&(D=T.applyCanBeUsed.nodebuffer),D)for(;1<I;)try{return T.stringifyByChunk(b,A,I)}catch{I=Math.floor(I/2)}return T.stringifyByChar(b)}function E(b,I){for(var A=0;A<b.length;A++)I[A]=b[A];return I}s.applyFromCharCode=S;var M={};M.string={string:m,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return M.string.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:function(b){return y(b,h.allocBuffer(b.length))}},M.array={string:S,array:m,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return h.newBufferFrom(b)}},M.arraybuffer={string:function(b){return S(new Uint8Array(b))},array:function(b){return E(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:m,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return h.newBufferFrom(new Uint8Array(b))}},M.uint8array={string:S,array:function(b){return E(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:m,nodebuffer:function(b){return h.newBufferFrom(b)}},M.nodebuffer={string:S,array:function(b){return E(b,new Array(b.length))},arraybuffer:function(b){return M.nodebuffer.uint8array(b).buffer},uint8array:function(b){return E(b,new Uint8Array(b.length))},nodebuffer:m},s.transformTo=function(b,I){if(I=I||"",!b)return I;s.checkSupport(b);var A=s.getTypeOf(I);return M[A][b](I)},s.resolve=function(b){for(var I=b.split("/"),A=[],D=0;D<I.length;D++){var O=I[D];O==="."||O===""&&D!==0&&D!==I.length-1||(O===".."?A.pop():A.push(O))}return A.join("/")},s.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(b)?"nodebuffer":c.uint8array&&b instanceof Uint8Array?"uint8array":c.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(b){if(!c[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(b){var I,A,D="";for(A=0;A<(b||"").length;A++)D+="\\x"+((I=b.charCodeAt(A))<16?"0":"")+I.toString(16).toUpperCase();return D},s.delay=function(b,I,A){setImmediate(function(){b.apply(A||null,I||[])})},s.inherits=function(b,I){function A(){}A.prototype=I.prototype,b.prototype=new A},s.extend=function(){var b,I,A={};for(b=0;b<arguments.length;b++)for(I in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],I)&&A[I]===void 0&&(A[I]=arguments[b][I]);return A},s.prepareContent=function(b,I,A,D,O){return p.Promise.resolve(I).then(function(J){return c.blob&&(J instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(J))!==-1)&&typeof FileReader<"u"?new p.Promise(function(K,ue){var oe=new FileReader;oe.onload=function(he){K(he.target.result)},oe.onerror=function(he){ue(he.target.error)},oe.readAsArrayBuffer(J)}):J}).then(function(J){var K=s.getTypeOf(J);return K?(K==="arraybuffer"?J=s.transformTo("uint8array",J):K==="string"&&(O?J=d.decode(J):A&&D!==!0&&(J=(function(ue){return y(ue,c.uint8array?new Uint8Array(ue.length):new Array(ue.length))})(J))),J):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,s){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./signature"),p=r("./zipEntry"),m=r("./support");function y(T){this.files=[],this.loadOptions=T}y.prototype={checkSignature:function(T){if(!this.reader.readAndCheckSignature(T)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(T)+")")}},isSignature:function(T,S){var E=this.reader.index;this.reader.setIndex(T);var M=this.reader.readString(4)===S;return this.reader.setIndex(E),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var T=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",E=d.transformTo(S,T);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var T,S,E,M=this.zip64EndOfCentralSize-44;0<M;)T=this.reader.readInt(2),S=this.reader.readInt(4),E=this.reader.readData(S),this.zip64ExtensibleData[T]={id:T,length:S,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var T,S;for(T=0;T<this.files.length;T++)S=this.files[T],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var T;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(T=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(T);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var T=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(T<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(T);var S=T;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(T=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(T),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var M=S-E;if(0<M)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(T){this.reader=c(T)},load:function(T){this.prepareReader(T),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,s){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./compressedObject"),p=r("./crc32"),m=r("./utf8"),y=r("./compressions"),T=r("./support");function S(E,M){this.options=E,this.loadOptions=M}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var M,b;if(E.skip(22),this.fileNameLength=E.readInt(2),b=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((M=(function(I){for(var A in y)if(Object.prototype.hasOwnProperty.call(y,A)&&y[A].magic===I)return y[A];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,M,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var M=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(M),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var M,b,I,A=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<A;)M=E.readInt(2),b=E.readInt(2),I=E.readData(b),this.extraFields[M]={id:M,length:b,value:I};E.setIndex(A)},handleUTF8:function(){var E=T.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(M!==null)this.fileNameStr=M;else{var b=d.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var A=d.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(A)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var M=c(E.value);return M.readInt(1)!==1||p(this.fileName)!==M.readInt(4)?null:m.utf8decode(M.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var M=c(E.value);return M.readInt(1)!==1||p(this.fileComment)!==M.readInt(4)?null:m.utf8decode(M.readData(E.length-5))}return null}},o.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,s){function c(M,b,I){this.name=M,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=b,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var d=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),p=r("./utf8"),m=r("./compressedObject"),y=r("./stream/GenericWorker");c.prototype={internalStream:function(M){var b=null,I="string";try{if(!M)throw new Error("No output type specified.");var A=(I=M.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),b=this._decompressWorker();var D=!this._dataBinary;D&&!A&&(b=b.pipe(new p.Utf8EncodeWorker)),!D&&A&&(b=b.pipe(new p.Utf8DecodeWorker))}catch(O){(b=new y("error")).error(O)}return new d(b,I,"")},async:function(M,b){return this.internalStream(M).accumulate(b)},nodeStream:function(M,b){return this.internalStream(M||"nodebuffer").toNodejsStream(b)},_compressWorker:function(M,b){if(this._data instanceof m&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new p.Utf8EncodeWorker)),m.createWorkerFrom(I,M,b)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new h(this._data)}};for(var T=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<T.length;E++)c.prototype[T[E]]=S;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,s){(function(c){var d,h,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var m=0,y=new p(M),T=c.document.createTextNode("");y.observe(T,{characterData:!0}),d=function(){T.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var b=c.document.createElement("script");b.onreadystatechange=function(){M(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},c.document.documentElement.appendChild(b)}:function(){setTimeout(M,0)};else{var S=new c.MessageChannel;S.port1.onmessage=M,d=function(){S.port2.postMessage(0)}}var E=[];function M(){var b,I;h=!0;for(var A=E.length;A;){for(I=E,E=[],b=-1;++b<A;)I[b]();A=E.length}h=!1}o.exports=function(b){E.push(b)!==1||h||d()}}).call(this,typeof $n<"u"?$n:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,s){var c=r("immediate");function d(){}var h={},p=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function T(A){if(typeof A!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,A!==d&&b(this,A)}function S(A,D,O){this.promise=A,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function E(A,D,O){c(function(){var J;try{J=D(O)}catch(K){return h.reject(A,K)}J===A?h.reject(A,new TypeError("Cannot resolve promise with itself")):h.resolve(A,J)})}function M(A){var D=A&&A.then;if(A&&(typeof A=="object"||typeof A=="function")&&typeof D=="function")return function(){D.apply(A,arguments)}}function b(A,D){var O=!1;function J(oe){O||(O=!0,h.reject(A,oe))}function K(oe){O||(O=!0,h.resolve(A,oe))}var ue=I(function(){D(K,J)});ue.status==="error"&&J(ue.value)}function I(A,D){var O={};try{O.value=A(D),O.status="success"}catch(J){O.status="error",O.value=J}return O}(o.exports=T).prototype.finally=function(A){if(typeof A!="function")return this;var D=this.constructor;return this.then(function(O){return D.resolve(A()).then(function(){return O})},function(O){return D.resolve(A()).then(function(){throw O})})},T.prototype.catch=function(A){return this.then(null,A)},T.prototype.then=function(A,D){if(typeof A!="function"&&this.state===m||typeof D!="function"&&this.state===p)return this;var O=new this.constructor(d);return this.state!==y?E(O,this.state===m?A:D,this.outcome):this.queue.push(new S(O,A,D)),O},S.prototype.callFulfilled=function(A){h.resolve(this.promise,A)},S.prototype.otherCallFulfilled=function(A){E(this.promise,this.onFulfilled,A)},S.prototype.callRejected=function(A){h.reject(this.promise,A)},S.prototype.otherCallRejected=function(A){E(this.promise,this.onRejected,A)},h.resolve=function(A,D){var O=I(M,D);if(O.status==="error")return h.reject(A,O.value);var J=O.value;if(J)b(A,J);else{A.state=m,A.outcome=D;for(var K=-1,ue=A.queue.length;++K<ue;)A.queue[K].callFulfilled(D)}return A},h.reject=function(A,D){A.state=p,A.outcome=D;for(var O=-1,J=A.queue.length;++O<J;)A.queue[O].callRejected(D);return A},T.resolve=function(A){return A instanceof this?A:h.resolve(new this(d),A)},T.reject=function(A){var D=new this(d);return h.reject(D,A)},T.all=function(A){var D=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=A.length,J=!1;if(!O)return this.resolve([]);for(var K=new Array(O),ue=0,oe=-1,he=new this(d);++oe<O;)G(A[oe],oe);return he;function G(Te,be){D.resolve(Te).then(function(Z){K[be]=Z,++ue!==O||J||(J=!0,h.resolve(he,K))},function(Z){J||(J=!0,h.reject(he,Z))})}},T.race=function(A){var D=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=A.length,J=!1;if(!O)return this.resolve([]);for(var K=-1,ue=new this(d);++K<O;)oe=A[K],D.resolve(oe).then(function(he){J||(J=!0,h.resolve(ue,he))},function(he){J||(J=!0,h.reject(ue,he))});var oe;return ue}},{immediate:36}],38:[function(r,o,s){var c={};(0,r("./lib/utils/common").assign)(c,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,s){var c=r("./zlib/deflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/messages"),m=r("./zlib/zstream"),y=Object.prototype.toString,T=0,S=-1,E=0,M=8;function b(A){if(!(this instanceof b))return new b(A);this.options=d.assign({level:S,method:M,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},A||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var O=c.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(O!==T)throw new Error(p[O]);if(D.header&&c.deflateSetHeader(this.strm,D.header),D.dictionary){var J;if(J=typeof D.dictionary=="string"?h.string2buf(D.dictionary):y.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(O=c.deflateSetDictionary(this.strm,J))!==T)throw new Error(p[O]);this._dict_set=!0}}function I(A,D){var O=new b(D);if(O.push(A,!0),O.err)throw O.msg||p[O.err];return O.result}b.prototype.push=function(A,D){var O,J,K=this.strm,ue=this.options.chunkSize;if(this.ended)return!1;J=D===~~D?D:D===!0?4:0,typeof A=="string"?K.input=h.string2buf(A):y.call(A)==="[object ArrayBuffer]"?K.input=new Uint8Array(A):K.input=A,K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0&&(K.output=new d.Buf8(ue),K.next_out=0,K.avail_out=ue),(O=c.deflate(K,J))!==1&&O!==T)return this.onEnd(O),!(this.ended=!0);K.avail_out!==0&&(K.avail_in!==0||J!==4&&J!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(K.output,K.next_out))):this.onData(d.shrinkBuf(K.output,K.next_out)))}while((0<K.avail_in||K.avail_out===0)&&O!==1);return J===4?(O=c.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===T):J!==2||(this.onEnd(T),!(K.avail_out=0))},b.prototype.onData=function(A){this.chunks.push(A)},b.prototype.onEnd=function(A){A===T&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},s.Deflate=b,s.deflate=I,s.deflateRaw=function(A,D){return(D=D||{}).raw=!0,I(A,D)},s.gzip=function(A,D){return(D=D||{}).gzip=!0,I(A,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,s){var c=r("./zlib/inflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/constants"),m=r("./zlib/messages"),y=r("./zlib/zstream"),T=r("./zlib/gzheader"),S=Object.prototype.toString;function E(b){if(!(this instanceof E))return new E(b);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},b||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||b&&b.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var A=c.inflateInit2(this.strm,I.windowBits);if(A!==p.Z_OK)throw new Error(m[A]);this.header=new T,c.inflateGetHeader(this.strm,this.header)}function M(b,I){var A=new E(I);if(A.push(b,!0),A.err)throw A.msg||m[A.err];return A.result}E.prototype.push=function(b,I){var A,D,O,J,K,ue,oe=this.strm,he=this.options.chunkSize,G=this.options.dictionary,Te=!1;if(this.ended)return!1;D=I===~~I?I:I===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?oe.input=h.binstring2buf(b):S.call(b)==="[object ArrayBuffer]"?oe.input=new Uint8Array(b):oe.input=b,oe.next_in=0,oe.avail_in=oe.input.length;do{if(oe.avail_out===0&&(oe.output=new d.Buf8(he),oe.next_out=0,oe.avail_out=he),(A=c.inflate(oe,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&G&&(ue=typeof G=="string"?h.string2buf(G):S.call(G)==="[object ArrayBuffer]"?new Uint8Array(G):G,A=c.inflateSetDictionary(this.strm,ue)),A===p.Z_BUF_ERROR&&Te===!0&&(A=p.Z_OK,Te=!1),A!==p.Z_STREAM_END&&A!==p.Z_OK)return this.onEnd(A),!(this.ended=!0);oe.next_out&&(oe.avail_out!==0&&A!==p.Z_STREAM_END&&(oe.avail_in!==0||D!==p.Z_FINISH&&D!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=h.utf8border(oe.output,oe.next_out),J=oe.next_out-O,K=h.buf2string(oe.output,O),oe.next_out=J,oe.avail_out=he-J,J&&d.arraySet(oe.output,oe.output,O,J,0),this.onData(K)):this.onData(d.shrinkBuf(oe.output,oe.next_out)))),oe.avail_in===0&&oe.avail_out===0&&(Te=!0)}while((0<oe.avail_in||oe.avail_out===0)&&A!==p.Z_STREAM_END);return A===p.Z_STREAM_END&&(D=p.Z_FINISH),D===p.Z_FINISH?(A=c.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===p.Z_OK):D!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(oe.avail_out=0))},E.prototype.onData=function(b){this.chunks.push(b)},E.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Inflate=E,s.inflate=M,s.inflateRaw=function(b,I){return(I=I||{}).raw=!0,M(b,I)},s.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,s){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var T in y)y.hasOwnProperty(T)&&(p[T]=y[T])}}return p},s.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var d={arraySet:function(p,m,y,T,S){if(m.subarray&&p.subarray)p.set(m.subarray(y,y+T),S);else for(var E=0;E<T;E++)p[S+E]=m[y+E]},flattenChunks:function(p){var m,y,T,S,E,M;for(m=T=0,y=p.length;m<y;m++)T+=p[m].length;for(M=new Uint8Array(T),m=S=0,y=p.length;m<y;m++)E=p[m],M.set(E,S),S+=E.length;return M}},h={arraySet:function(p,m,y,T,S){for(var E=0;E<T;E++)p[S+E]=m[y+E]},flattenChunks:function(p){return[].concat.apply([],p)}};s.setTyped=function(p){p?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,d)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,h))},s.setTyped(c)},{}],42:[function(r,o,s){var c=r("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new c.Buf8(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(T,S){if(S<65537&&(T.subarray&&h||!T.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(T,S));for(var E="",M=0;M<S;M++)E+=String.fromCharCode(T[M]);return E}p[254]=p[254]=1,s.string2buf=function(T){var S,E,M,b,I,A=T.length,D=0;for(b=0;b<A;b++)(64512&(E=T.charCodeAt(b)))==55296&&b+1<A&&(64512&(M=T.charCodeAt(b+1)))==56320&&(E=65536+(E-55296<<10)+(M-56320),b++),D+=E<128?1:E<2048?2:E<65536?3:4;for(S=new c.Buf8(D),b=I=0;I<D;b++)(64512&(E=T.charCodeAt(b)))==55296&&b+1<A&&(64512&(M=T.charCodeAt(b+1)))==56320&&(E=65536+(E-55296<<10)+(M-56320),b++),E<128?S[I++]=E:(E<2048?S[I++]=192|E>>>6:(E<65536?S[I++]=224|E>>>12:(S[I++]=240|E>>>18,S[I++]=128|E>>>12&63),S[I++]=128|E>>>6&63),S[I++]=128|63&E);return S},s.buf2binstring=function(T){return y(T,T.length)},s.binstring2buf=function(T){for(var S=new c.Buf8(T.length),E=0,M=S.length;E<M;E++)S[E]=T.charCodeAt(E);return S},s.buf2string=function(T,S){var E,M,b,I,A=S||T.length,D=new Array(2*A);for(E=M=0;E<A;)if((b=T[E++])<128)D[M++]=b;else if(4<(I=p[b]))D[M++]=65533,E+=I-1;else{for(b&=I===2?31:I===3?15:7;1<I&&E<A;)b=b<<6|63&T[E++],I--;1<I?D[M++]=65533:b<65536?D[M++]=b:(b-=65536,D[M++]=55296|b>>10&1023,D[M++]=56320|1023&b)}return y(D,M)},s.utf8border=function(T,S){var E;for((S=S||T.length)>T.length&&(S=T.length),E=S-1;0<=E&&(192&T[E])==128;)E--;return E<0||E===0?S:E+p[T[E]]>S?E:S}},{"./common":41}],43:[function(r,o,s){o.exports=function(c,d,h,p){for(var m=65535&c|0,y=c>>>16&65535|0,T=0;h!==0;){for(h-=T=2e3<h?2e3:h;y=y+(m=m+d[p++]|0)|0,--T;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(r,o,s){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,s){var c=(function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h})();o.exports=function(d,h,p,m){var y=c,T=m+p;d^=-1;for(var S=m;S<T;S++)d=d>>>8^y[255&(d^h[S])];return-1^d}},{}],46:[function(r,o,s){var c,d=r("../utils/common"),h=r("./trees"),p=r("./adler32"),m=r("./crc32"),y=r("./messages"),T=0,S=4,E=0,M=-2,b=-1,I=4,A=2,D=8,O=9,J=286,K=30,ue=19,oe=2*J+1,he=15,G=3,Te=258,be=Te+G+1,Z=42,pe=113,B=1,de=2,se=3,re=4;function Ae(R,le){return R.msg=y[le],le}function ae(R){return(R<<1)-(4<R?9:0)}function Y(R){for(var le=R.length;0<=--le;)R[le]=0}function W(R){var le=R.state,k=le.pending;k>R.avail_out&&(k=R.avail_out),k!==0&&(d.arraySet(R.output,le.pending_buf,le.pending_out,k,R.next_out),R.next_out+=k,le.pending_out+=k,R.total_out+=k,R.avail_out-=k,le.pending-=k,le.pending===0&&(le.pending_out=0))}function L(R,le){h._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,le),R.block_start=R.strstart,W(R.strm)}function X(R,le){R.pending_buf[R.pending++]=le}function j(R,le){R.pending_buf[R.pending++]=le>>>8&255,R.pending_buf[R.pending++]=255&le}function ee(R,le){var k,v,x=R.max_chain_length,N=R.strstart,Q=R.prev_length,ie=R.nice_match,te=R.strstart>R.w_size-be?R.strstart-(R.w_size-be):0,_e=R.window,De=R.w_mask,Ne=R.prev,ke=R.strstart+Te,Le=_e[N+Q-1],Fe=_e[N+Q];R.prev_length>=R.good_match&&(x>>=2),ie>R.lookahead&&(ie=R.lookahead);do if(_e[(k=le)+Q]===Fe&&_e[k+Q-1]===Le&&_e[k]===_e[N]&&_e[++k]===_e[N+1]){N+=2,k++;do;while(_e[++N]===_e[++k]&&_e[++N]===_e[++k]&&_e[++N]===_e[++k]&&_e[++N]===_e[++k]&&_e[++N]===_e[++k]&&_e[++N]===_e[++k]&&_e[++N]===_e[++k]&&_e[++N]===_e[++k]&&N<ke);if(v=Te-(ke-N),N=ke-Te,Q<v){if(R.match_start=le,ie<=(Q=v))break;Le=_e[N+Q-1],Fe=_e[N+Q]}}while((le=Ne[le&De])>te&&--x!=0);return Q<=R.lookahead?Q:R.lookahead}function V(R){var le,k,v,x,N,Q,ie,te,_e,De,Ne=R.w_size;do{if(x=R.window_size-R.lookahead-R.strstart,R.strstart>=Ne+(Ne-be)){for(d.arraySet(R.window,R.window,Ne,Ne,0),R.match_start-=Ne,R.strstart-=Ne,R.block_start-=Ne,le=k=R.hash_size;v=R.head[--le],R.head[le]=Ne<=v?v-Ne:0,--k;);for(le=k=Ne;v=R.prev[--le],R.prev[le]=Ne<=v?v-Ne:0,--k;);x+=Ne}if(R.strm.avail_in===0)break;if(Q=R.strm,ie=R.window,te=R.strstart+R.lookahead,_e=x,De=void 0,De=Q.avail_in,_e<De&&(De=_e),k=De===0?0:(Q.avail_in-=De,d.arraySet(ie,Q.input,Q.next_in,De,te),Q.state.wrap===1?Q.adler=p(Q.adler,ie,De,te):Q.state.wrap===2&&(Q.adler=m(Q.adler,ie,De,te)),Q.next_in+=De,Q.total_in+=De,De),R.lookahead+=k,R.lookahead+R.insert>=G)for(N=R.strstart-R.insert,R.ins_h=R.window[N],R.ins_h=(R.ins_h<<R.hash_shift^R.window[N+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[N+G-1])&R.hash_mask,R.prev[N&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=N,N++,R.insert--,!(R.lookahead+R.insert<G)););}while(R.lookahead<be&&R.strm.avail_in!==0)}function _(R,le){for(var k,v;;){if(R.lookahead<be){if(V(R),R.lookahead<be&&le===T)return B;if(R.lookahead===0)break}if(k=0,R.lookahead>=G&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+G-1])&R.hash_mask,k=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),k!==0&&R.strstart-k<=R.w_size-be&&(R.match_length=ee(R,k)),R.match_length>=G)if(v=h._tr_tally(R,R.strstart-R.match_start,R.match_length-G),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=G){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+G-1])&R.hash_mask,k=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else v=h._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(v&&(L(R,!1),R.strm.avail_out===0))return B}return R.insert=R.strstart<G-1?R.strstart:G-1,le===S?(L(R,!0),R.strm.avail_out===0?se:re):R.last_lit&&(L(R,!1),R.strm.avail_out===0)?B:de}function C(R,le){for(var k,v,x;;){if(R.lookahead<be){if(V(R),R.lookahead<be&&le===T)return B;if(R.lookahead===0)break}if(k=0,R.lookahead>=G&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+G-1])&R.hash_mask,k=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=G-1,k!==0&&R.prev_length<R.max_lazy_match&&R.strstart-k<=R.w_size-be&&(R.match_length=ee(R,k),R.match_length<=5&&(R.strategy===1||R.match_length===G&&4096<R.strstart-R.match_start)&&(R.match_length=G-1)),R.prev_length>=G&&R.match_length<=R.prev_length){for(x=R.strstart+R.lookahead-G,v=h._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-G),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=x&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+G-1])&R.hash_mask,k=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=G-1,R.strstart++,v&&(L(R,!1),R.strm.avail_out===0))return B}else if(R.match_available){if((v=h._tr_tally(R,0,R.window[R.strstart-1]))&&L(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return B}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(v=h._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<G-1?R.strstart:G-1,le===S?(L(R,!0),R.strm.avail_out===0?se:re):R.last_lit&&(L(R,!1),R.strm.avail_out===0)?B:de}function $(R,le,k,v,x){this.good_length=R,this.max_lazy=le,this.nice_length=k,this.max_chain=v,this.func=x}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*oe),this.dyn_dtree=new d.Buf16(2*(2*K+1)),this.bl_tree=new d.Buf16(2*(2*ue+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(he+1),this.heap=new d.Buf16(2*J+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*J+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(R){var le;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=A,(le=R.state).pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?Z:pe,R.adler=le.wrap===2?0:1,le.last_flush=T,h._tr_init(le),E):Ae(R,M)}function H(R){var le=F(R);return le===E&&(function(k){k.window_size=2*k.w_size,Y(k.head),k.max_lazy_match=c[k.level].max_lazy,k.good_match=c[k.level].good_length,k.nice_match=c[k.level].nice_length,k.max_chain_length=c[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=G-1,k.match_available=0,k.ins_h=0})(R.state),le}function fe(R,le,k,v,x,N){if(!R)return M;var Q=1;if(le===b&&(le=6),v<0?(Q=0,v=-v):15<v&&(Q=2,v-=16),x<1||O<x||k!==D||v<8||15<v||le<0||9<le||N<0||I<N)return Ae(R,M);v===8&&(v=9);var ie=new z;return(R.state=ie).strm=R,ie.wrap=Q,ie.gzhead=null,ie.w_bits=v,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=x+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+G-1)/G),ie.window=new d.Buf8(2*ie.w_size),ie.head=new d.Buf16(ie.hash_size),ie.prev=new d.Buf16(ie.w_size),ie.lit_bufsize=1<<x+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new d.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=le,ie.strategy=N,ie.method=k,H(R)}c=[new $(0,0,0,0,function(R,le){var k=65535;for(k>R.pending_buf_size-5&&(k=R.pending_buf_size-5);;){if(R.lookahead<=1){if(V(R),R.lookahead===0&&le===T)return B;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var v=R.block_start+k;if((R.strstart===0||R.strstart>=v)&&(R.lookahead=R.strstart-v,R.strstart=v,L(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-be&&(L(R,!1),R.strm.avail_out===0))return B}return R.insert=0,le===S?(L(R,!0),R.strm.avail_out===0?se:re):(R.strstart>R.block_start&&(L(R,!1),R.strm.avail_out),B)}),new $(4,4,8,4,_),new $(4,5,16,8,_),new $(4,6,32,32,_),new $(4,4,16,16,C),new $(8,16,32,32,C),new $(8,16,128,128,C),new $(8,32,128,256,C),new $(32,128,258,1024,C),new $(32,258,258,4096,C)],s.deflateInit=function(R,le){return fe(R,le,D,15,8,0)},s.deflateInit2=fe,s.deflateReset=H,s.deflateResetKeep=F,s.deflateSetHeader=function(R,le){return R&&R.state?R.state.wrap!==2?M:(R.state.gzhead=le,E):M},s.deflate=function(R,le){var k,v,x,N;if(!R||!R.state||5<le||le<0)return R?Ae(R,M):M;if(v=R.state,!R.output||!R.input&&R.avail_in!==0||v.status===666&&le!==S)return Ae(R,R.avail_out===0?-5:M);if(v.strm=R,k=v.last_flush,v.last_flush=le,v.status===Z)if(v.wrap===2)R.adler=0,X(v,31),X(v,139),X(v,8),v.gzhead?(X(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),X(v,255&v.gzhead.time),X(v,v.gzhead.time>>8&255),X(v,v.gzhead.time>>16&255),X(v,v.gzhead.time>>24&255),X(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),X(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(X(v,255&v.gzhead.extra.length),X(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(R.adler=m(R.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(X(v,0),X(v,0),X(v,0),X(v,0),X(v,0),X(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),X(v,3),v.status=pe);else{var Q=D+(v.w_bits-8<<4)<<8;Q|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(Q|=32),Q+=31-Q%31,v.status=pe,j(v,Q),v.strstart!==0&&(j(v,R.adler>>>16),j(v,65535&R.adler)),R.adler=1}if(v.status===69)if(v.gzhead.extra){for(x=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>x&&(R.adler=m(R.adler,v.pending_buf,v.pending-x,x)),W(R),x=v.pending,v.pending!==v.pending_buf_size));)X(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>x&&(R.adler=m(R.adler,v.pending_buf,v.pending-x,x)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){x=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>x&&(R.adler=m(R.adler,v.pending_buf,v.pending-x,x)),W(R),x=v.pending,v.pending===v.pending_buf_size)){N=1;break}N=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,X(v,N)}while(N!==0);v.gzhead.hcrc&&v.pending>x&&(R.adler=m(R.adler,v.pending_buf,v.pending-x,x)),N===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){x=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>x&&(R.adler=m(R.adler,v.pending_buf,v.pending-x,x)),W(R),x=v.pending,v.pending===v.pending_buf_size)){N=1;break}N=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,X(v,N)}while(N!==0);v.gzhead.hcrc&&v.pending>x&&(R.adler=m(R.adler,v.pending_buf,v.pending-x,x)),N===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&W(R),v.pending+2<=v.pending_buf_size&&(X(v,255&R.adler),X(v,R.adler>>8&255),R.adler=0,v.status=pe)):v.status=pe),v.pending!==0){if(W(R),R.avail_out===0)return v.last_flush=-1,E}else if(R.avail_in===0&&ae(le)<=ae(k)&&le!==S)return Ae(R,-5);if(v.status===666&&R.avail_in!==0)return Ae(R,-5);if(R.avail_in!==0||v.lookahead!==0||le!==T&&v.status!==666){var ie=v.strategy===2?(function(te,_e){for(var De;;){if(te.lookahead===0&&(V(te),te.lookahead===0)){if(_e===T)return B;break}if(te.match_length=0,De=h._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,De&&(L(te,!1),te.strm.avail_out===0))return B}return te.insert=0,_e===S?(L(te,!0),te.strm.avail_out===0?se:re):te.last_lit&&(L(te,!1),te.strm.avail_out===0)?B:de})(v,le):v.strategy===3?(function(te,_e){for(var De,Ne,ke,Le,Fe=te.window;;){if(te.lookahead<=Te){if(V(te),te.lookahead<=Te&&_e===T)return B;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=G&&0<te.strstart&&(Ne=Fe[ke=te.strstart-1])===Fe[++ke]&&Ne===Fe[++ke]&&Ne===Fe[++ke]){Le=te.strstart+Te;do;while(Ne===Fe[++ke]&&Ne===Fe[++ke]&&Ne===Fe[++ke]&&Ne===Fe[++ke]&&Ne===Fe[++ke]&&Ne===Fe[++ke]&&Ne===Fe[++ke]&&Ne===Fe[++ke]&&ke<Le);te.match_length=Te-(Le-ke),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=G?(De=h._tr_tally(te,1,te.match_length-G),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(De=h._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),De&&(L(te,!1),te.strm.avail_out===0))return B}return te.insert=0,_e===S?(L(te,!0),te.strm.avail_out===0?se:re):te.last_lit&&(L(te,!1),te.strm.avail_out===0)?B:de})(v,le):c[v.level].func(v,le);if(ie!==se&&ie!==re||(v.status=666),ie===B||ie===se)return R.avail_out===0&&(v.last_flush=-1),E;if(ie===de&&(le===1?h._tr_align(v):le!==5&&(h._tr_stored_block(v,0,0,!1),le===3&&(Y(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),W(R),R.avail_out===0))return v.last_flush=-1,E}return le!==S?E:v.wrap<=0?1:(v.wrap===2?(X(v,255&R.adler),X(v,R.adler>>8&255),X(v,R.adler>>16&255),X(v,R.adler>>24&255),X(v,255&R.total_in),X(v,R.total_in>>8&255),X(v,R.total_in>>16&255),X(v,R.total_in>>24&255)):(j(v,R.adler>>>16),j(v,65535&R.adler)),W(R),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?E:1)},s.deflateEnd=function(R){var le;return R&&R.state?(le=R.state.status)!==Z&&le!==69&&le!==73&&le!==91&&le!==103&&le!==pe&&le!==666?Ae(R,M):(R.state=null,le===pe?Ae(R,-3):E):M},s.deflateSetDictionary=function(R,le){var k,v,x,N,Q,ie,te,_e,De=le.length;if(!R||!R.state||(N=(k=R.state).wrap)===2||N===1&&k.status!==Z||k.lookahead)return M;for(N===1&&(R.adler=p(R.adler,le,De,0)),k.wrap=0,De>=k.w_size&&(N===0&&(Y(k.head),k.strstart=0,k.block_start=0,k.insert=0),_e=new d.Buf8(k.w_size),d.arraySet(_e,le,De-k.w_size,k.w_size,0),le=_e,De=k.w_size),Q=R.avail_in,ie=R.next_in,te=R.input,R.avail_in=De,R.next_in=0,R.input=le,V(k);k.lookahead>=G;){for(v=k.strstart,x=k.lookahead-(G-1);k.ins_h=(k.ins_h<<k.hash_shift^k.window[v+G-1])&k.hash_mask,k.prev[v&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=v,v++,--x;);k.strstart=v,k.lookahead=G-1,V(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=G-1,k.match_available=0,R.next_in=ie,R.input=te,R.avail_in=Q,k.wrap=N,E},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,s){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,s){o.exports=function(c,d){var h,p,m,y,T,S,E,M,b,I,A,D,O,J,K,ue,oe,he,G,Te,be,Z,pe,B,de;h=c.state,p=c.next_in,B=c.input,m=p+(c.avail_in-5),y=c.next_out,de=c.output,T=y-(d-c.avail_out),S=y+(c.avail_out-257),E=h.dmax,M=h.wsize,b=h.whave,I=h.wnext,A=h.window,D=h.hold,O=h.bits,J=h.lencode,K=h.distcode,ue=(1<<h.lenbits)-1,oe=(1<<h.distbits)-1;e:do{O<15&&(D+=B[p++]<<O,O+=8,D+=B[p++]<<O,O+=8),he=J[D&ue];t:for(;;){if(D>>>=G=he>>>24,O-=G,(G=he>>>16&255)===0)de[y++]=65535&he;else{if(!(16&G)){if((64&G)==0){he=J[(65535&he)+(D&(1<<G)-1)];continue t}if(32&G){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}Te=65535&he,(G&=15)&&(O<G&&(D+=B[p++]<<O,O+=8),Te+=D&(1<<G)-1,D>>>=G,O-=G),O<15&&(D+=B[p++]<<O,O+=8,D+=B[p++]<<O,O+=8),he=K[D&oe];n:for(;;){if(D>>>=G=he>>>24,O-=G,!(16&(G=he>>>16&255))){if((64&G)==0){he=K[(65535&he)+(D&(1<<G)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(be=65535&he,O<(G&=15)&&(D+=B[p++]<<O,(O+=8)<G&&(D+=B[p++]<<O,O+=8)),E<(be+=D&(1<<G)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(D>>>=G,O-=G,(G=y-T)<be){if(b<(G=be-G)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(pe=A,(Z=0)===I){if(Z+=M-G,G<Te){for(Te-=G;de[y++]=A[Z++],--G;);Z=y-be,pe=de}}else if(I<G){if(Z+=M+I-G,(G-=I)<Te){for(Te-=G;de[y++]=A[Z++],--G;);if(Z=0,I<Te){for(Te-=G=I;de[y++]=A[Z++],--G;);Z=y-be,pe=de}}}else if(Z+=I-G,G<Te){for(Te-=G;de[y++]=A[Z++],--G;);Z=y-be,pe=de}for(;2<Te;)de[y++]=pe[Z++],de[y++]=pe[Z++],de[y++]=pe[Z++],Te-=3;Te&&(de[y++]=pe[Z++],1<Te&&(de[y++]=pe[Z++]))}else{for(Z=y-be;de[y++]=de[Z++],de[y++]=de[Z++],de[y++]=de[Z++],2<(Te-=3););Te&&(de[y++]=de[Z++],1<Te&&(de[y++]=de[Z++]))}break}}break}}while(p<m&&y<S);p-=Te=O>>3,D&=(1<<(O-=Te<<3))-1,c.next_in=p,c.next_out=y,c.avail_in=p<m?m-p+5:5-(p-m),c.avail_out=y<S?S-y+257:257-(y-S),h.hold=D,h.bits=O}},{}],49:[function(r,o,s){var c=r("../utils/common"),d=r("./adler32"),h=r("./crc32"),p=r("./inffast"),m=r("./inftrees"),y=1,T=2,S=0,E=-2,M=1,b=852,I=592;function A(Z){return(Z>>>24&255)+(Z>>>8&65280)+((65280&Z)<<8)+((255&Z)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(Z){var pe;return Z&&Z.state?(pe=Z.state,Z.total_in=Z.total_out=pe.total=0,Z.msg="",pe.wrap&&(Z.adler=1&pe.wrap),pe.mode=M,pe.last=0,pe.havedict=0,pe.dmax=32768,pe.head=null,pe.hold=0,pe.bits=0,pe.lencode=pe.lendyn=new c.Buf32(b),pe.distcode=pe.distdyn=new c.Buf32(I),pe.sane=1,pe.back=-1,S):E}function J(Z){var pe;return Z&&Z.state?((pe=Z.state).wsize=0,pe.whave=0,pe.wnext=0,O(Z)):E}function K(Z,pe){var B,de;return Z&&Z.state?(de=Z.state,pe<0?(B=0,pe=-pe):(B=1+(pe>>4),pe<48&&(pe&=15)),pe&&(pe<8||15<pe)?E:(de.window!==null&&de.wbits!==pe&&(de.window=null),de.wrap=B,de.wbits=pe,J(Z))):E}function ue(Z,pe){var B,de;return Z?(de=new D,(Z.state=de).window=null,(B=K(Z,pe))!==S&&(Z.state=null),B):E}var oe,he,G=!0;function Te(Z){if(G){var pe;for(oe=new c.Buf32(512),he=new c.Buf32(32),pe=0;pe<144;)Z.lens[pe++]=8;for(;pe<256;)Z.lens[pe++]=9;for(;pe<280;)Z.lens[pe++]=7;for(;pe<288;)Z.lens[pe++]=8;for(m(y,Z.lens,0,288,oe,0,Z.work,{bits:9}),pe=0;pe<32;)Z.lens[pe++]=5;m(T,Z.lens,0,32,he,0,Z.work,{bits:5}),G=!1}Z.lencode=oe,Z.lenbits=9,Z.distcode=he,Z.distbits=5}function be(Z,pe,B,de){var se,re=Z.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new c.Buf8(re.wsize)),de>=re.wsize?(c.arraySet(re.window,pe,B-re.wsize,re.wsize,0),re.wnext=0,re.whave=re.wsize):(de<(se=re.wsize-re.wnext)&&(se=de),c.arraySet(re.window,pe,B-de,se,re.wnext),(de-=se)?(c.arraySet(re.window,pe,B-de,de,0),re.wnext=de,re.whave=re.wsize):(re.wnext+=se,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=se))),0}s.inflateReset=J,s.inflateReset2=K,s.inflateResetKeep=O,s.inflateInit=function(Z){return ue(Z,15)},s.inflateInit2=ue,s.inflate=function(Z,pe){var B,de,se,re,Ae,ae,Y,W,L,X,j,ee,V,_,C,$,z,F,H,fe,R,le,k,v,x=0,N=new c.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return E;(B=Z.state).mode===12&&(B.mode=13),Ae=Z.next_out,se=Z.output,Y=Z.avail_out,re=Z.next_in,de=Z.input,ae=Z.avail_in,W=B.hold,L=B.bits,X=ae,j=Y,le=S;e:for(;;)switch(B.mode){case M:if(B.wrap===0){B.mode=13;break}for(;L<16;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if(2&B.wrap&&W===35615){N[B.check=0]=255&W,N[1]=W>>>8&255,B.check=h(B.check,N,2,0),L=W=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&W)<<8)+(W>>8))%31){Z.msg="incorrect header check",B.mode=30;break}if((15&W)!=8){Z.msg="unknown compression method",B.mode=30;break}if(L-=4,R=8+(15&(W>>>=4)),B.wbits===0)B.wbits=R;else if(R>B.wbits){Z.msg="invalid window size",B.mode=30;break}B.dmax=1<<R,Z.adler=B.check=1,B.mode=512&W?10:12,L=W=0;break;case 2:for(;L<16;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if(B.flags=W,(255&B.flags)!=8){Z.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){Z.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=W>>8&1),512&B.flags&&(N[0]=255&W,N[1]=W>>>8&255,B.check=h(B.check,N,2,0)),L=W=0,B.mode=3;case 3:for(;L<32;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}B.head&&(B.head.time=W),512&B.flags&&(N[0]=255&W,N[1]=W>>>8&255,N[2]=W>>>16&255,N[3]=W>>>24&255,B.check=h(B.check,N,4,0)),L=W=0,B.mode=4;case 4:for(;L<16;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}B.head&&(B.head.xflags=255&W,B.head.os=W>>8),512&B.flags&&(N[0]=255&W,N[1]=W>>>8&255,B.check=h(B.check,N,2,0)),L=W=0,B.mode=5;case 5:if(1024&B.flags){for(;L<16;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}B.length=W,B.head&&(B.head.extra_len=W),512&B.flags&&(N[0]=255&W,N[1]=W>>>8&255,B.check=h(B.check,N,2,0)),L=W=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(ae<(ee=B.length)&&(ee=ae),ee&&(B.head&&(R=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),c.arraySet(B.head.extra,de,re,ee,R)),512&B.flags&&(B.check=h(B.check,de,ee,re)),ae-=ee,re+=ee,B.length-=ee),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(ae===0)break e;for(ee=0;R=de[re+ee++],B.head&&R&&B.length<65536&&(B.head.name+=String.fromCharCode(R)),R&&ee<ae;);if(512&B.flags&&(B.check=h(B.check,de,ee,re)),ae-=ee,re+=ee,R)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(ae===0)break e;for(ee=0;R=de[re+ee++],B.head&&R&&B.length<65536&&(B.head.comment+=String.fromCharCode(R)),R&&ee<ae;);if(512&B.flags&&(B.check=h(B.check,de,ee,re)),ae-=ee,re+=ee,R)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;L<16;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if(W!==(65535&B.check)){Z.msg="header crc mismatch",B.mode=30;break}L=W=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),Z.adler=B.check=0,B.mode=12;break;case 10:for(;L<32;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}Z.adler=B.check=A(W),L=W=0,B.mode=11;case 11:if(B.havedict===0)return Z.next_out=Ae,Z.avail_out=Y,Z.next_in=re,Z.avail_in=ae,B.hold=W,B.bits=L,2;Z.adler=B.check=1,B.mode=12;case 12:if(pe===5||pe===6)break e;case 13:if(B.last){W>>>=7&L,L-=7&L,B.mode=27;break}for(;L<3;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}switch(B.last=1&W,L-=1,3&(W>>>=1)){case 0:B.mode=14;break;case 1:if(Te(B),B.mode=20,pe!==6)break;W>>>=2,L-=2;break e;case 2:B.mode=17;break;case 3:Z.msg="invalid block type",B.mode=30}W>>>=2,L-=2;break;case 14:for(W>>>=7&L,L-=7&L;L<32;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if((65535&W)!=(W>>>16^65535)){Z.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&W,L=W=0,B.mode=15,pe===6)break e;case 15:B.mode=16;case 16:if(ee=B.length){if(ae<ee&&(ee=ae),Y<ee&&(ee=Y),ee===0)break e;c.arraySet(se,de,re,ee,Ae),ae-=ee,re+=ee,Y-=ee,Ae+=ee,B.length-=ee;break}B.mode=12;break;case 17:for(;L<14;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if(B.nlen=257+(31&W),W>>>=5,L-=5,B.ndist=1+(31&W),W>>>=5,L-=5,B.ncode=4+(15&W),W>>>=4,L-=4,286<B.nlen||30<B.ndist){Z.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;L<3;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}B.lens[Q[B.have++]]=7&W,W>>>=3,L-=3}for(;B.have<19;)B.lens[Q[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,k={bits:B.lenbits},le=m(0,B.lens,0,19,B.lencode,0,B.work,k),B.lenbits=k.bits,le){Z.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;$=(x=B.lencode[W&(1<<B.lenbits)-1])>>>16&255,z=65535&x,!((C=x>>>24)<=L);){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if(z<16)W>>>=C,L-=C,B.lens[B.have++]=z;else{if(z===16){for(v=C+2;L<v;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if(W>>>=C,L-=C,B.have===0){Z.msg="invalid bit length repeat",B.mode=30;break}R=B.lens[B.have-1],ee=3+(3&W),W>>>=2,L-=2}else if(z===17){for(v=C+3;L<v;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}L-=C,R=0,ee=3+(7&(W>>>=C)),W>>>=3,L-=3}else{for(v=C+7;L<v;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}L-=C,R=0,ee=11+(127&(W>>>=C)),W>>>=7,L-=7}if(B.have+ee>B.nlen+B.ndist){Z.msg="invalid bit length repeat",B.mode=30;break}for(;ee--;)B.lens[B.have++]=R}}if(B.mode===30)break;if(B.lens[256]===0){Z.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,k={bits:B.lenbits},le=m(y,B.lens,0,B.nlen,B.lencode,0,B.work,k),B.lenbits=k.bits,le){Z.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,k={bits:B.distbits},le=m(T,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,k),B.distbits=k.bits,le){Z.msg="invalid distances set",B.mode=30;break}if(B.mode=20,pe===6)break e;case 20:B.mode=21;case 21:if(6<=ae&&258<=Y){Z.next_out=Ae,Z.avail_out=Y,Z.next_in=re,Z.avail_in=ae,B.hold=W,B.bits=L,p(Z,j),Ae=Z.next_out,se=Z.output,Y=Z.avail_out,re=Z.next_in,de=Z.input,ae=Z.avail_in,W=B.hold,L=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;$=(x=B.lencode[W&(1<<B.lenbits)-1])>>>16&255,z=65535&x,!((C=x>>>24)<=L);){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if($&&(240&$)==0){for(F=C,H=$,fe=z;$=(x=B.lencode[fe+((W&(1<<F+H)-1)>>F)])>>>16&255,z=65535&x,!(F+(C=x>>>24)<=L);){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}W>>>=F,L-=F,B.back+=F}if(W>>>=C,L-=C,B.back+=C,B.length=z,$===0){B.mode=26;break}if(32&$){B.back=-1,B.mode=12;break}if(64&$){Z.msg="invalid literal/length code",B.mode=30;break}B.extra=15&$,B.mode=22;case 22:if(B.extra){for(v=B.extra;L<v;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}B.length+=W&(1<<B.extra)-1,W>>>=B.extra,L-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;$=(x=B.distcode[W&(1<<B.distbits)-1])>>>16&255,z=65535&x,!((C=x>>>24)<=L);){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if((240&$)==0){for(F=C,H=$,fe=z;$=(x=B.distcode[fe+((W&(1<<F+H)-1)>>F)])>>>16&255,z=65535&x,!(F+(C=x>>>24)<=L);){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}W>>>=F,L-=F,B.back+=F}if(W>>>=C,L-=C,B.back+=C,64&$){Z.msg="invalid distance code",B.mode=30;break}B.offset=z,B.extra=15&$,B.mode=24;case 24:if(B.extra){for(v=B.extra;L<v;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}B.offset+=W&(1<<B.extra)-1,W>>>=B.extra,L-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){Z.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(Y===0)break e;if(ee=j-Y,B.offset>ee){if((ee=B.offset-ee)>B.whave&&B.sane){Z.msg="invalid distance too far back",B.mode=30;break}V=ee>B.wnext?(ee-=B.wnext,B.wsize-ee):B.wnext-ee,ee>B.length&&(ee=B.length),_=B.window}else _=se,V=Ae-B.offset,ee=B.length;for(Y<ee&&(ee=Y),Y-=ee,B.length-=ee;se[Ae++]=_[V++],--ee;);B.length===0&&(B.mode=21);break;case 26:if(Y===0)break e;se[Ae++]=B.length,Y--,B.mode=21;break;case 27:if(B.wrap){for(;L<32;){if(ae===0)break e;ae--,W|=de[re++]<<L,L+=8}if(j-=Y,Z.total_out+=j,B.total+=j,j&&(Z.adler=B.check=B.flags?h(B.check,se,j,Ae-j):d(B.check,se,j,Ae-j)),j=Y,(B.flags?W:A(W))!==B.check){Z.msg="incorrect data check",B.mode=30;break}L=W=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;L<32;){if(ae===0)break e;ae--,W+=de[re++]<<L,L+=8}if(W!==(4294967295&B.total)){Z.msg="incorrect length check",B.mode=30;break}L=W=0}B.mode=29;case 29:le=1;break e;case 30:le=-3;break e;case 31:return-4;case 32:default:return E}return Z.next_out=Ae,Z.avail_out=Y,Z.next_in=re,Z.avail_in=ae,B.hold=W,B.bits=L,(B.wsize||j!==Z.avail_out&&B.mode<30&&(B.mode<27||pe!==4))&&be(Z,Z.output,Z.next_out,j-Z.avail_out)?(B.mode=31,-4):(X-=Z.avail_in,j-=Z.avail_out,Z.total_in+=X,Z.total_out+=j,B.total+=j,B.wrap&&j&&(Z.adler=B.check=B.flags?h(B.check,se,j,Z.next_out-j):d(B.check,se,j,Z.next_out-j)),Z.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(X==0&&j===0||pe===4)&&le===S&&(le=-5),le)},s.inflateEnd=function(Z){if(!Z||!Z.state)return E;var pe=Z.state;return pe.window&&(pe.window=null),Z.state=null,S},s.inflateGetHeader=function(Z,pe){var B;return Z&&Z.state?(2&(B=Z.state).wrap)==0?E:((B.head=pe).done=!1,S):E},s.inflateSetDictionary=function(Z,pe){var B,de=pe.length;return Z&&Z.state?(B=Z.state).wrap!==0&&B.mode!==11?E:B.mode===11&&d(1,pe,de,0)!==B.check?-3:be(Z,pe,de,de)?(B.mode=31,-4):(B.havedict=1,S):E},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,s){var c=r("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,T,S,E,M,b,I,A){var D,O,J,K,ue,oe,he,G,Te,be=A.bits,Z=0,pe=0,B=0,de=0,se=0,re=0,Ae=0,ae=0,Y=0,W=0,L=null,X=0,j=new c.Buf16(16),ee=new c.Buf16(16),V=null,_=0;for(Z=0;Z<=15;Z++)j[Z]=0;for(pe=0;pe<E;pe++)j[T[S+pe]]++;for(se=be,de=15;1<=de&&j[de]===0;de--);if(de<se&&(se=de),de===0)return M[b++]=20971520,M[b++]=20971520,A.bits=1,0;for(B=1;B<de&&j[B]===0;B++);for(se<B&&(se=B),Z=ae=1;Z<=15;Z++)if(ae<<=1,(ae-=j[Z])<0)return-1;if(0<ae&&(y===0||de!==1))return-1;for(ee[1]=0,Z=1;Z<15;Z++)ee[Z+1]=ee[Z]+j[Z];for(pe=0;pe<E;pe++)T[S+pe]!==0&&(I[ee[T[S+pe]]++]=pe);if(oe=y===0?(L=V=I,19):y===1?(L=d,X-=257,V=h,_-=257,256):(L=p,V=m,-1),Z=B,ue=b,Ae=pe=W=0,J=-1,K=(Y=1<<(re=se))-1,y===1&&852<Y||y===2&&592<Y)return 1;for(;;){for(he=Z-Ae,Te=I[pe]<oe?(G=0,I[pe]):I[pe]>oe?(G=V[_+I[pe]],L[X+I[pe]]):(G=96,0),D=1<<Z-Ae,B=O=1<<re;M[ue+(W>>Ae)+(O-=D)]=he<<24|G<<16|Te|0,O!==0;);for(D=1<<Z-1;W&D;)D>>=1;if(D!==0?(W&=D-1,W+=D):W=0,pe++,--j[Z]==0){if(Z===de)break;Z=T[S+I[pe]]}if(se<Z&&(W&K)!==J){for(Ae===0&&(Ae=se),ue+=B,ae=1<<(re=Z-Ae);re+Ae<de&&!((ae-=j[re+Ae])<=0);)re++,ae<<=1;if(Y+=1<<re,y===1&&852<Y||y===2&&592<Y)return 1;M[J=W&K]=se<<24|re<<16|ue-b|0}}return W!==0&&(M[ue+W]=Z-Ae<<24|64<<16|0),A.bits=se,0}},{"../utils/common":41}],51:[function(r,o,s){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,s){var c=r("../utils/common"),d=0,h=1;function p(x){for(var N=x.length;0<=--N;)x[N]=0}var m=0,y=29,T=256,S=T+1+y,E=30,M=19,b=2*S+1,I=15,A=16,D=7,O=256,J=16,K=17,ue=18,oe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],he=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=new Array(2*(S+2));p(be);var Z=new Array(2*E);p(Z);var pe=new Array(512);p(pe);var B=new Array(256);p(B);var de=new Array(y);p(de);var se,re,Ae,ae=new Array(E);function Y(x,N,Q,ie,te){this.static_tree=x,this.extra_bits=N,this.extra_base=Q,this.elems=ie,this.max_length=te,this.has_stree=x&&x.length}function W(x,N){this.dyn_tree=x,this.max_code=0,this.stat_desc=N}function L(x){return x<256?pe[x]:pe[256+(x>>>7)]}function X(x,N){x.pending_buf[x.pending++]=255&N,x.pending_buf[x.pending++]=N>>>8&255}function j(x,N,Q){x.bi_valid>A-Q?(x.bi_buf|=N<<x.bi_valid&65535,X(x,x.bi_buf),x.bi_buf=N>>A-x.bi_valid,x.bi_valid+=Q-A):(x.bi_buf|=N<<x.bi_valid&65535,x.bi_valid+=Q)}function ee(x,N,Q){j(x,Q[2*N],Q[2*N+1])}function V(x,N){for(var Q=0;Q|=1&x,x>>>=1,Q<<=1,0<--N;);return Q>>>1}function _(x,N,Q){var ie,te,_e=new Array(I+1),De=0;for(ie=1;ie<=I;ie++)_e[ie]=De=De+Q[ie-1]<<1;for(te=0;te<=N;te++){var Ne=x[2*te+1];Ne!==0&&(x[2*te]=V(_e[Ne]++,Ne))}}function C(x){var N;for(N=0;N<S;N++)x.dyn_ltree[2*N]=0;for(N=0;N<E;N++)x.dyn_dtree[2*N]=0;for(N=0;N<M;N++)x.bl_tree[2*N]=0;x.dyn_ltree[2*O]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function $(x){8<x.bi_valid?X(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function z(x,N,Q,ie){var te=2*N,_e=2*Q;return x[te]<x[_e]||x[te]===x[_e]&&ie[N]<=ie[Q]}function F(x,N,Q){for(var ie=x.heap[Q],te=Q<<1;te<=x.heap_len&&(te<x.heap_len&&z(N,x.heap[te+1],x.heap[te],x.depth)&&te++,!z(N,ie,x.heap[te],x.depth));)x.heap[Q]=x.heap[te],Q=te,te<<=1;x.heap[Q]=ie}function H(x,N,Q){var ie,te,_e,De,Ne=0;if(x.last_lit!==0)for(;ie=x.pending_buf[x.d_buf+2*Ne]<<8|x.pending_buf[x.d_buf+2*Ne+1],te=x.pending_buf[x.l_buf+Ne],Ne++,ie===0?ee(x,te,N):(ee(x,(_e=B[te])+T+1,N),(De=oe[_e])!==0&&j(x,te-=de[_e],De),ee(x,_e=L(--ie),Q),(De=he[_e])!==0&&j(x,ie-=ae[_e],De)),Ne<x.last_lit;);ee(x,O,N)}function fe(x,N){var Q,ie,te,_e=N.dyn_tree,De=N.stat_desc.static_tree,Ne=N.stat_desc.has_stree,ke=N.stat_desc.elems,Le=-1;for(x.heap_len=0,x.heap_max=b,Q=0;Q<ke;Q++)_e[2*Q]!==0?(x.heap[++x.heap_len]=Le=Q,x.depth[Q]=0):_e[2*Q+1]=0;for(;x.heap_len<2;)_e[2*(te=x.heap[++x.heap_len]=Le<2?++Le:0)]=1,x.depth[te]=0,x.opt_len--,Ne&&(x.static_len-=De[2*te+1]);for(N.max_code=Le,Q=x.heap_len>>1;1<=Q;Q--)F(x,_e,Q);for(te=ke;Q=x.heap[1],x.heap[1]=x.heap[x.heap_len--],F(x,_e,1),ie=x.heap[1],x.heap[--x.heap_max]=Q,x.heap[--x.heap_max]=ie,_e[2*te]=_e[2*Q]+_e[2*ie],x.depth[te]=(x.depth[Q]>=x.depth[ie]?x.depth[Q]:x.depth[ie])+1,_e[2*Q+1]=_e[2*ie+1]=te,x.heap[1]=te++,F(x,_e,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],(function(Fe,ct){var xn,an,Zn,pt,Un,hn,$t=ct.dyn_tree,Gn=ct.max_code,Do=ct.stat_desc.static_tree,gi=ct.stat_desc.has_stree,zr=ct.stat_desc.extra_bits,Ke=ct.stat_desc.extra_base,Je=ct.stat_desc.max_length,nt=0;for(pt=0;pt<=I;pt++)Fe.bl_count[pt]=0;for($t[2*Fe.heap[Fe.heap_max]+1]=0,xn=Fe.heap_max+1;xn<b;xn++)Je<(pt=$t[2*$t[2*(an=Fe.heap[xn])+1]+1]+1)&&(pt=Je,nt++),$t[2*an+1]=pt,Gn<an||(Fe.bl_count[pt]++,Un=0,Ke<=an&&(Un=zr[an-Ke]),hn=$t[2*an],Fe.opt_len+=hn*(pt+Un),gi&&(Fe.static_len+=hn*(Do[2*an+1]+Un)));if(nt!==0){do{for(pt=Je-1;Fe.bl_count[pt]===0;)pt--;Fe.bl_count[pt]--,Fe.bl_count[pt+1]+=2,Fe.bl_count[Je]--,nt-=2}while(0<nt);for(pt=Je;pt!==0;pt--)for(an=Fe.bl_count[pt];an!==0;)Gn<(Zn=Fe.heap[--xn])||($t[2*Zn+1]!==pt&&(Fe.opt_len+=(pt-$t[2*Zn+1])*$t[2*Zn],$t[2*Zn+1]=pt),an--)}})(x,N),_(_e,Le,x.bl_count)}function R(x,N,Q){var ie,te,_e=-1,De=N[1],Ne=0,ke=7,Le=4;for(De===0&&(ke=138,Le=3),N[2*(Q+1)+1]=65535,ie=0;ie<=Q;ie++)te=De,De=N[2*(ie+1)+1],++Ne<ke&&te===De||(Ne<Le?x.bl_tree[2*te]+=Ne:te!==0?(te!==_e&&x.bl_tree[2*te]++,x.bl_tree[2*J]++):Ne<=10?x.bl_tree[2*K]++:x.bl_tree[2*ue]++,_e=te,Le=(Ne=0)===De?(ke=138,3):te===De?(ke=6,3):(ke=7,4))}function le(x,N,Q){var ie,te,_e=-1,De=N[1],Ne=0,ke=7,Le=4;for(De===0&&(ke=138,Le=3),ie=0;ie<=Q;ie++)if(te=De,De=N[2*(ie+1)+1],!(++Ne<ke&&te===De)){if(Ne<Le)for(;ee(x,te,x.bl_tree),--Ne!=0;);else te!==0?(te!==_e&&(ee(x,te,x.bl_tree),Ne--),ee(x,J,x.bl_tree),j(x,Ne-3,2)):Ne<=10?(ee(x,K,x.bl_tree),j(x,Ne-3,3)):(ee(x,ue,x.bl_tree),j(x,Ne-11,7));_e=te,Le=(Ne=0)===De?(ke=138,3):te===De?(ke=6,3):(ke=7,4)}}p(ae);var k=!1;function v(x,N,Q,ie){j(x,(m<<1)+(ie?1:0),3),(function(te,_e,De,Ne){$(te),X(te,De),X(te,~De),c.arraySet(te.pending_buf,te.window,_e,De,te.pending),te.pending+=De})(x,N,Q)}s._tr_init=function(x){k||((function(){var N,Q,ie,te,_e,De=new Array(I+1);for(te=ie=0;te<y-1;te++)for(de[te]=ie,N=0;N<1<<oe[te];N++)B[ie++]=te;for(B[ie-1]=te,te=_e=0;te<16;te++)for(ae[te]=_e,N=0;N<1<<he[te];N++)pe[_e++]=te;for(_e>>=7;te<E;te++)for(ae[te]=_e<<7,N=0;N<1<<he[te]-7;N++)pe[256+_e++]=te;for(Q=0;Q<=I;Q++)De[Q]=0;for(N=0;N<=143;)be[2*N+1]=8,N++,De[8]++;for(;N<=255;)be[2*N+1]=9,N++,De[9]++;for(;N<=279;)be[2*N+1]=7,N++,De[7]++;for(;N<=287;)be[2*N+1]=8,N++,De[8]++;for(_(be,S+1,De),N=0;N<E;N++)Z[2*N+1]=5,Z[2*N]=V(N,5);se=new Y(be,oe,T+1,S,I),re=new Y(Z,he,0,E,I),Ae=new Y(new Array(0),G,0,M,D)})(),k=!0),x.l_desc=new W(x.dyn_ltree,se),x.d_desc=new W(x.dyn_dtree,re),x.bl_desc=new W(x.bl_tree,Ae),x.bi_buf=0,x.bi_valid=0,C(x)},s._tr_stored_block=v,s._tr_flush_block=function(x,N,Q,ie){var te,_e,De=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=(function(Ne){var ke,Le=4093624447;for(ke=0;ke<=31;ke++,Le>>>=1)if(1&Le&&Ne.dyn_ltree[2*ke]!==0)return d;if(Ne.dyn_ltree[18]!==0||Ne.dyn_ltree[20]!==0||Ne.dyn_ltree[26]!==0)return h;for(ke=32;ke<T;ke++)if(Ne.dyn_ltree[2*ke]!==0)return h;return d})(x)),fe(x,x.l_desc),fe(x,x.d_desc),De=(function(Ne){var ke;for(R(Ne,Ne.dyn_ltree,Ne.l_desc.max_code),R(Ne,Ne.dyn_dtree,Ne.d_desc.max_code),fe(Ne,Ne.bl_desc),ke=M-1;3<=ke&&Ne.bl_tree[2*Te[ke]+1]===0;ke--);return Ne.opt_len+=3*(ke+1)+5+5+4,ke})(x),te=x.opt_len+3+7>>>3,(_e=x.static_len+3+7>>>3)<=te&&(te=_e)):te=_e=Q+5,Q+4<=te&&N!==-1?v(x,N,Q,ie):x.strategy===4||_e===te?(j(x,2+(ie?1:0),3),H(x,be,Z)):(j(x,4+(ie?1:0),3),(function(Ne,ke,Le,Fe){var ct;for(j(Ne,ke-257,5),j(Ne,Le-1,5),j(Ne,Fe-4,4),ct=0;ct<Fe;ct++)j(Ne,Ne.bl_tree[2*Te[ct]+1],3);le(Ne,Ne.dyn_ltree,ke-1),le(Ne,Ne.dyn_dtree,Le-1)})(x,x.l_desc.max_code+1,x.d_desc.max_code+1,De+1),H(x,x.dyn_ltree,x.dyn_dtree)),C(x),ie&&$(x)},s._tr_tally=function(x,N,Q){return x.pending_buf[x.d_buf+2*x.last_lit]=N>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&N,x.pending_buf[x.l_buf+x.last_lit]=255&Q,x.last_lit++,N===0?x.dyn_ltree[2*Q]++:(x.matches++,N--,x.dyn_ltree[2*(B[Q]+T+1)]++,x.dyn_dtree[2*L(N)]++),x.last_lit===x.lit_bufsize-1},s._tr_align=function(x){j(x,2,3),ee(x,O,be),(function(N){N.bi_valid===16?(X(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)})(x)}},{"../utils/common":41}],53:[function(r,o,s){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,s){(function(c){(function(d,h){if(!d.setImmediate){var p,m,y,T,S=1,E={},M=!1,b=d.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(d);I=I&&I.setTimeout?I:d,p={}.toString.call(d.process)==="[object process]"?function(J){Ze.nextTick(function(){D(J)})}:(function(){if(d.postMessage&&!d.importScripts){var J=!0,K=d.onmessage;return d.onmessage=function(){J=!1},d.postMessage("","*"),d.onmessage=K,J}})()?(T="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",O,!1):d.attachEvent("onmessage",O),function(J){d.postMessage(T+J,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(J){D(J.data)},function(J){y.port2.postMessage(J)}):b&&"onreadystatechange"in b.createElement("script")?(m=b.documentElement,function(J){var K=b.createElement("script");K.onreadystatechange=function(){D(J),K.onreadystatechange=null,m.removeChild(K),K=null},m.appendChild(K)}):function(J){setTimeout(D,0,J)},I.setImmediate=function(J){typeof J!="function"&&(J=new Function(""+J));for(var K=new Array(arguments.length-1),ue=0;ue<K.length;ue++)K[ue]=arguments[ue+1];var oe={callback:J,args:K};return E[S]=oe,p(S),S++},I.clearImmediate=A}function A(J){delete E[J]}function D(J){if(M)setTimeout(D,0,J);else{var K=E[J];if(K){M=!0;try{(function(ue){var oe=ue.callback,he=ue.args;switch(he.length){case 0:oe();break;case 1:oe(he[0]);break;case 2:oe(he[0],he[1]);break;case 3:oe(he[0],he[1],he[2]);break;default:oe.apply(h,he)}})(K)}finally{A(J),M=!1}}}}function O(J){J.source===d&&typeof J.data=="string"&&J.data.indexOf(T)===0&&D(+J.data.slice(T.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof $n<"u"?$n:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(pT);var gU=pT.exports;const yU=uw(gU);var Cl={exports:{}},vU={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function wU(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,r){return vU[r]}):t}var TU=wU,dd=TU,vv=Cd.Stream,xU="    ";function SU(t,e){typeof e!="object"&&(e={indent:e});var r=e.stream?new vv:null,o="",s=!1,c=e.indent?e.indent===!0?xU:e.indent:"",d=!0;function h(S){d?Ze.nextTick(S):S()}function p(S,E){if(E!==void 0&&(o+=E),S&&!s&&(r=r||new vv,s=!0),S&&s){var M=o;h(function(){r.emit("data",M)}),o=""}}function m(S,E){Pd(p,bl(S,c,c?1:0),E)}function y(){if(r){var S=o;h(function(){r.emit("data",S),r.emit("end"),r.readable=!1,r.emit("close")})}}function T(S){var E=S.encoding||"UTF-8",M={version:"1.0",encoding:E};S.standalone&&(M.standalone=S.standalone),m({"?xml":{_attr:M}}),o=o.replace("/>","?>")}return h(function(){d=!1}),e.declaration&&T(e.declaration),t&&t.forEach?t.forEach(function(S,E){var M;E+1===t.length&&(M=y),m(S,M)}):m(t,y),r?(r.readable=!0,r):o}function EU(){var t=Array.prototype.slice.call(arguments),e={_elem:bl(t)};return e.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var o=this,s=this._elem.indent;Pd(this.append,bl(r,s,this._elem.icount+(s?1:0)),function(){o.append(!0)})},e.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},e}function _U(t,e){return new Array(e||0).join(t||"")}function bl(t,e,r){r=r||0;var o=_U(e,r),s,c=t,d=!1;if(typeof t=="object"){var h=Object.keys(t);if(s=h[0],c=t[s],c&&c._elem)return c._elem.name=s,c._elem.icount=r,c._elem.indent=e,c._elem.indents=o,c._elem.interrupt=c,c._elem}var p=[],m=[],y;function T(S){var E=Object.keys(S);E.forEach(function(M){p.push(CU(M,S[M]))})}switch(typeof c){case"object":if(c===null)break;c._attr&&T(c._attr),c._cdata&&m.push(("<![CDATA["+c._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),c.forEach&&(y=!1,m.push(""),c.forEach(function(S){if(typeof S=="object"){var E=Object.keys(S)[0];E=="_attr"?T(S._attr):m.push(bl(S,e,r+1))}else m.pop(),y=!0,m.push(dd(S))}),y||m.push(""));break;default:m.push(dd(c))}return{name:s,interrupt:d,attributes:p,content:m,icount:r,indents:o,indent:e}}function Pd(t,e,r){if(typeof e!="object")return t(!1,e);var o=e.interrupt?1:e.content.length;function s(){for(;e.content.length;){var d=e.content.shift();if(d!==void 0){if(c(d))return;Pd(t,d)}}t(!1,(o>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!r?`
`:"")),r&&r()}function c(d){return d.interrupt?(d.interrupt.append=t,d.interrupt.end=s,d.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(o?e.name?">":"":e.name?"/>":"")+(e.indent&&o>1?`
`:"")),!o)return t(!1,e.indent?`
`:"");c(e)||s()}function CU(t,e){return t+'="'+dd(e)+'"'}Cl.exports=SU;Cl.exports.element=Cl.exports.Element=EU;var bU=Cl.exports;const Lt=uw(bU),wv=0,Tv=32,AU=32,RU=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==AU)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const s=r.replace(/(..)/g,"$1 ").trim().split(" ").map(p=>parseInt(p,16));s.reverse();const d=t.slice(wv,Tv).map((p,m)=>p^s[m%s.length]);return Buffer.concat([t.slice(0,wv),d,t.slice(Tv)])};class NU{format(e,r={stack:[]}){const o=e.prepForXml(r);if(o)return o;throw Error("XMLComponent did not format correctly")}}class MU{replace(e,r,o){let s=e;return r.forEach((c,d)=>{s=s.replace(new RegExp(`{${c.fileName}}`,"g"),(o+d).toString())}),s}getMediaData(e,r){return r.Array.filter(o=>e.search(`{${o.fileName}}`)>0)}}class DU{replace(e,r){let o=e;for(const s of r)o=o.replace(new RegExp(`{${s.reference}-${s.instance}}`,"g"),s.numId.toString());return o}}class IU{constructor(){xe(this,"formatter"),xe(this,"imageReplacer"),xe(this,"numberingReplacer"),this.formatter=new NU,this.imageReplacer=new MU,this.numberingReplacer=new DU}compile(e,r){const o=new yU,s=this.xmlifyFile(e,r),c=new Map(Object.entries(s));for(const[,d]of c)if(Array.isArray(d))for(const h of d)o.file(h.path,h.data);else o.file(d.path,d.data);for(const{stream:d,fileName:h}of e.Media.Array)o.file(`word/media/${h}`,d);for(const{data:d,name:h,fontKey:p}of e.FontTable.fontOptionsWithKey){const[m]=h.split(".");o.file(`word/fonts/${m}.odttf`,RU(d,p))}return o}xmlifyFile(e,r){const o=e.Document.Relationships.RelationshipCount+1,s=Lt(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(s,e.Media);return{Relationships:{data:(c.forEach((d,h)=>{e.Document.Relationships.createRelationship(o+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),Lt(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const d=this.imageReplacer.replace(s,c,o);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const d=Lt(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Lt(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Lt(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Lt(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,h)=>{const p=Lt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,T)=>{d.Relationships.createRelationship(T,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Lt(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,h)=>{const p=Lt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,T)=>{d.Relationships.createRelationship(T,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Lt(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:e.Headers.map((d,h)=>{const p=Lt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:e.Footers.map((d,h)=>{const p=Lt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:Lt(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Lt(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Lt(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Lt(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Lt(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Lt(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Lt(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Lt(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Lt(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const kU={WITH_2_BLANKS:"  "},La=t=>t===!0?kU.WITH_2_BLANKS:t===!1?void 0:t;class mT{static toString(e,r){return rl(this,null,function*(){return yield this.compiler.compile(e,La(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,r){return rl(this,null,function*(){return yield this.compiler.compile(e,La(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,r){return rl(this,null,function*(){return yield this.compiler.compile(e,La(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,r){return rl(this,null,function*(){return yield this.compiler.compile(e,La(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,r){const o=new Cd.Stream;return this.compiler.compile(e,La(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(c=>{o.emit("data",c),o.emit("end")}),o}}xe(mT,"compiler",new IU);const xv=async(t,e)=>{if(!t||t.length===0)return null;const r=d=>d?d.split(/(\[\[.*?\]\])/g).filter(Boolean).map(p=>{if(p.startsWith("[[")&&p.endsWith("]]")){const m=p.slice(2,-2);return new li({text:m,style:"LinkStyle"})}return new li(p)}):[],o=[];o.push(new Qt({text:e==="GDD"?"Game Design Document":"Roteiro do Jogo",heading:no.TITLE,alignment:fn.CENTER}));const s=[...new Set(t.map(d=>d.category))];for(const d of s){o.push(new Qt({text:d,heading:no.HEADING_1,spacing:{before:400,after:200}}));const h=t.filter(p=>p.category===d);for(const p of h){if(o.push(new Qt({text:p.title,heading:no.HEADING_2,spacing:{before:300,after:150}})),!p.content||p.content.length===0){o.push(new Qt({children:[new li({text:"[Este documento est vazio.]",italics:!0,color:"808080"})],spacing:{after:200}}));continue}for(const m of p.content)switch(m.type){case"heading":{const y=m.level===1?no.HEADING_3:m.level===2?no.HEADING_4:no.HEADING_5;o.push(new Qt({children:r(m.text),heading:y}));break}case"paragraph":{o.push(new Qt({children:r(m.text),spacing:{after:120}}));break}case"blockquote":{o.push(new Qt({children:r(m.text),style:"IntenseQuote"}));break}case"definition_list":{if(Array.isArray(m.items))for(const y of m.items)o.push(new Qt({children:[new li({text:y.term,bold:!0})]})),o.push(new Qt({children:r(y.description),indent:{left:400},spacing:{after:100}}));break}case"list":{if(Array.isArray(m.items))for(const y of m.items)typeof y=="string"&&o.push(new Qt({children:r(y),...m.style==="ordered"?{numbering:{reference:"default-numbering",level:0}}:{bullet:{level:0}}}));break}case"image":{if(m.src&&m.src.includes(","))try{const y=m.src.split(",")[1],T=atob(y),S=T.length,E=new Uint8Array(S);for(let M=0;M<S;M++)E[M]=T.charCodeAt(M);o.push(new Qt({children:[new Zk({data:E,width:500,height:375})],alignment:fn.CENTER})),m.caption&&o.push(new Qt({children:r(m.caption),style:"Caption"}))}catch(y){console.error("Erro ao processar imagem para o docx:",y),o.push(new Qt({children:[new li({text:`[Falha ao carregar imagem: ${m.id}]`,color:"FF0000"})]}))}break}}}}const c=new mU({creator:"AI-Powered Interactive GDD",title:e,numbering:{config:[{reference:"default-numbering",levels:[{level:0,format:"decimal",text:"%1.",alignment:fn.START}]}]},styles:{paragraphStyles:[{id:"Caption",name:"Caption",basedOn:"Normal",next:"Normal",run:{italics:!0,size:18,color:"808080"},paragraph:{alignment:fn.CENTER,spacing:{after:200}}},{id:"IntenseQuote",name:"Intense Quote",basedOn:"Normal",next:"Normal",run:{color:"5A5A5A",italics:!0},paragraph:{indentation:{left:400},border:{left:{color:"auto",space:4,style:"single",size:6}},spacing:{before:200,after:200}}}],characterStyles:[{id:"LinkStyle",name:"Link Style",basedOn:"Default",run:{color:"0000FF",underline:{type:Ld.SINGLE,color:"0000FF"}}}]},sections:[{children:o}]});return mT.toBlob(c)};function UU(){var zr;const{documents:t,scriptDocuments:e,setDocuments:r,setScriptDocuments:o,isDBLoading:s,dbError:c,viewMode:d,setViewMode:h,activeDocuments:p,activeDocumentId:m,categories:y,activeDocument:T,totalWordCount:S,searchQuery:E,setSearchQuery:M,searchResults:b,scrollToHeading:I,handleSelectDocument:A,handleSelectSearchResult:D,handleNavigate:O,handleDidScrollToHeading:J,handleUpdateBlock:K,handleSetContent:ue,handleUpdateBlockContent:oe,handleUpdateCategoryName:he,handleUpdateDocumentTitle:G,handleReorderDocuments:Te,handleReorderCategories:be}=jD(),{googleAccessToken:Z,authError:pe,handleGoogleAuthClick:B}=eI(),[de,se]=Ue.useState(320),re=Ue.useRef(!1),[Ae,ae]=Ue.useState(!1),[Y,W]=Ue.useState(!1),[L,X]=Ue.useState(!1),[j,ee]=Ue.useState(!1),[V,_]=Ue.useState(null),[C,$]=Ue.useState(null),[z,F]=Ue.useState({isOpen:!1,docId:null,blockIndex:null,itemIndex:void 0,initialText:""}),[H,fe]=Ue.useState({isOpen:!1,targetDoc:null,references:[]}),[R,le]=Ue.useState({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),[k,v]=Ue.useState(null),[x,N]=Ue.useState(!1),[Q,ie]=Ue.useState([]),[te,_e]=Ue.useState(!1),De=Ue.useRef(null);Ue.useEffect(()=>{const Ke=nt=>{if(!re.current)return;const rt=Math.max(240,Math.min(nt.clientX,600));se(rt)},Je=()=>{re.current=!1,document.body.style.cursor="auto",document.body.style.userSelect="auto"};return window.addEventListener("mousemove",Ke),window.addEventListener("mouseup",Je),()=>{window.removeEventListener("mousemove",Ke),window.removeEventListener("mouseup",Je)}},[]);const Ne=Ke=>{Ke.preventDefault(),re.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"};Ue.useEffect(()=>{c&&v(c)},[c]),Ue.useEffect(()=>{pe&&v(pe)},[pe]);const ke=async(Ke,Je)=>{ae(!1),v(null);const nt=(d==="gdd"?t:e)||[],rt=d==="gdd"?r:o,ht=d==="gdd"?"GDD":"Roteiro";le({isLoading:!0,message:"A IA est analisando sua ideia...",currentTokens:0,estimatedTokens:Je.maxOutputTokens});const At=Ve=>{le(at=>({...at,currentTokens:Ve}))};try{const{payload:Ve,rawJson:at}=await zD(Ke,nt,ht,At,Je);$({...Ve,rawJson:at}),le(lt=>({...lt,message:`Integrando sugesto da IA: ${Ve.summary}`}));let st=[];rt(lt=>(st=s0(lt||[],Ve),st));const $e=Ve.newDocuments;$e.length>0?A($e[0].id):setTimeout(()=>{!st.some(It=>It.id===m)&&st.length>0&&A(st[0].id)},0)}catch(Ve){console.error(Ve),v(Ve instanceof Error?Ve.message:"Ocorreu um erro desconhecido.")}finally{setTimeout(()=>le({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},Le=async(Ke,Je)=>{W(!1),v(null);const nt=(d==="gdd"?t:e)||[],rt=d==="gdd"?r:o,ht=d==="gdd"?"GDD":"Roteiro";le({isLoading:!0,message:"A IA est reestruturando os documentos...",currentTokens:0,estimatedTokens:Je.maxOutputTokens});const At=Ve=>{le(at=>({...at,currentTokens:Ve}))};try{const{payload:Ve,rawJson:at}=await HD(Ke,nt,ht,At,Je);$({...Ve,rawJson:at});let st=[];rt($e=>(st=s0($e||[],Ve),st)),le($e=>({...$e,message:Ve.summary||"Documentos atualizados com sucesso!"})),setTimeout(()=>{!st.some(lt=>lt.id===m)&&st.length>0&&A(st[0].id)},0)}catch(Ve){console.error(Ve),v(Ve instanceof Error?Ve.message:`Ocorreu um erro desconhecido durante a atualizao global do ${ht}.`)}finally{setTimeout(()=>le({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1e3)}},Fe=()=>{v(null);try{const Je=JSON.stringify({gdd:t,script:e},null,2),nt=new Blob([Je],{type:"application/json"}),rt=URL.createObjectURL(nt),ht=document.createElement("a");ht.href=rt,ht.download="gdd-e-roteiro-data.json",document.body.appendChild(ht),ht.click(),document.body.removeChild(ht),URL.revokeObjectURL(rt)}catch(Ke){console.error("Falha ao fazer o download dos dados",Ke),v(Ke instanceof Error?Ke.message:"Falha ao fazer o download dos dados.")}},ct=async()=>{v(null),le({isLoading:!0,message:"Gerando arquivos .docx...",currentTokens:0,estimatedTokens:0});try{const Ke=(rt,ht)=>{const At=URL.createObjectURL(rt),Ve=document.createElement("a");Ve.href=At,Ve.download=ht,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),URL.revokeObjectURL(At)},Je=await xv(t,"GDD");Je&&Ke(Je,"GDD.docx"),await new Promise(rt=>setTimeout(rt,200));const nt=await xv(e,"Roteiro");nt&&Ke(nt,"Roteiro.docx"),le(rt=>({...rt,message:"Documentos gerados com sucesso!"}))}catch(Ke){console.error("Falha ao gerar documentos",Ke),v(Ke instanceof Error?Ke.message:"Falha ao gerar os documentos.")}finally{setTimeout(()=>{le({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},1500)}},xn=()=>{v(null);const Ke=document.createElement("input");Ke.type="file",Ke.accept="application/json,.json",Ke.onchange=Je=>{var At;const rt=(At=Je.target.files)==null?void 0:At[0];if(!rt)return;le({isLoading:!0,message:"Processando arquivo...",currentTokens:0,estimatedTokens:0});const ht=new FileReader;ht.onload=Ve=>{var st;const at=(st=Ve.target)==null?void 0:st.result;if(typeof at=="string")try{const $e=JSON.parse(at),lt=It=>Array.isArray(It)&&It.every(rn=>rn&&typeof rn=="object"&&"id"in rn&&"title"in rn&&"category"in rn&&"content"in rn);if($e&&typeof $e=="object"&&"gdd"in $e&&"script"in $e&&!Array.isArray($e)){if(!lt($e.gdd)||!lt($e.script))throw new Error("Formato de arquivo invlido. O arquivo combinado deve conter arrays de documentos vlidos para GDD e Roteiro.");r($e.gdd),o($e.script)}else if(lt($e))r($e);else throw new Error("Formato de arquivo desconhecido ou invlido. O arquivo deve conter um GDD e Roteiro combinados ou apenas um GDD antigo.")}catch($e){console.error("Falha ao analisar o arquivo carregado",$e),v($e instanceof Error?$e.message:"Falha ao processar o arquivo. Certifique-se de que  um arquivo JSON vlido.")}finally{le({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},ht.onerror=()=>{v("Falha ao ler o arquivo."),le({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},ht.readAsText(rt)},Ke.click()},an=(Ke,Je,nt,rt)=>{F({isOpen:!0,docId:Ke,blockIndex:Je,initialText:nt,itemIndex:rt})},Zn=async(Ke,Je)=>{const{docId:nt,blockIndex:rt,itemIndex:ht,initialText:At}=z;if(nt===null||rt===null||!At)return;F({...z,isOpen:!1}),v(null);const Ve=Math.round(QD(At)*1.5);le({isLoading:!0,message:"A IA est aprimorando o texto...",currentTokens:0,estimatedTokens:Ve});const at=st=>{le($e=>({...$e,currentTokens:st}))};try{const lt=await qD(At,Ke,Je?(d==="gdd"?t:e)||[]:void 0,at);K(nt,rt,lt,ht)}catch(st){console.error("Falha ao aprimorar o texto",st),v(st instanceof Error?st.message:"Falha ao aprimorar o texto.")}finally{le({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},pt=Ke=>{const Je=[...t||[],...e||[]],nt=Je.find(Ve=>Ve.id===Ke);if(!nt)return;const rt=[],ht=new RegExp(`(\\[\\[${nt.title.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\])`,"gi"),At=Ve=>Ve.split(ht).map((at,st)=>ht.test(at)?P.jsx("strong",{className:"bg-yellow-400/30 text-yellow-200",children:at},st):at);Je.forEach(Ve=>{Ve.id!==nt.id&&Ve.content.forEach(at=>{let st=[];(at.type==="heading"||at.type==="paragraph")&&at.text?st.push(at.text):at.type==="list"&&at.items?st.push(...at.items.filter(Boolean)):at.type==="image"&&at.caption&&st.push(at.caption),st.forEach($e=>{ht.test($e)&&rt.push({docId:Ve.id,docTitle:Ve.title,category:Ve.category,snippet:P.jsx(P.Fragment,{children:At($e)})})})})}),fe({isOpen:!0,targetDoc:nt,references:rt})},Un=()=>{fe({isOpen:!1,targetDoc:null,references:[]})},hn=()=>{N(Ke=>!Ke)},$t=()=>{ie([]),De.current=null},Gn=async Ke=>{if(!t||!e)return;const Je={role:"user",text:Ke};ie(nt=>[...nt,Je]),_e(!0);try{De.current||(De.current=KD(t,e));const rt={role:"model",text:(await De.current.sendMessage({message:Ke})).text};ie(ht=>[...ht,rt])}catch(nt){console.error("Erro na consulta avanada do chat:",nt);const rt={role:"model",text:"Desculpe, ocorreu um erro ao processar sua pergunta. Por favor, tente novamente."};ie(ht=>[...ht,rt])}finally{_e(!1)}},Do=(Ke,Je)=>{_({docId:Ke,insertionIndex:Je}),ee(!0)},gi=async Ke=>{if(!V)return;const{docId:Je,insertionIndex:nt}=V,rt=(t||[]).some(Ve=>Ve.id===Je),At=((rt?t:e)||[]).find(Ve=>Ve.id===Je);if(!At){v("Documento alvo para gerao de imagem no encontrado.");return}ee(!1),v(null);try{le({isLoading:!0,message:"A IA est criando um prompt de imagem detalhado...",currentTokens:0,estimatedTokens:0});const Ve=await YD(At,nt,[...t||[],...e||[]],Ke);le(Qn=>({...Qn,message:"A IA est gerando a imagem..."}));const{base64:at,mimeType:st}=await JD(Ve),$e={type:"image",id:`img-ai-${Date.now()}`,src:`data:${st};base64,${at}`,caption:Ve},lt=[...At.content];lt.splice(nt,0,$e);const It=rt?r:o,rn=new Date().toISOString();It(Qn=>(Qn||[]).map(Io=>Io.id===Je?{...Io,content:lt,lastEdited:rn}:Io)),le(Qn=>({...Qn,message:"Imagem gerada e inserida com sucesso!"}))}catch(Ve){console.error("Falha ao gerar a imagem com IA",Ve),v(Ve instanceof Error?Ve.message:"Ocorreu um erro desconhecido durante a gerao da imagem.")}finally{_(null),setTimeout(()=>le({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}};return P.jsxs("div",{className:"flex h-screen font-sans",children:[(R.isLoading||s)&&P.jsx(lS,{message:s?"Carregando documentos...":R.message,currentTokens:R.currentTokens,estimatedTokens:R.estimatedTokens}),P.jsx(V1,{width:de,title:d==="gdd"?"GDD Explorer":"Roteiro Explorer",documents:p,categories:y,activeDocumentId:m,onSelectDocument:A,onUpdateCategoryName:he,onUpdateDocumentTitle:G,onReorderDocuments:Te,onReorderCategories:be,onFindReferences:pt,totalWordCount:S,searchQuery:E,onSearchChange:M,searchResults:b,onSelectSearchResult:D}),P.jsx("div",{onMouseDown:Ne,className:"w-1.5 flex-shrink-0 bg-gray-700 hover:bg-indigo-500 transition-colors duration-200",style:{cursor:"col-resize"}}),P.jsxs("main",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto min-w-0",children:[P.jsxs("header",{className:"sticky top-0 z-30 flex items-center justify-between p-4 bg-gray-900/80 backdrop-blur-sm border-b border-gray-700",children:[P.jsxs("div",{className:"flex items-center",children:[P.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[P.jsx(z1,{}),"GDD Interativo com IA"]}),P.jsxs("div",{className:"ml-4 bg-gray-800 p-1 rounded-lg flex items-center",children:[P.jsx("button",{onClick:()=>h("gdd"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${d==="gdd"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"GDD"}),P.jsx("button",{onClick:()=>h("script"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${d==="script"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"Roteiro"})]})]}),P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx("button",{onClick:xn,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-3 rounded-lg flex items-center transition-colors duration-200",title:"Carregar GDD e Roteiro do computador",children:P.jsx(q1,{})}),P.jsx("button",{onClick:Fe,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-3 rounded-lg flex items-center transition-colors duration-200",title:"Salvar GDD e Roteiro no computador",children:P.jsx(H1,{})}),P.jsx("button",{onClick:B,disabled:!!Z,className:`font-bold py-2 px-3 rounded-lg flex items-center transition-colors duration-200 ${Z?"bg-green-700 text-white cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,title:Z?"Conectado ao Google Drive":"Conectar ao Google Drive para salvar backups",children:P.jsx(K1,{})}),P.jsx("button",{onClick:ct,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-3 rounded-lg flex items-center transition-colors duration-200",title:"Gerar e baixar o documento completo",children:P.jsx(Y1,{})}),P.jsxs("button",{onClick:()=>X(!0),disabled:!C,className:"bg-teal-600 hover:bg-teal-500 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors duration-200 disabled:bg-gray-600 disabled:cursor-not-allowed",title:"Ver o processo de raciocnio da ltima ao da IA",children:[P.jsx(W1,{}),"Ver Raciocnio da IA"]}),P.jsxs("button",{onClick:()=>W(!0),className:"bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors duration-200",title:`Atualizar todo o ${d.toUpperCase()} com uma instruo`,children:[P.jsx(J1,{}),"Atualizao Global"]}),P.jsxs("button",{onClick:()=>ae(!0),className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors duration-200",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Integrar Nova Ideia"]})]})]}),k&&P.jsxs("div",{className:"m-4 p-4 bg-red-800/50 border border-red-600 text-red-200 rounded-md",children:[P.jsx("h3",{className:"font-bold",children:"Ocorreu um Erro"}),P.jsx("p",{children:k})]}),P.jsx(rS,{document:T,allDocuments:[...t||[],...e||[]],onNavigate:O,onRefineRequest:an,onFindReferences:pt,onUpdateBlock:K,onUpdateBlockContent:oe,onSetContent:ue,scrollToHeading:I,onDidScrollToHeading:J,onOpenImageGenerationModal:Do})]}),P.jsx(iS,{isOpen:Ae,onClose:()=>ae(!1),onSubmit:ke,contextType:d==="gdd"?"GDD":"Roteiro"}),P.jsx(sS,{isOpen:Y,onClose:()=>W(!1),onSubmit:Le,contextType:d==="gdd"?"GDD":"Roteiro"}),P.jsx(gS,{isOpen:j,onClose:()=>ee(!1),onSubmit:gi}),P.jsx(aS,{isOpen:z.isOpen,onClose:()=>F({...z,isOpen:!1}),onSubmit:Zn,initialText:z.initialText,contextType:d==="gdd"?"GDD":"Roteiro"}),P.jsx(cS,{isOpen:H.isOpen,onClose:Un,targetDocTitle:((zr=H.targetDoc)==null?void 0:zr.title)||"",references:H.references,onNavigate:O}),P.jsx(mS,{isOpen:L,onClose:()=>X(!1),insight:C}),P.jsx(pS,{isOpen:x,onToggle:hn,messages:Q,isLoading:te,onSendMessage:Gn,onClearChat:$t})]})}const gT=document.getElementById("root");if(!gT)throw new Error("Could not find root element to mount to");const LU=B1.createRoot(gT);LU.render(P.jsx(Ba.StrictMode,{children:P.jsx(UU,{})}));

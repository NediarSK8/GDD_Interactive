(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function bv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ef={exports:{}},Us={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function D1(){if(bg)return Us;bg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var h in a)h!=="key"&&(c[h]=a[h])}else c=a;return a=c.ref,{$$typeof:t,type:o,key:d,ref:a!==void 0?a:null,props:c}}return Us.Fragment=e,Us.jsx=r,Us.jsxs=r,Us}var Cg;function M1(){return Cg||(Cg=1,ef.exports=D1()),ef.exports}var k=M1(),tf={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function I1(){if(Ag)return Ze;Ag=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function S(K){return K===null||typeof K!="object"?null:(K=x&&K[x]||K["@@iterator"],typeof K=="function"?K:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,A={};function U(K,Y,P){this.props=K,this.context=Y,this.refs=A,this.updater=P||E}U.prototype.isReactComponent={},U.prototype.setState=function(K,Y){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,Y,"setState")},U.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function C(){}C.prototype=U.prototype;function M(K,Y,P){this.props=K,this.context=Y,this.refs=A,this.updater=P||E}var O=M.prototype=new C;O.constructor=M,D(O,U.prototype),O.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function ae(K,Y,P,J,j,ee){return P=ee.ref,{$$typeof:t,type:K,key:Y,ref:P!==void 0?P:null,props:ee}}function de(K,Y){return ae(K.type,Y,void 0,void 0,void 0,K.props)}function G(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function Te(K){var Y={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(P){return Y[P]})}var Re=/\/+/g;function Z(K,Y){return typeof K=="object"&&K!==null&&K.key!=null?Te(""+K.key):Y.toString(36)}function pe(){}function B(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(pe,pe):(K.status="pending",K.then(function(Y){K.status==="pending"&&(K.status="fulfilled",K.value=Y)},function(Y){K.status==="pending"&&(K.status="rejected",K.reason=Y)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function he(K,Y,P,J,j){var ee=typeof K;(ee==="undefined"||ee==="boolean")&&(K=null);var $=!1;if(K===null)$=!0;else switch(ee){case"bigint":case"string":case"number":$=!0;break;case"object":switch(K.$$typeof){case t:case e:$=!0;break;case y:return $=K._init,he($(K._payload),Y,P,J,j)}}if($)return j=j(K),$=J===""?"."+Z(K,0):J,H(j)?(P="",$!=null&&(P=$.replace(Re,"$&/")+"/"),he(j,Y,P,"",function(te){return te})):j!=null&&(G(j)&&(j=de(j,P+(j.key==null||K&&K.key===j.key?"":(""+j.key).replace(Re,"$&/")+"/")+$)),Y.push(j)),1;$=0;var N=J===""?".":J+":";if(H(K))for(var R=0;R<K.length;R++)J=K[R],ee=N+Z(J,R),$+=he(J,Y,P,ee,j);else if(R=S(K),typeof R=="function")for(K=R.call(K),R=0;!(J=K.next()).done;)J=J.value,ee=N+Z(J,R++),$+=he(J,Y,P,ee,j);else if(ee==="object"){if(typeof K.then=="function")return he(B(K),Y,P,J,j);throw Y=String(K),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return $}function le(K,Y,P){if(K==null)return K;var J=[],j=0;return he(K,J,"","",function(ee){return Y.call(P,ee,j++)}),J}function se(K){if(K._status===-1){var Y=K._result;Y=Y(),Y.then(function(P){(K._status===0||K._status===-1)&&(K._status=1,K._result=P)},function(P){(K._status===0||K._status===-1)&&(K._status=2,K._result=P)}),K._status===-1&&(K._status=0,K._result=Y)}if(K._status===1)return K._result.default;throw K._result}var Ce=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function ue(){}return Ze.Children={map:le,forEach:function(K,Y,P){le(K,function(){Y.apply(this,arguments)},P)},count:function(K){var Y=0;return le(K,function(){Y++}),Y},toArray:function(K){return le(K,function(Y){return Y})||[]},only:function(K){if(!G(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Ze.Component=U,Ze.Fragment=r,Ze.Profiler=a,Ze.PureComponent=M,Ze.StrictMode=o,Ze.Suspense=p,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(K){return q.H.useMemoCache(K)}},Ze.cache=function(K){return function(){return K.apply(null,arguments)}},Ze.cloneElement=function(K,Y,P){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var J=D({},K.props),j=K.key,ee=void 0;if(Y!=null)for($ in Y.ref!==void 0&&(ee=void 0),Y.key!==void 0&&(j=""+Y.key),Y)!ce.call(Y,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&Y.ref===void 0||(J[$]=Y[$]);var $=arguments.length-2;if($===1)J.children=P;else if(1<$){for(var N=Array($),R=0;R<$;R++)N[R]=arguments[R+2];J.children=N}return ae(K.type,j,void 0,void 0,ee,J)},Ze.createContext=function(K){return K={$$typeof:d,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:c,_context:K},K},Ze.createElement=function(K,Y,P){var J,j={},ee=null;if(Y!=null)for(J in Y.key!==void 0&&(ee=""+Y.key),Y)ce.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(j[J]=Y[J]);var $=arguments.length-2;if($===1)j.children=P;else if(1<$){for(var N=Array($),R=0;R<$;R++)N[R]=arguments[R+2];j.children=N}if(K&&K.defaultProps)for(J in $=K.defaultProps,$)j[J]===void 0&&(j[J]=$[J]);return ae(K,ee,void 0,void 0,null,j)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(K){return{$$typeof:h,render:K}},Ze.isValidElement=G,Ze.lazy=function(K){return{$$typeof:y,_payload:{_status:-1,_result:K},_init:se}},Ze.memo=function(K,Y){return{$$typeof:m,type:K,compare:Y===void 0?null:Y}},Ze.startTransition=function(K){var Y=q.T,P={};q.T=P;try{var J=K(),j=q.S;j!==null&&j(P,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ue,Ce)}catch(ee){Ce(ee)}finally{q.T=Y}},Ze.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ze.use=function(K){return q.H.use(K)},Ze.useActionState=function(K,Y,P){return q.H.useActionState(K,Y,P)},Ze.useCallback=function(K,Y){return q.H.useCallback(K,Y)},Ze.useContext=function(K){return q.H.useContext(K)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(K,Y){return q.H.useDeferredValue(K,Y)},Ze.useEffect=function(K,Y,P){var J=q.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(K,Y)},Ze.useId=function(){return q.H.useId()},Ze.useImperativeHandle=function(K,Y,P){return q.H.useImperativeHandle(K,Y,P)},Ze.useInsertionEffect=function(K,Y){return q.H.useInsertionEffect(K,Y)},Ze.useLayoutEffect=function(K,Y){return q.H.useLayoutEffect(K,Y)},Ze.useMemo=function(K,Y){return q.H.useMemo(K,Y)},Ze.useOptimistic=function(K,Y){return q.H.useOptimistic(K,Y)},Ze.useReducer=function(K,Y,P){return q.H.useReducer(K,Y,P)},Ze.useRef=function(K){return q.H.useRef(K)},Ze.useState=function(K){return q.H.useState(K)},Ze.useSyncExternalStore=function(K,Y,P){return q.H.useSyncExternalStore(K,Y,P)},Ze.useTransition=function(){return q.H.useTransition()},Ze.version="19.1.1",Ze}var Rg;function Sd(){return Rg||(Rg=1,tf.exports=I1()),tf.exports}var Ue=Sd();const qs=bv(Ue);var nf={exports:{}},Ls={},rf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function k1(){return Ng||(Ng=1,(function(t){function e(le,se){var Ce=le.length;le.push(se);e:for(;0<Ce;){var ue=Ce-1>>>1,K=le[ue];if(0<a(K,se))le[ue]=se,le[Ce]=K,Ce=ue;else break e}}function r(le){return le.length===0?null:le[0]}function o(le){if(le.length===0)return null;var se=le[0],Ce=le.pop();if(Ce!==se){le[0]=Ce;e:for(var ue=0,K=le.length,Y=K>>>1;ue<Y;){var P=2*(ue+1)-1,J=le[P],j=P+1,ee=le[j];if(0>a(J,Ce))j<K&&0>a(ee,J)?(le[ue]=ee,le[j]=Ce,ue=j):(le[ue]=J,le[P]=Ce,ue=P);else if(j<K&&0>a(ee,Ce))le[ue]=ee,le[j]=Ce,ue=j;else break e}}return se}function a(le,se){var Ce=le.sortIndex-se.sortIndex;return Ce!==0?Ce:le.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,x=null,S=3,E=!1,D=!1,A=!1,U=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function H(le){for(var se=r(m);se!==null;){if(se.callback===null)o(m);else if(se.startTime<=le)o(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=r(m)}}function q(le){if(A=!1,H(le),!D)if(r(p)!==null)D=!0,ce||(ce=!0,Z());else{var se=r(m);se!==null&&he(q,se.startTime-le)}}var ce=!1,ae=-1,de=5,G=-1;function Te(){return U?!0:!(t.unstable_now()-G<de)}function Re(){if(U=!1,ce){var le=t.unstable_now();G=le;var se=!0;try{e:{D=!1,A&&(A=!1,M(ae),ae=-1),E=!0;var Ce=S;try{t:{for(H(le),x=r(p);x!==null&&!(x.expirationTime>le&&Te());){var ue=x.callback;if(typeof ue=="function"){x.callback=null,S=x.priorityLevel;var K=ue(x.expirationTime<=le);if(le=t.unstable_now(),typeof K=="function"){x.callback=K,H(le),se=!0;break t}x===r(p)&&o(p),H(le)}else o(p);x=r(p)}if(x!==null)se=!0;else{var Y=r(m);Y!==null&&he(q,Y.startTime-le),se=!1}}break e}finally{x=null,S=Ce,E=!1}se=void 0}}finally{se?Z():ce=!1}}}var Z;if(typeof O=="function")Z=function(){O(Re)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,B=pe.port2;pe.port1.onmessage=Re,Z=function(){B.postMessage(null)}}else Z=function(){C(Re,0)};function he(le,se){ae=C(function(){le(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(le){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var Ce=S;S=se;try{return le()}finally{S=Ce}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(le,se){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Ce=S;S=le;try{return se()}finally{S=Ce}},t.unstable_scheduleCallback=function(le,se,Ce){var ue=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?ue+Ce:ue):Ce=ue,le){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Ce+K,le={id:y++,callback:se,priorityLevel:le,startTime:Ce,expirationTime:K,sortIndex:-1},Ce>ue?(le.sortIndex=Ce,e(m,le),r(p)===null&&le===r(m)&&(A?(M(ae),ae=-1):A=!0,he(q,Ce-ue))):(le.sortIndex=K,e(p,le),D||E||(D=!0,ce||(ce=!0,Z()))),le},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(le){var se=S;return function(){var Ce=S;S=se;try{return le.apply(this,arguments)}finally{S=Ce}}}})(of)),of}var Dg;function U1(){return Dg||(Dg=1,rf.exports=k1()),rf.exports}var sf={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function L1(){if(Mg)return en;Mg=1;var t=Sd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(p,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:p,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,en.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},en.flushSync=function(p){var m=d.T,y=o.p;try{if(d.T=null,o.p=2,p)return p()}finally{d.T=m,o.p=y,o.d.f()}},en.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},en.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},en.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:E}):y==="script"&&o.d.X(p,{crossOrigin:x,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},en.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},en.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin);o.d.L(p,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},en.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},en.requestFormReset=function(p){o.d.r(p)},en.unstable_batchedUpdates=function(p,m){return p(m)},en.useFormState=function(p,m,y){return d.H.useFormState(p,m,y)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.1.1",en}var Ig;function B1(){if(Ig)return sf.exports;Ig=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sf.exports=L1(),sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function P1(){if(kg)return Ls;kg=1;var t=U1(),e=Sd(),r=B1();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(o(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(o(188));return i!==n?null:n}for(var s=n,f=i;;){var g=s.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){s=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===s)return h(g),n;if(w===f)return h(g),i;w=w.sibling}throw Error(o(188))}if(s.return!==f.return)s=g,f=w;else{for(var L=!1,V=g.child;V;){if(V===s){L=!0,s=g,f=w;break}if(V===f){L=!0,f=g,s=w;break}V=V.sibling}if(!L){for(V=w.child;V;){if(V===s){L=!0,s=w,f=g;break}if(V===f){L=!0,f=w,s=g;break}V=V.sibling}if(!L)throw Error(o(189))}}if(s.alternate!==f)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),O=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=Re&&n[Re]||n["@@iterator"],typeof n=="function"?n:null)}var pe=Symbol.for("react.client.reference");function B(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===pe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case U:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case ce:return"SuspenseList";case G:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case O:return(n.displayName||"Context")+".Provider";case M:return(n._context.displayName||"Context")+".Consumer";case H:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ae:return i=n.displayName||null,i!==null?i:B(n.type)||"Memo";case de:i=n._payload,n=n._init;try{return B(n(i))}catch{}}return null}var he=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},ue=[],K=-1;function Y(n){return{current:n}}function P(n){0>K||(n.current=ue[K],ue[K]=null,K--)}function J(n,i){K++,ue[K]=n.current,n.current=i}var j=Y(null),ee=Y(null),$=Y(null),N=Y(null);function R(n,i){switch(J($,i),J(ee,n),J(j,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?jm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=jm(i),n=eg(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}P(j),J(j,n)}function te(){P(j),P(ee),P($)}function W(n){n.memoizedState!==null&&J(N,n);var i=j.current,s=eg(i,n.type);i!==s&&(J(ee,n),J(j,s))}function z(n){ee.current===n&&(P(j),P(ee)),N.current===n&&(P(N),Ns._currentValue=Ce)}var F=Object.prototype.hasOwnProperty,ie=t.unstable_scheduleCallback,_=t.unstable_cancelCallback,re=t.unstable_shouldYield,I=t.unstable_requestPaint,v=t.unstable_now,T=t.unstable_getCurrentPriorityLevel,b=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,ne=t.unstable_NormalPriority,Q=t.unstable_LowPriority,ge=t.unstable_IdlePriority,De=t.log,be=t.unstable_setDisableYieldValue,ke=null,Le=null;function ze(n){if(typeof De=="function"&&be(n),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(ke,n)}catch{}}var Xe=Math.clz32?Math.clz32:_t,Rt=Math.log,Nt=Math.LN2;function _t(n){return n>>>=0,n===0?32:31-(Rt(n)/Nt|0)|0}var ht=256,mn=4194304;function an(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ct(n,i,s){var f=n.pendingLanes;if(f===0)return 0;var g=0,w=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var V=f&134217727;return V!==0?(f=V&~w,f!==0?g=an(f):(L&=V,L!==0?g=an(L):s||(s=V&~n,s!==0&&(g=an(s))))):(V=f&~w,V!==0?g=an(V):L!==0?g=an(L):s||(s=f&~n,s!==0&&(g=an(s)))),g===0?0:i!==0&&i!==g&&(i&w)===0&&(w=g&-g,s=i&-i,w>=s||w===32&&(s&4194048)!==0)?i:g}function Bn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function _i(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(){var n=ht;return ht<<=1,(ht&4194048)===0&&(ht=256),n}function bi(){var n=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),n}function xr(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function gn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Tr(n,i,s,f,g,w){var L=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var V=n.entanglements,oe=n.expirationTimes,ve=n.hiddenUpdates;for(s=L&~s;0<s;){var Ae=31-Xe(s),Me=1<<Ae;V[Ae]=0,oe[Ae]=-1;var we=ve[Ae];if(we!==null)for(ve[Ae]=null,Ae=0;Ae<we.length;Ae++){var xe=we[Ae];xe!==null&&(xe.lane&=-536870913)}s&=~Me}f!==0&&$s(n,f,0),w!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=w&~(L&~i))}function $s(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var f=31-Xe(i);n.entangledLanes|=i,n.entanglements[f]=n.entanglements[f]|1073741824|s&4194090}function Xs(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var f=31-Xe(s),g=1<<f;g&i|n[f]&i&&(n[f]|=i),s&=~g}}function Po(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Oo(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Zs(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:wg(n.type))}function Fo(n,i){var s=se.p;try{return se.p=n,i()}finally{se.p=s}}var qn=Math.random().toString(36).slice(2),qt="__reactFiber$"+qn,Zt="__reactProps$"+qn,Sr="__reactContainer$"+qn,Go="__reactEvents$"+qn,Qs="__reactListeners$"+qn,Wl="__reactHandles$"+qn,js="__reactResources$"+qn,Zr="__reactMarker$"+qn;function zo(n){delete n[qt],delete n[Zt],delete n[Go],delete n[Qs],delete n[Wl]}function Er(n){var i=n[qt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[Sr]||s[qt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=ig(n);n!==null;){if(s=n[qt])return s;n=ig(n)}return i}n=s,s=n.parentNode}return null}function _r(n){if(n=n[qt]||n[Sr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function br(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function Pe(n){var i=n[js];return i||(i=n[js]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Be(n){n[Zr]=!0}var Qe=new Set,We={};function Je(n,i){ct(n,i),ct(n+"Capture",i)}function ct(n,i){for(We[n]=i,n=0;n<i.length;n++)Qe.add(i[n])}var qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},st={};function Jt(n){return F.call(st,n)?!0:F.call(tt,n)?!1:qe.test(n)?st[n]=!0:(tt[n]=!0,!1)}function Qt(n,i,s){if(Jt(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Cr(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Pn(n,i,s,f){if(f===null)n.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+f)}}var tr,Ci;function Ai(n){if(tr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);tr=i&&i[1]||"",Ci=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+n+Ci}var $l=!1;function Xl(n,i){if(!n||$l)return"";$l=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(xe){var we=xe}Reflect.construct(n,[],Me)}else{try{Me.call()}catch(xe){we=xe}n.call(Me.prototype)}}else{try{throw Error()}catch(xe){we=xe}(Me=n())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(xe){if(xe&&we&&typeof xe.stack=="string")return[xe.stack,we.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),L=w[0],V=w[1];if(L&&V){var oe=L.split(`
`),ve=V.split(`
`);for(g=f=0;f<oe.length&&!oe[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ve.length&&!ve[g].includes("DetermineComponentFrameRoot");)g++;if(f===oe.length||g===ve.length)for(f=oe.length-1,g=ve.length-1;1<=f&&0<=g&&oe[f]!==ve[g];)g--;for(;1<=f&&0<=g;f--,g--)if(oe[f]!==ve[g]){if(f!==1||g!==1)do if(f--,g--,0>g||oe[f]!==ve[g]){var Ae=`
`+oe[f].replace(" at new "," at ");return n.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",n.displayName)),Ae}while(1<=f&&0<=g);break}}}finally{$l=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Ai(s):""}function _x(n){switch(n.tag){case 26:case 27:case 5:return Ai(n.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Xl(n.type,!1);case 11:return Xl(n.type.render,!1);case 1:return Xl(n.type,!0);case 31:return Ai("Activity");default:return""}}function Jd(n){try{var i="";do i+=_x(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function _n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wd(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bx(n){var i=Wd(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),f=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var g=s.get,w=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(L){f=""+L,w.call(this,L)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ea(n){n._valueTracker||(n._valueTracker=bx(n))}function $d(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),f="";return n&&(f=Wd(n)?n.checked?"true":"false":n.value),n=f,n!==s?(i.setValue(n),!0):!1}function ta(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Cx=/[\n"\\]/g;function bn(n){return n.replace(Cx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Zl(n,i,s,f,g,w,L,V){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+_n(i)):n.value!==""+_n(i)&&(n.value=""+_n(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?Ql(n,L,_n(i)):s!=null?Ql(n,L,_n(s)):f!=null&&n.removeAttribute("value"),g==null&&w!=null&&(n.defaultChecked=!!w),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?n.name=""+_n(V):n.removeAttribute("name")}function Xd(n,i,s,f,g,w,L,V){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.type=w),i!=null||s!=null){if(!(w!=="submit"&&w!=="reset"||i!=null))return;s=s!=null?""+_n(s):"",i=i!=null?""+_n(i):s,V||i===n.value||(n.value=i),n.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=V?n.checked:!!f,n.defaultChecked=!!f,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L)}function Ql(n,i,s){i==="number"&&ta(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Ri(n,i,s,f){if(n=n.options,i){i={};for(var g=0;g<s.length;g++)i["$"+s[g]]=!0;for(s=0;s<n.length;s++)g=i.hasOwnProperty("$"+n[s].value),n[s].selected!==g&&(n[s].selected=g),g&&f&&(n[s].defaultSelected=!0)}else{for(s=""+_n(s),i=null,g=0;g<n.length;g++){if(n[g].value===s){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Zd(n,i,s){if(i!=null&&(i=""+_n(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+_n(s):""}function Qd(n,i,s,f){if(i==null){if(f!=null){if(s!=null)throw Error(o(92));if(he(f)){if(1<f.length)throw Error(o(93));f=f[0]}s=f}s==null&&(s=""),i=s}s=_n(i),n.defaultValue=s,f=n.textContent,f===s&&f!==""&&f!==null&&(n.value=f)}function Ni(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Ax=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jd(n,i,s){var f=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?f?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":f?n.setProperty(i,s):typeof s!="number"||s===0||Ax.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function eh(n,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,s!=null){for(var f in s)!s.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&s[g]!==f&&jd(n,g,f)}else for(var w in i)i.hasOwnProperty(w)&&jd(n,w,i[w])}function jl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(n){return Nx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var eu=null;function tu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Di=null,Mi=null;function th(n){var i=_r(n);if(i&&(n=i.stateNode)){var s=n[Zt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Zl(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+bn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var f=s[i];if(f!==n&&f.form===n.form){var g=f[Zt]||null;if(!g)throw Error(o(90));Zl(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<s.length;i++)f=s[i],f.form===n.form&&$d(f)}break e;case"textarea":Zd(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ri(n,!!s.multiple,i,!1)}}}var nu=!1;function nh(n,i,s){if(nu)return n(i,s);nu=!0;try{var f=n(i);return f}finally{if(nu=!1,(Di!==null||Mi!==null)&&(za(),Di&&(i=Di,n=Mi,Mi=Di=null,th(i),n)))for(i=0;i<n.length;i++)th(n[i])}}function Vo(n,i){var s=n.stateNode;if(s===null)return null;var f=s[Zt]||null;if(f===null)return null;s=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ru=!1;if(nr)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){ru=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{ru=!1}var Ar=null,iu=null,ra=null;function rh(){if(ra)return ra;var n,i=iu,s=i.length,f,g="value"in Ar?Ar.value:Ar.textContent,w=g.length;for(n=0;n<s&&i[n]===g[n];n++);var L=s-n;for(f=1;f<=L&&i[s-f]===g[w-f];f++);return ra=g.slice(n,1<f?1-f:void 0)}function ia(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function oa(){return!0}function ih(){return!1}function un(n){function i(s,f,g,w,L){this._reactName=s,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=L,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(s=n[V],this[V]=s?s(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?oa:ih,this.isPropagationStopped=ih,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),i}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=un(Qr),Ho=y({},Qr,{view:0,detail:0}),Dx=un(Ho),ou,su,Ko,aa=y({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ko&&(Ko&&n.type==="mousemove"?(ou=n.screenX-Ko.screenX,su=n.screenY-Ko.screenY):su=ou=0,Ko=n),ou)},movementY:function(n){return"movementY"in n?n.movementY:su}}),oh=un(aa),Mx=y({},aa,{dataTransfer:0}),Ix=un(Mx),kx=y({},Ho,{relatedTarget:0}),au=un(kx),Ux=y({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lx=un(Ux),Bx=y({},Qr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Px=un(Bx),Ox=y({},Qr,{data:0}),sh=un(Ox),Fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vx(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=zx[n])?!!i[n]:!1}function lu(){return Vx}var qx=y({},Ho,{key:function(n){if(n.key){var i=Fx[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ia(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(n){return n.type==="keypress"?ia(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ia(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hx=un(qx),Kx=y({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=un(Kx),Yx=y({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),Jx=un(Yx),Wx=y({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$x=un(Wx),Xx=y({},aa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Zx=un(Xx),Qx=y({},Qr,{newState:0,oldState:0}),jx=un(Qx),eT=[9,13,27,32],uu=nr&&"CompositionEvent"in window,Yo=null;nr&&"documentMode"in document&&(Yo=document.documentMode);var tT=nr&&"TextEvent"in window&&!Yo,lh=nr&&(!uu||Yo&&8<Yo&&11>=Yo),uh=" ",ch=!1;function fh(n,i){switch(n){case"keyup":return eT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ii=!1;function nT(n,i){switch(n){case"compositionend":return dh(i);case"keypress":return i.which!==32?null:(ch=!0,uh);case"textInput":return n=i.data,n===uh&&ch?null:n;default:return null}}function rT(n,i){if(Ii)return n==="compositionend"||!uu&&fh(n,i)?(n=rh(),ra=iu=Ar=null,Ii=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lh&&i.locale!=="ko"?null:i.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!iT[n.type]:i==="textarea"}function ph(n,i,s,f){Di?Mi?Mi.push(f):Mi=[f]:Di=f,i=Ja(i,"onChange"),0<i.length&&(s=new sa("onChange","change",null,s,f),n.push({event:s,listeners:i}))}var Jo=null,Wo=null;function oT(n){Wm(n,0)}function la(n){var i=br(n);if($d(i))return n}function mh(n,i){if(n==="change")return i}var gh=!1;if(nr){var cu;if(nr){var fu="oninput"in document;if(!fu){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),fu=typeof yh.oninput=="function"}cu=fu}else cu=!1;gh=cu&&(!document.documentMode||9<document.documentMode)}function vh(){Jo&&(Jo.detachEvent("onpropertychange",wh),Wo=Jo=null)}function wh(n){if(n.propertyName==="value"&&la(Wo)){var i=[];ph(i,Wo,n,tu(n)),nh(oT,i)}}function sT(n,i,s){n==="focusin"?(vh(),Jo=i,Wo=s,Jo.attachEvent("onpropertychange",wh)):n==="focusout"&&vh()}function aT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return la(Wo)}function lT(n,i){if(n==="click")return la(i)}function uT(n,i){if(n==="input"||n==="change")return la(i)}function cT(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var yn=typeof Object.is=="function"?Object.is:cT;function $o(n,i){if(yn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),f=Object.keys(i);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var g=s[f];if(!F.call(i,g)||!yn(n[g],i[g]))return!1}return!0}function xh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Th(n,i){var s=xh(n);n=0;for(var f;s;){if(s.nodeType===3){if(f=n+s.textContent.length,n<=i&&f>=i)return{node:s,offset:i-n};n=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xh(s)}}function Sh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Sh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Eh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ta(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=ta(n.document)}return i}function du(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var fT=nr&&"documentMode"in document&&11>=document.documentMode,ki=null,hu=null,Xo=null,pu=!1;function _h(n,i,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pu||ki==null||ki!==ta(f)||(f=ki,"selectionStart"in f&&du(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Xo&&$o(Xo,f)||(Xo=f,f=Ja(hu,"onSelect"),0<f.length&&(i=new sa("onSelect","select",null,i,s),n.push({event:i,listeners:f}),i.target=ki)))}function jr(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Ui={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},mu={},bh={};nr&&(bh=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function ei(n){if(mu[n])return mu[n];if(!Ui[n])return n;var i=Ui[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in bh)return mu[n]=i[s];return n}var Ch=ei("animationend"),Ah=ei("animationiteration"),Rh=ei("animationstart"),dT=ei("transitionrun"),hT=ei("transitionstart"),pT=ei("transitioncancel"),Nh=ei("transitionend"),Dh=new Map,gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gu.push("scrollEnd");function On(n,i){Dh.set(n,i),Je(i,[n])}var Mh=new WeakMap;function Cn(n,i){if(typeof n=="object"&&n!==null){var s=Mh.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Jd(i)},Mh.set(n,i),i)}return{value:n,source:i,stack:Jd(i)}}var An=[],Li=0,yu=0;function ua(){for(var n=Li,i=yu=Li=0;i<n;){var s=An[i];An[i++]=null;var f=An[i];An[i++]=null;var g=An[i];An[i++]=null;var w=An[i];if(An[i++]=null,f!==null&&g!==null){var L=f.pending;L===null?g.next=g:(g.next=L.next,L.next=g),f.pending=g}w!==0&&Ih(s,g,w)}}function ca(n,i,s,f){An[Li++]=n,An[Li++]=i,An[Li++]=s,An[Li++]=f,yu|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function vu(n,i,s,f){return ca(n,i,s,f),fa(n)}function Bi(n,i){return ca(n,null,null,i),fa(n)}function Ih(n,i,s){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s);for(var g=!1,w=n.return;w!==null;)w.childLanes|=s,f=w.alternate,f!==null&&(f.childLanes|=s),w.tag===22&&(n=w.stateNode,n===null||n._visibility&1||(g=!0)),n=w,w=w.return;return n.tag===3?(w=n.stateNode,g&&i!==null&&(g=31-Xe(s),n=w.hiddenUpdates,f=n[g],f===null?n[g]=[i]:f.push(i),i.lane=s|536870912),w):null}function fa(n){if(50<Ts)throw Ts=0,_c=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Pi={};function mT(n,i,s,f){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,i,s,f){return new mT(n,i,s,f)}function wu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rr(n,i){var s=n.alternate;return s===null?(s=vn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function kh(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function da(n,i,s,f,g,w){var L=0;if(f=n,typeof n=="function")wu(n)&&(L=1);else if(typeof n=="string")L=y1(n,s,j.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case G:return n=vn(31,s,i,g),n.elementType=G,n.lanes=w,n;case D:return ti(s.children,g,w,i);case A:L=8,g|=24;break;case U:return n=vn(12,s,i,g|2),n.elementType=U,n.lanes=w,n;case q:return n=vn(13,s,i,g),n.elementType=q,n.lanes=w,n;case ce:return n=vn(19,s,i,g),n.elementType=ce,n.lanes=w,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:case O:L=10;break e;case M:L=9;break e;case H:L=11;break e;case ae:L=14;break e;case de:L=16,f=null;break e}L=29,s=Error(o(130,n===null?"null":typeof n,"")),f=null}return i=vn(L,s,i,g),i.elementType=n,i.type=f,i.lanes=w,i}function ti(n,i,s,f){return n=vn(7,n,f,i),n.lanes=s,n}function xu(n,i,s){return n=vn(6,n,null,i),n.lanes=s,n}function Tu(n,i,s){return i=vn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Oi=[],Fi=0,ha=null,pa=0,Rn=[],Nn=0,ni=null,ir=1,or="";function ri(n,i){Oi[Fi++]=pa,Oi[Fi++]=ha,ha=n,pa=i}function Uh(n,i,s){Rn[Nn++]=ir,Rn[Nn++]=or,Rn[Nn++]=ni,ni=n;var f=ir;n=or;var g=32-Xe(f)-1;f&=~(1<<g),s+=1;var w=32-Xe(i)+g;if(30<w){var L=g-g%5;w=(f&(1<<L)-1).toString(32),f>>=L,g-=L,ir=1<<32-Xe(i)+g|s<<g|f,or=w+n}else ir=1<<w|s<<g|f,or=n}function Su(n){n.return!==null&&(ri(n,1),Uh(n,1,0))}function Eu(n){for(;n===ha;)ha=Oi[--Fi],Oi[Fi]=null,pa=Oi[--Fi],Oi[Fi]=null;for(;n===ni;)ni=Rn[--Nn],Rn[Nn]=null,or=Rn[--Nn],Rn[Nn]=null,ir=Rn[--Nn],Rn[Nn]=null}var ln=null,Mt=null,ft=!1,ii=null,Hn=!1,_u=Error(o(519));function oi(n){var i=Error(o(418,""));throw jo(Cn(i,n)),_u}function Lh(n){var i=n.stateNode,s=n.type,f=n.memoizedProps;switch(i[qt]=n,i[Zt]=f,s){case"dialog":ot("cancel",i),ot("close",i);break;case"iframe":case"object":case"embed":ot("load",i);break;case"video":case"audio":for(s=0;s<Es.length;s++)ot(Es[s],i);break;case"source":ot("error",i);break;case"img":case"image":case"link":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"input":ot("invalid",i),Xd(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ea(i);break;case"select":ot("invalid",i);break;case"textarea":ot("invalid",i),Qd(i,f.value,f.defaultValue,f.children),ea(i)}s=f.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||f.suppressHydrationWarning===!0||Qm(i.textContent,s)?(f.popover!=null&&(ot("beforetoggle",i),ot("toggle",i)),f.onScroll!=null&&ot("scroll",i),f.onScrollEnd!=null&&ot("scrollend",i),f.onClick!=null&&(i.onclick=Wa),i=!0):i=!1,i||oi(n)}function Bh(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:ln=ln.return}}function Zo(n){if(n!==ln)return!1;if(!ft)return Bh(n),ft=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Gc(n.type,n.memoizedProps)),s=!s),s&&Mt&&oi(n),Bh(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){Mt=Gn(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}Mt=null}}else i===27?(i=Mt,qr(n.type)?(n=Hc,Hc=null,Mt=n):Mt=i):Mt=ln?Gn(n.stateNode.nextSibling):null;return!0}function Qo(){Mt=ln=null,ft=!1}function Ph(){var n=ii;return n!==null&&(dn===null?dn=n:dn.push.apply(dn,n),ii=null),n}function jo(n){ii===null?ii=[n]:ii.push(n)}var bu=Y(null),si=null,sr=null;function Rr(n,i,s){J(bu,i._currentValue),i._currentValue=s}function ar(n){n._currentValue=bu.current,P(bu)}function Cu(n,i,s){for(;n!==null;){var f=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),n===s)break;n=n.return}}function Au(n,i,s,f){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var w=g.dependencies;if(w!==null){var L=g.child;w=w.firstContext;e:for(;w!==null;){var V=w;w=g;for(var oe=0;oe<i.length;oe++)if(V.context===i[oe]){w.lanes|=s,V=w.alternate,V!==null&&(V.lanes|=s),Cu(w.return,s,n),f||(L=null);break e}w=V.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(o(341));L.lanes|=s,w=L.alternate,w!==null&&(w.lanes|=s),Cu(L,s,n),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===n){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function es(n,i,s,f){n=null;for(var g=i,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(o(387));if(L=L.memoizedProps,L!==null){var V=g.type;yn(g.pendingProps.value,L.value)||(n!==null?n.push(V):n=[V])}}else if(g===N.current){if(L=g.alternate,L===null)throw Error(o(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Ns):n=[Ns])}g=g.return}n!==null&&Au(i,n,s,f),i.flags|=262144}function ma(n){for(n=n.firstContext;n!==null;){if(!yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ai(n){si=n,sr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function jt(n){return Oh(si,n)}function ga(n,i){return si===null&&ai(n),Oh(n,i)}function Oh(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},sr===null){if(n===null)throw Error(o(308));sr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else sr=sr.next=i;return s}var gT=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,f){n.push(f)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},yT=t.unstable_scheduleCallback,vT=t.unstable_NormalPriority,zt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ru(){return{controller:new gT,data:new Map,refCount:0}}function ts(n){n.refCount--,n.refCount===0&&yT(vT,function(){n.controller.abort()})}var ns=null,Nu=0,Gi=0,zi=null;function wT(n,i){if(ns===null){var s=ns=[];Nu=0,Gi=Mc(),zi={status:"pending",value:void 0,then:function(f){s.push(f)}}}return Nu++,i.then(Fh,Fh),i}function Fh(){if(--Nu===0&&ns!==null){zi!==null&&(zi.status="fulfilled");var n=ns;ns=null,Gi=0,zi=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function xT(n,i){var s=[],f={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return n.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<s.length;g++)(0,s[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),f}var Gh=le.S;le.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wT(n,i),Gh!==null&&Gh(n,i)};var li=Y(null);function Du(){var n=li.current;return n!==null?n:St.pooledCache}function ya(n,i){i===null?J(li,li.current):J(li,i.pool)}function zh(){var n=Du();return n===null?null:{parent:zt._currentValue,pool:n}}var rs=Error(o(460)),Vh=Error(o(474)),va=Error(o(542)),Mu={then:function(){}};function qh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function wa(){}function Hh(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(wa,wa),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yh(n),n;default:if(typeof i.status=="string")i.then(wa,wa);else{if(n=St,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yh(n),n}throw is=i,rs}}var is=null;function Kh(){if(is===null)throw Error(o(459));var n=is;return is=null,n}function Yh(n){if(n===rs||n===va)throw Error(o(483))}var Nr=!1;function Iu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Dr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Mr(n,i,s){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(pt&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=fa(n),Ih(n,null,s),i}return ca(n,f,i,s),fa(n)}function os(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var f=i.lanes;f&=n.pendingLanes,s|=f,i.lanes=s,Xs(n,s)}}function Uu(n,i){var s=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var g=null,w=null;if(s=s.firstBaseUpdate,s!==null){do{var L={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};w===null?g=w=L:w=w.next=L,s=s.next}while(s!==null);w===null?g=w=i:w=w.next=i}else g=w=i;s={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Lu=!1;function ss(){if(Lu){var n=zi;if(n!==null)throw n}}function as(n,i,s,f){Lu=!1;var g=n.updateQueue;Nr=!1;var w=g.firstBaseUpdate,L=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var oe=V,ve=oe.next;oe.next=null,L===null?w=ve:L.next=ve,L=oe;var Ae=n.alternate;Ae!==null&&(Ae=Ae.updateQueue,V=Ae.lastBaseUpdate,V!==L&&(V===null?Ae.firstBaseUpdate=ve:V.next=ve,Ae.lastBaseUpdate=oe))}if(w!==null){var Me=g.baseState;L=0,Ae=ve=oe=null,V=w;do{var we=V.lane&-536870913,xe=we!==V.lane;if(xe?(at&we)===we:(f&we)===we){we!==0&&we===Gi&&(Lu=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ye=n,He=V;we=i;var wt=s;switch(He.tag){case 1:if(Ye=He.payload,typeof Ye=="function"){Me=Ye.call(wt,Me,we);break e}Me=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=He.payload,we=typeof Ye=="function"?Ye.call(wt,Me,we):Ye,we==null)break e;Me=y({},Me,we);break e;case 2:Nr=!0}}we=V.callback,we!==null&&(n.flags|=64,xe&&(n.flags|=8192),xe=g.callbacks,xe===null?g.callbacks=[we]:xe.push(we))}else xe={lane:we,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ae===null?(ve=Ae=xe,oe=Me):Ae=Ae.next=xe,L|=we;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;xe=V,V=xe.next,xe.next=null,g.lastBaseUpdate=xe,g.shared.pending=null}}while(!0);Ae===null&&(oe=Me),g.baseState=oe,g.firstBaseUpdate=ve,g.lastBaseUpdate=Ae,w===null&&(g.shared.lanes=0),Fr|=L,n.lanes=L,n.memoizedState=Me}}function Jh(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function Wh(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Jh(s[n],i)}var Vi=Y(null),xa=Y(0);function $h(n,i){n=pr,J(xa,n),J(Vi,i),pr=n|i.baseLanes}function Bu(){J(xa,pr),J(Vi,Vi.current)}function Pu(){pr=xa.current,P(Vi),P(xa)}var Ir=0,je=null,yt=null,Ft=null,Ta=!1,qi=!1,ui=!1,Sa=0,ls=0,Hi=null,TT=0;function Ut(){throw Error(o(321))}function Ou(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!yn(n[s],i[s]))return!1;return!0}function Fu(n,i,s,f,g,w){return Ir=w,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,le.H=n===null||n.memoizedState===null?Ip:kp,ui=!1,w=s(f,g),ui=!1,qi&&(w=Zh(i,s,f,g)),Xh(n),w}function Xh(n){le.H=Ra;var i=yt!==null&&yt.next!==null;if(Ir=0,Ft=yt=je=null,Ta=!1,ls=0,Hi=null,i)throw Error(o(300));n===null||Ht||(n=n.dependencies,n!==null&&ma(n)&&(Ht=!0))}function Zh(n,i,s,f){je=n;var g=0;do{if(qi&&(Hi=null),ls=0,qi=!1,25<=g)throw Error(o(301));if(g+=1,Ft=yt=null,n.updateQueue!=null){var w=n.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}le.H=RT,w=i(s,f)}while(qi);return w}function ST(){var n=le.H,i=n.useState()[0];return i=typeof i.then=="function"?us(i):i,n=n.useState()[0],(yt!==null?yt.memoizedState:null)!==n&&(je.flags|=1024),i}function Gu(){var n=Sa!==0;return Sa=0,n}function zu(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Vu(n){if(Ta){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ta=!1}Ir=0,Ft=yt=je=null,qi=!1,ls=Sa=0,Hi=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?je.memoizedState=Ft=n:Ft=Ft.next=n,Ft}function Gt(){if(yt===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Ft===null?je.memoizedState:Ft.next;if(i!==null)Ft=i,yt=n;else{if(n===null)throw je.alternate===null?Error(o(467)):Error(o(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Ft===null?je.memoizedState=Ft=n:Ft=Ft.next=n}return Ft}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function us(n){var i=ls;return ls+=1,Hi===null&&(Hi=[]),n=Hh(Hi,n,i),i=je,(Ft===null?i.memoizedState:Ft.next)===null&&(i=i.alternate,le.H=i===null||i.memoizedState===null?Ip:kp),n}function Ea(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return us(n);if(n.$$typeof===O)return jt(n)}throw Error(o(438,String(n)))}function Hu(n){var i=null,s=je.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var f=je.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=qu(),je.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),f=0;f<n;f++)s[f]=Te;return i.index++,s}function lr(n,i){return typeof i=="function"?i(n):i}function _a(n){var i=Gt();return Ku(i,yt,n)}function Ku(n,i,s){var f=n.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=s;var g=n.baseQueue,w=f.pending;if(w!==null){if(g!==null){var L=g.next;g.next=w.next,w.next=L}i.baseQueue=g=w,f.pending=null}if(w=n.baseState,g===null)n.memoizedState=w;else{i=g.next;var V=L=null,oe=null,ve=i,Ae=!1;do{var Me=ve.lane&-536870913;if(Me!==ve.lane?(at&Me)===Me:(Ir&Me)===Me){var we=ve.revertLane;if(we===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Me===Gi&&(Ae=!0);else if((Ir&we)===we){ve=ve.next,we===Gi&&(Ae=!0);continue}else Me={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(V=oe=Me,L=w):oe=oe.next=Me,je.lanes|=we,Fr|=we;Me=ve.action,ui&&s(w,Me),w=ve.hasEagerState?ve.eagerState:s(w,Me)}else we={lane:Me,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(V=oe=we,L=w):oe=oe.next=we,je.lanes|=Me,Fr|=Me;ve=ve.next}while(ve!==null&&ve!==i);if(oe===null?L=w:oe.next=V,!yn(w,n.memoizedState)&&(Ht=!0,Ae&&(s=zi,s!==null)))throw s;n.memoizedState=w,n.baseState=L,n.baseQueue=oe,f.lastRenderedState=w}return g===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function Yu(n){var i=Gt(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var f=s.dispatch,g=s.pending,w=i.memoizedState;if(g!==null){s.pending=null;var L=g=g.next;do w=n(w,L.action),L=L.next;while(L!==g);yn(w,i.memoizedState)||(Ht=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),s.lastRenderedState=w}return[w,f]}function Qh(n,i,s){var f=je,g=Gt(),w=ft;if(w){if(s===void 0)throw Error(o(407));s=s()}else s=i();var L=!yn((yt||g).memoizedState,s);L&&(g.memoizedState=s,Ht=!0),g=g.queue;var V=tp.bind(null,f,g,n);if(cs(2048,8,V,[n]),g.getSnapshot!==i||L||Ft!==null&&Ft.memoizedState.tag&1){if(f.flags|=2048,Ki(9,ba(),ep.bind(null,f,g,s,i),null),St===null)throw Error(o(349));w||(Ir&124)!==0||jh(f,i,s)}return s}function jh(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=je.updateQueue,i===null?(i=qu(),je.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function ep(n,i,s,f){i.value=s,i.getSnapshot=f,np(i)&&rp(n)}function tp(n,i,s){return s(function(){np(i)&&rp(n)})}function np(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!yn(n,s)}catch{return!0}}function rp(n){var i=Bi(n,2);i!==null&&En(i,n,2)}function Ju(n){var i=cn();if(typeof n=="function"){var s=n;if(n=s(),ui){ze(!0);try{s()}finally{ze(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},i}function ip(n,i,s,f){return n.baseState=s,Ku(n,yt,typeof f=="function"?f:lr)}function ET(n,i,s,f,g){if(Aa(n))throw Error(o(485));if(n=i.action,n!==null){var w={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){w.listeners.push(L)}};le.T!==null?s(!0):w.isTransition=!1,f(w),s=i.pending,s===null?(w.next=i.pending=w,op(i,w)):(w.next=s.next,i.pending=s.next=w)}}function op(n,i){var s=i.action,f=i.payload,g=n.state;if(i.isTransition){var w=le.T,L={};le.T=L;try{var V=s(g,f),oe=le.S;oe!==null&&oe(L,V),sp(n,i,V)}catch(ve){Wu(n,i,ve)}finally{le.T=w}}else try{w=s(g,f),sp(n,i,w)}catch(ve){Wu(n,i,ve)}}function sp(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(f){ap(n,i,f)},function(f){return Wu(n,i,f)}):ap(n,i,s)}function ap(n,i,s){i.status="fulfilled",i.value=s,lp(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,op(n,s)))}function Wu(n,i,s){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=s,lp(i),i=i.next;while(i!==f)}n.action=null}function lp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function up(n,i){return i}function cp(n,i){if(ft){var s=St.formState;if(s!==null){e:{var f=je;if(ft){if(Mt){t:{for(var g=Mt,w=Hn;g.nodeType!==8;){if(!w){g=null;break t}if(g=Gn(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){Mt=Gn(g.nextSibling),f=g.data==="F!";break e}}oi(f)}f=!1}f&&(i=s[0])}}return s=cn(),s.memoizedState=s.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:i},s.queue=f,s=Np.bind(null,je,f),f.dispatch=s,f=Ju(!1),w=ju.bind(null,je,!1,f.queue),f=cn(),g={state:i,dispatch:null,action:n,pending:null},f.queue=g,s=ET.bind(null,je,g,w,s),g.dispatch=s,f.memoizedState=n,[i,s,!1]}function fp(n){var i=Gt();return dp(i,yt,n)}function dp(n,i,s){if(i=Ku(n,i,up)[0],n=_a(lr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=us(i)}catch(L){throw L===rs?va:L}else f=i;i=Gt();var g=i.queue,w=g.dispatch;return s!==i.memoizedState&&(je.flags|=2048,Ki(9,ba(),_T.bind(null,g,s),null)),[f,w,n]}function _T(n,i){n.action=i}function hp(n){var i=Gt(),s=yt;if(s!==null)return dp(i,s,n);Gt(),i=i.memoizedState,s=Gt();var f=s.queue.dispatch;return s.memoizedState=n,[i,f,!1]}function Ki(n,i,s,f){return n={tag:n,create:s,deps:f,inst:i,next:null},i=je.updateQueue,i===null&&(i=qu(),je.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(f=s.next,s.next=n,n.next=f,i.lastEffect=n),n}function ba(){return{destroy:void 0,resource:void 0}}function pp(){return Gt().memoizedState}function Ca(n,i,s,f){var g=cn();f=f===void 0?null:f,je.flags|=n,g.memoizedState=Ki(1|i,ba(),s,f)}function cs(n,i,s,f){var g=Gt();f=f===void 0?null:f;var w=g.memoizedState.inst;yt!==null&&f!==null&&Ou(f,yt.memoizedState.deps)?g.memoizedState=Ki(i,w,s,f):(je.flags|=n,g.memoizedState=Ki(1|i,w,s,f))}function mp(n,i){Ca(8390656,8,n,i)}function gp(n,i){cs(2048,8,n,i)}function yp(n,i){return cs(4,2,n,i)}function vp(n,i){return cs(4,4,n,i)}function wp(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function xp(n,i,s){s=s!=null?s.concat([n]):null,cs(4,4,wp.bind(null,i,n),s)}function $u(){}function Tp(n,i){var s=Gt();i=i===void 0?null:i;var f=s.memoizedState;return i!==null&&Ou(i,f[1])?f[0]:(s.memoizedState=[n,i],n)}function Sp(n,i){var s=Gt();i=i===void 0?null:i;var f=s.memoizedState;if(i!==null&&Ou(i,f[1]))return f[0];if(f=n(),ui){ze(!0);try{n()}finally{ze(!1)}}return s.memoizedState=[f,i],f}function Xu(n,i,s){return s===void 0||(Ir&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=bm(),je.lanes|=n,Fr|=n,s)}function Ep(n,i,s,f){return yn(s,i)?s:Vi.current!==null?(n=Xu(n,s,f),yn(n,i)||(Ht=!0),n):(Ir&42)===0?(Ht=!0,n.memoizedState=s):(n=bm(),je.lanes|=n,Fr|=n,i)}function _p(n,i,s,f,g){var w=se.p;se.p=w!==0&&8>w?w:8;var L=le.T,V={};le.T=V,ju(n,!1,i,s);try{var oe=g(),ve=le.S;if(ve!==null&&ve(V,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ae=xT(oe,f);fs(n,i,Ae,Sn(n))}else fs(n,i,f,Sn(n))}catch(Me){fs(n,i,{then:function(){},status:"rejected",reason:Me},Sn())}finally{se.p=w,le.T=L}}function bT(){}function Zu(n,i,s,f){if(n.tag!==5)throw Error(o(476));var g=bp(n).queue;_p(n,g,i,Ce,s===null?bT:function(){return Cp(n),s(f)})}function bp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:Ce},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Cp(n){var i=bp(n).next.queue;fs(n,i,{},Sn())}function Qu(){return jt(Ns)}function Ap(){return Gt().memoizedState}function Rp(){return Gt().memoizedState}function CT(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Sn();n=Dr(s);var f=Mr(i,n,s);f!==null&&(En(f,i,s),os(f,i,s)),i={cache:Ru()},n.payload=i;return}i=i.return}}function AT(n,i,s){var f=Sn();s={lane:f,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Aa(n)?Dp(i,s):(s=vu(n,i,s,f),s!==null&&(En(s,n,f),Mp(s,i,f)))}function Np(n,i,s){var f=Sn();fs(n,i,s,f)}function fs(n,i,s,f){var g={lane:f,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Aa(n))Dp(i,g);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var L=i.lastRenderedState,V=w(L,s);if(g.hasEagerState=!0,g.eagerState=V,yn(V,L))return ca(n,i,g,0),St===null&&ua(),!1}catch{}finally{}if(s=vu(n,i,g,f),s!==null)return En(s,n,f),Mp(s,i,f),!0}return!1}function ju(n,i,s,f){if(f={lane:2,revertLane:Mc(),action:f,hasEagerState:!1,eagerState:null,next:null},Aa(n)){if(i)throw Error(o(479))}else i=vu(n,s,f,2),i!==null&&En(i,n,2)}function Aa(n){var i=n.alternate;return n===je||i!==null&&i===je}function Dp(n,i){qi=Ta=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Mp(n,i,s){if((s&4194048)!==0){var f=i.lanes;f&=n.pendingLanes,s|=f,i.lanes=s,Xs(n,s)}}var Ra={readContext:jt,use:Ea,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},Ip={readContext:jt,use:Ea,useCallback:function(n,i){return cn().memoizedState=[n,i===void 0?null:i],n},useContext:jt,useEffect:mp,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Ca(4194308,4,wp.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Ca(4194308,4,n,i)},useInsertionEffect:function(n,i){Ca(4,2,n,i)},useMemo:function(n,i){var s=cn();i=i===void 0?null:i;var f=n();if(ui){ze(!0);try{n()}finally{ze(!1)}}return s.memoizedState=[f,i],f},useReducer:function(n,i,s){var f=cn();if(s!==void 0){var g=s(i);if(ui){ze(!0);try{s(i)}finally{ze(!1)}}}else g=i;return f.memoizedState=f.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},f.queue=n,n=n.dispatch=AT.bind(null,je,n),[f.memoizedState,n]},useRef:function(n){var i=cn();return n={current:n},i.memoizedState=n},useState:function(n){n=Ju(n);var i=n.queue,s=Np.bind(null,je,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:$u,useDeferredValue:function(n,i){var s=cn();return Xu(s,n,i)},useTransition:function(){var n=Ju(!1);return n=_p.bind(null,je,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var f=je,g=cn();if(ft){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),St===null)throw Error(o(349));(at&124)!==0||jh(f,i,s)}g.memoizedState=s;var w={value:s,getSnapshot:i};return g.queue=w,mp(tp.bind(null,f,w,n),[n]),f.flags|=2048,Ki(9,ba(),ep.bind(null,f,w,s,i),null),s},useId:function(){var n=cn(),i=St.identifierPrefix;if(ft){var s=or,f=ir;s=(f&~(1<<32-Xe(f)-1)).toString(32)+s,i="«"+i+"R"+s,s=Sa++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=TT++,i="«"+i+"r"+s.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Qu,useFormState:cp,useActionState:cp,useOptimistic:function(n){var i=cn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=ju.bind(null,je,!0,s),s.dispatch=i,[n,i]},useMemoCache:Hu,useCacheRefresh:function(){return cn().memoizedState=CT.bind(null,je)}},kp={readContext:jt,use:Ea,useCallback:Tp,useContext:jt,useEffect:gp,useImperativeHandle:xp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Sp,useReducer:_a,useRef:pp,useState:function(){return _a(lr)},useDebugValue:$u,useDeferredValue:function(n,i){var s=Gt();return Ep(s,yt.memoizedState,n,i)},useTransition:function(){var n=_a(lr)[0],i=Gt().memoizedState;return[typeof n=="boolean"?n:us(n),i]},useSyncExternalStore:Qh,useId:Ap,useHostTransitionStatus:Qu,useFormState:fp,useActionState:fp,useOptimistic:function(n,i){var s=Gt();return ip(s,yt,n,i)},useMemoCache:Hu,useCacheRefresh:Rp},RT={readContext:jt,use:Ea,useCallback:Tp,useContext:jt,useEffect:gp,useImperativeHandle:xp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Sp,useReducer:Yu,useRef:pp,useState:function(){return Yu(lr)},useDebugValue:$u,useDeferredValue:function(n,i){var s=Gt();return yt===null?Xu(s,n,i):Ep(s,yt.memoizedState,n,i)},useTransition:function(){var n=Yu(lr)[0],i=Gt().memoizedState;return[typeof n=="boolean"?n:us(n),i]},useSyncExternalStore:Qh,useId:Ap,useHostTransitionStatus:Qu,useFormState:hp,useActionState:hp,useOptimistic:function(n,i){var s=Gt();return yt!==null?ip(s,yt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Hu,useCacheRefresh:Rp},Yi=null,ds=0;function Na(n){var i=ds;return ds+=1,Yi===null&&(Yi=[]),Hh(Yi,n,i)}function hs(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Da(n,i){throw i.$$typeof===x?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Up(n){var i=n._init;return i(n._payload)}function Lp(n){function i(me,fe){if(n){var ye=me.deletions;ye===null?(me.deletions=[fe],me.flags|=16):ye.push(fe)}}function s(me,fe){if(!n)return null;for(;fe!==null;)i(me,fe),fe=fe.sibling;return null}function f(me){for(var fe=new Map;me!==null;)me.key!==null?fe.set(me.key,me):fe.set(me.index,me),me=me.sibling;return fe}function g(me,fe){return me=rr(me,fe),me.index=0,me.sibling=null,me}function w(me,fe,ye){return me.index=ye,n?(ye=me.alternate,ye!==null?(ye=ye.index,ye<fe?(me.flags|=67108866,fe):ye):(me.flags|=67108866,fe)):(me.flags|=1048576,fe)}function L(me){return n&&me.alternate===null&&(me.flags|=67108866),me}function V(me,fe,ye,Ne){return fe===null||fe.tag!==6?(fe=xu(ye,me.mode,Ne),fe.return=me,fe):(fe=g(fe,ye),fe.return=me,fe)}function oe(me,fe,ye,Ne){var Fe=ye.type;return Fe===D?Ae(me,fe,ye.props.children,Ne,ye.key):fe!==null&&(fe.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===de&&Up(Fe)===fe.type)?(fe=g(fe,ye.props),hs(fe,ye),fe.return=me,fe):(fe=da(ye.type,ye.key,ye.props,null,me.mode,Ne),hs(fe,ye),fe.return=me,fe)}function ve(me,fe,ye,Ne){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=Tu(ye,me.mode,Ne),fe.return=me,fe):(fe=g(fe,ye.children||[]),fe.return=me,fe)}function Ae(me,fe,ye,Ne,Fe){return fe===null||fe.tag!==7?(fe=ti(ye,me.mode,Ne,Fe),fe.return=me,fe):(fe=g(fe,ye),fe.return=me,fe)}function Me(me,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=xu(""+fe,me.mode,ye),fe.return=me,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case S:return ye=da(fe.type,fe.key,fe.props,null,me.mode,ye),hs(ye,fe),ye.return=me,ye;case E:return fe=Tu(fe,me.mode,ye),fe.return=me,fe;case de:var Ne=fe._init;return fe=Ne(fe._payload),Me(me,fe,ye)}if(he(fe)||Z(fe))return fe=ti(fe,me.mode,ye,null),fe.return=me,fe;if(typeof fe.then=="function")return Me(me,Na(fe),ye);if(fe.$$typeof===O)return Me(me,ga(me,fe),ye);Da(me,fe)}return null}function we(me,fe,ye,Ne){var Fe=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Fe!==null?null:V(me,fe,""+ye,Ne);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:return ye.key===Fe?oe(me,fe,ye,Ne):null;case E:return ye.key===Fe?ve(me,fe,ye,Ne):null;case de:return Fe=ye._init,ye=Fe(ye._payload),we(me,fe,ye,Ne)}if(he(ye)||Z(ye))return Fe!==null?null:Ae(me,fe,ye,Ne,null);if(typeof ye.then=="function")return we(me,fe,Na(ye),Ne);if(ye.$$typeof===O)return we(me,fe,ga(me,ye),Ne);Da(me,ye)}return null}function xe(me,fe,ye,Ne,Fe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return me=me.get(ye)||null,V(fe,me,""+Ne,Fe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case S:return me=me.get(Ne.key===null?ye:Ne.key)||null,oe(fe,me,Ne,Fe);case E:return me=me.get(Ne.key===null?ye:Ne.key)||null,ve(fe,me,Ne,Fe);case de:var nt=Ne._init;return Ne=nt(Ne._payload),xe(me,fe,ye,Ne,Fe)}if(he(Ne)||Z(Ne))return me=me.get(ye)||null,Ae(fe,me,Ne,Fe,null);if(typeof Ne.then=="function")return xe(me,fe,ye,Na(Ne),Fe);if(Ne.$$typeof===O)return xe(me,fe,ye,ga(fe,Ne),Fe);Da(fe,Ne)}return null}function Ye(me,fe,ye,Ne){for(var Fe=null,nt=null,Ve=fe,Ke=fe=0,Yt=null;Ve!==null&&Ke<ye.length;Ke++){Ve.index>Ke?(Yt=Ve,Ve=null):Yt=Ve.sibling;var ut=we(me,Ve,ye[Ke],Ne);if(ut===null){Ve===null&&(Ve=Yt);break}n&&Ve&&ut.alternate===null&&i(me,Ve),fe=w(ut,fe,Ke),nt===null?Fe=ut:nt.sibling=ut,nt=ut,Ve=Yt}if(Ke===ye.length)return s(me,Ve),ft&&ri(me,Ke),Fe;if(Ve===null){for(;Ke<ye.length;Ke++)Ve=Me(me,ye[Ke],Ne),Ve!==null&&(fe=w(Ve,fe,Ke),nt===null?Fe=Ve:nt.sibling=Ve,nt=Ve);return ft&&ri(me,Ke),Fe}for(Ve=f(Ve);Ke<ye.length;Ke++)Yt=xe(Ve,me,Ke,ye[Ke],Ne),Yt!==null&&(n&&Yt.alternate!==null&&Ve.delete(Yt.key===null?Ke:Yt.key),fe=w(Yt,fe,Ke),nt===null?Fe=Yt:nt.sibling=Yt,nt=Yt);return n&&Ve.forEach(function(Wr){return i(me,Wr)}),ft&&ri(me,Ke),Fe}function He(me,fe,ye,Ne){if(ye==null)throw Error(o(151));for(var Fe=null,nt=null,Ve=fe,Ke=fe=0,Yt=null,ut=ye.next();Ve!==null&&!ut.done;Ke++,ut=ye.next()){Ve.index>Ke?(Yt=Ve,Ve=null):Yt=Ve.sibling;var Wr=we(me,Ve,ut.value,Ne);if(Wr===null){Ve===null&&(Ve=Yt);break}n&&Ve&&Wr.alternate===null&&i(me,Ve),fe=w(Wr,fe,Ke),nt===null?Fe=Wr:nt.sibling=Wr,nt=Wr,Ve=Yt}if(ut.done)return s(me,Ve),ft&&ri(me,Ke),Fe;if(Ve===null){for(;!ut.done;Ke++,ut=ye.next())ut=Me(me,ut.value,Ne),ut!==null&&(fe=w(ut,fe,Ke),nt===null?Fe=ut:nt.sibling=ut,nt=ut);return ft&&ri(me,Ke),Fe}for(Ve=f(Ve);!ut.done;Ke++,ut=ye.next())ut=xe(Ve,me,Ke,ut.value,Ne),ut!==null&&(n&&ut.alternate!==null&&Ve.delete(ut.key===null?Ke:ut.key),fe=w(ut,fe,Ke),nt===null?Fe=ut:nt.sibling=ut,nt=ut);return n&&Ve.forEach(function(N1){return i(me,N1)}),ft&&ri(me,Ke),Fe}function wt(me,fe,ye,Ne){if(typeof ye=="object"&&ye!==null&&ye.type===D&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:e:{for(var Fe=ye.key;fe!==null;){if(fe.key===Fe){if(Fe=ye.type,Fe===D){if(fe.tag===7){s(me,fe.sibling),Ne=g(fe,ye.props.children),Ne.return=me,me=Ne;break e}}else if(fe.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===de&&Up(Fe)===fe.type){s(me,fe.sibling),Ne=g(fe,ye.props),hs(Ne,ye),Ne.return=me,me=Ne;break e}s(me,fe);break}else i(me,fe);fe=fe.sibling}ye.type===D?(Ne=ti(ye.props.children,me.mode,Ne,ye.key),Ne.return=me,me=Ne):(Ne=da(ye.type,ye.key,ye.props,null,me.mode,Ne),hs(Ne,ye),Ne.return=me,me=Ne)}return L(me);case E:e:{for(Fe=ye.key;fe!==null;){if(fe.key===Fe)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){s(me,fe.sibling),Ne=g(fe,ye.children||[]),Ne.return=me,me=Ne;break e}else{s(me,fe);break}else i(me,fe);fe=fe.sibling}Ne=Tu(ye,me.mode,Ne),Ne.return=me,me=Ne}return L(me);case de:return Fe=ye._init,ye=Fe(ye._payload),wt(me,fe,ye,Ne)}if(he(ye))return Ye(me,fe,ye,Ne);if(Z(ye)){if(Fe=Z(ye),typeof Fe!="function")throw Error(o(150));return ye=Fe.call(ye),He(me,fe,ye,Ne)}if(typeof ye.then=="function")return wt(me,fe,Na(ye),Ne);if(ye.$$typeof===O)return wt(me,fe,ga(me,ye),Ne);Da(me,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,fe!==null&&fe.tag===6?(s(me,fe.sibling),Ne=g(fe,ye),Ne.return=me,me=Ne):(s(me,fe),Ne=xu(ye,me.mode,Ne),Ne.return=me,me=Ne),L(me)):s(me,fe)}return function(me,fe,ye,Ne){try{ds=0;var Fe=wt(me,fe,ye,Ne);return Yi=null,Fe}catch(Ve){if(Ve===rs||Ve===va)throw Ve;var nt=vn(29,Ve,null,me.mode);return nt.lanes=Ne,nt.return=me,nt}finally{}}}var Ji=Lp(!0),Bp=Lp(!1),Dn=Y(null),Kn=null;function kr(n){var i=n.alternate;J(Vt,Vt.current&1),J(Dn,n),Kn===null&&(i===null||Vi.current!==null||i.memoizedState!==null)&&(Kn=n)}function Pp(n){if(n.tag===22){if(J(Vt,Vt.current),J(Dn,n),Kn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Kn=n)}}else Ur()}function Ur(){J(Vt,Vt.current),J(Dn,Dn.current)}function ur(n){P(Dn),Kn===n&&(Kn=null),P(Vt)}var Vt=Y(0);function Ma(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||qc(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ec(n,i,s,f){i=n.memoizedState,s=s(f,i),s=s==null?i:y({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var tc={enqueueSetState:function(n,i,s){n=n._reactInternals;var f=Sn(),g=Dr(f);g.payload=i,s!=null&&(g.callback=s),i=Mr(n,g,f),i!==null&&(En(i,n,f),os(i,n,f))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var f=Sn(),g=Dr(f);g.tag=1,g.payload=i,s!=null&&(g.callback=s),i=Mr(n,g,f),i!==null&&(En(i,n,f),os(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Sn(),f=Dr(s);f.tag=2,i!=null&&(f.callback=i),i=Mr(n,f,s),i!==null&&(En(i,n,s),os(i,n,s))}};function Op(n,i,s,f,g,w,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,w,L):i.prototype&&i.prototype.isPureReactComponent?!$o(s,f)||!$o(g,w):!0}function Fp(n,i,s,f){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,f),i.state!==n&&tc.enqueueReplaceState(i,i.state,null)}function ci(n,i){var s=i;if("ref"in i){s={};for(var f in i)f!=="ref"&&(s[f]=i[f])}if(n=n.defaultProps){s===i&&(s=y({},s));for(var g in n)s[g]===void 0&&(s[g]=n[g])}return s}var Ia=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Gp(n){Ia(n)}function zp(n){console.error(n)}function Vp(n){Ia(n)}function ka(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function qp(n,i,s){try{var f=n.onCaughtError;f(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function nc(n,i,s){return s=Dr(s),s.tag=3,s.payload={element:null},s.callback=function(){ka(n,i)},s}function Hp(n){return n=Dr(n),n.tag=3,n}function Kp(n,i,s,f){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var w=f.value;n.payload=function(){return g(w)},n.callback=function(){qp(i,s,f)}}var L=s.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){qp(i,s,f),typeof g!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var V=f.stack;this.componentDidCatch(f.value,{componentStack:V!==null?V:""})})}function NT(n,i,s,f,g){if(s.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=s.alternate,i!==null&&es(i,s,g,!0),s=Dn.current,s!==null){switch(s.tag){case 13:return Kn===null?Cc():s.alternate===null&&It===0&&(It=3),s.flags&=-257,s.flags|=65536,s.lanes=g,f===Mu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([f]):i.add(f),Rc(n,f,g)),!1;case 22:return s.flags|=65536,f===Mu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([f]):s.add(f)),Rc(n,f,g)),!1}throw Error(o(435,s.tag))}return Rc(n,f,g),Cc(),!1}if(ft)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==_u&&(n=Error(o(422),{cause:f}),jo(Cn(n,s)))):(f!==_u&&(i=Error(o(423),{cause:f}),jo(Cn(i,s))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,f=Cn(f,s),g=nc(n.stateNode,f,g),Uu(n,g),It!==4&&(It=2)),!1;var w=Error(o(520),{cause:f});if(w=Cn(w,s),xs===null?xs=[w]:xs.push(w),It!==4&&(It=2),i===null)return!0;f=Cn(f,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=g&-g,s.lanes|=n,n=nc(s.stateNode,f,n),Uu(s,n),!1;case 1:if(i=s.type,w=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gr===null||!Gr.has(w))))return s.flags|=65536,g&=-g,s.lanes|=g,g=Hp(g),Kp(g,n,s,f),Uu(s,g),!1}s=s.return}while(s!==null);return!1}var Yp=Error(o(461)),Ht=!1;function Wt(n,i,s,f){i.child=n===null?Bp(i,null,s,f):Ji(i,n.child,s,f)}function Jp(n,i,s,f,g){s=s.render;var w=i.ref;if("ref"in f){var L={};for(var V in f)V!=="ref"&&(L[V]=f[V])}else L=f;return ai(i),f=Fu(n,i,s,L,w,g),V=Gu(),n!==null&&!Ht?(zu(n,i,g),cr(n,i,g)):(ft&&V&&Su(i),i.flags|=1,Wt(n,i,f,g),i.child)}function Wp(n,i,s,f,g){if(n===null){var w=s.type;return typeof w=="function"&&!wu(w)&&w.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=w,$p(n,i,w,f,g)):(n=da(s.type,null,f,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(w=n.child,!cc(n,g)){var L=w.memoizedProps;if(s=s.compare,s=s!==null?s:$o,s(L,f)&&n.ref===i.ref)return cr(n,i,g)}return i.flags|=1,n=rr(w,f),n.ref=i.ref,n.return=i,i.child=n}function $p(n,i,s,f,g){if(n!==null){var w=n.memoizedProps;if($o(w,f)&&n.ref===i.ref)if(Ht=!1,i.pendingProps=f=w,cc(n,g))(n.flags&131072)!==0&&(Ht=!0);else return i.lanes=n.lanes,cr(n,i,g)}return rc(n,i,s,f,g)}function Xp(n,i,s){var f=i.pendingProps,g=f.children,w=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=w!==null?w.baseLanes|s:s,n!==null){for(g=i.child=n.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;i.childLanes=w&~f}else i.childLanes=0,i.child=null;return Zp(n,i,f,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ya(i,w!==null?w.cachePool:null),w!==null?$h(i,w):Bu(),Pp(i);else return i.lanes=i.childLanes=536870912,Zp(n,i,w!==null?w.baseLanes|s:s,s)}else w!==null?(ya(i,w.cachePool),$h(i,w),Ur(),i.memoizedState=null):(n!==null&&ya(i,null),Bu(),Ur());return Wt(n,i,g,s),i.child}function Zp(n,i,s,f){var g=Du();return g=g===null?null:{parent:zt._currentValue,pool:g},i.memoizedState={baseLanes:s,cachePool:g},n!==null&&ya(i,null),Bu(),Pp(i),n!==null&&es(n,i,f,!0),null}function Ua(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function rc(n,i,s,f,g){return ai(i),s=Fu(n,i,s,f,void 0,g),f=Gu(),n!==null&&!Ht?(zu(n,i,g),cr(n,i,g)):(ft&&f&&Su(i),i.flags|=1,Wt(n,i,s,g),i.child)}function Qp(n,i,s,f,g,w){return ai(i),i.updateQueue=null,s=Zh(i,f,s,g),Xh(n),f=Gu(),n!==null&&!Ht?(zu(n,i,w),cr(n,i,w)):(ft&&f&&Su(i),i.flags|=1,Wt(n,i,s,w),i.child)}function jp(n,i,s,f,g){if(ai(i),i.stateNode===null){var w=Pi,L=s.contextType;typeof L=="object"&&L!==null&&(w=jt(L)),w=new s(f,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=tc,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=f,w.state=i.memoizedState,w.refs={},Iu(i),L=s.contextType,w.context=typeof L=="object"&&L!==null?jt(L):Pi,w.state=i.memoizedState,L=s.getDerivedStateFromProps,typeof L=="function"&&(ec(i,s,L,f),w.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(L=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),L!==w.state&&tc.enqueueReplaceState(w,w.state,null),as(i,f,w,g),ss(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(n===null){w=i.stateNode;var V=i.memoizedProps,oe=ci(s,V);w.props=oe;var ve=w.context,Ae=s.contextType;L=Pi,typeof Ae=="object"&&Ae!==null&&(L=jt(Ae));var Me=s.getDerivedStateFromProps;Ae=typeof Me=="function"||typeof w.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,Ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V||ve!==L)&&Fp(i,w,f,L),Nr=!1;var we=i.memoizedState;w.state=we,as(i,f,w,g),ss(),ve=i.memoizedState,V||we!==ve||Nr?(typeof Me=="function"&&(ec(i,s,Me,f),ve=i.memoizedState),(oe=Nr||Op(i,s,oe,f,we,ve,L))?(Ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=ve),w.props=f,w.state=ve,w.context=L,f=oe):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{w=i.stateNode,ku(n,i),L=i.memoizedProps,Ae=ci(s,L),w.props=Ae,Me=i.pendingProps,we=w.context,ve=s.contextType,oe=Pi,typeof ve=="object"&&ve!==null&&(oe=jt(ve)),V=s.getDerivedStateFromProps,(ve=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==Me||we!==oe)&&Fp(i,w,f,oe),Nr=!1,we=i.memoizedState,w.state=we,as(i,f,w,g),ss();var xe=i.memoizedState;L!==Me||we!==xe||Nr||n!==null&&n.dependencies!==null&&ma(n.dependencies)?(typeof V=="function"&&(ec(i,s,V,f),xe=i.memoizedState),(Ae=Nr||Op(i,s,Ae,f,we,xe,oe)||n!==null&&n.dependencies!==null&&ma(n.dependencies))?(ve||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,xe,oe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,xe,oe)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=xe),w.props=f,w.state=xe,w.context=oe,f=Ae):(typeof w.componentDidUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&we===n.memoizedState||(i.flags|=1024),f=!1)}return w=f,Ua(n,i),f=(i.flags&128)!==0,w||f?(w=i.stateNode,s=f&&typeof s.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,n!==null&&f?(i.child=Ji(i,n.child,null,g),i.child=Ji(i,null,s,g)):Wt(n,i,s,g),i.memoizedState=w.state,n=i.child):n=cr(n,i,g),n}function em(n,i,s,f){return Qo(),i.flags|=256,Wt(n,i,s,f),i.child}var ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oc(n){return{baseLanes:n,cachePool:zh()}}function sc(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=Mn),n}function tm(n,i,s){var f=i.pendingProps,g=!1,w=(i.flags&128)!==0,L;if((L=w)||(L=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),L&&(g=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(ft){if(g?kr(i):Ur(),ft){var V=Mt,oe;if(oe=V){e:{for(oe=V,V=Hn;oe.nodeType!==8;){if(!V){V=null;break e}if(oe=Gn(oe.nextSibling),oe===null){V=null;break e}}V=oe}V!==null?(i.memoizedState={dehydrated:V,treeContext:ni!==null?{id:ir,overflow:or}:null,retryLane:536870912,hydrationErrors:null},oe=vn(18,null,null,0),oe.stateNode=V,oe.return=i,i.child=oe,ln=i,Mt=null,oe=!0):oe=!1}oe||oi(i)}if(V=i.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return qc(V)?i.lanes=32:i.lanes=536870912,null;ur(i)}return V=f.children,f=f.fallback,g?(Ur(),g=i.mode,V=La({mode:"hidden",children:V},g),f=ti(f,g,s,null),V.return=i,f.return=i,V.sibling=f,i.child=V,g=i.child,g.memoizedState=oc(s),g.childLanes=sc(n,L,s),i.memoizedState=ic,f):(kr(i),ac(i,V))}if(oe=n.memoizedState,oe!==null&&(V=oe.dehydrated,V!==null)){if(w)i.flags&256?(kr(i),i.flags&=-257,i=lc(n,i,s)):i.memoizedState!==null?(Ur(),i.child=n.child,i.flags|=128,i=null):(Ur(),g=f.fallback,V=i.mode,f=La({mode:"visible",children:f.children},V),g=ti(g,V,s,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,Ji(i,n.child,null,s),f=i.child,f.memoizedState=oc(s),f.childLanes=sc(n,L,s),i.memoizedState=ic,i=g);else if(kr(i),qc(V)){if(L=V.nextSibling&&V.nextSibling.dataset,L)var ve=L.dgst;L=ve,f=Error(o(419)),f.stack="",f.digest=L,jo({value:f,source:null,stack:null}),i=lc(n,i,s)}else if(Ht||es(n,i,s,!1),L=(s&n.childLanes)!==0,Ht||L){if(L=St,L!==null&&(f=s&-s,f=(f&42)!==0?1:Po(f),f=(f&(L.suspendedLanes|s))!==0?0:f,f!==0&&f!==oe.retryLane))throw oe.retryLane=f,Bi(n,f),En(L,n,f),Yp;V.data==="$?"||Cc(),i=lc(n,i,s)}else V.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=oe.treeContext,Mt=Gn(V.nextSibling),ln=i,ft=!0,ii=null,Hn=!1,n!==null&&(Rn[Nn++]=ir,Rn[Nn++]=or,Rn[Nn++]=ni,ir=n.id,or=n.overflow,ni=i),i=ac(i,f.children),i.flags|=4096);return i}return g?(Ur(),g=f.fallback,V=i.mode,oe=n.child,ve=oe.sibling,f=rr(oe,{mode:"hidden",children:f.children}),f.subtreeFlags=oe.subtreeFlags&65011712,ve!==null?g=rr(ve,g):(g=ti(g,V,s,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,V=n.child.memoizedState,V===null?V=oc(s):(oe=V.cachePool,oe!==null?(ve=zt._currentValue,oe=oe.parent!==ve?{parent:ve,pool:ve}:oe):oe=zh(),V={baseLanes:V.baseLanes|s,cachePool:oe}),g.memoizedState=V,g.childLanes=sc(n,L,s),i.memoizedState=ic,f):(kr(i),s=n.child,n=s.sibling,s=rr(s,{mode:"visible",children:f.children}),s.return=i,s.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=s,i.memoizedState=null,s)}function ac(n,i){return i=La({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function La(n,i){return n=vn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function lc(n,i,s){return Ji(i,n.child,null,s),n=ac(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function nm(n,i,s){n.lanes|=i;var f=n.alternate;f!==null&&(f.lanes|=i),Cu(n.return,i,s)}function uc(n,i,s,f,g){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=s,w.tailMode=g)}function rm(n,i,s){var f=i.pendingProps,g=f.revealOrder,w=f.tail;if(Wt(n,i,f.children,s),f=Vt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nm(n,s,i);else if(n.tag===19)nm(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(J(Vt,f),g){case"forwards":for(s=i.child,g=null;s!==null;)n=s.alternate,n!==null&&Ma(n)===null&&(g=s),s=s.sibling;s=g,s===null?(g=i.child,i.child=null):(g=s.sibling,s.sibling=null),uc(i,!1,g,s,w);break;case"backwards":for(s=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Ma(n)===null){i.child=g;break}n=g.sibling,g.sibling=s,s=g,g=n}uc(i,!0,s,null,w);break;case"together":uc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function cr(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Fr|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(es(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,s=rr(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=rr(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function cc(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ma(n)))}function DT(n,i,s){switch(i.tag){case 3:R(i,i.stateNode.containerInfo),Rr(i,zt,n.memoizedState.cache),Qo();break;case 27:case 5:W(i);break;case 4:R(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(kr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?tm(n,i,s):(kr(i),n=cr(n,i,s),n!==null?n.sibling:null);kr(i);break;case 19:var g=(n.flags&128)!==0;if(f=(s&i.childLanes)!==0,f||(es(n,i,s,!1),f=(s&i.childLanes)!==0),g){if(f)return rm(n,i,s);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),J(Vt,Vt.current),f)break;return null;case 22:case 23:return i.lanes=0,Xp(n,i,s);case 24:Rr(i,zt,n.memoizedState.cache)}return cr(n,i,s)}function im(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ht=!0;else{if(!cc(n,s)&&(i.flags&128)===0)return Ht=!1,DT(n,i,s);Ht=(n.flags&131072)!==0}else Ht=!1,ft&&(i.flags&1048576)!==0&&Uh(i,pa,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")wu(f)?(n=ci(f,n),i.tag=1,i=jp(null,i,f,n,s)):(i.tag=0,i=rc(null,i,f,n,s));else{if(f!=null){if(g=f.$$typeof,g===H){i.tag=11,i=Jp(null,i,f,n,s);break e}else if(g===ae){i.tag=14,i=Wp(null,i,f,n,s);break e}}throw i=B(f)||f,Error(o(306,i,""))}}return i;case 0:return rc(n,i,i.type,i.pendingProps,s);case 1:return f=i.type,g=ci(f,i.pendingProps),jp(n,i,f,g,s);case 3:e:{if(R(i,i.stateNode.containerInfo),n===null)throw Error(o(387));f=i.pendingProps;var w=i.memoizedState;g=w.element,ku(n,i),as(i,f,null,s);var L=i.memoizedState;if(f=L.cache,Rr(i,zt,f),f!==w.cache&&Au(i,[zt],s,!0),ss(),f=L.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=em(n,i,f,s);break e}else if(f!==g){g=Cn(Error(o(424)),i),jo(g),i=em(n,i,f,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Mt=Gn(n.firstChild),ln=i,ft=!0,ii=null,Hn=!0,s=Bp(i,null,f,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Qo(),f===g){i=cr(n,i,s);break e}Wt(n,i,f,s)}i=i.child}return i;case 26:return Ua(n,i),n===null?(s=lg(i.type,null,i.pendingProps,null))?i.memoizedState=s:ft||(s=i.type,n=i.pendingProps,f=$a($.current).createElement(s),f[qt]=i,f[Zt]=n,Xt(f,s,n),Be(f),i.stateNode=f):i.memoizedState=lg(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return W(i),n===null&&ft&&(f=i.stateNode=og(i.type,i.pendingProps,$.current),ln=i,Hn=!0,g=Mt,qr(i.type)?(Hc=g,Mt=Gn(f.firstChild)):Mt=g),Wt(n,i,i.pendingProps.children,s),Ua(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ft&&((g=f=Mt)&&(f=i1(f,i.type,i.pendingProps,Hn),f!==null?(i.stateNode=f,ln=i,Mt=Gn(f.firstChild),Hn=!1,g=!0):g=!1),g||oi(i)),W(i),g=i.type,w=i.pendingProps,L=n!==null?n.memoizedProps:null,f=w.children,Gc(g,w)?f=null:L!==null&&Gc(g,L)&&(i.flags|=32),i.memoizedState!==null&&(g=Fu(n,i,ST,null,null,s),Ns._currentValue=g),Ua(n,i),Wt(n,i,f,s),i.child;case 6:return n===null&&ft&&((n=s=Mt)&&(s=o1(s,i.pendingProps,Hn),s!==null?(i.stateNode=s,ln=i,Mt=null,n=!0):n=!1),n||oi(i)),null;case 13:return tm(n,i,s);case 4:return R(i,i.stateNode.containerInfo),f=i.pendingProps,n===null?i.child=Ji(i,null,f,s):Wt(n,i,f,s),i.child;case 11:return Jp(n,i,i.type,i.pendingProps,s);case 7:return Wt(n,i,i.pendingProps,s),i.child;case 8:return Wt(n,i,i.pendingProps.children,s),i.child;case 12:return Wt(n,i,i.pendingProps.children,s),i.child;case 10:return f=i.pendingProps,Rr(i,i.type,f.value),Wt(n,i,f.children,s),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,ai(i),g=jt(g),f=f(g),i.flags|=1,Wt(n,i,f,s),i.child;case 14:return Wp(n,i,i.type,i.pendingProps,s);case 15:return $p(n,i,i.type,i.pendingProps,s);case 19:return rm(n,i,s);case 31:return f=i.pendingProps,s=i.mode,f={mode:f.mode,children:f.children},n===null?(s=La(f,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=rr(n.child,f),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Xp(n,i,s);case 24:return ai(i),f=jt(zt),n===null?(g=Du(),g===null&&(g=St,w=Ru(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=s),g=w),i.memoizedState={parent:f,cache:g},Iu(i),Rr(i,zt,g)):((n.lanes&s)!==0&&(ku(n,i),as(i,null,null,s),ss()),g=n.memoizedState,w=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Rr(i,zt,f)):(f=w.cache,Rr(i,zt,f),f!==g.cache&&Au(i,[zt],s,!0))),Wt(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function fr(n){n.flags|=4}function om(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!hg(i)){if(i=Dn.current,i!==null&&((at&4194048)===at?Kn!==null:(at&62914560)!==at&&(at&536870912)===0||i!==Kn))throw is=Mu,Vh;n.flags|=8192}}function Ba(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?bi():536870912,n.lanes|=i,Zi|=i)}function ps(n,i){if(!ft)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,f=0;if(i)for(var g=n.child;g!==null;)s|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)s|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=s,i}function MT(n,i,s){var f=i.pendingProps;switch(Eu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return s=i.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),ar(zt),te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Zo(i)?fr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ph())),Dt(i),null;case 26:return s=i.memoizedState,n===null?(fr(i),s!==null?(Dt(i),om(i,s)):(Dt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(fr(i),Dt(i),om(i,s)):(Dt(i),i.flags&=-16777217):(n.memoizedProps!==f&&fr(i),Dt(i),i.flags&=-16777217),null;case 27:z(i),s=$.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==f&&fr(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Dt(i),null}n=j.current,Zo(i)?Lh(i):(n=og(g,f,s),i.stateNode=n,fr(i))}return Dt(i),null;case 5:if(z(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==f&&fr(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Dt(i),null}if(n=j.current,Zo(i))Lh(i);else{switch(g=$a($.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?g.createElement(s,{is:f.is}):g.createElement(s)}}n[qt]=i,n[Zt]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(Xt(n,s,f),s){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&fr(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==f&&fr(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(o(166));if(n=$.current,Zo(i)){if(n=i.stateNode,s=i.memoizedProps,f=null,g=ln,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}n[qt]=i,n=!!(n.nodeValue===s||f!==null&&f.suppressHydrationWarning===!0||Qm(n.nodeValue,s)),n||oi(i)}else n=$a(n).createTextNode(f),n[qt]=i,i.stateNode=n}return Dt(i),null;case 13:if(f=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Zo(i),f!==null&&f.dehydrated!==null){if(n===null){if(!g)throw Error(o(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[qt]=i}else Qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),g=!1}else g=Ph(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ur(i),i):(ur(i),null)}if(ur(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=f!==null,n=n!==null&&n.memoizedState!==null,s){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Ba(i,i.updateQueue),Dt(i),null;case 4:return te(),n===null&&Lc(i.stateNode.containerInfo),Dt(i),null;case 10:return ar(i.type),Dt(i),null;case 19:if(P(Vt),g=i.memoizedState,g===null)return Dt(i),null;if(f=(i.flags&128)!==0,w=g.rendering,w===null)if(f)ps(g,!1);else{if(It!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(w=Ma(n),w!==null){for(i.flags|=128,ps(g,!1),n=w.updateQueue,i.updateQueue=n,Ba(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)kh(s,n),s=s.sibling;return J(Vt,Vt.current&1|2),i.child}n=n.sibling}g.tail!==null&&v()>Fa&&(i.flags|=128,f=!0,ps(g,!1),i.lanes=4194304)}else{if(!f)if(n=Ma(w),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Ba(i,n),ps(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ft)return Dt(i),null}else 2*v()-g.renderingStartTime>Fa&&s!==536870912&&(i.flags|=128,f=!0,ps(g,!1),i.lanes=4194304);g.isBackwards?(w.sibling=i.child,i.child=w):(n=g.last,n!==null?n.sibling=w:i.child=w,g.last=w)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=v(),i.sibling=null,n=Vt.current,J(Vt,f?n&1|2:n&1),i):(Dt(i),null);case 22:case 23:return ur(i),Pu(),f=i.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(s&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),s=i.updateQueue,s!==null&&Ba(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==s&&(i.flags|=2048),n!==null&&P(li),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ar(zt),Dt(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function IT(n,i){switch(Eu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ar(zt),te(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return z(i),null;case 13:if(ur(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Qo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return P(Vt),null;case 4:return te(),null;case 10:return ar(i.type),null;case 22:case 23:return ur(i),Pu(),n!==null&&P(li),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ar(zt),null;case 25:return null;default:return null}}function sm(n,i){switch(Eu(i),i.tag){case 3:ar(zt),te();break;case 26:case 27:case 5:z(i);break;case 4:te();break;case 13:ur(i);break;case 19:P(Vt);break;case 10:ar(i.type);break;case 22:case 23:ur(i),Pu(),n!==null&&P(li);break;case 24:ar(zt)}}function ms(n,i){try{var s=i.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var g=f.next;s=g;do{if((s.tag&n)===n){f=void 0;var w=s.create,L=s.inst;f=w(),L.destroy=f}s=s.next}while(s!==g)}}catch(V){Tt(i,i.return,V)}}function Lr(n,i,s){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var w=g.next;f=w;do{if((f.tag&n)===n){var L=f.inst,V=L.destroy;if(V!==void 0){L.destroy=void 0,g=i;var oe=s,ve=V;try{ve()}catch(Ae){Tt(g,oe,Ae)}}}f=f.next}while(f!==w)}}catch(Ae){Tt(i,i.return,Ae)}}function am(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Wh(i,s)}catch(f){Tt(n,n.return,f)}}}function lm(n,i,s){s.props=ci(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(f){Tt(n,i,f)}}function gs(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof s=="function"?n.refCleanup=s(f):s.current=f}}catch(g){Tt(n,i,g)}}function Yn(n,i){var s=n.ref,f=n.refCleanup;if(s!==null)if(typeof f=="function")try{f()}catch(g){Tt(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){Tt(n,i,g)}else s.current=null}function um(n){var i=n.type,s=n.memoizedProps,f=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&f.focus();break e;case"img":s.src?f.src=s.src:s.srcSet&&(f.srcset=s.srcSet)}}catch(g){Tt(n,n.return,g)}}function fc(n,i,s){try{var f=n.stateNode;jT(f,n.type,s,i),f[Zt]=i}catch(g){Tt(n,n.return,g)}}function cm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&qr(n.type)||n.tag===4}function dc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hc(n,i,s){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Wa));else if(f!==4&&(f===27&&qr(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(hc(n,i,s),n=n.sibling;n!==null;)hc(n,i,s),n=n.sibling}function Pa(n,i,s){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(f!==4&&(f===27&&qr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Pa(n,i,s),n=n.sibling;n!==null;)Pa(n,i,s),n=n.sibling}function fm(n){var i=n.stateNode,s=n.memoizedProps;try{for(var f=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Xt(i,f,s),i[qt]=n,i[Zt]=s}catch(w){Tt(n,n.return,w)}}var dr=!1,Lt=!1,pc=!1,dm=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function kT(n,i){if(n=n.containerInfo,Oc=tl,n=Eh(n),du(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{s.nodeType,w.nodeType}catch{s=null;break e}var L=0,V=-1,oe=-1,ve=0,Ae=0,Me=n,we=null;t:for(;;){for(var xe;Me!==s||g!==0&&Me.nodeType!==3||(V=L+g),Me!==w||f!==0&&Me.nodeType!==3||(oe=L+f),Me.nodeType===3&&(L+=Me.nodeValue.length),(xe=Me.firstChild)!==null;)we=Me,Me=xe;for(;;){if(Me===n)break t;if(we===s&&++ve===g&&(V=L),we===w&&++Ae===f&&(oe=L),(xe=Me.nextSibling)!==null)break;Me=we,we=Me.parentNode}Me=xe}s=V===-1||oe===-1?null:{start:V,end:oe}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fc={focusedElem:n,selectionRange:s},tl=!1,Kt=i;Kt!==null;)if(i=Kt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Kt=n;else for(;Kt!==null;){switch(i=Kt,w=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&w!==null){n=void 0,s=i,g=w.memoizedProps,w=w.memoizedState,f=s.stateNode;try{var Ye=ci(s.type,g,s.elementType===s.type);n=f.getSnapshotBeforeUpdate(Ye,w),f.__reactInternalSnapshotBeforeUpdate=n}catch(He){Tt(s,s.return,He)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Vc(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,Kt=n;break}Kt=i.return}}function hm(n,i,s){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Br(n,s),f&4&&ms(5,s);break;case 1:if(Br(n,s),f&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(L){Tt(s,s.return,L)}else{var g=ci(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Tt(s,s.return,L)}}f&64&&am(s),f&512&&gs(s,s.return);break;case 3:if(Br(n,s),f&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Wh(n,i)}catch(L){Tt(s,s.return,L)}}break;case 27:i===null&&f&4&&fm(s);case 26:case 5:Br(n,s),i===null&&f&4&&um(s),f&512&&gs(s,s.return);break;case 12:Br(n,s);break;case 13:Br(n,s),f&4&&gm(n,s),f&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=VT.bind(null,s),s1(n,s))));break;case 22:if(f=s.memoizedState!==null||dr,!f){i=i!==null&&i.memoizedState!==null||Lt,g=dr;var w=Lt;dr=f,(Lt=i)&&!w?Pr(n,s,(s.subtreeFlags&8772)!==0):Br(n,s),dr=g,Lt=w}break;case 30:break;default:Br(n,s)}}function pm(n){var i=n.alternate;i!==null&&(n.alternate=null,pm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&zo(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var At=null,fn=!1;function hr(n,i,s){for(s=s.child;s!==null;)mm(n,i,s),s=s.sibling}function mm(n,i,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(ke,s)}catch{}switch(s.tag){case 26:Lt||Yn(s,i),hr(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Lt||Yn(s,i);var f=At,g=fn;qr(s.type)&&(At=s.stateNode,fn=!1),hr(n,i,s),bs(s.stateNode),At=f,fn=g;break;case 5:Lt||Yn(s,i);case 6:if(f=At,g=fn,At=null,hr(n,i,s),At=f,fn=g,At!==null)if(fn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(s.stateNode)}catch(w){Tt(s,i,w)}else try{At.removeChild(s.stateNode)}catch(w){Tt(s,i,w)}break;case 18:At!==null&&(fn?(n=At,rg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),ks(n)):rg(At,s.stateNode));break;case 4:f=At,g=fn,At=s.stateNode.containerInfo,fn=!0,hr(n,i,s),At=f,fn=g;break;case 0:case 11:case 14:case 15:Lt||Lr(2,s,i),Lt||Lr(4,s,i),hr(n,i,s);break;case 1:Lt||(Yn(s,i),f=s.stateNode,typeof f.componentWillUnmount=="function"&&lm(s,i,f)),hr(n,i,s);break;case 21:hr(n,i,s);break;case 22:Lt=(f=Lt)||s.memoizedState!==null,hr(n,i,s),Lt=f;break;default:hr(n,i,s)}}function gm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ks(n)}catch(s){Tt(i,i.return,s)}}function UT(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new dm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new dm),i;default:throw Error(o(435,n.tag))}}function mc(n,i){var s=UT(n);i.forEach(function(f){var g=qT.bind(null,n,f);s.has(f)||(s.add(f),f.then(g,g))})}function wn(n,i){var s=i.deletions;if(s!==null)for(var f=0;f<s.length;f++){var g=s[f],w=n,L=i,V=L;e:for(;V!==null;){switch(V.tag){case 27:if(qr(V.type)){At=V.stateNode,fn=!1;break e}break;case 5:At=V.stateNode,fn=!1;break e;case 3:case 4:At=V.stateNode.containerInfo,fn=!0;break e}V=V.return}if(At===null)throw Error(o(160));mm(w,L,g),At=null,fn=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ym(i,n),i=i.sibling}var Fn=null;function ym(n,i){var s=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:wn(i,n),xn(n),f&4&&(Lr(3,n,n.return),ms(3,n),Lr(5,n,n.return));break;case 1:wn(i,n),xn(n),f&512&&(Lt||s===null||Yn(s,s.return)),f&64&&dr&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?f:s.concat(f))));break;case 26:var g=Fn;if(wn(i,n),xn(n),f&512&&(Lt||s===null||Yn(s,s.return)),f&4){var w=s!==null?s.memoizedState:null;if(f=n.memoizedState,s===null)if(f===null)if(n.stateNode===null){e:{f=n.type,s=n.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":w=g.getElementsByTagName("title")[0],(!w||w[Zr]||w[qt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(f),g.head.insertBefore(w,g.querySelector("head > title"))),Xt(w,f,s),w[qt]=n,Be(w),f=w;break e;case"link":var L=fg("link","href",g).get(f+(s.href||""));if(L){for(var V=0;V<L.length;V++)if(w=L[V],w.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&w.getAttribute("rel")===(s.rel==null?null:s.rel)&&w.getAttribute("title")===(s.title==null?null:s.title)&&w.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){L.splice(V,1);break t}}w=g.createElement(f),Xt(w,f,s),g.head.appendChild(w);break;case"meta":if(L=fg("meta","content",g).get(f+(s.content||""))){for(V=0;V<L.length;V++)if(w=L[V],w.getAttribute("content")===(s.content==null?null:""+s.content)&&w.getAttribute("name")===(s.name==null?null:s.name)&&w.getAttribute("property")===(s.property==null?null:s.property)&&w.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&w.getAttribute("charset")===(s.charSet==null?null:s.charSet)){L.splice(V,1);break t}}w=g.createElement(f),Xt(w,f,s),g.head.appendChild(w);break;default:throw Error(o(468,f))}w[qt]=n,Be(w),f=w}n.stateNode=f}else dg(g,n.type,n.stateNode);else n.stateNode=cg(g,f,n.memoizedProps);else w!==f?(w===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):w.count--,f===null?dg(g,n.type,n.stateNode):cg(g,f,n.memoizedProps)):f===null&&n.stateNode!==null&&fc(n,n.memoizedProps,s.memoizedProps)}break;case 27:wn(i,n),xn(n),f&512&&(Lt||s===null||Yn(s,s.return)),s!==null&&f&4&&fc(n,n.memoizedProps,s.memoizedProps);break;case 5:if(wn(i,n),xn(n),f&512&&(Lt||s===null||Yn(s,s.return)),n.flags&32){g=n.stateNode;try{Ni(g,"")}catch(xe){Tt(n,n.return,xe)}}f&4&&n.stateNode!=null&&(g=n.memoizedProps,fc(n,g,s!==null?s.memoizedProps:g)),f&1024&&(pc=!0);break;case 6:if(wn(i,n),xn(n),f&4){if(n.stateNode===null)throw Error(o(162));f=n.memoizedProps,s=n.stateNode;try{s.nodeValue=f}catch(xe){Tt(n,n.return,xe)}}break;case 3:if(Qa=null,g=Fn,Fn=Xa(i.containerInfo),wn(i,n),Fn=g,xn(n),f&4&&s!==null&&s.memoizedState.isDehydrated)try{ks(i.containerInfo)}catch(xe){Tt(n,n.return,xe)}pc&&(pc=!1,vm(n));break;case 4:f=Fn,Fn=Xa(n.stateNode.containerInfo),wn(i,n),xn(n),Fn=f;break;case 12:wn(i,n),xn(n);break;case 13:wn(i,n),xn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Tc=v()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,mc(n,f)));break;case 22:g=n.memoizedState!==null;var oe=s!==null&&s.memoizedState!==null,ve=dr,Ae=Lt;if(dr=ve||g,Lt=Ae||oe,wn(i,n),Lt=Ae,dr=ve,xn(n),f&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(s===null||oe||dr||Lt||fi(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){oe=s=i;try{if(w=oe.stateNode,g)L=w.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{V=oe.stateNode;var Me=oe.memoizedProps.style,we=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;V.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(xe){Tt(oe,oe.return,xe)}}}else if(i.tag===6){if(s===null){oe=i;try{oe.stateNode.nodeValue=g?"":oe.memoizedProps}catch(xe){Tt(oe,oe.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=n.updateQueue,f!==null&&(s=f.retryQueue,s!==null&&(f.retryQueue=null,mc(n,s))));break;case 19:wn(i,n),xn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,mc(n,f)));break;case 30:break;case 21:break;default:wn(i,n),xn(n)}}function xn(n){var i=n.flags;if(i&2){try{for(var s,f=n.return;f!==null;){if(cm(f)){s=f;break}f=f.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var g=s.stateNode,w=dc(n);Pa(n,w,g);break;case 5:var L=s.stateNode;s.flags&32&&(Ni(L,""),s.flags&=-33);var V=dc(n);Pa(n,V,L);break;case 3:case 4:var oe=s.stateNode.containerInfo,ve=dc(n);hc(n,ve,oe);break;default:throw Error(o(161))}}catch(Ae){Tt(n,n.return,Ae)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function vm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;vm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Br(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)hm(n,i.alternate,i),i=i.sibling}function fi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),fi(i);break;case 1:Yn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&lm(i,i.return,s),fi(i);break;case 27:bs(i.stateNode);case 26:case 5:Yn(i,i.return),fi(i);break;case 22:i.memoizedState===null&&fi(i);break;case 30:fi(i);break;default:fi(i)}n=n.sibling}}function Pr(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=n,w=i,L=w.flags;switch(w.tag){case 0:case 11:case 15:Pr(g,w,s),ms(4,w);break;case 1:if(Pr(g,w,s),f=w,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ve){Tt(f,f.return,ve)}if(f=w,g=f.updateQueue,g!==null){var V=f.stateNode;try{var oe=g.shared.hiddenCallbacks;if(oe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<oe.length;g++)Jh(oe[g],V)}catch(ve){Tt(f,f.return,ve)}}s&&L&64&&am(w),gs(w,w.return);break;case 27:fm(w);case 26:case 5:Pr(g,w,s),s&&f===null&&L&4&&um(w),gs(w,w.return);break;case 12:Pr(g,w,s);break;case 13:Pr(g,w,s),s&&L&4&&gm(g,w);break;case 22:w.memoizedState===null&&Pr(g,w,s),gs(w,w.return);break;case 30:break;default:Pr(g,w,s)}i=i.sibling}}function gc(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&ts(s))}function yc(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ts(n))}function Jn(n,i,s,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wm(n,i,s,f),i=i.sibling}function wm(n,i,s,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(n,i,s,f),g&2048&&ms(9,i);break;case 1:Jn(n,i,s,f);break;case 3:Jn(n,i,s,f),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ts(n)));break;case 12:if(g&2048){Jn(n,i,s,f),n=i.stateNode;try{var w=i.memoizedProps,L=w.id,V=w.onPostCommit;typeof V=="function"&&V(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(oe){Tt(i,i.return,oe)}}else Jn(n,i,s,f);break;case 13:Jn(n,i,s,f);break;case 23:break;case 22:w=i.stateNode,L=i.alternate,i.memoizedState!==null?w._visibility&2?Jn(n,i,s,f):ys(n,i):w._visibility&2?Jn(n,i,s,f):(w._visibility|=2,Wi(n,i,s,f,(i.subtreeFlags&10256)!==0)),g&2048&&gc(L,i);break;case 24:Jn(n,i,s,f),g&2048&&yc(i.alternate,i);break;default:Jn(n,i,s,f)}}function Wi(n,i,s,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var w=n,L=i,V=s,oe=f,ve=L.flags;switch(L.tag){case 0:case 11:case 15:Wi(w,L,V,oe,g),ms(8,L);break;case 23:break;case 22:var Ae=L.stateNode;L.memoizedState!==null?Ae._visibility&2?Wi(w,L,V,oe,g):ys(w,L):(Ae._visibility|=2,Wi(w,L,V,oe,g)),g&&ve&2048&&gc(L.alternate,L);break;case 24:Wi(w,L,V,oe,g),g&&ve&2048&&yc(L.alternate,L);break;default:Wi(w,L,V,oe,g)}i=i.sibling}}function ys(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,f=i,g=f.flags;switch(f.tag){case 22:ys(s,f),g&2048&&gc(f.alternate,f);break;case 24:ys(s,f),g&2048&&yc(f.alternate,f);break;default:ys(s,f)}i=i.sibling}}var vs=8192;function $i(n){if(n.subtreeFlags&vs)for(n=n.child;n!==null;)xm(n),n=n.sibling}function xm(n){switch(n.tag){case 26:$i(n),n.flags&vs&&n.memoizedState!==null&&w1(Fn,n.memoizedState,n.memoizedProps);break;case 5:$i(n);break;case 3:case 4:var i=Fn;Fn=Xa(n.stateNode.containerInfo),$i(n),Fn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=vs,vs=16777216,$i(n),vs=i):$i(n));break;default:$i(n)}}function Tm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ws(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];Kt=f,Em(f,n)}Tm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sm(n),n=n.sibling}function Sm(n){switch(n.tag){case 0:case 11:case 15:ws(n),n.flags&2048&&Lr(9,n,n.return);break;case 3:ws(n);break;case 12:ws(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Oa(n)):ws(n);break;default:ws(n)}}function Oa(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];Kt=f,Em(f,n)}Tm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),Oa(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Oa(i));break;default:Oa(i)}n=n.sibling}}function Em(n,i){for(;Kt!==null;){var s=Kt;switch(s.tag){case 0:case 11:case 15:Lr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var f=s.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ts(s.memoizedState.cache)}if(f=s.child,f!==null)f.return=s,Kt=f;else e:for(s=n;Kt!==null;){f=Kt;var g=f.sibling,w=f.return;if(pm(f),f===s){Kt=null;break e}if(g!==null){g.return=w,Kt=g;break e}Kt=w}}}var LT={getCacheForType:function(n){var i=jt(zt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},BT=typeof WeakMap=="function"?WeakMap:Map,pt=0,St=null,it=null,at=0,mt=0,Tn=null,Or=!1,Xi=!1,vc=!1,pr=0,It=0,Fr=0,di=0,wc=0,Mn=0,Zi=0,xs=null,dn=null,xc=!1,Tc=0,Fa=1/0,Ga=null,Gr=null,$t=0,zr=null,Qi=null,ji=0,Sc=0,Ec=null,_m=null,Ts=0,_c=null;function Sn(){if((pt&2)!==0&&at!==0)return at&-at;if(le.T!==null){var n=Gi;return n!==0?n:Mc()}return Zs()}function bm(){Mn===0&&(Mn=(at&536870912)===0||ft?er():536870912);var n=Dn.current;return n!==null&&(n.flags|=32),Mn}function En(n,i,s){(n===St&&(mt===2||mt===9)||n.cancelPendingCommit!==null)&&(eo(n,0),Vr(n,at,Mn,!1)),gn(n,s),((pt&2)===0||n!==St)&&(n===St&&((pt&2)===0&&(di|=s),It===4&&Vr(n,at,Mn,!1)),Wn(n))}function Cm(n,i,s){if((pt&6)!==0)throw Error(o(327));var f=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Bn(n,i),g=f?FT(n,i):Ac(n,i,!0),w=f;do{if(g===0){Xi&&!f&&Vr(n,i,0,!1);break}else{if(s=n.current.alternate,w&&!PT(s)){g=Ac(n,i,!1),w=!1;continue}if(g===2){if(w=i,n.errorRecoveryDisabledLanes&w)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var V=n;g=xs;var oe=V.current.memoizedState.isDehydrated;if(oe&&(eo(V,L).flags|=256),L=Ac(V,L,!1),L!==2){if(vc&&!oe){V.errorRecoveryDisabledLanes|=w,di|=w,g=4;break e}w=dn,dn=g,w!==null&&(dn===null?dn=w:dn.push.apply(dn,w))}g=L}if(w=!1,g!==2)continue}}if(g===1){eo(n,0),Vr(n,i,0,!0);break}e:{switch(f=n,w=g,w){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Vr(f,i,Mn,!Or);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(g=Tc+300-v(),10<g)){if(Vr(f,i,Mn,!Or),Ct(f,0,!0)!==0)break e;f.timeoutHandle=tg(Am.bind(null,f,s,dn,Ga,xc,i,Mn,di,Zi,Or,w,2,-0,0),g);break e}Am(f,s,dn,Ga,xc,i,Mn,di,Zi,Or,w,0,-0,0)}}break}while(!0);Wn(n)}function Am(n,i,s,f,g,w,L,V,oe,ve,Ae,Me,we,xe){if(n.timeoutHandle=-1,Me=i.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(Rs={stylesheets:null,count:0,unsuspend:v1},xm(i),Me=x1(),Me!==null)){n.cancelPendingCommit=Me(Um.bind(null,n,i,w,s,f,g,L,V,oe,Ae,1,we,xe)),Vr(n,w,L,!ve);return}Um(n,i,w,s,f,g,L,V,oe)}function PT(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var f=0;f<s.length;f++){var g=s[f],w=g.getSnapshot;g=g.value;try{if(!yn(w(),g))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(n,i,s,f){i&=~wc,i&=~di,n.suspendedLanes|=i,n.pingedLanes&=~i,f&&(n.warmLanes|=i),f=n.expirationTimes;for(var g=i;0<g;){var w=31-Xe(g),L=1<<w;f[w]=-1,g&=~L}s!==0&&$s(n,s,i)}function za(){return(pt&6)===0?(Ss(0),!1):!0}function bc(){if(it!==null){if(mt===0)var n=it.return;else n=it,sr=si=null,Vu(n),Yi=null,ds=0,n=it;for(;n!==null;)sm(n.alternate,n),n=n.return;it=null}}function eo(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,t1(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),bc(),St=n,it=s=rr(n.current,null),at=i,mt=0,Tn=null,Or=!1,Xi=Bn(n,i),vc=!1,Zi=Mn=wc=di=Fr=It=0,dn=xs=null,xc=!1,(i&8)!==0&&(i|=i&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=i;0<f;){var g=31-Xe(f),w=1<<g;i|=n[g],f&=~w}return pr=i,ua(),s}function Rm(n,i){je=null,le.H=Ra,i===rs||i===va?(i=Kh(),mt=3):i===Vh?(i=Kh(),mt=4):mt=i===Yp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,it===null&&(It=1,ka(n,Cn(i,n.current)))}function Nm(){var n=le.H;return le.H=Ra,n===null?Ra:n}function Dm(){var n=le.A;return le.A=LT,n}function Cc(){It=4,Or||(at&4194048)!==at&&Dn.current!==null||(Xi=!0),(Fr&134217727)===0&&(di&134217727)===0||St===null||Vr(St,at,Mn,!1)}function Ac(n,i,s){var f=pt;pt|=2;var g=Nm(),w=Dm();(St!==n||at!==i)&&(Ga=null,eo(n,i)),i=!1;var L=It;e:do try{if(mt!==0&&it!==null){var V=it,oe=Tn;switch(mt){case 8:bc(),L=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var ve=mt;if(mt=0,Tn=null,to(n,V,oe,ve),s&&Xi){L=0;break e}break;default:ve=mt,mt=0,Tn=null,to(n,V,oe,ve)}}OT(),L=It;break}catch(Ae){Rm(n,Ae)}while(!0);return i&&n.shellSuspendCounter++,sr=si=null,pt=f,le.H=g,le.A=w,it===null&&(St=null,at=0,ua()),L}function OT(){for(;it!==null;)Mm(it)}function FT(n,i){var s=pt;pt|=2;var f=Nm(),g=Dm();St!==n||at!==i?(Ga=null,Fa=v()+500,eo(n,i)):Xi=Bn(n,i);e:do try{if(mt!==0&&it!==null){i=it;var w=Tn;t:switch(mt){case 1:mt=0,Tn=null,to(n,i,w,1);break;case 2:case 9:if(qh(w)){mt=0,Tn=null,Im(i);break}i=function(){mt!==2&&mt!==9||St!==n||(mt=7),Wn(n)},w.then(i,i);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:qh(w)?(mt=0,Tn=null,Im(i)):(mt=0,Tn=null,to(n,i,w,7));break;case 5:var L=null;switch(it.tag){case 26:L=it.memoizedState;case 5:case 27:var V=it;if(!L||hg(L)){mt=0,Tn=null;var oe=V.sibling;if(oe!==null)it=oe;else{var ve=V.return;ve!==null?(it=ve,Va(ve)):it=null}break t}}mt=0,Tn=null,to(n,i,w,5);break;case 6:mt=0,Tn=null,to(n,i,w,6);break;case 8:bc(),It=6;break e;default:throw Error(o(462))}}GT();break}catch(Ae){Rm(n,Ae)}while(!0);return sr=si=null,le.H=f,le.A=g,pt=s,it!==null?0:(St=null,at=0,ua(),It)}function GT(){for(;it!==null&&!re();)Mm(it)}function Mm(n){var i=im(n.alternate,n,pr);n.memoizedProps=n.pendingProps,i===null?Va(n):it=i}function Im(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Qp(s,i,i.pendingProps,i.type,void 0,at);break;case 11:i=Qp(s,i,i.pendingProps,i.type.render,i.ref,at);break;case 5:Vu(i);default:sm(s,i),i=it=kh(i,pr),i=im(s,i,pr)}n.memoizedProps=n.pendingProps,i===null?Va(n):it=i}function to(n,i,s,f){sr=si=null,Vu(i),Yi=null,ds=0;var g=i.return;try{if(NT(n,g,i,s,at)){It=1,ka(n,Cn(s,n.current)),it=null;return}}catch(w){if(g!==null)throw it=g,w;It=1,ka(n,Cn(s,n.current)),it=null;return}i.flags&32768?(ft||f===1?n=!0:Xi||(at&536870912)!==0?n=!1:(Or=n=!0,(f===2||f===9||f===3||f===6)&&(f=Dn.current,f!==null&&f.tag===13&&(f.flags|=16384))),km(i,n)):Va(i)}function Va(n){var i=n;do{if((i.flags&32768)!==0){km(i,Or);return}n=i.return;var s=MT(i.alternate,i,pr);if(s!==null){it=s;return}if(i=i.sibling,i!==null){it=i;return}it=i=n}while(i!==null);It===0&&(It=5)}function km(n,i){do{var s=IT(n.alternate,n);if(s!==null){s.flags&=32767,it=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){it=n;return}it=n=s}while(n!==null);It=6,it=null}function Um(n,i,s,f,g,w,L,V,oe){n.cancelPendingCommit=null;do qa();while($t!==0);if((pt&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(w=i.lanes|i.childLanes,w|=yu,Tr(n,s,w,L,V,oe),n===St&&(it=St=null,at=0),Qi=i,zr=n,ji=s,Sc=w,Ec=g,_m=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,HT(ne,function(){return Fm(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=le.T,le.T=null,g=se.p,se.p=2,L=pt,pt|=4;try{kT(n,i,s)}finally{pt=L,se.p=g,le.T=f}}$t=1,Lm(),Bm(),Pm()}}function Lm(){if($t===1){$t=0;var n=zr,i=Qi,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=le.T,le.T=null;var f=se.p;se.p=2;var g=pt;pt|=4;try{ym(i,n);var w=Fc,L=Eh(n.containerInfo),V=w.focusedElem,oe=w.selectionRange;if(L!==V&&V&&V.ownerDocument&&Sh(V.ownerDocument.documentElement,V)){if(oe!==null&&du(V)){var ve=oe.start,Ae=oe.end;if(Ae===void 0&&(Ae=ve),"selectionStart"in V)V.selectionStart=ve,V.selectionEnd=Math.min(Ae,V.value.length);else{var Me=V.ownerDocument||document,we=Me&&Me.defaultView||window;if(we.getSelection){var xe=we.getSelection(),Ye=V.textContent.length,He=Math.min(oe.start,Ye),wt=oe.end===void 0?He:Math.min(oe.end,Ye);!xe.extend&&He>wt&&(L=wt,wt=He,He=L);var me=Th(V,He),fe=Th(V,wt);if(me&&fe&&(xe.rangeCount!==1||xe.anchorNode!==me.node||xe.anchorOffset!==me.offset||xe.focusNode!==fe.node||xe.focusOffset!==fe.offset)){var ye=Me.createRange();ye.setStart(me.node,me.offset),xe.removeAllRanges(),He>wt?(xe.addRange(ye),xe.extend(fe.node,fe.offset)):(ye.setEnd(fe.node,fe.offset),xe.addRange(ye))}}}}for(Me=[],xe=V;xe=xe.parentNode;)xe.nodeType===1&&Me.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Me.length;V++){var Ne=Me[V];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}tl=!!Oc,Fc=Oc=null}finally{pt=g,se.p=f,le.T=s}}n.current=i,$t=2}}function Bm(){if($t===2){$t=0;var n=zr,i=Qi,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=le.T,le.T=null;var f=se.p;se.p=2;var g=pt;pt|=4;try{hm(n,i.alternate,i)}finally{pt=g,se.p=f,le.T=s}}$t=3}}function Pm(){if($t===4||$t===3){$t=0,I();var n=zr,i=Qi,s=ji,f=_m;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,Qi=zr=null,Om(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Gr=null),Oo(s),i=i.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(ke,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=le.T,g=se.p,se.p=2,le.T=null;try{for(var w=n.onRecoverableError,L=0;L<f.length;L++){var V=f[L];w(V.value,{componentStack:V.stack})}}finally{le.T=i,se.p=g}}(ji&3)!==0&&qa(),Wn(n),g=n.pendingLanes,(s&4194090)!==0&&(g&42)!==0?n===_c?Ts++:(Ts=0,_c=n):Ts=0,Ss(0)}}function Om(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ts(i)))}function qa(n){return Lm(),Bm(),Pm(),Fm()}function Fm(){if($t!==5)return!1;var n=zr,i=Sc;Sc=0;var s=Oo(ji),f=le.T,g=se.p;try{se.p=32>s?32:s,le.T=null,s=Ec,Ec=null;var w=zr,L=ji;if($t=0,Qi=zr=null,ji=0,(pt&6)!==0)throw Error(o(331));var V=pt;if(pt|=4,Sm(w.current),wm(w,w.current,L,s),pt=V,Ss(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(ke,w)}catch{}return!0}finally{se.p=g,le.T=f,Om(n,i)}}function Gm(n,i,s){i=Cn(s,i),i=nc(n.stateNode,i,2),n=Mr(n,i,2),n!==null&&(gn(n,2),Wn(n))}function Tt(n,i,s){if(n.tag===3)Gm(n,n,s);else for(;i!==null;){if(i.tag===3){Gm(i,n,s);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Gr===null||!Gr.has(f))){n=Cn(s,n),s=Hp(2),f=Mr(i,s,2),f!==null&&(Kp(s,f,i,n),gn(f,2),Wn(f));break}}i=i.return}}function Rc(n,i,s){var f=n.pingCache;if(f===null){f=n.pingCache=new BT;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(s)||(vc=!0,g.add(s),n=zT.bind(null,n,i,s),i.then(n,n))}function zT(n,i,s){var f=n.pingCache;f!==null&&f.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,St===n&&(at&s)===s&&(It===4||It===3&&(at&62914560)===at&&300>v()-Tc?(pt&2)===0&&eo(n,0):wc|=s,Zi===at&&(Zi=0)),Wn(n)}function zm(n,i){i===0&&(i=bi()),n=Bi(n,i),n!==null&&(gn(n,i),Wn(n))}function VT(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),zm(n,s)}function qT(n,i){var s=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(s=g.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(i),zm(n,s)}function HT(n,i){return ie(n,i)}var Ha=null,no=null,Nc=!1,Ka=!1,Dc=!1,hi=0;function Wn(n){n!==no&&n.next===null&&(no===null?Ha=no=n:no=no.next=n),Ka=!0,Nc||(Nc=!0,YT())}function Ss(n,i){if(!Dc&&Ka){Dc=!0;do for(var s=!1,f=Ha;f!==null;){if(n!==0){var g=f.pendingLanes;if(g===0)var w=0;else{var L=f.suspendedLanes,V=f.pingedLanes;w=(1<<31-Xe(42|n)+1)-1,w&=g&~(L&~V),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(s=!0,Km(f,w))}else w=at,w=Ct(f,f===St?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||Bn(f,w)||(s=!0,Km(f,w));f=f.next}while(s);Dc=!1}}function KT(){Vm()}function Vm(){Ka=Nc=!1;var n=0;hi!==0&&(e1()&&(n=hi),hi=0);for(var i=v(),s=null,f=Ha;f!==null;){var g=f.next,w=qm(f,i);w===0?(f.next=null,s===null?Ha=g:s.next=g,g===null&&(no=s)):(s=f,(n!==0||(w&3)!==0)&&(Ka=!0)),f=g}Ss(n)}function qm(n,i){for(var s=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,w=n.pendingLanes&-62914561;0<w;){var L=31-Xe(w),V=1<<L,oe=g[L];oe===-1?((V&s)===0||(V&f)!==0)&&(g[L]=_i(V,i)):oe<=i&&(n.expiredLanes|=V),w&=~V}if(i=St,s=at,s=Ct(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,s===0||n===i&&(mt===2||mt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&_(f),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Bn(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(f!==null&&_(f),Oo(s)){case 2:case 8:s=X;break;case 32:s=ne;break;case 268435456:s=ge;break;default:s=ne}return f=Hm.bind(null,n),s=ie(s,f),n.callbackPriority=i,n.callbackNode=s,i}return f!==null&&f!==null&&_(f),n.callbackPriority=2,n.callbackNode=null,2}function Hm(n,i){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(qa()&&n.callbackNode!==s)return null;var f=at;return f=Ct(n,n===St?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(Cm(n,f,i),qm(n,v()),n.callbackNode!=null&&n.callbackNode===s?Hm.bind(null,n):null)}function Km(n,i){if(qa())return null;Cm(n,i,!0)}function YT(){n1(function(){(pt&6)!==0?ie(b,KT):Vm()})}function Mc(){return hi===0&&(hi=er()),hi}function Ym(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:na(""+n)}function Jm(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function JT(n,i,s,f,g){if(i==="submit"&&s&&s.stateNode===g){var w=Ym((g[Zt]||null).action),L=f.submitter;L&&(i=(i=L[Zt]||null)?Ym(i.formAction):L.getAttribute("formAction"),i!==null&&(w=i,L=null));var V=new sa("action","action",null,f,g);n.push({event:V,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(hi!==0){var oe=L?Jm(g,L):new FormData(g);Zu(s,{pending:!0,data:oe,method:g.method,action:w},null,oe)}}else typeof w=="function"&&(V.preventDefault(),oe=L?Jm(g,L):new FormData(g),Zu(s,{pending:!0,data:oe,method:g.method,action:w},w,oe))},currentTarget:g}]})}}for(var Ic=0;Ic<gu.length;Ic++){var kc=gu[Ic],WT=kc.toLowerCase(),$T=kc[0].toUpperCase()+kc.slice(1);On(WT,"on"+$T)}On(Ch,"onAnimationEnd"),On(Ah,"onAnimationIteration"),On(Rh,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(dT,"onTransitionRun"),On(hT,"onTransitionStart"),On(pT,"onTransitionCancel"),On(Nh,"onTransitionEnd"),ct("onMouseEnter",["mouseout","mouseover"]),ct("onMouseLeave",["mouseout","mouseover"]),ct("onPointerEnter",["pointerout","pointerover"]),ct("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Es));function Wm(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var f=n[s],g=f.event;f=f.listeners;e:{var w=void 0;if(i)for(var L=f.length-1;0<=L;L--){var V=f[L],oe=V.instance,ve=V.currentTarget;if(V=V.listener,oe!==w&&g.isPropagationStopped())break e;w=V,g.currentTarget=ve;try{w(g)}catch(Ae){Ia(Ae)}g.currentTarget=null,w=oe}else for(L=0;L<f.length;L++){if(V=f[L],oe=V.instance,ve=V.currentTarget,V=V.listener,oe!==w&&g.isPropagationStopped())break e;w=V,g.currentTarget=ve;try{w(g)}catch(Ae){Ia(Ae)}g.currentTarget=null,w=oe}}}}function ot(n,i){var s=i[Go];s===void 0&&(s=i[Go]=new Set);var f=n+"__bubble";s.has(f)||($m(i,n,2,!1),s.add(f))}function Uc(n,i,s){var f=0;i&&(f|=4),$m(s,n,f,i)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function Lc(n){if(!n[Ya]){n[Ya]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(XT.has(s)||Uc(s,!1,n),Uc(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ya]||(i[Ya]=!0,Uc("selectionchange",!1,i))}}function $m(n,i,s,f){switch(wg(i)){case 2:var g=E1;break;case 8:g=_1;break;default:g=$c}s=g.bind(null,i,s,n),g=void 0,!ru||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(i,s,{capture:!0,passive:g}):n.addEventListener(i,s,!0):g!==void 0?n.addEventListener(i,s,{passive:g}):n.addEventListener(i,s,!1)}function Bc(n,i,s,f,g){var w=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var L=f.tag;if(L===3||L===4){var V=f.stateNode.containerInfo;if(V===g)break;if(L===4)for(L=f.return;L!==null;){var oe=L.tag;if((oe===3||oe===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;V!==null;){if(L=Er(V),L===null)return;if(oe=L.tag,oe===5||oe===6||oe===26||oe===27){f=w=L;continue e}V=V.parentNode}}f=f.return}nh(function(){var ve=w,Ae=tu(s),Me=[];e:{var we=Dh.get(n);if(we!==void 0){var xe=sa,Ye=n;switch(n){case"keypress":if(ia(s)===0)break e;case"keydown":case"keyup":xe=Hx;break;case"focusin":Ye="focus",xe=au;break;case"focusout":Ye="blur",xe=au;break;case"beforeblur":case"afterblur":xe=au;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Jx;break;case Ch:case Ah:case Rh:xe=Lx;break;case Nh:xe=$x;break;case"scroll":case"scrollend":xe=Dx;break;case"wheel":xe=Zx;break;case"copy":case"cut":case"paste":xe=Px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=ah;break;case"toggle":case"beforetoggle":xe=jx}var He=(i&4)!==0,wt=!He&&(n==="scroll"||n==="scrollend"),me=He?we!==null?we+"Capture":null:we;He=[];for(var fe=ve,ye;fe!==null;){var Ne=fe;if(ye=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ye===null||me===null||(Ne=Vo(fe,me),Ne!=null&&He.push(_s(fe,Ne,ye))),wt)break;fe=fe.return}0<He.length&&(we=new xe(we,Ye,null,s,Ae),Me.push({event:we,listeners:He}))}}if((i&7)===0){e:{if(we=n==="mouseover"||n==="pointerover",xe=n==="mouseout"||n==="pointerout",we&&s!==eu&&(Ye=s.relatedTarget||s.fromElement)&&(Er(Ye)||Ye[Sr]))break e;if((xe||we)&&(we=Ae.window===Ae?Ae:(we=Ae.ownerDocument)?we.defaultView||we.parentWindow:window,xe?(Ye=s.relatedTarget||s.toElement,xe=ve,Ye=Ye?Er(Ye):null,Ye!==null&&(wt=c(Ye),He=Ye.tag,Ye!==wt||He!==5&&He!==27&&He!==6)&&(Ye=null)):(xe=null,Ye=ve),xe!==Ye)){if(He=oh,Ne="onMouseLeave",me="onMouseEnter",fe="mouse",(n==="pointerout"||n==="pointerover")&&(He=ah,Ne="onPointerLeave",me="onPointerEnter",fe="pointer"),wt=xe==null?we:br(xe),ye=Ye==null?we:br(Ye),we=new He(Ne,fe+"leave",xe,s,Ae),we.target=wt,we.relatedTarget=ye,Ne=null,Er(Ae)===ve&&(He=new He(me,fe+"enter",Ye,s,Ae),He.target=ye,He.relatedTarget=wt,Ne=He),wt=Ne,xe&&Ye)t:{for(He=xe,me=Ye,fe=0,ye=He;ye;ye=ro(ye))fe++;for(ye=0,Ne=me;Ne;Ne=ro(Ne))ye++;for(;0<fe-ye;)He=ro(He),fe--;for(;0<ye-fe;)me=ro(me),ye--;for(;fe--;){if(He===me||me!==null&&He===me.alternate)break t;He=ro(He),me=ro(me)}He=null}else He=null;xe!==null&&Xm(Me,we,xe,He,!1),Ye!==null&&wt!==null&&Xm(Me,wt,Ye,He,!0)}}e:{if(we=ve?br(ve):window,xe=we.nodeName&&we.nodeName.toLowerCase(),xe==="select"||xe==="input"&&we.type==="file")var Fe=mh;else if(hh(we))if(gh)Fe=uT;else{Fe=aT;var nt=sT}else xe=we.nodeName,!xe||xe.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ve&&jl(ve.elementType)&&(Fe=mh):Fe=lT;if(Fe&&(Fe=Fe(n,ve))){ph(Me,Fe,s,Ae);break e}nt&&nt(n,we,ve),n==="focusout"&&ve&&we.type==="number"&&ve.memoizedProps.value!=null&&Ql(we,"number",we.value)}switch(nt=ve?br(ve):window,n){case"focusin":(hh(nt)||nt.contentEditable==="true")&&(ki=nt,hu=ve,Xo=null);break;case"focusout":Xo=hu=ki=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,_h(Me,s,Ae);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":_h(Me,s,Ae)}var Ve;if(uu)e:{switch(n){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Ii?fh(n,s)&&(Ke="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ke="onCompositionStart");Ke&&(lh&&s.locale!=="ko"&&(Ii||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Ii&&(Ve=rh()):(Ar=Ae,iu="value"in Ar?Ar.value:Ar.textContent,Ii=!0)),nt=Ja(ve,Ke),0<nt.length&&(Ke=new sh(Ke,n,null,s,Ae),Me.push({event:Ke,listeners:nt}),Ve?Ke.data=Ve:(Ve=dh(s),Ve!==null&&(Ke.data=Ve)))),(Ve=tT?nT(n,s):rT(n,s))&&(Ke=Ja(ve,"onBeforeInput"),0<Ke.length&&(nt=new sh("onBeforeInput","beforeinput",null,s,Ae),Me.push({event:nt,listeners:Ke}),nt.data=Ve)),JT(Me,n,ve,s,Ae)}Wm(Me,i)})}function _s(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Ja(n,i){for(var s=i+"Capture",f=[];n!==null;){var g=n,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=Vo(n,s),g!=null&&f.unshift(_s(n,g,w)),g=Vo(n,i),g!=null&&f.push(_s(n,g,w))),n.tag===3)return f;n=n.return}return[]}function ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xm(n,i,s,f,g){for(var w=i._reactName,L=[];s!==null&&s!==f;){var V=s,oe=V.alternate,ve=V.stateNode;if(V=V.tag,oe!==null&&oe===f)break;V!==5&&V!==26&&V!==27||ve===null||(oe=ve,g?(ve=Vo(s,w),ve!=null&&L.unshift(_s(s,ve,oe))):g||(ve=Vo(s,w),ve!=null&&L.push(_s(s,ve,oe)))),s=s.return}L.length!==0&&n.push({event:i,listeners:L})}var ZT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function Zm(n){return(typeof n=="string"?n:""+n).replace(ZT,`
`).replace(QT,"")}function Qm(n,i){return i=Zm(i),Zm(n)===i}function Wa(){}function vt(n,i,s,f,g,w){switch(s){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||Ni(n,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&Ni(n,""+f);break;case"className":Cr(n,"class",f);break;case"tabIndex":Cr(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(n,s,f);break;case"style":eh(n,f,w);break;case"data":if(i!=="object"){Cr(n,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(s);break}f=na(""+f),n.setAttribute(s,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(s==="formAction"?(i!=="input"&&vt(n,i,"name",g.name,g,null),vt(n,i,"formEncType",g.formEncType,g,null),vt(n,i,"formMethod",g.formMethod,g,null),vt(n,i,"formTarget",g.formTarget,g,null)):(vt(n,i,"encType",g.encType,g,null),vt(n,i,"method",g.method,g,null),vt(n,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(s);break}f=na(""+f),n.setAttribute(s,f);break;case"onClick":f!=null&&(n.onclick=Wa);break;case"onScroll":f!=null&&ot("scroll",n);break;case"onScrollEnd":f!=null&&ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(s=f.__html,s!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}s=na(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,""+f):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":f===!0?n.setAttribute(s,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,f):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(s,f):n.removeAttribute(s);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(s):n.setAttribute(s,f);break;case"popover":ot("beforetoggle",n),ot("toggle",n),Qt(n,"popover",f);break;case"xlinkActuate":Pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Pn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Pn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Pn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Pn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Qt(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Rx.get(s)||s,Qt(n,s,f))}}function Pc(n,i,s,f,g,w){switch(s){case"style":eh(n,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(s=f.__html,s!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"children":typeof f=="string"?Ni(n,f):(typeof f=="number"||typeof f=="bigint")&&Ni(n,""+f);break;case"onScroll":f!=null&&ot("scroll",n);break;case"onScrollEnd":f!=null&&ot("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!We.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),i=s.slice(2,g?s.length-7:void 0),w=n[Zt]||null,w=w!=null?w[s]:null,typeof w=="function"&&n.removeEventListener(i,w,g),typeof f=="function")){typeof w!="function"&&w!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,f,g);break e}s in n?n[s]=f:f===!0?n.setAttribute(s,""):Qt(n,s,f)}}}function Xt(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",n),ot("load",n);var f=!1,g=!1,w;for(w in s)if(s.hasOwnProperty(w)){var L=s[w];if(L!=null)switch(w){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:vt(n,i,w,L,s,null)}}g&&vt(n,i,"srcSet",s.srcSet,s,null),f&&vt(n,i,"src",s.src,s,null);return;case"input":ot("invalid",n);var V=w=L=g=null,oe=null,ve=null;for(f in s)if(s.hasOwnProperty(f)){var Ae=s[f];if(Ae!=null)switch(f){case"name":g=Ae;break;case"type":L=Ae;break;case"checked":oe=Ae;break;case"defaultChecked":ve=Ae;break;case"value":w=Ae;break;case"defaultValue":V=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(o(137,i));break;default:vt(n,i,f,Ae,s,null)}}Xd(n,w,V,oe,ve,L,g,!1),ea(n);return;case"select":ot("invalid",n),f=L=w=null;for(g in s)if(s.hasOwnProperty(g)&&(V=s[g],V!=null))switch(g){case"value":w=V;break;case"defaultValue":L=V;break;case"multiple":f=V;default:vt(n,i,g,V,s,null)}i=w,s=L,n.multiple=!!f,i!=null?Ri(n,!!f,i,!1):s!=null&&Ri(n,!!f,s,!0);return;case"textarea":ot("invalid",n),w=g=f=null;for(L in s)if(s.hasOwnProperty(L)&&(V=s[L],V!=null))switch(L){case"value":f=V;break;case"defaultValue":g=V;break;case"children":w=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(91));break;default:vt(n,i,L,V,s,null)}Qd(n,f,g,w),ea(n);return;case"option":for(oe in s)if(s.hasOwnProperty(oe)&&(f=s[oe],f!=null))switch(oe){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:vt(n,i,oe,f,s,null)}return;case"dialog":ot("beforetoggle",n),ot("toggle",n),ot("cancel",n),ot("close",n);break;case"iframe":case"object":ot("load",n);break;case"video":case"audio":for(f=0;f<Es.length;f++)ot(Es[f],n);break;case"image":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"embed":case"source":case"link":ot("error",n),ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in s)if(s.hasOwnProperty(ve)&&(f=s[ve],f!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:vt(n,i,ve,f,s,null)}return;default:if(jl(i)){for(Ae in s)s.hasOwnProperty(Ae)&&(f=s[Ae],f!==void 0&&Pc(n,i,Ae,f,s,void 0));return}}for(V in s)s.hasOwnProperty(V)&&(f=s[V],f!=null&&vt(n,i,V,f,s,null))}function jT(n,i,s,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,L=null,V=null,oe=null,ve=null,Ae=null;for(xe in s){var Me=s[xe];if(s.hasOwnProperty(xe)&&Me!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":oe=Me;default:f.hasOwnProperty(xe)||vt(n,i,xe,null,f,Me)}}for(var we in f){var xe=f[we];if(Me=s[we],f.hasOwnProperty(we)&&(xe!=null||Me!=null))switch(we){case"type":w=xe;break;case"name":g=xe;break;case"checked":ve=xe;break;case"defaultChecked":Ae=xe;break;case"value":L=xe;break;case"defaultValue":V=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(o(137,i));break;default:xe!==Me&&vt(n,i,we,xe,f,Me)}}Zl(n,L,V,oe,ve,Ae,w,g);return;case"select":xe=L=V=we=null;for(w in s)if(oe=s[w],s.hasOwnProperty(w)&&oe!=null)switch(w){case"value":break;case"multiple":xe=oe;default:f.hasOwnProperty(w)||vt(n,i,w,null,f,oe)}for(g in f)if(w=f[g],oe=s[g],f.hasOwnProperty(g)&&(w!=null||oe!=null))switch(g){case"value":we=w;break;case"defaultValue":V=w;break;case"multiple":L=w;default:w!==oe&&vt(n,i,g,w,f,oe)}i=V,s=L,f=xe,we!=null?Ri(n,!!s,we,!1):!!f!=!!s&&(i!=null?Ri(n,!!s,i,!0):Ri(n,!!s,s?[]:"",!1));return;case"textarea":xe=we=null;for(V in s)if(g=s[V],s.hasOwnProperty(V)&&g!=null&&!f.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:vt(n,i,V,null,f,g)}for(L in f)if(g=f[L],w=s[L],f.hasOwnProperty(L)&&(g!=null||w!=null))switch(L){case"value":we=g;break;case"defaultValue":xe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==w&&vt(n,i,L,g,f,w)}Zd(n,we,xe);return;case"option":for(var Ye in s)if(we=s[Ye],s.hasOwnProperty(Ye)&&we!=null&&!f.hasOwnProperty(Ye))switch(Ye){case"selected":n.selected=!1;break;default:vt(n,i,Ye,null,f,we)}for(oe in f)if(we=f[oe],xe=s[oe],f.hasOwnProperty(oe)&&we!==xe&&(we!=null||xe!=null))switch(oe){case"selected":n.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:vt(n,i,oe,we,f,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in s)we=s[He],s.hasOwnProperty(He)&&we!=null&&!f.hasOwnProperty(He)&&vt(n,i,He,null,f,we);for(ve in f)if(we=f[ve],xe=s[ve],f.hasOwnProperty(ve)&&we!==xe&&(we!=null||xe!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(o(137,i));break;default:vt(n,i,ve,we,f,xe)}return;default:if(jl(i)){for(var wt in s)we=s[wt],s.hasOwnProperty(wt)&&we!==void 0&&!f.hasOwnProperty(wt)&&Pc(n,i,wt,void 0,f,we);for(Ae in f)we=f[Ae],xe=s[Ae],!f.hasOwnProperty(Ae)||we===xe||we===void 0&&xe===void 0||Pc(n,i,Ae,we,f,xe);return}}for(var me in s)we=s[me],s.hasOwnProperty(me)&&we!=null&&!f.hasOwnProperty(me)&&vt(n,i,me,null,f,we);for(Me in f)we=f[Me],xe=s[Me],!f.hasOwnProperty(Me)||we===xe||we==null&&xe==null||vt(n,i,Me,we,f,xe)}var Oc=null,Fc=null;function $a(n){return n.nodeType===9?n:n.ownerDocument}function jm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eg(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Gc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zc=null;function e1(){var n=window.event;return n&&n.type==="popstate"?n===zc?!1:(zc=n,!0):(zc=null,!1)}var tg=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(n){return ng.resolve(null).then(n).catch(r1)}:tg;function r1(n){setTimeout(function(){throw n})}function qr(n){return n==="head"}function rg(n,i){var s=i,f=0,g=0;do{var w=s.nextSibling;if(n.removeChild(s),w&&w.nodeType===8)if(s=w.data,s==="/$"){if(0<f&&8>f){s=f;var L=n.ownerDocument;if(s&1&&bs(L.documentElement),s&2&&bs(L.body),s&4)for(s=L.head,bs(s),L=s.firstChild;L;){var V=L.nextSibling,oe=L.nodeName;L[Zr]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&L.rel.toLowerCase()==="stylesheet"||s.removeChild(L),L=V}}if(g===0){n.removeChild(w),ks(i);return}g--}else s==="$"||s==="$?"||s==="$!"?g++:f=s.charCodeAt(0)-48;else f=0;s=w}while(s);ks(i)}function Vc(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vc(s),zo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function i1(n,i,s,f){for(;n.nodeType===1;){var g=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[Zr])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(w=n.getAttribute("rel"),w==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(w!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(w=n.getAttribute("src"),(w!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===w)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function o1(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Gn(n.nextSibling),n===null))return null;return n}function qc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function s1(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var f=function(){i(),s.removeEventListener("DOMContentLoaded",f)};s.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Gn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Hc=null;function ig(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function og(n,i,s){switch(i=$a(s),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function bs(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);zo(n)}var In=new Map,sg=new Set;function Xa(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var mr=se.d;se.d={f:a1,r:l1,D:u1,C:c1,L:f1,m:d1,X:p1,S:h1,M:m1};function a1(){var n=mr.f(),i=za();return n||i}function l1(n){var i=_r(n);i!==null&&i.tag===5&&i.type==="form"?Cp(i):mr.r(n)}var io=typeof document>"u"?null:document;function ag(n,i,s){var f=io;if(f&&typeof i=="string"&&i){var g=bn(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),sg.has(g)||(sg.add(g),n={rel:n,crossOrigin:s,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),Xt(i,"link",n),Be(i),f.head.appendChild(i)))}}function u1(n){mr.D(n),ag("dns-prefetch",n,null)}function c1(n,i){mr.C(n,i),ag("preconnect",n,i)}function f1(n,i,s){mr.L(n,i,s);var f=io;if(f&&n&&i){var g='link[rel="preload"][as="'+bn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+bn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+bn(s.imageSizes)+'"]')):g+='[href="'+bn(n)+'"]';var w=g;switch(i){case"style":w=oo(n);break;case"script":w=so(n)}In.has(w)||(n=y({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),In.set(w,n),f.querySelector(g)!==null||i==="style"&&f.querySelector(Cs(w))||i==="script"&&f.querySelector(As(w))||(i=f.createElement("link"),Xt(i,"link",n),Be(i),f.head.appendChild(i)))}}function d1(n,i){mr.m(n,i);var s=io;if(s&&n){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+bn(f)+'"][href="'+bn(n)+'"]',w=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=so(n)}if(!In.has(w)&&(n=y({rel:"modulepreload",href:n},i),In.set(w,n),s.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(As(w)))return}f=s.createElement("link"),Xt(f,"link",n),Be(f),s.head.appendChild(f)}}}function h1(n,i,s){mr.S(n,i,s);var f=io;if(f&&n){var g=Pe(f).hoistableStyles,w=oo(n);i=i||"default";var L=g.get(w);if(!L){var V={loading:0,preload:null};if(L=f.querySelector(Cs(w)))V.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},s),(s=In.get(w))&&Kc(n,s);var oe=L=f.createElement("link");Be(oe),Xt(oe,"link",n),oe._p=new Promise(function(ve,Ae){oe.onload=ve,oe.onerror=Ae}),oe.addEventListener("load",function(){V.loading|=1}),oe.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Za(L,i,f)}L={type:"stylesheet",instance:L,count:1,state:V},g.set(w,L)}}}function p1(n,i){mr.X(n,i);var s=io;if(s&&n){var f=Pe(s).hoistableScripts,g=so(n),w=f.get(g);w||(w=s.querySelector(As(g)),w||(n=y({src:n,async:!0},i),(i=In.get(g))&&Yc(n,i),w=s.createElement("script"),Be(w),Xt(w,"link",n),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function m1(n,i){mr.M(n,i);var s=io;if(s&&n){var f=Pe(s).hoistableScripts,g=so(n),w=f.get(g);w||(w=s.querySelector(As(g)),w||(n=y({src:n,async:!0,type:"module"},i),(i=In.get(g))&&Yc(n,i),w=s.createElement("script"),Be(w),Xt(w,"link",n),s.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function lg(n,i,s,f){var g=(g=$.current)?Xa(g):null;if(!g)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=oo(s.href),s=Pe(g).hoistableStyles,f=s.get(i),f||(f={type:"style",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=oo(s.href);var w=Pe(g).hoistableStyles,L=w.get(n);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(n,L),(w=g.querySelector(Cs(n)))&&!w._p&&(L.instance=w,L.state.loading=5),In.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(n,s),w||g1(g,n,s,L.state))),i&&f===null)throw Error(o(528,""));return L}if(i&&f!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(s),s=Pe(g).hoistableScripts,f=s.get(i),f||(f={type:"script",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function oo(n){return'href="'+bn(n)+'"'}function Cs(n){return'link[rel="stylesheet"]['+n+"]"}function ug(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function g1(n,i,s,f){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=n.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),Xt(i,"link",s),Be(i),n.head.appendChild(i))}function so(n){return'[src="'+bn(n)+'"]'}function As(n){return"script[async]"+n}function cg(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var f=n.querySelector('style[data-href~="'+bn(s.href)+'"]');if(f)return i.instance=f,Be(f),f;var g=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Be(f),Xt(f,"style",g),Za(f,s.precedence,n),i.instance=f;case"stylesheet":g=oo(s.href);var w=n.querySelector(Cs(g));if(w)return i.state.loading|=4,i.instance=w,Be(w),w;f=ug(s),(g=In.get(g))&&Kc(f,g),w=(n.ownerDocument||n).createElement("link"),Be(w);var L=w;return L._p=new Promise(function(V,oe){L.onload=V,L.onerror=oe}),Xt(w,"link",f),i.state.loading|=4,Za(w,s.precedence,n),i.instance=w;case"script":return w=so(s.src),(g=n.querySelector(As(w)))?(i.instance=g,Be(g),g):(f=s,(g=In.get(w))&&(f=y({},s),Yc(f,g)),n=n.ownerDocument||n,g=n.createElement("script"),Be(g),Xt(g,"link",f),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,Za(f,s.precedence,n));return i.instance}function Za(n,i,s){for(var f=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,w=g,L=0;L<f.length;L++){var V=f[L];if(V.dataset.precedence===i)w=V;else if(w!==g)break}w?w.parentNode.insertBefore(n,w.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Kc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Yc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Qa=null;function fg(n,i,s){if(Qa===null){var f=new Map,g=Qa=new Map;g.set(s,f)}else g=Qa,f=g.get(s),f||(f=new Map,g.set(s,f));if(f.has(n))return f;for(f.set(n,null),s=s.getElementsByTagName(n),g=0;g<s.length;g++){var w=s[g];if(!(w[Zr]||w[qt]||n==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var L=w.getAttribute(i)||"";L=n+L;var V=f.get(L);V?V.push(w):f.set(L,[w])}}return f}function dg(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function y1(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Rs=null;function v1(){}function w1(n,i,s){if(Rs===null)throw Error(o(475));var f=Rs;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=oo(s.href),w=n.querySelector(Cs(g));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=ja.bind(f),n.then(f,f)),i.state.loading|=4,i.instance=w,Be(w);return}w=n.ownerDocument||n,s=ug(s),(g=In.get(g))&&Kc(s,g),w=w.createElement("link"),Be(w);var L=w;L._p=new Promise(function(V,oe){L.onload=V,L.onerror=oe}),Xt(w,"link",s),i.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=ja.bind(f),n.addEventListener("load",i),n.addEventListener("error",i))}}function x1(){if(Rs===null)throw Error(o(475));var n=Rs;return n.stylesheets&&n.count===0&&Jc(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Jc(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function ja(){if(this.count--,this.count===0){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var el=null;function Jc(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,el=new Map,i.forEach(T1,n),el=null,ja.call(n))}function T1(n,i){if(!(i.state.loading&4)){var s=el.get(n);if(s)var f=s.get(null);else{s=new Map,el.set(n,s);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var L=g[w];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(s.set(L.dataset.precedence,L),f=L)}f&&s.set(null,f)}g=i.instance,L=g.getAttribute("data-precedence"),w=s.get(L)||f,w===f&&s.set(null,g),s.set(L,g),this.count++,f=ja.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),w?w.parentNode.insertBefore(g,w.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Ns={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function S1(n,i,s,f,g,w,L,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function pg(n,i,s,f,g,w,L,V,oe,ve,Ae,Me){return n=new S1(n,i,s,L,V,oe,ve,Me),i=1,w===!0&&(i|=24),w=vn(3,null,null,i),n.current=w,w.stateNode=n,i=Ru(),i.refCount++,n.pooledCache=i,i.refCount++,w.memoizedState={element:f,isDehydrated:s,cache:i},Iu(w),n}function mg(n){return n?(n=Pi,n):Pi}function gg(n,i,s,f,g,w){g=mg(g),f.context===null?f.context=g:f.pendingContext=g,f=Dr(i),f.payload={element:s},w=w===void 0?null:w,w!==null&&(f.callback=w),s=Mr(n,f,i),s!==null&&(En(s,n,i),os(s,n,i))}function yg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Wc(n,i){yg(n,i),(n=n.alternate)&&yg(n,i)}function vg(n){if(n.tag===13){var i=Bi(n,67108864);i!==null&&En(i,n,67108864),Wc(n,67108864)}}var tl=!0;function E1(n,i,s,f){var g=le.T;le.T=null;var w=se.p;try{se.p=2,$c(n,i,s,f)}finally{se.p=w,le.T=g}}function _1(n,i,s,f){var g=le.T;le.T=null;var w=se.p;try{se.p=8,$c(n,i,s,f)}finally{se.p=w,le.T=g}}function $c(n,i,s,f){if(tl){var g=Xc(f);if(g===null)Bc(n,i,f,nl,s),xg(n,f);else if(C1(g,n,i,s,f))f.stopPropagation();else if(xg(n,f),i&4&&-1<b1.indexOf(n)){for(;g!==null;){var w=_r(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var L=an(w.pendingLanes);if(L!==0){var V=w;for(V.pendingLanes|=2,V.entangledLanes|=2;L;){var oe=1<<31-Xe(L);V.entanglements[1]|=oe,L&=~oe}Wn(w),(pt&6)===0&&(Fa=v()+500,Ss(0))}}break;case 13:V=Bi(w,2),V!==null&&En(V,w,2),za(),Wc(w,2)}if(w=Xc(f),w===null&&Bc(n,i,f,nl,s),w===g)break;g=w}g!==null&&f.stopPropagation()}else Bc(n,i,f,null,s)}}function Xc(n){return n=tu(n),Zc(n)}var nl=null;function Zc(n){if(nl=null,n=Er(n),n!==null){var i=c(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=d(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return nl=n,null}function wg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(T()){case b:return 2;case X:return 8;case ne:case Q:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Qc=!1,Hr=null,Kr=null,Yr=null,Ds=new Map,Ms=new Map,Jr=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xg(n,i){switch(n){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Ds.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(i.pointerId)}}function Is(n,i,s,f,g,w){return n===null||n.nativeEvent!==w?(n={blockedOn:i,domEventName:s,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},i!==null&&(i=_r(i),i!==null&&vg(i)),n):(n.eventSystemFlags|=f,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function C1(n,i,s,f,g){switch(i){case"focusin":return Hr=Is(Hr,n,i,s,f,g),!0;case"dragenter":return Kr=Is(Kr,n,i,s,f,g),!0;case"mouseover":return Yr=Is(Yr,n,i,s,f,g),!0;case"pointerover":var w=g.pointerId;return Ds.set(w,Is(Ds.get(w)||null,n,i,s,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Ms.set(w,Is(Ms.get(w)||null,n,i,s,f,g)),!0}return!1}function Tg(n){var i=Er(n.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){n.blockedOn=i,Fo(n.priority,function(){if(s.tag===13){var f=Sn();f=Po(f);var g=Bi(s,f);g!==null&&En(g,s,f),Wc(s,f)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Xc(n.nativeEvent);if(s===null){s=n.nativeEvent;var f=new s.constructor(s.type,s);eu=f,s.target.dispatchEvent(f),eu=null}else return i=_r(s),i!==null&&vg(i),n.blockedOn=s,!1;i.shift()}return!0}function Sg(n,i,s){rl(n)&&s.delete(i)}function A1(){Qc=!1,Hr!==null&&rl(Hr)&&(Hr=null),Kr!==null&&rl(Kr)&&(Kr=null),Yr!==null&&rl(Yr)&&(Yr=null),Ds.forEach(Sg),Ms.forEach(Sg)}function il(n,i){n.blockedOn===i&&(n.blockedOn=null,Qc||(Qc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A1)))}var ol=null;function Eg(n){ol!==n&&(ol=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ol===n&&(ol=null);for(var i=0;i<n.length;i+=3){var s=n[i],f=n[i+1],g=n[i+2];if(typeof f!="function"){if(Zc(f||s)===null)continue;break}var w=_r(s);w!==null&&(n.splice(i,3),i-=3,Zu(w,{pending:!0,data:g,method:s.method,action:f},f,g))}}))}function ks(n){function i(oe){return il(oe,n)}Hr!==null&&il(Hr,n),Kr!==null&&il(Kr,n),Yr!==null&&il(Yr,n),Ds.forEach(i),Ms.forEach(i);for(var s=0;s<Jr.length;s++){var f=Jr[s];f.blockedOn===n&&(f.blockedOn=null)}for(;0<Jr.length&&(s=Jr[0],s.blockedOn===null);)Tg(s),s.blockedOn===null&&Jr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(f=0;f<s.length;f+=3){var g=s[f],w=s[f+1],L=g[Zt]||null;if(typeof w=="function")L||Eg(s);else if(L){var V=null;if(w&&w.hasAttribute("formAction")){if(g=w,L=w[Zt]||null)V=L.formAction;else if(Zc(g)!==null)continue}else V=L.action;typeof V=="function"?s[f+1]=V:(s.splice(f,3),f-=3),Eg(s)}}}function jc(n){this._internalRoot=n}sl.prototype.render=jc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,f=Sn();gg(s,f,n,i,null,null)},sl.prototype.unmount=jc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;gg(n.current,2,null,n,null,null),za(),i[Sr]=null}};function sl(n){this._internalRoot=n}sl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Zs();n={blockedOn:null,target:n,priority:i};for(var s=0;s<Jr.length&&i!==0&&i<Jr[s].priority;s++);Jr.splice(s,0,n),s===0&&Tg(n)}};var _g=e.version;if(_g!=="19.1.1")throw Error(o(527,_g,"19.1.1"));se.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var R1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{ke=al.inject(R1),Le=al}catch{}}return Ls.createRoot=function(n,i){if(!a(n))throw Error(o(299));var s=!1,f="",g=Gp,w=zp,L=Vp,V=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(V=i.unstable_transitionCallbacks)),i=pg(n,1,!1,null,null,s,f,g,w,L,V,null),n[Sr]=i.current,Lc(n),new jc(i)},Ls.hydrateRoot=function(n,i,s){if(!a(n))throw Error(o(299));var f=!1,g="",w=Gp,L=zp,V=Vp,oe=null,ve=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(L=s.onCaughtError),s.onRecoverableError!==void 0&&(V=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(oe=s.unstable_transitionCallbacks),s.formState!==void 0&&(ve=s.formState)),i=pg(n,1,!0,i,s??null,f,g,w,L,V,oe,ve),i.context=mg(null),s=i.current,f=Sn(),f=Po(f),g=Dr(f),g.callback=null,Mr(s,g,f),s=f,i.current.lanes=s,gn(i,s),Wn(i),n[Sr]=i.current,Lc(n),new sl(i)},Ls.version="19.1.1",Ls}var Ug;function O1(){if(Ug)return nf.exports;Ug=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nf.exports=P1(),nf.exports}var F1=O1();const G1=bv(F1),af=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",z1=t=>{if(!t)return"";try{const e=new Date(t),o=Math.round((new Date().getTime()-e.getTime())/1e3);if(o<2)return"agora";if(o<60)return`${o}s atrás`;const a=Math.round(o/60);if(a<60)return`${a}m atrás`;const c=Math.round(a/60);if(c<24)return`${c}h atrás`;const d=Math.round(c/24);return d<=7?`${d}d atrás`:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}).format(e)}catch{return""}},Lg=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"})}),V1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Bg=({isCollapsed:t})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transition-transform duration-200 ${t?"-rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),q1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),H1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),K1=({width:t,title:e,documents:r,categories:o,activeDocumentId:a,onSelectDocument:c,onUpdateCategoryName:d,onUpdateDocumentTitle:h,onReorderDocuments:p,onReorderCategories:m,onFindReferences:y,totalWordCount:x,searchQuery:S,onSearchChange:E,searchResults:D,onSelectSearchResult:A})=>{const[U,C]=Ue.useState(null),[M,O]=Ue.useState(""),[H,q]=Ue.useState({}),[ce,ae]=Ue.useState(!1),[de,G]=Ue.useState(null),Te=ee=>{q($=>({...$,[ee]:!$[ee]}))},Re=ee=>{const $=r.find(R=>R.id===ee),N=$==null?void 0:$.content.some(R=>R.type==="heading");a===ee?N&&ae(R=>!R):(c(ee),ae(!1))},Z=(ee,$,N)=>{C({type:ee,id:$}),O(N)},pe=()=>{C(null),O("")},B=()=>{if(!U||!M.trim()){pe();return}U.type==="category"?d(U.id,M):U.type==="document"&&h(U.id,M),pe()},he=ee=>{ee.key==="Enter"?B():ee.key==="Escape"&&pe()},le=()=>{G(null)},se=(ee,$)=>{ee.dataTransfer.setData("application/json",JSON.stringify({type:"doc",id:$})),ee.dataTransfer.effectAllowed="move",setTimeout(()=>G({type:"doc",id:$}),0)},Ce=ee=>{ee.preventDefault(),(de==null?void 0:de.type)==="doc"&&ee.currentTarget.classList.add("bg-gray-700/50")},ue=ee=>{ee.currentTarget.classList.remove("bg-gray-700/50")},K=(ee,$)=>{ee.preventDefault(),ee.currentTarget.classList.remove("bg-gray-700/50");try{const N=JSON.parse(ee.dataTransfer.getData("application/json"));N.type==="doc"&&N.id&&N.id!==$&&p(N.id,$)}catch(N){console.error(N)}G(null)},Y=(ee,$)=>{ee.dataTransfer.setData("application/json",JSON.stringify({type:"category",name:$})),ee.dataTransfer.effectAllowed="move",setTimeout(()=>G({type:"category",id:$}),0)},P=ee=>{ee.preventDefault(),(de==null?void 0:de.type)==="category"&&ee.currentTarget.classList.add("bg-gray-700/50")},J=ee=>{ee.currentTarget.classList.remove("bg-gray-700/50")},j=(ee,$)=>{ee.preventDefault(),ee.stopPropagation(),ee.currentTarget.classList.remove("bg-gray-700/50");try{const N=JSON.parse(ee.dataTransfer.getData("application/json"));N.type==="category"&&N.name&&N.name!==$&&m(N.name,$)}catch(N){console.error(N)}G(null)};return k.jsxs("aside",{style:{width:`${t}px`},className:"bg-gray-800 text-white flex flex-col h-full border-r border-gray-700 flex-shrink-0 transition-all duration-300 overflow-hidden",children:[k.jsxs("div",{className:"p-4 border-b border-gray-700",children:[k.jsx("h2",{className:"text-xl font-semibold mb-3",children:e}),k.jsxs("div",{className:"relative text-gray-400 focus-within:text-gray-100",children:[k.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:k.jsx(q1,{})}),k.jsx("input",{type:"text",placeholder:"Pesquisar documentos...",value:S,onChange:ee=>E(ee.target.value),className:"w-full pl-10 pr-10 py-2 bg-gray-900 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),S&&k.jsx("button",{onClick:()=>E(""),className:"absolute inset-y-0 right-0 flex items-center pr-3","aria-label":"Clear search",children:k.jsx(H1,{})})]})]}),k.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:S?k.jsx("div",{children:D.length>0?k.jsx("ul",{className:"space-y-2",children:D.map(ee=>k.jsx("li",{children:k.jsxs("button",{onClick:()=>A(ee.docId,ee.viewMode),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[k.jsx("div",{className:"font-semibold text-indigo-400",children:ee.docTitle}),k.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:[ee.category," (",ee.viewMode.toUpperCase(),")"]}),k.jsx("div",{className:"space-y-1 text-sm text-gray-400 italic",children:ee.snippets.slice(0,3).map(($,N)=>k.jsx("div",{className:"truncate text-ellipsis",children:$},N))})]})},ee.docId))}):k.jsx("div",{className:"text-center text-gray-500 p-4",children:"Nenhum resultado encontrado."})}):o.map(ee=>{const $=r.filter(W=>W.category===ee);if($.length===0)return null;const N=(U==null?void 0:U.type)==="category"&&U.id===ee,R=!!H[ee],te=(de==null?void 0:de.type)==="category"&&de.id===ee;return k.jsxs("div",{className:`transition-opacity ${te?"opacity-30":""}`,children:[k.jsx("div",{className:"group flex items-center justify-between mb-2 rounded-md",draggable:!N,onDragStart:N?void 0:W=>Y(W,ee),onDragEnd:N?void 0:le,onDragOver:N?void 0:P,onDragLeave:N?void 0:J,onDrop:N?void 0:W=>j(W,ee),style:{cursor:N?"default":"grab"},children:N?k.jsx("input",{type:"text",value:M,onChange:W=>O(W.target.value),onBlur:B,onKeyDown:he,autoFocus:!0,className:"w-full bg-gray-900 text-sm font-bold text-indigo-300 uppercase tracking-wider p-1 rounded border border-indigo-500 outline-none"}):k.jsxs(k.Fragment,{children:[k.jsxs("button",{onClick:()=>Te(ee),className:"flex items-center flex-grow text-left text-sm font-bold text-indigo-400 uppercase tracking-wider p-1 -ml-1 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 group","aria-expanded":!R,"aria-controls":`category-section-${af(ee)}`,children:[k.jsx(Bg,{isCollapsed:R}),k.jsx("span",{className:"ml-1 group-hover:text-indigo-300 transition-colors",children:ee})]}),k.jsx("button",{onClick:()=>Z("category",ee,ee),className:"text-gray-500 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1 ml-2 flex-shrink-0","aria-label":`Edit category ${ee}`,children:k.jsx(Lg,{})})]})}),!R&&k.jsx("ul",{id:`category-section-${af(ee)}`,className:"space-y-1 pl-4 border-l border-gray-600 ml-1.5",children:$.map(W=>{const z=(U==null?void 0:U.type)==="document"&&U.id===W.id,F=a===W.id,ie=W.content.some(re=>re.type==="heading"),_=(de==null?void 0:de.type)==="doc"&&de.id===W.id;return k.jsxs("li",{draggable:!z,onDragStart:z?void 0:re=>se(re,W.id),onDragEnd:z?void 0:le,onDragOver:z?void 0:Ce,onDragLeave:z?void 0:ue,onDrop:z?void 0:re=>K(re,W.id),className:`rounded-md transition-opacity ${_?"opacity-30":""}`,children:[k.jsx("div",{className:`group flex items-center justify-between w-full pr-1 transition-colors duration-200 rounded-md ${F?"bg-indigo-600":"hover:bg-gray-700"}`,children:z?k.jsx("input",{type:"text",value:M,onChange:re=>O(re.target.value),onBlur:B,onKeyDown:he,autoFocus:!0,className:"w-full bg-gray-900 text-sm px-3 py-2 rounded-md border border-indigo-500 outline-none"}):k.jsxs(k.Fragment,{children:[k.jsxs("button",{onClick:()=>Re(W.id),className:`flex items-start flex-grow text-left px-3 py-2 text-sm w-full rounded-l-md ${F?"font-semibold":"text-gray-300 group-hover:text-white"}`,style:{cursor:"grab"},"aria-expanded":F&&ie?!ce:void 0,"aria-controls":F&&ie?`doc-headings-${W.id}`:void 0,children:[k.jsx("span",{className:"w-4 mr-1 flex-shrink-0 mt-1",children:F&&ie&&k.jsx(Bg,{isCollapsed:ce})}),k.jsxs("div",{className:"flex-grow",children:[k.jsx("span",{className:"block truncate",title:W.title,children:W.title}),F&&W.lastEdited&&k.jsx("div",{className:"text-xs font-normal text-indigo-200/80 -mt-0.5",children:z1(W.lastEdited)})]})]}),k.jsxs("div",{className:"flex items-center flex-shrink-0",children:[k.jsx("button",{onClick:()=>y(W.id),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Find references for ${W.title}`,title:`Encontrar referências para ${W.title}`,children:k.jsx(V1,{})}),k.jsx("button",{onClick:()=>Z("document",W.id,W.title),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Edit title for ${W.title}`,children:k.jsx(Lg,{})})]})]})}),F&&ie&&!ce&&k.jsx("ul",{id:`doc-headings-${W.id}`,className:"pl-4 mt-1 space-y-1 border-l border-gray-600 ml-3",children:W.content.filter(re=>re.type==="heading").map((re,I)=>{const v=af(re.text),T=b=>{switch(b){case 1:return"pl-3";case 2:return"pl-6";case 3:return"pl-9";default:return"pl-3"}};return k.jsx("li",{children:k.jsx("a",{href:`#${v}`,onClick:b=>{b.preventDefault();const X=document.getElementById(v);X&&X.scrollIntoView({behavior:"smooth"})},className:`block w-full text-left py-1 text-xs text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors ${T(re.level)}`,children:re.text})},`${W.id}-heading-${I}`)})})]},W.id)})})]},ee)})}),k.jsx("footer",{className:"p-4 border-t border-gray-700",children:k.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[k.jsx("div",{className:"font-semibold uppercase tracking-wider",children:"Tamanho Total"}),k.jsxs("div",{className:"text-lg font-bold text-white",children:[x.toLocaleString("pt-BR")," palavras"]}),k.jsxs("div",{className:"text-gray-500",children:["~",Math.round(x/.75).toLocaleString("pt-BR")," tokens estimados"]})]})})]})},Y1=()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a8.25 8.25 0 0 1-8.25-8.25V12a8.25 8.25 0 0 1 16.5 0v.75A8.25 8.25 0 0 1 12 21Z"})]}),Cv=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),J1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Av=()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 48 48",children:[k.jsx("path",{fill:"#4CAF50",d:"M32.4,18.3l-7.4-12.8L10.3,34.4l7.4,12.8L32.4,18.3z"}),k.jsx("path",{fill:"#FFC107",d:"M10.3,12.8L2.9,25.6l14.7,8.5l7.4-12.8L10.3,12.8z"}),k.jsx("path",{fill:"#2196F3",d:"M45.1,25.6L32.4,47.2l-7.4-12.8L40,12.8L45.1,25.6z"})]}),W1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),$1=()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4-2.245 4.5 4.5 0 118.4-2.475c0 1.039-.44 2.002-1.215 2.754a3 3 0 00-1.008 2.836z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 5.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z"})]}),X1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456l1.178.398-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),Z1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),Rv=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3v18M3 3h9M3 12h9m-9 9h9M15 3h6m-3 0v18"})}),Q1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),j1=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12M8.25 17.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),eS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),tS=()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})]}),nS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:k.jsx("path",{fillRule:"evenodd",d:"M9.191 2.992c.213.385.418.77.615 1.156a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038zM3 9.75A.75.75 0 013.75 9h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 9.75zm16.491-6.758a.75.75 0 011.107-.038 8.25 8.25 0 011.538 3.327c.079.316.153.636.223.959a.75.75 0 01-.58.871 8.25 8.25 0 00-3.612-.387l-.054.022a.75.75 0 11-.84-1.01c.197-.386.402-.77.615-1.156zM18 9.75a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm-9.841 7.242a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038c.213.385.418.77.615 1.156zm8.682 1.01a.75.75 0 00.84-1.01c-.197-.386-.402-.77-.615-1.156a.75.75 0 00-1.107-.038 8.25 8.25 0 00-1.538 3.327c-.079.316-.153.636-.223.959a.75.75 0 00.58.871 8.25 8.25 0 013.612-.387l.054.022z",clipRule:"evenodd"})}),rS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),iS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),oS=()=>k.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 p-8",children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"})}),k.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Welcome to your GDD"}),k.jsx("p",{className:"mt-2 max-w-md",children:'Select a document from the sidebar to view its content, or use the "Integrate New Idea" button to add new concepts with the help of AI.'})]}),lf=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",Bs=({onClick:t})=>k.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Editar texto",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),sS=({onClick:t})=>k.jsx("button",{onClick:t,className:"heading-level-button p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Alterar nível do título",children:k.jsx(Rv,{})}),ao=({onClick:t})=>k.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-red-600 hover:text-white transition-all",title:"Apagar bloco",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),Pg=({onClick:t})=>k.jsx("div",{className:"absolute inset-x-0 -top-4 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10",children:k.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md",title:"Adicionar bloco",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})}),aS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),lS=({document:t,allDocuments:e,onNavigate:r,onRefineRequest:o,onFindReferences:a,onUpdateBlock:c,onUpdateBlockContent:d,onSetContent:h,scrollToHeading:p,onDidScrollToHeading:m,onOpenImageGenerationModal:y,docSearchQuery:x,docSearchCurrentIndex:S,onDocSearchResultsChange:E})=>{const[D,A]=Ue.useState(null),[U,C]=Ue.useState(null),[M,O]=Ue.useState(null),[H,q]=Ue.useState(""),ce=Ue.useRef(null),ae=Ue.useRef(null),[de,G]=Ue.useState(null),[Te,Re]=Ue.useState(0),[Z,pe]=Ue.useState(null),[B,he]=Ue.useState([]),le=F=>F?F.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"";Ue.useEffect(()=>{if(!x.trim()||!t){he([]),E(0);return}const F=le(x);if(!F)return;const ie=[],_=(re,I)=>{if(!re)return;const v=le(re);let T=0;for(;(T=v.indexOf(F,T))!==-1;)ie.push({blockIndex:ie.length,itemIndex:I,start:T,end:T+x.length,ref:qs.createRef()}),T+=1};t.content.forEach((re,I)=>{const v=ie.length;re.type==="heading"||re.type==="paragraph"||re.type==="blockquote"?_(re.text):re.type==="list"&&Array.isArray(re.items)&&typeof re.items[0]=="string"?re.items.forEach((T,b)=>_(T,b)):re.type==="definition_list"&&Array.isArray(re.items)?re.items.forEach((T,b)=>{_(T.term,`dl-${b}-term`),_(T.description,`dl-${b}-desc`)}):re.type==="image"&&_(re.caption);for(let T=v;T<ie.length;T++)ie[T].blockIndex=I}),he(ie),E(ie.length)},[x,t,E]),Ue.useEffect(()=>{var F;S!==-1&&B[S]&&((F=B[S].ref.current)==null||F.scrollIntoView({behavior:"smooth",block:"center"}))},[S,B]),Ue.useEffect(()=>{if(p&&t){const F=window.document.getElementById(p);F&&(F.scrollIntoView({behavior:"smooth",block:"start"}),F.classList.add("highlight-scroll"),setTimeout(()=>{F.classList.remove("highlight-scroll")},2e3)),m()}},[p,t,m]),Ue.useEffect(()=>{const F=ie=>{D&&ie.target instanceof Element&&!ie.target.closest(".refine-popup")&&A(null),U&&ie.target instanceof Element&&!ie.target.closest(".heading-level-popup, .heading-level-button")&&C(null),de&&ie.target instanceof Element&&!ie.target.closest(".add-block-menu")&&G(null)};return window.document.addEventListener("mousedown",F),()=>{window.document.removeEventListener("mousedown",F)}},[D,U,de]);const se=()=>{var ie;if(!t||M)return;const F=window.getSelection();if(F&&!F.isCollapsed&&F.rangeCount>0){const _=F.getRangeAt(0);let re=_.startContainer.parentElement;if(!((ie=ce.current)!=null&&ie.contains(re))){A(null);return}const I=re==null?void 0:re.closest("[data-block-index]");if(!I){A(null);return}const v=I.getAttribute("data-block-index");if(!v)return;const T=parseInt(v,10),b=t.content[T];let X,ne="";if(b.type==="list"&&"items"in b&&Array.isArray(b.items)&&typeof b.items[0]=="string"){const De=re==null?void 0:re.closest("[data-item-index]");if(De){const be=De.getAttribute("data-item-index");be&&(X=parseInt(be,10),ne=b.items[X])}else{A(null);return}}else if(b.type==="heading"||b.type==="paragraph"||b.type==="blockquote")ne=b.text;else if(b.type==="image")ne=b.caption;else{A(null);return}if(!ne){A(null);return}const Q=_.getBoundingClientRect(),ge=ce.current.getBoundingClientRect();A({top:Q.top-ge.top-40,left:Q.left-ge.left+Q.width/2-16,docId:t.id,blockIndex:T,itemIndex:X,text:ne})}else D&&setTimeout(()=>A(null),100)},Ce=(F,ie,_)=>{A(null),O({blockIndex:F,itemIndex:_}),q(ie)},ue=()=>{O(null),q("")},K=()=>{!t||M===null||(c(t.id,M.blockIndex,H,M.itemIndex),ue())},Y=F=>{if(!t)return;const ie=t.content.filter((_,re)=>re!==F);h(t.id,ie)},P=(F,ie)=>{F.preventDefault();const _=F.currentTarget.getBoundingClientRect(),re=ce.current.getBoundingClientRect();G({index:ie,top:_.top-re.top-45,left:_.left-re.left+_.width/2})},J=(F,ie)=>{var v;if(!t)return;if(F==="image"){Re(ie),(v=ae.current)==null||v.click(),G(null);return}if(F==="generate-image-ai"){y(t.id,ie),G(null);return}let _=null,re,I;switch(F){case"heading":_={type:"heading",level:2,text:"Novo Título"},re=_.text;break;case"paragraph":_={type:"paragraph",text:"Novo parágrafo."},re=_.text;break;case"list":_={type:"list",style:"unordered",items:["Item 1","Item 2"]},re=_.items[0],I=0;break;case"blockquote":_={type:"blockquote",text:"Citação."},re=_.text;break}if(_){const T=[...t.content];T.splice(ie,0,_),h(t.id,T),re!==void 0&&setTimeout(()=>Ce(ie,re,I),50)}G(null)},j=F=>{var re;const ie=(re=F.target.files)==null?void 0:re[0];if(!ie||!t)return;const _=new FileReader;_.onload=I=>{var T;const v=(T=I.target)==null?void 0:T.result;if(v){const b={type:"image",id:`img-${Date.now()}`,src:v,caption:"Insira uma legenda para a imagem."},X=[...t.content];X.splice(Te,0,b),h(t.id,X),setTimeout(()=>Ce(Te,b.caption),50)}},_.readAsDataURL(ie),F.target&&(F.target.value="")},ee=(F,ie,_)=>{const re=F.currentTarget.getBoundingClientRect(),I=ce.current.getBoundingClientRect();C({top:re.bottom-I.top+4,left:re.left-I.left,blockIndex:ie,currentLevel:_})},{docTitleMap:$,headingMap:N}=Ue.useMemo(()=>{const F=new Map,ie=new Map;return e.forEach(_=>{F.set(_.title.toLowerCase(),_.id),_.content.forEach(re=>{re.type==="heading"&&re.text&&(ie.has(re.text.toLowerCase())||ie.set(re.text.toLowerCase(),{docId:_.id,slug:lf(re.text)}))})}),{docTitleMap:F,headingMap:ie}},[e]),R=(F,ie,_)=>{if(!F)return[];const re=[],I=/\[\[(.*?)\]\]/g;let v;for(;(v=I.exec(F))!==null;)re.push({start:v.index,end:v.index+v[0].length,type:"link",data:v[0]});B.filter(Q=>Q.blockIndex===ie&&Q.itemIndex===_).forEach(Q=>{const ge=B.findIndex(De=>De===Q);re.push({start:Q.start,end:Q.end,type:ge===S?"active-highlight":"highlight",data:F.substring(Q.start,Q.end),ref:Q.ref})});const b=re.filter((Q,ge,De)=>Q.type.includes("highlight")?!De.some(be=>be.type==="link"&&Q.start>=be.start&&Q.end<=be.end):!0);if(b.length===0)return[F];b.sort((Q,ge)=>Q.start-ge.start);const X=[];let ne=0;return b.forEach((Q,ge)=>{Q.start>ne&&X.push(F.substring(ne,Q.start));const De=Q.data;if(Q.type==="link"){const be=De.slice(2,-2);let ke=be,Le=be,ze=!1;if(be.includes("|")){const Xe=be.split("|");ke=Xe[0],Le=Xe.slice(1).join("|"),ze=!0}if(ke.startsWith("img:")){const Xe=ke.substring(4),Rt=t==null?void 0:t.content.find(Nt=>Nt.type==="image"&&Nt.id===Xe);Rt?X.push(k.jsx("span",{onMouseEnter:Nt=>{const _t=Nt.currentTarget.getBoundingClientRect();pe({src:Rt.src,top:_t.bottom+5,left:_t.left})},onMouseLeave:()=>pe(null),className:"text-green-400 font-semibold hover:underline bg-green-900/30 px-1 py-0.5 rounded-sm transition-colors cursor-pointer",children:ze?Le:`img:${Xe.slice(-4)}`},`${ge}-imglink`)):X.push(k.jsx("span",{className:"text-red-400 line-through px-1",title:`Imagem não encontrada: "${Xe}"`,children:ze?Le:Xe},`${ge}-imglink`))}else{let Xe=ke,Rt;ke.includes("#")&&([Xe,Rt]=ke.split("#",2));const Nt=$.get(Xe.toLowerCase());if(Nt){const _t=Rt?lf(Rt):void 0;X.push(k.jsx("button",{onClick:()=>r(Nt,_t),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:Le},`${ge}-link`))}else if(!Rt&&N.has(Xe.toLowerCase())){const _t=N.get(Xe.toLowerCase());X.push(k.jsx("button",{onClick:()=>r(_t.docId,_t.slug),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:Le},`${ge}-link`))}else X.push(k.jsx("span",{className:"text-red-400 line-through px-1",title:`Link não encontrado: "${ke}"`,children:Le},`${ge}-link`))}}else X.push(k.jsx("mark",{ref:Q.ref,className:Q.type==="active-highlight"?"search-highlight-active":"highlight",children:De},`${ge}-highlight`));ne=Q.end}),ne<F.length&&X.push(F.substring(ne)),X};if(!t)return k.jsx(oS,{});const te=()=>k.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[k.jsx("button",{onClick:ue,className:"px-3 py-1 text-sm rounded bg-gray-600 hover:bg-gray-500",children:"Cancelar"}),k.jsx("button",{onClick:K,className:"px-3 py-1 text-sm rounded bg-indigo-600 hover:bg-indigo-500",children:"Salvar"})]}),W=F=>{switch(F){case 1:return"text-2xl font-bold text-indigo-400";case 2:return"text-xl font-semibold text-gray-200";case 3:return"text-lg font-medium text-gray-300";default:return"text-2xl font-bold text-indigo-400"}},z=({state:F,onAddBlock:ie})=>{const _=Ue.useRef(null),re=[{type:"heading",title:"Título",icon:k.jsx(Rv,{})},{type:"paragraph",title:"Parágrafo",icon:k.jsx(Q1,{})},{type:"list",title:"Lista",icon:k.jsx(j1,{})},{type:"blockquote",title:"Citação",icon:k.jsx(nS,{})},{type:"image",title:"Imagem",icon:k.jsx(eS,{})},{type:"generate-image-ai",title:"Gerar Imagem com IA",icon:k.jsx(tS,{})}];return k.jsx("div",{ref:_,className:"add-block-menu absolute z-20 flex items-center space-x-1 bg-gray-900 border border-gray-700 p-1 rounded-lg shadow-lg",style:{top:`${F.top}px`,left:`${F.left}px`,transform:"translateX(-50%)"},children:re.map(I=>k.jsx("button",{title:I.title,onClick:()=>ie(I.type,F.index),className:"p-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors",children:I.icon},I.type))})};return k.jsxs("div",{className:"p-8 lg:p-12 prose prose-invert prose-lg max-w-4xl mx-auto relative",ref:ce,onMouseUp:se,children:[k.jsx("input",{type:"file",accept:"image/*",ref:ae,onChange:j,className:"hidden"}),Z&&k.jsx("div",{className:"fixed z-50 p-1 bg-gray-900 border border-gray-600 rounded-md shadow-lg",style:{top:Z.top,left:Z.left,pointerEvents:"none"},children:k.jsx("img",{src:Z.src,alt:"Preview",className:"max-w-xs max-h-48 rounded-sm"})}),D&&k.jsx("button",{className:"refine-popup absolute z-20 bg-yellow-400 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center shadow-lg hover:bg-yellow-300 transition-all scale-100 hover:scale-110",style:{top:`${D.top}px`,left:`${D.left}px`},onClick:()=>{o(D.docId,D.blockIndex,D.text,D.itemIndex),A(null)},title:"Aprimorar texto com IA",children:"✨"}),de&&k.jsx(z,{state:de,onAddBlock:J}),U&&k.jsx("div",{className:"heading-level-popup absolute z-30 bg-gray-700 rounded-md shadow-lg p-1 flex flex-col",style:{top:`${U.top}px`,left:`${U.left}px`},children:[1,2,3].map(F=>k.jsxs("button",{onClick:()=>{d(t.id,U.blockIndex,{level:F}),C(null)},className:`text-left text-sm px-3 py-1 rounded-sm transition-colors ${U.currentLevel===F?"bg-indigo-600 text-white":"hover:bg-gray-600 text-gray-200"}`,children:["Título ",F]},F))}),k.jsxs("div",{className:"mb-8 pb-4 border-b border-gray-700",children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("p",{className:"text-indigo-400 font-semibold",children:t.category}),k.jsxs("button",{onClick:()=>a(t.id),className:"flex items-center space-x-2 text-sm text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md px-2 py-1 transition-colors",title:"Encontrar menções a este documento",children:[k.jsx(aS,{}),k.jsx("span",{children:"Encontrar Referências"})]})]}),k.jsx("h1",{className:"text-4xl font-extrabold text-white !mb-0",children:t.title})]}),k.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[Array.isArray(t.content)&&t.content.map((F,ie)=>{if(!F)return null;const _=()=>{switch(F.type){case"heading":{const re=(M==null?void 0:M.blockIndex)===ie&&M.itemIndex===void 0,I=lf(F.text);return re?k.jsxs("div",{className:"mt-4 mb-2",children:[k.jsx("textarea",{value:H,onChange:v=>q(v.target.value),className:`w-full p-2 bg-gray-900 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 ${W(F.level)}`,rows:1,autoFocus:!0}),k.jsx(te,{})]}):k.jsxs("div",{className:"group relative",children:[!M&&k.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[k.jsx(sS,{onClick:v=>ee(v,ie,F.level)}),k.jsx(Bs,{onClick:()=>Ce(ie,F.text)}),k.jsx(ao,{onClick:()=>Y(ie)})]}),(()=>{const v={id:I,"data-block-index":ie,className:"scroll-mt-24"},T=R(F.text,ie);switch(F.level){case 1:return k.jsx("h2",{...v,className:`${v.className} text-indigo-400 border-b border-gray-700 pb-2 text-2xl font-bold`,children:T});case 2:return k.jsx("h3",{...v,className:`${v.className} text-xl font-semibold text-gray-200 mt-8 mb-2`,children:T});case 3:return k.jsx("h4",{...v,className:`${v.className} text-lg font-medium text-gray-300 mt-6 mb-1`,children:T});default:return k.jsx("h2",{...v,className:`${v.className} text-indigo-400 border-b border-gray-700 pb-2 text-2xl font-bold`,children:T})}})()]})}case"paragraph":return(M==null?void 0:M.blockIndex)===ie&&M.itemIndex===void 0?k.jsxs("div",{className:"my-4",children:[k.jsx("textarea",{value:H,onChange:I=>q(I.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 leading-relaxed",rows:Math.max(3,H.split(`
`).length),autoFocus:!0}),k.jsx(te,{})]}):k.jsxs("div",{className:"group relative",children:[!M&&k.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[k.jsx(Bs,{onClick:()=>Ce(ie,F.text)}),k.jsx(ao,{onClick:()=>Y(ie)})]}),k.jsx("p",{"data-block-index":ie,children:R(F.text,ie)})]});case"blockquote":return(M==null?void 0:M.blockIndex)===ie&&M.itemIndex===void 0?k.jsxs("div",{className:"my-4",children:[k.jsx("textarea",{value:H,onChange:I=>q(I.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 leading-relaxed",rows:Math.max(3,H.split(`
`).length),autoFocus:!0}),k.jsx(te,{})]}):k.jsxs("div",{className:"group relative",children:[!M&&k.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[k.jsx(Bs,{onClick:()=>Ce(ie,F.text)}),k.jsx(ao,{onClick:()=>Y(ie)})]}),k.jsx("blockquote",{"data-block-index":ie,className:"border-l-4 border-gray-500 pl-4 italic text-gray-400",children:R(F.text,ie)})]});case"list":{const re=F,I=Array.isArray(re.items)?re.items:[];if(I.length===0)return null;const v=re.style==="ordered"?"ol":"ul";return k.jsxs("div",{className:"group relative",children:[!M&&k.jsx("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:k.jsx(ao,{onClick:()=>Y(ie)})}),k.jsx(v,{"data-block-index":ie,className:"pl-8 space-y-2",children:I.map((T,b)=>{const X=(M==null?void 0:M.blockIndex)===ie&&M.itemIndex===b;return k.jsx("li",{"data-item-index":b,children:X?k.jsxs("div",{className:"my-2",children:[k.jsx("textarea",{value:H,onChange:ne=>q(ne.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500",rows:Math.max(1,H.split(`
`).length),autoFocus:!0}),k.jsx(te,{})]}):k.jsxs("div",{className:"group/item relative",children:[!M&&k.jsx("div",{className:"absolute top-0 -right-8 z-10 opacity-0 group-hover/item:opacity-100 transition-opacity",children:k.jsx(Bs,{onClick:()=>Ce(ie,T,b)})}),R(T,ie,b)]})},b)})})]})}case"definition_list":{const re=F,I=Array.isArray(re.items)?re.items:[];return I.length===0?null:k.jsxs("div",{className:"group relative my-4",children:[!M&&k.jsx("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:k.jsx(ao,{onClick:()=>Y(ie)})}),k.jsx("dl",{"data-block-index":ie,children:I.map((v,T)=>k.jsxs("div",{className:"mb-2",children:[k.jsx("dt",{className:"font-semibold text-gray-200",children:R(v.term,ie,`dl-${T}-term`)}),k.jsx("dd",{className:"ml-4 text-gray-400",children:R(v.description,ie,`dl-${T}-desc`)})]},T))})]})}case"image":return(M==null?void 0:M.blockIndex)===ie&&M.itemIndex===void 0?k.jsxs("figure",{id:F.id,"data-block-index":ie,className:"my-6 not-prose",children:[k.jsx("img",{src:F.src,alt:F.caption,className:"w-full rounded-md shadow-lg"}),k.jsx("textarea",{value:H,onChange:I=>q(I.target.value),className:"w-full mt-2 p-2 bg-gray-900 border border-gray-600 rounded-md text-sm text-center italic",autoFocus:!0}),k.jsx(te,{})]}):k.jsxs("figure",{id:F.id,"data-block-index":ie,className:"my-6 not-prose",children:[k.jsxs("div",{className:"group relative",children:[!M&&k.jsxs("div",{className:"absolute top-1 right-1 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[k.jsx(Bs,{onClick:()=>Ce(ie,F.caption)}),k.jsx(ao,{onClick:()=>Y(ie)})]}),k.jsx("img",{src:F.src,alt:F.caption,className:"w-full rounded-md shadow-lg"})]}),k.jsx("figcaption",{className:"text-center text-sm italic text-gray-400 mt-2",children:R(F.caption,ie)})]});default:return null}};return k.jsxs("div",{className:"group relative",children:[k.jsx(Pg,{onClick:re=>P(re,ie)}),_()]},ie)}),Array.isArray(t.content)&&k.jsx("div",{className:"group relative h-8",children:k.jsx(Pg,{onClick:F=>P(F,t.content.length)})})]})]})},uS=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[a,c]=Ue.useState(""),[d,h]=Ue.useState(!1),[p,m]=Ue.useState(65e3),[y,x]=Ue.useState(1e4);if(!t)return null;const S=A=>{A.preventDefault(),a.trim()&&(r(a,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=A=>{const U=parseInt(A.target.value,10);m(U),y>=U&&x(Math.max(0,U-512))},D=A=>{const U=parseInt(A.target.value,10);x(U)};return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:k.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:A=>A.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Integrar Nova Ideia ao ",o]}),k.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),k.jsxs("p",{className:"text-gray-400 mb-4",children:["Cole qualquer texto aqui - um novo documento, uma ideia, um parágrafo para adicionar, notas de reunião, etc. A IA irá analisá-lo e sugerir a melhor forma de integrá-lo ao ",o,"."]}),k.jsxs("form",{onSubmit:S,children:[k.jsx("textarea",{value:a,onChange:A=>c(A.target.value),placeholder:"Ex: Vamos adicionar um sistema de criação onde os jogadores podem combinar fragmentos elementais para criar novos feitiços...",className:"w-full h-64 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),k.jsxs("div",{className:"mt-4",children:[k.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configurações Avançadas"]}),d&&k.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[k.jsxs("div",{children:[k.jsxs("label",{htmlFor:"maxOutputTokens",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Saída: ",k.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),k.jsx("input",{id:"maxOutputTokens",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho máximo da resposta da IA. Valores mais altos permitem mudanças mais complexas."})]}),k.jsxs("div",{children:[k.jsxs("label",{htmlFor:"thinkingBudget",className:"block text-sm font-medium text-gray-300",children:["Orçamento de Raciocínio (Thinking Budget): ",k.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),k.jsx("input",{id:"thinkingBudget",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:D,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rápidas, mas de menor qualidade.'})]})]})]}),k.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[k.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),k.jsx("button",{type:"submit",disabled:!a.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Deixar a IA Integrar"})]})]})]})})},cS=["Corrigir ortografia e gramática","Tornar o texto mais formal","Simplificar a linguagem","Expandir esta ideia","Resumir este ponto"],fS=({isOpen:t,onClose:e,onSubmit:r,initialText:o,contextType:a})=>{const[c,d]=Ue.useState(""),[h,p]=Ue.useState(!1);if(Ue.useEffect(()=>{t&&(d(""),p(!1))},[t]),!t)return null;const m=y=>{y.preventDefault(),c.trim()&&r(c,h)};return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:k.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:y=>y.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsx("h2",{className:"text-2xl font-bold text-white flex items-center",children:"✨ Aprimorar Texto com IA"}),k.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Texto Original:"}),k.jsx("blockquote",{className:"bg-gray-900/50 border-l-4 border-gray-600 p-3 rounded-r-md text-gray-300 max-h-32 overflow-y-auto",children:o})]}),k.jsxs("form",{onSubmit:m,children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Sugestões:"}),k.jsx("div",{className:"flex flex-wrap gap-2",children:cS.map(y=>k.jsx("button",{type:"button",onClick:()=>d(y),className:"px-3 py-1 text-sm bg-gray-700 hover:bg-indigo-600 rounded-full transition-colors",children:y},y))})]}),k.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:"Ou escreva sua própria instrução aqui...",className:"w-full h-24 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),k.jsx("div",{className:"mt-4",children:k.jsxs("label",{className:"flex items-center text-gray-400 cursor-pointer",children:[k.jsx("input",{type:"checkbox",checked:h,onChange:y=>p(y.target.checked),className:"w-4 h-4 bg-gray-900 border-gray-600 rounded text-indigo-600 focus:ring-indigo-500"}),k.jsxs("span",{className:"ml-2 text-sm select-none",children:["Incluir contexto (enviar todo o ",a," para a IA)"]})]})}),k.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[k.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),k.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Aprimorar"})]})]})]})})},dS=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[a,c]=Ue.useState(""),[d,h]=Ue.useState(!1),[p,m]=Ue.useState(65e3),[y,x]=Ue.useState(1e4);if(!t)return null;const S=U=>{U.preventDefault(),a.trim()&&(r(a,{maxOutputTokens:p,thinkingBudget:y}),c(""))},E=U=>{const C=parseInt(U.target.value,10);m(C),y>=C&&x(Math.max(0,C-512))},D=U=>{const C=parseInt(U.target.value,10);x(C)},A=o==="GDD"?"Ex: Crie uma nova categoria 'Inimigos' e adicione documentos para 'Grunt' e 'Brute' com base na lore existente...":"Ex: Divida o Ato 1 em mais duas missões, focando na introdução da mecânica de furtividade antes do primeiro chefe.";return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:k.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:U=>U.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Atualização Global do ",o," com IA"]}),k.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),k.jsxs("p",{className:"text-gray-400 mb-4",children:["Forneça uma instrução de alto nível. A IA analisará todo o ",o," e aplicará as mudanças necessárias, como criar novos documentos, atualizar seções existentes e garantir a consistência dos links."]}),k.jsxs("form",{onSubmit:S,children:[k.jsx("textarea",{value:a,onChange:U=>c(U.target.value),placeholder:A,className:"w-full h-48 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition"}),k.jsxs("div",{className:"mt-4",children:[k.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-purple-400 hover:text-purple-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configurações Avançadas"]}),d&&k.jsxs("div",{className:"mt-2 space-y-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[k.jsxs("div",{children:[k.jsxs("label",{htmlFor:"maxOutputTokensGlobal",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Saída: ",k.jsx("span",{className:"font-bold text-white",children:p.toLocaleString("pt-BR")})]}),k.jsx("input",{id:"maxOutputTokensGlobal",type:"range",min:"2048",max:"65000",step:"512",value:p,onChange:E,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho máximo da resposta da IA. Valores mais altos permitem mudanças mais complexas."})]}),k.jsxs("div",{children:[k.jsxs("label",{htmlFor:"thinkingBudgetGlobal",className:"block text-sm font-medium text-gray-300",children:["Orçamento de Raciocínio (Thinking Budget): ",k.jsx("span",{className:"font-bold text-white",children:y.toLocaleString("pt-BR")})]}),k.jsx("input",{id:"thinkingBudgetGlobal",type:"range",min:"0",max:Math.max(0,p-512),step:"256",value:y,onChange:D,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Reserva tokens para a IA "pensar". Zero desativa o pensamento para respostas mais rápidas, mas de menor qualidade.'})]})]})]}),k.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[k.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),k.jsxs("button",{type:"submit",disabled:!a.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:["Atualizar ",o]})]})]})]})})},hS=({message:t,currentTokens:e,estimatedTokens:r})=>{const o=r&&e&&r>0?e/r*100:0,a=typeof e=="number"&&typeof r=="number"&&r>0;return k.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 text-white",children:[k.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),k.jsx("p",{className:"text-xl font-semibold mb-4",children:t}),a&&k.jsxs("div",{className:"w-80 text-center",children:[k.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:k.jsx("div",{className:"bg-indigo-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(o,100)}%`}})}),k.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[e.toLocaleString("pt-BR")," / ",r.toLocaleString("pt-BR")," tokens gerados (estimativa)"]})]})]})},pS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),mS=({isOpen:t,onClose:e,targetDocTitle:r,references:o,onNavigate:a})=>{if(!t)return null;const c=d=>{a(d),e()};return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:k.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all",onClick:d=>d.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-start mb-6",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx(pS,{}),k.jsxs("div",{children:[k.jsxs("h2",{className:"text-2xl font-bold text-white",children:['Referências a "',r,'"']}),k.jsxs("p",{className:"text-gray-400 text-sm",children:[o.length," menção(ões) encontrada(s)."]})]})]}),k.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),o.length>0?k.jsx("ul",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:o.map((d,h)=>k.jsx("li",{children:k.jsxs("button",{onClick:()=>c(d.docId),className:"w-full text-left bg-gray-900/50 p-4 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[k.jsx("div",{className:"font-semibold text-indigo-400 text-lg",children:d.docTitle}),k.jsx("div",{className:"text-xs text-gray-500 mb-2 uppercase tracking-wider",children:d.category}),k.jsxs("blockquote",{className:"text-gray-300 border-l-2 border-gray-600 pl-3 text-sm italic",children:["...",d.snippet,"..."]})]})},h))}):k.jsx("div",{className:"text-center py-10",children:k.jsx("p",{className:"text-gray-400",children:"Nenhuma referência encontrada para este documento."})})]})})},Og=()=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75a7.5 7.5 0 01-7.5-7.5"})]}),gS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),yS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v18m-4.5-13.5h9M5.25 6H18.75M8.25 4.5V3.75a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5V4.5m-6 13.5V18a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5v.75"})}),vS=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),wS=({isOpen:t,onToggle:e,messages:r,isLoading:o,onSendMessage:a,onClearChat:c})=>{const[d,h]=Ue.useState(""),p=Ue.useRef(null);Ue.useEffect(()=>{var x;(x=p.current)==null||x.scrollIntoView({behavior:"smooth"})},[r,o]);const m=()=>{d.trim()&&!o&&(a(d),h(""))},y=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),m())};return t?k.jsxs("div",{className:"fixed bottom-6 right-6 w-[400px] h-[600px] bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl flex flex-col z-50",children:[k.jsxs("header",{className:"flex items-center justify-between p-4 bg-gray-900/50 rounded-t-2xl border-b border-gray-700",children:[k.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[k.jsx(Og,{}),k.jsx("span",{className:"ml-2",children:"Consulta Avançada"})]}),k.jsxs("div",{className:"flex items-center space-x-2",children:[k.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",title:"Limpar chat",disabled:r.length===0,children:k.jsx(yS,{})}),k.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:k.jsx(gS,{})})]})]}),k.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[r.length===0&&k.jsx("div",{className:"text-center text-gray-400 text-sm h-full flex items-center justify-center",children:k.jsx("p",{children:'Faça uma pergunta sobre o GDD ou o Roteiro. Por exemplo: "Qual o loop de gameplay principal?"'})}),r.map((x,S)=>k.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:k.jsx("div",{className:`max-w-[80%] rounded-xl px-4 py-2 ${x.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-200"}`,children:k.jsx("p",{className:"text-sm whitespace-pre-wrap",children:x.text})})},S)),o&&k.jsx("div",{className:"flex justify-start",children:k.jsx("div",{className:"max-w-[80%] rounded-xl px-4 py-2 bg-gray-700 text-gray-200",children:k.jsxs("div",{className:"flex items-center space-x-2",children:[k.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),k.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),k.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"})]})})}),k.jsx("div",{ref:p})]}),k.jsx("div",{className:"p-4 border-t border-gray-700",children:k.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg pr-2",children:[k.jsx("input",{type:"text",value:d,onChange:x=>h(x.target.value),onKeyPress:y,placeholder:"Pergunte algo...",className:"w-full bg-transparent p-3 text-sm text-gray-200 focus:outline-none",disabled:o}),k.jsx("button",{onClick:m,disabled:!d.trim()||o,className:"p-2 rounded-md text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",children:k.jsx(vS,{})})]})})]}):k.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 bg-indigo-600 text-white rounded-full p-4 shadow-lg hover:bg-indigo-500 transition-transform hover:scale-110 z-50",title:"Consulta Avançada",children:k.jsx(Og,{})})},xS=({isOpen:t,onClose:e,insight:r})=>{const[o,a]=Ue.useState(!1);if(!t||!r)return null;const{summary:c,thinkingProcess:d,rawJson:h}=r;let p="";try{p=JSON.stringify(JSON.parse(h),null,2)}catch{p="Erro ao formatar JSON: "+h}return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:k.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[k.jsx("h2",{className:"text-2xl font-bold text-white",children:"Análise da Última Ação da IA"}),k.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),k.jsxs("div",{className:"overflow-y-auto pr-4 -mr-4 space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Resumo da IA"}),k.jsxs("p",{className:"bg-gray-900/50 p-3 rounded-md text-gray-300 italic",children:['"',c,'"']})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Processo de Raciocínio"}),k.jsx("ol",{className:"list-decimal list-inside bg-gray-900/50 p-4 rounded-md text-gray-300 space-y-2",children:d.map((m,y)=>k.jsx("li",{children:m},y))})]}),k.jsxs("div",{children:[k.jsxs("button",{onClick:()=>a(!o),className:"text-sm text-teal-400 hover:text-teal-300 focus:outline-none mb-2",children:[o?"Ocultar":"Mostrar"," Saída JSON Bruta"]}),o&&k.jsx("div",{className:"animate-fade-in bg-gray-900 p-4 rounded-md border border-gray-700 max-h-80 overflow-auto",children:k.jsx("pre",{className:"text-xs text-gray-400",children:k.jsx("code",{children:p})})})]})]})]})})},TS=({isOpen:t,onClose:e,onSubmit:r})=>{const[o,a]=Ue.useState("");if(!t)return null;const c=d=>{d.preventDefault(),r(o),a("")};return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:k.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:d=>d.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerar Imagem com IA"}),k.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),k.jsx("p",{className:"text-gray-400 mb-4",children:"Opcionalmente, descreva a cena que você quer gerar. A IA usará o contexto do documento (estilo visual, personagens) para criar um prompt detalhado e gerar uma imagem consistente com o GDD."}),k.jsxs("form",{onSubmit:c,children:[k.jsx("textarea",{value:o,onChange:d=>a(d.target.value),placeholder:"Ex: Kael em uma pose de combate, com seu amuleto brilhando intensamente...",className:"w-full h-40 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"}),k.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[k.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),k.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 transition-colors",children:"Gerar Imagem"})]})]})]})})},SS=({isOpen:t,onClose:e,onUploadLocal:r,onUploadFromUrl:o,isGoogleAuth:a,onGoogleAuthClick:c})=>{const[d,h]=Ue.useState("");if(!t)return null;const p=m=>{m.preventDefault(),d.trim()&&o(d)};return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:k.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:m=>m.stopPropagation(),children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar GDD & Roteiro"}),k.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Do seu computador"}),k.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Carregue um arquivo .json salvo anteriormente a partir desta aplicação."}),k.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md",children:[k.jsx(Cv,{}),k.jsx("span",{className:"ml-2",children:"Escolher Arquivo do Computador"})]})]}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:k.jsx("div",{className:"w-full border-t border-gray-600"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Ou"})})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"De um link do Google Drive"}),k.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Cole um link compartilhável de um arquivo .json. Arquivos públicos carregarão diretamente."}),k.jsxs("form",{onSubmit:p,className:"flex items-start space-x-2",children:[k.jsxs("div",{className:"flex-grow",children:[k.jsx("input",{type:"url",value:d,onChange:m=>h(m.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),!a&&k.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Para arquivos privados, você precisará"," ",k.jsx("button",{type:"button",onClick:c,className:"text-indigo-400 hover:underline font-semibold",children:"conectar sua conta do Google"}),"."]}),a&&k.jsxs("p",{className:"text-xs text-green-400 mt-1 flex items-center",children:[k.jsx(Av,{})," ",k.jsx("span",{className:"ml-1",children:"Conectado ao Google. Arquivos privados podem ser carregados."})]})]}),k.jsx("button",{type:"submit",disabled:!d.trim(),className:"px-4 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 transition-colors flex-shrink-0",children:"Carregar"})]})]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ES,_S;function bS(){return{geminiUrl:ES,vertexUrl:_S}}function CS(t,e,r,o){var a,c;if(!(t!=null&&t.baseUrl)){const d=bS();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:r:(c=d.geminiUrl)!==null&&c!==void 0?c:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xi{}function Ge(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(t,e,r){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(r))t[h]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(r))for(let m=0;m<p.length;m++){const y=p[m];u(y,e.slice(c+1),r[m])}else for(const m of p)u(m,e.slice(c+1),r)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];u(p[0],e.slice(c+1),r);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const o=e[e.length-1],a=t[o];if(a!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===a)return;if(typeof a=="object"&&typeof r=="object"&&a!==null&&r!==null)Object.assign(a,r);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=r}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const c=t[a];return Array.isArray(c)?c.map(d=>l(d,e.slice(r+1))):void 0}else return}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fg||(Fg={}));var Gg;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Gg||(Gg={}));var rt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(rt||(rt={}));var zg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(zg||(zg={}));var Vg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Vg||(Vg={}));var qg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(qg||(qg={}));var Hg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hg||(Hg={}));var Kg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Kg||(Kg={}));var Yg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Yg||(Yg={}));var Jg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Jg||(Jg={}));var Wg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Wg||(Wg={}));var $g;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($g||($g={}));var Xg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xg||(Xg={}));var Zg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Zg||(Zg={}));var Qg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qg||(Qg={}));var Nl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Nl||(Nl={}));var jg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jg||(jg={}));var rd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(rd||(rd={}));var ey;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ey||(ey={}));var ty;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ty||(ty={}));var ny;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ny||(ny={}));var ry;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ry||(ry={}));var iy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(iy||(iy={}));var oy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(oy||(oy={}));var sy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(sy||(sy={}));var ay;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ay||(ay={}));var ly;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ly||(ly={}));var uy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(uy||(uy={}));var cy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cy||(cy={}));var fy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fy||(fy={}));var dy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dy||(dy={}));var hy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hy||(hy={}));var py;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(py||(py={}));var my;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(my||(my={}));var gy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(gy||(gy={}));var yy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(yy||(yy={}));var vy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(vy||(vy={}));var wy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(wy||(wy={}));var xy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xy||(xy={}));var Ty;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ty||(Ty={}));var Sy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Sy||(Sy={}));var Ey;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ey||(Ey={}));var _y;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_y||(_y={}));var by;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(by||(by={}));var Cy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Cy||(Cy={}));var fo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(fo||(fo={}));class id{constructor(e){const r={};for(const o of e.headers.entries())r[o[0]]=o[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ps{get text(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const x=[];for(const S of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[E,D]of Object.entries(S))E!=="text"&&E!=="thought"&&(D!==null||D!==void 0)&&x.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const x of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,E]of Object.entries(x))S!=="inlineData"&&(E!==null||E!==void 0)&&y.push(S);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,r,o,a,c,d,h,p,m;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,r,o,a,c,d,h,p,m;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class Ay{}class Ry{}class AS{}class RS{}class NS{}class DS{}class Ny{}class Dy{}class My{}class MS{}class Iy{}class Dl{_fromAPIResponse({apiResponse:e,isVertexAI:r}){const o=new Dl;if(o.name=e.name,o.metadata=e.metadata,o.done=e.done,o.error=e.error,r){const a=e.response;if(a){const c=new Iy,d=a.videos;c.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?nd(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),c.raiMediaFilteredCount=a.raiMediaFilteredCount,c.raiMediaFilteredReasons=a.raiMediaFilteredReasons,o.response=c}}else{const a=e.response;if(a){const c=new Iy,d=a.generateVideoResponse,h=d==null?void 0:d.generatedSamples;c.generatedVideos=h==null?void 0:h.map(p=>{const m=p.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?nd(m==null?void 0:m.encodedVideo):void 0,mimeType:p.encoding}}}),c.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,c.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,o.response=c}}return o}}class ky{}class Uy{}class Ly{}class IS{}class kS{}class US{}class By{}class LS{get text(){var e,r,o;let a="",c=!1;const d=[];for(const h of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,a+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,r,o;let a="";const c=[];for(const d of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&p!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class BS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Nv(t,e){const r=dt(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function Dv(t){return Array.isArray(t)?t.map(e=>Ml(e)):[Ml(t)]}function Ml(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Mv(t){const e=Ml(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Iv(t){const e=Ml(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Py(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function kv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Py(e)):[Py(t)]}function od(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Oy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Fy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function nn(t){if(t==null)throw new Error("ContentUnion is required");return od(t)?t:{role:"user",parts:kv(t)}}function Uv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const o=nn(r);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const r=nn(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>nn(r)):[nn(e)]}function Un(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Oy(t)||Fy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nn(t)]}const e=[],r=[],o=od(t[0]);for(const a of t){const c=od(a);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(Oy(a)||Fy(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return o||e.push({role:"user",parts:kv(r)}),e}function PS(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(o=>o!=="null");if(r.length===1)e.type=Object.values(rt).includes(r[0].toUpperCase())?r[0].toUpperCase():rt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of r)e.anyOf.push({type:Object.values(rt).includes(o.toUpperCase())?o.toUpperCase():rt.TYPE_UNSPECIFIED})}}function ho(t){const e={},r=["items"],o=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&PS(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(rt).includes(h.toUpperCase())?h.toUpperCase():rt.TYPE_UNSPECIFIED}else if(r.includes(d))e[d]=ho(h);else if(o.includes(d)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(ho(m))}e[d]=p}else if(a.includes(d)){const p={};for(const[m,y]of Object.entries(h))p[m]=ho(y);e[d]=p}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Ed(t){return ho(t)}function _d(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function bd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ro(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ho(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ho(e.response));return t}function No(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function OS(t,e,r,o=1){const a=!e.startsWith(`${r}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:a?`${r}/${e}`:e}function vr(t,e){if(typeof e!="string")throw new Error("name must be a string");return OS(t,e,"cachedContents")}function Lv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ti(t){return nd(t)}function FS(t){return t!=null&&typeof t=="object"&&"name"in t}function GS(t){return t!=null&&typeof t=="object"&&"video"in t}function zS(t){return t!=null&&typeof t=="object"&&"uri"in t}function Bv(t){var e;let r;if(FS(t)&&(r=t.name),!(zS(t)&&(r=t.uri,r===void 0))&&!(GS(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Pv(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function Ov(t){for(const e of["models","tunedModels","publisherModels"])if(VS(t,e))return t[e];return[]}function VS(t,e){return t!==null&&typeof t=="object"&&e in t}function qS(t,e={}){const r=t,o={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(o.responseJsonSchema=r.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function HS(t,e={}){const r=[],o=new Set;for(const a of t){const c=a.name;if(o.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);o.add(c);const d=qS(a,e);d.functionDeclarations&&r.push(...d.functionDeclarations)}return{functionDeclarations:r}}function Fv(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function KS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Do(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function Gv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function JS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function WS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $S(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],YS(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],JS(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],WS(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function zv(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>$S(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function XS(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const A=l(t,["minProperties"]);A!=null&&u(e,["minProperties"],A);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const C=l(t,["nullable"]);C!=null&&u(e,["nullable"],C);const M=l(t,["pattern"]);M!=null&&u(e,["pattern"],M);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function ZS(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function QS(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function jS(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function eE(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],jS(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function tE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function nE(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],tE(r)),e}function rE(){return{}}function iE(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function oE(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>QS(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],eE(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],nE(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],rE());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],iE(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function sE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function aE(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function lE(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],aE(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function uE(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],sE(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],lE(o)),e}function cE(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Vv(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],cE(r)),e}function fE(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Vv(o)),e}function dE(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>fE(a))),u(e,["speakerVoiceConfigs"],o)}return e}function hE(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Vv(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],dE(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function pE(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function mE(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],zv(nn(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const A=l(e,["seed"]);A!=null&&u(o,["seed"],A);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const C=l(e,["responseSchema"]);C!=null&&u(o,["responseSchema"],XS(Ed(C)));const M=l(e,["responseJsonSchema"]);if(M!=null&&u(o,["responseJsonSchema"],M),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=l(e,["safetySettings"]);if(r!==void 0&&O!=null){let Re=O;Array.isArray(Re)&&(Re=Re.map(Z=>ZS(Z))),u(r,["safetySettings"],Re)}const H=l(e,["tools"]);if(r!==void 0&&H!=null){let Re=No(H);Array.isArray(Re)&&(Re=Re.map(Z=>oE(Ro(Z)))),u(r,["tools"],Re)}const q=l(e,["toolConfig"]);if(r!==void 0&&q!=null&&u(r,["toolConfig"],uE(q)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=l(e,["cachedContent"]);r!==void 0&&ce!=null&&u(r,["cachedContent"],vr(t,ce));const ae=l(e,["responseModalities"]);ae!=null&&u(o,["responseModalities"],ae);const de=l(e,["mediaResolution"]);de!=null&&u(o,["mediaResolution"],de);const G=l(e,["speechConfig"]);if(G!=null&&u(o,["speechConfig"],hE(_d(G))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=l(e,["thinkingConfig"]);return Te!=null&&u(o,["thinkingConfig"],pE(Te)),o}function gE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["request","model"],dt(t,o));const a=l(e,["contents"]);if(a!=null){let d=Un(a);Array.isArray(d)&&(d=d.map(h=>zv(h))),u(r,["request","contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["request","generationConfig"],mE(t,c,r)),r}function yE(t,e){const r={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(e,["fileName"]);o!=null&&u(r,["fileName"],o);const a=l(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>gE(t,d))),u(r,["requests","requests"],c)}return r}function vE(t,e){const r={},o=l(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Gy(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["src"]);a!=null&&u(r,["batch","inputConfig"],yE(t,Fv(t,a)));const c=l(e,["config"]);return c!=null&&u(r,["config"],vE(c,r)),r}function wE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Do(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function xE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Do(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function TE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function SE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],TE(r,e)),e}function EE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Do(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function _E(t){const e={},r=l(t,["format"]);r!=null&&u(e,["instancesFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const a=l(t,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function bE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["predictionsFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const a=l(t,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function CE(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],bE(KS(a))),r}function AE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],dt(t,o));const a=l(e,["src"]);a!=null&&u(r,["inputConfig"],_E(Fv(t,a)));const c=l(e,["config"]);return c!=null&&u(r,["config"],CE(c,r)),r}function RE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Do(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function NE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Do(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function DE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function ME(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],DE(r,e)),e}function IE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],Do(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function kE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function UE(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function LE(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function BE(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],kE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],UE(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],LE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function PE(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>BE(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function OE(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function FE(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function GE(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>FE(a))),u(e,["urlMetadata"],o)}return e}function zE(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],PE(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],OE(o));const a=l(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],GE(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function VE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>zE(m))),u(e,["candidates"],p)}const a=l(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function qv(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const a=l(t,["message"]);return a!=null&&u(e,["message"],a),e}function qE(t){const e={},r=l(t,["response"]);r!=null&&u(e,["response"],VE(r));const o=l(t,["error"]);return o!=null&&u(e,["error"],qv(o)),e}function HE(t){const e={},r=l(t,["responsesFile"]);r!=null&&u(e,["fileName"],r);const o=l(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>qE(c))),u(e,["inlinedResponses"],a)}return e}function _l(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["metadata","state"]);a!=null&&u(e,["state"],Gv(a));const c=l(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["metadata","endTime"]);d!=null&&u(e,["endTime"],d);const h=l(t,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const p=l(t,["metadata","model"]);p!=null&&u(e,["model"],p);const m=l(t,["metadata","output"]);return m!=null&&u(e,["dest"],HE(m)),e}function KE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>_l(d))),u(e,["batchJobs"],c)}return e}function YE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);return c!=null&&u(e,["error"],qv(c)),e}function Hv(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const a=l(t,["message"]);return a!=null&&u(e,["message"],a),e}function JE(t){const e={},r=l(t,["instancesFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const a=l(t,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function WE(t){const e={},r=l(t,["predictionsFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const a=l(t,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function sd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],Gv(a));const c=l(t,["error"]);c!=null&&u(e,["error"],Hv(c));const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["startTime"]);h!=null&&u(e,["startTime"],h);const p=l(t,["endTime"]);p!=null&&u(e,["endTime"],p);const m=l(t,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=l(t,["model"]);y!=null&&u(e,["model"],y);const x=l(t,["inputConfig"]);x!=null&&u(e,["src"],JE(x));const S=l(t,["outputConfig"]);return S!=null&&u(e,["dest"],WE(S)),e}function $E(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>sd(d))),u(e,["batchJobs"],c)}return e}function XE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);return c!=null&&u(e,["error"],Hv(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(wi||(wi={}));class Ks{constructor(e,r,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,o,a)}init(e,r,o){var a,c;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=r.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZE extends xi{constructor(e){super(),this.apiClient=e,this.create=async r=>{var o,a;if(this.apiClient.isVertexAI()){const d=Date.now().toString();if(Array.isArray(r.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(r.config=r.config||{},r.config.displayName===void 0&&(r.config.displayName="genaiBatchJob_${timestampStr}"),r.config.dest===void 0&&typeof r.src=="string")if(r.src.startsWith("gs://")&&r.src.endsWith(".jsonl"))r.config.dest=`${r.src.slice(0,-6)}/dest`;else if(r.src.startsWith("bq://"))r.config.dest=`${r.src}_dest_${d}`;else throw new Error("Unsupported source:"+r.src)}else if(Array.isArray(r.src)||typeof r.src!="string"&&r.src.inlinedRequests){let c="",d={};const h=Gy(this.apiClient,r);c=Ge("{model}:batchGenerateContent",h._url),d=h._query;const y=h.batch.inputConfig.requests,x=y.requests,S=[];for(const D of x){const A=D;if(A.systemInstruction){const U=A.systemInstruction;delete A.systemInstruction;const C=A.request;C.systemInstruction=U,A.request=C}S.push(A)}return y.requests=S,delete h.config,delete h._url,delete h._query,this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=r.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=r.config)===null||a===void 0?void 0:a.abortSignal}).then(D=>D.json()).then(D=>_l(D))}return await this.createInternal(r)},this.list=async(r={})=>new Ks(wi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(r),r)}async createInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=AE(this.apiClient,e);return h=Ge("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>sd(y))}else{const m=Gy(this.apiClient,e);return h=Ge("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>_l(y))}}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=RE(this.apiClient,e);return h=Ge("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>sd(y))}else{const m=wE(this.apiClient,e);return h=Ge("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>_l(y))}}async cancel(e){var r,o,a,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=NE(this.apiClient,e);d=Ge("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=xE(this.apiClient,e);d=Ge("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=ME(e);return h=Ge("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=$E(y),S=new By;return Object.assign(S,x),S})}else{const m=SE(e);return h=Ge("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=KE(y),S=new By;return Object.assign(S,x),S})}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=IE(this.apiClient,e);return h=Ge("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>XE(y))}else{const m=EE(this.apiClient,e);return h=Ge("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>YE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function jE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function e_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function t_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],QE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],jE(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],e_(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function zy(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>t_(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function n_(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function r_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function i_(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],r_(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function o_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function s_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],o_(r)),e}function a_(){return{}}function l_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function u_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>n_(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],i_(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],s_(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],a_());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],l_(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function c_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function f_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function d_(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],f_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function h_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],c_(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],d_(o)),e}function p_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let y=Un(d);Array.isArray(y)&&(y=y.map(x=>zy(x))),u(e,["contents"],y)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],zy(nn(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(x=>u_(x))),u(e,["tools"],y)}const m=l(t,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],h_(m)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function m_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],Nv(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],p_(a,r)),r}function g_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],vr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function y_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],vr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function v_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),r}function w_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],vr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],v_(a,r)),r}function x_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function T_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],x_(r,e)),e}function S_(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function E_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function __(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function b_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],S_(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],E_(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],__(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function Vy(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>b_(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function C_(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function A_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function R_(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],A_(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function N_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function D_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],N_(r)),e}function M_(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function I_(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function k_(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],I_(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function U_(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],k_(r)),e}function L_(){return{}}function B_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function P_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>C_(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],R_(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],D_(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],M_(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],U_(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],L_());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],B_(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function O_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function F_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function G_(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],F_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function z_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],O_(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],G_(o)),e}function V_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let x=Un(d);Array.isArray(x)&&(x=x.map(S=>Vy(S))),u(e,["contents"],x)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Vy(nn(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>P_(S))),u(e,["tools"],x)}const m=l(t,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],z_(m));const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),r}function q_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],Nv(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],V_(a,r)),r}function H_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],vr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function K_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],vr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function Y_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),r}function J_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],vr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],Y_(a,r)),r}function W_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function $_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],W_(r,e)),e}function bl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["model"]);a!=null&&u(e,["model"],a);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function X_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function Z_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>bl(d))),u(e,["cachedContents"],c)}return e}function Cl(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["model"]);a!=null&&u(e,["model"],a);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function Q_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function j_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Cl(d))),u(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eb extends xi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Ks(wi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(r),r)}async create(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=q_(this.apiClient,e);return h=Ge("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Cl(y))}else{const m=m_(this.apiClient,e);return h=Ge("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>bl(y))}}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=H_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Cl(y))}else{const m=g_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>bl(y))}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=K_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=Q_(y),S=new Uy;return Object.assign(S,x),S})}else{const m=y_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=X_(y),S=new Uy;return Object.assign(S,x),S})}}async update(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=J_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>Cl(y))}else{const m=w_(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>bl(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=$_(e);return h=Ge("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=j_(y),S=new Ly;return Object.assign(S,x),S})}else{const m=T_(e);return h=Ge("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=Z_(y),S=new Ly;return Object.assign(S,x),S})}}}function qy(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bt(t){return this instanceof bt?(this.v=t,this):new bt(t)}function po(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(E){return function(D){return Promise.resolve(D).then(E,x)}}function h(E,D){o[E]&&(a[E]=function(A){return new Promise(function(U,C){c.push([E,A,U,C])>1||p(E,A)})},D&&(a[E]=D(a[E])))}function p(E,D){try{m(o[E](D))}catch(A){S(c[0][3],A)}}function m(E){E.value instanceof bt?Promise.resolve(E.value.v).then(y,x):S(c[0][2],E)}function y(E){p("next",E)}function x(E){p("throw",E)}function S(E,D){E(D),c.shift(),c.length&&p(c[0][0],c[0][1])}}function Hs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof qy=="function"?qy(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(c){r[c]=t[c]&&function(d){return new Promise(function(h,p){d=t[c](d),a(h,p,d.done,d.value)})}}function a(c,d,h,p){Promise.resolve(p).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:Kv(r)}function Kv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function nb(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Hy(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let o=0;for(;o<r;)if(t[o].role==="user")e.push(t[o]),o++;else{const a=[];let c=!0;for(;o<r&&t[o].role==="model";)a.push(t[o]),c&&!Kv(t[o])&&(c=!1),o++;c?e.push(...a):e.pop()}return e}class rb{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new ib(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ib{constructor(e,r,o,a={},c=[]){this.apiClient=e,this.modelsModule=r,this.model=o,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),nb(c)}async sendMessage(e){var r;await this.sendPromise;const o=nn(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,d,h;const p=await a,m=(d=(c=p.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=p.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(x))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var r;await this.sendPromise;const o=nn(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,o)}getHistory(e=!1){const r=e?Hy(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var o,a;return po(this,arguments,function*(){var d,h,p,m;const y=[];try{for(var x=!0,S=Hs(e),E;E=yield bt(S.next()),d=E.done,!d;x=!0){m=E.value,x=!1;const D=m;if(tb(D)){const A=(a=(o=D.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;A!==void 0&&y.push(A)}yield yield bt(D)}}catch(D){h={error:D}}finally{try{!x&&!d&&(p=S.return)&&(yield bt(p.call(S)))}finally{if(h)throw h.error}}this.recordHistory(r,y)})}recordHistory(e,r,o){let a=[];r.length>0&&r.every(c=>c.role!==void 0)?a=r:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Hy(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Pl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ob(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function sb(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],ob(r,e)),e}function ab(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const a=l(t,["code"]);return a!=null&&u(e,["code"],a),e}function lb(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const x=l(t,["downloadUri"]);x!=null&&u(e,["downloadUri"],x);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const D=l(t,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const A=l(t,["error"]);return A!=null&&u(e,["error"],ab(A)),e}function ub(t){const e={},r=l(t,["file"]);r!=null&&u(e,["file"],lb(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function cb(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],Bv(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function fb(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],Bv(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function db(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const a=l(t,["code"]);return a!=null&&u(e,["code"],a),e}function ad(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const x=l(t,["downloadUri"]);x!=null&&u(e,["downloadUri"],x);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const D=l(t,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const A=l(t,["error"]);return A!=null&&u(e,["error"],db(A)),e}function hb(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>ad(d))),u(e,["files"],c)}return e}function pb(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function mb(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gb extends xi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Ks(wi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>ad(r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sb(e);return c=Ge("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=hb(p),y=new IS;return Object.assign(y,m),y})}}async createInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ub(e);return c=Ge("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=pb(p),y=new kS;return Object.assign(y,m),y})}}async get(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=cb(e);return c=Ge("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>ad(p))}}async delete(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fb(e);return c=Ge("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=mb(p),y=new US;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yb(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Yv(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],yb(r)),e}function vb(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Yv(o)),e}function wb(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>vb(a))),u(e,["speakerVoiceConfigs"],o)}return e}function xb(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Yv(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],wb(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function Tb(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function Sb(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Eb(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function _b(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],Tb(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],Sb(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],Eb(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function bb(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>_b(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function Cb(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function Ab(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function Rb(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],Ab(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Nb(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function Db(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],Nb(r)),e}function Mb(){return{}}function Ib(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function kb(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>Cb(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],Rb(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],Db(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],Mb());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],Ib(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function Ub(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ky(){return{}}function Lb(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function Bb(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],Lb(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function Pb(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function Ob(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],Pb(o)),e}function Fb(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function Gb(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],xb(bd(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],bb(nn(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=No(D);Array.isArray(q)&&(q=q.map(ce=>kb(Ro(ce)))),u(e,["setup","tools"],q)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],Ub(A));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],Ky());const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],Ky());const M=l(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&u(e,["setup","realtimeInputConfig"],Bb(M));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],Ob(O));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],Fb(H)),r}function zb(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],Gb(a,r)),r}function Vb(){return{}}function qb(){return{}}function Hb(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],Dv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],Iv(o));const a=l(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(t,["video"]);c!=null&&u(e,["video"],Mv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],Vb()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],qb()),e}function Jv(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function Kb(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Jv(a))),u(e,["weightedPrompts"],o)}return e}function Wv(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const a=l(t,["seed"]);a!=null&&u(e,["seed"],a);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const x=l(t,["muteDrums"]);x!=null&&u(e,["muteDrums"],x);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function Yb(t){const e={},r=l(t,["musicGenerationConfig"]);return r!=null&&u(e,["musicGenerationConfig"],Wv(r)),e}function $v(t){const e={},r=l(t,["model"]);return r!=null&&u(e,["model"],r),e}function Xv(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Jv(a))),u(e,["weightedPrompts"],o)}return e}function ld(t){const e={},r=l(t,["setup"]);r!=null&&u(e,["setup"],$v(r));const o=l(t,["clientContent"]);o!=null&&u(e,["clientContent"],Xv(o));const a=l(t,["musicGenerationConfig"]);a!=null&&u(e,["musicGenerationConfig"],Wv(a));const c=l(t,["playbackControl"]);return c!=null&&u(e,["playbackControl"],c),e}function Jb(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Wb(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],Jb(r)),e}function $b(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],Wb(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function Xb(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function Zb(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Qb(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function jb(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],Xb(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],Zb(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],Qb(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function eC(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>jb(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function tC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function nC(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function rC(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],nC(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function iC(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function oC(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],iC(r)),e}function sC(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function aC(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function lC(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],aC(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function uC(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],lC(r)),e}function cC(){return{}}function fC(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function dC(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>tC(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],rC(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],oC(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],sC(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],uC(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],cC());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],fC(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function hC(t){const e={},r=l(t,["handle"]);r!=null&&u(e,["handle"],r);const o=l(t,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function Yy(){return{}}function pC(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function mC(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],pC(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function gC(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function yC(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],gC(o)),e}function vC(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function wC(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],$b(bd(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],eC(nn(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=No(D);Array.isArray(q)&&(q=q.map(ce=>dC(Ro(ce)))),u(e,["setup","tools"],q)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],hC(A));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],Yy());const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],Yy());const M=l(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&u(e,["setup","realtimeInputConfig"],mC(M));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],yC(O));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],vC(H)),r}function xC(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],wC(a,r)),r}function TC(){return{}}function SC(){return{}}function EC(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],Dv(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],Iv(o));const a=l(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(t,["video"]);c!=null&&u(e,["video"],Mv(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],TC()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],SC()),e}function _C(){return{}}function bC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function CC(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function AC(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function RC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],bC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],CC(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],AC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function NC(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>RC(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function Jy(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function DC(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function MC(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>DC(a))),u(e,["urlMetadata"],o)}return e}function IC(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],NC(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=l(t,["interrupted"]);a!=null&&u(e,["interrupted"],a);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],Jy(h));const p=l(t,["outputTranscription"]);p!=null&&u(e,["outputTranscription"],Jy(p));const m=l(t,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],MC(m)),e}function kC(t){const e={},r=l(t,["id"]);r!=null&&u(e,["id"],r);const o=l(t,["args"]);o!=null&&u(e,["args"],o);const a=l(t,["name"]);return a!=null&&u(e,["name"],a),e}function UC(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>kC(a))),u(e,["functionCalls"],o)}return e}function LC(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function ll(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function BC(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=l(t,["responseTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>ll(E))),u(e,["promptTokensDetails"],S)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>ll(E))),u(e,["cacheTokensDetails"],S)}const y=l(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>ll(E))),u(e,["responseTokensDetails"],S)}const x=l(t,["toolUsePromptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>ll(E))),u(e,["toolUsePromptTokensDetails"],S)}return e}function PC(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function OC(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const a=l(t,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function FC(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],_C());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],IC(o));const a=l(t,["toolCall"]);a!=null&&u(e,["toolCall"],UC(a));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],LC(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],BC(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],PC(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],OC(p)),e}function GC(){return{}}function zC(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function VC(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>zC(a))),u(e,["weightedPrompts"],o)}return e}function qC(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const a=l(t,["seed"]);a!=null&&u(e,["seed"],a);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const x=l(t,["muteDrums"]);x!=null&&u(e,["muteDrums"],x);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function HC(t){const e={},r=l(t,["clientContent"]);r!=null&&u(e,["clientContent"],VC(r));const o=l(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],qC(o)),e}function KC(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);o!=null&&u(e,["mimeType"],o);const a=l(t,["sourceMetadata"]);return a!=null&&u(e,["sourceMetadata"],HC(a)),e}function YC(t){const e={},r=l(t,["audioChunks"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>KC(a))),u(e,["audioChunks"],o)}return e}function JC(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function WC(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],GC());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],YC(o));const a=l(t,["filteredPrompt"]);return a!=null&&u(e,["filteredPrompt"],JC(a)),e}function $C(t){const e={},r=l(t,["sessionId"]);return r!=null&&u(e,["sessionId"],r),e}function XC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function ZC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function QC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function jC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],XC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],ZC(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],QC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function eA(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>jC(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function Wy(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function tA(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],eA(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=l(t,["interrupted"]);a!=null&&u(e,["interrupted"],a);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],Wy(h));const p=l(t,["outputTranscription"]);return p!=null&&u(e,["outputTranscription"],Wy(p)),e}function nA(t){const e={},r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);return o!=null&&u(e,["name"],o),e}function rA(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>nA(a))),u(e,["functionCalls"],o)}return e}function iA(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function ul(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function oA(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=l(t,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(D=>ul(D))),u(e,["promptTokensDetails"],E)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(D=>ul(D))),u(e,["cacheTokensDetails"],E)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(D=>ul(D))),u(e,["responseTokensDetails"],E)}const x=l(t,["toolUsePromptTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(D=>ul(D))),u(e,["toolUsePromptTokensDetails"],E)}const S=l(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function sA(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function aA(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const a=l(t,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function lA(t){const e={},r=l(t,["setupComplete"]);r!=null&&u(e,["setupComplete"],$C(r));const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],tA(o));const a=l(t,["toolCall"]);a!=null&&u(e,["toolCall"],rA(a));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],iA(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],oA(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],sA(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],aA(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function cA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function fA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function dA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],uA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],cA(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],fA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function Ol(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>dA(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function hA(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const A=l(t,["minProperties"]);A!=null&&u(e,["minProperties"],A);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const C=l(t,["nullable"]);C!=null&&u(e,["nullable"],C);const M=l(t,["pattern"]);M!=null&&u(e,["pattern"],M);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function pA(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function mA(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function gA(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function yA(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],gA(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function vA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function wA(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],vA(r)),e}function xA(){return{}}function TA(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function SA(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>mA(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],yA(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],wA(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],xA());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],TA(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function EA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function _A(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function bA(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],_A(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function CA(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],EA(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],bA(o)),e}function AA(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Zv(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],AA(r)),e}function RA(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Zv(o)),e}function NA(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>RA(a))),u(e,["speakerVoiceConfigs"],o)}return e}function DA(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Zv(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],NA(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function MA(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function IA(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],Ol(nn(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const A=l(e,["seed"]);A!=null&&u(o,["seed"],A);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const C=l(e,["responseSchema"]);C!=null&&u(o,["responseSchema"],hA(Ed(C)));const M=l(e,["responseJsonSchema"]);if(M!=null&&u(o,["responseJsonSchema"],M),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=l(e,["safetySettings"]);if(r!==void 0&&O!=null){let Re=O;Array.isArray(Re)&&(Re=Re.map(Z=>pA(Z))),u(r,["safetySettings"],Re)}const H=l(e,["tools"]);if(r!==void 0&&H!=null){let Re=No(H);Array.isArray(Re)&&(Re=Re.map(Z=>SA(Ro(Z)))),u(r,["tools"],Re)}const q=l(e,["toolConfig"]);if(r!==void 0&&q!=null&&u(r,["toolConfig"],CA(q)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=l(e,["cachedContent"]);r!==void 0&&ce!=null&&u(r,["cachedContent"],vr(t,ce));const ae=l(e,["responseModalities"]);ae!=null&&u(o,["responseModalities"],ae);const de=l(e,["mediaResolution"]);de!=null&&u(o,["mediaResolution"],de);const G=l(e,["speechConfig"]);if(G!=null&&u(o,["speechConfig"],DA(_d(G))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=l(e,["thinkingConfig"]);return Te!=null&&u(o,["thinkingConfig"],MA(Te)),o}function $y(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["contents"]);if(a!=null){let d=Un(a);Array.isArray(d)&&(d=d.map(h=>Ol(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],IA(t,c,r)),r}function kA(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function UA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["contents"]);a!=null&&u(r,["requests[]","content"],Uv(t,a));const c=l(e,["config"]);c!=null&&u(r,["config"],kA(c,r));const d=l(e,["model"]);return d!==void 0&&u(r,["requests[]","model"],dt(t,d)),r}function LA(t,e){const r={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const p=l(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const y=l(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&u(e,["parameters","outputOptions","mimeType"],x);const S=l(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=l(t,["imageSize"]);if(e!==void 0&&E!=null&&u(e,["parameters","sampleImageSize"],E),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function BA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&u(r,["config"],LA(c,r)),r}function PA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function OA(t,e,r){const o={},a=l(e,["pageSize"]);r!==void 0&&a!=null&&u(r,["_query","pageSize"],a);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],Pv(t,h)),o}function FA(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],OA(t,o,r)),r}function GA(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function zA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],GA(a,r)),r}function VA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function qA(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function HA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["contents"]);if(a!=null){let d=Un(a);Array.isArray(d)&&(d=d.map(h=>Ol(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],qA(c)),r}function Qv(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],Ti(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function KA(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);if(e!==void 0&&a!=null&&u(e,["instances[0]","image"],Qv(a)),l(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return r}function YA(t,e){const r={},o=l(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=l(t,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=l(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);const h=l(t,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function JA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["image"]);if(c!=null&&u(r,["instances[0]","image"],Qv(c)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["source"]);d!=null&&u(r,["config"],KA(d,r));const h=l(e,["config"]);return h!=null&&u(r,["config"],YA(h,r)),r}function WA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function $A(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function XA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function ZA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],WA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],$A(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],XA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function Mo(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>ZA(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function QA(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const A=l(t,["minProperties"]);A!=null&&u(e,["minProperties"],A);const U=l(t,["minimum"]);U!=null&&u(e,["minimum"],U);const C=l(t,["nullable"]);C!=null&&u(e,["nullable"],C);const M=l(t,["pattern"]);M!=null&&u(e,["pattern"],M);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const ae=l(t,["type"]);return ae!=null&&u(e,["type"],ae),e}function jA(t){const e={},r=l(t,["featureSelectionPreference"]);return r!=null&&u(e,["featureSelectionPreference"],r),e}function eR(t){const e={},r=l(t,["method"]);r!=null&&u(e,["method"],r);const o=l(t,["category"]);o!=null&&u(e,["category"],o);const a=l(t,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function tR(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function nR(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function rR(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],nR(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function iR(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function oR(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],iR(r)),e}function sR(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function aR(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function lR(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],aR(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function uR(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],lR(r)),e}function cR(){return{}}function fR(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function jv(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>tR(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],rR(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],oR(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],sR(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],uR(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],cR());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],fR(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function dR(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function hR(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function pR(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],hR(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function mR(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],dR(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],pR(o)),e}function gR(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function yR(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],gR(r)),e}function vR(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],yR(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function wR(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function xR(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],Mo(nn(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const A=l(e,["seed"]);A!=null&&u(o,["seed"],A);const U=l(e,["responseMimeType"]);U!=null&&u(o,["responseMimeType"],U);const C=l(e,["responseSchema"]);C!=null&&u(o,["responseSchema"],QA(Ed(C)));const M=l(e,["responseJsonSchema"]);M!=null&&u(o,["responseJsonSchema"],M);const O=l(e,["routingConfig"]);O!=null&&u(o,["routingConfig"],O);const H=l(e,["modelSelectionConfig"]);H!=null&&u(o,["modelConfig"],jA(H));const q=l(e,["safetySettings"]);if(r!==void 0&&q!=null){let he=q;Array.isArray(he)&&(he=he.map(le=>eR(le))),u(r,["safetySettings"],he)}const ce=l(e,["tools"]);if(r!==void 0&&ce!=null){let he=No(ce);Array.isArray(he)&&(he=he.map(le=>jv(Ro(le)))),u(r,["tools"],he)}const ae=l(e,["toolConfig"]);r!==void 0&&ae!=null&&u(r,["toolConfig"],mR(ae));const de=l(e,["labels"]);r!==void 0&&de!=null&&u(r,["labels"],de);const G=l(e,["cachedContent"]);r!==void 0&&G!=null&&u(r,["cachedContent"],vr(t,G));const Te=l(e,["responseModalities"]);Te!=null&&u(o,["responseModalities"],Te);const Re=l(e,["mediaResolution"]);Re!=null&&u(o,["mediaResolution"],Re);const Z=l(e,["speechConfig"]);Z!=null&&u(o,["speechConfig"],vR(_d(Z)));const pe=l(e,["audioTimestamp"]);pe!=null&&u(o,["audioTimestamp"],pe);const B=l(e,["thinkingConfig"]);return B!=null&&u(o,["thinkingConfig"],wR(B)),o}function Xy(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["contents"]);if(a!=null){let d=Un(a);Array.isArray(d)&&(d=d.map(h=>Mo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],xR(t,c,r)),r}function TR(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const d=l(t,["mimeType"]);e!==void 0&&d!=null&&u(e,["instances[]","mimeType"],d);const h=l(t,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),r}function SR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["contents"]);a!=null&&u(r,["instances[]","content"],Uv(t,a));const c=l(e,["config"]);return c!=null&&u(r,["config"],TR(c,r)),r}function ER(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&u(e,["parameters","includeSafetyAttributes"],x);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const D=l(t,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const A=l(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&u(e,["parameters","outputOptions","compressionQuality"],A);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&u(e,["parameters","addWatermark"],U);const C=l(t,["imageSize"]);e!==void 0&&C!=null&&u(e,["parameters","sampleImageSize"],C);const M=l(t,["enhancePrompt"]);return e!==void 0&&M!=null&&u(e,["parameters","enhancePrompt"],M),r}function _R(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&u(r,["config"],ER(c,r)),r}function jn(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ti(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function bR(t){const e={},r=l(t,["maskMode"]);r!=null&&u(e,["maskMode"],r);const o=l(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const a=l(t,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function CR(t){const e={},r=l(t,["controlType"]);r!=null&&u(e,["controlType"],r);const o=l(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function AR(t){const e={},r=l(t,["styleDescription"]);return r!=null&&u(e,["styleDescription"],r),e}function RR(t){const e={},r=l(t,["subjectType"]);r!=null&&u(e,["subjectType"],r);const o=l(t,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function NR(t){const e={},r=l(t,["referenceImage"]);r!=null&&u(e,["referenceImage"],jn(r));const o=l(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const a=l(t,["referenceType"]);a!=null&&u(e,["referenceType"],a);const c=l(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],bR(c));const d=l(t,["controlImageConfig"]);d!=null&&u(e,["controlImageConfig"],CR(d));const h=l(t,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],AR(h));const p=l(t,["subjectImageConfig"]);return p!=null&&u(e,["subjectImageConfig"],RR(p)),e}function DR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&u(e,["parameters","includeSafetyAttributes"],x);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const D=l(t,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const A=l(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&u(e,["parameters","outputOptions","compressionQuality"],A);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&u(e,["parameters","addWatermark"],U);const C=l(t,["editMode"]);e!==void 0&&C!=null&&u(e,["parameters","editMode"],C);const M=l(t,["baseSteps"]);return e!==void 0&&M!=null&&u(e,["parameters","editConfig","baseSteps"],M),r}function MR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>NR(p))),u(r,["instances[0]","referenceImages"],h)}const d=l(e,["config"]);return d!=null&&u(r,["config"],DR(d,r)),r}function IR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["includeRaiReason"]);e!==void 0&&a!=null&&u(e,["parameters","includeRaiReason"],a);const c=l(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);const d=l(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const h=l(t,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=l(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=l(t,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);const y=l(t,["mode"]);return e!==void 0&&y!=null&&u(e,["parameters","mode"],y),r}function kR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["image"]);a!=null&&u(r,["instances[0]","image"],jn(a));const c=l(e,["upscaleFactor"]);c!=null&&u(r,["parameters","upscaleConfig","upscaleFactor"],c);const d=l(e,["config"]);return d!=null&&u(r,["config"],IR(d,r)),r}function UR(t){const e={},r=l(t,["productImage"]);return r!=null&&u(e,["image"],jn(r)),e}function LR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["personImage"]);e!==void 0&&a!=null&&u(e,["instances[0]","personImage","image"],jn(a));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>UR(h))),u(e,["instances[0]","productImages"],d)}return r}function BR(t,e){const r={},o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["baseSteps"]);e!==void 0&&a!=null&&u(e,["parameters","editConfig","baseSteps"],a);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=l(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const m=l(t,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const x=l(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&u(e,["parameters","outputOptions","compressionQuality"],x);const S=l(t,["enhancePrompt"]);return e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S),r}function PR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["source"]);a!=null&&u(r,["config"],LR(a,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],BR(c,r)),r}function OR(t){const e={},r=l(t,["image"]);return r!=null&&u(e,["image"],jn(r)),e}function FR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],jn(a));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],OR(c)),r}function GR(t,e){const r={},o=l(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const a=l(t,["maxPredictions"]);e!==void 0&&a!=null&&u(e,["parameters","maxPredictions"],a);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const d=l(t,["maskDilation"]);e!==void 0&&d!=null&&u(e,["parameters","maskDilation"],d);const h=l(t,["binaryColorThreshold"]);return e!==void 0&&h!=null&&u(e,["parameters","binaryColorThreshold"],h),r}function zR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["source"]);a!=null&&u(r,["config"],FR(a,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],GR(c,r)),r}function VR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function qR(t,e,r){const o={},a=l(e,["pageSize"]);r!==void 0&&a!=null&&u(r,["_query","pageSize"],a);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],Pv(t,h)),o}function HR(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],qR(t,o,r)),r}function KR(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function YR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],KR(a,r)),r}function JR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function WR(t,e){const r={},o=l(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Mo(nn(o)));const a=l(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>jv(h))),u(e,["tools"],d)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],c),r}function $R(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["contents"]);if(a!=null){let d=Un(a);Array.isArray(d)&&(d=d.map(h=>Mo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],WR(c,r)),r}function XR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["contents"]);if(a!=null){let d=Un(a);Array.isArray(d)&&(d=d.map(h=>Mo(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],c),r}function ew(t){const e={},r=l(t,["uri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ti(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function ZR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],jn(a));const c=l(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],ew(c)),r}function QR(t){const e={},r=l(t,["image"]);r!=null&&u(e,["image"],jn(r));const o=l(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function jR(t,e){const r={},o=l(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=l(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const d=l(t,["durationSeconds"]);e!==void 0&&d!=null&&u(e,["parameters","durationSeconds"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const p=l(t,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const m=l(t,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["pubsubTopic"]);e!==void 0&&x!=null&&u(e,["parameters","pubsubTopic"],x);const S=l(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const E=l(t,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const D=l(t,["generateAudio"]);e!==void 0&&D!=null&&u(e,["parameters","generateAudio"],D);const A=l(t,["lastFrame"]);e!==void 0&&A!=null&&u(e,["instances[0]","lastFrame"],jn(A));const U=l(t,["referenceImages"]);if(e!==void 0&&U!=null){let M=U;Array.isArray(M)&&(M=M.map(O=>QR(O))),u(e,["instances[0]","referenceImages"],M)}const C=l(t,["compressionQuality"]);return e!==void 0&&C!=null&&u(e,["parameters","compressionQuality"],C),r}function eN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],dt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(r,["instances[0]","image"],jn(c));const d=l(e,["video"]);d!=null&&u(r,["instances[0]","video"],ew(d));const h=l(e,["source"]);h!=null&&u(r,["config"],ZR(h,r));const p=l(e,["config"]);return p!=null&&u(r,["config"],jR(p,r)),r}function tN(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function nN(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function rN(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function iN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],tN(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],nN(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],rN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function oN(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>iN(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function sN(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function aN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function lN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>aN(a))),u(e,["urlMetadata"],o)}return e}function uN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],oN(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],sN(o));const a=l(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],lN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function Zy(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>uN(m))),u(e,["candidates"],p)}const a=l(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function cN(t){const e={},r=l(t,["values"]);return r!=null&&u(e,["values"],r),e}function fN(){return{}}function dN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>cN(d))),u(e,["embeddings"],c)}return l(t,["metadata"])!=null&&u(e,["metadata"],fN()),e}function hN(t){const e={},r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],Ti(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function tw(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=l(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function pN(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],hN(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=l(t,["_self"]);return a!=null&&u(e,["safetyAttributes"],tw(a)),e}function mN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>pN(d))),u(e,["generatedImages"],c)}const a=l(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],tw(a)),e}function gN(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const a=l(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function ud(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["version"]);c!=null&&u(e,["version"],c);const d=l(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],gN(d));const h=l(t,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const p=l(t,["outputTokenLimit"]);p!=null&&u(e,["outputTokenLimit"],p);const m=l(t,["supportedGenerationMethods"]);return m!=null&&u(e,["supportedActions"],m),e}function yN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["_self"]);if(a!=null){let c=Ov(a);Array.isArray(c)&&(c=c.map(d=>ud(d))),u(e,["models"],c)}return e}function vN(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function wN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const a=l(t,["cachedContentTokenCount"]);return a!=null&&u(e,["cachedContentTokenCount"],a),e}function xN(t){const e={},r=l(t,["video","uri"]);r!=null&&u(e,["uri"],r);const o=l(t,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Ti(o));const a=l(t,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function TN(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],xN(r)),e}function SN(t){const e={},r=l(t,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>TN(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function EN(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response","generateVideoResponse"]);return d!=null&&u(e,["response"],SN(d)),e}function _N(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function bN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function CN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function AN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],_N(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],bN(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],CN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function RN(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>AN(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function NN(t){const e={},r=l(t,["citations"]);return r!=null&&u(e,["citations"],r),e}function DN(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function MN(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>DN(a))),u(e,["urlMetadata"],o)}return e}function IN(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],RN(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],NN(o));const a=l(t,["finishMessage"]);a!=null&&u(e,["finishMessage"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],MN(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function Qy(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>IN(y))),u(e,["candidates"],m)}const a=l(t,["createTime"]);a!=null&&u(e,["createTime"],a);const c=l(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=l(t,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const h=l(t,["responseId"]);h!=null&&u(e,["responseId"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function kN(t){const e={},r=l(t,["truncated"]);r!=null&&u(e,["truncated"],r);const o=l(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function UN(t){const e={},r=l(t,["values"]);r!=null&&u(e,["values"],r);const o=l(t,["statistics"]);return o!=null&&u(e,["statistics"],kN(o)),e}function LN(t){const e={},r=l(t,["billableCharacterCount"]);return r!=null&&u(e,["billableCharacterCount"],r),e}function BN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions[]","embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>UN(d))),u(e,["embeddings"],c)}const a=l(t,["metadata"]);return a!=null&&u(e,["metadata"],LN(a)),e}function nw(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Ti(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function rw(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=l(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function Fl(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],nw(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=l(t,["_self"]);a!=null&&u(e,["safetyAttributes"],rw(a));const c=l(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function PN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Fl(d))),u(e,["generatedImages"],c)}const a=l(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],rw(a)),e}function ON(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Fl(c))),u(e,["generatedImages"],a)}return e}function FN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Fl(c))),u(e,["generatedImages"],a)}return e}function GN(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Fl(a))),u(e,["generatedImages"],o)}return e}function zN(t){const e={},r=l(t,["label"]);r!=null&&u(e,["label"],r);const o=l(t,["score"]);return o!=null&&u(e,["score"],o),e}function VN(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["mask"],nw(r));const o=l(t,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>zN(c))),u(e,["labels"],a)}return e}function qN(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>VN(a))),u(e,["generatedMasks"],o)}return e}function HN(t){const e={},r=l(t,["endpoint"]);r!=null&&u(e,["name"],r);const o=l(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function KN(t){const e={},r=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const a=l(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function YN(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const a=l(t,["step"]);return a!=null&&u(e,["step"],a),e}function cd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["versionId"]);c!=null&&u(e,["version"],c);const d=l(t,["deployedModels"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>HN(S))),u(e,["endpoints"],x)}const h=l(t,["labels"]);h!=null&&u(e,["labels"],h);const p=l(t,["_self"]);p!=null&&u(e,["tunedModelInfo"],KN(p));const m=l(t,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const y=l(t,["checkpoints"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(S=>YN(S))),u(e,["checkpoints"],x)}return e}function JN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["_self"]);if(a!=null){let c=Ov(a);Array.isArray(c)&&(c=c.map(d=>cd(d))),u(e,["models"],c)}return e}function WN(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function $N(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function XN(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["tokensInfo"]);return o!=null&&u(e,["tokensInfo"],o),e}function ZN(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["uri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Ti(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function QN(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],ZN(r)),e}function jN(t){const e={},r=l(t,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>QN(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function eD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response"]);return d!=null&&u(e,["response"],jN(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tD="Content-Type",nD="X-Server-Timeout",rD="User-Agent",fd="x-goog-api-client",iD="1.17.0",oD=`google-genai-sdk/${iD}`,sD="v1beta1",aD="v1beta",jy=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class lD{constructor(e){var r,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:sD,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:aD,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,o){const a=[this.getRequestUrlInternal(r)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,r,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))a.searchParams.append(d,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,r){const o=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(r))typeof c=="object"?o[a]=Object.assign(Object.assign({},o[a]),c):c!==void 0&&(o[a]=c);return o}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,r,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,o){if(r&&r.timeout||o){const a=new AbortController,c=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const d=setTimeout(()=>a.abort(),r.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=c}return r&&r.extraBody!==null&&uD(e,r.extraBody),e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async a=>(await e0(a),new id(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async a=>(await e0(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var r;return po(this,arguments,function*(){const a=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:p}=yield bt(a.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(p,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const S=JSON.parse(JSON.stringify(x.error)),E=S.status,D=S.code,A=`got status: ${E}. ${JSON.stringify(x)}`;if(D>=400&&D<600)throw new Pl({message:A,status:D})}}catch(x){if(x.name==="ApiError")throw x}d+=m;let y=d.match(jy);for(;y;){const x=y[1];try{const S=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield bt(new id(S)),d=d.slice(y[0].length),y=d.match(jy)}catch(S){throw new Error(`exception parsing stream chunk ${x}. ${S}`)}}}}finally{a.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},r=oD+" "+this.clientOptions.userAgentExtra;return e[rD]=r,e[fd]=r,e[tD]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))r.append(o,a);e.timeout&&e.timeout>0&&r.append(nD,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var o;const a={};r!=null&&(a.mimeType=r.mimeType,a.name=r.name,a.displayName=r.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);a.sizeBytes=String(d.size);const h=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const p=await this.fetchUploadUrl(a,r);return c.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var o;let a={};r!=null&&r.httpOptions?a=r.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:Ge("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:a});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function e0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(o);throw r>=400&&r<600?new Pl({message:a,status:r}):new Error(a)}}function uD(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(c,d){const h=Object.assign({},c);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p)){const m=d[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=o(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const a=o(r,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cD="mcp_used/unknown";let fD=!1;function iw(t){for(const e of t)if(dD(e)||typeof e=="object"&&"inputSchema"in e)return!0;return fD}function ow(t){var e;const r=(e=t[fd])!==null&&e!==void 0?e:"";t[fd]=(r+` ${cD}`).trimStart()}function dD(t){return t!==null&&typeof t=="object"&&t instanceof Cd}function hD(t,e=100){return po(this,arguments,function*(){let o,a=0;for(;a<e;){const c=yield bt(t.listTools({cursor:o}));for(const d of c.tools)yield yield bt(d),a++;if(!c.nextCursor)break;o=c.nextCursor}})}class Cd{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Cd(e,r)}async initialize(){var e,r,o,a;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var h=!0,p=(r=void 0,Hs(hD(y))),m;m=await p.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const x=a;d.push(x);const S=x.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=y}}catch(x){r={error:x}}finally{try{!h&&!e&&(o=p.return)&&await o.call(p)}finally{if(r)throw r.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),HS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await a.callTool({name:o.name,arguments:o.args},void 0,c);r.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pD(t,e,r){const o=new BS;let a;r.data instanceof Blob?a=JSON.parse(await r.data.text()):a=JSON.parse(r.data);const c=WC(a);Object.assign(o,c),e(o)}class mD{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o}async connect(e){var r,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=vD(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(O=>{m=O}),x=e.callbacks,S=function(){m({})},E=this.apiClient,D={onopen:S,onmessage:O=>{pD(E,x.onmessage,O)},onerror:(r=x==null?void 0:x.onerror)!==null&&r!==void 0?r:function(O){},onclose:(o=x==null?void 0:x.onclose)!==null&&o!==void 0?o:function(O){}},A=this.webSocketFactory.create(p,yD(d),D);A.connect(),await y;const U=dt(this.apiClient,e.model),C=$v({model:U}),M=ld({setup:C});return A.send(JSON.stringify(M)),new gD(A,this.apiClient)}}class gD{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Kb(e),o=Xv(r);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=Yb(e),o=ld(r);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const r=ld({playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(fo.PLAY)}pause(){this.sendPlaybackControl(fo.PAUSE)}stop(){this.sendPlaybackControl(fo.STOP)}resetContext(){this.sendPlaybackControl(fo.RESET_CONTEXT)}close(){this.conn.close()}}function yD(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function vD(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xD(t,e,r){const o=new LS;let a;r.data instanceof Blob?a=await r.data.text():r.data instanceof ArrayBuffer?a=new TextDecoder().decode(r.data):a=r.data;const c=JSON.parse(a);if(t.isVertexAI()){const d=lA(c);Object.assign(o,d)}else{const d=FC(c);Object.assign(o,d)}e(o)}class TD{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o,this.music=new mD(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,o,a,c,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&iw(e.config.tools)&&ow(x);const S=bD(x);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const G=this.apiClient.getApiKey();let Te="BidiGenerateContent",Re="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Te="BidiGenerateContentConstrained",Re="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${Te}?${Re}=${G}`}let E=()=>{};const D=new Promise(G=>{E=G}),A=e.callbacks,U=function(){var G;(G=A==null?void 0:A.onopen)===null||G===void 0||G.call(A),E({})},C=this.apiClient,M={onopen:U,onmessage:G=>{xD(C,A.onmessage,G)},onerror:(r=A==null?void 0:A.onerror)!==null&&r!==void 0?r:function(G){},onclose:(o=A==null?void 0:A.onclose)!==null&&o!==void 0?o:function(G){}},O=this.webSocketFactory.create(y,_D(S),M);O.connect(),await D;let H=dt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const G=this.apiClient.getProject(),Te=this.apiClient.getLocation();H=`projects/${G}/locations/${Te}/`+H}let q={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Nl.AUDIO]}:e.config.responseModalities=[Nl.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ce=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],ae=[];for(const G of ce)if(this.isCallableTool(G)){const Te=G;ae.push(await Te.tool())}else ae.push(G);ae.length>0&&(e.config.tools=ae);const de={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=xC(this.apiClient,de):q=zb(this.apiClient,de),delete q.config,O.send(JSON.stringify(q)),new ED(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const SD={turnComplete:!0};class ED{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let o=[];try{o=Un(r.turns),e.isVertexAI()?o=o.map(a=>Mo(a)):o=o.map(a=>Ol(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:o,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let o=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?o=r.functionResponses:o=[r.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const c of o){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(wD)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},SD),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:EC(e)}:r={realtimeInput:Hb(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function _D(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function bD(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t0=10;function n0(t){var e,r,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(mo(d)){a=!0;break}if(!a)return!0;const c=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function mo(t){return"callTool"in t&&typeof t.callTool=="function"}function CD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(a=>mo(a)))!==null&&o!==void 0?o:!1}function AD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(a=>!mo(a)))!==null&&o!==void 0?o:!1}function r0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RD extends xi{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var o,a,c,d,h;const p=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!CD(r)||n0(r.config))return await this.generateContentInternal(p);if(AD(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const x=Un(p.contents),S=(c=(a=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:t0;let E=0;for(;E<S&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const D=m.candidates[0].content,A=[];for(const U of(h=(d=r.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(mo(U)){const M=await U.callTool(m.functionCalls);A.push(...M)}E++,y={role:"user",parts:A},p.contents=Un(p.contents),p.contents.push(D),p.contents.push(y),r0(p.config)&&(x.push(D),x.push(y))}return r0(p.config)&&(m.automaticFunctionCallingHistory=x),m},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),n0(r.config)){const o=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(o=>{var a;let c;const d=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((a=p==null?void 0:p.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=p==null?void 0:p.safetyAttributes:d.push(p);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async r=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ks(wi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async r=>{const o={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(o.referenceImages=r.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async r=>{let o={numberOfImages:1,mode:"upscale"};r.config&&(o=Object.assign(Object.assign({},o),r.config));const a={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async r=>{if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,o,a;const c=(r=e.config)===null||r===void 0?void 0:r.tools;if(!c)return e;const d=await Promise.all(c.map(async p=>mo(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&iw(e.config.tools)){const p=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),ow(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var r,o,a;const c=new Map;for(const d of(o=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&o!==void 0?o:[])if(mo(d)){const h=d,p=await h.tool();for(const m of(a=p.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(e){var r,o,a;const c=(a=(o=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:t0;let d=!1,h=0;const p=await this.initAfcToolsMap(e);return(function(m,y,x){var S,E;return po(this,arguments,function*(){for(var D,A,U,C;h<c;){d&&(h++,d=!1);const q=yield bt(m.processParamsMaybeAddMcpUsage(x)),ce=yield bt(m.generateContentStreamInternal(q)),ae=[],de=[];try{for(var M=!0,O=(A=void 0,Hs(ce)),H;H=yield bt(O.next()),D=H.done,!D;M=!0){C=H.value,M=!1;const G=C;if(yield yield bt(G),G.candidates&&(!((S=G.candidates[0])===null||S===void 0)&&S.content)){de.push(G.candidates[0].content);for(const Te of(E=G.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<c&&Te.functionCall){if(!Te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Te.functionCall.name)){const Re=yield bt(y.get(Te.functionCall.name).callTool([Te.functionCall]));ae.push(...Re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Te.functionCall.name}`)}}}}catch(G){A={error:G}}finally{try{!M&&!D&&(U=O.return)&&(yield bt(U.call(O)))}finally{if(A)throw A.error}}if(ae.length>0){d=!0;const G=new Ps;G.candidates=[{content:{role:"user",parts:ae}}],yield yield bt(G);const Te=[];Te.push(...de),Te.push({role:"user",parts:ae});const Re=Un(x.contents).concat(Te);x.contents=Re}else break}})})(this,p,e)}async generateContentInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=Xy(this.apiClient,e);return h=Ge("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=Qy(y),S=new Ps;return Object.assign(S,x),S})}else{const m=$y(this.apiClient,e);return h=Ge("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=Zy(y),S=new Ps;return Object.assign(S,x),S})}}async generateContentStreamInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=Xy(this.apiClient,e);return h=Ge("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(x){return po(this,arguments,function*(){var S,E,D,A;try{for(var U=!0,C=Hs(x),M;M=yield bt(C.next()),S=M.done,!S;U=!0){A=M.value,U=!1;const O=A,H=Qy(yield bt(O.json()));H.sdkHttpResponse={headers:O.headers};const q=new Ps;Object.assign(q,H),yield yield bt(q)}}catch(O){E={error:O}}finally{try{!U&&!S&&(D=C.return)&&(yield bt(D.call(C)))}finally{if(E)throw E.error}}})})}else{const m=$y(this.apiClient,e);return h=Ge("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(x){return po(this,arguments,function*(){var S,E,D,A;try{for(var U=!0,C=Hs(x),M;M=yield bt(C.next()),S=M.done,!S;U=!0){A=M.value,U=!1;const O=A,H=Zy(yield bt(O.json()));H.sdkHttpResponse={headers:O.headers};const q=new Ps;Object.assign(q,H),yield yield bt(q)}}catch(O){E={error:O}}finally{try{!U&&!S&&(D=C.return)&&(yield bt(D.call(C)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=SR(this.apiClient,e);return h=Ge("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=BN(y),S=new Ay;return Object.assign(S,x),S})}else{const m=UA(this.apiClient,e);return h=Ge("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=dN(y),S=new Ay;return Object.assign(S,x),S})}}async generateImagesInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=_R(this.apiClient,e);return h=Ge("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=PN(y),S=new Ry;return Object.assign(S,x),S})}else{const m=BA(this.apiClient,e);return h=Ge("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=mN(y),S=new Ry;return Object.assign(S,x),S})}}async editImageInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=MR(this.apiClient,e);return c=Ge("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=ON(p),y=new AS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=kR(this.apiClient,e);return c=Ge("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=FN(p),y=new RS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=PR(this.apiClient,e);return c=Ge("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=GN(p),y=new NS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=zR(this.apiClient,e);return c=Ge("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=qN(p),y=new DS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=VR(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>cd(y))}else{const m=PA(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ud(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=HR(this.apiClient,e);return h=Ge("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=JN(y),S=new Ny;return Object.assign(S,x),S})}else{const m=FA(this.apiClient,e);return h=Ge("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=yN(y),S=new Ny;return Object.assign(S,x),S})}}async update(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=YR(this.apiClient,e);return h=Ge("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>cd(y))}else{const m=zA(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>ud(y))}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=JR(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=WN(y),S=new Dy;return Object.assign(S,x),S})}else{const m=VA(this.apiClient,e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=vN(y),S=new Dy;return Object.assign(S,x),S})}}async countTokens(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=$R(this.apiClient,e);return h=Ge("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=$N(y),S=new My;return Object.assign(S,x),S})}else{const m=HA(this.apiClient,e);return h=Ge("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=wN(y),S=new My;return Object.assign(S,x),S})}}async computeTokens(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=XR(this.apiClient,e);return c=Ge("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=XN(p),y=new MS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=eN(this.apiClient,e);return h=Ge("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>{const x=eD(y),S=new Dl;return Object.assign(S,x),S})}else{const m=JA(this.apiClient,e);return h=Ge("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const x=EN(y),S=new Dl;return Object.assign(S,x),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ND(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function DD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["operationName"],r);const o=l(t,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const a=l(t,["config"]);return a!=null&&u(e,["config"],a),e}function MD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ID extends xi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=MD(e);return h=Ge("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d}else{const m=ND(e);return h=Ge("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=DD(e);return c=Ge("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kD(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function sw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],kD(r)),e}function UD(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],sw(o)),e}function LD(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>UD(a))),u(e,["speakerVoiceConfigs"],o)}return e}function BD(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],sw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],LD(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function PD(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function OD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function FD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function GD(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],PD(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],OD(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],FD(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function zD(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>GD(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function VD(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function qD(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function HD(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],qD(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function KD(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function YD(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],KD(r)),e}function JD(){return{}}function WD(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function $D(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>VD(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],HD(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],YD(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],JD());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],WD(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function XD(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function i0(){return{}}function ZD(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function QD(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],ZD(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function jD(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function eM(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],jD(o)),e}function tM(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function nM(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],BD(bd(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],zD(nn(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=No(D);Array.isArray(q)&&(q=q.map(ce=>$D(Ro(ce)))),u(e,["setup","tools"],q)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&u(e,["setup","sessionResumption"],XD(A));const U=l(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","inputAudioTranscription"],i0());const C=l(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&u(e,["setup","outputAudioTranscription"],i0());const M=l(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&u(e,["setup","realtimeInputConfig"],QD(M));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],eM(O));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],tM(H)),r}function rM(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],dt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],nM(a,r)),r}function iM(t,e,r){const o={},a=l(e,["expireTime"]);r!==void 0&&a!=null&&u(r,["expireTime"],a);const c=l(e,["newSessionExpireTime"]);r!==void 0&&c!=null&&u(r,["newSessionExpireTime"],c);const d=l(e,["uses"]);r!==void 0&&d!=null&&u(r,["uses"],d);const h=l(e,["liveConnectConstraints"]);r!==void 0&&h!=null&&u(r,["bidiGenerateContentSetup"],rM(t,h));const p=l(e,["lockAdditionalFields"]);return r!==void 0&&p!=null&&u(r,["fieldMask"],p),o}function oM(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],iM(t,o,r)),r}function sM(t){const e={},r=l(t,["name"]);return r!=null&&u(e,["name"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aM(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(c=>`${r}.${c}`);e.push(...a)}else e.push(r)}return e.join(",")}function lM(t,e){let r=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const c=o.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,r=c):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(r){const c=aM(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const p=[];c&&p.push(c),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class uM extends xi{constructor(e){super(),this.apiClient=e}async create(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=oM(this.apiClient,e);c=Ge("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const p=lM(h,e.config);return a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>sM(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function fM(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function dM(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],fM(r,e)),e}function hM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function pM(t){const e={},r=l(t,["textInput"]);r!=null&&u(e,["textInput"],r);const o=l(t,["output"]);return o!=null&&u(e,["output"],o),e}function mM(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>pM(a))),u(e,["examples","examples"],o)}return e}function gM(t,e){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=l(t,["epochCount"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","epochCount"],a);const c=l(t,["learningRateMultiplier"]);if(c!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(t,["batchSize"]);e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","batchSize"],d);const h=l(t,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),r}function yM(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const a=l(t,["trainingDataset"]);a!=null&&u(e,["tuningTask","trainingData"],mM(a));const c=l(t,["config"]);return c!=null&&u(e,["config"],gM(c,e)),e}function vM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function wM(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function xM(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],wM(r,e)),e}function TM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function SM(t,e){const r={},o=l(t,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const a=l(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function EM(t,e){const r={},o=l(t,["gcsUri"]);o!=null&&u(r,["validationDatasetUri"],o);const a=l(t,["vertexDatasetResource"]);return e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),r}function _M(t,e){const r={},o=l(t,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],EM(o,r));const a=l(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&u(e,["tunedModelDisplayName"],a);const c=l(t,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=l(t,["epochCount"]);e!==void 0&&d!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=l(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=l(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=l(t,["preTunedModelCheckpointId"]);m!=null&&u(r,["preTunedModel","checkpointId"],m);const y=l(t,["adapterSize"]);if(e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function bM(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const a=l(t,["trainingDataset"]);a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],SM(a,e));const c=l(t,["config"]);return c!=null&&u(e,["config"],_M(c,e)),e}function CM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["model"],r);const o=l(t,["name"]);return o!=null&&u(e,["endpoint"],o),e}function aw(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],Lv(a));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["tuningTask","startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["tuningTask","completeTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["description"]);m!=null&&u(e,["description"],m);const y=l(t,["baseModel"]);y!=null&&u(e,["baseModel"],y);const x=l(t,["_self"]);x!=null&&u(e,["tunedModel"],CM(x));const S=l(t,["customBaseModel"]);S!=null&&u(e,["customBaseModel"],S);const E=l(t,["experiment"]);E!=null&&u(e,["experiment"],E);const D=l(t,["labels"]);D!=null&&u(e,["labels"],D);const A=l(t,["outputUri"]);A!=null&&u(e,["outputUri"],A);const U=l(t,["pipelineJob"]);U!=null&&u(e,["pipelineJob"],U);const C=l(t,["serviceAccount"]);C!=null&&u(e,["serviceAccount"],C);const M=l(t,["tunedModelDisplayName"]);return M!=null&&u(e,["tunedModelDisplayName"],M),e}function AM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>aw(d))),u(e,["tuningJobs"],c)}return e}function RM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["metadata"]);a!=null&&u(e,["metadata"],a);const c=l(t,["done"]);c!=null&&u(e,["done"],c);const d=l(t,["error"]);return d!=null&&u(e,["error"],d),e}function NM(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const a=l(t,["step"]);a!=null&&u(e,["step"],a);const c=l(t,["endpoint"]);return c!=null&&u(e,["endpoint"],c),e}function DM(t){const e={},r=l(t,["model"]);r!=null&&u(e,["model"],r);const o=l(t,["endpoint"]);o!=null&&u(e,["endpoint"],o);const a=l(t,["checkpoints"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>NM(d))),u(e,["checkpoints"],c)}return e}function dd(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],Lv(a));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["endTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["error"]);m!=null&&u(e,["error"],m);const y=l(t,["description"]);y!=null&&u(e,["description"],y);const x=l(t,["baseModel"]);x!=null&&u(e,["baseModel"],x);const S=l(t,["tunedModel"]);S!=null&&u(e,["tunedModel"],DM(S));const E=l(t,["preTunedModel"]);E!=null&&u(e,["preTunedModel"],E);const D=l(t,["supervisedTuningSpec"]);D!=null&&u(e,["supervisedTuningSpec"],D);const A=l(t,["tuningDataStats"]);A!=null&&u(e,["tuningDataStats"],A);const U=l(t,["encryptionSpec"]);U!=null&&u(e,["encryptionSpec"],U);const C=l(t,["partnerModelTuningSpec"]);C!=null&&u(e,["partnerModelTuningSpec"],C);const M=l(t,["customBaseModel"]);M!=null&&u(e,["customBaseModel"],M);const O=l(t,["experiment"]);O!=null&&u(e,["experiment"],O);const H=l(t,["labels"]);H!=null&&u(e,["labels"],H);const q=l(t,["outputUri"]);q!=null&&u(e,["outputUri"],q);const ce=l(t,["pipelineJob"]);ce!=null&&u(e,["pipelineJob"],ce);const ae=l(t,["serviceAccount"]);ae!=null&&u(e,["serviceAccount"],ae);const de=l(t,["tunedModelDisplayName"]);return de!=null&&u(e,["tunedModelDisplayName"],de),e}function MM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>dd(d))),u(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IM extends xi{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new Ks(wi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const o={tunedModelName:r.baseModel},a=Object.assign(Object.assign({},r),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},r);return await this.tuneInternal(o)}else{const o=Object.assign({},r),a=await this.tuneMldevInternal(o);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:rd.JOB_STATE_QUEUED}}}}async getInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=vM(e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>dd(y))}else{const m=cM(e);return h=Ge("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>aw(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=xM(e);return h=Ge("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=MM(y),S=new ky;return Object.assign(S,x),S})}else{const m=dM(e);return h=Ge("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=AM(y),S=new ky;return Object.assign(S,x),S})}}async cancel(e){var r,o,a,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=TM(e);d=Ge("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=hM(e);d=Ge("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=bM(e);return c=Ge("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>dd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yM(e);return c=Ge("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>RM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kM{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const UM=1024*1024*8,LM=3,BM=1e3,PM=2,uf="x-goog-upload-status";async function OM(t,e,r){var o,a,c;let d=0,h=0,p=new id(new Response),m="upload";for(d=t.size;h<d;){const x=Math.min(UM,d-h),S=t.slice(h,h+x);h+x>=d&&(m+=", finalize");let E=0,D=BM;for(;E<LM&&(p=await r.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(x)}}}),!(!((o=p==null?void 0:p.headers)===null||o===void 0)&&o[uf]));)E++,await GM(D),D=D*PM;if(h+=x,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[uf])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((c=p==null?void 0:p.headers)===null||c===void 0?void 0:c[uf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function FM(t){return{size:t.size,type:t.type}}function GM(t){return new Promise(e=>setTimeout(e,t))}class zM{async upload(e,r,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OM(e,r,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VM{create(e,r,o){return new qM(e,r,o)}}class qM{constructor(e,r,o){this.url=e,this.headers=r,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o0="x-goog-api-key";class HM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(o0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(o0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KM="gl-node/";class YM{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const o=CS(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new HM(this.apiKey);this.apiClient=new lD({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:KM+"web",uploader:new zM,downloader:new kM}),this.models=new RD(this.apiClient),this.live=new TD(this.apiClient,a,new VM),this.batches=new ZE(this.apiClient),this.chats=new rb(this.models,this.apiClient),this.caches=new eb(this.apiClient),this.files=new gb(this.apiClient),this.operations=new ID(this.apiClient),this.authTokens=new uM(this.apiClient),this.tunings=new IM(this.apiClient)}}const Io=new YM({apiKey:"PLACEHOLDER_API_KEY"}),JM=t=>t.map(e=>{if(e.type==="image"){const{src:r,...o}=e;return o}return e}),To=t=>t.map(e=>({...e,content:JM(e.content)})),Ad=t=>Math.round((t||"").length/3.5),s0=t=>Array.isArray(t)?t.map(e=>{if(e.type==="list"){const r=e;if(typeof r.text=="string"&&!Array.isArray(r.items))return{type:"list",style:r.style||"unordered",items:[r.text]}}return e}):[],lw=t=>(t.newDocuments&&(t.newDocuments=t.newDocuments.map(e=>({...e,content:s0(e.content)}))),t.updatedDocuments&&(t.updatedDocuments=t.updatedDocuments.map(e=>({...e,content:s0(e.content)}))),t),a0={type:rt.OBJECT,properties:{id:{type:rt.STRING},title:{type:rt.STRING},category:{type:rt.STRING},content:{type:rt.ARRAY,items:{type:rt.OBJECT,properties:{type:{type:rt.STRING,enum:["heading","paragraph","list","image","blockquote","definition_list"]},level:{type:rt.INTEGER,description:"Apenas para blocos 'heading'. Níveis 1, 2 ou 3."},text:{type:rt.STRING,description:"O conteúdo de texto para blocos 'heading', 'paragraph' e 'blockquote'."},style:{type:rt.STRING,enum:["unordered","ordered"],description:"Apenas para blocos 'list'."},items:{oneOf:[{type:rt.ARRAY,items:{type:rt.STRING},description:"Uma array de strings de itens para blocos 'list'."},{type:rt.ARRAY,items:{type:rt.OBJECT,properties:{term:{type:rt.STRING},description:{type:rt.STRING}},required:["term","description"]},description:"Apenas para blocos 'definition_list'. Uma array de objetos com 'term' e 'description'."}]},id:{type:rt.STRING,description:"O ID único para blocos 'image'."},caption:{type:rt.STRING,description:"A legenda para blocos 'image'."}},required:["type"]}}},required:["id","title","category","content"]},uw={type:rt.OBJECT,properties:{newDocuments:{type:rt.ARRAY,description:"Array de documentos inteiramente novos. Se nenhum for criado, retorne um array vazio [].",items:a0},updatedDocuments:{type:rt.ARRAY,description:"Array de documentos existentes que foram modificados. Retorne o objeto completo para cada documento modificado. Se nenhum for modificado, retorne um array vazio [].",items:a0},deletedDocumentIds:{type:rt.ARRAY,description:"Array de IDs de documentos a serem excluídos. Se nenhum for removido, retorne um array vazio [].",items:{type:rt.STRING}},summary:{type:rt.STRING,description:"Um breve resumo em uma frase das mudanças feitas."},thinkingProcess:{type:rt.ARRAY,description:"Uma lista passo a passo em Português Brasileiro descrevendo o raciocínio para as mudanças feitas.",items:{type:rt.STRING}}},required:["newDocuments","updatedDocuments","deletedDocumentIds","summary","thinkingProcess"]};async function WM(t,e,r,o,a){const c=To(e),h=`
    ${r==="GDD"?"Você é um game designer especialista gerenciando um Documento de Design de Jogo (GDD) interligado.":"Você é um roteirista sênior gerenciando um Roteiro de Jogo cronológico interligado."}
    Sua tarefa é integrar de forma inteligente uma nova ideia/texto fornecida por um usuário na estrutura do documento existente.
    Você tem o contexto completo do documento atual. Você DEVE realizar uma atualização abrangente para incorporar a nova ideia da forma mais coesa e inteligente possível.

    **REGRAS CRÍTicas:**
    1.  **Integração Completa:** Analise a ideia do usuário e determine TODAS as alterações necessárias no documento. Isso pode envolver criar documentos, atualizar documentos existentes ou movê-los.
    2.  **Edições Focadas:** Faça apenas as alterações estritamente necessárias. Se uma ideia afeta apenas uma frase em um parágrafo, modifique apenas essa frase e mantenha o restante do parágrafo. Se a ideia é renomear um documento, altere apenas seu título e atualize os links para ele; não modifique seu conteúdo desnecessariamente. NÃO reescreva partes de um documento que não foram afetadas pela ideia.
    3.  **Formato de Saída:** Sua resposta DEVE ser um único objeto JSON com as chaves especificadas no esquema.
    4.  **Raciocínio (thinkingProcess):** Forneça uma lista passo a passo descrevendo seu raciocínio. Explique por que você está criando, atualizando ou excluindo documentos com base na ideia do usuário. Seja claro e conciso. Este campo é OBRIGATÓRIO.
    5.  **Preservar IDs:** Você DEVE preservar o 'id' dos documentos e blocos de imagem existentes.
    6.  **Novos IDs:** Para novos documentos, gere um ID único usando o timestamp atual como uma string (ex: "${Date.now()}").
    7.  **Links Internos:** Mantenha e atualize meticulosamente todos os links internos. Use o formato [[Título do Documento]] para vincular a um documento. Para vincular a um título específico dentro de um documento, use o formato [[Título do Documento#Texto do Título]]. Se você renomear um documento ou um título, atualize TODOS os links que apontam para ele em todo o GDD/Roteiro. Links de imagem usam [[img:id-da-imagem]].
    8.  **Idioma:** Toda a sua saída (títulos, conteúdo, resumo) DEVE ESTAR EM PORTUGÊS BRASILEIRO.
    9.  **Estrutura do Conteúdo:** Adira à estrutura de blocos de conteúdo.

    **Novos Blocos de Conteúdo:**
    - **Blockquote (\`blockquote\`):** Use para citações, diálogos, ou para destacar um parágrafo que necessita de ênfase especial, separando-o visualmente do texto principal.
    - **Lista de Definição (\`definition_list\`):** Use para pares de termo-definição. Ideal para explicar mecânicas, atributos, ou glossários. Exemplo: 'Mecânica: [descrição]' deve se tornar um item em uma lista de definição.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(c,null,2)}
    ---

    **NOVA IDEIA PARA INTEGRAR:**
    ---
    ${t}
    ---

    Agora, execute a integração e retorne APENAS AS ALTERAÇÕES no formato JSON especificado.
  `;try{const p=await Io.models.generateContentStream({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:uw,maxOutputTokens:a.maxOutputTokens,thinkingConfig:{thinkingBudget:a.thinkingBudget}}});let m="";for await(const S of p)S.text&&(m+=S.text,o(Ad(m)));const y=m.trim();let x=JSON.parse(y);if(!x.newDocuments||!x.updatedDocuments||!x.deletedDocumentIds||!x.summary||!x.thinkingProcess)throw new Error("A resposta da IA está faltando campos obrigatórios.");return x=lw(x),{payload:x,rawJson:y}}catch(p){throw console.error("Erro ao chamar a API Gemini para integração de ideia:",p),new Error("Falha ao obter uma resposta válida da IA. A ideia pode ser muito complexa ou o serviço pode estar indisponível.")}}async function $M(t,e,r,o){const c=`
      Você é um assistente de escrita. Sua tarefa é reescrever o texto fornecido com base na instrução dada.
      ${r?`
      CONTEXTO DO DOCUMENTO (APENAS DOCUMENTOS RELEVANTES):
      ---
      ${JSON.stringify(To(r).map(d=>({title:d.title,category:d.category,content:d.content})),null,2)}
      ---
    `:""}
      Responda APENAS com o texto reescrito, dentro de um objeto JSON com uma única chave "rewrittenText". Não adicione nenhuma explicação ou formatação extra.
      Todos os links internos no formato [[Título do Documento]], [[Título do Documento#Texto do Título]] ou [[img:id-da-imagem]] devem ser preservados.

      INSTRUÇÃO:
      "${e}"

      TEXTO ORIGINAL A SER REESCRITO:
      ---
      ${t}
      ---
    `;try{const d=await Io.models.generateContentStream({model:"gemini-2.5-flash",contents:c,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{rewrittenText:{type:rt.STRING,description:"O texto reescrito."}},required:["rewrittenText"]},maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}});let h="";for await(const y of d)y.text&&(h+=y.text,o(Ad(h)));const p=h.trim(),m=JSON.parse(p);if(typeof m.rewrittenText!="string")throw new Error("A resposta da IA não continha o texto reescrito esperado.");return m.rewrittenText}catch(d){throw console.error("Erro ao chamar a API Gemini para aprimorar o texto:",d),new Error("Falha ao obter uma resposta válida da IA para o aprimoramento do texto.")}}async function XM(t,e,r,o,a){const c=r==="GDD"?"Documento de Design de Jogo (GDD)":"Roteiro de Jogo",d=To(e),h=`
    Você é um especialista encarregado de gerenciar um ${c} interligado.
    Sua tarefa é realizar uma atualização de alto nível em todo o documento com base na instrução de um usuário.

    **REGRAS CRÍTICAS:**
    1.  **Formato de Saída:** Sua resposta DEVE ser um único objeto JSON com as chaves especificadas no esquema.
    2.  **Raciocínio (thinkingProcess):** Forneça uma lista passo a passo descrevendo seu raciocínio para as mudanças. Explique por que você está criando, atualizando ou excluindo documentos. Este campo é OBRIGATÓRIO.
    3.  **Preservar IDs:** Ao atualizar um documento existente, você DEVE preservar seu 'id' original. Para blocos de imagem, você DEVE preservar seu 'id' original.
    4.  **IDs de Novos Documentos:** Para quaisquer novos documentos que você criar, gere um ID único usando o timestamp atual como uma string (ex: "${Date.now()}").
    5.  **Edições Focadas:** Faça apenas as alterações estritamente necessárias para cumprir a instrução. Não reescreva ou reorganize partes do documento que não estão diretamente relacionadas à instrução do usuário.
    6.  **Blocos de Imagem:** Você NÃO PODE criar novos blocos de imagem ou inventar IDs de imagem. Você pode mover blocos de imagem existentes, alterar suas legendas ('caption') ou excluí-los, mas o campo 'id' de uma imagem existente DEVE ser preservado.
    7.  **Sem Deleções de Documentos:** Por segurança, não delete nenhum documento. Você pode atualizar o conteúdo para ficar vazio ou marcar o documento como obsoleto no título, mas não o remova do array de saída.
    8.  **Links Internos:** Mantenha e atualize meticulosamente todos os links internos. Use o formato [[Título do Documento]] para vincular a um documento. Para vincular a um título específico dentro de um documento, use o formato [[Título do Documento#Texto do Título]]. Se você renomear um documento ou um título, atualize TODOS os links que apontam para ele em todo o GDD/Roteiro. Links de imagem usam [[img:id-da-imagem]].
    9.  **Idioma:** Toda a sua saída (títulos, conteúdo, etc.) DEVE ESTAR EM PORTUGUÊS BRASILEIRO.
    
    **Novos Blocos de Conteúdo:**
    - **Blockquote (\`blockquote\`):** Use para citações, diálogos, ou para destacar um parágrafo que necessita de ênfase especial, separando-o visualmente do texto principal.
    - **Lista de Definição (\`definition_list\`):** Use para pares de termo-definição. Ideal para explicar mecânicas, atributos, ou glossários. Exemplo: 'Mecânica: [descrição]' deve se tornar um item em uma lista de definição.

    **DOCUMENTO ATUAL (${r}):**
    ---
    ${JSON.stringify(d,null,2)}
    ---

    **INSTRUÇÃO DO USUÁRIO:**
    ---
    ${t}
    ---

    Agora, execute as atualizações solicitadas e retorne APENAS AS ALTERAÇÕES no formato JSON especificado.
  `;try{const p=await Io.models.generateContentStream({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:uw,maxOutputTokens:a.maxOutputTokens,thinkingConfig:{thinkingBudget:a.thinkingBudget}}});let m="";for await(const S of p)S.text&&(m+=S.text,o(Ad(m)));const y=m.trim();let x=JSON.parse(y);if(!x.newDocuments||!x.updatedDocuments||!x.deletedDocumentIds||!x.summary||!x.thinkingProcess)throw new Error("A resposta da IA está faltando campos obrigatórios.");return x=lw(x),{payload:x,rawJson:y}}catch(p){throw console.error("Erro ao chamar a API Gemini para atualização global:",p),new Error("Falha ao obter uma resposta válida da IA para a atualização global. A instrução pode ser muito complexa ou o serviço pode estar indisponível.")}}function ZM(t,e){const r={GDD:To(t),Roteiro:To(e)},o=`
        Você é um assistente especialista em design de jogos. Sua finalidade é responder a perguntas sobre o Documento de Design de Jogo (GDD) e o Roteiro fornecidos. 
        Você NÃO DEVE inventar informações. Baseie todas as suas respostas estritamente no contexto fornecido.
        NÃO se ofereça para modificar os documentos. Seu papel é apenas consultivo.
        Seja conciso e direto em suas respostas.

        Aqui está o contexto completo:
        ---
        ${JSON.stringify(r,null,2)}
        ---
    `;return Io.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:o,maxOutputTokens:65e3,thinkingConfig:{thinkingBudget:1e4}}})}async function QM(t,e,r,o){let a="";t.content.slice(Math.max(0,e-2),e+1).forEach(p=>{"text"in p&&p.text&&(a+=p.text+`
`),"items"in p&&Array.isArray(p.items)&&(a+=p.items.join(`
`)+`
`)}),a||(a=t.content.map(p=>"text"in p?p.text:"").join(`
`));const d=To(r),h=`
        Você é um diretor de arte e artista conceitual trabalhando em um jogo. Sua tarefa é escrever um prompt de geração de imagem detalhado e vívido para o modelo de imagem 'Imagen'.

        **REGRAS CRÍTICAS:**
        1.  **Contexto Completo:** Use o JSON 'DOCUMENTO COMPLETO' abaixo para entender o estilo visual geral, design de personagens, ambientação e lore do jogo. Sua imagem DEVE ser consistente com este contexto.
        2.  **Contexto Específico:** O 'CONTEXTO ESPECÍFICO DA CENA' descreve onde a imagem será inserida. Use-o para entender a cena imediata, a ação e o humor.
        3.  **Instrução do Usuário:** Se uma 'INSTRUÇÃO DO USUÁRIO' for fornecida, ela tem a MAIOR prioridade para o conteúdo da cena. Integre a instrução do usuário de forma criativa, mas AINDA mantenha a consistência com o estilo visual do 'DOCUMENTO COMPLETO'.
        4.  **Formato do Prompt:** O prompt que você escrever deve ser em inglês, altamente descritivo, focado em detalhes visuais e usar termos artísticos. Pense em composição, iluminação, paleta de cores, estilo artístico e emoção.
        5.  **Saída:** Sua resposta DEVE ser um único objeto JSON com uma única chave "image_prompt".

        **DOCUMENTO COMPLETO (GDD/Roteiro):**
        ---
        ${JSON.stringify(d,null,2)}
        ---

        **CONTEXTO ESPECÍFICO DA CENA:**
        ---
        ${a.trim()}
        ---

        **INSTRUÇÃO DO USUÁRIO (se houver):**
        ---
        ${o||"Nenhuma. Crie a imagem com base no contexto da cena e no GDD."}
        ---

        Agora, escreva o prompt para o modelo de imagem e retorne-o no formato JSON especificado.
    `;try{const m=(await Io.models.generateContent({model:"gemini-2.5-flash",contents:h,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{image_prompt:{type:rt.STRING,description:"O prompt de geração de imagem detalhado em inglês."}},required:["image_prompt"]},thinkingConfig:{thinkingBudget:5e3}}})).text.trim(),y=JSON.parse(m);if(typeof y.image_prompt!="string"||!y.image_prompt)throw new Error("A IA não gerou um prompt de imagem válido.");return y.image_prompt}catch(p){throw console.error("Erro ao chamar a API Gemini para gerar o prompt de imagem:",p),new Error("Falha ao criar um prompt para a imagem. O serviço pode estar indisponível.")}}async function jM(t){try{const e=await Io.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:"16:9"}});if(!e.generatedImages||e.generatedImages.length===0||!e.generatedImages[0].image.imageBytes)throw new Error("A API de imagem não retornou dados de imagem.");return{base64:e.generatedImages[0].image.imageBytes,mimeType:"image/png"}}catch(e){throw console.error("Erro ao chamar a API Imagen para gerar imagem:",e),new Error("Falha ao gerar a imagem. Verifique o prompt ou a disponibilidade do serviço.")}}const e5="GDD_DATABASE",t5=1,Il="gdd_documents",kl="script_documents",cw="all_docs";let Os=null;function fw(){return Os||(Os=new Promise((t,e)=>{const r=indexedDB.open(e5,t5);r.onerror=()=>{console.error("IndexedDB error:",r.error),e("Error opening IndexedDB."),Os=null},r.onsuccess=()=>{t(r.result)},r.onupgradeneeded=o=>{const a=o.target.result;a.objectStoreNames.contains(Il)||a.createObjectStore(Il),a.objectStoreNames.contains(kl)||a.createObjectStore(kl)}}),Os)}async function dw(t){const e=await fw();return new Promise((r,o)=>{const d=e.transaction(t,"readonly").objectStore(t).get(cw);d.onerror=()=>o(`Error getting docs from ${t}`),d.onsuccess=()=>r(d.result||null)})}async function hw(t,e){const r=await fw();return new Promise((o,a)=>{const h=r.transaction(t,"readwrite").objectStore(t).put(e,cw);h.onerror=()=>a(`Error saving docs to ${t}`),h.onsuccess=()=>o()})}const n5=()=>dw(Il),l0=t=>hw(Il,t),r5=()=>dw(kl),u0=t=>hw(kl,t),cl=[{id:"1",title:"Princípios de Design de Personagem",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Nosso design de personagem segue uma abordagem de 'realismo estilizado'. As características principais incluem silhuetas exageradas e rostos expressivos. Todos os personagens devem se encaixar na estética definida no [[Guia de Estilo Visual]]. O protagonista principal, Kael, é projetado para ser ágil e misterioso."}]},{id:"2",title:"Guia de Estilo Visual",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O estilo visual do jogo é uma fusão de cyberpunk e mitologia antiga. Usamos uma paleta de cores de alto contraste com detalhes em neon contra ambientes escuros e chuvosos. A inspiração é tirada de filmes clássicos neo-noir. Todos os assets devem seguir estas diretrizes."}]},{id:"3",title:"Loop Principal de Gameplay",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O loop principal é: EXPLORAR, LUTAR, MELHORAR. Os jogadores exploram o mundo para encontrar recursos e missões. Eles se envolvem em nossas [[Mecânicas de Combate]] para superar desafios. Finalmente, eles usam recompensas para melhorar seus equipamentos e habilidades."}]},{id:"4",title:"Mecânicas de Combate",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O combate é um sistema de terceira pessoa em ritmo acelerado, focado em esquivar e contra-atacar. Os jogadores têm um ataque leve, um ataque pesado e habilidades especiais ligadas aos [[Amuletos]] equipados. O gerenciamento de estamina é crucial."}]},{id:"5",title:"Música Tema Principal",category:"Som",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O tema principal é uma peça orquestral com toques eletrônicos, refletindo o cenário do jogo. Deve ser memorável e evoluir durante momentos chave da história, conforme descrito no [[Arco da História Principal]]."}]},{id:"6",title:"Arco da História Principal",category:"História",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"A história segue Kael, um pária que descobre ser a chave para impedir uma profecia de fim do mundo. O arco é dividido em três atos: O Despertar, A Descida e O Acerto de Contas. A jornada de Kael é de autodescoberta e sacrifício."}]},{id:"7",title:"Amuletos",category:"Lógica",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Amuletos são itens mágicos que concedem habilidades especiais. Existem três tipos: Ofensivo, Defensivo e Utilitário. Cada amuleto tem um período de recarga e um custo de energia. Os jogadores podem equipar até dois ao mesmo tempo."}]}],fl=[{id:"script-1",title:"Ato 1: O Despertar - Missão 1",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Cutscene de Abertura",level:2},{type:"paragraph",text:"A cena começa com Kael acordando em um beco chuvoso, sem memória. Uma figura misteriosa se aproxima e lhe entrega um amuleto brilhante antes de desaparecer nas sombras."},{type:"heading",text:"Objetivos da Missão",level:2},{type:"list",style:"ordered",items:["Siga o rastro da figura misteriosa.","Aprenda a usar as habilidades básicas de combate.","Encontre o primeiro refúgio seguro."]}]},{id:"script-2",title:"Ato 1: O Despertar - Missão 2",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Encontrando o Mentor",level:2},{type:"paragraph",text:"Kael chega ao refúgio e encontra um velho chamado Elara, que explica a importância dos [[Amuletos]] e o perigo que se aproxima. Elara se torna o mentor de Kael."},{type:"heading",text:"Diálogo Chave",level:2},{type:"paragraph",text:'Elara: "Esse amuleto... é parte de você agora. Ele o guiará, mas também o marcará como um alvo. Você deve aprender a controlá-lo antes que eles o encontrem."'}]}],i5=t=>Math.round((t||"").length/3.5),c0=(t,e)=>{const r=new Map;t.forEach(p=>{p.content.forEach(m=>{m.type==="image"&&m.src&&r.set(m.id,m.src)})});const o=p=>({...p,content:p.content.map(m=>{if(m.type==="image"&&m.id&&!m.src){const y=r.get(m.id);return{...m,src:y||""}}return m})}),a=new Date().toISOString(),c=new Map(t.map(p=>[p.id,p]));e.deletedDocumentIds.forEach(p=>{c.delete(p)}),e.updatedDocuments.forEach(p=>{const m=o(p);c.set(p.id,{...m,lastEdited:a})});const d=e.newDocuments.map(p=>({...o(p),lastEdited:a}));return[...c.values(),...d]},dl=t=>{if(!Array.isArray(t))return[];const e=new Date().toISOString();return t.map(r=>({...r,lastEdited:r.lastEdited||e}))},f0="interactive-gdd-documents",d0="interactive-gdd-script-documents",o5=()=>{const[t,e]=Ue.useState(null),[r,o]=Ue.useState(null),[a,c]=Ue.useState(!0),[d,h]=Ue.useState(null),[p,m]=Ue.useState("gdd"),[y,x]=Ue.useState(null),[S,E]=Ue.useState(null),[D,A]=Ue.useState(""),[U,C]=Ue.useState(null);Ue.useEffect(()=>{async function ue(){try{let K=await n5(),Y=await r5();if(!K)try{const j=window.localStorage.getItem(f0);j&&(K=JSON.parse(j),await l0(K),window.localStorage.removeItem(f0))}catch(j){console.error("Não foi possível migrar o GDD do localStorage",j)}if(!Y)try{const j=window.localStorage.getItem(d0);j&&(Y=JSON.parse(j),await u0(Y),window.localStorage.removeItem(d0))}catch(j){console.error("Não foi possível migrar os Roteiros do localStorage",j)}K||(K=cl),Y||(Y=fl);const P=dl(K),J=dl(Y);e(P),o(J),P.length>0&&x(P[0].id),J.length>0&&E(J[0].id)}catch(K){console.error("Falha ao carregar documentos da persistência",K),h("Não foi possível carregar os dados salvos. Começando com um novo conjunto de documentos."),e(dl(cl)),o(dl(fl)),cl.length>0&&x(cl[0].id),fl.length>0&&E(fl[0].id)}finally{c(!1)}}ue()},[]),Ue.useEffect(()=>{t&&!a&&l0(t).catch(ue=>{console.error("Falha ao salvar documentos do GDD no IndexedDB",ue),h("Falha ao salvar as alterações do GDD. Seus dados podem não persistir.")})},[t,a]),Ue.useEffect(()=>{r&&!a&&u0(r).catch(ue=>{console.error("Falha ao salvar documentos de roteiro no IndexedDB",ue),h("Falha ao salvar as alterações do Roteiro. Seus dados podem não persistir.")})},[r,a]);const M=Ue.useMemo(()=>(p==="gdd"?t:r)||[],[p,t,r]),O=Ue.useMemo(()=>p==="gdd"?y:S,[p,y,S]),H=Ue.useMemo(()=>{const ue=K=>K?K.trim().split(/\s+/).filter(Boolean).length:0;return M.reduce((K,Y)=>{let P=ue(Y.title);return Array.isArray(Y.content)&&Y.content.forEach(J=>{J.type==="heading"||J.type==="paragraph"?P+=ue(J.text):J.type==="list"&&Array.isArray(J.items)?J.items.forEach(j=>P+=ue(j)):J.type==="image"&&(P+=ue(J.caption))}),K+P},0)},[M]),q=Ue.useMemo(()=>{if(!D.trim())return[];const ue=[],K=D.trim().toLowerCase(),Y=[...(t||[]).map(J=>({...J,viewMode:"gdd"})),...(r||[]).map(J=>({...J,viewMode:"script"}))],P=(J,j)=>{const ee=J.toLowerCase().indexOf(j);if(ee===-1)return null;const $=Math.max(0,ee-40),N=Math.min(J.length,ee+j.length+40),R=($>0?"...":"")+J.substring($,N)+(N<J.length?"...":""),te=new RegExp(`(${D.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi"),W=R.split(te);return qs.createElement(qs.Fragment,null,...W.map((z,F)=>F%2===1?qs.createElement("mark",{key:F,className:"bg-yellow-400 text-black px-0.5 rounded-sm"},z):z))};return Y.forEach(J=>{const j=new Set;if(J.title.toLowerCase().includes(K)){const ee=P(J.title,K);ee&&j.add(ee)}J.content.forEach(ee=>{let $=[];(ee.type==="heading"||ee.type==="paragraph")&&ee.text?$.push(ee.text):ee.type==="list"&&ee.items?$.push(...ee.items.filter(Boolean)):ee.type==="image"&&ee.caption&&$.push(ee.caption),$.forEach(N=>{if(N.toLowerCase().includes(K)){const R=P(N,K);R&&j.add(R)}})}),j.size>0&&ue.push({docId:J.id,docTitle:J.title,category:J.category,viewMode:J.viewMode,snippets:Array.from(j)})}),ue},[D,t,r]),ce=Ue.useMemo(()=>M.find(ue=>ue.id===O)||null,[O,M]),ae=Ue.useMemo(()=>[...new Set(M.map(ue=>ue.category))],[M]);return{documents:t,scriptDocuments:r,setDocuments:e,setScriptDocuments:o,isDBLoading:a,dbError:d,viewMode:p,setViewMode:m,activeDocuments:M,activeDocumentId:O,categories:ae,activeDocument:ce,totalWordCount:H,searchQuery:D,setSearchQuery:A,searchResults:q,scrollToHeading:U,setScrollToHeading:C,handleSelectDocument:ue=>{(t||[]).some(Y=>Y.id===ue)?(m("gdd"),x(ue)):(m("script"),E(ue)),A("")},handleSelectSearchResult:(ue,K)=>{m(K),K==="gdd"?x(ue):E(ue),A("")},handleNavigate:(ue,K)=>{(t||[]).some(P=>P.id===ue)?(m("gdd"),x(ue)):(m("script"),E(ue)),C(K||null)},handleDidScrollToHeading:()=>C(null),handleUpdateBlock:(ue,K,Y,P)=>{const j=(t||[]).some($=>$.id===ue)?e:o,ee=new Date().toISOString();j($=>($||[]).map(N=>{if(N.id!==ue)return N;const R=[...N.content],te={...R[K]};if(te.type==="list"&&P!==void 0&&Array.isArray(te.items)){const W=[...te.items];W[P]=Y,te.items=W}else te.type==="heading"||te.type==="paragraph"?te.text=Y:te.type==="image"&&P===void 0&&(te.caption=Y);return R[K]=te,{...N,content:R,lastEdited:ee}}))},handleSetContent:(ue,K)=>{const P=(t||[]).some(j=>j.id===ue)?e:o,J=new Date().toISOString();P(j=>(j||[]).map(ee=>ee.id===ue?{...ee,content:K,lastEdited:J}:ee))},handleUpdateBlockContent:(ue,K,Y)=>{const J=(t||[]).some(ee=>ee.id===ue)?e:o,j=new Date().toISOString();J(ee=>(ee||[]).map($=>{if($.id!==ue)return $;const N=[...$.content],R=N[K];return R?(N[K]={...R,...Y},{...$,content:N,lastEdited:j}):$}))},handleUpdateCategoryName:(ue,K)=>{if(!K||K.trim()===""||ue===K)return;const Y=p==="gdd"?e:o,P=new Date().toISOString();Y(J=>(J||[]).map(j=>j.category===ue?{...j,category:K,lastEdited:P}:j))},handleUpdateDocumentTitle:(ue,K)=>{if(!K||K.trim()==="")return;const Y=p==="gdd"?e:o,P=new Date().toISOString();Y(J=>{var R;const j=J||[],ee=(R=j.find(te=>te.id===ue))==null?void 0:R.title;if(!ee||ee===K)return j;const $=new RegExp(`\\[\\[${ee.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\]`,"gi"),N=`[[${K}]]`;return j.map(te=>{let W=!1,z={...te};te.id===ue&&(z.title=K,W=!0);const F=z.content.map(ie=>{var _;if((ie.type==="heading"||ie.type==="paragraph")&&((_=ie.text)!=null&&_.match($)))return W=!0,{...ie,text:ie.text.replace($,N)};if(ie.type==="list"&&Array.isArray(ie.items)){let re=!1;const I=ie.items.map(v=>v!=null&&v.match($)?(re=!0,v.replace($,N)):v);if(re)return W=!0,{...ie,items:I}}return ie});return W&&(z.lastEdited=P),{...z,content:F}})})},handleReorderDocuments:(ue,K)=>{(p==="gdd"?e:o)(P=>{const J=P||[],j=J.findIndex(W=>W.id===ue),ee=J.findIndex(W=>W.id===K);if(j===-1||ee===-1)return J;const $=J[j],N=J[ee];if($.category!==N.category)return J;const R=[...J];R.splice(j,1);const te=R.findIndex(W=>W.id===K);return R.splice(te,0,$),R})},handleReorderCategories:(ue,K)=>{(p==="gdd"?e:o)(P=>{const J=P||[],j=[...new Set(J.map(z=>z.category))],ee=j.indexOf(ue),$=j.indexOf(K);if(ee===-1||$===-1)return J;const N=[...j],[R]=N.splice(ee,1);N.splice($,0,R);const te=new Map;J.forEach(z=>{te.has(z.category)||te.set(z.category,[]),te.get(z.category).push(z)});const W=[];return N.forEach(z=>{const F=te.get(z)||[];W.push(...F)}),W})}}},h0="nil",s5=()=>{const[t,e]=Ue.useState(null),[r,o]=Ue.useState(null);return Ue.useEffect(()=>{if(window.opener&&window.location.hash.includes("access_token")){try{const d=new URLSearchParams(window.location.hash.substring(1)).get("access_token");d&&window.opener.handleGoogleAuthCallback&&window.opener.handleGoogleAuthCallback(d)}catch(c){console.error("Erro ao processar o callback de autenticação do Google:",c)}finally{window.close()}return}return window.handleGoogleAuthCallback=c=>{c&&e(c)},()=>{delete window.handleGoogleAuthCallback}},[]),{googleAccessToken:t,authError:r,handleGoogleAuthClick:()=>{if(o(null),h0.startsWith("SEU_ID_DE_CLIENTE_AQUI")){o("Por favor, configure o ID de Cliente do Google para usar a integração com o Google Drive.");return}let c;try{const S=window.top.location;c=`${S.protocol}//${S.host}${S.pathname}`}catch(S){console.warn("Não foi possível acessar window.top.location para determinar a URI de redirecionamento, recorrendo a window.location.",S);const E=window.location;c=`${E.protocol}//${E.host}${E.pathname}`}const h=`https://accounts.google.com/o/oauth2/v2/auth?scope=${encodeURIComponent("https://www.googleapis.com/auth/drive.file")}&include_granted_scopes=true&response_type=token&redirect_uri=${encodeURIComponent(c)}&client_id=${h0}`,p=600,m=700,y=(window.innerWidth-p)/2,x=(window.innerHeight-m)/2;window.open(h,"googleAuth",`width=${p},height=${m},left=${y},top=${x},resizable=yes,scrollbars=yes,status=yes`)}}};var a5=Object.defineProperty,l5=Object.defineProperties,u5=Object.getOwnPropertyDescriptors,p0=Object.getOwnPropertySymbols,c5=Object.prototype.hasOwnProperty,f5=Object.prototype.propertyIsEnumerable,hd=(t,e,r)=>e in t?a5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lt=(t,e)=>{for(var r in e||(e={}))c5.call(e,r)&&hd(t,r,e[r]);if(p0)for(var r of p0(e))f5.call(e,r)&&hd(t,r,e[r]);return t},So=(t,e)=>l5(t,u5(e)),Se=(t,e,r)=>(hd(t,typeof e!="symbol"?e+"":e,r),r),hl=(t,e,r)=>new Promise((o,a)=>{var c=p=>{try{h(r.next(p))}catch(m){a(m)}},d=p=>{try{h(r.throw(p))}catch(m){a(m)}},h=p=>p.done?o(p.value):Promise.resolve(p.value).then(c,d);h((r=r.apply(t,e)).next())});class Ul{constructor(e){Se(this,"rootKey"),this.rootKey=e}}const d5=Object.seal({});class Ee extends Ul{constructor(e){super(e),Se(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const o=this.root.map(a=>a instanceof Ul?a.prepForXml(e):a).filter(a=>a!==void 0);return e.stack.pop(),{[this.rootKey]:o.length?o.length===1&&((r=o[0])!=null&&r._attr)?o[0]:o:d5}}addChildElement(e){return this.root.push(e),this}}class Gl extends Ee{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Oe extends Ul{constructor(e){super("_attr"),Se(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.keys(this.root).forEach(o=>{const a=this.root[o];if(a!==void 0){const c=this.xmlKeys&&this.xmlKeys[o]||o;r[c]=a}}),{_attr:r}}}class ko extends Ul{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:o})=>o!==void 0).reduce((o,{key:a,value:c})=>So(lt({},o),{[a]:c}),{})}}}class Pt extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mw={},Rd={exports:{}},go=typeof Reflect=="object"?Reflect:null,m0=go&&typeof go.apply=="function"?go.apply:function(e,r,o){return Function.prototype.apply.call(e,r,o)},Al;go&&typeof go.ownKeys=="function"?Al=go.ownKeys:Object.getOwnPropertySymbols?Al=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Al=function(e){return Object.getOwnPropertyNames(e)};function h5(t){console&&console.warn&&console.warn(t)}var gw=Number.isNaN||function(e){return e!==e};function xt(){xt.init.call(this)}Rd.exports=xt;Rd.exports.once=y5;xt.EventEmitter=xt;xt.prototype._events=void 0;xt.prototype._eventsCount=0;xt.prototype._maxListeners=void 0;var g0=10;function zl(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(xt,"defaultMaxListeners",{enumerable:!0,get:function(){return g0},set:function(t){if(typeof t!="number"||t<0||gw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g0=t}});xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||gw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function yw(t){return t._maxListeners===void 0?xt.defaultMaxListeners:t._maxListeners}xt.prototype.getMaxListeners=function(){return yw(this)};xt.prototype.emit=function(e){for(var r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);var a=e==="error",c=this._events;if(c!==void 0)a=a&&c.error===void 0;else if(!a)return!1;if(a){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var p=c[e];if(p===void 0)return!1;if(typeof p=="function")m0(p,this,r);else for(var m=p.length,y=Sw(p,m),o=0;o<m;++o)m0(y[o],this,r);return!0};function vw(t,e,r,o){var a,c,d;if(zl(r),c=t._events,c===void 0?(c=t._events=Object.create(null),t._eventsCount=0):(c.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),c=t._events),d=c[e]),d===void 0)d=c[e]=r,++t._eventsCount;else if(typeof d=="function"?d=c[e]=o?[r,d]:[d,r]:o?d.unshift(r):d.push(r),a=yw(t),a>0&&d.length>a&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=d.length,h5(h)}return t}xt.prototype.addListener=function(e,r){return vw(this,e,r,!1)};xt.prototype.on=xt.prototype.addListener;xt.prototype.prependListener=function(e,r){return vw(this,e,r,!0)};function p5(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ww(t,e,r){var o={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=p5.bind(o);return a.listener=r,o.wrapFn=a,a}xt.prototype.once=function(e,r){return zl(r),this.on(e,ww(this,e,r)),this};xt.prototype.prependOnceListener=function(e,r){return zl(r),this.prependListener(e,ww(this,e,r)),this};xt.prototype.removeListener=function(e,r){var o,a,c,d,h;if(zl(r),a=this._events,a===void 0)return this;if(o=a[e],o===void 0)return this;if(o===r||o.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,o.listener||r));else if(typeof o!="function"){for(c=-1,d=o.length-1;d>=0;d--)if(o[d]===r||o[d].listener===r){h=o[d].listener,c=d;break}if(c<0)return this;c===0?o.shift():m5(o,c),o.length===1&&(a[e]=o[0]),a.removeListener!==void 0&&this.emit("removeListener",e,h||r)}return this};xt.prototype.off=xt.prototype.removeListener;xt.prototype.removeAllListeners=function(e){var r,o,a;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[e]),this;if(arguments.length===0){var c=Object.keys(o),d;for(a=0;a<c.length;++a)d=c[a],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=o[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function xw(t,e,r){var o=t._events;if(o===void 0)return[];var a=o[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?g5(a):Sw(a,a.length)}xt.prototype.listeners=function(e){return xw(this,e,!0)};xt.prototype.rawListeners=function(e){return xw(this,e,!1)};xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Tw.call(t,e)};xt.prototype.listenerCount=Tw;function Tw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}xt.prototype.eventNames=function(){return this._eventsCount>0?Al(this._events):[]};function Sw(t,e){for(var r=new Array(e),o=0;o<e;++o)r[o]=t[o];return r}function m5(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function g5(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function y5(t,e){return new Promise(function(r,o){function a(d){t.removeListener(e,c),o(d)}function c(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}Ew(t,e,c,{once:!0}),e!=="error"&&v5(t,a,{once:!0})})}function v5(t,e,r){typeof t.on=="function"&&Ew(t,"error",e,r)}function Ew(t,e,r,o){if(typeof t.on=="function")o.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(c){o.once&&t.removeEventListener(e,a),r(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Nd=Rd.exports,pd={exports:{}};typeof Object.create=="function"?pd.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:pd.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}};var Si=pd.exports;function w5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _w={exports:{}},Ot=_w.exports={},$n,Xn;function md(){throw new Error("setTimeout has not been defined")}function gd(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?$n=setTimeout:$n=md}catch{$n=md}try{typeof clearTimeout=="function"?Xn=clearTimeout:Xn=gd}catch{Xn=gd}})();function bw(t){if($n===setTimeout)return setTimeout(t,0);if(($n===md||!$n)&&setTimeout)return $n=setTimeout,setTimeout(t,0);try{return $n(t,0)}catch{try{return $n.call(null,t,0)}catch{return $n.call(this,t,0)}}}function x5(t){if(Xn===clearTimeout)return clearTimeout(t);if((Xn===gd||!Xn)&&clearTimeout)return Xn=clearTimeout,clearTimeout(t);try{return Xn(t)}catch{try{return Xn.call(null,t)}catch{return Xn.call(this,t)}}}var yr=[],yo=!1,yi,Rl=-1;function T5(){!yo||!yi||(yo=!1,yi.length?yr=yi.concat(yr):Rl=-1,yr.length&&Cw())}function Cw(){if(!yo){var t=bw(T5);yo=!0;for(var e=yr.length;e;){for(yi=yr,yr=[];++Rl<e;)yi&&yi[Rl].run();Rl=-1,e=yr.length}yi=null,yo=!1,x5(t)}}Ot.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];yr.push(new Aw(t,e)),yr.length===1&&!yo&&bw(Cw)};function Aw(t,e){this.fun=t,this.array=e}Aw.prototype.run=function(){this.fun.apply(null,this.array)};Ot.title="browser";Ot.browser=!0;Ot.env={};Ot.argv=[];Ot.version="";Ot.versions={};function wr(){}Ot.on=wr;Ot.addListener=wr;Ot.once=wr;Ot.off=wr;Ot.removeListener=wr;Ot.removeAllListeners=wr;Ot.emit=wr;Ot.prependListener=wr;Ot.prependOnceListener=wr;Ot.listeners=function(t){return[]};Ot.binding=function(t){throw new Error("process.binding is not supported")};Ot.cwd=function(){return"/"};Ot.chdir=function(t){throw new Error("process.chdir is not supported")};Ot.umask=function(){return 0};var S5=_w.exports;const et=w5(S5);var cf,y0;function Rw(){return y0||(y0=1,cf=Nd.EventEmitter),cf}var ff={},Fs={},v0;function E5(){if(v0)return Fs;v0=1,Fs.byteLength=h,Fs.toByteArray=m,Fs.fromByteArray=S;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)t[a]=o[a],e[o.charCodeAt(a)]=a;e[45]=62,e[95]=63;function d(E){var D=E.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=E.indexOf("=");A===-1&&(A=D);var U=A===D?0:4-A%4;return[A,U]}function h(E){var D=d(E),A=D[0],U=D[1];return(A+U)*3/4-U}function p(E,D,A){return(D+A)*3/4-A}function m(E){var D,A=d(E),U=A[0],C=A[1],M=new r(p(E,U,C)),O=0,H=C>0?U-4:U,q;for(q=0;q<H;q+=4)D=e[E.charCodeAt(q)]<<18|e[E.charCodeAt(q+1)]<<12|e[E.charCodeAt(q+2)]<<6|e[E.charCodeAt(q+3)],M[O++]=D>>16&255,M[O++]=D>>8&255,M[O++]=D&255;return C===2&&(D=e[E.charCodeAt(q)]<<2|e[E.charCodeAt(q+1)]>>4,M[O++]=D&255),C===1&&(D=e[E.charCodeAt(q)]<<10|e[E.charCodeAt(q+1)]<<4|e[E.charCodeAt(q+2)]>>2,M[O++]=D>>8&255,M[O++]=D&255),M}function y(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function x(E,D,A){for(var U,C=[],M=D;M<A;M+=3)U=(E[M]<<16&16711680)+(E[M+1]<<8&65280)+(E[M+2]&255),C.push(y(U));return C.join("")}function S(E){for(var D,A=E.length,U=A%3,C=[],M=16383,O=0,H=A-U;O<H;O+=M)C.push(x(E,O,O+M>H?H:O+M));return U===1?(D=E[A-1],C.push(t[D>>2]+t[D<<4&63]+"==")):U===2&&(D=(E[A-2]<<8)+E[A-1],C.push(t[D>>10]+t[D>>4&63]+t[D<<2&63]+"=")),C.join("")}return Fs}var pl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var w0;function _5(){return w0||(w0=1,pl.read=function(t,e,r,o,a){var c,d,h=a*8-o-1,p=(1<<h)-1,m=p>>1,y=-7,x=r?a-1:0,S=r?-1:1,E=t[e+x];for(x+=S,c=E&(1<<-y)-1,E>>=-y,y+=h;y>0;c=c*256+t[e+x],x+=S,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=o;y>0;d=d*256+t[e+x],x+=S,y-=8);if(c===0)c=1-m;else{if(c===p)return d?NaN:(E?-1:1)*(1/0);d=d+Math.pow(2,o),c=c-m}return(E?-1:1)*d*Math.pow(2,c-o)},pl.write=function(t,e,r,o,a,c){var d,h,p,m=c*8-a-1,y=(1<<m)-1,x=y>>1,S=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=o?0:c-1,D=o?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,d=y):(d=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-d))<1&&(d--,p*=2),d+x>=1?e+=S/p:e+=S*Math.pow(2,1-x),e*p>=2&&(d++,p/=2),d+x>=y?(h=0,d=y):d+x>=1?(h=(e*p-1)*Math.pow(2,a),d=d+x):(h=e*Math.pow(2,x-1)*Math.pow(2,a),d=0));a>=8;t[r+E]=h&255,E+=D,h/=256,a-=8);for(d=d<<a|h,m+=a;m>0;t[r+E]=d&255,E+=D,d/=256,m-=8);t[r+E-D]|=A*128}),pl}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var x0;function Vl(){return x0||(x0=1,(function(t){var e=E5(),r=_5(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=M,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var I=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(I,v),I.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(I){if(I>a)throw new RangeError('The value "'+I+'" is invalid for option "size"');var v=new Uint8Array(I);return Object.setPrototypeOf(v,h.prototype),v}function h(I,v,T){if(typeof I=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(I)}return p(I,v,T)}h.poolSize=8192;function p(I,v,T){if(typeof I=="string")return S(I,v);if(ArrayBuffer.isView(I))return D(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(ie(I,ArrayBuffer)||I&&ie(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(I,SharedArrayBuffer)||I&&ie(I.buffer,SharedArrayBuffer)))return A(I,v,T);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var b=I.valueOf&&I.valueOf();if(b!=null&&b!==I)return h.from(b,v,T);var X=U(I);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return h.from(I[Symbol.toPrimitive]("string"),v,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}h.from=function(I,v,T){return p(I,v,T)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function y(I,v,T){return m(I),I<=0?d(I):v!==void 0?typeof T=="string"?d(I).fill(v,T):d(I).fill(v):d(I)}h.alloc=function(I,v,T){return y(I,v,T)};function x(I){return m(I),d(I<0?0:C(I)|0)}h.allocUnsafe=function(I){return x(I)},h.allocUnsafeSlow=function(I){return x(I)};function S(I,v){if((typeof v!="string"||v==="")&&(v="utf8"),!h.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var T=O(I,v)|0,b=d(T),X=b.write(I,v);return X!==T&&(b=b.slice(0,X)),b}function E(I){for(var v=I.length<0?0:C(I.length)|0,T=d(v),b=0;b<v;b+=1)T[b]=I[b]&255;return T}function D(I){if(ie(I,Uint8Array)){var v=new Uint8Array(I);return A(v.buffer,v.byteOffset,v.byteLength)}return E(I)}function A(I,v,T){if(v<0||I.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<v+(T||0))throw new RangeError('"length" is outside of buffer bounds');var b;return v===void 0&&T===void 0?b=new Uint8Array(I):T===void 0?b=new Uint8Array(I,v):b=new Uint8Array(I,v,T),Object.setPrototypeOf(b,h.prototype),b}function U(I){if(h.isBuffer(I)){var v=C(I.length)|0,T=d(v);return T.length===0||I.copy(T,0,0,v),T}if(I.length!==void 0)return typeof I.length!="number"||_(I.length)?d(0):E(I);if(I.type==="Buffer"&&Array.isArray(I.data))return E(I.data)}function C(I){if(I>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return I|0}function M(I){return+I!=I&&(I=0),h.alloc(+I)}h.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==h.prototype},h.compare=function(v,T){if(ie(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),ie(T,Uint8Array)&&(T=h.from(T,T.offset,T.byteLength)),!h.isBuffer(v)||!h.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===T)return 0;for(var b=v.length,X=T.length,ne=0,Q=Math.min(b,X);ne<Q;++ne)if(v[ne]!==T[ne]){b=v[ne],X=T[ne];break}return b<X?-1:X<b?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,T){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return h.alloc(0);var b;if(T===void 0)for(T=0,b=0;b<v.length;++b)T+=v[b].length;var X=h.allocUnsafe(T),ne=0;for(b=0;b<v.length;++b){var Q=v[b];if(ie(Q,Uint8Array))ne+Q.length>X.length?h.from(Q).copy(X,ne):Uint8Array.prototype.set.call(X,Q,ne);else if(h.isBuffer(Q))Q.copy(X,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=Q.length}return X};function O(I,v){if(h.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||ie(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var T=I.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&T===0)return 0;for(var X=!1;;)switch(v){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return R(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return z(I).length;default:if(X)return b?-1:R(I).length;v=(""+v).toLowerCase(),X=!0}}h.byteLength=O;function H(I,v,T){var b=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,v>>>=0,T<=v))return"";for(I||(I="utf8");;)switch(I){case"hex":return ue(this,v,T);case"utf8":case"utf-8":return B(this,v,T);case"ascii":return se(this,v,T);case"latin1":case"binary":return Ce(this,v,T);case"base64":return pe(this,v,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,v,T);default:if(b)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),b=!0}}h.prototype._isBuffer=!0;function q(I,v,T){var b=I[v];I[v]=I[T],I[T]=b}h.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<v;T+=2)q(this,T,T+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<v;T+=4)q(this,T,T+3),q(this,T+1,T+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<v;T+=8)q(this,T,T+7),q(this,T+1,T+6),q(this,T+2,T+5),q(this,T+3,T+4);return this},h.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?B(this,0,v):H.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:h.compare(this,v)===0},h.prototype.inspect=function(){var v="",T=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(v+=" ... "),"<Buffer "+v+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(v,T,b,X,ne){if(ie(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),!h.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(T===void 0&&(T=0),b===void 0&&(b=v?v.length:0),X===void 0&&(X=0),ne===void 0&&(ne=this.length),T<0||b>v.length||X<0||ne>this.length)throw new RangeError("out of range index");if(X>=ne&&T>=b)return 0;if(X>=ne)return-1;if(T>=b)return 1;if(T>>>=0,b>>>=0,X>>>=0,ne>>>=0,this===v)return 0;for(var Q=ne-X,ge=b-T,De=Math.min(Q,ge),be=this.slice(X,ne),ke=v.slice(T,b),Le=0;Le<De;++Le)if(be[Le]!==ke[Le]){Q=be[Le],ge=ke[Le];break}return Q<ge?-1:ge<Q?1:0};function ce(I,v,T,b,X){if(I.length===0)return-1;if(typeof T=="string"?(b=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,_(T)&&(T=X?0:I.length-1),T<0&&(T=I.length+T),T>=I.length){if(X)return-1;T=I.length-1}else if(T<0)if(X)T=0;else return-1;if(typeof v=="string"&&(v=h.from(v,b)),h.isBuffer(v))return v.length===0?-1:ae(I,v,T,b,X);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(I,v,T):Uint8Array.prototype.lastIndexOf.call(I,v,T):ae(I,[v],T,b,X);throw new TypeError("val must be string, number or Buffer")}function ae(I,v,T,b,X){var ne=1,Q=I.length,ge=v.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(I.length<2||v.length<2)return-1;ne=2,Q/=2,ge/=2,T/=2}function De(Xe,Rt){return ne===1?Xe[Rt]:Xe.readUInt16BE(Rt*ne)}var be;if(X){var ke=-1;for(be=T;be<Q;be++)if(De(I,be)===De(v,ke===-1?0:be-ke)){if(ke===-1&&(ke=be),be-ke+1===ge)return ke*ne}else ke!==-1&&(be-=be-ke),ke=-1}else for(T+ge>Q&&(T=Q-ge),be=T;be>=0;be--){for(var Le=!0,ze=0;ze<ge;ze++)if(De(I,be+ze)!==De(v,ze)){Le=!1;break}if(Le)return be}return-1}h.prototype.includes=function(v,T,b){return this.indexOf(v,T,b)!==-1},h.prototype.indexOf=function(v,T,b){return ce(this,v,T,b,!0)},h.prototype.lastIndexOf=function(v,T,b){return ce(this,v,T,b,!1)};function de(I,v,T,b){T=Number(T)||0;var X=I.length-T;b?(b=Number(b),b>X&&(b=X)):b=X;var ne=v.length;b>ne/2&&(b=ne/2);for(var Q=0;Q<b;++Q){var ge=parseInt(v.substr(Q*2,2),16);if(_(ge))return Q;I[T+Q]=ge}return Q}function G(I,v,T,b){return F(R(v,I.length-T),I,T,b)}function Te(I,v,T,b){return F(te(v),I,T,b)}function Re(I,v,T,b){return F(z(v),I,T,b)}function Z(I,v,T,b){return F(W(v,I.length-T),I,T,b)}h.prototype.write=function(v,T,b,X){if(T===void 0)X="utf8",b=this.length,T=0;else if(b===void 0&&typeof T=="string")X=T,b=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(b)?(b=b>>>0,X===void 0&&(X="utf8")):(X=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-T;if((b===void 0||b>ne)&&(b=ne),v.length>0&&(b<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var Q=!1;;)switch(X){case"hex":return de(this,v,T,b);case"utf8":case"utf-8":return G(this,v,T,b);case"ascii":case"latin1":case"binary":return Te(this,v,T,b);case"base64":return Re(this,v,T,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,v,T,b);default:if(Q)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),Q=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(I,v,T){return v===0&&T===I.length?e.fromByteArray(I):e.fromByteArray(I.slice(v,T))}function B(I,v,T){T=Math.min(I.length,T);for(var b=[],X=v;X<T;){var ne=I[X],Q=null,ge=ne>239?4:ne>223?3:ne>191?2:1;if(X+ge<=T){var De,be,ke,Le;switch(ge){case 1:ne<128&&(Q=ne);break;case 2:De=I[X+1],(De&192)===128&&(Le=(ne&31)<<6|De&63,Le>127&&(Q=Le));break;case 3:De=I[X+1],be=I[X+2],(De&192)===128&&(be&192)===128&&(Le=(ne&15)<<12|(De&63)<<6|be&63,Le>2047&&(Le<55296||Le>57343)&&(Q=Le));break;case 4:De=I[X+1],be=I[X+2],ke=I[X+3],(De&192)===128&&(be&192)===128&&(ke&192)===128&&(Le=(ne&15)<<18|(De&63)<<12|(be&63)<<6|ke&63,Le>65535&&Le<1114112&&(Q=Le))}}Q===null?(Q=65533,ge=1):Q>65535&&(Q-=65536,b.push(Q>>>10&1023|55296),Q=56320|Q&1023),b.push(Q),X+=ge}return le(b)}var he=4096;function le(I){var v=I.length;if(v<=he)return String.fromCharCode.apply(String,I);for(var T="",b=0;b<v;)T+=String.fromCharCode.apply(String,I.slice(b,b+=he));return T}function se(I,v,T){var b="";T=Math.min(I.length,T);for(var X=v;X<T;++X)b+=String.fromCharCode(I[X]&127);return b}function Ce(I,v,T){var b="";T=Math.min(I.length,T);for(var X=v;X<T;++X)b+=String.fromCharCode(I[X]);return b}function ue(I,v,T){var b=I.length;(!v||v<0)&&(v=0),(!T||T<0||T>b)&&(T=b);for(var X="",ne=v;ne<T;++ne)X+=re[I[ne]];return X}function K(I,v,T){for(var b=I.slice(v,T),X="",ne=0;ne<b.length-1;ne+=2)X+=String.fromCharCode(b[ne]+b[ne+1]*256);return X}h.prototype.slice=function(v,T){var b=this.length;v=~~v,T=T===void 0?b:~~T,v<0?(v+=b,v<0&&(v=0)):v>b&&(v=b),T<0?(T+=b,T<0&&(T=0)):T>b&&(T=b),T<v&&(T=v);var X=this.subarray(v,T);return Object.setPrototypeOf(X,h.prototype),X};function Y(I,v,T){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+v>T)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(v,T,b){v=v>>>0,T=T>>>0,b||Y(v,T,this.length);for(var X=this[v],ne=1,Q=0;++Q<T&&(ne*=256);)X+=this[v+Q]*ne;return X},h.prototype.readUintBE=h.prototype.readUIntBE=function(v,T,b){v=v>>>0,T=T>>>0,b||Y(v,T,this.length);for(var X=this[v+--T],ne=1;T>0&&(ne*=256);)X+=this[v+--T]*ne;return X},h.prototype.readUint8=h.prototype.readUInt8=function(v,T){return v=v>>>0,T||Y(v,1,this.length),this[v]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(v,T){return v=v>>>0,T||Y(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(v,T){return v=v>>>0,T||Y(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,T,b){v=v>>>0,T=T>>>0,b||Y(v,T,this.length);for(var X=this[v],ne=1,Q=0;++Q<T&&(ne*=256);)X+=this[v+Q]*ne;return ne*=128,X>=ne&&(X-=Math.pow(2,8*T)),X},h.prototype.readIntBE=function(v,T,b){v=v>>>0,T=T>>>0,b||Y(v,T,this.length);for(var X=T,ne=1,Q=this[v+--X];X>0&&(ne*=256);)Q+=this[v+--X]*ne;return ne*=128,Q>=ne&&(Q-=Math.pow(2,8*T)),Q},h.prototype.readInt8=function(v,T){return v=v>>>0,T||Y(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},h.prototype.readInt16LE=function(v,T){v=v>>>0,T||Y(v,2,this.length);var b=this[v]|this[v+1]<<8;return b&32768?b|4294901760:b},h.prototype.readInt16BE=function(v,T){v=v>>>0,T||Y(v,2,this.length);var b=this[v+1]|this[v]<<8;return b&32768?b|4294901760:b},h.prototype.readInt32LE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),r.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,T){return v=v>>>0,T||Y(v,4,this.length),r.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,T){return v=v>>>0,T||Y(v,8,this.length),r.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,T){return v=v>>>0,T||Y(v,8,this.length),r.read(this,v,!1,52,8)};function P(I,v,T,b,X,ne){if(!h.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>X||v<ne)throw new RangeError('"value" argument is out of bounds');if(T+b>I.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(v,T,b,X){if(v=+v,T=T>>>0,b=b>>>0,!X){var ne=Math.pow(2,8*b)-1;P(this,v,T,b,ne,0)}var Q=1,ge=0;for(this[T]=v&255;++ge<b&&(Q*=256);)this[T+ge]=v/Q&255;return T+b},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(v,T,b,X){if(v=+v,T=T>>>0,b=b>>>0,!X){var ne=Math.pow(2,8*b)-1;P(this,v,T,b,ne,0)}var Q=b-1,ge=1;for(this[T+Q]=v&255;--Q>=0&&(ge*=256);)this[T+Q]=v/ge&255;return T+b},h.prototype.writeUint8=h.prototype.writeUInt8=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,1,255,0),this[T]=v&255,T+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,2,65535,0),this[T]=v&255,this[T+1]=v>>>8,T+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,2,65535,0),this[T]=v>>>8,this[T+1]=v&255,T+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,4,4294967295,0),this[T+3]=v>>>24,this[T+2]=v>>>16,this[T+1]=v>>>8,this[T]=v&255,T+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,4,4294967295,0),this[T]=v>>>24,this[T+1]=v>>>16,this[T+2]=v>>>8,this[T+3]=v&255,T+4},h.prototype.writeIntLE=function(v,T,b,X){if(v=+v,T=T>>>0,!X){var ne=Math.pow(2,8*b-1);P(this,v,T,b,ne-1,-ne)}var Q=0,ge=1,De=0;for(this[T]=v&255;++Q<b&&(ge*=256);)v<0&&De===0&&this[T+Q-1]!==0&&(De=1),this[T+Q]=(v/ge>>0)-De&255;return T+b},h.prototype.writeIntBE=function(v,T,b,X){if(v=+v,T=T>>>0,!X){var ne=Math.pow(2,8*b-1);P(this,v,T,b,ne-1,-ne)}var Q=b-1,ge=1,De=0;for(this[T+Q]=v&255;--Q>=0&&(ge*=256);)v<0&&De===0&&this[T+Q+1]!==0&&(De=1),this[T+Q]=(v/ge>>0)-De&255;return T+b},h.prototype.writeInt8=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,1,127,-128),v<0&&(v=255+v+1),this[T]=v&255,T+1},h.prototype.writeInt16LE=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,2,32767,-32768),this[T]=v&255,this[T+1]=v>>>8,T+2},h.prototype.writeInt16BE=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,2,32767,-32768),this[T]=v>>>8,this[T+1]=v&255,T+2},h.prototype.writeInt32LE=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,4,2147483647,-2147483648),this[T]=v&255,this[T+1]=v>>>8,this[T+2]=v>>>16,this[T+3]=v>>>24,T+4},h.prototype.writeInt32BE=function(v,T,b){return v=+v,T=T>>>0,b||P(this,v,T,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[T]=v>>>24,this[T+1]=v>>>16,this[T+2]=v>>>8,this[T+3]=v&255,T+4};function J(I,v,T,b,X,ne){if(T+b>I.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function j(I,v,T,b,X){return v=+v,T=T>>>0,X||J(I,v,T,4),r.write(I,v,T,b,23,4),T+4}h.prototype.writeFloatLE=function(v,T,b){return j(this,v,T,!0,b)},h.prototype.writeFloatBE=function(v,T,b){return j(this,v,T,!1,b)};function ee(I,v,T,b,X){return v=+v,T=T>>>0,X||J(I,v,T,8),r.write(I,v,T,b,52,8),T+8}h.prototype.writeDoubleLE=function(v,T,b){return ee(this,v,T,!0,b)},h.prototype.writeDoubleBE=function(v,T,b){return ee(this,v,T,!1,b)},h.prototype.copy=function(v,T,b,X){if(!h.isBuffer(v))throw new TypeError("argument should be a Buffer");if(b||(b=0),!X&&X!==0&&(X=this.length),T>=v.length&&(T=v.length),T||(T=0),X>0&&X<b&&(X=b),X===b||v.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),v.length-T<X-b&&(X=v.length-T+b);var ne=X-b;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,b,X):Uint8Array.prototype.set.call(v,this.subarray(b,X),T),ne},h.prototype.fill=function(v,T,b,X){if(typeof v=="string"){if(typeof T=="string"?(X=T,T=0,b=this.length):typeof b=="string"&&(X=b,b=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!h.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(v.length===1){var ne=v.charCodeAt(0);(X==="utf8"&&ne<128||X==="latin1")&&(v=ne)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(T<0||this.length<T||this.length<b)throw new RangeError("Out of range index");if(b<=T)return this;T=T>>>0,b=b===void 0?this.length:b>>>0,v||(v=0);var Q;if(typeof v=="number")for(Q=T;Q<b;++Q)this[Q]=v;else{var ge=h.isBuffer(v)?v:h.from(v,X),De=ge.length;if(De===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(Q=0;Q<b-T;++Q)this[Q+T]=ge[Q%De]}return this};var $=/[^+/0-9A-Za-z-_]/g;function N(I){if(I=I.split("=")[0],I=I.trim().replace($,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function R(I,v){v=v||1/0;for(var T,b=I.length,X=null,ne=[],Q=0;Q<b;++Q){if(T=I.charCodeAt(Q),T>55295&&T<57344){if(!X){if(T>56319){(v-=3)>-1&&ne.push(239,191,189);continue}else if(Q+1===b){(v-=3)>-1&&ne.push(239,191,189);continue}X=T;continue}if(T<56320){(v-=3)>-1&&ne.push(239,191,189),X=T;continue}T=(X-55296<<10|T-56320)+65536}else X&&(v-=3)>-1&&ne.push(239,191,189);if(X=null,T<128){if((v-=1)<0)break;ne.push(T)}else if(T<2048){if((v-=2)<0)break;ne.push(T>>6|192,T&63|128)}else if(T<65536){if((v-=3)<0)break;ne.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((v-=4)<0)break;ne.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ne}function te(I){for(var v=[],T=0;T<I.length;++T)v.push(I.charCodeAt(T)&255);return v}function W(I,v){for(var T,b,X,ne=[],Q=0;Q<I.length&&!((v-=2)<0);++Q)T=I.charCodeAt(Q),b=T>>8,X=T%256,ne.push(X),ne.push(b);return ne}function z(I){return e.toByteArray(N(I))}function F(I,v,T,b){for(var X=0;X<b&&!(X+T>=v.length||X>=I.length);++X)v[X+T]=I[X];return X}function ie(I,v){return I instanceof v||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===v.name}function _(I){return I!==I}var re=(function(){for(var I="0123456789abcdef",v=new Array(256),T=0;T<16;++T)for(var b=T*16,X=0;X<16;++X)v[b+X]=I[T]+I[X];return v})()})(ff)),ff}var df={},hf={},pf,T0;function Nw(){return T0||(T0=1,pf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,r);if(d.value!==a||d.enumerable!==!0)return!1}return!0}),pf}var mf,S0;function Dd(){if(S0)return mf;S0=1;var t=Nw();return mf=function(){return t()&&!!Symbol.toStringTag},mf}var gf,E0;function b5(){if(E0)return gf;E0=1;var t=typeof Symbol<"u"&&Symbol,e=Nw();return gf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},gf}var yf,_0;function C5(){if(_0)return yf;_0=1;var t={foo:{}},e=Object;return yf=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},yf}var vf,b0;function A5(){if(b0)return vf;b0=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,o="[object Function]",a=function(p,m){for(var y=[],x=0;x<p.length;x+=1)y[x]=p[x];for(var S=0;S<m.length;S+=1)y[S+p.length]=m[S];return y},c=function(p,m){for(var y=[],x=m,S=0;x<p.length;x+=1,S+=1)y[S]=p[x];return y},d=function(h,p){for(var m="",y=0;y<h.length;y+=1)m+=h[y],y+1<h.length&&(m+=p);return m};return vf=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==o)throw new TypeError(t+m);for(var y=c(arguments,1),x,S=function(){if(this instanceof x){var C=m.apply(this,a(y,arguments));return Object(C)===C?C:this}return m.apply(p,a(y,arguments))},E=r(0,m.length-y.length),D=[],A=0;A<E;A++)D[A]="$"+A;if(x=Function("binder","return function ("+d(D,",")+"){ return binder.apply(this,arguments); }")(S),m.prototype){var U=function(){};U.prototype=m.prototype,x.prototype=new U,U.prototype=null}return x},vf}var wf,C0;function Md(){if(C0)return wf;C0=1;var t=A5();return wf=Function.prototype.bind||t,wf}var xf,A0;function R5(){if(A0)return xf;A0=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Md();return xf=r.call(t,e),xf}var Tf,R0;function Uo(){if(R0)return Tf;R0=1;var t,e=SyntaxError,r=Function,o=TypeError,a=function(Z){try{return r('"use strict"; return ('+Z+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var d=function(){throw new o},h=c?(function(){try{return arguments.callee,d}catch{try{return c(arguments,"callee").get}catch{return d}}})():d,p=b5()(),m=C5()(),y=Object.getPrototypeOf||(m?function(Z){return Z.__proto__}:null),x={},S=typeof Uint8Array>"u"||!y?t:y(Uint8Array),E={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":p&&y?y([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":x,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&y?y(y([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!p||!y?t:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!p||!y?t:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&y?y(""[Symbol.iterator]()):t,"%Symbol%":p?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":h,"%TypedArray%":S,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(y)try{null.error}catch(Z){var D=y(y(Z));E["%Error.prototype%"]=D}var A=function Z(pe){var B;if(pe==="%AsyncFunction%")B=a("async function () {}");else if(pe==="%GeneratorFunction%")B=a("function* () {}");else if(pe==="%AsyncGeneratorFunction%")B=a("async function* () {}");else if(pe==="%AsyncGenerator%"){var he=Z("%AsyncGeneratorFunction%");he&&(B=he.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var le=Z("%AsyncGenerator%");le&&y&&(B=y(le.prototype))}return E[pe]=B,B},U={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Md(),M=R5(),O=C.call(Function.call,Array.prototype.concat),H=C.call(Function.apply,Array.prototype.splice),q=C.call(Function.call,String.prototype.replace),ce=C.call(Function.call,String.prototype.slice),ae=C.call(Function.call,RegExp.prototype.exec),de=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,Te=function(pe){var B=ce(pe,0,1),he=ce(pe,-1);if(B==="%"&&he!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(he==="%"&&B!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var le=[];return q(pe,de,function(se,Ce,ue,K){le[le.length]=ue?q(K,G,"$1"):Ce||se}),le},Re=function(pe,B){var he=pe,le;if(M(U,he)&&(le=U[he],he="%"+le[0]+"%"),M(E,he)){var se=E[he];if(se===x&&(se=A(he)),typeof se>"u"&&!B)throw new o("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:le,name:he,value:se}}throw new e("intrinsic "+pe+" does not exist!")};return Tf=function(pe,B){if(typeof pe!="string"||pe.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new o('"allowMissing" argument must be a boolean');if(ae(/^%?[^%]*%?$/,pe)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var he=Te(pe),le=he.length>0?he[0]:"",se=Re("%"+le+"%",B),Ce=se.name,ue=se.value,K=!1,Y=se.alias;Y&&(le=Y[0],H(he,O([0,1],Y)));for(var P=1,J=!0;P<he.length;P+=1){var j=he[P],ee=ce(j,0,1),$=ce(j,-1);if((ee==='"'||ee==="'"||ee==="`"||$==='"'||$==="'"||$==="`")&&ee!==$)throw new e("property names with quotes must have matching quotes");if((j==="constructor"||!J)&&(K=!0),le+="."+j,Ce="%"+le+"%",M(E,Ce))ue=E[Ce];else if(ue!=null){if(!(j in ue)){if(!B)throw new o("base intrinsic for "+pe+" exists, but the property is not available.");return}if(c&&P+1>=he.length){var N=c(ue,j);J=!!N,J&&"get"in N&&!("originalValue"in N.get)?ue=N.get:ue=ue[j]}else J=M(ue,j),ue=ue[j];J&&!K&&(E[Ce]=ue)}}return ue},Tf}var Sf={exports:{}},Ef,N0;function Dw(){if(N0)return Ef;N0=1;var t=Uo(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},Ef=r,Ef}var _f,D0;function Id(){if(D0)return _f;D0=1;var t=Uo(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return _f=e,_f}var bf,M0;function N5(){if(M0)return bf;M0=1;var t=Dw()(),e=Uo(),r=t&&e("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var o=e("%SyntaxError%"),a=e("%TypeError%"),c=Id();return bf=function(h,p,m){if(!h||typeof h!="object"&&typeof h!="function")throw new a("`obj` must be an object or a function`");if(typeof p!="string"&&typeof p!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var y=arguments.length>3?arguments[3]:null,x=arguments.length>4?arguments[4]:null,S=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,D=!!c&&c(h,p);if(r)r(h,p,{configurable:S===null&&D?D.configurable:!S,enumerable:y===null&&D?D.enumerable:!y,value:m,writable:x===null&&D?D.writable:!x});else if(E||!y&&!x&&!S)h[p]=m;else throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},bf}var Cf,I0;function D5(){if(I0)return Cf;I0=1;var t=Uo(),e=N5(),r=Dw()(),o=Id(),a=t("%TypeError%"),c=t("%Math.floor%");return Cf=function(h,p){if(typeof h!="function")throw new a("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||c(p)!==p)throw new a("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],y=!0,x=!0;if("length"in h&&o){var S=o(h,"length");S&&!S.configurable&&(y=!1),S&&!S.writable&&(x=!1)}return(y||x||!m)&&(r?e(h,"length",p,!0,!0):e(h,"length",p)),h},Cf}var k0;function Mw(){return k0||(k0=1,(function(t){var e=Md(),r=Uo(),o=D5(),a=r("%TypeError%"),c=r("%Function.prototype.apply%"),d=r("%Function.prototype.call%"),h=r("%Reflect.apply%",!0)||e.call(d,c),p=r("%Object.defineProperty%",!0),m=r("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}t.exports=function(S){if(typeof S!="function")throw new a("a function is required");var E=h(e,d,arguments);return o(E,1+m(0,S.length-(arguments.length-1)),!0)};var y=function(){return h(e,c,arguments)};p?p(t.exports,"apply",{value:y}):t.exports.apply=y})(Sf)),Sf.exports}var Af,U0;function Iw(){if(U0)return Af;U0=1;var t=Uo(),e=Mw(),r=e(t("String.prototype.indexOf"));return Af=function(a,c){var d=t(a,!!c);return typeof d=="function"&&r(a,".prototype.")>-1?e(d):d},Af}var Rf,L0;function M5(){if(L0)return Rf;L0=1;var t=Dd()(),e=Iw(),r=e("Object.prototype.toString"),o=function(h){return t&&h&&typeof h=="object"&&Symbol.toStringTag in h?!1:r(h)==="[object Arguments]"},a=function(h){return o(h)?!0:h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&r(h)!=="[object Array]"&&r(h.callee)==="[object Function]"},c=(function(){return o(arguments)})();return o.isLegacyArguments=a,Rf=c?o:a,Rf}var Nf,B0;function I5(){if(B0)return Nf;B0=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,o=Dd()(),a=Object.getPrototypeOf,c=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},d;return Nf=function(p){if(typeof p!="function")return!1;if(r.test(e.call(p)))return!0;if(!o){var m=t.call(p);return m==="[object GeneratorFunction]"}if(!a)return!1;if(typeof d>"u"){var y=c();d=y?a(y):!1}return a(p)===d},Nf}var Df,P0;function k5(){if(P0)return Df;P0=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,r)}catch(M){M!==o&&(e=null)}else e=null;var a=/^\s*class\b/,c=function(O){try{var H=t.call(O);return a.test(H)}catch{return!1}},d=function(O){try{return c(O)?!1:(t.call(O),!0)}catch{return!1}},h=Object.prototype.toString,p="[object Object]",m="[object Function]",y="[object GeneratorFunction]",x="[object HTMLAllCollection]",S="[object HTML document.all class]",E="[object HTMLCollection]",D=typeof Symbol=="function"&&!!Symbol.toStringTag,A=!(0 in[,]),U=function(){return!1};if(typeof document=="object"){var C=document.all;h.call(C)===h.call(document.all)&&(U=function(O){if((A||!O)&&(typeof O>"u"||typeof O=="object"))try{var H=h.call(O);return(H===x||H===S||H===E||H===p)&&O("")==null}catch{}return!1})}return Df=e?function(O){if(U(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;try{e(O,null,r)}catch(H){if(H!==o)return!1}return!c(O)&&d(O)}:function(O){if(U(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;if(D)return d(O);if(c(O))return!1;var H=h.call(O);return H!==m&&H!==y&&!/^\[object HTML/.test(H)?!1:d(O)},Df}var Mf,O0;function U5(){if(O0)return Mf;O0=1;var t=k5(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,o=function(p,m,y){for(var x=0,S=p.length;x<S;x++)r.call(p,x)&&(y==null?m(p[x],x,p):m.call(y,p[x],x,p))},a=function(p,m,y){for(var x=0,S=p.length;x<S;x++)y==null?m(p.charAt(x),x,p):m.call(y,p.charAt(x),x,p)},c=function(p,m,y){for(var x in p)r.call(p,x)&&(y==null?m(p[x],x,p):m.call(y,p[x],x,p))},d=function(p,m,y){if(!t(m))throw new TypeError("iterator must be a function");var x;arguments.length>=3&&(x=y),e.call(p)==="[object Array]"?o(p,m,x):typeof p=="string"?a(p,m,x):c(p,m,x)};return Mf=d,Mf}var If,F0;function L5(){if(F0)return If;F0=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?Qn:globalThis;return If=function(){for(var o=[],a=0;a<t.length;a++)typeof e[t[a]]=="function"&&(o[o.length]=t[a]);return o},If}var kf,G0;function kw(){if(G0)return kf;G0=1;var t=U5(),e=L5(),r=Mw(),o=Iw(),a=Id(),c=o("Object.prototype.toString"),d=Dd()(),h=typeof globalThis>"u"?Qn:globalThis,p=e(),m=o("String.prototype.slice"),y=Object.getPrototypeOf,x=o("Array.prototype.indexOf",!0)||function(U,C){for(var M=0;M<U.length;M+=1)if(U[M]===C)return M;return-1},S={__proto__:null};d&&a&&y?t(p,function(A){var U=new h[A];if(Symbol.toStringTag in U){var C=y(U),M=a(C,Symbol.toStringTag);if(!M){var O=y(C);M=a(O,Symbol.toStringTag)}S["$"+A]=r(M.get)}}):t(p,function(A){var U=new h[A],C=U.slice||U.set;C&&(S["$"+A]=r(C))});var E=function(U){var C=!1;return t(S,function(M,O){if(!C)try{"$"+M(U)===O&&(C=m(O,1))}catch{}}),C},D=function(U){var C=!1;return t(S,function(M,O){if(!C)try{M(U),C=m(O,1)}catch{}}),C};return kf=function(U){if(!U||typeof U!="object")return!1;if(!d){var C=m(c(U),8,-1);return x(p,C)>-1?C:C!=="Object"?!1:D(U)}return a?E(U):null},kf}var Uf,z0;function B5(){if(z0)return Uf;z0=1;var t=kw();return Uf=function(r){return!!t(r)},Uf}var V0;function P5(){return V0||(V0=1,(function(t){var e=M5(),r=I5(),o=kw(),a=B5();function c(b){return b.call.bind(b)}var d=typeof BigInt<"u",h=typeof Symbol<"u",p=c(Object.prototype.toString),m=c(Number.prototype.valueOf),y=c(String.prototype.valueOf),x=c(Boolean.prototype.valueOf);if(d)var S=c(BigInt.prototype.valueOf);if(h)var E=c(Symbol.prototype.valueOf);function D(b,X){if(typeof b!="object")return!1;try{return X(b),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=a;function A(b){return typeof Promise<"u"&&b instanceof Promise||b!==null&&typeof b=="object"&&typeof b.then=="function"&&typeof b.catch=="function"}t.isPromise=A;function U(b){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(b):a(b)||J(b)}t.isArrayBufferView=U;function C(b){return o(b)==="Uint8Array"}t.isUint8Array=C;function M(b){return o(b)==="Uint8ClampedArray"}t.isUint8ClampedArray=M;function O(b){return o(b)==="Uint16Array"}t.isUint16Array=O;function H(b){return o(b)==="Uint32Array"}t.isUint32Array=H;function q(b){return o(b)==="Int8Array"}t.isInt8Array=q;function ce(b){return o(b)==="Int16Array"}t.isInt16Array=ce;function ae(b){return o(b)==="Int32Array"}t.isInt32Array=ae;function de(b){return o(b)==="Float32Array"}t.isFloat32Array=de;function G(b){return o(b)==="Float64Array"}t.isFloat64Array=G;function Te(b){return o(b)==="BigInt64Array"}t.isBigInt64Array=Te;function Re(b){return o(b)==="BigUint64Array"}t.isBigUint64Array=Re;function Z(b){return p(b)==="[object Map]"}Z.working=typeof Map<"u"&&Z(new Map);function pe(b){return typeof Map>"u"?!1:Z.working?Z(b):b instanceof Map}t.isMap=pe;function B(b){return p(b)==="[object Set]"}B.working=typeof Set<"u"&&B(new Set);function he(b){return typeof Set>"u"?!1:B.working?B(b):b instanceof Set}t.isSet=he;function le(b){return p(b)==="[object WeakMap]"}le.working=typeof WeakMap<"u"&&le(new WeakMap);function se(b){return typeof WeakMap>"u"?!1:le.working?le(b):b instanceof WeakMap}t.isWeakMap=se;function Ce(b){return p(b)==="[object WeakSet]"}Ce.working=typeof WeakSet<"u"&&Ce(new WeakSet);function ue(b){return Ce(b)}t.isWeakSet=ue;function K(b){return p(b)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function Y(b){return typeof ArrayBuffer>"u"?!1:K.working?K(b):b instanceof ArrayBuffer}t.isArrayBuffer=Y;function P(b){return p(b)==="[object DataView]"}P.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&P(new DataView(new ArrayBuffer(1),0,1));function J(b){return typeof DataView>"u"?!1:P.working?P(b):b instanceof DataView}t.isDataView=J;var j=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(b){return p(b)==="[object SharedArrayBuffer]"}function $(b){return typeof j>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new j)),ee.working?ee(b):b instanceof j)}t.isSharedArrayBuffer=$;function N(b){return p(b)==="[object AsyncFunction]"}t.isAsyncFunction=N;function R(b){return p(b)==="[object Map Iterator]"}t.isMapIterator=R;function te(b){return p(b)==="[object Set Iterator]"}t.isSetIterator=te;function W(b){return p(b)==="[object Generator]"}t.isGeneratorObject=W;function z(b){return p(b)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=z;function F(b){return D(b,m)}t.isNumberObject=F;function ie(b){return D(b,y)}t.isStringObject=ie;function _(b){return D(b,x)}t.isBooleanObject=_;function re(b){return d&&D(b,S)}t.isBigIntObject=re;function I(b){return h&&D(b,E)}t.isSymbolObject=I;function v(b){return F(b)||ie(b)||_(b)||re(b)||I(b)}t.isBoxedPrimitive=v;function T(b){return typeof Uint8Array<"u"&&(Y(b)||$(b))}t.isAnyArrayBuffer=T,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(b){Object.defineProperty(t,b,{enumerable:!1,value:function(){throw new Error(b+" is not supported in userland")}})})})(hf)),hf}var Lf,q0;function O5(){return q0||(q0=1,Lf=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Lf}var H0;function Uw(){return H0||(H0=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(J){for(var j=Object.keys(J),ee={},$=0;$<j.length;$++)ee[j[$]]=Object.getOwnPropertyDescriptor(J,j[$]);return ee},r=/%[sdj%]/g;t.format=function(P){if(!q(P)){for(var J=[],j=0;j<arguments.length;j++)J.push(d(arguments[j]));return J.join(" ")}for(var j=1,ee=arguments,$=ee.length,N=String(P).replace(r,function(te){if(te==="%%")return"%";if(j>=$)return te;switch(te){case"%s":return String(ee[j++]);case"%d":return Number(ee[j++]);case"%j":try{return JSON.stringify(ee[j++])}catch{return"[Circular]"}default:return te}}),R=ee[j];j<$;R=ee[++j])M(R)||!G(R)?N+=" "+R:N+=" "+d(R);return N},t.deprecate=function(P,J){if(typeof et<"u"&&et.noDeprecation===!0)return P;if(typeof et>"u")return function(){return t.deprecate(P,J).apply(this,arguments)};var j=!1;function ee(){if(!j){if(et.throwDeprecation)throw new Error(J);et.traceDeprecation?console.trace(J):console.error(J),j=!0}return P.apply(this,arguments)}return ee};var o={},a=/^$/;if(et.env.NODE_DEBUG){var c=et.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}t.debuglog=function(P){if(P=P.toUpperCase(),!o[P])if(a.test(P)){var J=et.pid;o[P]=function(){var j=t.format.apply(t,arguments);console.error("%s %d: %s",P,J,j)}}else o[P]=function(){};return o[P]};function d(P,J){var j={seen:[],stylize:p};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),C(J)?j.showHidden=J:J&&t._extend(j,J),ae(j.showHidden)&&(j.showHidden=!1),ae(j.depth)&&(j.depth=2),ae(j.colors)&&(j.colors=!1),ae(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=h),y(j,P,j.depth)}t.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(P,J){var j=d.styles[J];return j?"\x1B["+d.colors[j][0]+"m"+P+"\x1B["+d.colors[j][1]+"m":P}function p(P,J){return P}function m(P){var J={};return P.forEach(function(j,ee){J[j]=!0}),J}function y(P,J,j){if(P.customInspect&&J&&Z(J.inspect)&&J.inspect!==t.inspect&&!(J.constructor&&J.constructor.prototype===J)){var ee=J.inspect(j,P);return q(ee)||(ee=y(P,ee,j)),ee}var $=x(P,J);if($)return $;var N=Object.keys(J),R=m(N);if(P.showHidden&&(N=Object.getOwnPropertyNames(J)),Re(J)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return S(J);if(N.length===0){if(Z(J)){var te=J.name?": "+J.name:"";return P.stylize("[Function"+te+"]","special")}if(de(J))return P.stylize(RegExp.prototype.toString.call(J),"regexp");if(Te(J))return P.stylize(Date.prototype.toString.call(J),"date");if(Re(J))return S(J)}var W="",z=!1,F=["{","}"];if(U(J)&&(z=!0,F=["[","]"]),Z(J)){var ie=J.name?": "+J.name:"";W=" [Function"+ie+"]"}if(de(J)&&(W=" "+RegExp.prototype.toString.call(J)),Te(J)&&(W=" "+Date.prototype.toUTCString.call(J)),Re(J)&&(W=" "+S(J)),N.length===0&&(!z||J.length==0))return F[0]+W+F[1];if(j<0)return de(J)?P.stylize(RegExp.prototype.toString.call(J),"regexp"):P.stylize("[Object]","special");P.seen.push(J);var _;return z?_=E(P,J,j,R,N):_=N.map(function(re){return D(P,J,j,R,re,z)}),P.seen.pop(),A(_,W,F)}function x(P,J){if(ae(J))return P.stylize("undefined","undefined");if(q(J)){var j="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(j,"string")}if(H(J))return P.stylize(""+J,"number");if(C(J))return P.stylize(""+J,"boolean");if(M(J))return P.stylize("null","null")}function S(P){return"["+Error.prototype.toString.call(P)+"]"}function E(P,J,j,ee,$){for(var N=[],R=0,te=J.length;R<te;++R)Ce(J,String(R))?N.push(D(P,J,j,ee,String(R),!0)):N.push("");return $.forEach(function(W){W.match(/^\d+$/)||N.push(D(P,J,j,ee,W,!0))}),N}function D(P,J,j,ee,$,N){var R,te,W;if(W=Object.getOwnPropertyDescriptor(J,$)||{value:J[$]},W.get?W.set?te=P.stylize("[Getter/Setter]","special"):te=P.stylize("[Getter]","special"):W.set&&(te=P.stylize("[Setter]","special")),Ce(ee,$)||(R="["+$+"]"),te||(P.seen.indexOf(W.value)<0?(M(j)?te=y(P,W.value,null):te=y(P,W.value,j-1),te.indexOf(`
`)>-1&&(N?te=te.split(`
`).map(function(z){return"  "+z}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(z){return"   "+z}).join(`
`))):te=P.stylize("[Circular]","special")),ae(R)){if(N&&$.match(/^\d+$/))return te;R=JSON.stringify(""+$),R.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(R=R.slice(1,-1),R=P.stylize(R,"name")):(R=R.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),R=P.stylize(R,"string"))}return R+": "+te}function A(P,J,j){var ee=P.reduce(function($,N){return N.indexOf(`
`)>=0,$+N.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ee>60?j[0]+(J===""?"":J+`
 `)+" "+P.join(`,
  `)+" "+j[1]:j[0]+J+" "+P.join(", ")+" "+j[1]}t.types=P5();function U(P){return Array.isArray(P)}t.isArray=U;function C(P){return typeof P=="boolean"}t.isBoolean=C;function M(P){return P===null}t.isNull=M;function O(P){return P==null}t.isNullOrUndefined=O;function H(P){return typeof P=="number"}t.isNumber=H;function q(P){return typeof P=="string"}t.isString=q;function ce(P){return typeof P=="symbol"}t.isSymbol=ce;function ae(P){return P===void 0}t.isUndefined=ae;function de(P){return G(P)&&B(P)==="[object RegExp]"}t.isRegExp=de,t.types.isRegExp=de;function G(P){return typeof P=="object"&&P!==null}t.isObject=G;function Te(P){return G(P)&&B(P)==="[object Date]"}t.isDate=Te,t.types.isDate=Te;function Re(P){return G(P)&&(B(P)==="[object Error]"||P instanceof Error)}t.isError=Re,t.types.isNativeError=Re;function Z(P){return typeof P=="function"}t.isFunction=Z;function pe(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||typeof P>"u"}t.isPrimitive=pe,t.isBuffer=O5();function B(P){return Object.prototype.toString.call(P)}function he(P){return P<10?"0"+P.toString(10):P.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function se(){var P=new Date,J=[he(P.getHours()),he(P.getMinutes()),he(P.getSeconds())].join(":");return[P.getDate(),le[P.getMonth()],J].join(" ")}t.log=function(){console.log("%s - %s",se(),t.format.apply(t,arguments))},t.inherits=Si,t._extend=function(P,J){if(!J||!G(J))return P;for(var j=Object.keys(J),ee=j.length;ee--;)P[j[ee]]=J[j[ee]];return P};function Ce(P,J){return Object.prototype.hasOwnProperty.call(P,J)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&J[ue]){var j=J[ue];if(typeof j!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,ue,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var ee,$,N=new Promise(function(W,z){ee=W,$=z}),R=[],te=0;te<arguments.length;te++)R.push(arguments[te]);R.push(function(W,z){W?$(W):ee(z)});try{J.apply(this,R)}catch(W){$(W)}return N}return Object.setPrototypeOf(j,Object.getPrototypeOf(J)),ue&&Object.defineProperty(j,ue,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,e(J))},t.promisify.custom=ue;function K(P,J){if(!P){var j=new Error("Promise was rejected with a falsy value");j.reason=P,P=j}return J(P)}function Y(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var j=[],ee=0;ee<arguments.length;ee++)j.push(arguments[ee]);var $=j.pop();if(typeof $!="function")throw new TypeError("The last argument must be of type Function");var N=this,R=function(){return $.apply(N,arguments)};P.apply(this,j).then(function(te){et.nextTick(R.bind(null,null,te))},function(te){et.nextTick(K.bind(null,te,R))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(P)),Object.defineProperties(J,e(P)),J}t.callbackify=Y})(df)),df}var Bf,K0;function F5(){if(K0)return Bf;K0=1;function t(S,E){var D=Object.keys(S);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(S);E&&(A=A.filter(function(U){return Object.getOwnPropertyDescriptor(S,U).enumerable})),D.push.apply(D,A)}return D}function e(S){for(var E=1;E<arguments.length;E++){var D=arguments[E]!=null?arguments[E]:{};E%2?t(Object(D),!0).forEach(function(A){r(S,A,D[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(A){Object.defineProperty(S,A,Object.getOwnPropertyDescriptor(D,A))})}return S}function r(S,E,D){return E in S?Object.defineProperty(S,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[E]=D,S}function o(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function a(S,E){for(var D=0;D<E.length;D++){var A=E[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}function c(S,E,D){return E&&a(S.prototype,E),S}var d=Vl(),h=d.Buffer,p=Uw(),m=p.inspect,y=m&&m.custom||"inspect";function x(S,E,D){h.prototype.copy.call(S,E,D)}return Bf=(function(){function S(){o(this,S),this.head=null,this.tail=null,this.length=0}return c(S,[{key:"push",value:function(D){var A={data:D,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(D){var A={data:D,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(this.length!==0){var D=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,D}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(D){if(this.length===0)return"";for(var A=this.head,U=""+A.data;A=A.next;)U+=D+A.data;return U}},{key:"concat",value:function(D){if(this.length===0)return h.alloc(0);for(var A=h.allocUnsafe(D>>>0),U=this.head,C=0;U;)x(U.data,A,C),C+=U.data.length,U=U.next;return A}},{key:"consume",value:function(D,A){var U;return D<this.head.data.length?(U=this.head.data.slice(0,D),this.head.data=this.head.data.slice(D)):D===this.head.data.length?U=this.shift():U=A?this._getString(D):this._getBuffer(D),U}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(D){var A=this.head,U=1,C=A.data;for(D-=C.length;A=A.next;){var M=A.data,O=D>M.length?M.length:D;if(O===M.length?C+=M:C+=M.slice(0,D),D-=O,D===0){O===M.length?(++U,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=M.slice(O));break}++U}return this.length-=U,C}},{key:"_getBuffer",value:function(D){var A=h.allocUnsafe(D),U=this.head,C=1;for(U.data.copy(A),D-=U.data.length;U=U.next;){var M=U.data,O=D>M.length?M.length:D;if(M.copy(A,A.length-D,0,O),D-=O,D===0){O===M.length?(++C,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=M.slice(O));break}++C}return this.length-=C,A}},{key:y,value:function(D,A){return m(this,e({},A,{depth:0,customInspect:!1}))}}]),S})(),Bf}var Pf,Y0;function Lw(){if(Y0)return Pf;Y0=1;function t(d,h){var p=this,m=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return m||y?(h?h(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,et.nextTick(a,this,d)):et.nextTick(a,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(x){!h&&x?p._writableState?p._writableState.errorEmitted?et.nextTick(r,p):(p._writableState.errorEmitted=!0,et.nextTick(e,p,x)):et.nextTick(e,p,x):h?(et.nextTick(r,p),h(x)):et.nextTick(r,p)}),this)}function e(d,h){a(d,h),r(d)}function r(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(d,h){d.emit("error",h)}function c(d,h){var p=d._readableState,m=d._writableState;p&&p.autoDestroy||m&&m.autoDestroy?d.destroy(h):d.emit("error",h)}return Pf={destroy:t,undestroy:o,errorOrDestroy:c},Pf}var Of={},J0;function Lo(){if(J0)return Of;J0=1;function t(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var e={};function r(h,p,m){m||(m=Error);function y(S,E,D){return typeof p=="string"?p:p(S,E,D)}var x=(function(S){t(E,S);function E(D,A,U){return S.call(this,y(D,A,U))||this}return E})(m);x.prototype.name=m.name,x.prototype.code=h,e[h]=x}function o(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(y){return String(y)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function a(h,p,m){return h.substr(0,p.length)===p}function c(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function d(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}return r("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(h,p,m){var y;typeof p=="string"&&a(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var x;if(c(h," argument"))x="The ".concat(h," ").concat(y," ").concat(o(p,"type"));else{var S=d(h,".")?"property":"argument";x='The "'.concat(h,'" ').concat(S," ").concat(y," ").concat(o(p,"type"))}return x+=". Received type ".concat(typeof m),x},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Of.codes=e,Of}var Ff,W0;function Bw(){if(W0)return Ff;W0=1;var t=Lo().codes.ERR_INVALID_OPT_VALUE;function e(o,a,c){return o.highWaterMark!=null?o.highWaterMark:a?o[c]:null}function r(o,a,c,d){var h=e(a,d,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var p=d?c:"highWaterMark";throw new t(p,h)}return Math.floor(h)}return o.objectMode?16:16*1024}return Ff={getHighWaterMark:r},Ff}var Gf,$0;function G5(){if($0)return Gf;$0=1,Gf=t;function t(r,o){if(e("noDeprecation"))return r;var a=!1;function c(){if(!a){if(e("throwDeprecation"))throw new Error(o);e("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return r.apply(this,arguments)}return c}function e(r){try{if(!Qn.localStorage)return!1}catch{return!1}var o=Qn.localStorage[r];return o==null?!1:String(o).toLowerCase()==="true"}return Gf}var zf,X0;function Pw(){if(X0)return zf;X0=1,zf=de;function t($){var N=this;this.next=null,this.entry=null,this.finish=function(){ee(N,$)}}var e;de.WritableState=ce;var r={deprecate:G5()},o=Rw(),a=Vl().Buffer,c=Qn.Uint8Array||function(){};function d($){return a.from($)}function h($){return a.isBuffer($)||$ instanceof c}var p=Lw(),m=Bw(),y=m.getHighWaterMark,x=Lo().codes,S=x.ERR_INVALID_ARG_TYPE,E=x.ERR_METHOD_NOT_IMPLEMENTED,D=x.ERR_MULTIPLE_CALLBACK,A=x.ERR_STREAM_CANNOT_PIPE,U=x.ERR_STREAM_DESTROYED,C=x.ERR_STREAM_NULL_VALUES,M=x.ERR_STREAM_WRITE_AFTER_END,O=x.ERR_UNKNOWN_ENCODING,H=p.errorOrDestroy;Si(de,o);function q(){}function ce($,N,R){e=e||Eo(),$=$||{},typeof R!="boolean"&&(R=N instanceof e),this.objectMode=!!$.objectMode,R&&(this.objectMode=this.objectMode||!!$.writableObjectMode),this.highWaterMark=y(this,$,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=$.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){le(N,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}ce.prototype.getBuffer=function(){for(var N=this.bufferedRequest,R=[];N;)R.push(N),N=N.next;return R},(function(){try{Object.defineProperty(ce.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ae;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(de,Symbol.hasInstance,{value:function(N){return ae.call(this,N)?!0:this!==de?!1:N&&N._writableState instanceof ce}})):ae=function(N){return N instanceof this};function de($){e=e||Eo();var N=this instanceof e;if(!N&&!ae.call(de,this))return new de($);this._writableState=new ce($,this,N),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),o.call(this)}de.prototype.pipe=function(){H(this,new A)};function G($,N){var R=new M;H($,R),et.nextTick(N,R)}function Te($,N,R,te){var W;return R===null?W=new C:typeof R!="string"&&!N.objectMode&&(W=new S("chunk",["string","Buffer"],R)),W?(H($,W),et.nextTick(te,W),!1):!0}de.prototype.write=function($,N,R){var te=this._writableState,W=!1,z=!te.objectMode&&h($);return z&&!a.isBuffer($)&&($=d($)),typeof N=="function"&&(R=N,N=null),z?N="buffer":N||(N=te.defaultEncoding),typeof R!="function"&&(R=q),te.ending?G(this,R):(z||Te(this,te,$,R))&&(te.pendingcb++,W=Z(this,te,z,$,N,R)),W},de.prototype.cork=function(){this._writableState.corked++},de.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,!$.writing&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&ue(this,$))},de.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new O(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(de.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Re($,N,R){return!$.objectMode&&$.decodeStrings!==!1&&typeof N=="string"&&(N=a.from(N,R)),N}Object.defineProperty(de.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Z($,N,R,te,W,z){if(!R){var F=Re(N,te,W);te!==F&&(R=!0,W="buffer",te=F)}var ie=N.objectMode?1:te.length;N.length+=ie;var _=N.length<N.highWaterMark;if(_||(N.needDrain=!0),N.writing||N.corked){var re=N.lastBufferedRequest;N.lastBufferedRequest={chunk:te,encoding:W,isBuf:R,callback:z,next:null},re?re.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else pe($,N,!1,ie,te,W,z);return _}function pe($,N,R,te,W,z,F){N.writelen=te,N.writecb=F,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new U("write")):R?$._writev(W,N.onwrite):$._write(W,z,N.onwrite),N.sync=!1}function B($,N,R,te,W){--N.pendingcb,R?(et.nextTick(W,te),et.nextTick(J,$,N),$._writableState.errorEmitted=!0,H($,te)):(W(te),$._writableState.errorEmitted=!0,H($,te),J($,N))}function he($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function le($,N){var R=$._writableState,te=R.sync,W=R.writecb;if(typeof W!="function")throw new D;if(he(R),N)B($,R,te,N,W);else{var z=K(R)||$.destroyed;!z&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&ue($,R),te?et.nextTick(se,$,R,z,W):se($,R,z,W)}}function se($,N,R,te){R||Ce($,N),N.pendingcb--,te(),J($,N)}function Ce($,N){N.length===0&&N.needDrain&&(N.needDrain=!1,$.emit("drain"))}function ue($,N){N.bufferProcessing=!0;var R=N.bufferedRequest;if($._writev&&R&&R.next){var te=N.bufferedRequestCount,W=new Array(te),z=N.corkedRequestsFree;z.entry=R;for(var F=0,ie=!0;R;)W[F]=R,R.isBuf||(ie=!1),R=R.next,F+=1;W.allBuffers=ie,pe($,N,!0,N.length,W,"",z.finish),N.pendingcb++,N.lastBufferedRequest=null,z.next?(N.corkedRequestsFree=z.next,z.next=null):N.corkedRequestsFree=new t(N),N.bufferedRequestCount=0}else{for(;R;){var _=R.chunk,re=R.encoding,I=R.callback,v=N.objectMode?1:_.length;if(pe($,N,!1,v,_,re,I),R=R.next,N.bufferedRequestCount--,N.writing)break}R===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=R,N.bufferProcessing=!1}de.prototype._write=function($,N,R){R(new E("_write()"))},de.prototype._writev=null,de.prototype.end=function($,N,R){var te=this._writableState;return typeof $=="function"?(R=$,$=null,N=null):typeof N=="function"&&(R=N,N=null),$!=null&&this.write($,N),te.corked&&(te.corked=1,this.uncork()),te.ending||j(this,te,R),this},Object.defineProperty(de.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function K($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function Y($,N){$._final(function(R){N.pendingcb--,R&&H($,R),N.prefinished=!0,$.emit("prefinish"),J($,N)})}function P($,N){!N.prefinished&&!N.finalCalled&&(typeof $._final=="function"&&!N.destroyed?(N.pendingcb++,N.finalCalled=!0,et.nextTick(Y,$,N)):(N.prefinished=!0,$.emit("prefinish")))}function J($,N){var R=K(N);if(R&&(P($,N),N.pendingcb===0&&(N.finished=!0,$.emit("finish"),N.autoDestroy))){var te=$._readableState;(!te||te.autoDestroy&&te.endEmitted)&&$.destroy()}return R}function j($,N,R){N.ending=!0,J($,N),R&&(N.finished?et.nextTick(R):$.once("finish",R)),N.ended=!0,$.writable=!1}function ee($,N,R){var te=$.entry;for($.entry=null;te;){var W=te.callback;N.pendingcb--,W(R),te=te.next}N.corkedRequestsFree.next=$}return Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),de.prototype.destroy=p.destroy,de.prototype._undestroy=p.undestroy,de.prototype._destroy=function($,N){N($)},zf}var Vf,Z0;function Eo(){if(Z0)return Vf;Z0=1;var t=Object.keys||function(m){var y=[];for(var x in m)y.push(x);return y};Vf=d;var e=Ow(),r=Pw();Si(d,e);for(var o=t(r.prototype),a=0;a<o.length;a++){var c=o[a];d.prototype[c]||(d.prototype[c]=r.prototype[c])}function d(m){if(!(this instanceof d))return new d(m);e.call(this,m),r.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||et.nextTick(p,this)}function p(m){m.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),Vf}var qf={},ml={exports:{}},Q0;function z5(){return Q0||(Q0=1,(function(t,e){var r=Vl(),o=r.Buffer;function a(d,h){for(var p in d)h[p]=d[p]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=c);function c(d,h,p){return o(d,h,p)}a(o,c),c.from=function(d,h,p){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,h,p)},c.alloc=function(d,h,p){if(typeof d!="number")throw new TypeError("Argument must be a number");var m=o(d);return h!==void 0?typeof p=="string"?m.fill(h,p):m.fill(h):m.fill(0),m},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}})(ml,ml.exports)),ml.exports}var j0;function yd(){if(j0)return qf;j0=1;var t=z5().Buffer,e=t.isEncoding||function(C){switch(C=""+C,C&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(C){if(!C)return"utf8";for(var M;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(M)return;C=(""+C).toLowerCase(),M=!0}}function o(C){var M=r(C);if(typeof M!="string"&&(t.isEncoding===e||!e(C)))throw new Error("Unknown encoding: "+C);return M||C}qf.StringDecoder=a;function a(C){this.encoding=o(C);var M;switch(this.encoding){case"utf16le":this.text=x,this.end=S,M=4;break;case"utf8":this.fillLast=p,M=4;break;case"base64":this.text=E,this.end=D,M=3;break;default:this.write=A,this.end=U;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(M)}a.prototype.write=function(C){if(C.length===0)return"";var M,O;if(this.lastNeed){if(M=this.fillLast(C),M===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<C.length?M?M+this.text(C,O):this.text(C,O):M||""},a.prototype.end=y,a.prototype.text=m,a.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length};function c(C){return C<=127?0:C>>5===6?2:C>>4===14?3:C>>3===30?4:C>>6===2?-1:-2}function d(C,M,O){var H=M.length-1;if(H<O)return 0;var q=c(M[H]);return q>=0?(q>0&&(C.lastNeed=q-1),q):--H<O||q===-2?0:(q=c(M[H]),q>=0?(q>0&&(C.lastNeed=q-2),q):--H<O||q===-2?0:(q=c(M[H]),q>=0?(q>0&&(q===2?q=0:C.lastNeed=q-3),q):0))}function h(C,M,O){if((M[0]&192)!==128)return C.lastNeed=0,"�";if(C.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return C.lastNeed=1,"�";if(C.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return C.lastNeed=2,"�"}}function p(C){var M=this.lastTotal-this.lastNeed,O=h(this,C);if(O!==void 0)return O;if(this.lastNeed<=C.length)return C.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,M,0,C.length),this.lastNeed-=C.length}function m(C,M){var O=d(this,C,M);if(!this.lastNeed)return C.toString("utf8",M);this.lastTotal=O;var H=C.length-(O-this.lastNeed);return C.copy(this.lastChar,0,H),C.toString("utf8",M,H)}function y(C){var M=C&&C.length?this.write(C):"";return this.lastNeed?M+"�":M}function x(C,M){if((C.length-M)%2===0){var O=C.toString("utf16le",M);if(O){var H=O.charCodeAt(O.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",M,C.length-1)}function S(C){var M=C&&C.length?this.write(C):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,O)}return M}function E(C,M){var O=(C.length-M)%3;return O===0?C.toString("base64",M):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",M,C.length-O))}function D(C){var M=C&&C.length?this.write(C):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function A(C){return C.toString(this.encoding)}function U(C){return C&&C.length?this.write(C):""}return qf}var Hf,ev;function kd(){if(ev)return Hf;ev=1;var t=Lo().codes.ERR_STREAM_PREMATURE_CLOSE;function e(c){var d=!1;return function(){if(!d){d=!0;for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];c.apply(this,p)}}}function r(){}function o(c){return c.setHeader&&typeof c.abort=="function"}function a(c,d,h){if(typeof d=="function")return a(c,null,d);d||(d={}),h=e(h||r);var p=d.readable||d.readable!==!1&&c.readable,m=d.writable||d.writable!==!1&&c.writable,y=function(){c.writable||S()},x=c._writableState&&c._writableState.finished,S=function(){m=!1,x=!0,p||h.call(c)},E=c._readableState&&c._readableState.endEmitted,D=function(){p=!1,E=!0,m||h.call(c)},A=function(O){h.call(c,O)},U=function(){var O;if(p&&!E)return(!c._readableState||!c._readableState.ended)&&(O=new t),h.call(c,O);if(m&&!x)return(!c._writableState||!c._writableState.ended)&&(O=new t),h.call(c,O)},C=function(){c.req.on("finish",S)};return o(c)?(c.on("complete",S),c.on("abort",U),c.req?C():c.on("request",C)):m&&!c._writableState&&(c.on("end",y),c.on("close",y)),c.on("end",D),c.on("finish",S),d.error!==!1&&c.on("error",A),c.on("close",U),function(){c.removeListener("complete",S),c.removeListener("abort",U),c.removeListener("request",C),c.req&&c.req.removeListener("finish",S),c.removeListener("end",y),c.removeListener("close",y),c.removeListener("finish",S),c.removeListener("end",D),c.removeListener("error",A),c.removeListener("close",U)}}return Hf=a,Hf}var Kf,tv;function V5(){if(tv)return Kf;tv=1;var t;function e(C,M,O){return M in C?Object.defineProperty(C,M,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[M]=O,C}var r=kd(),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),m=Symbol("stream");function y(C,M){return{value:C,done:M}}function x(C){var M=C[o];if(M!==null){var O=C[m].read();O!==null&&(C[h]=null,C[o]=null,C[a]=null,M(y(O,!1)))}}function S(C){et.nextTick(x,C)}function E(C,M){return function(O,H){C.then(function(){if(M[d]){O(y(void 0,!0));return}M[p](O,H)},H)}}var D=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((t={get stream(){return this[m]},next:function(){var M=this,O=this[c];if(O!==null)return Promise.reject(O);if(this[d])return Promise.resolve(y(void 0,!0));if(this[m].destroyed)return new Promise(function(ae,de){et.nextTick(function(){M[c]?de(M[c]):ae(y(void 0,!0))})});var H=this[h],q;if(H)q=new Promise(E(H,this));else{var ce=this[m].read();if(ce!==null)return Promise.resolve(y(ce,!1));q=new Promise(this[p])}return this[h]=q,q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var M=this;return new Promise(function(O,H){M[m].destroy(null,function(q){if(q){H(q);return}O(y(void 0,!0))})})}),t),D),U=function(M){var O,H=Object.create(A,(O={},e(O,m,{value:M,writable:!0}),e(O,o,{value:null,writable:!0}),e(O,a,{value:null,writable:!0}),e(O,c,{value:null,writable:!0}),e(O,d,{value:M._readableState.endEmitted,writable:!0}),e(O,p,{value:function(ce,ae){var de=H[m].read();de?(H[h]=null,H[o]=null,H[a]=null,ce(y(de,!1))):(H[o]=ce,H[a]=ae)},writable:!0}),O));return H[h]=null,r(M,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=H[a];ce!==null&&(H[h]=null,H[o]=null,H[a]=null,ce(q)),H[c]=q;return}var ae=H[o];ae!==null&&(H[h]=null,H[o]=null,H[a]=null,ae(y(void 0,!0))),H[d]=!0}),M.on("readable",S.bind(null,H)),H};return Kf=U,Kf}var Yf,nv;function q5(){return nv||(nv=1,Yf=function(){throw new Error("Readable.from is not available in the browser")}),Yf}var Jf,rv;function Ow(){if(rv)return Jf;rv=1,Jf=G;var t;G.ReadableState=de,Nd.EventEmitter;var e=function(F,ie){return F.listeners(ie).length},r=Rw(),o=Vl().Buffer,a=Qn.Uint8Array||function(){};function c(z){return o.from(z)}function d(z){return o.isBuffer(z)||z instanceof a}var h=Uw(),p;h&&h.debuglog?p=h.debuglog("stream"):p=function(){};var m=F5(),y=Lw(),x=Bw(),S=x.getHighWaterMark,E=Lo().codes,D=E.ERR_INVALID_ARG_TYPE,A=E.ERR_STREAM_PUSH_AFTER_EOF,U=E.ERR_METHOD_NOT_IMPLEMENTED,C=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,M,O,H;Si(G,r);var q=y.errorOrDestroy,ce=["error","close","destroy","pause","resume"];function ae(z,F,ie){if(typeof z.prependListener=="function")return z.prependListener(F,ie);!z._events||!z._events[F]?z.on(F,ie):Array.isArray(z._events[F])?z._events[F].unshift(ie):z._events[F]=[ie,z._events[F]]}function de(z,F,ie){t=t||Eo(),z=z||{},typeof ie!="boolean"&&(ie=F instanceof t),this.objectMode=!!z.objectMode,ie&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=S(this,z,"readableHighWaterMark",ie),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(M||(M=yd().StringDecoder),this.decoder=new M(z.encoding),this.encoding=z.encoding)}function G(z){if(t=t||Eo(),!(this instanceof G))return new G(z);var F=this instanceof t;this._readableState=new de(z,this,F),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),r.call(this)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),G.prototype.destroy=y.destroy,G.prototype._undestroy=y.undestroy,G.prototype._destroy=function(z,F){F(z)},G.prototype.push=function(z,F){var ie=this._readableState,_;return ie.objectMode?_=!0:typeof z=="string"&&(F=F||ie.defaultEncoding,F!==ie.encoding&&(z=o.from(z,F),F=""),_=!0),Te(this,z,F,!1,_)},G.prototype.unshift=function(z){return Te(this,z,null,!0,!1)};function Te(z,F,ie,_,re){p("readableAddChunk",F);var I=z._readableState;if(F===null)I.reading=!1,le(z,I);else{var v;if(re||(v=Z(I,F)),v)q(z,v);else if(I.objectMode||F&&F.length>0)if(typeof F!="string"&&!I.objectMode&&Object.getPrototypeOf(F)!==o.prototype&&(F=c(F)),_)I.endEmitted?q(z,new C):Re(z,I,F,!0);else if(I.ended)q(z,new A);else{if(I.destroyed)return!1;I.reading=!1,I.decoder&&!ie?(F=I.decoder.write(F),I.objectMode||F.length!==0?Re(z,I,F,!1):ue(z,I)):Re(z,I,F,!1)}else _||(I.reading=!1,ue(z,I))}return!I.ended&&(I.length<I.highWaterMark||I.length===0)}function Re(z,F,ie,_){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,z.emit("data",ie)):(F.length+=F.objectMode?1:ie.length,_?F.buffer.unshift(ie):F.buffer.push(ie),F.needReadable&&se(z)),ue(z,F)}function Z(z,F){var ie;return!d(F)&&typeof F!="string"&&F!==void 0&&!z.objectMode&&(ie=new D("chunk",["string","Buffer","Uint8Array"],F)),ie}G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(z){M||(M=yd().StringDecoder);var F=new M(z);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var ie=this._readableState.buffer.head,_="";ie!==null;)_+=F.write(ie.data),ie=ie.next;return this._readableState.buffer.clear(),_!==""&&this._readableState.buffer.push(_),this._readableState.length=_.length,this};var pe=1073741824;function B(z){return z>=pe?z=pe:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function he(z,F){return z<=0||F.length===0&&F.ended?0:F.objectMode?1:z!==z?F.flowing&&F.length?F.buffer.head.data.length:F.length:(z>F.highWaterMark&&(F.highWaterMark=B(z)),z<=F.length?z:F.ended?F.length:(F.needReadable=!0,0))}G.prototype.read=function(z){p("read",z),z=parseInt(z,10);var F=this._readableState,ie=z;if(z!==0&&(F.emittedReadable=!1),z===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return p("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?R(this):se(this),null;if(z=he(z,F),z===0&&F.ended)return F.length===0&&R(this),null;var _=F.needReadable;p("need readable",_),(F.length===0||F.length-z<F.highWaterMark)&&(_=!0,p("length less than watermark",_)),F.ended||F.reading?(_=!1,p("reading or ended",_)):_&&(p("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(z=he(ie,F)));var re;return z>0?re=N(z,F):re=null,re===null?(F.needReadable=F.length<=F.highWaterMark,z=0):(F.length-=z,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),ie!==z&&F.ended&&R(this)),re!==null&&this.emit("data",re),re};function le(z,F){if(p("onEofChunk"),!F.ended){if(F.decoder){var ie=F.decoder.end();ie&&ie.length&&(F.buffer.push(ie),F.length+=F.objectMode?1:ie.length)}F.ended=!0,F.sync?se(z):(F.needReadable=!1,F.emittedReadable||(F.emittedReadable=!0,Ce(z)))}}function se(z){var F=z._readableState;p("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(p("emitReadable",F.flowing),F.emittedReadable=!0,et.nextTick(Ce,z))}function Ce(z){var F=z._readableState;p("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&(F.length||F.ended)&&(z.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,$(z)}function ue(z,F){F.readingMore||(F.readingMore=!0,et.nextTick(K,z,F))}function K(z,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var ie=F.length;if(p("maybeReadMore read 0"),z.read(0),ie===F.length)break}F.readingMore=!1}G.prototype._read=function(z){q(this,new U("_read()"))},G.prototype.pipe=function(z,F){var ie=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=z;break;case 1:_.pipes=[_.pipes,z];break;default:_.pipes.push(z);break}_.pipesCount+=1,p("pipe count=%d opts=%j",_.pipesCount,F);var re=(!F||F.end!==!1)&&z!==et.stdout&&z!==et.stderr,I=re?T:ke;_.endEmitted?et.nextTick(I):ie.once("end",I),z.on("unpipe",v);function v(Le,ze){p("onunpipe"),Le===ie&&ze&&ze.hasUnpiped===!1&&(ze.hasUnpiped=!0,ne())}function T(){p("onend"),z.end()}var b=Y(ie);z.on("drain",b);var X=!1;function ne(){p("cleanup"),z.removeListener("close",De),z.removeListener("finish",be),z.removeListener("drain",b),z.removeListener("error",ge),z.removeListener("unpipe",v),ie.removeListener("end",T),ie.removeListener("end",ke),ie.removeListener("data",Q),X=!0,_.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&b()}ie.on("data",Q);function Q(Le){p("ondata");var ze=z.write(Le);p("dest.write",ze),ze===!1&&((_.pipesCount===1&&_.pipes===z||_.pipesCount>1&&W(_.pipes,z)!==-1)&&!X&&(p("false write response, pause",_.awaitDrain),_.awaitDrain++),ie.pause())}function ge(Le){p("onerror",Le),ke(),z.removeListener("error",ge),e(z,"error")===0&&q(z,Le)}ae(z,"error",ge);function De(){z.removeListener("finish",be),ke()}z.once("close",De);function be(){p("onfinish"),z.removeListener("close",De),ke()}z.once("finish",be);function ke(){p("unpipe"),ie.unpipe(z)}return z.emit("pipe",ie),_.flowing||(p("pipe resume"),ie.resume()),z};function Y(z){return function(){var ie=z._readableState;p("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&e(z,"data")&&(ie.flowing=!0,$(z))}}G.prototype.unpipe=function(z){var F=this._readableState,ie={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return z&&z!==F.pipes?this:(z||(z=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,z&&z.emit("unpipe",this,ie),this);if(!z){var _=F.pipes,re=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var I=0;I<re;I++)_[I].emit("unpipe",this,{hasUnpiped:!1});return this}var v=W(F.pipes,z);return v===-1?this:(F.pipes.splice(v,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),z.emit("unpipe",this,ie),this)},G.prototype.on=function(z,F){var ie=r.prototype.on.call(this,z,F),_=this._readableState;return z==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):z==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,p("on readable",_.length,_.reading),_.length?se(this):_.reading||et.nextTick(J,this)),ie},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(z,F){var ie=r.prototype.removeListener.call(this,z,F);return z==="readable"&&et.nextTick(P,this),ie},G.prototype.removeAllListeners=function(z){var F=r.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&et.nextTick(P,this),F};function P(z){var F=z._readableState;F.readableListening=z.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:z.listenerCount("data")>0&&z.resume()}function J(z){p("readable nexttick read 0"),z.read(0)}G.prototype.resume=function(){var z=this._readableState;return z.flowing||(p("resume"),z.flowing=!z.readableListening,j(this,z)),z.paused=!1,this};function j(z,F){F.resumeScheduled||(F.resumeScheduled=!0,et.nextTick(ee,z,F))}function ee(z,F){p("resume",F.reading),F.reading||z.read(0),F.resumeScheduled=!1,z.emit("resume"),$(z),F.flowing&&!F.reading&&z.read(0)}G.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function $(z){var F=z._readableState;for(p("flow",F.flowing);F.flowing&&z.read()!==null;);}G.prototype.wrap=function(z){var F=this,ie=this._readableState,_=!1;z.on("end",function(){if(p("wrapped end"),ie.decoder&&!ie.ended){var v=ie.decoder.end();v&&v.length&&F.push(v)}F.push(null)}),z.on("data",function(v){if(p("wrapped data"),ie.decoder&&(v=ie.decoder.write(v)),!(ie.objectMode&&v==null)&&!(!ie.objectMode&&(!v||!v.length))){var T=F.push(v);T||(_=!0,z.pause())}});for(var re in z)this[re]===void 0&&typeof z[re]=="function"&&(this[re]=(function(T){return function(){return z[T].apply(z,arguments)}})(re));for(var I=0;I<ce.length;I++)z.on(ce[I],this.emit.bind(this,ce[I]));return this._read=function(v){p("wrapped _read",v),_&&(_=!1,z.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=V5()),O(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),G._fromList=N,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function N(z,F){if(F.length===0)return null;var ie;return F.objectMode?ie=F.buffer.shift():!z||z>=F.length?(F.decoder?ie=F.buffer.join(""):F.buffer.length===1?ie=F.buffer.first():ie=F.buffer.concat(F.length),F.buffer.clear()):ie=F.buffer.consume(z,F.decoder),ie}function R(z){var F=z._readableState;p("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,et.nextTick(te,F,z))}function te(z,F){if(p("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,F.readable=!1,F.emit("end"),z.autoDestroy)){var ie=F._writableState;(!ie||ie.autoDestroy&&ie.finished)&&F.destroy()}}typeof Symbol=="function"&&(G.from=function(z,F){return H===void 0&&(H=q5()),H(G,z,F)});function W(z,F){for(var ie=0,_=z.length;ie<_;ie++)if(z[ie]===F)return ie;return-1}return Jf}var Wf,iv;function Fw(){if(iv)return Wf;iv=1,Wf=h;var t=Lo().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,c=Eo();Si(h,c);function d(y,x){var S=this._transformState;S.transforming=!1;var E=S.writecb;if(E===null)return this.emit("error",new r);S.writechunk=null,S.writecb=null,x!=null&&this.push(x),E(y);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);c.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(x,S){m(y,x,S)}):m(this,null,null)}h.prototype.push=function(y,x){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,x)},h.prototype._transform=function(y,x,S){S(new e("_transform()"))},h.prototype._write=function(y,x,S){var E=this._transformState;if(E.writecb=S,E.writechunk=y,E.writeencoding=x,!E.transforming){var D=this._readableState;(E.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},h.prototype._read=function(y){var x=this._transformState;x.writechunk!==null&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},h.prototype._destroy=function(y,x){c.prototype._destroy.call(this,y,function(S){x(S)})};function m(y,x,S){if(x)return y.emit("error",x);if(S!=null&&y.push(S),y._writableState.length)throw new a;if(y._transformState.transforming)throw new o;return y.push(null)}return Wf}var $f,ov;function H5(){if(ov)return $f;ov=1,$f=e;var t=Fw();Si(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,o,a){a(null,r)},$f}var Xf,sv;function K5(){if(sv)return Xf;sv=1;var t;function e(S){var E=!1;return function(){E||(E=!0,S.apply(void 0,arguments))}}var r=Lo().codes,o=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function c(S){if(S)throw S}function d(S){return S.setHeader&&typeof S.abort=="function"}function h(S,E,D,A){A=e(A);var U=!1;S.on("close",function(){U=!0}),t===void 0&&(t=kd()),t(S,{readable:E,writable:D},function(M){if(M)return A(M);U=!0,A()});var C=!1;return function(M){if(!U&&!C){if(C=!0,d(S))return S.abort();if(typeof S.destroy=="function")return S.destroy();A(M||new a("pipe"))}}}function p(S){S()}function m(S,E){return S.pipe(E)}function y(S){return!S.length||typeof S[S.length-1]!="function"?c:S.pop()}function x(){for(var S=arguments.length,E=new Array(S),D=0;D<S;D++)E[D]=arguments[D];var A=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new o("streams");var U,C=E.map(function(M,O){var H=O<E.length-1,q=O>0;return h(M,H,q,function(ce){U||(U=ce),ce&&C.forEach(p),!H&&(C.forEach(p),A(U))})});return E.reduce(m)}return Xf=x,Xf}var Ud=Ln,Ld=Nd.EventEmitter,Y5=Si;Y5(Ln,Ld);Ln.Readable=Ow();Ln.Writable=Pw();Ln.Duplex=Eo();Ln.Transform=Fw();Ln.PassThrough=H5();Ln.finished=kd();Ln.pipeline=K5();Ln.Stream=Ln;function Ln(){Ld.call(this)}Ln.prototype.pipe=function(t,e){var r=this;function o(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}r.on("data",o);function a(){r.readable&&r.resume&&r.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",d),r.on("close",h));var c=!1;function d(){c||(c=!0,t.end())}function h(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function p(y){if(m(),Ld.listenerCount(this,"error")===0)throw y}r.on("error",p),t.on("error",p);function m(){r.removeListener("data",o),t.removeListener("drain",a),r.removeListener("end",d),r.removeListener("close",h),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t};(function(t){(function(e){e.parser=function(N,R){return new o(N,R)},e.SAXParser=o,e.SAXStream=y,e.createStream=m,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(N,R){if(!(this instanceof o))return new o(N,R);var te=this;c(te),te.q=te.c="",te.bufferCheckPosition=e.MAX_BUFFER_LENGTH,te.opt=R||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!N,te.noscript=!!(N||te.opt.noscript),te.state=G.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(A)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),Re(te,"onready")}Object.create||(Object.create=function(N){function R(){}R.prototype=N;var te=new R;return te}),Object.keys||(Object.keys=function(N){var R=[];for(var te in N)N.hasOwnProperty(te)&&R.push(te);return R});function a(N){for(var R=Math.max(e.MAX_BUFFER_LENGTH,10),te=0,W=0,z=r.length;W<z;W++){var F=N[r[W]].length;if(F>R)switch(r[W]){case"textNode":pe(N);break;case"cdata":Z(N,"oncdata",N.cdata),N.cdata="";break;case"script":Z(N,"onscript",N.script),N.script="";break;default:he(N,"Max buffer length exceeded: "+r[W])}te=Math.max(te,F)}var ie=e.MAX_BUFFER_LENGTH-te;N.bufferCheckPosition=ie+N.position}function c(N){for(var R=0,te=r.length;R<te;R++)N[r[R]]=""}function d(N){pe(N),N.cdata!==""&&(Z(N,"oncdata",N.cdata),N.cdata=""),N.script!==""&&(Z(N,"onscript",N.script),N.script="")}o.prototype={end:function(){le(this)},write:$,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var h;try{h=Ud.Stream}catch{h=function(){}}var p=e.EVENTS.filter(function(N){return N!=="error"&&N!=="end"});function m(N,R){return new y(N,R)}function y(N,R){if(!(this instanceof y))return new y(N,R);h.apply(this),this._parser=new o(N,R),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(W){te.emit("error",W),te._parser.error=null},this._decoder=null,p.forEach(function(W){Object.defineProperty(te,"on"+W,{get:function(){return te._parser["on"+W]},set:function(z){if(!z)return te.removeAllListeners(W),te._parser["on"+W]=z,z;te.on(W,z)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(h.prototype,{constructor:{value:y}}),y.prototype.write=function(N){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(N)){if(!this._decoder){var R=yd().StringDecoder;this._decoder=new R("utf8")}N=this._decoder.write(N)}return this._parser.write(N.toString()),this.emit("data",N),!0},y.prototype.end=function(N){return N&&N.length&&this.write(N),this._parser.end(),!0},y.prototype.on=function(N,R){var te=this;return!te._parser["on"+N]&&p.indexOf(N)!==-1&&(te._parser["on"+N]=function(){var W=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);W.splice(0,0,N),te.emit.apply(te,W)}),h.prototype.on.call(te,N,R)};var x="[CDATA[",S="DOCTYPE",E="http://www.w3.org/XML/1998/namespace",D="http://www.w3.org/2000/xmlns/",A={xml:E,xmlns:D},U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function H(N){return N===" "||N===`
`||N==="\r"||N==="	"}function q(N){return N==='"'||N==="'"}function ce(N){return N===">"||H(N)}function ae(N,R){return N.test(R)}function de(N,R){return!ae(N,R)}var G=0;e.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(N){var R=e.ENTITIES[N],te=typeof R=="number"?String.fromCharCode(R):R;e.ENTITIES[N]=te});for(var Te in e.STATE)e.STATE[e.STATE[Te]]=Te;G=e.STATE;function Re(N,R,te){N[R]&&N[R](te)}function Z(N,R,te){N.textNode&&pe(N),Re(N,R,te)}function pe(N){N.textNode=B(N.opt,N.textNode),N.textNode&&Re(N,"ontext",N.textNode),N.textNode=""}function B(N,R){return N.trim&&(R=R.trim()),N.normalize&&(R=R.replace(/\s+/g," ")),R}function he(N,R){return pe(N),N.trackPosition&&(R+=`
Line: `+N.line+`
Column: `+N.column+`
Char: `+N.c),R=new Error(R),N.error=R,Re(N,"onerror",R),N}function le(N){return N.sawRoot&&!N.closedRoot&&se(N,"Unclosed root tag"),N.state!==G.BEGIN&&N.state!==G.BEGIN_WHITESPACE&&N.state!==G.TEXT&&he(N,"Unexpected end"),pe(N),N.c="",N.closed=!0,Re(N,"onend"),o.call(N,N.strict,N.opt),N}function se(N,R){if(typeof N!="object"||!(N instanceof o))throw new Error("bad call to strictFail");N.strict&&he(N,R)}function Ce(N){N.strict||(N.tagName=N.tagName[N.looseCase]());var R=N.tags[N.tags.length-1]||N,te=N.tag={name:N.tagName,attributes:{}};N.opt.xmlns&&(te.ns=R.ns),N.attribList.length=0,Z(N,"onopentagstart",te)}function ue(N,R){var te=N.indexOf(":"),W=te<0?["",N]:N.split(":"),z=W[0],F=W[1];return R&&N==="xmlns"&&(z="xmlns",F=""),{prefix:z,local:F}}function K(N){if(N.strict||(N.attribName=N.attribName[N.looseCase]()),N.attribList.indexOf(N.attribName)!==-1||N.tag.attributes.hasOwnProperty(N.attribName)){N.attribName=N.attribValue="";return}if(N.opt.xmlns){var R=ue(N.attribName,!0),te=R.prefix,W=R.local;if(te==="xmlns")if(W==="xml"&&N.attribValue!==E)se(N,"xml: prefix must be bound to "+E+`
Actual: `+N.attribValue);else if(W==="xmlns"&&N.attribValue!==D)se(N,"xmlns: prefix must be bound to "+D+`
Actual: `+N.attribValue);else{var z=N.tag,F=N.tags[N.tags.length-1]||N;z.ns===F.ns&&(z.ns=Object.create(F.ns)),z.ns[W]=N.attribValue}N.attribList.push([N.attribName,N.attribValue])}else N.tag.attributes[N.attribName]=N.attribValue,Z(N,"onattribute",{name:N.attribName,value:N.attribValue});N.attribName=N.attribValue=""}function Y(N,R){if(N.opt.xmlns){var te=N.tag,W=ue(N.tagName);te.prefix=W.prefix,te.local=W.local,te.uri=te.ns[W.prefix]||"",te.prefix&&!te.uri&&(se(N,"Unbound namespace prefix: "+JSON.stringify(N.tagName)),te.uri=W.prefix);var z=N.tags[N.tags.length-1]||N;te.ns&&z.ns!==te.ns&&Object.keys(te.ns).forEach(function(Q){Z(N,"onopennamespace",{prefix:Q,uri:te.ns[Q]})});for(var F=0,ie=N.attribList.length;F<ie;F++){var _=N.attribList[F],re=_[0],I=_[1],v=ue(re,!0),T=v.prefix,b=v.local,X=T===""?"":te.ns[T]||"",ne={name:re,value:I,prefix:T,local:b,uri:X};T&&T!=="xmlns"&&!X&&(se(N,"Unbound namespace prefix: "+JSON.stringify(T)),ne.uri=T),N.tag.attributes[re]=ne,Z(N,"onattribute",ne)}N.attribList.length=0}N.tag.isSelfClosing=!!R,N.sawRoot=!0,N.tags.push(N.tag),Z(N,"onopentag",N.tag),R||(!N.noscript&&N.tagName.toLowerCase()==="script"?N.state=G.SCRIPT:N.state=G.TEXT,N.tag=null,N.tagName=""),N.attribName=N.attribValue="",N.attribList.length=0}function P(N){if(!N.tagName){se(N,"Weird empty close tag."),N.textNode+="</>",N.state=G.TEXT;return}if(N.script){if(N.tagName!=="script"){N.script+="</"+N.tagName+">",N.tagName="",N.state=G.SCRIPT;return}Z(N,"onscript",N.script),N.script=""}var R=N.tags.length,te=N.tagName;N.strict||(te=te[N.looseCase]());for(var W=te;R--;){var z=N.tags[R];if(z.name!==W)se(N,"Unexpected close tag");else break}if(R<0){se(N,"Unmatched closing tag: "+N.tagName),N.textNode+="</"+N.tagName+">",N.state=G.TEXT;return}N.tagName=te;for(var F=N.tags.length;F-- >R;){var ie=N.tag=N.tags.pop();N.tagName=N.tag.name,Z(N,"onclosetag",N.tagName);var _={};for(var re in ie.ns)_[re]=ie.ns[re];var I=N.tags[N.tags.length-1]||N;N.opt.xmlns&&ie.ns!==I.ns&&Object.keys(ie.ns).forEach(function(v){var T=ie.ns[v];Z(N,"onclosenamespace",{prefix:v,uri:T})})}R===0&&(N.closedRoot=!0),N.tagName=N.attribValue=N.attribName="",N.attribList.length=0,N.state=G.TEXT}function J(N){var R=N.entity,te=R.toLowerCase(),W,z="";return N.ENTITIES[R]?N.ENTITIES[R]:N.ENTITIES[te]?N.ENTITIES[te]:(R=te,R.charAt(0)==="#"&&(R.charAt(1)==="x"?(R=R.slice(2),W=parseInt(R,16),z=W.toString(16)):(R=R.slice(1),W=parseInt(R,10),z=W.toString(10))),R=R.replace(/^0+/,""),isNaN(W)||z.toLowerCase()!==R?(se(N,"Invalid character entity"),"&"+N.entity+";"):String.fromCodePoint(W))}function j(N,R){R==="<"?(N.state=G.OPEN_WAKA,N.startTagPosition=N.position):H(R)||(se(N,"Non-whitespace before first tag."),N.textNode=R,N.state=G.TEXT)}function ee(N,R){var te="";return R<N.length&&(te=N.charAt(R)),te}function $(N){var R=this;if(this.error)throw this.error;if(R.closed)return he(R,"Cannot write after close. Assign an onready handler.");if(N===null)return le(R);typeof N=="object"&&(N=N.toString());for(var te=0,W="";W=ee(N,te++),R.c=W,!!W;)switch(R.trackPosition&&(R.position++,W===`
`?(R.line++,R.column=0):R.column++),R.state){case G.BEGIN:if(R.state=G.BEGIN_WHITESPACE,W==="\uFEFF")continue;j(R,W);continue;case G.BEGIN_WHITESPACE:j(R,W);continue;case G.TEXT:if(R.sawRoot&&!R.closedRoot){for(var z=te-1;W&&W!=="<"&&W!=="&";)W=ee(N,te++),W&&R.trackPosition&&(R.position++,W===`
`?(R.line++,R.column=0):R.column++);R.textNode+=N.substring(z,te-1)}W==="<"&&!(R.sawRoot&&R.closedRoot&&!R.strict)?(R.state=G.OPEN_WAKA,R.startTagPosition=R.position):(!H(W)&&(!R.sawRoot||R.closedRoot)&&se(R,"Text data outside of root node."),W==="&"?R.state=G.TEXT_ENTITY:R.textNode+=W);continue;case G.SCRIPT:W==="<"?R.state=G.SCRIPT_ENDING:R.script+=W;continue;case G.SCRIPT_ENDING:W==="/"?R.state=G.CLOSE_TAG:(R.script+="<"+W,R.state=G.SCRIPT);continue;case G.OPEN_WAKA:if(W==="!")R.state=G.SGML_DECL,R.sgmlDecl="";else if(!H(W))if(ae(U,W))R.state=G.OPEN_TAG,R.tagName=W;else if(W==="/")R.state=G.CLOSE_TAG,R.tagName="";else if(W==="?")R.state=G.PROC_INST,R.procInstName=R.procInstBody="";else{if(se(R,"Unencoded <"),R.startTagPosition+1<R.position){var F=R.position-R.startTagPosition;W=new Array(F).join(" ")+W}R.textNode+="<"+W,R.state=G.TEXT}continue;case G.SGML_DECL:(R.sgmlDecl+W).toUpperCase()===x?(Z(R,"onopencdata"),R.state=G.CDATA,R.sgmlDecl="",R.cdata=""):R.sgmlDecl+W==="--"?(R.state=G.COMMENT,R.comment="",R.sgmlDecl=""):(R.sgmlDecl+W).toUpperCase()===S?(R.state=G.DOCTYPE,(R.doctype||R.sawRoot)&&se(R,"Inappropriately located doctype declaration"),R.doctype="",R.sgmlDecl=""):W===">"?(Z(R,"onsgmldeclaration",R.sgmlDecl),R.sgmlDecl="",R.state=G.TEXT):(q(W)&&(R.state=G.SGML_DECL_QUOTED),R.sgmlDecl+=W);continue;case G.SGML_DECL_QUOTED:W===R.q&&(R.state=G.SGML_DECL,R.q=""),R.sgmlDecl+=W;continue;case G.DOCTYPE:W===">"?(R.state=G.TEXT,Z(R,"ondoctype",R.doctype),R.doctype=!0):(R.doctype+=W,W==="["?R.state=G.DOCTYPE_DTD:q(W)&&(R.state=G.DOCTYPE_QUOTED,R.q=W));continue;case G.DOCTYPE_QUOTED:R.doctype+=W,W===R.q&&(R.q="",R.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:R.doctype+=W,W==="]"?R.state=G.DOCTYPE:q(W)&&(R.state=G.DOCTYPE_DTD_QUOTED,R.q=W);continue;case G.DOCTYPE_DTD_QUOTED:R.doctype+=W,W===R.q&&(R.state=G.DOCTYPE_DTD,R.q="");continue;case G.COMMENT:W==="-"?R.state=G.COMMENT_ENDING:R.comment+=W;continue;case G.COMMENT_ENDING:W==="-"?(R.state=G.COMMENT_ENDED,R.comment=B(R.opt,R.comment),R.comment&&Z(R,"oncomment",R.comment),R.comment=""):(R.comment+="-"+W,R.state=G.COMMENT);continue;case G.COMMENT_ENDED:W!==">"?(se(R,"Malformed comment"),R.comment+="--"+W,R.state=G.COMMENT):R.state=G.TEXT;continue;case G.CDATA:W==="]"?R.state=G.CDATA_ENDING:R.cdata+=W;continue;case G.CDATA_ENDING:W==="]"?R.state=G.CDATA_ENDING_2:(R.cdata+="]"+W,R.state=G.CDATA);continue;case G.CDATA_ENDING_2:W===">"?(R.cdata&&Z(R,"oncdata",R.cdata),Z(R,"onclosecdata"),R.cdata="",R.state=G.TEXT):W==="]"?R.cdata+="]":(R.cdata+="]]"+W,R.state=G.CDATA);continue;case G.PROC_INST:W==="?"?R.state=G.PROC_INST_ENDING:H(W)?R.state=G.PROC_INST_BODY:R.procInstName+=W;continue;case G.PROC_INST_BODY:if(!R.procInstBody&&H(W))continue;W==="?"?R.state=G.PROC_INST_ENDING:R.procInstBody+=W;continue;case G.PROC_INST_ENDING:W===">"?(Z(R,"onprocessinginstruction",{name:R.procInstName,body:R.procInstBody}),R.procInstName=R.procInstBody="",R.state=G.TEXT):(R.procInstBody+="?"+W,R.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:ae(C,W)?R.tagName+=W:(Ce(R),W===">"?Y(R):W==="/"?R.state=G.OPEN_TAG_SLASH:(H(W)||se(R,"Invalid character in tag name"),R.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:W===">"?(Y(R,!0),P(R)):(se(R,"Forward-slash in opening tag not followed by >"),R.state=G.ATTRIB);continue;case G.ATTRIB:if(H(W))continue;W===">"?Y(R):W==="/"?R.state=G.OPEN_TAG_SLASH:ae(U,W)?(R.attribName=W,R.attribValue="",R.state=G.ATTRIB_NAME):se(R,"Invalid attribute name");continue;case G.ATTRIB_NAME:W==="="?R.state=G.ATTRIB_VALUE:W===">"?(se(R,"Attribute without value"),R.attribValue=R.attribName,K(R),Y(R)):H(W)?R.state=G.ATTRIB_NAME_SAW_WHITE:ae(C,W)?R.attribName+=W:se(R,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if(W==="=")R.state=G.ATTRIB_VALUE;else{if(H(W))continue;se(R,"Attribute without value"),R.tag.attributes[R.attribName]="",R.attribValue="",Z(R,"onattribute",{name:R.attribName,value:""}),R.attribName="",W===">"?Y(R):ae(U,W)?(R.attribName=W,R.state=G.ATTRIB_NAME):(se(R,"Invalid attribute name"),R.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(H(W))continue;q(W)?(R.q=W,R.state=G.ATTRIB_VALUE_QUOTED):(se(R,"Unquoted attribute value"),R.state=G.ATTRIB_VALUE_UNQUOTED,R.attribValue=W);continue;case G.ATTRIB_VALUE_QUOTED:if(W!==R.q){W==="&"?R.state=G.ATTRIB_VALUE_ENTITY_Q:R.attribValue+=W;continue}K(R),R.q="",R.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:H(W)?R.state=G.ATTRIB:W===">"?Y(R):W==="/"?R.state=G.OPEN_TAG_SLASH:ae(U,W)?(se(R,"No whitespace between attributes"),R.attribName=W,R.attribValue="",R.state=G.ATTRIB_NAME):se(R,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(!ce(W)){W==="&"?R.state=G.ATTRIB_VALUE_ENTITY_U:R.attribValue+=W;continue}K(R),W===">"?Y(R):R.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(R.tagName)W===">"?P(R):ae(C,W)?R.tagName+=W:R.script?(R.script+="</"+R.tagName,R.tagName="",R.state=G.SCRIPT):(H(W)||se(R,"Invalid tagname in closing tag"),R.state=G.CLOSE_TAG_SAW_WHITE);else{if(H(W))continue;de(U,W)?R.script?(R.script+="</"+W,R.state=G.SCRIPT):se(R,"Invalid tagname in closing tag."):R.tagName=W}continue;case G.CLOSE_TAG_SAW_WHITE:if(H(W))continue;W===">"?P(R):se(R,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var ie,_;switch(R.state){case G.TEXT_ENTITY:ie=G.TEXT,_="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:ie=G.ATTRIB_VALUE_QUOTED,_="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:ie=G.ATTRIB_VALUE_UNQUOTED,_="attribValue";break}W===";"?(R[_]+=J(R),R.entity="",R.state=ie):ae(R.entity.length?O:M,W)?R.entity+=W:(se(R,"Invalid character in entity name"),R[_]+="&"+R.entity+W,R.entity="",R.state=ie);continue;default:throw new Error(R,"Unknown state: "+R.state)}return R.position>=R.bufferCheckPosition&&a(R),R}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var N=String.fromCharCode,R=Math.floor,te=function(){var W=16384,z=[],F,ie,_=-1,re=arguments.length;if(!re)return"";for(var I="";++_<re;){var v=Number(arguments[_]);if(!isFinite(v)||v<0||v>1114111||R(v)!==v)throw RangeError("Invalid code point: "+v);v<=65535?z.push(v):(v-=65536,F=(v>>10)+55296,ie=v%1024+56320,z.push(F,ie)),(_+1===re||z.length>W)&&(I+=N.apply(null,z),z.length=0)}return I};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te})()})(t)})(mw);var Bd={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},J5=Bd.isArray,Pd={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!J5(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},W5=mw,gt=Pd,vo=Bd.isArray,_e,$e;function $5(t){return _e=gt.copyOptions(t),gt.ensureFlagExists("ignoreDeclaration",_e),gt.ensureFlagExists("ignoreInstruction",_e),gt.ensureFlagExists("ignoreAttributes",_e),gt.ensureFlagExists("ignoreText",_e),gt.ensureFlagExists("ignoreComment",_e),gt.ensureFlagExists("ignoreCdata",_e),gt.ensureFlagExists("ignoreDoctype",_e),gt.ensureFlagExists("compact",_e),gt.ensureFlagExists("alwaysChildren",_e),gt.ensureFlagExists("addParent",_e),gt.ensureFlagExists("trim",_e),gt.ensureFlagExists("nativeType",_e),gt.ensureFlagExists("nativeTypeAttributes",_e),gt.ensureFlagExists("sanitize",_e),gt.ensureFlagExists("instructionHasAttributes",_e),gt.ensureFlagExists("captureSpacesBetweenElements",_e),gt.ensureAlwaysArrayExists(_e),gt.ensureKeyExists("declaration",_e),gt.ensureKeyExists("instruction",_e),gt.ensureKeyExists("attributes",_e),gt.ensureKeyExists("text",_e),gt.ensureKeyExists("comment",_e),gt.ensureKeyExists("cdata",_e),gt.ensureKeyExists("doctype",_e),gt.ensureKeyExists("type",_e),gt.ensureKeyExists("name",_e),gt.ensureKeyExists("elements",_e),gt.ensureKeyExists("parent",_e),_e}function Gw(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function Ys(t,e){var r;if(_e.compact){if(!$e[_e[t+"Key"]]&&(vo(_e.alwaysArray)?_e.alwaysArray.indexOf(_e[t+"Key"])!==-1:_e.alwaysArray)&&($e[_e[t+"Key"]]=[]),$e[_e[t+"Key"]]&&!vo($e[_e[t+"Key"]])&&($e[_e[t+"Key"]]=[$e[_e[t+"Key"]]]),t+"Fn"in _e&&typeof e=="string"&&(e=_e[t+"Fn"](e,$e)),t==="instruction"&&("instructionFn"in _e||"instructionNameFn"in _e)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in _e)e[r]=_e.instructionFn(e[r],r,$e);else{var o=e[r];delete e[r],e[_e.instructionNameFn(r,o,$e)]=o}}vo($e[_e[t+"Key"]])?$e[_e[t+"Key"]].push(e):$e[_e[t+"Key"]]=e}else{$e[_e.elementsKey]||($e[_e.elementsKey]=[]);var a={};if(a[_e.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;a[_e.nameKey]="instructionNameFn"in _e?_e.instructionNameFn(r,e,$e):r,_e.instructionHasAttributes?(a[_e.attributesKey]=e[r][_e.attributesKey],"instructionFn"in _e&&(a[_e.attributesKey]=_e.instructionFn(a[_e.attributesKey],r,$e))):("instructionFn"in _e&&(e[r]=_e.instructionFn(e[r],r,$e)),a[_e.instructionKey]=e[r])}else t+"Fn"in _e&&(e=_e[t+"Fn"](e,$e)),a[_e[t+"Key"]]=e;_e.addParent&&(a[_e.parentKey]=$e),$e[_e.elementsKey].push(a)}}function zw(t){if("attributesFn"in _e&&t&&(t=_e.attributesFn(t,$e)),(_e.trim||"attributeValueFn"in _e||"attributeNameFn"in _e||_e.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(_e.trim&&(t[e]=t[e].trim()),_e.nativeTypeAttributes&&(t[e]=Gw(t[e])),"attributeValueFn"in _e&&(t[e]=_e.attributeValueFn(t[e],e,$e)),"attributeNameFn"in _e)){var r=t[e];delete t[e],t[_e.attributeNameFn(e,t[e],$e)]=r}}return t}function X5(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||_e.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,o;(o=r.exec(t.body))!==null;)e[o[1]]=o[2]||o[3]||o[4];e=zw(e)}if(t.name.toLowerCase()==="xml"){if(_e.ignoreDeclaration)return;$e[_e.declarationKey]={},Object.keys(e).length&&($e[_e.declarationKey][_e.attributesKey]=e),_e.addParent&&($e[_e.declarationKey][_e.parentKey]=$e)}else{if(_e.ignoreInstruction)return;_e.trim&&(t.body=t.body.trim());var a={};_e.instructionHasAttributes&&Object.keys(e).length?(a[t.name]={},a[t.name][_e.attributesKey]=e):a[t.name]=t.body,Ys("instruction",a)}}function Z5(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=zw(e),"elementNameFn"in _e&&(t=_e.elementNameFn(t,$e)),_e.compact){if(r={},!_e.ignoreAttributes&&e&&Object.keys(e).length){r[_e.attributesKey]={};var o;for(o in e)e.hasOwnProperty(o)&&(r[_e.attributesKey][o]=e[o])}!(t in $e)&&(vo(_e.alwaysArray)?_e.alwaysArray.indexOf(t)!==-1:_e.alwaysArray)&&($e[t]=[]),$e[t]&&!vo($e[t])&&($e[t]=[$e[t]]),vo($e[t])?$e[t].push(r):$e[t]=r}else $e[_e.elementsKey]||($e[_e.elementsKey]=[]),r={},r[_e.typeKey]="element",r[_e.nameKey]=t,!_e.ignoreAttributes&&e&&Object.keys(e).length&&(r[_e.attributesKey]=e),_e.alwaysChildren&&(r[_e.elementsKey]=[]),$e[_e.elementsKey].push(r);r[_e.parentKey]=$e,$e=r}function Q5(t){_e.ignoreText||!t.trim()&&!_e.captureSpacesBetweenElements||(_e.trim&&(t=t.trim()),_e.nativeType&&(t=Gw(t)),_e.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),Ys("text",t))}function j5(t){_e.ignoreComment||(_e.trim&&(t=t.trim()),Ys("comment",t))}function eI(t){var e=$e[_e.parentKey];_e.addParent||delete $e[_e.parentKey],$e=e}function tI(t){_e.ignoreCdata||(_e.trim&&(t=t.trim()),Ys("cdata",t))}function nI(t){_e.ignoreDoctype||(t=t.replace(/^ /,""),_e.trim&&(t=t.trim()),Ys("doctype",t))}function rI(t){t.note=t}var Vw=function(t,e){var r=W5.parser(!0,{}),o={};if($e=o,_e=$5(e),r.opt={strictEntities:!0},r.onopentag=Z5,r.ontext=Q5,r.oncomment=j5,r.onclosetag=eI,r.onerror=rI,r.oncdata=tI,r.ondoctype=nI,r.onprocessinginstruction=X5,r.write(t).close(),o[_e.elementsKey]){var a=o[_e.elementsKey];delete o[_e.elementsKey],o[_e.elementsKey]=a,delete o.text}return o},av=Pd,iI=Vw;function oI(t){var e=av.copyOptions(t);return av.ensureSpacesExists(e),e}var sI=function(t,e){var r,o,a,c;return r=oI(e),o=iI(t,r),c="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?a=JSON.stringify(o,function(d,h){return d===c?"_":h},r.spaces):a=JSON.stringify(o,null,r.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Et=Pd,aI=Bd.isArray,rn,on;function lI(t){var e=Et.copyOptions(t);return Et.ensureFlagExists("ignoreDeclaration",e),Et.ensureFlagExists("ignoreInstruction",e),Et.ensureFlagExists("ignoreAttributes",e),Et.ensureFlagExists("ignoreText",e),Et.ensureFlagExists("ignoreComment",e),Et.ensureFlagExists("ignoreCdata",e),Et.ensureFlagExists("ignoreDoctype",e),Et.ensureFlagExists("compact",e),Et.ensureFlagExists("indentText",e),Et.ensureFlagExists("indentCdata",e),Et.ensureFlagExists("indentAttributes",e),Et.ensureFlagExists("indentInstruction",e),Et.ensureFlagExists("fullTagEmptyElement",e),Et.ensureFlagExists("noQuotesForNativeAttributes",e),Et.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),Et.ensureKeyExists("declaration",e),Et.ensureKeyExists("instruction",e),Et.ensureKeyExists("attributes",e),Et.ensureKeyExists("text",e),Et.ensureKeyExists("comment",e),Et.ensureKeyExists("cdata",e),Et.ensureKeyExists("doctype",e),Et.ensureKeyExists("type",e),Et.ensureKeyExists("name",e),Et.ensureKeyExists("elements",e),e}function Zn(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function ql(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,on,rn));var o,a,c,d,h=[];for(o in t)t.hasOwnProperty(o)&&t[o]!==null&&t[o]!==void 0&&(d=e.noQuotesForNativeAttributes&&typeof t[o]!="string"?"":'"',a=""+t[o],a=a.replace(/"/g,"&quot;"),c="attributeNameFn"in e?e.attributeNameFn(o,a,on,rn):o,h.push(e.spaces&&e.indentAttributes?Zn(e,r+1,!1):" "),h.push(c+"="+d+("attributeValueFn"in e?e.attributeValueFn(a,o,on,rn):a)+d));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&h.push(Zn(e,r,!1)),h.join("")}function qw(t,e,r){return rn=t,on="xml",e.ignoreDeclaration?"":"<?xml"+ql(t[e.attributesKey],e,r)+"?>"}function Hw(t,e,r){if(e.ignoreInstruction)return"";var o;for(o in t)if(t.hasOwnProperty(o))break;var a="instructionNameFn"in e?e.instructionNameFn(o,t[o],on,rn):o;if(typeof t[o]=="object")return rn=t,on=a,"<?"+a+ql(t[o][e.attributesKey],e,r)+"?>";var c=t[o]?t[o]:"";return"instructionFn"in e&&(c=e.instructionFn(c,o,on,rn)),"<?"+a+(c?" "+c:"")+"?>"}function Kw(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,on,rn):t)+"-->"}function Yw(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,on,rn):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Jw(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,on,rn):t)+">"}function Od(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,on,rn):t)}function uI(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function cI(t,e,r){rn=t,on=t.name;var o=[],a="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;o.push("<"+a),t[e.attributesKey]&&o.push(ql(t[e.attributesKey],e,r));var c=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return c||("fullTagEmptyElementFn"in e?c=e.fullTagEmptyElementFn(t.name,t):c=e.fullTagEmptyElement),c?(o.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(o.push(Ww(t[e.elementsKey],e,r+1)),rn=t,on=t.name),o.push(e.spaces&&uI(t,e)?`
`+Array(r+1).join(e.spaces):""),o.push("</"+a+">")):o.push("/>"),o.join("")}function Ww(t,e,r,o){return t.reduce(function(a,c){var d=Zn(e,r,o&&!a);switch(c.type){case"element":return a+d+cI(c,e,r);case"comment":return a+d+Kw(c[e.commentKey],e);case"doctype":return a+d+Jw(c[e.doctypeKey],e);case"cdata":return a+(e.indentCdata?d:"")+Yw(c[e.cdataKey],e);case"text":return a+(e.indentText?d:"")+Od(c[e.textKey],e);case"instruction":var h={};return h[c[e.nameKey]]=c[e.attributesKey]?c:c[e.instructionKey],a+(e.indentInstruction?d:"")+Hw(h,e,r)}},"")}function $w(t,e,r){var o;for(o in t)if(t.hasOwnProperty(o))switch(o){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function fI(t,e,r,o,a){rn=t,on=e;var c="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var d=[];if(e){if(d.push("<"+c),typeof t!="object")return d.push(">"+Od(t,r)+"</"+c+">"),d.join("");t[r.attributesKey]&&d.push(ql(t[r.attributesKey],r,o));var h=$w(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(h||("fullTagEmptyElementFn"in r?h=r.fullTagEmptyElementFn(e,t):h=r.fullTagEmptyElement),h)d.push(">");else return d.push("/>"),d.join("")}return d.push(Xw(t,r,o+1,!1)),rn=t,on=e,e&&d.push((a?Zn(r,o,!1):"")+"</"+c+">"),d.join("")}function Xw(t,e,r,o){var a,c,d,h=[];for(c in t)if(t.hasOwnProperty(c))for(d=aI(t[c])?t[c]:[t[c]],a=0;a<d.length;++a){switch(c){case e.declarationKey:h.push(qw(d[a],e,r));break;case e.instructionKey:h.push((e.indentInstruction?Zn(e,r,o):"")+Hw(d[a],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:h.push((e.indentText?Zn(e,r,o):"")+Od(d[a],e));break;case e.cdataKey:h.push((e.indentCdata?Zn(e,r,o):"")+Yw(d[a],e));break;case e.doctypeKey:h.push(Zn(e,r,o)+Jw(d[a],e));break;case e.commentKey:h.push(Zn(e,r,o)+Kw(d[a],e));break;default:h.push(Zn(e,r,o)+fI(d[a],c,e,r,$w(d[a],e)))}o=o&&!h.length}return h.join("")}var Zw=function(t,e){e=lI(e);var r=[];return rn=t,on="_root_",e.compact?r.push(Xw(t,e,0,!0)):(t[e.declarationKey]&&r.push(qw(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(Ww(t[e.elementsKey],e,0,!r.length))),r.join("")},dI=Zw,hI=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return dI(r,e)},pI=Vw,mI=sI,gI=Zw,yI=hI,Qw={xml2js:pI,xml2json:mI,js2xml:gI,json2xml:yI};const Fd=t=>{switch(t.type){case void 0:case"element":const e=new wI(t.name,t.attributes),r=t.elements||[];for(const o of r){const a=Fd(o);a!==void 0&&e.push(a)}return e;case"text":return t.text;default:return}};class vI extends Oe{}class wI extends Ee{static fromXmlString(e){const r=Qw.xml2js(e,{compact:!1});return Fd(r)}constructor(e,r){super(e),r&&this.root.push(new vI(r))}push(e){this.root.push(e)}}class xI extends Ee{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class jw extends Ee{constructor(e,r){super(e),r&&(this.root=r.root)}}const pn=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Hl=t=>{const e=pn(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},ex=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},lv=t=>ex(t,1),tx=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},nx=t=>{const e=tx(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},_o=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return ex(e,3)},vi=t=>typeof t=="string"?tx(t):pn(t),TI=t=>typeof t=="string"?nx(t):Hl(t),Vn=t=>typeof t=="string"?nx(t):Hl(t),SI=Hl,EI=Hl,_I=t=>t.toISOString();class Ie extends Ee{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new Pt({val:r}))}}class Zf extends Ee{constructor(e,r){super(e),this.root.push(new Pt({val:TI(r)}))}}class wo extends Ee{constructor(e,r){super(e),this.root.push(new Pt({val:r}))}}const Gs=(t,e)=>new sn({name:t,attributes:{value:{key:"w:val",value:e}}});class Gd extends Ee{constructor(e,r){super(e),this.root.push(new Pt({val:r}))}}class pi extends Ee{constructor(e,r){super(e),this.root.push(r)}}class sn extends Ee{constructor({name:e,attributes:r,children:o}){super(e),r&&this.root.push(new ko(r)),o&&this.root.push(...o)}}const hn={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class bI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class CI extends Ee{constructor(e){super("w:jc"),this.root.push(new bI({val:e}))}}class kt extends Ee{constructor(e,{color:r,size:o,space:a,style:c}){super(e),this.root.push(new AI({style:c,color:r===void 0?void 0:_o(r),size:o===void 0?void 0:SI(o),space:a===void 0?void 0:EI(a)}))}}class AI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const zd={SINGLE:"single",NONE:"none"};class RI extends Gl{constructor(e){super("w:pBdr"),e.top&&this.root.push(new kt("w:top",e.top)),e.bottom&&this.root.push(new kt("w:bottom",e.bottom)),e.left&&this.root.push(new kt("w:left",e.left)),e.right&&this.root.push(new kt("w:right",e.right))}}class NI extends Ee{constructor(){super("w:pBdr");const e=new kt("w:bottom",{color:"auto",space:1,style:zd.SINGLE,size:6});this.root.push(e)}}class DI extends Ee{constructor({start:e,end:r,left:o,right:a,hanging:c,firstLine:d}){super("w:ind"),this.root.push(new ko({start:{key:"w:start",value:e===void 0?void 0:vi(e)},end:{key:"w:end",value:r===void 0?void 0:vi(r)},left:{key:"w:left",value:o===void 0?void 0:vi(o)},right:{key:"w:right",value:a===void 0?void 0:vi(a)},hanging:{key:"w:hanging",value:c===void 0?void 0:Vn(c)},firstLine:{key:"w:firstLine",value:d===void 0?void 0:Vn(d)}}))}}let MI=class extends Ee{constructor(){super("w:br")}};const Vd={BEGIN:"begin",END:"end",SEPARATE:"separate"};class qd extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class gl extends Ee{constructor(e){super("w:fldChar"),this.root.push(new qd({type:Vd.BEGIN,dirty:e}))}}class yl extends Ee{constructor(e){super("w:fldChar"),this.root.push(new qd({type:Vd.SEPARATE,dirty:e}))}}class vl extends Ee{constructor(e){super("w:fldChar"),this.root.push(new qd({type:Vd.END,dirty:e}))}}const bo={DEFAULT:"default",PRESERVE:"preserve"};class Co extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{space:"xml:space"})}}class II extends Ee{constructor(){super("w:instrText"),this.root.push(new Co({space:bo.PRESERVE})),this.root.push("PAGE")}}class kI extends Ee{constructor(){super("w:instrText"),this.root.push(new Co({space:bo.PRESERVE})),this.root.push("NUMPAGES")}}class UI extends Ee{constructor(){super("w:instrText"),this.root.push(new Co({space:bo.PRESERVE})),this.root.push("SECTIONPAGES")}}class LI extends Ee{constructor(){super("w:instrText"),this.root.push(new Co({space:bo.PRESERVE})),this.root.push("SECTION")}}class BI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class rx extends Ee{constructor({fill:e,color:r,type:o}){super("w:shd"),this.root.push(new BI({fill:e===void 0?void 0:_o(e),color:r===void 0?void 0:_o(r),type:o}))}}class PI extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const OI={DOT:"dot"};class FI extends Ee{constructor(e){super("w:em"),this.root.push(new Pt({val:e}))}}class GI extends FI{constructor(e=OI.DOT){super(e)}}class zI extends Ee{constructor(e){super("w:spacing"),this.root.push(new Pt({val:vi(e)}))}}class VI extends Ee{constructor(e){super("w:color"),this.root.push(new Pt({val:_o(e)}))}}class qI extends Ee{constructor(e){super("w:highlight"),this.root.push(new Pt({val:e}))}}class HI extends Ee{constructor(e){super("w:highlightCs"),this.root.push(new Pt({val:e}))}}const KI=t=>new sn({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class uv extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Qf extends Ee{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const o=e;this.root.push(new uv({ascii:o,cs:o,eastAsia:o,hAnsi:o,hint:r}))}else{const o=e;this.root.push(new uv(o))}}}let ix=class extends Ee{constructor(e){super("w:vertAlign"),this.root.push(new Pt({val:e}))}};class YI extends ix{constructor(){super("superscript")}}class JI extends ix{constructor(){super("subscript")}}const Hd={SINGLE:"single"};class WI extends Ee{constructor(e=Hd.SINGLE,r){super("w:u"),this.root.push(new Pt({val:e,color:r===void 0?void 0:_o(r)}))}}class Ei extends Gl{constructor(e){var r,o;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Ie("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Ie("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Ie("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Ie("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Ie("w:iCs",(o=e.italicsComplexScript)!=null?o:e.italics)),e.underline&&this.push(new WI(e.underline.type,e.underline.color)),e.effect&&this.push(new wo("w:effect",e.effect)),e.emphasisMark&&this.push(new GI(e.emphasisMark.type)),e.color&&this.push(new VI(e.color)),e.kern&&this.push(new Zf("w:kern",e.kern)),e.position&&this.push(new wo("w:position",e.position)),e.size!==void 0&&this.push(new Zf("w:sz",e.size));const a=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;a&&this.push(new Zf("w:szCs",a)),e.rightToLeft!==void 0&&this.push(new Ie("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Ie("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Ie("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Ie("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Ie("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new JI),e.superScript&&this.push(new YI),e.style&&this.push(new wo("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Qf(e.font)):"name"in e.font?this.push(new Qf(e.font.name,e.font.hint)):this.push(new Qf(e.font))),e.highlight&&this.push(new qI(e.highlight));const c=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;c&&this.push(new HI(c)),e.characterSpacing&&this.push(new zI(e.characterSpacing)),e.emboss!==void 0&&this.push(new Ie("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Ie("w:imprint",e.imprint)),e.shading&&this.push(new rx(e.shading)),e.revision&&this.push(new $I(e.revision)),e.border&&this.push(new kt("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Ie("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Ie("w:vanish",e.vanish)),e.specVanish&&this.push(new Ie("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new Gd("w:w",e.scale)),e.language&&this.push(KI(e.language)),e.math&&this.push(new Ie("w:oMath",e.math))}push(e){this.root.push(e)}}class $I extends Ee{constructor(e){super("w:rPrChange"),this.root.push(new PI({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ei(e))}}class vd extends Ee{constructor(e){var r;return super("w:t"),typeof e=="string"?(this.root.push(new Co({space:bo.PRESERVE})),this.root.push(e),this):(this.root.push(new Co({space:(r=e.space)!=null?r:bo.DEFAULT})),this.root.push(e.text),this)}}const wl={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Js extends Ee{constructor(e){if(super("w:r"),Se(this,"properties"),this.properties=new Ei(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new MI);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case wl.CURRENT:this.root.push(new gl),this.root.push(new II),this.root.push(new yl),this.root.push(new vl);break;case wl.TOTAL_PAGES:this.root.push(new gl),this.root.push(new kI),this.root.push(new yl),this.root.push(new vl);break;case wl.TOTAL_PAGES_IN_SECTION:this.root.push(new gl),this.root.push(new UI),this.root.push(new yl),this.root.push(new vl);break;case wl.CURRENT_SECTION:this.root.push(new gl),this.root.push(new LI),this.root.push(new yl),this.root.push(new vl);break;default:this.root.push(new vd(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new vd(e.text))}}class gi extends Js{constructor(e){if(typeof e=="string")return super({}),this.root.push(new vd(e)),this;super(e)}}let XI="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ZI=(t,e=21)=>(r=e)=>{let o="",a=r;for(;a--;)o+=t[Math.random()*t.length|0];return o},QI=(t=21)=>{let e="",r=t;for(;r--;)e+=XI[Math.random()*64|0];return e};const zn=t=>Math.floor(t*72*20),Kl=(t=0)=>{let e=t;return()=>++e},jI=()=>Kl(),ek=()=>Kl(1),tk=()=>Kl(),nk=()=>Kl(),ox=()=>QI().toLowerCase(),zs=t=>ZI("1234567890abcdef",t)(),rk=()=>`${zs(8)}-${zs(4)}-${zs(4)}-${zs(4)}-${zs(12)}`,ik={PAGE:"page"},ok={PAGE:"page"};class sk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{x:"x",y:"y"})}}class ak extends Ee{constructor(){super("wp:simplePos"),this.root.push(new sk({x:0,y:0}))}}class sx extends Ee{constructor(e){super("wp:align"),this.root.push(e)}}class ax extends Ee{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class lk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class uk extends Ee{constructor(e){if(super("wp:positionH"),this.root.push(new lk({relativeFrom:e.relative||ik.PAGE})),e.align)this.root.push(new sx(e.align));else if(e.offset!==void 0)this.root.push(new ax(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class ck extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class fk extends Ee{constructor(e){if(super("wp:positionV"),this.root.push(new ck({relativeFrom:e.relative||ok.PAGE})),e.align)this.root.push(new sx(e.align));else if(e.offset!==void 0)this.root.push(new ax(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class dk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{uri:"uri"})}}class hk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{embed:"r:embed",cstate:"cstate"})}}class pk extends Ee{constructor(e){super("a:blip"),this.root.push(new hk({embed:`rId{${e.fileName}}`,cstate:"none"}))}}class mk extends Ee{constructor(){super("a:srcRect")}}class gk extends Ee{constructor(){super("a:fillRect")}}class yk extends Ee{constructor(){super("a:stretch"),this.root.push(new gk)}}class vk extends Ee{constructor(e){super("pic:blipFill"),this.root.push(new pk(e)),this.root.push(new mk),this.root.push(new yk)}}class wk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class xk extends Ee{constructor(){super("a:picLocks"),this.root.push(new wk({noChangeAspect:1,noChangeArrowheads:1}))}}class Tk extends Ee{constructor(){super("pic:cNvPicPr"),this.root.push(new xk)}}const lx=(t,e)=>new sn({name:"a:hlinkClick",attributes:So(lt({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class Sk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class Ek extends Ee{constructor(){super("pic:cNvPr"),this.root.push(new Sk({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof Kd){this.root.push(lx(o.linkId,!1));break}}return super.prepForXml(e)}}class _k extends Ee{constructor(){super("pic:nvPicPr"),this.root.push(new Ek),this.root.push(new Tk)}}class bk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class Ck extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Ak extends Ee{constructor(e,r){super("a:ext"),Se(this,"attributes"),this.attributes=new Ck({cx:e,cy:r}),this.root.push(this.attributes)}}class Rk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{x:"x",y:"y"})}}class Nk extends Ee{constructor(){super("a:off"),this.root.push(new Rk({x:0,y:0}))}}class Dk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class Mk extends Ee{constructor(e){var r,o;super("a:xfrm"),Se(this,"extents"),this.root.push(new Dk({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(o=e.flip)==null?void 0:o.horizontal,rotation:e.rotation})),this.extents=new Ak(e.emus.x,e.emus.y),this.root.push(new Nk),this.root.push(this.extents)}}const ux=()=>new sn({name:"a:noFill"}),Ik=t=>new sn({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),kk=t=>new sn({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),cv=t=>new sn({name:"a:solidFill",children:[t.type==="rgb"?kk(t):Ik(t)]}),Uk=t=>new sn({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?ux():t.solidFillType==="rgb"?cv({type:"rgb",value:t.value}):cv({type:"scheme",value:t.value})]});class Lk extends Ee{constructor(){super("a:avLst")}}class Bk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{prst:"prst"})}}class Pk extends Ee{constructor(){super("a:prstGeom"),this.root.push(new Bk({prst:"rect"})),this.root.push(new Lk)}}class Ok extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{bwMode:"bwMode"})}}class Fk extends Ee{constructor({outline:e,transform:r}){super("pic:spPr"),Se(this,"form"),this.root.push(new Ok({bwMode:"auto"})),this.form=new Mk(r),this.root.push(this.form),this.root.push(new Pk),e&&(this.root.push(ux()),this.root.push(Uk(e)))}}class Gk extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("pic:pic"),this.root.push(new bk({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new _k),this.root.push(new vk(e)),this.root.push(new Fk({transform:r,outline:o}))}}class zk extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("a:graphicData"),Se(this,"pic"),this.root.push(new dk({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new Gk({mediaData:e,transform:r,outline:o}),this.root.push(this.pic)}}class Vk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{a:"xmlns:a"})}}class cx extends Ee{constructor({mediaData:e,transform:r,outline:o}){super("a:graphic"),Se(this,"data"),this.root.push(new Vk({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new zk({mediaData:e,transform:r,outline:o}),this.root.push(this.data)}}const xl={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},qk={BOTH_SIDES:"bothSides"};class fv extends Ee{constructor(){super("wp:wrapNone")}}class Hk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class Kk extends Ee{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new Hk({wrapText:e.side||qk.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class Yk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class Jk extends Ee{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new Yk({distT:e.top,distB:e.bottom}))}}class Wk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class $k extends Ee{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new Wk({distT:e.top,distB:e.bottom}))}}class fx extends Ee{constructor({name:e,description:r,title:o}={name:"",description:"",title:""}){super("wp:docPr"),Se(this,"docPropertiesUniqueNumericId",tk()),this.root.push(new ko({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:r},title:{key:"title",value:o}}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof Kd){this.root.push(lx(o.linkId,!0));break}}return super.prepForXml(e)}}const dx=({top:t,right:e,bottom:r,left:o})=>new sn({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:o}}});class Xk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class hx extends Ee{constructor(e,r){super("wp:extent"),Se(this,"attributes"),this.attributes=new Xk({cx:e,cy:r}),this.root.push(this.attributes)}}class Zk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class Qk extends Ee{constructor(){super("a:graphicFrameLocks"),this.root.push(new Zk({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class px extends Ee{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new Qk)}}class jk extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class e6 extends Ee{constructor({mediaData:e,transform:r,drawingOptions:o}){super("wp:anchor");const a=lt({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},o.floating);if(this.root.push(new jk({distT:a.margins&&a.margins.top||0,distB:a.margins&&a.margins.bottom||0,distL:a.margins&&a.margins.left||0,distR:a.margins&&a.margins.right||0,simplePos:"0",allowOverlap:a.allowOverlap===!0?"1":"0",behindDoc:a.behindDocument===!0?"1":"0",locked:a.lockAnchor===!0?"1":"0",layoutInCell:a.layoutInCell===!0?"1":"0",relativeHeight:a.zIndex?a.zIndex:r.emus.y})),this.root.push(new ak),this.root.push(new uk(a.horizontalPosition)),this.root.push(new fk(a.verticalPosition)),this.root.push(new hx(r.emus.x,r.emus.y)),this.root.push(dx({top:0,right:0,bottom:0,left:0})),o.floating!==void 0&&o.floating.wrap!==void 0)switch(o.floating.wrap.type){case xl.SQUARE:this.root.push(new Kk(o.floating.wrap,o.floating.margins));break;case xl.TIGHT:this.root.push(new Jk(o.floating.margins));break;case xl.TOP_AND_BOTTOM:this.root.push(new $k(o.floating.margins));break;case xl.NONE:default:this.root.push(new fv)}else this.root.push(new fv);this.root.push(new fx(o.docProperties)),this.root.push(new px),this.root.push(new cx({mediaData:e,transform:r,outline:o.outline}))}}const t6=({mediaData:t,transform:e,docProperties:r,outline:o})=>{var a,c,d,h;return new sn({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new hx(e.emus.x,e.emus.y),dx(o?{top:((a=o.width)!=null?a:9525)*2,right:((c=o.width)!=null?c:9525)*2,bottom:((d=o.width)!=null?d:9525)*2,left:((h=o.width)!=null?h:9525)*2}:{top:0,right:0,bottom:0,left:0}),new fx(r),new px,new cx({mediaData:t,transform:e,outline:o})]})};class n6 extends Ee{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new e6({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(t6({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}class r6 extends Js{constructor(e){super({}),Se(this,"key",`${ox()}.png`),Se(this,"imageData");const r=typeof e.data=="string"?this.convertDataURIToBinary(e.data):e.data;this.imageData={stream:r,fileName:this.key,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}};const o=new n6(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(o)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),super.prepForXml(e)}convertDataURIToBinary(e){if(typeof atob=="function"){const r=";base64,",o=e.indexOf(r),a=o===-1?0:o+r.length;return new Uint8Array(atob(e.substring(a)).split("").map(c=>c.charCodeAt(0)))}else{const r=require("buffer");return new r.Buffer(e,"base64")}}}class i6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class o6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class s6 extends Ee{constructor({id:e,initials:r,author:o,date:a=new Date,children:c}){super("w:comment"),this.root.push(new i6({id:e,initials:r,author:o,date:a.toISOString()}));for(const d of c)this.root.push(d)}}class a6 extends Ee{constructor({children:e}){super("w:comments"),this.root.push(new o6({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new s6(r))}}class l6 extends Ee{constructor(){super("w:pageBreakBefore")}}const wd={AUTO:"auto"};class u6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class c6 extends Ee{constructor(e){super("w:spacing"),this.root.push(new u6(e))}}const lo={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",TITLE:"Title"};let Tl=class extends Ee{constructor(e){super("w:pStyle"),this.root.push(new Pt({val:e}))}};class f6 extends Ee{constructor(e){super("w:tabs");for(const r of e)this.root.push(new h6(r))}}const dv={LEFT:"left",RIGHT:"right"};class d6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class h6 extends Ee{constructor({type:e,position:r,leader:o}){super("w:tab"),this.root.push(new d6({val:e,pos:r,leader:o}))}}class hv extends Ee{constructor(e,r){super("w:numPr"),this.root.push(new p6(r)),this.root.push(new m6(e))}}class p6 extends Ee{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Pt({val:e}))}}class m6 extends Ee{constructor(e){super("w:numId"),this.root.push(new Pt({val:typeof e=="string"?`{${e}}`:e}))}}class g6 extends Ee{constructor(){super(...arguments),Se(this,"fileChild",Symbol())}}class y6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const v6={EXTERNAL:"External"};class w6 extends Ee{constructor(e,r,o,a){super("Relationship"),this.root.push(new y6({id:e,type:r,target:o,targetMode:a}))}}class x6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Kd extends Ee{constructor(e,r,o){super("w:hyperlink"),Se(this,"linkId"),this.linkId=r;const a={history:1,anchor:o||void 0,id:o?void 0:`rId${this.linkId}`},c=new x6(a);this.root.push(c),e.forEach(d=>{this.root.push(d)})}}class T6 extends Ee{constructor(e){super("w:externalHyperlink"),this.options=e}}class S6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class E6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id"})}}class _6{constructor(e){Se(this,"bookmarkUniqueNumericId",nk()),Se(this,"start"),Se(this,"children"),Se(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new b6(e.id,r),this.children=e.children,this.end=new C6(r)}}class b6 extends Ee{constructor(e,r){super("w:bookmarkStart");const o=new S6({name:e,id:r});this.root.push(o)}}class C6 extends Ee{constructor(e){super("w:bookmarkEnd");const r=new E6({id:e});this.root.push(r)}}class A6 extends Ee{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Pt({val:e}))}}class R6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{verticalAlign:"w:val"})}}class N6 extends Ee{constructor(e){super("w:vAlign"),this.root.push(new R6({verticalAlign:e}))}}const xo={DEFAULT:"default",FIRST:"first",EVEN:"even"};class D6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const pv={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class jf extends Ee{constructor(e,r){super(e),this.root.push(new D6({type:r.type||xo.DEFAULT,id:`rId${r.id}`}))}}class M6 extends Ee{constructor({space:e,count:r,separate:o,equalWidth:a,children:c}){super("w:cols"),this.root.push(new ko({space:{key:"w:space",value:e===void 0?void 0:Vn(e)},count:{key:"w:num",value:r===void 0?void 0:pn(r)},separate:{key:"w:sep",value:o},equalWidth:{key:"w:equalWidth",value:a}})),!a&&c&&c.forEach(d=>this.addChildElement(d))}}class I6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class k6 extends Ee{constructor(e,r,o){super("w:docGrid"),this.root.push(new I6({type:o,linePitch:pn(e),charSpace:r?pn(r):void 0}))}}const U6=({countBy:t,start:e,restart:r,distance:o})=>new sn({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:pn(t)},start:{key:"w:start",value:e===void 0?void 0:pn(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:o===void 0?void 0:Vn(o)}}});class mv extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class L6 extends Gl{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new mv({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new mv({})),e.pageBorderTop&&this.root.push(new kt("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new kt("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new kt("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new kt("w:right",e.pageBorderRight))}}class B6 extends Ee{constructor(e,r,o,a,c,d,h){super("w:pgMar"),this.root.push(new ko({top:{key:"w:top",value:vi(e)},right:{key:"w:right",value:Vn(r)},bottom:{key:"w:bottom",value:vi(o)},left:{key:"w:left",value:Vn(a)},header:{key:"w:header",value:Vn(c)},footer:{key:"w:footer",value:Vn(d)},gutter:{key:"w:gutter",value:Vn(h)}}))}}class P6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class O6 extends Ee{constructor({start:e,formatType:r,separator:o}){super("w:pgNumType"),this.root.push(new P6({start:e===void 0?void 0:pn(e),formatType:r,separator:o}))}}const mx={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class F6 extends Ee{constructor(e,r,o){super("w:pgSz");const a=o===mx.LANDSCAPE,c=Vn(e),d=Vn(r);this.root.push(new ko({width:{key:"w:w",value:a?d:c},height:{key:"w:h",value:a?c:d},orientation:{key:"w:orient",value:o}}))}}class G6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class z6 extends Ee{constructor(e){super("w:textDirection"),this.root.push(new G6({val:e}))}}class V6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class q6 extends Ee{constructor(e){super("w:type"),this.root.push(new V6({val:e}))}}const mi={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},ed={WIDTH:11906,HEIGHT:16838,ORIENTATION:mx.PORTRAIT};class H6 extends Ee{constructor({page:{size:{width:e=ed.WIDTH,height:r=ed.HEIGHT,orientation:o=ed.ORIENTATION}={},margin:{top:a=mi.TOP,right:c=mi.RIGHT,bottom:d=mi.BOTTOM,left:h=mi.LEFT,header:p=mi.HEADER,footer:m=mi.FOOTER,gutter:y=mi.GUTTER}={},pageNumbers:x={},borders:S,textDirection:E}={},grid:{linePitch:D=360,charSpace:A,type:U}={},headerWrapperGroup:C={},footerWrapperGroup:M={},lineNumbers:O,titlePage:H,verticalAlign:q,column:ce,type:ae}={}){super("w:sectPr"),this.addHeaderFooterGroup(pv.HEADER,C),this.addHeaderFooterGroup(pv.FOOTER,M),ae&&this.root.push(new q6(ae)),this.root.push(new F6(e,r,o)),this.root.push(new B6(a,c,d,h,p,m,y)),S&&this.root.push(new L6(S)),O&&this.root.push(U6(O)),this.root.push(new O6(x)),ce&&this.root.push(new M6(ce)),q&&this.root.push(new N6(q)),H!==void 0&&this.root.push(new Ie("w:titlePg",H)),E&&this.root.push(new z6(E)),this.root.push(new k6(D,A,U))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new jf(e,{type:xo.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new jf(e,{type:xo.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new jf(e,{type:xo.EVEN,id:r.even.View.ReferenceId}))}}class K6 extends Ee{constructor(){super("w:body"),Se(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new H6(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new tn({}),o=new Ao({});return o.push(e),r.addChildElement(o),r}}class Ws extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class Y6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class J6 extends Ee{constructor(e){super("w:background"),this.root.push(new Y6({color:e.color===void 0?void 0:_o(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:lv(e.themeShade),themeTint:e.themeTint===void 0?void 0:lv(e.themeTint)}))}}class W6 extends Ee{constructor(e){super("w:document"),Se(this,"body"),this.root.push(new Ws({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new K6,e.background&&this.root.push(new J6(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class $6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class Bo extends Ee{constructor(){super("Relationships"),this.root.push(new $6({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,o,a){const c=new w6(`rId${e}`,r,o,a);return this.root.push(c),c}get RelationshipCount(){return this.root.length-1}}class gx{constructor(e){Se(this,"document"),Se(this,"relationships"),this.document=new W6(e),this.relationships=new Bo}get View(){return this.document}get Relationships(){return this.relationships}}class X6 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class Z6 extends Ee{constructor(){super("w:wordWrap"),this.root.push(new X6({val:0}))}}const Q6=t=>{var e,r;return new sn({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Ao extends Gl{constructor(e){var r,o;if(super("w:pPr"),Se(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Tl(e.heading)),e.bullet&&this.push(new Tl("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Tl("ListParagraph"))),e.style&&this.push(new Tl(e.style)),e.keepNext!==void 0&&this.push(new Ie("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Ie("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new l6),e.frame&&this.push(Q6(e.frame)),e.widowControl!==void 0&&this.push(new Ie("w:widowControl",e.widowControl)),e.bullet&&this.push(new hv(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new hv(`${e.numbering.reference}-${(o=e.numbering.instance)!=null?o:0}`,e.numbering.level))),e.border&&this.push(new RI(e.border)),e.thematicBreak&&this.push(new NI),e.shading&&this.push(new rx(e.shading)),e.wordWrap&&this.push(new Z6),e.overflowPunctuation&&this.push(new Ie("w:overflowPunct",e.overflowPunctuation));const a=[...e.rightTabStop!==void 0?[{type:dv.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:dv.LEFT,position:e.leftTabStop}]:[]];a.length>0&&this.push(new f6(a)),e.bidirectional!==void 0&&this.push(new Ie("w:bidi",e.bidirectional)),e.spacing&&this.push(new c6(e.spacing)),e.indent&&this.push(new DI(e.indent)),e.contextualSpacing!==void 0&&this.push(new Ie("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new CI(e.alignment)),e.outlineLevel!==void 0&&this.push(new A6(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Ie("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Ie("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Ei(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof gx)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class tn extends g6{constructor(e){if(super("w:p"),Se(this,"properties"),typeof e=="string")return this.properties=new Ao({}),this.root.push(this.properties),this.root.push(new gi(e)),this;if(this.properties=new Ao(e),this.root.push(this.properties),e.text&&this.root.push(new gi(e.text)),e.children)for(const r of e.children){if(r instanceof _6){this.root.push(r.start);for(const o of r.children)this.root.push(o);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof T6){const o=this.root.indexOf(r),a=new Kd(r.options.children,ox());e.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,v6.EXTERNAL),this.root[o]=a}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const uo={style:zd.NONE,size:0,color:"auto"},co={style:zd.SINGLE,size:4,color:"auto"};class j6 extends Ee{constructor(e){super("w:tblBorders"),e.top?this.root.push(new kt("w:top",e.top)):this.root.push(new kt("w:top",co)),e.left?this.root.push(new kt("w:left",e.left)):this.root.push(new kt("w:left",co)),e.bottom?this.root.push(new kt("w:bottom",e.bottom)):this.root.push(new kt("w:bottom",co)),e.right?this.root.push(new kt("w:right",e.right)):this.root.push(new kt("w:right",co)),e.insideHorizontal?this.root.push(new kt("w:insideH",e.insideHorizontal)):this.root.push(new kt("w:insideH",co)),e.insideVertical?this.root.push(new kt("w:insideV",e.insideVertical)):this.root.push(new kt("w:insideV",co))}}Se(j6,"NONE",{top:uo,bottom:uo,left:uo,right:uo,insideHorizontal:uo,insideVertical:uo});class e4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class t4 extends Ee{constructor(){super("Properties"),this.root.push(new e4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class n4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class r4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class $r extends Ee{constructor(e,r){super("Default"),this.root.push(new r4({contentType:e,extension:r}))}}class i4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class kn extends Ee{constructor(e,r){super("Override"),this.root.push(new i4({contentType:e,partName:r}))}}class o4 extends Ee{constructor(){super("Types"),this.root.push(new n4({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new $r("image/png","png")),this.root.push(new $r("image/jpeg","jpeg")),this.root.push(new $r("image/jpeg","jpg")),this.root.push(new $r("image/bmp","bmp")),this.root.push(new $r("image/gif","gif")),this.root.push(new $r("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new $r("application/xml","xml")),this.root.push(new $r("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new kn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class s4 extends Ee{constructor(e){super("cp:coreProperties"),this.root.push(new Ws({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new pi("dc:title",e.title)),e.subject&&this.root.push(new pi("dc:subject",e.subject)),e.creator&&this.root.push(new pi("dc:creator",e.creator)),e.keywords&&this.root.push(new pi("cp:keywords",e.keywords)),e.description&&this.root.push(new pi("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new pi("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new pi("cp:revision",String(e.revision))),this.root.push(new gv("dcterms:created")),this.root.push(new gv("dcterms:modified"))}}class gv extends Ee{constructor(e){super(e),this.root.push(new Ws({type:"dcterms:W3CDTF"})),this.root.push(_I(new Date))}}class a4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class l4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class u4 extends Ee{constructor(e,r){super("property"),this.root.push(new l4({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new c4(r.value))}}class c4 extends Ee{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class f4 extends Ee{constructor(e){super("Properties"),Se(this,"nextId"),Se(this,"properties",[]),this.root.push(new a4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new u4(this.nextId++,e))}}class d4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let h4=class extends jw{constructor(e,r){super("w:ftr",r),Se(this,"refId"),this.refId=e,r||this.root.push(new d4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class p4{constructor(e,r,o){Se(this,"footer"),Se(this,"relationships"),this.media=e,this.footer=new h4(r,o),this.relationships=new Bo}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class m4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class g4 extends Ee{constructor(){super("w:footnoteRef")}}class y4 extends Js{constructor(){super({style:"FootnoteReference"}),this.root.push(new g4)}}const yv={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class td extends Ee{constructor(e){super("w:footnote"),this.root.push(new m4({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const o=e.children[r];r===0&&o.addRunToFront(new y4),this.root.push(o)}}}class v4 extends Ee{constructor(){super("w:continuationSeparator")}}class w4 extends Js{constructor(){super({}),this.root.push(new v4)}}class x4 extends Ee{constructor(){super("w:separator")}}class T4 extends Js{constructor(){super({}),this.root.push(new x4)}}class S4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class E4 extends Ee{constructor(){super("w:footnotes"),this.root.push(new S4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new td({id:-1,type:yv.SEPERATOR,children:[new tn({spacing:{after:0,line:240,lineRule:wd.AUTO},children:[new T4]})]});this.root.push(e);const r=new td({id:0,type:yv.CONTINUATION_SEPERATOR,children:[new tn({spacing:{after:0,line:240,lineRule:wd.AUTO},children:[new w4]})]});this.root.push(r)}createFootNote(e,r){const o=new td({id:e,children:r});this.root.push(o)}}class _4{constructor(){Se(this,"footnotess"),Se(this,"relationships"),this.footnotess=new E4,this.relationships=new Bo}get View(){return this.footnotess}get Relationships(){return this.relationships}}class b4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let C4=class extends jw{constructor(e,r){super("w:hdr",r),Se(this,"refId"),this.refId=e,r||this.root.push(new b4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class A4{constructor(e,r,o){Se(this,"header"),Se(this,"relationships"),this.media=e,this.header=new C4(r,o),this.relationships=new Bo}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class R4{constructor(){Se(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const gr={BULLET:"bullet"};class N4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class D4 extends Ee{constructor(e){super("w:numFmt"),this.root.push(new Pt({val:e}))}}class M4 extends Ee{constructor(e){super("w:lvlText"),this.root.push(new Pt({val:e}))}}class I4 extends Ee{constructor(e){super("w:lvlJc"),this.root.push(new Pt({val:e}))}}class k4 extends Ee{constructor(e){super("w:suff"),this.root.push(new Pt({val:e}))}}class U4 extends Ee{constructor(){super("w:isLgl")}}class L4 extends Ee{constructor({level:e,format:r,text:o,alignment:a=hn.START,start:c=1,style:d,suffix:h,isLegalNumberingStyle:p}){if(super("w:lvl"),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.root.push(new Gd("w:start",pn(c))),r&&this.root.push(new D4(r)),h&&this.root.push(new k4(h)),p&&this.root.push(new U4),o&&this.root.push(new M4(o)),this.root.push(new I4(a)),this.paragraphProperties=new Ao(d&&d.paragraph),this.runProperties=new Ei(d&&d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new N4({ilvl:pn(e),tentative:1}))}}class B4 extends L4{}class P4 extends Ee{constructor(e){super("w:multiLevelType"),this.root.push(new Pt({val:e}))}}class O4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class vv extends Ee{constructor(e,r){super("w:abstractNum"),Se(this,"id"),this.root.push(new O4({abstractNumId:pn(e),restartNumberingAfterBreak:0})),this.root.push(new P4("hybridMultilevel")),this.id=e;for(const o of r)this.root.push(new B4(o))}}class F4 extends Ee{constructor(e){super("w:abstractNumId"),this.root.push(new Pt({val:e}))}}class G4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{numId:"w:numId"})}}class wv extends Ee{constructor(e){if(super("w:num"),Se(this,"numId"),Se(this,"reference"),Se(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new G4({numId:pn(e.numId)})),this.root.push(new F4(pn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new V4(r.num,r.start))}}class z4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl"})}}class V4 extends Ee{constructor(e,r){super("w:lvlOverride"),this.root.push(new z4({ilvl:e})),r!==void 0&&this.root.push(new H4(r))}}class q4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class H4 extends Ee{constructor(e){super("w:startOverride"),this.root.push(new q4({val:e}))}}class K4 extends Ee{constructor(e){super("w:numbering"),Se(this,"abstractNumberingMap",new Map),Se(this,"concreteNumberingMap",new Map),Se(this,"referenceConfigMap",new Map),Se(this,"abstractNumUniqueNumericId",jI()),Se(this,"concreteNumUniqueNumericId",ek()),this.root.push(new Ws({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new vv(this.abstractNumUniqueNumericId(),[{level:0,format:gr.BULLET,text:"●",alignment:hn.LEFT,style:{paragraph:{indent:{left:zn(.5),hanging:zn(.25)}}}},{level:1,format:gr.BULLET,text:"○",alignment:hn.LEFT,style:{paragraph:{indent:{left:zn(1),hanging:zn(.25)}}}},{level:2,format:gr.BULLET,text:"■",alignment:hn.LEFT,style:{paragraph:{indent:{left:2160,hanging:zn(.25)}}}},{level:3,format:gr.BULLET,text:"●",alignment:hn.LEFT,style:{paragraph:{indent:{left:2880,hanging:zn(.25)}}}},{level:4,format:gr.BULLET,text:"○",alignment:hn.LEFT,style:{paragraph:{indent:{left:3600,hanging:zn(.25)}}}},{level:5,format:gr.BULLET,text:"■",alignment:hn.LEFT,style:{paragraph:{indent:{left:4320,hanging:zn(.25)}}}},{level:6,format:gr.BULLET,text:"●",alignment:hn.LEFT,style:{paragraph:{indent:{left:5040,hanging:zn(.25)}}}},{level:7,format:gr.BULLET,text:"●",alignment:hn.LEFT,style:{paragraph:{indent:{left:5760,hanging:zn(.25)}}}},{level:8,format:gr.BULLET,text:"●",alignment:hn.LEFT,style:{paragraph:{indent:{left:6480,hanging:zn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new wv({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const o of e.config)this.abstractNumberingMap.set(o.reference,new vv(this.abstractNumUniqueNumericId(),o.levels)),this.referenceConfigMap.set(o.reference,o.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const o=this.abstractNumberingMap.get(e);if(!o)return;const a=`${e}-${r}`;if(this.concreteNumberingMap.has(a))return;const c=this.referenceConfigMap.get(e),d=c&&c[0].start,h={numId:this.concreteNumUniqueNumericId(),abstractNumId:o.id,reference:e,instance:r,overrideLevels:[d&&Number.isInteger(d)?{num:0,start:d}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new wv(h))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Y4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class J4 extends Ee{constructor(e){super("w:compatSetting"),this.root.push(new Y4({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class W4 extends Ee{constructor(e){super("w:compat"),e.version&&this.root.push(new J4(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Ie("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Ie("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Ie("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Ie("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Ie("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Ie("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Ie("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Ie("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Ie("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Ie("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Ie("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Ie("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Ie("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Ie("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Ie("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Ie("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Ie("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Ie("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Ie("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Ie("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Ie("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Ie("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Ie("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Ie("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Ie("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Ie("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Ie("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Ie("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Ie("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Ie("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Ie("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Ie("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Ie("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Ie("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Ie("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Ie("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Ie("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ie("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Ie("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Ie("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Ie("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Ie("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Ie("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ie("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Ie("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Ie("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Ie("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Ie("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Ie("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Ie("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Ie("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ie("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Ie("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Ie("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Ie("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Ie("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Ie("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Ie("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Ie("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Ie("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Ie("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Ie("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ie("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Ie("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Ie("w:cachedColBalance",e.cachedColumnBalance))}}class $4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class X4 extends Ee{constructor(e){var r,o,a,c;super("w:settings"),this.root.push(new $4({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ie("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Ie("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Ie("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Ie("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Gd("w:defaultTabStop",e.defaultTabStop)),this.root.push(new W4(So(lt({},(r=e.compatibility)!=null?r:{}),{version:(c=(a=(o=e.compatibility)==null?void 0:o.version)!=null?a:e.compatibilityModeVersion)!=null?c:15})))}}class yx extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class Z4 extends Ee{constructor(e){super("w:name"),this.root.push(new yx({val:e}))}}class Q4 extends Ee{constructor(e){super("w:uiPriority"),this.root.push(new yx({val:pn(e)}))}}class j4 extends Oe{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class vx extends Ee{constructor(e,r){super("w:style"),this.root.push(new j4(e)),r.name&&this.root.push(new Z4(r.name)),r.basedOn&&this.root.push(new wo("w:basedOn",r.basedOn)),r.next&&this.root.push(new wo("w:next",r.next)),r.link&&this.root.push(new wo("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new Q4(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Ie("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Ie("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Ie("w:qFormat",r.quickFormat))}}class Yl extends vx{constructor(e){super({type:"paragraph",styleId:e.id},e),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.paragraphProperties=new Ao(e.paragraph),this.runProperties=new Ei(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Jl extends vx{constructor(e){super({type:"character",styleId:e.id},lt({uiPriority:99,unhideWhenUsed:!0},e)),Se(this,"runProperties"),this.runProperties=new Ei(e.run),this.root.push(this.runProperties)}}class Xr extends Yl{constructor(e){super(lt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class e3 extends Xr{constructor(e){super(lt({id:"Title",name:"Title"},e))}}class t3 extends Xr{constructor(e){super(lt({id:"Heading1",name:"Heading 1"},e))}}class n3 extends Xr{constructor(e){super(lt({id:"Heading2",name:"Heading 2"},e))}}class r3 extends Xr{constructor(e){super(lt({id:"Heading3",name:"Heading 3"},e))}}class i3 extends Xr{constructor(e){super(lt({id:"Heading4",name:"Heading 4"},e))}}class o3 extends Xr{constructor(e){super(lt({id:"Heading5",name:"Heading 5"},e))}}class s3 extends Xr{constructor(e){super(lt({id:"Heading6",name:"Heading 6"},e))}}class a3 extends Xr{constructor(e){super(lt({id:"Strong",name:"Strong"},e))}}class l3 extends Yl{constructor(e){super(lt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class u3 extends Yl{constructor(e){super(lt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:wd.AUTO}},run:{size:20}},e))}}class c3 extends Jl{constructor(e){super(lt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class f3 extends Jl{constructor(e){super(lt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class d3 extends Jl{constructor(e){super(lt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Hd.SINGLE}}},e))}}class xd extends Ee{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new Yl(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new Jl(r))}}class h3 extends Ee{constructor(e){super("w:pPrDefault"),this.root.push(new Ao(e))}}class p3 extends Ee{constructor(e){super("w:rPrDefault"),this.root.push(new Ei(e))}}class m3 extends Ee{constructor(e){super("w:docDefaults"),Se(this,"runPropertiesDefaults"),Se(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new p3(e.run),this.paragraphPropertiesDefaults=new h3(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class g3{newInstance(e){const r=Qw.xml2js(e,{compact:!1});let o;for(const d of r.elements||[])d.name==="w:styles"&&(o=d);if(o===void 0)throw new Error("can not find styles element");const a=o.elements||[];return new xd({initialStyles:new xI(o.attributes),importedStyles:a.map(d=>Fd(d))})}}class xv{newInstance(e={}){var r;return{initialStyles:new Ws({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new m3((r=e.document)!=null?r:{}),new e3(lt({run:{size:56}},e.title)),new t3(lt({run:{color:"2E74B5",size:32}},e.heading1)),new n3(lt({run:{color:"2E74B5",size:26}},e.heading2)),new r3(lt({run:{color:"1F4D78",size:24}},e.heading3)),new i3(lt({run:{color:"2E74B5",italics:!0}},e.heading4)),new o3(lt({run:{color:"2E74B5"}},e.heading5)),new s3(lt({run:{color:"1F4D78"}},e.heading6)),new a3(lt({run:{bold:!0}},e.strong)),new l3(e.listParagraph||{}),new d3(e.hyperlink||{}),new c3(e.footnoteReference||{}),new u3(e.footnoteText||{}),new f3(e.footnoteTextChar||{})]}}}const Sl=({id:t,fontKey:e,subsetted:r},o)=>new sn({name:o,attributes:lt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Ie("w:subsetted",r)]:[]]}),y3=({name:t,altName:e,panose1:r,charset:o,family:a,notTrueType:c,pitch:d,sig:h,embedRegular:p,embedBold:m,embedItalic:y,embedBoldItalic:x})=>new sn({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Gs("w:altName",e)]:[],...r?[Gs("w:panose1",r)]:[],...o?[Gs("w:charset",o)]:[],Gs("w:family",a),...c?[new Ie("w:notTrueType",c)]:[],Gs("w:pitch",d),...h?[new sn({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:h.usb0},usb1:{key:"w:usb1",value:h.usb1},usb2:{key:"w:usb2",value:h.usb2},usb3:{key:"w:usb3",value:h.usb3},csb0:{key:"w:csb0",value:h.csb0},csb1:{key:"w:csb1",value:h.csb1}}})]:[],...p?[Sl(p,"w:embedRegular")]:[],...m?[Sl(m,"w:embedBold")]:[],...y?[Sl(y,"w:embedItalic")]:[],...x?[Sl(x,"w:embedBoldItalic")]:[]]}),v3=({name:t,index:e,fontKey:r,characterSet:o})=>y3({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),w3=t=>new sn({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>v3({name:e.name,index:r+1,fontKey:e.fontKey}))});class x3{constructor(e){Se(this,"fontTable"),Se(this,"relationships"),Se(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>So(lt({},r),{fontKey:rk()})),this.fontTable=w3(this.fontOptionsWithKey),this.relationships=new Bo;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class T3{constructor(e){Se(this,"currentRelationshipId",1),Se(this,"documentWrapper"),Se(this,"headers",[]),Se(this,"footers",[]),Se(this,"coreProperties"),Se(this,"numbering"),Se(this,"media"),Se(this,"fileRelationships"),Se(this,"footnotesWrapper"),Se(this,"settings"),Se(this,"contentTypes"),Se(this,"customProperties"),Se(this,"appProperties"),Se(this,"styles"),Se(this,"comments"),Se(this,"fontWrapper");var r,o,a,c,d,h,p,m;if(this.coreProperties=new s4(So(lt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(o=e.revision)!=null?o:1,lastModifiedBy:(a=e.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new K4(e.numbering?e.numbering:{config:[]}),this.comments=new a6((c=e.comments)!=null?c:{children:[]}),this.fileRelationships=new Bo,this.customProperties=new f4((d=e.customProperties)!=null?d:[]),this.appProperties=new t4,this.footnotesWrapper=new _4,this.contentTypes=new o4,this.documentWrapper=new gx({background:e.background}),this.settings=new X4({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(h=e.features)==null?void 0:h.trackRevisions,updateFields:(p=e.features)==null?void 0:p.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new R4,e.externalStyles){const y=new g3;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const x=new xv().newInstance(e.styles.default);this.styles=new xd(lt(lt({},x),e.styles))}else{const y=new xv;this.styles=new xd(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new x3((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:r={},children:o,properties:a}){this.documentWrapper.View.Body.addSection(So(lt({},a),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const c of o)this.documentWrapper.View.add(c)}createHeader(e){const r=new A4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addHeaderToDocument(r),r}createFooter(e){const r=new p4(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=xo.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=xo.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}function El(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wx={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return(function r(o,a,c){function d(m,y){if(!a[m]){if(!o[m]){var x=typeof El=="function"&&El;if(!y&&x)return x(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var E=a[m]={exports:{}};o[m][0].call(E.exports,function(D){var A=o[m][1][D];return d(A||D)},E,E.exports,r,o,a,c)}return a[m].exports}for(var h=typeof El=="function"&&El,p=0;p<c.length;p++)d(c[p]);return d})({1:[function(r,o,a){var c=r("./utils"),d=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(p){for(var m,y,x,S,E,D,A,U=[],C=0,M=p.length,O=M,H=c.getTypeOf(p)!=="string";C<p.length;)O=M-C,x=H?(m=p[C++],y=C<M?p[C++]:0,C<M?p[C++]:0):(m=p.charCodeAt(C++),y=C<M?p.charCodeAt(C++):0,C<M?p.charCodeAt(C++):0),S=m>>2,E=(3&m)<<4|y>>4,D=1<O?(15&y)<<2|x>>6:64,A=2<O?63&x:64,U.push(h.charAt(S)+h.charAt(E)+h.charAt(D)+h.charAt(A));return U.join("")},a.decode=function(p){var m,y,x,S,E,D,A=0,U=0,C="data:";if(p.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var M,O=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&O--,p.charAt(p.length-2)===h.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=d.uint8array?new Uint8Array(0|O):new Array(0|O);A<p.length;)m=h.indexOf(p.charAt(A++))<<2|(S=h.indexOf(p.charAt(A++)))>>4,y=(15&S)<<4|(E=h.indexOf(p.charAt(A++)))>>2,x=(3&E)<<6|(D=h.indexOf(p.charAt(A++))),M[U++]=m,E!==64&&(M[U++]=y),D!==64&&(M[U++]=x);return M}},{"./support":30,"./utils":32}],2:[function(r,o,a){var c=r("./external"),d=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function m(y,x,S,E,D){this.compressedSize=y,this.uncompressedSize=x,this.crc32=S,this.compression=E,this.compressedContent=D}m.prototype={getContentWorker:function(){var y=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),x=this;return y.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,x,S){return y.pipe(new h).pipe(new p("uncompressedSize")).pipe(x.compressWorker(S)).pipe(new p("compressedSize")).withStreamInfo("compression",x)},o.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,a){var c=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,a){var c=r("./utils"),d=(function(){for(var h,p=[],m=0;m<256;m++){h=m;for(var y=0;y<8;y++)h=1&h?3988292384^h>>>1:h>>>1;p[m]=h}return p})();o.exports=function(h,p){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,y,x,S){var E=d,D=S+x;m^=-1;for(var A=S;A<D;A++)m=m>>>8^E[255&(m^y[A])];return-1^m})(0|p,h,h.length,0):(function(m,y,x,S){var E=d,D=S+x;m^=-1;for(var A=S;A<D;A++)m=m>>>8^E[255&(m^y.charCodeAt(A))];return-1^m})(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,o,a){var c=null;c=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:c}},{lie:37}],7:[function(r,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=r("pako"),h=r("./utils"),p=r("./stream/GenericWorker"),m=c?"uint8array":"array";function y(x,S){p.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=S,this.meta={}}a.magic="\b\0",h.inherits(y,p),y.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,x.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(S){x.push({data:S,meta:x.meta})}},a.compressWorker=function(x){return new y("Deflate",x)},a.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,a){function c(E,D){var A,U="";for(A=0;A<D;A++)U+=String.fromCharCode(255&E),E>>>=8;return U}function d(E,D,A,U,C,M){var O,H,q=E.file,ce=E.compression,ae=M!==m.utf8encode,de=h.transformTo("string",M(q.name)),G=h.transformTo("string",m.utf8encode(q.name)),Te=q.comment,Re=h.transformTo("string",M(Te)),Z=h.transformTo("string",m.utf8encode(Te)),pe=G.length!==q.name.length,B=Z.length!==Te.length,he="",le="",se="",Ce=q.dir,ue=q.date,K={crc32:0,compressedSize:0,uncompressedSize:0};D&&!A||(K.crc32=E.crc32,K.compressedSize=E.compressedSize,K.uncompressedSize=E.uncompressedSize);var Y=0;D&&(Y|=8),ae||!pe&&!B||(Y|=2048);var P=0,J=0;Ce&&(P|=16),C==="UNIX"?(J=798,P|=(function(ee,$){var N=ee;return ee||(N=$?16893:33204),(65535&N)<<16})(q.unixPermissions,Ce)):(J=20,P|=(function(ee){return 63&(ee||0)})(q.dosPermissions)),O=ue.getUTCHours(),O<<=6,O|=ue.getUTCMinutes(),O<<=5,O|=ue.getUTCSeconds()/2,H=ue.getUTCFullYear()-1980,H<<=4,H|=ue.getUTCMonth()+1,H<<=5,H|=ue.getUTCDate(),pe&&(le=c(1,1)+c(y(de),4)+G,he+="up"+c(le.length,2)+le),B&&(se=c(1,1)+c(y(Re),4)+Z,he+="uc"+c(se.length,2)+se);var j="";return j+=`
\0`,j+=c(Y,2),j+=ce.magic,j+=c(O,2),j+=c(H,2),j+=c(K.crc32,4),j+=c(K.compressedSize,4),j+=c(K.uncompressedSize,4),j+=c(de.length,2),j+=c(he.length,2),{fileRecord:x.LOCAL_FILE_HEADER+j+de+he,dirRecord:x.CENTRAL_FILE_HEADER+c(J,2)+j+c(Re.length,2)+"\0\0\0\0"+c(P,4)+c(U,4)+de+he+Re}}var h=r("../utils"),p=r("../stream/GenericWorker"),m=r("../utf8"),y=r("../crc32"),x=r("../signature");function S(E,D,A,U){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=A,this.encodeFileName=U,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,p),S.prototype.push=function(E){var D=E.meta.percent||0,A=this.entriesCount,U=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,p.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:A?(D+100*(A-U-1))/A:100}}))},S.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var D=this.streamFiles&&!E.file.dir;if(D){var A=d(E,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(E){this.accumulate=!1;var D=this.streamFiles&&!E.file.dir,A=d(E,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),D)this.push({data:(function(U){return x.DATA_DESCRIPTOR+c(U.crc32,4)+c(U.compressedSize,4)+c(U.uncompressedSize,4)})(E),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var E=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var A=this.bytesWritten-E,U=(function(C,M,O,H,q){var ce=h.transformTo("string",q(H));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(C,2)+c(C,2)+c(M,4)+c(O,4)+c(ce.length,2)+ce})(this.dirRecords.length,A,E,this.zipComment,this.encodeFileName);this.push({data:U,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(E){this._sources.push(E);var D=this;return E.on("data",function(A){D.processChunk(A)}),E.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),E.on("error",function(A){D.error(A)}),this},S.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(E){var D=this._sources;if(!p.prototype.error.call(this,E))return!1;for(var A=0;A<D.length;A++)try{D[A].error(E)}catch{}return!0},S.prototype.lock=function(){p.prototype.lock.call(this);for(var E=this._sources,D=0;D<E.length;D++)E[D].lock()},o.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,a){var c=r("../compressions"),d=r("./ZipFileWorker");a.generateWorker=function(h,p,m){var y=new d(p.streamFiles,m,p.platform,p.encodeFileName),x=0;try{h.forEach(function(S,E){x++;var D=(function(M,O){var H=M||O,q=c[H];if(!q)throw new Error(H+" is not a valid compression method !");return q})(E.options.compression,p.compression),A=E.options.compressionOptions||p.compressionOptions||{},U=E.dir,C=E.date;E._compressWorker(D,A).withStreamInfo("file",{name:S,dir:U,date:C,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(y)}),y.entriesCount=x}catch(S){y.error(S)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,a){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=r("./object")).loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=r("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,a){var c=r("./utils"),d=r("./external"),h=r("./utf8"),p=r("./zipEntries"),m=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function x(S){return new d.Promise(function(E,D){var A=S.decompressed.getContentWorker().pipe(new m);A.on("error",function(U){D(U)}).on("end",function(){A.streamInfo.crc32!==S.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}o.exports=function(S,E){var D=this;return E=c.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),y.isNode&&y.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,E.optimizedBinaryString,E.base64).then(function(A){var U=new p(E);return U.load(A),U}).then(function(A){var U=[d.Promise.resolve(A)],C=A.files;if(E.checkCRC32)for(var M=0;M<C.length;M++)U.push(x(C[M]));return d.Promise.all(U)}).then(function(A){for(var U=A.shift(),C=U.files,M=0;M<C.length;M++){var O=C[M],H=O.fileNameStr,q=c.resolve(O.fileNameStr);D.file(q,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:E.createFolders}),O.dir||(D.file(q).unsafeOriginalName=H)}return U.zipComment.length&&(D.comment=U.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,a){var c=r("../utils"),d=r("../stream/GenericWorker");function h(p,m){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,d),h.prototype._bindStream=function(p){var m=this;(this._stream=p).pause(),p.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,a){var c=r("readable-stream").Readable;function d(h,p,m){c.call(this,p),this._helper=h;var y=this;h.on("data",function(x,S){y.push(x)||y._helper.pause(),m&&m(S)}).on("error",function(x){y.emit("error",x)}).on("end",function(){y.push(null)})}r("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(r,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,o,a){function c(q,ce,ae){var de,G=h.getTypeOf(ce),Te=h.extend(ae||{},y);Te.date=Te.date||new Date,Te.compression!==null&&(Te.compression=Te.compression.toUpperCase()),typeof Te.unixPermissions=="string"&&(Te.unixPermissions=parseInt(Te.unixPermissions,8)),Te.unixPermissions&&16384&Te.unixPermissions&&(Te.dir=!0),Te.dosPermissions&&16&Te.dosPermissions&&(Te.dir=!0),Te.dir&&(q=C(q)),Te.createFolders&&(de=U(q))&&M.call(this,de,!0);var Re=G==="string"&&Te.binary===!1&&Te.base64===!1;ae&&ae.binary!==void 0||(Te.binary=!Re),(ce instanceof x&&ce.uncompressedSize===0||Te.dir||!ce||ce.length===0)&&(Te.base64=!1,Te.binary=!0,ce="",Te.compression="STORE",G="string");var Z=null;Z=ce instanceof x||ce instanceof p?ce:D.isNode&&D.isStream(ce)?new A(q,ce):h.prepareContent(q,ce,Te.binary,Te.optimizedBinaryString,Te.base64);var pe=new S(q,Z,Te);this.files[q]=pe}var d=r("./utf8"),h=r("./utils"),p=r("./stream/GenericWorker"),m=r("./stream/StreamHelper"),y=r("./defaults"),x=r("./compressedObject"),S=r("./zipObject"),E=r("./generate"),D=r("./nodejsUtils"),A=r("./nodejs/NodejsStreamInputAdapter"),U=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var ce=q.lastIndexOf("/");return 0<ce?q.substring(0,ce):""},C=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},M=function(q,ce){return ce=ce!==void 0?ce:y.createFolders,q=C(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:ce}),this.files[q]};function O(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var ce,ae,de;for(ce in this.files)de=this.files[ce],(ae=ce.slice(this.root.length,ce.length))&&ce.slice(0,this.root.length)===this.root&&q(ae,de)},filter:function(q){var ce=[];return this.forEach(function(ae,de){q(ae,de)&&ce.push(de)}),ce},file:function(q,ce,ae){if(arguments.length!==1)return q=this.root+q,c.call(this,q,ce,ae),this;if(O(q)){var de=q;return this.filter(function(Te,Re){return!Re.dir&&de.test(Te)})}var G=this.files[this.root+q];return G&&!G.dir?G:null},folder:function(q){if(!q)return this;if(O(q))return this.filter(function(G,Te){return Te.dir&&q.test(G)});var ce=this.root+q,ae=M.call(this,ce),de=this.clone();return de.root=ae.name,de},remove:function(q){q=this.root+q;var ce=this.files[q];if(ce||(q.slice(-1)!=="/"&&(q+="/"),ce=this.files[q]),ce&&!ce.dir)delete this.files[q];else for(var ae=this.filter(function(G,Te){return Te.name.slice(0,q.length)===q}),de=0;de<ae.length;de++)delete this.files[ae[de].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var ce,ae={};try{if((ae=h.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=ae.type.toLowerCase(),ae.compression=ae.compression.toUpperCase(),ae.type==="binarystring"&&(ae.type="string"),!ae.type)throw new Error("No output type specified.");h.checkSupport(ae.type),ae.platform!=="darwin"&&ae.platform!=="freebsd"&&ae.platform!=="linux"&&ae.platform!=="sunos"||(ae.platform="UNIX"),ae.platform==="win32"&&(ae.platform="DOS");var de=ae.comment||this.comment||"";ce=E.generateWorker(this,ae,de)}catch(G){(ce=new p("error")).error(G)}return new m(ce,ae.type||"string",ae.mimeType)},generateAsync:function(q,ce){return this.generateInternalStream(q).accumulate(ce)},generateNodeStream:function(q,ce){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(ce)}};o.exports=H},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,a){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,a){var c=r("./DataReader");function d(h){c.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),x=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===p&&this.data[S+1]===m&&this.data[S+2]===y&&this.data[S+3]===x)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),x=h.charCodeAt(3),S=this.readData(4);return p===S[0]&&m===S[1]&&y===S[2]&&x===S[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(r,o,a){var c=r("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,m=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)m=(m<<8)+this.byteAt(p);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(r,o,a){var c=r("./Uint8ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,a){var c=r("./DataReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(r,o,a){var c=r("./ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,a){var c=r("../utils"),d=r("../support"),h=r("./ArrayReader"),p=r("./StringReader"),m=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(x){var S=c.getTypeOf(x);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(x):d.uint8array?new y(c.transformTo("uint8array",x)):new h(c.transformTo("array",x)):new p(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,a){var c=r("./GenericWorker"),d=r("../utils");function h(p){c.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,a){var c=r("./GenericWorker"),d=r("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,c),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,a){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(h,d),h.prototype.processChunk=function(p){if(p){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,a){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=c.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,m);break;case"uint8array":p=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":p=this.data.slice(this.index,m)}return this.index=m,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,a){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(r,o,a){var c=r("../utils"),d=r("./ConvertWorker"),h=r("./GenericWorker"),p=r("../base64"),m=r("../support"),y=r("../external"),x=null;if(m.nodestream)try{x=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(D,A){return new y.Promise(function(U,C){var M=[],O=D._internalType,H=D._outputType,q=D._mimeType;D.on("data",function(ce,ae){M.push(ce),A&&A(ae)}).on("error",function(ce){M=[],C(ce)}).on("end",function(){try{var ce=(function(ae,de,G){switch(ae){case"blob":return c.newBlob(c.transformTo("arraybuffer",de),G);case"base64":return p.encode(de);default:return c.transformTo(ae,de)}})(H,(function(ae,de){var G,Te=0,Re=null,Z=0;for(G=0;G<de.length;G++)Z+=de[G].length;switch(ae){case"string":return de.join("");case"array":return Array.prototype.concat.apply([],de);case"uint8array":for(Re=new Uint8Array(Z),G=0;G<de.length;G++)Re.set(de[G],Te),Te+=de[G].length;return Re;case"nodebuffer":return Buffer.concat(de);default:throw new Error("concat : unsupported type '"+ae+"'")}})(O,M),q);U(ce)}catch(ae){C(ae)}M=[]}).resume()})}function E(D,A,U){var C=A;switch(A){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=A,this._mimeType=U,c.checkSupport(C),this._worker=D.pipe(new d(C)),D.lock()}catch(M){this._worker=new h("error"),this._worker.error(M)}}E.prototype={accumulate:function(D){return S(this,D)},on:function(D,A){var U=this;return D==="data"?this._worker.on(D,function(C){A.call(U,C.data,C.meta)}):this._worker.on(D,function(){c.delay(A,arguments,U)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},D)}},o.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var c=new ArrayBuffer(0);try{a.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,a){for(var c=r("./utils"),d=r("./support"),h=r("./nodejsUtils"),p=r("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function x(){p.call(this,"utf-8 decode"),this.leftOver=null}function S(){p.call(this,"utf-8 encode")}a.utf8encode=function(E){return d.nodebuffer?h.newBufferFrom(E,"utf-8"):(function(D){var A,U,C,M,O,H=D.length,q=0;for(M=0;M<H;M++)(64512&(U=D.charCodeAt(M)))==55296&&M+1<H&&(64512&(C=D.charCodeAt(M+1)))==56320&&(U=65536+(U-55296<<10)+(C-56320),M++),q+=U<128?1:U<2048?2:U<65536?3:4;for(A=d.uint8array?new Uint8Array(q):new Array(q),M=O=0;O<q;M++)(64512&(U=D.charCodeAt(M)))==55296&&M+1<H&&(64512&(C=D.charCodeAt(M+1)))==56320&&(U=65536+(U-55296<<10)+(C-56320),M++),U<128?A[O++]=U:(U<2048?A[O++]=192|U>>>6:(U<65536?A[O++]=224|U>>>12:(A[O++]=240|U>>>18,A[O++]=128|U>>>12&63),A[O++]=128|U>>>6&63),A[O++]=128|63&U);return A})(E)},a.utf8decode=function(E){return d.nodebuffer?c.transformTo("nodebuffer",E).toString("utf-8"):(function(D){var A,U,C,M,O=D.length,H=new Array(2*O);for(A=U=0;A<O;)if((C=D[A++])<128)H[U++]=C;else if(4<(M=m[C]))H[U++]=65533,A+=M-1;else{for(C&=M===2?31:M===3?15:7;1<M&&A<O;)C=C<<6|63&D[A++],M--;1<M?H[U++]=65533:C<65536?H[U++]=C:(C-=65536,H[U++]=55296|C>>10&1023,H[U++]=56320|1023&C)}return H.length!==U&&(H.subarray?H=H.subarray(0,U):H.length=U),c.applyFromCharCode(H)})(E=c.transformTo(d.uint8array?"uint8array":"array",E))},c.inherits(x,p),x.prototype.processChunk=function(E){var D=c.transformTo(d.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var A=D;(D=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),D.set(A,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var U=(function(M,O){var H;for((O=O||M.length)>M.length&&(O=M.length),H=O-1;0<=H&&(192&M[H])==128;)H--;return H<0||H===0?O:H+m[M[H]]>O?H:O})(D),C=D;U!==D.length&&(d.uint8array?(C=D.subarray(0,U),this.leftOver=D.subarray(U,D.length)):(C=D.slice(0,U),this.leftOver=D.slice(U,D.length))),this.push({data:a.utf8decode(C),meta:E.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=x,c.inherits(S,p),S.prototype.processChunk=function(E){this.push({data:a.utf8encode(E.data),meta:E.meta})},a.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,a){var c=r("./support"),d=r("./base64"),h=r("./nodejsUtils"),p=r("./external");function m(A){return A}function y(A,U){for(var C=0;C<A.length;++C)U[C]=255&A.charCodeAt(C);return U}r("setimmediate"),a.newBlob=function(A,U){a.checkSupport("blob");try{return new Blob([A],{type:U})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(A),C.getBlob(U)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(A,U,C){var M=[],O=0,H=A.length;if(H<=C)return String.fromCharCode.apply(null,A);for(;O<H;)U==="array"||U==="nodebuffer"?M.push(String.fromCharCode.apply(null,A.slice(O,Math.min(O+C,H)))):M.push(String.fromCharCode.apply(null,A.subarray(O,Math.min(O+C,H)))),O+=C;return M.join("")},stringifyByChar:function(A){for(var U="",C=0;C<A.length;C++)U+=String.fromCharCode(A[C]);return U},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(A){var U=65536,C=a.getTypeOf(A),M=!0;if(C==="uint8array"?M=x.applyCanBeUsed.uint8array:C==="nodebuffer"&&(M=x.applyCanBeUsed.nodebuffer),M)for(;1<U;)try{return x.stringifyByChunk(A,C,U)}catch{U=Math.floor(U/2)}return x.stringifyByChar(A)}function E(A,U){for(var C=0;C<A.length;C++)U[C]=A[C];return U}a.applyFromCharCode=S;var D={};D.string={string:m,array:function(A){return y(A,new Array(A.length))},arraybuffer:function(A){return D.string.uint8array(A).buffer},uint8array:function(A){return y(A,new Uint8Array(A.length))},nodebuffer:function(A){return y(A,h.allocBuffer(A.length))}},D.array={string:S,array:m,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return h.newBufferFrom(A)}},D.arraybuffer={string:function(A){return S(new Uint8Array(A))},array:function(A){return E(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:m,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return h.newBufferFrom(new Uint8Array(A))}},D.uint8array={string:S,array:function(A){return E(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:m,nodebuffer:function(A){return h.newBufferFrom(A)}},D.nodebuffer={string:S,array:function(A){return E(A,new Array(A.length))},arraybuffer:function(A){return D.nodebuffer.uint8array(A).buffer},uint8array:function(A){return E(A,new Uint8Array(A.length))},nodebuffer:m},a.transformTo=function(A,U){if(U=U||"",!A)return U;a.checkSupport(A);var C=a.getTypeOf(U);return D[C][A](U)},a.resolve=function(A){for(var U=A.split("/"),C=[],M=0;M<U.length;M++){var O=U[M];O==="."||O===""&&M!==0&&M!==U.length-1||(O===".."?C.pop():C.push(O))}return C.join("/")},a.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(A)?"nodebuffer":c.uint8array&&A instanceof Uint8Array?"uint8array":c.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(A){if(!c[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(A){var U,C,M="";for(C=0;C<(A||"").length;C++)M+="\\x"+((U=A.charCodeAt(C))<16?"0":"")+U.toString(16).toUpperCase();return M},a.delay=function(A,U,C){setImmediate(function(){A.apply(C||null,U||[])})},a.inherits=function(A,U){function C(){}C.prototype=U.prototype,A.prototype=new C},a.extend=function(){var A,U,C={};for(A=0;A<arguments.length;A++)for(U in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],U)&&C[U]===void 0&&(C[U]=arguments[A][U]);return C},a.prepareContent=function(A,U,C,M,O){return p.Promise.resolve(U).then(function(H){return c.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new p.Promise(function(q,ce){var ae=new FileReader;ae.onload=function(de){q(de.target.result)},ae.onerror=function(de){ce(de.target.error)},ae.readAsArrayBuffer(H)}):H}).then(function(H){var q=a.getTypeOf(H);return q?(q==="arraybuffer"?H=a.transformTo("uint8array",H):q==="string"&&(O?H=d.decode(H):C&&M!==!0&&(H=(function(ce){return y(ce,c.uint8array?new Uint8Array(ce.length):new Array(ce.length))})(H))),H):p.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,a){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./signature"),p=r("./zipEntry"),m=r("./support");function y(x){this.files=[],this.loadOptions=x}y.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(x)+")")}},isSignature:function(x,S){var E=this.reader.index;this.reader.setIndex(x);var D=this.reader.readString(4)===S;return this.reader.setIndex(E),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",E=d.transformTo(S,x);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,S,E,D=this.zip64EndOfCentralSize-44;0<D;)x=this.reader.readInt(2),S=this.reader.readInt(4),E=this.reader.readData(S),this.zip64ExtensibleData[x]={id:x,length:S,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,S;for(x=0;x<this.files.length;x++)S=this.files[x],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(x=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var S=x;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var D=S-E;if(0<D)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(x){this.reader=c(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,a){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./compressedObject"),p=r("./crc32"),m=r("./utf8"),y=r("./compressions"),x=r("./support");function S(E,D){this.options=E,this.loadOptions=D}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var D,A;if(E.skip(22),this.fileNameLength=E.readInt(2),A=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=(function(U){for(var C in y)if(Object.prototype.hasOwnProperty.call(y,C)&&y[C].magic===U)return y[C];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,D,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var D=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(D),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var D,A,U,C=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<C;)D=E.readInt(2),A=E.readInt(2),U=E.readData(A),this.extraFields[D]={id:D,length:A,value:U};E.setIndex(C)},handleUTF8:function(){var E=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var A=d.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var U=this.findExtraFieldUnicodeComment();if(U!==null)this.fileCommentStr=U;else{var C=d.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var D=c(E.value);return D.readInt(1)!==1||p(this.fileName)!==D.readInt(4)?null:m.utf8decode(D.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var D=c(E.value);return D.readInt(1)!==1||p(this.fileComment)!==D.readInt(4)?null:m.utf8decode(D.readData(E.length-5))}return null}},o.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,a){function c(D,A,U){this.name=D,this.dir=U.dir,this.date=U.date,this.comment=U.comment,this.unixPermissions=U.unixPermissions,this.dosPermissions=U.dosPermissions,this._data=A,this._dataBinary=U.binary,this.options={compression:U.compression,compressionOptions:U.compressionOptions}}var d=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),p=r("./utf8"),m=r("./compressedObject"),y=r("./stream/GenericWorker");c.prototype={internalStream:function(D){var A=null,U="string";try{if(!D)throw new Error("No output type specified.");var C=(U=D.toLowerCase())==="string"||U==="text";U!=="binarystring"&&U!=="text"||(U="string"),A=this._decompressWorker();var M=!this._dataBinary;M&&!C&&(A=A.pipe(new p.Utf8EncodeWorker)),!M&&C&&(A=A.pipe(new p.Utf8DecodeWorker))}catch(O){(A=new y("error")).error(O)}return new d(A,U,"")},async:function(D,A){return this.internalStream(D).accumulate(A)},nodeStream:function(D,A){return this.internalStream(D||"nodebuffer").toNodejsStream(A)},_compressWorker:function(D,A){if(this._data instanceof m&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var U=this._decompressWorker();return this._dataBinary||(U=U.pipe(new p.Utf8EncodeWorker)),m.createWorkerFrom(U,D,A)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new h(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<x.length;E++)c.prototype[x[E]]=S;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,a){(function(c){var d,h,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var m=0,y=new p(D),x=c.document.createTextNode("");y.observe(x,{characterData:!0}),d=function(){x.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var A=c.document.createElement("script");A.onreadystatechange=function(){D(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},c.document.documentElement.appendChild(A)}:function(){setTimeout(D,0)};else{var S=new c.MessageChannel;S.port1.onmessage=D,d=function(){S.port2.postMessage(0)}}var E=[];function D(){var A,U;h=!0;for(var C=E.length;C;){for(U=E,E=[],A=-1;++A<C;)U[A]();C=E.length}h=!1}o.exports=function(A){E.push(A)!==1||h||d()}}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,a){var c=r("immediate");function d(){}var h={},p=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function x(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,C!==d&&A(this,C)}function S(C,M,O){this.promise=C,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function E(C,M,O){c(function(){var H;try{H=M(O)}catch(q){return h.reject(C,q)}H===C?h.reject(C,new TypeError("Cannot resolve promise with itself")):h.resolve(C,H)})}function D(C){var M=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof M=="function")return function(){M.apply(C,arguments)}}function A(C,M){var O=!1;function H(ae){O||(O=!0,h.reject(C,ae))}function q(ae){O||(O=!0,h.resolve(C,ae))}var ce=U(function(){M(q,H)});ce.status==="error"&&H(ce.value)}function U(C,M){var O={};try{O.value=C(M),O.status="success"}catch(H){O.status="error",O.value=H}return O}(o.exports=x).prototype.finally=function(C){if(typeof C!="function")return this;var M=this.constructor;return this.then(function(O){return M.resolve(C()).then(function(){return O})},function(O){return M.resolve(C()).then(function(){throw O})})},x.prototype.catch=function(C){return this.then(null,C)},x.prototype.then=function(C,M){if(typeof C!="function"&&this.state===m||typeof M!="function"&&this.state===p)return this;var O=new this.constructor(d);return this.state!==y?E(O,this.state===m?C:M,this.outcome):this.queue.push(new S(O,C,M)),O},S.prototype.callFulfilled=function(C){h.resolve(this.promise,C)},S.prototype.otherCallFulfilled=function(C){E(this.promise,this.onFulfilled,C)},S.prototype.callRejected=function(C){h.reject(this.promise,C)},S.prototype.otherCallRejected=function(C){E(this.promise,this.onRejected,C)},h.resolve=function(C,M){var O=U(D,M);if(O.status==="error")return h.reject(C,O.value);var H=O.value;if(H)A(C,H);else{C.state=m,C.outcome=M;for(var q=-1,ce=C.queue.length;++q<ce;)C.queue[q].callFulfilled(M)}return C},h.reject=function(C,M){C.state=p,C.outcome=M;for(var O=-1,H=C.queue.length;++O<H;)C.queue[O].callRejected(M);return C},x.resolve=function(C){return C instanceof this?C:h.resolve(new this(d),C)},x.reject=function(C){var M=new this(d);return h.reject(M,C)},x.all=function(C){var M=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=C.length,H=!1;if(!O)return this.resolve([]);for(var q=new Array(O),ce=0,ae=-1,de=new this(d);++ae<O;)G(C[ae],ae);return de;function G(Te,Re){M.resolve(Te).then(function(Z){q[Re]=Z,++ce!==O||H||(H=!0,h.resolve(de,q))},function(Z){H||(H=!0,h.reject(de,Z))})}},x.race=function(C){var M=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=C.length,H=!1;if(!O)return this.resolve([]);for(var q=-1,ce=new this(d);++q<O;)ae=C[q],M.resolve(ae).then(function(de){H||(H=!0,h.resolve(ce,de))},function(de){H||(H=!0,h.reject(ce,de))});var ae;return ce}},{immediate:36}],38:[function(r,o,a){var c={};(0,r("./lib/utils/common").assign)(c,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,a){var c=r("./zlib/deflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/messages"),m=r("./zlib/zstream"),y=Object.prototype.toString,x=0,S=-1,E=0,D=8;function A(C){if(!(this instanceof A))return new A(C);this.options=d.assign({level:S,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},C||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var O=c.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(O!==x)throw new Error(p[O]);if(M.header&&c.deflateSetHeader(this.strm,M.header),M.dictionary){var H;if(H=typeof M.dictionary=="string"?h.string2buf(M.dictionary):y.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(O=c.deflateSetDictionary(this.strm,H))!==x)throw new Error(p[O]);this._dict_set=!0}}function U(C,M){var O=new A(M);if(O.push(C,!0),O.err)throw O.msg||p[O.err];return O.result}A.prototype.push=function(C,M){var O,H,q=this.strm,ce=this.options.chunkSize;if(this.ended)return!1;H=M===~~M?M:M===!0?4:0,typeof C=="string"?q.input=h.string2buf(C):y.call(C)==="[object ArrayBuffer]"?q.input=new Uint8Array(C):q.input=C,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new d.Buf8(ce),q.next_out=0,q.avail_out=ce),(O=c.deflate(q,H))!==1&&O!==x)return this.onEnd(O),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(q.output,q.next_out))):this.onData(d.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&O!==1);return H===4?(O=c.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===x):H!==2||(this.onEnd(x),!(q.avail_out=0))},A.prototype.onData=function(C){this.chunks.push(C)},A.prototype.onEnd=function(C){C===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},a.Deflate=A,a.deflate=U,a.deflateRaw=function(C,M){return(M=M||{}).raw=!0,U(C,M)},a.gzip=function(C,M){return(M=M||{}).gzip=!0,U(C,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,a){var c=r("./zlib/inflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/constants"),m=r("./zlib/messages"),y=r("./zlib/zstream"),x=r("./zlib/gzheader"),S=Object.prototype.toString;function E(A){if(!(this instanceof E))return new E(A);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},A||{});var U=this.options;U.raw&&0<=U.windowBits&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),!(0<=U.windowBits&&U.windowBits<16)||A&&A.windowBits||(U.windowBits+=32),15<U.windowBits&&U.windowBits<48&&(15&U.windowBits)==0&&(U.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var C=c.inflateInit2(this.strm,U.windowBits);if(C!==p.Z_OK)throw new Error(m[C]);this.header=new x,c.inflateGetHeader(this.strm,this.header)}function D(A,U){var C=new E(U);if(C.push(A,!0),C.err)throw C.msg||m[C.err];return C.result}E.prototype.push=function(A,U){var C,M,O,H,q,ce,ae=this.strm,de=this.options.chunkSize,G=this.options.dictionary,Te=!1;if(this.ended)return!1;M=U===~~U?U:U===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof A=="string"?ae.input=h.binstring2buf(A):S.call(A)==="[object ArrayBuffer]"?ae.input=new Uint8Array(A):ae.input=A,ae.next_in=0,ae.avail_in=ae.input.length;do{if(ae.avail_out===0&&(ae.output=new d.Buf8(de),ae.next_out=0,ae.avail_out=de),(C=c.inflate(ae,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&G&&(ce=typeof G=="string"?h.string2buf(G):S.call(G)==="[object ArrayBuffer]"?new Uint8Array(G):G,C=c.inflateSetDictionary(this.strm,ce)),C===p.Z_BUF_ERROR&&Te===!0&&(C=p.Z_OK,Te=!1),C!==p.Z_STREAM_END&&C!==p.Z_OK)return this.onEnd(C),!(this.ended=!0);ae.next_out&&(ae.avail_out!==0&&C!==p.Z_STREAM_END&&(ae.avail_in!==0||M!==p.Z_FINISH&&M!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=h.utf8border(ae.output,ae.next_out),H=ae.next_out-O,q=h.buf2string(ae.output,O),ae.next_out=H,ae.avail_out=de-H,H&&d.arraySet(ae.output,ae.output,O,H,0),this.onData(q)):this.onData(d.shrinkBuf(ae.output,ae.next_out)))),ae.avail_in===0&&ae.avail_out===0&&(Te=!0)}while((0<ae.avail_in||ae.avail_out===0)&&C!==p.Z_STREAM_END);return C===p.Z_STREAM_END&&(M=p.Z_FINISH),M===p.Z_FINISH?(C=c.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===p.Z_OK):M!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(ae.avail_out=0))},E.prototype.onData=function(A){this.chunks.push(A)},E.prototype.onEnd=function(A){A===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},a.Inflate=E,a.inflate=D,a.inflateRaw=function(A,U){return(U=U||{}).raw=!0,D(A,U)},a.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var x in y)y.hasOwnProperty(x)&&(p[x]=y[x])}}return p},a.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var d={arraySet:function(p,m,y,x,S){if(m.subarray&&p.subarray)p.set(m.subarray(y,y+x),S);else for(var E=0;E<x;E++)p[S+E]=m[y+E]},flattenChunks:function(p){var m,y,x,S,E,D;for(m=x=0,y=p.length;m<y;m++)x+=p[m].length;for(D=new Uint8Array(x),m=S=0,y=p.length;m<y;m++)E=p[m],D.set(E,S),S+=E.length;return D}},h={arraySet:function(p,m,y,x,S){for(var E=0;E<x;E++)p[S+E]=m[y+E]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,h))},a.setTyped(c)},{}],42:[function(r,o,a){var c=r("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new c.Buf8(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(x,S){if(S<65537&&(x.subarray&&h||!x.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(x,S));for(var E="",D=0;D<S;D++)E+=String.fromCharCode(x[D]);return E}p[254]=p[254]=1,a.string2buf=function(x){var S,E,D,A,U,C=x.length,M=0;for(A=0;A<C;A++)(64512&(E=x.charCodeAt(A)))==55296&&A+1<C&&(64512&(D=x.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(D-56320),A++),M+=E<128?1:E<2048?2:E<65536?3:4;for(S=new c.Buf8(M),A=U=0;U<M;A++)(64512&(E=x.charCodeAt(A)))==55296&&A+1<C&&(64512&(D=x.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(D-56320),A++),E<128?S[U++]=E:(E<2048?S[U++]=192|E>>>6:(E<65536?S[U++]=224|E>>>12:(S[U++]=240|E>>>18,S[U++]=128|E>>>12&63),S[U++]=128|E>>>6&63),S[U++]=128|63&E);return S},a.buf2binstring=function(x){return y(x,x.length)},a.binstring2buf=function(x){for(var S=new c.Buf8(x.length),E=0,D=S.length;E<D;E++)S[E]=x.charCodeAt(E);return S},a.buf2string=function(x,S){var E,D,A,U,C=S||x.length,M=new Array(2*C);for(E=D=0;E<C;)if((A=x[E++])<128)M[D++]=A;else if(4<(U=p[A]))M[D++]=65533,E+=U-1;else{for(A&=U===2?31:U===3?15:7;1<U&&E<C;)A=A<<6|63&x[E++],U--;1<U?M[D++]=65533:A<65536?M[D++]=A:(A-=65536,M[D++]=55296|A>>10&1023,M[D++]=56320|1023&A)}return y(M,D)},a.utf8border=function(x,S){var E;for((S=S||x.length)>x.length&&(S=x.length),E=S-1;0<=E&&(192&x[E])==128;)E--;return E<0||E===0?S:E+p[x[E]]>S?E:S}},{"./common":41}],43:[function(r,o,a){o.exports=function(c,d,h,p){for(var m=65535&c|0,y=c>>>16&65535|0,x=0;h!==0;){for(h-=x=2e3<h?2e3:h;y=y+(m=m+d[p++]|0)|0,--x;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(r,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,a){var c=(function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h})();o.exports=function(d,h,p,m){var y=c,x=m+p;d^=-1;for(var S=m;S<x;S++)d=d>>>8^y[255&(d^h[S])];return-1^d}},{}],46:[function(r,o,a){var c,d=r("../utils/common"),h=r("./trees"),p=r("./adler32"),m=r("./crc32"),y=r("./messages"),x=0,S=4,E=0,D=-2,A=-1,U=4,C=2,M=8,O=9,H=286,q=30,ce=19,ae=2*H+1,de=15,G=3,Te=258,Re=Te+G+1,Z=42,pe=113,B=1,he=2,le=3,se=4;function Ce(_,re){return _.msg=y[re],re}function ue(_){return(_<<1)-(4<_?9:0)}function K(_){for(var re=_.length;0<=--re;)_[re]=0}function Y(_){var re=_.state,I=re.pending;I>_.avail_out&&(I=_.avail_out),I!==0&&(d.arraySet(_.output,re.pending_buf,re.pending_out,I,_.next_out),_.next_out+=I,re.pending_out+=I,_.total_out+=I,_.avail_out-=I,re.pending-=I,re.pending===0&&(re.pending_out=0))}function P(_,re){h._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,re),_.block_start=_.strstart,Y(_.strm)}function J(_,re){_.pending_buf[_.pending++]=re}function j(_,re){_.pending_buf[_.pending++]=re>>>8&255,_.pending_buf[_.pending++]=255&re}function ee(_,re){var I,v,T=_.max_chain_length,b=_.strstart,X=_.prev_length,ne=_.nice_match,Q=_.strstart>_.w_size-Re?_.strstart-(_.w_size-Re):0,ge=_.window,De=_.w_mask,be=_.prev,ke=_.strstart+Te,Le=ge[b+X-1],ze=ge[b+X];_.prev_length>=_.good_match&&(T>>=2),ne>_.lookahead&&(ne=_.lookahead);do if(ge[(I=re)+X]===ze&&ge[I+X-1]===Le&&ge[I]===ge[b]&&ge[++I]===ge[b+1]){b+=2,I++;do;while(ge[++b]===ge[++I]&&ge[++b]===ge[++I]&&ge[++b]===ge[++I]&&ge[++b]===ge[++I]&&ge[++b]===ge[++I]&&ge[++b]===ge[++I]&&ge[++b]===ge[++I]&&ge[++b]===ge[++I]&&b<ke);if(v=Te-(ke-b),b=ke-Te,X<v){if(_.match_start=re,ne<=(X=v))break;Le=ge[b+X-1],ze=ge[b+X]}}while((re=be[re&De])>Q&&--T!=0);return X<=_.lookahead?X:_.lookahead}function $(_){var re,I,v,T,b,X,ne,Q,ge,De,be=_.w_size;do{if(T=_.window_size-_.lookahead-_.strstart,_.strstart>=be+(be-Re)){for(d.arraySet(_.window,_.window,be,be,0),_.match_start-=be,_.strstart-=be,_.block_start-=be,re=I=_.hash_size;v=_.head[--re],_.head[re]=be<=v?v-be:0,--I;);for(re=I=be;v=_.prev[--re],_.prev[re]=be<=v?v-be:0,--I;);T+=be}if(_.strm.avail_in===0)break;if(X=_.strm,ne=_.window,Q=_.strstart+_.lookahead,ge=T,De=void 0,De=X.avail_in,ge<De&&(De=ge),I=De===0?0:(X.avail_in-=De,d.arraySet(ne,X.input,X.next_in,De,Q),X.state.wrap===1?X.adler=p(X.adler,ne,De,Q):X.state.wrap===2&&(X.adler=m(X.adler,ne,De,Q)),X.next_in+=De,X.total_in+=De,De),_.lookahead+=I,_.lookahead+_.insert>=G)for(b=_.strstart-_.insert,_.ins_h=_.window[b],_.ins_h=(_.ins_h<<_.hash_shift^_.window[b+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[b+G-1])&_.hash_mask,_.prev[b&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=b,b++,_.insert--,!(_.lookahead+_.insert<G)););}while(_.lookahead<Re&&_.strm.avail_in!==0)}function N(_,re){for(var I,v;;){if(_.lookahead<Re){if($(_),_.lookahead<Re&&re===x)return B;if(_.lookahead===0)break}if(I=0,_.lookahead>=G&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+G-1])&_.hash_mask,I=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),I!==0&&_.strstart-I<=_.w_size-Re&&(_.match_length=ee(_,I)),_.match_length>=G)if(v=h._tr_tally(_,_.strstart-_.match_start,_.match_length-G),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=G){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+G-1])&_.hash_mask,I=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else v=h._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(v&&(P(_,!1),_.strm.avail_out===0))return B}return _.insert=_.strstart<G-1?_.strstart:G-1,re===S?(P(_,!0),_.strm.avail_out===0?le:se):_.last_lit&&(P(_,!1),_.strm.avail_out===0)?B:he}function R(_,re){for(var I,v,T;;){if(_.lookahead<Re){if($(_),_.lookahead<Re&&re===x)return B;if(_.lookahead===0)break}if(I=0,_.lookahead>=G&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+G-1])&_.hash_mask,I=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=G-1,I!==0&&_.prev_length<_.max_lazy_match&&_.strstart-I<=_.w_size-Re&&(_.match_length=ee(_,I),_.match_length<=5&&(_.strategy===1||_.match_length===G&&4096<_.strstart-_.match_start)&&(_.match_length=G-1)),_.prev_length>=G&&_.match_length<=_.prev_length){for(T=_.strstart+_.lookahead-G,v=h._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-G),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=T&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+G-1])&_.hash_mask,I=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=G-1,_.strstart++,v&&(P(_,!1),_.strm.avail_out===0))return B}else if(_.match_available){if((v=h._tr_tally(_,0,_.window[_.strstart-1]))&&P(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return B}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(v=h._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<G-1?_.strstart:G-1,re===S?(P(_,!0),_.strm.avail_out===0?le:se):_.last_lit&&(P(_,!1),_.strm.avail_out===0)?B:he}function te(_,re,I,v,T){this.good_length=_,this.max_lazy=re,this.nice_length=I,this.max_chain=v,this.func=T}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*ae),this.dyn_dtree=new d.Buf16(2*(2*q+1)),this.bl_tree=new d.Buf16(2*(2*ce+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(de+1),this.heap=new d.Buf16(2*H+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*H+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(_){var re;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=C,(re=_.state).pending=0,re.pending_out=0,re.wrap<0&&(re.wrap=-re.wrap),re.status=re.wrap?Z:pe,_.adler=re.wrap===2?0:1,re.last_flush=x,h._tr_init(re),E):Ce(_,D)}function F(_){var re=z(_);return re===E&&(function(I){I.window_size=2*I.w_size,K(I.head),I.max_lazy_match=c[I.level].max_lazy,I.good_match=c[I.level].good_length,I.nice_match=c[I.level].nice_length,I.max_chain_length=c[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=G-1,I.match_available=0,I.ins_h=0})(_.state),re}function ie(_,re,I,v,T,b){if(!_)return D;var X=1;if(re===A&&(re=6),v<0?(X=0,v=-v):15<v&&(X=2,v-=16),T<1||O<T||I!==M||v<8||15<v||re<0||9<re||b<0||U<b)return Ce(_,D);v===8&&(v=9);var ne=new W;return(_.state=ne).strm=_,ne.wrap=X,ne.gzhead=null,ne.w_bits=v,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=T+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+G-1)/G),ne.window=new d.Buf8(2*ne.w_size),ne.head=new d.Buf16(ne.hash_size),ne.prev=new d.Buf16(ne.w_size),ne.lit_bufsize=1<<T+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new d.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=re,ne.strategy=b,ne.method=I,F(_)}c=[new te(0,0,0,0,function(_,re){var I=65535;for(I>_.pending_buf_size-5&&(I=_.pending_buf_size-5);;){if(_.lookahead<=1){if($(_),_.lookahead===0&&re===x)return B;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var v=_.block_start+I;if((_.strstart===0||_.strstart>=v)&&(_.lookahead=_.strstart-v,_.strstart=v,P(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-Re&&(P(_,!1),_.strm.avail_out===0))return B}return _.insert=0,re===S?(P(_,!0),_.strm.avail_out===0?le:se):(_.strstart>_.block_start&&(P(_,!1),_.strm.avail_out),B)}),new te(4,4,8,4,N),new te(4,5,16,8,N),new te(4,6,32,32,N),new te(4,4,16,16,R),new te(8,16,32,32,R),new te(8,16,128,128,R),new te(8,32,128,256,R),new te(32,128,258,1024,R),new te(32,258,258,4096,R)],a.deflateInit=function(_,re){return ie(_,re,M,15,8,0)},a.deflateInit2=ie,a.deflateReset=F,a.deflateResetKeep=z,a.deflateSetHeader=function(_,re){return _&&_.state?_.state.wrap!==2?D:(_.state.gzhead=re,E):D},a.deflate=function(_,re){var I,v,T,b;if(!_||!_.state||5<re||re<0)return _?Ce(_,D):D;if(v=_.state,!_.output||!_.input&&_.avail_in!==0||v.status===666&&re!==S)return Ce(_,_.avail_out===0?-5:D);if(v.strm=_,I=v.last_flush,v.last_flush=re,v.status===Z)if(v.wrap===2)_.adler=0,J(v,31),J(v,139),J(v,8),v.gzhead?(J(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),J(v,255&v.gzhead.time),J(v,v.gzhead.time>>8&255),J(v,v.gzhead.time>>16&255),J(v,v.gzhead.time>>24&255),J(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),J(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(J(v,255&v.gzhead.extra.length),J(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(_.adler=m(_.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(J(v,0),J(v,0),J(v,0),J(v,0),J(v,0),J(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),J(v,3),v.status=pe);else{var X=M+(v.w_bits-8<<4)<<8;X|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(X|=32),X+=31-X%31,v.status=pe,j(v,X),v.strstart!==0&&(j(v,_.adler>>>16),j(v,65535&_.adler)),_.adler=1}if(v.status===69)if(v.gzhead.extra){for(T=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>T&&(_.adler=m(_.adler,v.pending_buf,v.pending-T,T)),Y(_),T=v.pending,v.pending!==v.pending_buf_size));)J(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>T&&(_.adler=m(_.adler,v.pending_buf,v.pending-T,T)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){T=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>T&&(_.adler=m(_.adler,v.pending_buf,v.pending-T,T)),Y(_),T=v.pending,v.pending===v.pending_buf_size)){b=1;break}b=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,J(v,b)}while(b!==0);v.gzhead.hcrc&&v.pending>T&&(_.adler=m(_.adler,v.pending_buf,v.pending-T,T)),b===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){T=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>T&&(_.adler=m(_.adler,v.pending_buf,v.pending-T,T)),Y(_),T=v.pending,v.pending===v.pending_buf_size)){b=1;break}b=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,J(v,b)}while(b!==0);v.gzhead.hcrc&&v.pending>T&&(_.adler=m(_.adler,v.pending_buf,v.pending-T,T)),b===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&Y(_),v.pending+2<=v.pending_buf_size&&(J(v,255&_.adler),J(v,_.adler>>8&255),_.adler=0,v.status=pe)):v.status=pe),v.pending!==0){if(Y(_),_.avail_out===0)return v.last_flush=-1,E}else if(_.avail_in===0&&ue(re)<=ue(I)&&re!==S)return Ce(_,-5);if(v.status===666&&_.avail_in!==0)return Ce(_,-5);if(_.avail_in!==0||v.lookahead!==0||re!==x&&v.status!==666){var ne=v.strategy===2?(function(Q,ge){for(var De;;){if(Q.lookahead===0&&($(Q),Q.lookahead===0)){if(ge===x)return B;break}if(Q.match_length=0,De=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++,De&&(P(Q,!1),Q.strm.avail_out===0))return B}return Q.insert=0,ge===S?(P(Q,!0),Q.strm.avail_out===0?le:se):Q.last_lit&&(P(Q,!1),Q.strm.avail_out===0)?B:he})(v,re):v.strategy===3?(function(Q,ge){for(var De,be,ke,Le,ze=Q.window;;){if(Q.lookahead<=Te){if($(Q),Q.lookahead<=Te&&ge===x)return B;if(Q.lookahead===0)break}if(Q.match_length=0,Q.lookahead>=G&&0<Q.strstart&&(be=ze[ke=Q.strstart-1])===ze[++ke]&&be===ze[++ke]&&be===ze[++ke]){Le=Q.strstart+Te;do;while(be===ze[++ke]&&be===ze[++ke]&&be===ze[++ke]&&be===ze[++ke]&&be===ze[++ke]&&be===ze[++ke]&&be===ze[++ke]&&be===ze[++ke]&&ke<Le);Q.match_length=Te-(Le-ke),Q.match_length>Q.lookahead&&(Q.match_length=Q.lookahead)}if(Q.match_length>=G?(De=h._tr_tally(Q,1,Q.match_length-G),Q.lookahead-=Q.match_length,Q.strstart+=Q.match_length,Q.match_length=0):(De=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++),De&&(P(Q,!1),Q.strm.avail_out===0))return B}return Q.insert=0,ge===S?(P(Q,!0),Q.strm.avail_out===0?le:se):Q.last_lit&&(P(Q,!1),Q.strm.avail_out===0)?B:he})(v,re):c[v.level].func(v,re);if(ne!==le&&ne!==se||(v.status=666),ne===B||ne===le)return _.avail_out===0&&(v.last_flush=-1),E;if(ne===he&&(re===1?h._tr_align(v):re!==5&&(h._tr_stored_block(v,0,0,!1),re===3&&(K(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),Y(_),_.avail_out===0))return v.last_flush=-1,E}return re!==S?E:v.wrap<=0?1:(v.wrap===2?(J(v,255&_.adler),J(v,_.adler>>8&255),J(v,_.adler>>16&255),J(v,_.adler>>24&255),J(v,255&_.total_in),J(v,_.total_in>>8&255),J(v,_.total_in>>16&255),J(v,_.total_in>>24&255)):(j(v,_.adler>>>16),j(v,65535&_.adler)),Y(_),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?E:1)},a.deflateEnd=function(_){var re;return _&&_.state?(re=_.state.status)!==Z&&re!==69&&re!==73&&re!==91&&re!==103&&re!==pe&&re!==666?Ce(_,D):(_.state=null,re===pe?Ce(_,-3):E):D},a.deflateSetDictionary=function(_,re){var I,v,T,b,X,ne,Q,ge,De=re.length;if(!_||!_.state||(b=(I=_.state).wrap)===2||b===1&&I.status!==Z||I.lookahead)return D;for(b===1&&(_.adler=p(_.adler,re,De,0)),I.wrap=0,De>=I.w_size&&(b===0&&(K(I.head),I.strstart=0,I.block_start=0,I.insert=0),ge=new d.Buf8(I.w_size),d.arraySet(ge,re,De-I.w_size,I.w_size,0),re=ge,De=I.w_size),X=_.avail_in,ne=_.next_in,Q=_.input,_.avail_in=De,_.next_in=0,_.input=re,$(I);I.lookahead>=G;){for(v=I.strstart,T=I.lookahead-(G-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[v+G-1])&I.hash_mask,I.prev[v&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=v,v++,--T;);I.strstart=v,I.lookahead=G-1,$(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=G-1,I.match_available=0,_.next_in=ne,_.input=Q,_.avail_in=X,I.wrap=b,E},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,a){o.exports=function(c,d){var h,p,m,y,x,S,E,D,A,U,C,M,O,H,q,ce,ae,de,G,Te,Re,Z,pe,B,he;h=c.state,p=c.next_in,B=c.input,m=p+(c.avail_in-5),y=c.next_out,he=c.output,x=y-(d-c.avail_out),S=y+(c.avail_out-257),E=h.dmax,D=h.wsize,A=h.whave,U=h.wnext,C=h.window,M=h.hold,O=h.bits,H=h.lencode,q=h.distcode,ce=(1<<h.lenbits)-1,ae=(1<<h.distbits)-1;e:do{O<15&&(M+=B[p++]<<O,O+=8,M+=B[p++]<<O,O+=8),de=H[M&ce];t:for(;;){if(M>>>=G=de>>>24,O-=G,(G=de>>>16&255)===0)he[y++]=65535&de;else{if(!(16&G)){if((64&G)==0){de=H[(65535&de)+(M&(1<<G)-1)];continue t}if(32&G){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}Te=65535&de,(G&=15)&&(O<G&&(M+=B[p++]<<O,O+=8),Te+=M&(1<<G)-1,M>>>=G,O-=G),O<15&&(M+=B[p++]<<O,O+=8,M+=B[p++]<<O,O+=8),de=q[M&ae];n:for(;;){if(M>>>=G=de>>>24,O-=G,!(16&(G=de>>>16&255))){if((64&G)==0){de=q[(65535&de)+(M&(1<<G)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(Re=65535&de,O<(G&=15)&&(M+=B[p++]<<O,(O+=8)<G&&(M+=B[p++]<<O,O+=8)),E<(Re+=M&(1<<G)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(M>>>=G,O-=G,(G=y-x)<Re){if(A<(G=Re-G)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(pe=C,(Z=0)===U){if(Z+=D-G,G<Te){for(Te-=G;he[y++]=C[Z++],--G;);Z=y-Re,pe=he}}else if(U<G){if(Z+=D+U-G,(G-=U)<Te){for(Te-=G;he[y++]=C[Z++],--G;);if(Z=0,U<Te){for(Te-=G=U;he[y++]=C[Z++],--G;);Z=y-Re,pe=he}}}else if(Z+=U-G,G<Te){for(Te-=G;he[y++]=C[Z++],--G;);Z=y-Re,pe=he}for(;2<Te;)he[y++]=pe[Z++],he[y++]=pe[Z++],he[y++]=pe[Z++],Te-=3;Te&&(he[y++]=pe[Z++],1<Te&&(he[y++]=pe[Z++]))}else{for(Z=y-Re;he[y++]=he[Z++],he[y++]=he[Z++],he[y++]=he[Z++],2<(Te-=3););Te&&(he[y++]=he[Z++],1<Te&&(he[y++]=he[Z++]))}break}}break}}while(p<m&&y<S);p-=Te=O>>3,M&=(1<<(O-=Te<<3))-1,c.next_in=p,c.next_out=y,c.avail_in=p<m?m-p+5:5-(p-m),c.avail_out=y<S?S-y+257:257-(y-S),h.hold=M,h.bits=O}},{}],49:[function(r,o,a){var c=r("../utils/common"),d=r("./adler32"),h=r("./crc32"),p=r("./inffast"),m=r("./inftrees"),y=1,x=2,S=0,E=-2,D=1,A=852,U=592;function C(Z){return(Z>>>24&255)+(Z>>>8&65280)+((65280&Z)<<8)+((255&Z)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(Z){var pe;return Z&&Z.state?(pe=Z.state,Z.total_in=Z.total_out=pe.total=0,Z.msg="",pe.wrap&&(Z.adler=1&pe.wrap),pe.mode=D,pe.last=0,pe.havedict=0,pe.dmax=32768,pe.head=null,pe.hold=0,pe.bits=0,pe.lencode=pe.lendyn=new c.Buf32(A),pe.distcode=pe.distdyn=new c.Buf32(U),pe.sane=1,pe.back=-1,S):E}function H(Z){var pe;return Z&&Z.state?((pe=Z.state).wsize=0,pe.whave=0,pe.wnext=0,O(Z)):E}function q(Z,pe){var B,he;return Z&&Z.state?(he=Z.state,pe<0?(B=0,pe=-pe):(B=1+(pe>>4),pe<48&&(pe&=15)),pe&&(pe<8||15<pe)?E:(he.window!==null&&he.wbits!==pe&&(he.window=null),he.wrap=B,he.wbits=pe,H(Z))):E}function ce(Z,pe){var B,he;return Z?(he=new M,(Z.state=he).window=null,(B=q(Z,pe))!==S&&(Z.state=null),B):E}var ae,de,G=!0;function Te(Z){if(G){var pe;for(ae=new c.Buf32(512),de=new c.Buf32(32),pe=0;pe<144;)Z.lens[pe++]=8;for(;pe<256;)Z.lens[pe++]=9;for(;pe<280;)Z.lens[pe++]=7;for(;pe<288;)Z.lens[pe++]=8;for(m(y,Z.lens,0,288,ae,0,Z.work,{bits:9}),pe=0;pe<32;)Z.lens[pe++]=5;m(x,Z.lens,0,32,de,0,Z.work,{bits:5}),G=!1}Z.lencode=ae,Z.lenbits=9,Z.distcode=de,Z.distbits=5}function Re(Z,pe,B,he){var le,se=Z.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new c.Buf8(se.wsize)),he>=se.wsize?(c.arraySet(se.window,pe,B-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(he<(le=se.wsize-se.wnext)&&(le=he),c.arraySet(se.window,pe,B-he,le,se.wnext),(he-=le)?(c.arraySet(se.window,pe,B-he,he,0),se.wnext=he,se.whave=se.wsize):(se.wnext+=le,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=le))),0}a.inflateReset=H,a.inflateReset2=q,a.inflateResetKeep=O,a.inflateInit=function(Z){return ce(Z,15)},a.inflateInit2=ce,a.inflate=function(Z,pe){var B,he,le,se,Ce,ue,K,Y,P,J,j,ee,$,N,R,te,W,z,F,ie,_,re,I,v,T=0,b=new c.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return E;(B=Z.state).mode===12&&(B.mode=13),Ce=Z.next_out,le=Z.output,K=Z.avail_out,se=Z.next_in,he=Z.input,ue=Z.avail_in,Y=B.hold,P=B.bits,J=ue,j=K,re=S;e:for(;;)switch(B.mode){case D:if(B.wrap===0){B.mode=13;break}for(;P<16;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if(2&B.wrap&&Y===35615){b[B.check=0]=255&Y,b[1]=Y>>>8&255,B.check=h(B.check,b,2,0),P=Y=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&Y)<<8)+(Y>>8))%31){Z.msg="incorrect header check",B.mode=30;break}if((15&Y)!=8){Z.msg="unknown compression method",B.mode=30;break}if(P-=4,_=8+(15&(Y>>>=4)),B.wbits===0)B.wbits=_;else if(_>B.wbits){Z.msg="invalid window size",B.mode=30;break}B.dmax=1<<_,Z.adler=B.check=1,B.mode=512&Y?10:12,P=Y=0;break;case 2:for(;P<16;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if(B.flags=Y,(255&B.flags)!=8){Z.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){Z.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=Y>>8&1),512&B.flags&&(b[0]=255&Y,b[1]=Y>>>8&255,B.check=h(B.check,b,2,0)),P=Y=0,B.mode=3;case 3:for(;P<32;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}B.head&&(B.head.time=Y),512&B.flags&&(b[0]=255&Y,b[1]=Y>>>8&255,b[2]=Y>>>16&255,b[3]=Y>>>24&255,B.check=h(B.check,b,4,0)),P=Y=0,B.mode=4;case 4:for(;P<16;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}B.head&&(B.head.xflags=255&Y,B.head.os=Y>>8),512&B.flags&&(b[0]=255&Y,b[1]=Y>>>8&255,B.check=h(B.check,b,2,0)),P=Y=0,B.mode=5;case 5:if(1024&B.flags){for(;P<16;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}B.length=Y,B.head&&(B.head.extra_len=Y),512&B.flags&&(b[0]=255&Y,b[1]=Y>>>8&255,B.check=h(B.check,b,2,0)),P=Y=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(ue<(ee=B.length)&&(ee=ue),ee&&(B.head&&(_=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),c.arraySet(B.head.extra,he,se,ee,_)),512&B.flags&&(B.check=h(B.check,he,ee,se)),ue-=ee,se+=ee,B.length-=ee),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(ue===0)break e;for(ee=0;_=he[se+ee++],B.head&&_&&B.length<65536&&(B.head.name+=String.fromCharCode(_)),_&&ee<ue;);if(512&B.flags&&(B.check=h(B.check,he,ee,se)),ue-=ee,se+=ee,_)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(ue===0)break e;for(ee=0;_=he[se+ee++],B.head&&_&&B.length<65536&&(B.head.comment+=String.fromCharCode(_)),_&&ee<ue;);if(512&B.flags&&(B.check=h(B.check,he,ee,se)),ue-=ee,se+=ee,_)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;P<16;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if(Y!==(65535&B.check)){Z.msg="header crc mismatch",B.mode=30;break}P=Y=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),Z.adler=B.check=0,B.mode=12;break;case 10:for(;P<32;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}Z.adler=B.check=C(Y),P=Y=0,B.mode=11;case 11:if(B.havedict===0)return Z.next_out=Ce,Z.avail_out=K,Z.next_in=se,Z.avail_in=ue,B.hold=Y,B.bits=P,2;Z.adler=B.check=1,B.mode=12;case 12:if(pe===5||pe===6)break e;case 13:if(B.last){Y>>>=7&P,P-=7&P,B.mode=27;break}for(;P<3;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}switch(B.last=1&Y,P-=1,3&(Y>>>=1)){case 0:B.mode=14;break;case 1:if(Te(B),B.mode=20,pe!==6)break;Y>>>=2,P-=2;break e;case 2:B.mode=17;break;case 3:Z.msg="invalid block type",B.mode=30}Y>>>=2,P-=2;break;case 14:for(Y>>>=7&P,P-=7&P;P<32;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if((65535&Y)!=(Y>>>16^65535)){Z.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&Y,P=Y=0,B.mode=15,pe===6)break e;case 15:B.mode=16;case 16:if(ee=B.length){if(ue<ee&&(ee=ue),K<ee&&(ee=K),ee===0)break e;c.arraySet(le,he,se,ee,Ce),ue-=ee,se+=ee,K-=ee,Ce+=ee,B.length-=ee;break}B.mode=12;break;case 17:for(;P<14;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if(B.nlen=257+(31&Y),Y>>>=5,P-=5,B.ndist=1+(31&Y),Y>>>=5,P-=5,B.ncode=4+(15&Y),Y>>>=4,P-=4,286<B.nlen||30<B.ndist){Z.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;P<3;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}B.lens[X[B.have++]]=7&Y,Y>>>=3,P-=3}for(;B.have<19;)B.lens[X[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,I={bits:B.lenbits},re=m(0,B.lens,0,19,B.lencode,0,B.work,I),B.lenbits=I.bits,re){Z.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;te=(T=B.lencode[Y&(1<<B.lenbits)-1])>>>16&255,W=65535&T,!((R=T>>>24)<=P);){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if(W<16)Y>>>=R,P-=R,B.lens[B.have++]=W;else{if(W===16){for(v=R+2;P<v;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if(Y>>>=R,P-=R,B.have===0){Z.msg="invalid bit length repeat",B.mode=30;break}_=B.lens[B.have-1],ee=3+(3&Y),Y>>>=2,P-=2}else if(W===17){for(v=R+3;P<v;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}P-=R,_=0,ee=3+(7&(Y>>>=R)),Y>>>=3,P-=3}else{for(v=R+7;P<v;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}P-=R,_=0,ee=11+(127&(Y>>>=R)),Y>>>=7,P-=7}if(B.have+ee>B.nlen+B.ndist){Z.msg="invalid bit length repeat",B.mode=30;break}for(;ee--;)B.lens[B.have++]=_}}if(B.mode===30)break;if(B.lens[256]===0){Z.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,I={bits:B.lenbits},re=m(y,B.lens,0,B.nlen,B.lencode,0,B.work,I),B.lenbits=I.bits,re){Z.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,I={bits:B.distbits},re=m(x,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,I),B.distbits=I.bits,re){Z.msg="invalid distances set",B.mode=30;break}if(B.mode=20,pe===6)break e;case 20:B.mode=21;case 21:if(6<=ue&&258<=K){Z.next_out=Ce,Z.avail_out=K,Z.next_in=se,Z.avail_in=ue,B.hold=Y,B.bits=P,p(Z,j),Ce=Z.next_out,le=Z.output,K=Z.avail_out,se=Z.next_in,he=Z.input,ue=Z.avail_in,Y=B.hold,P=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;te=(T=B.lencode[Y&(1<<B.lenbits)-1])>>>16&255,W=65535&T,!((R=T>>>24)<=P);){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if(te&&(240&te)==0){for(z=R,F=te,ie=W;te=(T=B.lencode[ie+((Y&(1<<z+F)-1)>>z)])>>>16&255,W=65535&T,!(z+(R=T>>>24)<=P);){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}Y>>>=z,P-=z,B.back+=z}if(Y>>>=R,P-=R,B.back+=R,B.length=W,te===0){B.mode=26;break}if(32&te){B.back=-1,B.mode=12;break}if(64&te){Z.msg="invalid literal/length code",B.mode=30;break}B.extra=15&te,B.mode=22;case 22:if(B.extra){for(v=B.extra;P<v;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}B.length+=Y&(1<<B.extra)-1,Y>>>=B.extra,P-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;te=(T=B.distcode[Y&(1<<B.distbits)-1])>>>16&255,W=65535&T,!((R=T>>>24)<=P);){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if((240&te)==0){for(z=R,F=te,ie=W;te=(T=B.distcode[ie+((Y&(1<<z+F)-1)>>z)])>>>16&255,W=65535&T,!(z+(R=T>>>24)<=P);){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}Y>>>=z,P-=z,B.back+=z}if(Y>>>=R,P-=R,B.back+=R,64&te){Z.msg="invalid distance code",B.mode=30;break}B.offset=W,B.extra=15&te,B.mode=24;case 24:if(B.extra){for(v=B.extra;P<v;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}B.offset+=Y&(1<<B.extra)-1,Y>>>=B.extra,P-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){Z.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(K===0)break e;if(ee=j-K,B.offset>ee){if((ee=B.offset-ee)>B.whave&&B.sane){Z.msg="invalid distance too far back",B.mode=30;break}$=ee>B.wnext?(ee-=B.wnext,B.wsize-ee):B.wnext-ee,ee>B.length&&(ee=B.length),N=B.window}else N=le,$=Ce-B.offset,ee=B.length;for(K<ee&&(ee=K),K-=ee,B.length-=ee;le[Ce++]=N[$++],--ee;);B.length===0&&(B.mode=21);break;case 26:if(K===0)break e;le[Ce++]=B.length,K--,B.mode=21;break;case 27:if(B.wrap){for(;P<32;){if(ue===0)break e;ue--,Y|=he[se++]<<P,P+=8}if(j-=K,Z.total_out+=j,B.total+=j,j&&(Z.adler=B.check=B.flags?h(B.check,le,j,Ce-j):d(B.check,le,j,Ce-j)),j=K,(B.flags?Y:C(Y))!==B.check){Z.msg="incorrect data check",B.mode=30;break}P=Y=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;P<32;){if(ue===0)break e;ue--,Y+=he[se++]<<P,P+=8}if(Y!==(4294967295&B.total)){Z.msg="incorrect length check",B.mode=30;break}P=Y=0}B.mode=29;case 29:re=1;break e;case 30:re=-3;break e;case 31:return-4;case 32:default:return E}return Z.next_out=Ce,Z.avail_out=K,Z.next_in=se,Z.avail_in=ue,B.hold=Y,B.bits=P,(B.wsize||j!==Z.avail_out&&B.mode<30&&(B.mode<27||pe!==4))&&Re(Z,Z.output,Z.next_out,j-Z.avail_out)?(B.mode=31,-4):(J-=Z.avail_in,j-=Z.avail_out,Z.total_in+=J,Z.total_out+=j,B.total+=j,B.wrap&&j&&(Z.adler=B.check=B.flags?h(B.check,le,j,Z.next_out-j):d(B.check,le,j,Z.next_out-j)),Z.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(J==0&&j===0||pe===4)&&re===S&&(re=-5),re)},a.inflateEnd=function(Z){if(!Z||!Z.state)return E;var pe=Z.state;return pe.window&&(pe.window=null),Z.state=null,S},a.inflateGetHeader=function(Z,pe){var B;return Z&&Z.state?(2&(B=Z.state).wrap)==0?E:((B.head=pe).done=!1,S):E},a.inflateSetDictionary=function(Z,pe){var B,he=pe.length;return Z&&Z.state?(B=Z.state).wrap!==0&&B.mode!==11?E:B.mode===11&&d(1,pe,he,0)!==B.check?-3:Re(Z,pe,he,he)?(B.mode=31,-4):(B.havedict=1,S):E},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,a){var c=r("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,x,S,E,D,A,U,C){var M,O,H,q,ce,ae,de,G,Te,Re=C.bits,Z=0,pe=0,B=0,he=0,le=0,se=0,Ce=0,ue=0,K=0,Y=0,P=null,J=0,j=new c.Buf16(16),ee=new c.Buf16(16),$=null,N=0;for(Z=0;Z<=15;Z++)j[Z]=0;for(pe=0;pe<E;pe++)j[x[S+pe]]++;for(le=Re,he=15;1<=he&&j[he]===0;he--);if(he<le&&(le=he),he===0)return D[A++]=20971520,D[A++]=20971520,C.bits=1,0;for(B=1;B<he&&j[B]===0;B++);for(le<B&&(le=B),Z=ue=1;Z<=15;Z++)if(ue<<=1,(ue-=j[Z])<0)return-1;if(0<ue&&(y===0||he!==1))return-1;for(ee[1]=0,Z=1;Z<15;Z++)ee[Z+1]=ee[Z]+j[Z];for(pe=0;pe<E;pe++)x[S+pe]!==0&&(U[ee[x[S+pe]]++]=pe);if(ae=y===0?(P=$=U,19):y===1?(P=d,J-=257,$=h,N-=257,256):(P=p,$=m,-1),Z=B,ce=A,Ce=pe=Y=0,H=-1,q=(K=1<<(se=le))-1,y===1&&852<K||y===2&&592<K)return 1;for(;;){for(de=Z-Ce,Te=U[pe]<ae?(G=0,U[pe]):U[pe]>ae?(G=$[N+U[pe]],P[J+U[pe]]):(G=96,0),M=1<<Z-Ce,B=O=1<<se;D[ce+(Y>>Ce)+(O-=M)]=de<<24|G<<16|Te|0,O!==0;);for(M=1<<Z-1;Y&M;)M>>=1;if(M!==0?(Y&=M-1,Y+=M):Y=0,pe++,--j[Z]==0){if(Z===he)break;Z=x[S+U[pe]]}if(le<Z&&(Y&q)!==H){for(Ce===0&&(Ce=le),ce+=B,ue=1<<(se=Z-Ce);se+Ce<he&&!((ue-=j[se+Ce])<=0);)se++,ue<<=1;if(K+=1<<se,y===1&&852<K||y===2&&592<K)return 1;D[H=Y&q]=le<<24|se<<16|ce-A|0}}return Y!==0&&(D[ce+Y]=Z-Ce<<24|64<<16|0),C.bits=le,0}},{"../utils/common":41}],51:[function(r,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,a){var c=r("../utils/common"),d=0,h=1;function p(T){for(var b=T.length;0<=--b;)T[b]=0}var m=0,y=29,x=256,S=x+1+y,E=30,D=19,A=2*S+1,U=15,C=16,M=7,O=256,H=16,q=17,ce=18,ae=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],de=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Re=new Array(2*(S+2));p(Re);var Z=new Array(2*E);p(Z);var pe=new Array(512);p(pe);var B=new Array(256);p(B);var he=new Array(y);p(he);var le,se,Ce,ue=new Array(E);function K(T,b,X,ne,Q){this.static_tree=T,this.extra_bits=b,this.extra_base=X,this.elems=ne,this.max_length=Q,this.has_stree=T&&T.length}function Y(T,b){this.dyn_tree=T,this.max_code=0,this.stat_desc=b}function P(T){return T<256?pe[T]:pe[256+(T>>>7)]}function J(T,b){T.pending_buf[T.pending++]=255&b,T.pending_buf[T.pending++]=b>>>8&255}function j(T,b,X){T.bi_valid>C-X?(T.bi_buf|=b<<T.bi_valid&65535,J(T,T.bi_buf),T.bi_buf=b>>C-T.bi_valid,T.bi_valid+=X-C):(T.bi_buf|=b<<T.bi_valid&65535,T.bi_valid+=X)}function ee(T,b,X){j(T,X[2*b],X[2*b+1])}function $(T,b){for(var X=0;X|=1&T,T>>>=1,X<<=1,0<--b;);return X>>>1}function N(T,b,X){var ne,Q,ge=new Array(U+1),De=0;for(ne=1;ne<=U;ne++)ge[ne]=De=De+X[ne-1]<<1;for(Q=0;Q<=b;Q++){var be=T[2*Q+1];be!==0&&(T[2*Q]=$(ge[be]++,be))}}function R(T){var b;for(b=0;b<S;b++)T.dyn_ltree[2*b]=0;for(b=0;b<E;b++)T.dyn_dtree[2*b]=0;for(b=0;b<D;b++)T.bl_tree[2*b]=0;T.dyn_ltree[2*O]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function te(T){8<T.bi_valid?J(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function W(T,b,X,ne){var Q=2*b,ge=2*X;return T[Q]<T[ge]||T[Q]===T[ge]&&ne[b]<=ne[X]}function z(T,b,X){for(var ne=T.heap[X],Q=X<<1;Q<=T.heap_len&&(Q<T.heap_len&&W(b,T.heap[Q+1],T.heap[Q],T.depth)&&Q++,!W(b,ne,T.heap[Q],T.depth));)T.heap[X]=T.heap[Q],X=Q,Q<<=1;T.heap[X]=ne}function F(T,b,X){var ne,Q,ge,De,be=0;if(T.last_lit!==0)for(;ne=T.pending_buf[T.d_buf+2*be]<<8|T.pending_buf[T.d_buf+2*be+1],Q=T.pending_buf[T.l_buf+be],be++,ne===0?ee(T,Q,b):(ee(T,(ge=B[Q])+x+1,b),(De=ae[ge])!==0&&j(T,Q-=he[ge],De),ee(T,ge=P(--ne),X),(De=de[ge])!==0&&j(T,ne-=ue[ge],De)),be<T.last_lit;);ee(T,O,b)}function ie(T,b){var X,ne,Q,ge=b.dyn_tree,De=b.stat_desc.static_tree,be=b.stat_desc.has_stree,ke=b.stat_desc.elems,Le=-1;for(T.heap_len=0,T.heap_max=A,X=0;X<ke;X++)ge[2*X]!==0?(T.heap[++T.heap_len]=Le=X,T.depth[X]=0):ge[2*X+1]=0;for(;T.heap_len<2;)ge[2*(Q=T.heap[++T.heap_len]=Le<2?++Le:0)]=1,T.depth[Q]=0,T.opt_len--,be&&(T.static_len-=De[2*Q+1]);for(b.max_code=Le,X=T.heap_len>>1;1<=X;X--)z(T,ge,X);for(Q=ke;X=T.heap[1],T.heap[1]=T.heap[T.heap_len--],z(T,ge,1),ne=T.heap[1],T.heap[--T.heap_max]=X,T.heap[--T.heap_max]=ne,ge[2*Q]=ge[2*X]+ge[2*ne],T.depth[Q]=(T.depth[X]>=T.depth[ne]?T.depth[X]:T.depth[ne])+1,ge[2*X+1]=ge[2*ne+1]=Q,T.heap[1]=Q++,z(T,ge,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],(function(ze,Xe){var Rt,Nt,_t,ht,mn,an,Ct=Xe.dyn_tree,Bn=Xe.max_code,_i=Xe.stat_desc.static_tree,er=Xe.stat_desc.has_stree,bi=Xe.stat_desc.extra_bits,xr=Xe.stat_desc.extra_base,gn=Xe.stat_desc.max_length,Tr=0;for(ht=0;ht<=U;ht++)ze.bl_count[ht]=0;for(Ct[2*ze.heap[ze.heap_max]+1]=0,Rt=ze.heap_max+1;Rt<A;Rt++)gn<(ht=Ct[2*Ct[2*(Nt=ze.heap[Rt])+1]+1]+1)&&(ht=gn,Tr++),Ct[2*Nt+1]=ht,Bn<Nt||(ze.bl_count[ht]++,mn=0,xr<=Nt&&(mn=bi[Nt-xr]),an=Ct[2*Nt],ze.opt_len+=an*(ht+mn),er&&(ze.static_len+=an*(_i[2*Nt+1]+mn)));if(Tr!==0){do{for(ht=gn-1;ze.bl_count[ht]===0;)ht--;ze.bl_count[ht]--,ze.bl_count[ht+1]+=2,ze.bl_count[gn]--,Tr-=2}while(0<Tr);for(ht=gn;ht!==0;ht--)for(Nt=ze.bl_count[ht];Nt!==0;)Bn<(_t=ze.heap[--Rt])||(Ct[2*_t+1]!==ht&&(ze.opt_len+=(ht-Ct[2*_t+1])*Ct[2*_t],Ct[2*_t+1]=ht),Nt--)}})(T,b),N(ge,Le,T.bl_count)}function _(T,b,X){var ne,Q,ge=-1,De=b[1],be=0,ke=7,Le=4;for(De===0&&(ke=138,Le=3),b[2*(X+1)+1]=65535,ne=0;ne<=X;ne++)Q=De,De=b[2*(ne+1)+1],++be<ke&&Q===De||(be<Le?T.bl_tree[2*Q]+=be:Q!==0?(Q!==ge&&T.bl_tree[2*Q]++,T.bl_tree[2*H]++):be<=10?T.bl_tree[2*q]++:T.bl_tree[2*ce]++,ge=Q,Le=(be=0)===De?(ke=138,3):Q===De?(ke=6,3):(ke=7,4))}function re(T,b,X){var ne,Q,ge=-1,De=b[1],be=0,ke=7,Le=4;for(De===0&&(ke=138,Le=3),ne=0;ne<=X;ne++)if(Q=De,De=b[2*(ne+1)+1],!(++be<ke&&Q===De)){if(be<Le)for(;ee(T,Q,T.bl_tree),--be!=0;);else Q!==0?(Q!==ge&&(ee(T,Q,T.bl_tree),be--),ee(T,H,T.bl_tree),j(T,be-3,2)):be<=10?(ee(T,q,T.bl_tree),j(T,be-3,3)):(ee(T,ce,T.bl_tree),j(T,be-11,7));ge=Q,Le=(be=0)===De?(ke=138,3):Q===De?(ke=6,3):(ke=7,4)}}p(ue);var I=!1;function v(T,b,X,ne){j(T,(m<<1)+(ne?1:0),3),(function(Q,ge,De,be){te(Q),J(Q,De),J(Q,~De),c.arraySet(Q.pending_buf,Q.window,ge,De,Q.pending),Q.pending+=De})(T,b,X)}a._tr_init=function(T){I||((function(){var b,X,ne,Q,ge,De=new Array(U+1);for(Q=ne=0;Q<y-1;Q++)for(he[Q]=ne,b=0;b<1<<ae[Q];b++)B[ne++]=Q;for(B[ne-1]=Q,Q=ge=0;Q<16;Q++)for(ue[Q]=ge,b=0;b<1<<de[Q];b++)pe[ge++]=Q;for(ge>>=7;Q<E;Q++)for(ue[Q]=ge<<7,b=0;b<1<<de[Q]-7;b++)pe[256+ge++]=Q;for(X=0;X<=U;X++)De[X]=0;for(b=0;b<=143;)Re[2*b+1]=8,b++,De[8]++;for(;b<=255;)Re[2*b+1]=9,b++,De[9]++;for(;b<=279;)Re[2*b+1]=7,b++,De[7]++;for(;b<=287;)Re[2*b+1]=8,b++,De[8]++;for(N(Re,S+1,De),b=0;b<E;b++)Z[2*b+1]=5,Z[2*b]=$(b,5);le=new K(Re,ae,x+1,S,U),se=new K(Z,de,0,E,U),Ce=new K(new Array(0),G,0,D,M)})(),I=!0),T.l_desc=new Y(T.dyn_ltree,le),T.d_desc=new Y(T.dyn_dtree,se),T.bl_desc=new Y(T.bl_tree,Ce),T.bi_buf=0,T.bi_valid=0,R(T)},a._tr_stored_block=v,a._tr_flush_block=function(T,b,X,ne){var Q,ge,De=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=(function(be){var ke,Le=4093624447;for(ke=0;ke<=31;ke++,Le>>>=1)if(1&Le&&be.dyn_ltree[2*ke]!==0)return d;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return h;for(ke=32;ke<x;ke++)if(be.dyn_ltree[2*ke]!==0)return h;return d})(T)),ie(T,T.l_desc),ie(T,T.d_desc),De=(function(be){var ke;for(_(be,be.dyn_ltree,be.l_desc.max_code),_(be,be.dyn_dtree,be.d_desc.max_code),ie(be,be.bl_desc),ke=D-1;3<=ke&&be.bl_tree[2*Te[ke]+1]===0;ke--);return be.opt_len+=3*(ke+1)+5+5+4,ke})(T),Q=T.opt_len+3+7>>>3,(ge=T.static_len+3+7>>>3)<=Q&&(Q=ge)):Q=ge=X+5,X+4<=Q&&b!==-1?v(T,b,X,ne):T.strategy===4||ge===Q?(j(T,2+(ne?1:0),3),F(T,Re,Z)):(j(T,4+(ne?1:0),3),(function(be,ke,Le,ze){var Xe;for(j(be,ke-257,5),j(be,Le-1,5),j(be,ze-4,4),Xe=0;Xe<ze;Xe++)j(be,be.bl_tree[2*Te[Xe]+1],3);re(be,be.dyn_ltree,ke-1),re(be,be.dyn_dtree,Le-1)})(T,T.l_desc.max_code+1,T.d_desc.max_code+1,De+1),F(T,T.dyn_ltree,T.dyn_dtree)),R(T),ne&&te(T)},a._tr_tally=function(T,b,X){return T.pending_buf[T.d_buf+2*T.last_lit]=b>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&b,T.pending_buf[T.l_buf+T.last_lit]=255&X,T.last_lit++,b===0?T.dyn_ltree[2*X]++:(T.matches++,b--,T.dyn_ltree[2*(B[X]+x+1)]++,T.dyn_dtree[2*P(b)]++),T.last_lit===T.lit_bufsize-1},a._tr_align=function(T){j(T,2,3),ee(T,O,Re),(function(b){b.bi_valid===16?(J(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=255&b.bi_buf,b.bi_buf>>=8,b.bi_valid-=8)})(T)}},{"../utils/common":41}],53:[function(r,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,a){(function(c){(function(d,h){if(!d.setImmediate){var p,m,y,x,S=1,E={},D=!1,A=d.document,U=Object.getPrototypeOf&&Object.getPrototypeOf(d);U=U&&U.setTimeout?U:d,p={}.toString.call(d.process)==="[object process]"?function(H){et.nextTick(function(){M(H)})}:(function(){if(d.postMessage&&!d.importScripts){var H=!0,q=d.onmessage;return d.onmessage=function(){H=!1},d.postMessage("","*"),d.onmessage=q,H}})()?(x="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",O,!1):d.attachEvent("onmessage",O),function(H){d.postMessage(x+H,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(H){M(H.data)},function(H){y.port2.postMessage(H)}):A&&"onreadystatechange"in A.createElement("script")?(m=A.documentElement,function(H){var q=A.createElement("script");q.onreadystatechange=function(){M(H),q.onreadystatechange=null,m.removeChild(q),q=null},m.appendChild(q)}):function(H){setTimeout(M,0,H)},U.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var q=new Array(arguments.length-1),ce=0;ce<q.length;ce++)q[ce]=arguments[ce+1];var ae={callback:H,args:q};return E[S]=ae,p(S),S++},U.clearImmediate=C}function C(H){delete E[H]}function M(H){if(D)setTimeout(M,0,H);else{var q=E[H];if(q){D=!0;try{(function(ce){var ae=ce.callback,de=ce.args;switch(de.length){case 0:ae();break;case 1:ae(de[0]);break;case 2:ae(de[0],de[1]);break;case 3:ae(de[0],de[1],de[2]);break;default:ae.apply(h,de)}})(q)}finally{C(H),D=!1}}}}function O(H){H.source===d&&typeof H.data=="string"&&H.data.indexOf(x)===0&&M(+H.data.slice(x.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(wx);var S3=wx.exports;const E3=pw(S3);var Ll={exports:{}},_3={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function b3(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,r){return _3[r]}):t}var C3=b3,Td=C3,Tv=Ud.Stream,A3="    ";function R3(t,e){typeof e!="object"&&(e={indent:e});var r=e.stream?new Tv:null,o="",a=!1,c=e.indent?e.indent===!0?A3:e.indent:"",d=!0;function h(S){d?et.nextTick(S):S()}function p(S,E){if(E!==void 0&&(o+=E),S&&!a&&(r=r||new Tv,a=!0),S&&a){var D=o;h(function(){r.emit("data",D)}),o=""}}function m(S,E){Yd(p,Bl(S,c,c?1:0),E)}function y(){if(r){var S=o;h(function(){r.emit("data",S),r.emit("end"),r.readable=!1,r.emit("close")})}}function x(S){var E=S.encoding||"UTF-8",D={version:"1.0",encoding:E};S.standalone&&(D.standalone=S.standalone),m({"?xml":{_attr:D}}),o=o.replace("/>","?>")}return h(function(){d=!1}),e.declaration&&x(e.declaration),t&&t.forEach?t.forEach(function(S,E){var D;E+1===t.length&&(D=y),m(S,D)}):m(t,y),r?(r.readable=!0,r):o}function N3(){var t=Array.prototype.slice.call(arguments),e={_elem:Bl(t)};return e.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var o=this,a=this._elem.indent;Yd(this.append,Bl(r,a,this._elem.icount+(a?1:0)),function(){o.append(!0)})},e.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},e}function D3(t,e){return new Array(e||0).join(t||"")}function Bl(t,e,r){r=r||0;var o=D3(e,r),a,c=t,d=!1;if(typeof t=="object"){var h=Object.keys(t);if(a=h[0],c=t[a],c&&c._elem)return c._elem.name=a,c._elem.icount=r,c._elem.indent=e,c._elem.indents=o,c._elem.interrupt=c,c._elem}var p=[],m=[],y;function x(S){var E=Object.keys(S);E.forEach(function(D){p.push(M3(D,S[D]))})}switch(typeof c){case"object":if(c===null)break;c._attr&&x(c._attr),c._cdata&&m.push(("<![CDATA["+c._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),c.forEach&&(y=!1,m.push(""),c.forEach(function(S){if(typeof S=="object"){var E=Object.keys(S)[0];E=="_attr"?x(S._attr):m.push(Bl(S,e,r+1))}else m.pop(),y=!0,m.push(Td(S))}),y||m.push(""));break;default:m.push(Td(c))}return{name:a,interrupt:d,attributes:p,content:m,icount:r,indents:o,indent:e}}function Yd(t,e,r){if(typeof e!="object")return t(!1,e);var o=e.interrupt?1:e.content.length;function a(){for(;e.content.length;){var d=e.content.shift();if(d!==void 0){if(c(d))return;Yd(t,d)}}t(!1,(o>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!r?`
`:"")),r&&r()}function c(d){return d.interrupt?(d.interrupt.append=t,d.interrupt.end=a,d.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(o?e.name?">":"":e.name?"/>":"")+(e.indent&&o>1?`
`:"")),!o)return t(!1,e.indent?`
`:"");c(e)||a()}function M3(t,e){return t+'="'+Td(e)+'"'}Ll.exports=R3;Ll.exports.element=Ll.exports.Element=N3;var I3=Ll.exports;const Bt=pw(I3),Sv=0,Ev=32,k3=32,U3=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==k3)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const a=r.replace(/(..)/g,"$1 ").trim().split(" ").map(p=>parseInt(p,16));a.reverse();const d=t.slice(Sv,Ev).map((p,m)=>p^a[m%a.length]);return Buffer.concat([t.slice(0,Sv),d,t.slice(Ev)])};class L3{format(e,r={stack:[]}){const o=e.prepForXml(r);if(o)return o;throw Error("XMLComponent did not format correctly")}}class B3{replace(e,r,o){let a=e;return r.forEach((c,d)=>{a=a.replace(new RegExp(`{${c.fileName}}`,"g"),(o+d).toString())}),a}getMediaData(e,r){return r.Array.filter(o=>e.search(`{${o.fileName}}`)>0)}}class P3{replace(e,r){let o=e;for(const a of r)o=o.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return o}}class O3{constructor(){Se(this,"formatter"),Se(this,"imageReplacer"),Se(this,"numberingReplacer"),this.formatter=new L3,this.imageReplacer=new B3,this.numberingReplacer=new P3}compile(e,r){const o=new E3,a=this.xmlifyFile(e,r),c=new Map(Object.entries(a));for(const[,d]of c)if(Array.isArray(d))for(const h of d)o.file(h.path,h.data);else o.file(d.path,d.data);for(const{stream:d,fileName:h}of e.Media.Array)o.file(`word/media/${h}`,d);for(const{data:d,name:h,fontKey:p}of e.FontTable.fontOptionsWithKey){const[m]=h.split(".");o.file(`word/fonts/${m}.odttf`,U3(d,p))}return o}xmlifyFile(e,r){const o=e.Document.Relationships.RelationshipCount+1,a=Bt(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(c.forEach((d,h)=>{e.Document.Relationships.createRelationship(o+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),Bt(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const d=this.imageReplacer.replace(a,c,o);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const d=Bt(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Bt(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Bt(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Bt(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,h)=>{const p=Bt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,x)=>{d.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Bt(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,h)=>{const p=Bt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,x)=>{d.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Bt(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:e.Headers.map((d,h)=>{const p=Bt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:e.Footers.map((d,h)=>{const p=Bt(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:Bt(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Bt(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Bt(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Bt(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Bt(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Bt(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Bt(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Bt(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Bt(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const F3={WITH_2_BLANKS:"  "},Vs=t=>t===!0?F3.WITH_2_BLANKS:t===!1?void 0:t;class xx{static toString(e,r){return hl(this,null,function*(){return yield this.compiler.compile(e,Vs(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,r){return hl(this,null,function*(){return yield this.compiler.compile(e,Vs(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,r){return hl(this,null,function*(){return yield this.compiler.compile(e,Vs(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,r){return hl(this,null,function*(){return yield this.compiler.compile(e,Vs(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,r){const o=new Ud.Stream;return this.compiler.compile(e,Vs(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(c=>{o.emit("data",c),o.emit("end")}),o}}Se(xx,"compiler",new O3);const _v=async(t,e)=>{if(!t||t.length===0)return null;const r=d=>d?d.split(/(\[\[.*?\]\])/g).filter(Boolean).map(p=>{if(p.startsWith("[[")&&p.endsWith("]]")){const m=p.slice(2,-2);return new gi({text:m,style:"LinkStyle"})}return new gi(p)}):[],o=[];o.push(new tn({text:e==="GDD"?"Game Design Document":"Roteiro do Jogo",heading:lo.TITLE,alignment:hn.CENTER}));const a=[...new Set(t.map(d=>d.category))];for(const d of a){o.push(new tn({text:d,heading:lo.HEADING_1,spacing:{before:400,after:200}}));const h=t.filter(p=>p.category===d);for(const p of h){if(o.push(new tn({text:p.title,heading:lo.HEADING_2,spacing:{before:300,after:150}})),!p.content||p.content.length===0){o.push(new tn({children:[new gi({text:"[Este documento está vazio.]",italics:!0,color:"808080"})],spacing:{after:200}}));continue}for(const m of p.content)switch(m.type){case"heading":{const y=m.level===1?lo.HEADING_3:m.level===2?lo.HEADING_4:lo.HEADING_5;o.push(new tn({children:r(m.text),heading:y}));break}case"paragraph":{o.push(new tn({children:r(m.text),spacing:{after:120}}));break}case"blockquote":{o.push(new tn({children:r(m.text),style:"IntenseQuote"}));break}case"definition_list":{if(Array.isArray(m.items))for(const y of m.items)o.push(new tn({children:[new gi({text:y.term,bold:!0})]})),o.push(new tn({children:r(y.description),indent:{left:400},spacing:{after:100}}));break}case"list":{if(Array.isArray(m.items))for(const y of m.items)typeof y=="string"&&o.push(new tn({children:r(y),...m.style==="ordered"?{numbering:{reference:"default-numbering",level:0}}:{bullet:{level:0}}}));break}case"image":{if(m.src&&m.src.includes(","))try{const y=m.src.split(",")[1],x=atob(y),S=x.length,E=new Uint8Array(S);for(let D=0;D<S;D++)E[D]=x.charCodeAt(D);o.push(new tn({children:[new r6({data:E,width:500,height:375})],alignment:hn.CENTER})),m.caption&&o.push(new tn({children:r(m.caption),style:"Caption"}))}catch(y){console.error("Erro ao processar imagem para o docx:",y),o.push(new tn({children:[new gi({text:`[Falha ao carregar imagem: ${m.id}]`,color:"FF0000"})]}))}break}}}}const c=new T3({creator:"AI-Powered Interactive GDD",title:e,numbering:{config:[{reference:"default-numbering",levels:[{level:0,format:"decimal",text:"%1.",alignment:hn.START}]}]},styles:{paragraphStyles:[{id:"Caption",name:"Caption",basedOn:"Normal",next:"Normal",run:{italics:!0,size:18,color:"808080"},paragraph:{alignment:hn.CENTER,spacing:{after:200}}},{id:"IntenseQuote",name:"Intense Quote",basedOn:"Normal",next:"Normal",run:{color:"5A5A5A",italics:!0},paragraph:{indentation:{left:400},border:{left:{color:"auto",space:4,style:"single",size:6}},spacing:{before:200,after:200}}}],characterStyles:[{id:"LinkStyle",name:"Link Style",basedOn:"Default",run:{color:"0000FF",underline:{type:Hd.SINGLE,color:"0000FF"}}}]},sections:[{children:o}]});return xx.toBlob(c)},G3="Kael-is-the-key-to-stop-the-end-of-the-world-prophecy",Tx=new TextEncoder,z3=new TextDecoder,Sx=t=>{const e=Tx.encode(G3),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t[o]^e[o%e.length];return r};function V3(t){const e=JSON.stringify(t),r=Tx.encode(e),o=Sx(r),a=8192;let c="";for(let d=0;d<o.length;d+=a){const h=o.subarray(d,d+a);c+=String.fromCharCode.apply(null,h)}return btoa(c)}function q3(t){const e=atob(t),r=new Uint8Array(e.length).map((c,d)=>e.charCodeAt(d)),o=Sx(r),a=z3.decode(o);return JSON.parse(a)}function H3(){var br;const{documents:t,scriptDocuments:e,setDocuments:r,setScriptDocuments:o,isDBLoading:a,dbError:c,viewMode:d,setViewMode:h,activeDocuments:p,activeDocumentId:m,categories:y,activeDocument:x,totalWordCount:S,searchQuery:E,setSearchQuery:D,searchResults:A,scrollToHeading:U,handleSelectDocument:C,handleSelectSearchResult:M,handleNavigate:O,handleDidScrollToHeading:H,handleUpdateBlock:q,handleSetContent:ce,handleUpdateBlockContent:ae,handleUpdateCategoryName:de,handleUpdateDocumentTitle:G,handleReorderDocuments:Te,handleReorderCategories:Re}=o5(),{googleAccessToken:Z,authError:pe,handleGoogleAuthClick:B}=s5(),[he,le]=Ue.useState(320),[se,Ce]=Ue.useState(!1),[ue,K]=Ue.useState(320),Y=Ue.useRef(!1),[P,J]=Ue.useState(!1),[j,ee]=Ue.useState(!1),[$,N]=Ue.useState(!1),[R,te]=Ue.useState(!1),[W,z]=Ue.useState(!1),[F,ie]=Ue.useState(null),[_,re]=Ue.useState(null),[I,v]=Ue.useState({isOpen:!1,docId:null,blockIndex:null,itemIndex:void 0,initialText:""}),[T,b]=Ue.useState({isOpen:!1,targetDoc:null,references:[]}),[X,ne]=Ue.useState({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),[Q,ge]=Ue.useState(null),[De,be]=Ue.useState(!1),[ke,Le]=Ue.useState([]),[ze,Xe]=Ue.useState(!1),Rt=Ue.useRef(null),[Nt,_t]=Ue.useState(!1),ht=Ue.useRef(null),[mn,an]=Ue.useState(""),[Ct,Bn]=Ue.useState(0),[_i,er]=Ue.useState(-1);Ue.useEffect(()=>{const Pe=Qe=>{if(!Y.current)return;const We=Math.max(240,Math.min(Qe.clientX,600));le(We)},Be=()=>{Y.current=!1,document.body.style.cursor="auto",document.body.style.userSelect="auto"};return window.addEventListener("mousemove",Pe),window.addEventListener("mouseup",Be),()=>{window.removeEventListener("mousemove",Pe),window.removeEventListener("mouseup",Be)}},[]),Ue.useEffect(()=>{const Pe=Be=>{ht.current&&!ht.current.contains(Be.target)&&_t(!1)};return document.addEventListener("mousedown",Pe),()=>{document.removeEventListener("mousedown",Pe)}},[]),Ue.useEffect(()=>{an(""),Bn(0),er(-1)},[x==null?void 0:x.id]);const bi=Pe=>{se||(Pe.preventDefault(),Y.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none")},xr=()=>{Ce(Pe=>{const Be=!Pe;return Be?(K(he),le(0)):le(ue),Be})};Ue.useEffect(()=>{c&&ge(c)},[c]),Ue.useEffect(()=>{pe&&ge(pe)},[pe]);const gn=Pe=>{an(Pe),er(Pe.trim()?0:-1)},Tr=()=>{Ct>0&&er(Pe=>(Pe-1+Ct)%Ct)},$s=()=>{Ct>0&&er(Pe=>(Pe+1)%Ct)},Xs=(Pe,Be)=>{an(E),M(Pe,Be)},Po=async(Pe,Be)=>{J(!1),ge(null);const Qe=(d==="gdd"?t:e)||[],We=d==="gdd"?r:o,Je=d==="gdd"?"GDD":"Roteiro";ne({isLoading:!0,message:"A IA está analisando sua ideia...",currentTokens:0,estimatedTokens:Be.maxOutputTokens});const ct=qe=>{ne(tt=>({...tt,currentTokens:qe}))};try{const{payload:qe,rawJson:tt}=await WM(Pe,Qe,Je,ct,Be);re({...qe,rawJson:tt}),ne(Qt=>({...Qt,message:`Integrando sugestão da IA: ${qe.summary}`}));let st=[];We(Qt=>(st=c0(Qt||[],qe),st));const Jt=qe.newDocuments;Jt.length>0?C(Jt[0].id):setTimeout(()=>{!st.some(Cr=>Cr.id===m)&&st.length>0&&C(st[0].id)},0)}catch(qe){console.error(qe),ge(qe instanceof Error?qe.message:"Ocorreu um erro desconhecido.")}finally{setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},Oo=async(Pe,Be)=>{ee(!1),ge(null);const Qe=(d==="gdd"?t:e)||[],We=d==="gdd"?r:o,Je=d==="gdd"?"GDD":"Roteiro";ne({isLoading:!0,message:"A IA está reestruturando os documentos...",currentTokens:0,estimatedTokens:Be.maxOutputTokens});const ct=qe=>{ne(tt=>({...tt,currentTokens:qe}))};try{const{payload:qe,rawJson:tt}=await XM(Pe,Qe,Je,ct,Be);re({...qe,rawJson:tt});let st=[];We(Jt=>(st=c0(Jt||[],qe),st)),ne(Jt=>({...Jt,message:qe.summary||"Documentos atualizados com sucesso!"})),setTimeout(()=>{!st.some(Qt=>Qt.id===m)&&st.length>0&&C(st[0].id)},0)}catch(qe){console.error(qe),ge(qe instanceof Error?qe.message:`Ocorreu um erro desconhecido durante a atualização global do ${Je}.`)}finally{setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1e3)}},Zs=()=>{ge(null);try{const Be=V3({gdd:t,script:e}),Qe=new Blob([Be],{type:"text/plain"}),We=URL.createObjectURL(Qe),Je=document.createElement("a");Je.href=We,Je.download="gdd-e-roteiro-data.json",document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),URL.revokeObjectURL(We)}catch(Pe){console.error("Falha ao fazer o download dos dados",Pe),ge(Pe instanceof Error?Pe.message:"Falha ao fazer o download dos dados.")}},Fo=Pe=>{try{let Be;try{Be=JSON.parse(Pe)}catch(We){try{Be=q3(Pe)}catch(Je){throw console.error("Falha na descriptografia e na análise JSON:",{jsonError:We,decryptError:Je}),new Error("Formato de arquivo inválido. O arquivo deve ser um JSON válido ou um arquivo criptografado válido deste aplicativo.")}}const Qe=We=>Array.isArray(We)&&We.every(Je=>Je&&typeof Je=="object"&&"id"in Je&&"title"in Je&&"category"in Je&&"content"in Je);if(Be&&typeof Be=="object"&&"gdd"in Be&&"script"in Be&&!Array.isArray(Be)){if(!Qe(Be.gdd)||!Qe(Be.script))throw new Error("Formato de arquivo inválido. O arquivo combinado deve conter arrays de documentos válidos para GDD e Roteiro.");r(Be.gdd),o(Be.script)}else if(Qe(Be))r(Be);else throw new Error("Formato de arquivo desconhecido ou inválido. O arquivo deve conter um GDD e Roteiro combinados ou apenas um GDD antigo.")}catch(Be){console.error("Falha ao analisar o arquivo carregado",Be),ge(Be instanceof Error?Be.message:"Falha ao processar o arquivo. Certifique-se de que é um arquivo JSON válido ou um arquivo criptografado válido deste aplicativo.")}finally{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},qn=()=>{z(!1),ge(null);const Pe=document.createElement("input");Pe.type="file",Pe.accept="application/json,.json,text/plain",Pe.onchange=Be=>{var ct;const We=(ct=Be.target.files)==null?void 0:ct[0];if(!We)return;ne({isLoading:!0,message:"Processando arquivo...",currentTokens:0,estimatedTokens:0});const Je=new FileReader;Je.onload=qe=>{var st;const tt=(st=qe.target)==null?void 0:st.result;typeof tt=="string"&&Fo(tt)},Je.onerror=()=>{ge("Falha ao ler o arquivo."),ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},Je.readAsText(We)},Pe.click()},qt=async Pe=>{z(!1),ge(null);const Be=Pe.match(/file\/d\/([a-zA-Z0-9_-]+)/);if(!Be||!Be[1]){ge("URL do Google Drive inválida. Certifique-se de que é um link de compartilhamento de arquivo.");return}const Qe=Be[1];ne({isLoading:!0,message:"Baixando arquivo do Google Drive...",currentTokens:0,estimatedTokens:0});try{const We=`https://www.googleapis.com/drive/v3/files/${Qe}?alt=media&key=PLACEHOLDER_API_KEY`,Je=await fetch(We);if(Je.ok){const tt=await Je.text();ne(st=>({...st,message:"Processando arquivo público..."})),Fo(tt);return}if(!Z)throw new Error("Não foi possível buscar o arquivo público. Se for um arquivo privado, por favor, conecte sua conta do Google primeiro.");ne(tt=>({...tt,message:"Tentando acesso privado..."}));const ct=await fetch(`https://www.googleapis.com/drive/v3/files/${Qe}?alt=media`,{headers:{Authorization:`Bearer ${Z}`}});if(!ct.ok)throw ct.status===401?new Error("Não autorizado. Sua sessão do Google pode ter expirado. Por favor, conecte-se novamente."):new Error(`Falha ao buscar o arquivo do Google Drive: ${ct.statusText}`);const qe=await ct.text();ne(tt=>({...tt,message:"Processando arquivo privado..."})),Fo(qe)}catch(We){console.error("Falha ao carregar do Google Drive",We),ge(We instanceof Error?We.message:"Ocorreu um erro desconhecido ao carregar do Google Drive."),ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},Zt=async()=>{ge(null),ne({isLoading:!0,message:"Gerando arquivos .docx...",currentTokens:0,estimatedTokens:0});try{const Pe=(We,Je)=>{const ct=URL.createObjectURL(We),qe=document.createElement("a");qe.href=ct,qe.download=Je,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),URL.revokeObjectURL(ct)},Be=await _v(t,"GDD");Be&&Pe(Be,"GDD.docx"),await new Promise(We=>setTimeout(We,200));const Qe=await _v(e,"Roteiro");Qe&&Pe(Qe,"Roteiro.docx"),ne(We=>({...We,message:"Documentos gerados com sucesso!"}))}catch(Pe){console.error("Falha ao gerar documentos",Pe),ge(Pe instanceof Error?Pe.message:"Falha ao gerar os documentos.")}finally{setTimeout(()=>{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},1500)}},Sr=(Pe,Be,Qe,We)=>{v({isOpen:!0,docId:Pe,blockIndex:Be,initialText:Qe,itemIndex:We})},Go=async(Pe,Be)=>{const{docId:Qe,blockIndex:We,itemIndex:Je,initialText:ct}=I;if(Qe===null||We===null||!ct)return;v({...I,isOpen:!1}),ge(null);const qe=Math.round(i5(ct)*1.5);ne({isLoading:!0,message:"A IA está aprimorando o texto...",currentTokens:0,estimatedTokens:qe});const tt=st=>{ne(Jt=>({...Jt,currentTokens:st}))};try{const Qt=await $M(ct,Pe,Be?(d==="gdd"?t:e)||[]:void 0,tt);q(Qe,We,Qt,Je)}catch(st){console.error("Falha ao aprimorar o texto",st),ge(st instanceof Error?st.message:"Falha ao aprimorar o texto.")}finally{ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},Qs=Pe=>{const Be=[...t||[],...e||[]],Qe=Be.find(qe=>qe.id===Pe);if(!Qe)return;const We=[],Je=new RegExp(`(\\[\\[${Qe.title.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\])`,"gi"),ct=qe=>qe.split(Je).map((tt,st)=>Je.test(tt)?k.jsx("strong",{className:"bg-yellow-400/30 text-yellow-200",children:tt},st):tt);Be.forEach(qe=>{qe.id!==Qe.id&&qe.content.forEach(tt=>{let st=[];(tt.type==="heading"||tt.type==="paragraph")&&tt.text?st.push(tt.text):tt.type==="list"&&tt.items?st.push(...tt.items.filter(Boolean)):tt.type==="image"&&tt.caption&&st.push(tt.caption),st.forEach(Jt=>{Je.test(Jt)&&We.push({docId:qe.id,docTitle:qe.title,category:qe.category,snippet:k.jsx(k.Fragment,{children:ct(Jt)})})})})}),b({isOpen:!0,targetDoc:Qe,references:We})},Wl=()=>{b({isOpen:!1,targetDoc:null,references:[]})},js=()=>{be(Pe=>!Pe)},Zr=()=>{Le([]),Rt.current=null},zo=async Pe=>{if(!t||!e)return;const Be={role:"user",text:Pe};Le(Qe=>[...Qe,Be]),Xe(!0);try{Rt.current||(Rt.current=ZM(t,e));const We={role:"model",text:(await Rt.current.sendMessage({message:Pe})).text};Le(Je=>[...Je,We])}catch(Qe){console.error("Erro na consulta avançada do chat:",Qe);const We={role:"model",text:"Desculpe, ocorreu um erro ao processar sua pergunta. Por favor, tente novamente."};Le(Je=>[...Je,We])}finally{Xe(!1)}},Er=(Pe,Be)=>{ie({docId:Pe,insertionIndex:Be}),te(!0)},_r=async Pe=>{if(!F)return;const{docId:Be,insertionIndex:Qe}=F,We=(t||[]).some(qe=>qe.id===Be),ct=((We?t:e)||[]).find(qe=>qe.id===Be);if(!ct){ge("Documento alvo para geração de imagem não encontrado.");return}te(!1),ge(null);try{ne({isLoading:!0,message:"A IA está criando um prompt de imagem detalhado...",currentTokens:0,estimatedTokens:0});const qe=await QM(ct,Qe,[...t||[],...e||[]],Pe);ne(tr=>({...tr,message:"A IA está gerando a imagem..."}));const{base64:tt,mimeType:st}=await jM(qe),Jt={type:"image",id:`img-ai-${Date.now()}`,src:`data:${st};base64,${tt}`,caption:qe},Qt=[...ct.content];Qt.splice(Qe,0,Jt);const Cr=We?r:o,Pn=new Date().toISOString();Cr(tr=>(tr||[]).map(Ci=>Ci.id===Be?{...Ci,content:Qt,lastEdited:Pn}:Ci)),ne(tr=>({...tr,message:"Imagem gerada e inserida com sucesso!"}))}catch(qe){console.error("Falha ao gerar a imagem com IA",qe),ge(qe instanceof Error?qe.message:"Ocorreu um erro desconhecido durante a geração da imagem.")}finally{ie(null),setTimeout(()=>ne({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}};return k.jsxs("div",{className:"flex h-screen font-sans relative",children:[(X.isLoading||a)&&k.jsx(hS,{message:a?"Carregando documentos...":X.message,currentTokens:X.currentTokens,estimatedTokens:X.estimatedTokens}),k.jsx(K1,{width:he,title:d==="gdd"?"GDD Explorer":"Roteiro Explorer",documents:p,categories:y,activeDocumentId:m,onSelectDocument:C,onUpdateCategoryName:de,onUpdateDocumentTitle:G,onReorderDocuments:Te,onReorderCategories:Re,onFindReferences:Qs,totalWordCount:S,searchQuery:E,onSearchChange:D,searchResults:A,onSelectSearchResult:Xs}),!se&&k.jsx("div",{onMouseDown:bi,className:"w-1.5 flex-shrink-0 bg-gray-700 hover:bg-indigo-500 transition-colors duration-200",style:{cursor:"col-resize"}}),k.jsx("button",{onClick:xr,className:"absolute top-1/2 -translate-y-1/2 bg-gray-800 hover:bg-indigo-600 border border-gray-700 text-white rounded-full p-1 z-40 transition-all duration-200 shadow-lg",style:{left:se?"8px":`${he-16}px`},title:se?"Expandir":"Recolher","aria-label":se?"Expandir painel lateral":"Recolher painel lateral",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${se?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),k.jsxs("main",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto min-w-0",children:[k.jsxs("header",{className:"sticky top-0 z-30 flex items-center justify-between p-4 bg-gray-900/80 backdrop-blur-sm border-b border-gray-700",children:[k.jsxs("div",{className:"flex items-center flex-shrink-0",children:[k.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[k.jsx(Y1,{}),"GDD Interativo com IA"]}),k.jsxs("div",{className:"ml-4 bg-gray-800 p-1 rounded-lg flex items-center",children:[k.jsx("button",{onClick:()=>h("gdd"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${d==="gdd"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"GDD"}),k.jsx("button",{onClick:()=>h("script"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${d==="script"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"Roteiro"})]})]}),k.jsx("div",{className:"flex-grow flex justify-center px-4",children:x&&k.jsxs("div",{className:"relative w-full max-w-lg",children:[k.jsx("input",{type:"text",value:mn,onChange:Pe=>gn(Pe.target.value),placeholder:"Pesquisar neste documento...",className:"w-full bg-gray-800 border border-gray-600 rounded-full py-2 pl-4 pr-32 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),mn&&k.jsxs("div",{className:"absolute inset-y-0 right-2 flex items-center space-x-1 text-gray-400",children:[k.jsx("span",{className:"text-xs px-2",children:Ct>0?`${_i+1} de ${Ct}`:"0/0"}),k.jsx("button",{onClick:Tr,disabled:Ct===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:k.jsx(rS,{})}),k.jsx("button",{onClick:$s,disabled:Ct===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:k.jsx(iS,{})})]})]})}),k.jsxs("div",{className:"relative flex-shrink-0",ref:ht,children:[k.jsx("button",{onClick:()=>_t(Pe=>!Pe),className:"p-2 rounded-full hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500","aria-haspopup":"true","aria-expanded":Nt,title:"Menu de Ações",children:k.jsx(Z1,{})}),Nt&&k.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700 rounded-lg shadow-2xl p-2 z-50 animate-dropdown",children:[k.jsxs("button",{onClick:()=>{J(!0),_t(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-left font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md",children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:k.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),k.jsx("span",{className:"ml-3",children:"Integrar Nova Ideia"})]}),k.jsxs("button",{onClick:()=>{ee(!0),_t(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:`Atualizar todo o ${d.toUpperCase()} com uma instrução`,children:[k.jsx($1,{}),k.jsx("span",{className:"ml-3",children:"Atualização Global"})]}),k.jsx("hr",{className:"border-gray-600 my-1"}),k.jsxs("button",{onClick:()=>{z(!0),_t(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Carregar GDD e Roteiro",children:[k.jsx(Cv,{}),k.jsx("span",{className:"ml-3",children:"Carregar GDD & Roteiro"})]}),k.jsxs("button",{onClick:()=>{Zs(),_t(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Salvar GDD e Roteiro no computador",children:[k.jsx(J1,{}),k.jsx("span",{className:"ml-3",children:"Salvar GDD & Roteiro"})]}),k.jsxs("button",{onClick:()=>{Zt(),_t(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Gerar e baixar o documento completo",children:[k.jsx(W1,{}),k.jsx("span",{className:"ml-3",children:"Gerar Documentos .docx"})]}),k.jsx("hr",{className:"border-gray-600 my-1"}),k.jsxs("button",{onClick:()=>{B(),_t(!1)},disabled:!!Z,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:Z?"Conectado ao Google Drive":"Conectar ao Google Drive para salvar backups",children:[k.jsx(Av,{}),k.jsx("span",{className:"ml-3",children:Z?"Conectado ao Google Drive":"Conectar ao Google Drive"})]}),k.jsx("hr",{className:"border-gray-600 my-1"}),k.jsxs("button",{onClick:()=>{N(!0),_t(!1)},disabled:!_,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:"Ver o processo de raciocínio da última ação da IA",children:[k.jsx(X1,{}),k.jsx("span",{className:"ml-3",children:"Ver Raciocínio da IA"})]})]})]})]}),Q&&k.jsxs("div",{className:"m-4 p-4 bg-red-800/50 border border-red-600 text-red-200 rounded-md",children:[k.jsx("h3",{className:"font-bold",children:"Ocorreu um Erro"}),k.jsx("p",{children:Q}),k.jsx("button",{onClick:()=>ge(null),className:"absolute top-2 right-2 text-red-200 hover:text-white",children:"×"})]}),k.jsx(lS,{document:x,allDocuments:[...t||[],...e||[]],onNavigate:O,onRefineRequest:Sr,onFindReferences:Qs,onUpdateBlock:q,onUpdateBlockContent:ae,onSetContent:ce,scrollToHeading:U,onDidScrollToHeading:H,onOpenImageGenerationModal:Er,docSearchQuery:mn,docSearchCurrentIndex:_i,onDocSearchResultsChange:Bn})]}),k.jsx(uS,{isOpen:P,onClose:()=>J(!1),onSubmit:Po,contextType:d==="gdd"?"GDD":"Roteiro"}),k.jsx(dS,{isOpen:j,onClose:()=>ee(!1),onSubmit:Oo,contextType:d==="gdd"?"GDD":"Roteiro"}),k.jsx(TS,{isOpen:R,onClose:()=>te(!1),onSubmit:_r}),k.jsx(SS,{isOpen:W,onClose:()=>z(!1),onUploadLocal:qn,onUploadFromUrl:qt,isGoogleAuth:!!Z,onGoogleAuthClick:()=>{B()}}),k.jsx(fS,{isOpen:I.isOpen,onClose:()=>v({...I,isOpen:!1}),onSubmit:Go,initialText:I.initialText,contextType:d==="gdd"?"GDD":"Roteiro"}),k.jsx(mS,{isOpen:T.isOpen,onClose:Wl,targetDocTitle:((br=T.targetDoc)==null?void 0:br.title)||"",references:T.references,onNavigate:O}),k.jsx(xS,{isOpen:$,onClose:()=>N(!1),insight:_}),k.jsx(wS,{isOpen:De,onToggle:js,messages:ke,isLoading:ze,onSendMessage:zo,onClearChat:Zr})]})}const Ex=document.getElementById("root");if(!Ex)throw new Error("Could not find root element to mount to");const K3=G1.createRoot(Ex);K3.render(k.jsx(qs.StrictMode,{children:k.jsx(H3,{})}));

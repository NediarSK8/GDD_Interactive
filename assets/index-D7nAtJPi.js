(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function ow(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zf={exports:{}},Ea={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function H1(){if(iy)return Ea;iy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var h in a)h!=="key"&&(c[h]=a[h])}else c=a;return a=c.ref,{$$typeof:t,type:o,key:d,ref:a!==void 0?a:null,props:c}}return Ea.Fragment=e,Ea.jsx=r,Ea.jsxs=r,Ea}var oy;function K1(){return oy||(oy=1,zf.exports=H1()),zf.exports}var b=K1(),Gf={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function Y1(){if(sy)return rt;sy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,_={};function L(j,W,F){this.props=j,this.context=W,this.refs=_,this.updater=F||E}L.prototype.isReactComponent={},L.prototype.setState=function(j,W){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,W,"setState")},L.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function N(){}N.prototype=L.prototype;function I(j,W,F){this.props=j,this.context=W,this.refs=_,this.updater=F||E}var O=I.prototype=new N;O.constructor=I,D(O,L.prototype),O.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function oe(j,W,F,Q,re,pe){return F=pe.ref,{$$typeof:t,type:j,key:W,ref:F!==void 0?F:null,props:pe}}function me(j,W){return oe(j.type,W,void 0,void 0,void 0,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function ae(j){var W={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(F){return W[F]})}var de=/\/+/g;function Y(j,W){return typeof j=="object"&&j!==null&&j.key!=null?ae(""+j.key):W.toString(36)}function fe(){}function B(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(fe,fe):(j.status="pending",j.then(function(W){j.status==="pending"&&(j.status="fulfilled",j.value=W)},function(W){j.status==="pending"&&(j.status="rejected",j.reason=W)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function le(j,W,F,Q,re){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var te=!1;if(j===null)te=!0;else switch(pe){case"bigint":case"string":case"number":te=!0;break;case"object":switch(j.$$typeof){case t:case e:te=!0;break;case y:return te=j._init,le(te(j._payload),W,F,Q,re)}}if(te)return re=re(j),te=Q===""?"."+Y(j,0):Q,H(re)?(F="",te!=null&&(F=te.replace(de,"$&/")+"/"),le(re,W,F,"",function(ee){return ee})):re!=null&&(U(re)&&(re=me(re,F+(re.key==null||j&&j.key===re.key?"":(""+re.key).replace(de,"$&/")+"/")+te)),W.push(re)),1;te=0;var k=Q===""?".":Q+":";if(H(j))for(var A=0;A<j.length;A++)Q=j[A],pe=k+Y(Q,A),te+=le(Q,W,F,pe,re);else if(A=S(j),typeof A=="function")for(j=A.call(j),A=0;!(Q=j.next()).done;)Q=Q.value,pe=k+Y(Q,A++),te+=le(Q,W,F,pe,re);else if(pe==="object"){if(typeof j.then=="function")return le(B(j),W,F,Q,re);throw W=String(j),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return te}function se(j,W,F){if(j==null)return j;var Q=[],re=0;return le(j,Q,"","",function(pe){return W.call(F,pe,re++)}),Q}function ne(j){if(j._status===-1){var W=j._result;W=W(),W.then(function(F){(j._status===0||j._status===-1)&&(j._status=1,j._result=F)},function(F){(j._status===0||j._status===-1)&&(j._status=2,j._result=F)}),j._status===-1&&(j._status=0,j._result=W)}if(j._status===1)return j._result.default;throw j._result}var Me=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ye(){}return rt.Children={map:se,forEach:function(j,W,F){se(j,function(){W.apply(this,arguments)},F)},count:function(j){var W=0;return se(j,function(){W++}),W},toArray:function(j){return se(j,function(W){return W})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},rt.Component=L,rt.Fragment=r,rt.Profiler=a,rt.PureComponent=I,rt.StrictMode=o,rt.Suspense=p,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,rt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return q.H.useMemoCache(j)}},rt.cache=function(j){return function(){return j.apply(null,arguments)}},rt.cloneElement=function(j,W,F){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Q=D({},j.props),re=j.key,pe=void 0;if(W!=null)for(te in W.ref!==void 0&&(pe=void 0),W.key!==void 0&&(re=""+W.key),W)!ce.call(W,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&W.ref===void 0||(Q[te]=W[te]);var te=arguments.length-2;if(te===1)Q.children=F;else if(1<te){for(var k=Array(te),A=0;A<te;A++)k[A]=arguments[A+2];Q.children=k}return oe(j.type,re,void 0,void 0,pe,Q)},rt.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},rt.createElement=function(j,W,F){var Q,re={},pe=null;if(W!=null)for(Q in W.key!==void 0&&(pe=""+W.key),W)ce.call(W,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=W[Q]);var te=arguments.length-2;if(te===1)re.children=F;else if(1<te){for(var k=Array(te),A=0;A<te;A++)k[A]=arguments[A+2];re.children=k}if(j&&j.defaultProps)for(Q in te=j.defaultProps,te)re[Q]===void 0&&(re[Q]=te[Q]);return oe(j,pe,void 0,void 0,null,re)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(j){return{$$typeof:h,render:j}},rt.isValidElement=U,rt.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ne}},rt.memo=function(j,W){return{$$typeof:m,type:j,compare:W===void 0?null:W}},rt.startTransition=function(j){var W=q.T,F={};q.T=F;try{var Q=j(),re=q.S;re!==null&&re(F,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ye,Me)}catch(pe){Me(pe)}finally{q.T=W}},rt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},rt.use=function(j){return q.H.use(j)},rt.useActionState=function(j,W,F){return q.H.useActionState(j,W,F)},rt.useCallback=function(j,W){return q.H.useCallback(j,W)},rt.useContext=function(j){return q.H.useContext(j)},rt.useDebugValue=function(){},rt.useDeferredValue=function(j,W){return q.H.useDeferredValue(j,W)},rt.useEffect=function(j,W,F){var Q=q.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(j,W)},rt.useId=function(){return q.H.useId()},rt.useImperativeHandle=function(j,W,F){return q.H.useImperativeHandle(j,W,F)},rt.useInsertionEffect=function(j,W){return q.H.useInsertionEffect(j,W)},rt.useLayoutEffect=function(j,W){return q.H.useLayoutEffect(j,W)},rt.useMemo=function(j,W){return q.H.useMemo(j,W)},rt.useOptimistic=function(j,W){return q.H.useOptimistic(j,W)},rt.useReducer=function(j,W,F){return q.H.useReducer(j,W,F)},rt.useRef=function(j){return q.H.useRef(j)},rt.useState=function(j){return q.H.useState(j)},rt.useSyncExternalStore=function(j,W,F){return q.H.useSyncExternalStore(j,W,F)},rt.useTransition=function(){return q.H.useTransition()},rt.version="19.1.1",rt}var ay;function dh(){return ay||(ay=1,Gf.exports=Y1()),Gf.exports}var xe=dh();const ka=ow(xe);var Vf={exports:{}},_a={},qf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function $1(){return ly||(ly=1,(function(t){function e(se,ne){var Me=se.length;se.push(ne);e:for(;0<Me;){var ye=Me-1>>>1,j=se[ye];if(0<a(j,ne))se[ye]=ne,se[Me]=j,Me=ye;else break e}}function r(se){return se.length===0?null:se[0]}function o(se){if(se.length===0)return null;var ne=se[0],Me=se.pop();if(Me!==ne){se[0]=Me;e:for(var ye=0,j=se.length,W=j>>>1;ye<W;){var F=2*(ye+1)-1,Q=se[F],re=F+1,pe=se[re];if(0>a(Q,Me))re<j&&0>a(pe,Q)?(se[ye]=pe,se[re]=Me,ye=re):(se[ye]=Q,se[F]=Me,ye=F);else if(re<j&&0>a(pe,Me))se[ye]=pe,se[re]=Me,ye=re;else break e}}return ne}function a(se,ne){var Me=se.sortIndex-ne.sortIndex;return Me!==0?Me:se.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,x=null,S=3,E=!1,D=!1,_=!1,L=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function H(se){for(var ne=r(m);ne!==null;){if(ne.callback===null)o(m);else if(ne.startTime<=se)o(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=r(m)}}function q(se){if(_=!1,H(se),!D)if(r(p)!==null)D=!0,ce||(ce=!0,Y());else{var ne=r(m);ne!==null&&le(q,ne.startTime-se)}}var ce=!1,oe=-1,me=5,U=-1;function ae(){return L?!0:!(t.unstable_now()-U<me)}function de(){if(L=!1,ce){var se=t.unstable_now();U=se;var ne=!0;try{e:{D=!1,_&&(_=!1,I(oe),oe=-1),E=!0;var Me=S;try{t:{for(H(se),x=r(p);x!==null&&!(x.expirationTime>se&&ae());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,S=x.priorityLevel;var j=ye(x.expirationTime<=se);if(se=t.unstable_now(),typeof j=="function"){x.callback=j,H(se),ne=!0;break t}x===r(p)&&o(p),H(se)}else o(p);x=r(p)}if(x!==null)ne=!0;else{var W=r(m);W!==null&&le(q,W.startTime-se),ne=!1}}break e}finally{x=null,S=Me,E=!1}ne=void 0}}finally{ne?Y():ce=!1}}}var Y;if(typeof O=="function")Y=function(){O(de)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,B=fe.port2;fe.port1.onmessage=de,Y=function(){B.postMessage(null)}}else Y=function(){N(de,0)};function le(se,ne){oe=N(function(){se(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(se){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var Me=S;S=ne;try{return se()}finally{S=Me}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(se,ne){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Me=S;S=se;try{return ne()}finally{S=Me}},t.unstable_scheduleCallback=function(se,ne,Me){var ye=t.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?ye+Me:ye):Me=ye,se){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Me+j,se={id:y++,callback:ne,priorityLevel:se,startTime:Me,expirationTime:j,sortIndex:-1},Me>ye?(se.sortIndex=Me,e(m,se),r(p)===null&&se===r(m)&&(_?(I(oe),oe=-1):_=!0,le(q,Me-ye))):(se.sortIndex=j,e(p,se),D||E||(D=!0,ce||(ce=!0,Y()))),se},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(se){var ne=S;return function(){var Me=S;S=ne;try{return se.apply(this,arguments)}finally{S=Me}}}})(Hf)),Hf}var uy;function J1(){return uy||(uy=1,qf.exports=$1()),qf.exports}var Kf={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function W1(){if(cy)return dn;cy=1;var t=dh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(p,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:p,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,dn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},dn.flushSync=function(p){var m=d.T,y=o.p;try{if(d.T=null,o.p=2,p)return p()}finally{d.T=m,o.p=y,o.d.f()}},dn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},dn.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},dn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:E}):y==="script"&&o.d.X(p,{crossOrigin:x,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},dn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin);o.d.L(p,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},dn.requestFormReset=function(p){o.d.r(p)},dn.unstable_batchedUpdates=function(p,m){return p(m)},dn.useFormState=function(p,m,y){return d.H.useFormState(p,m,y)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.1.1",dn}var fy;function j1(){if(fy)return Kf.exports;fy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kf.exports=W1(),Kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function X1(){if(dy)return _a;dy=1;var t=J1(),e=dh(),r=j1();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(o(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(o(188));return i!==n?null:n}for(var s=n,f=i;;){var g=s.return;if(g===null)break;var T=g.alternate;if(T===null){if(f=g.return,f!==null){s=f;continue}break}if(g.child===T.child){for(T=g.child;T;){if(T===s)return h(g),n;if(T===f)return h(g),i;T=T.sibling}throw Error(o(188))}if(s.return!==f.return)s=g,f=T;else{for(var P=!1,G=g.child;G;){if(G===s){P=!0,s=g,f=T;break}if(G===f){P=!0,f=g,s=T;break}G=G.sibling}if(!P){for(G=T.child;G;){if(G===s){P=!0,s=T,f=g;break}if(G===f){P=!0,f=T,s=g;break}G=G.sibling}if(!P)throw Error(o(189))}}if(s.alternate!==f)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function Y(n){return n===null||typeof n!="object"?null:(n=de&&n[de]||n["@@iterator"],typeof n=="function"?n:null)}var fe=Symbol.for("react.client.reference");function B(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===fe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case L:return"Profiler";case _:return"StrictMode";case q:return"Suspense";case ce:return"SuspenseList";case U:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case O:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case H:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case oe:return i=n.displayName||null,i!==null?i:B(n.type)||"Memo";case me:i=n._payload,n=n._init;try{return B(n(i))}catch{}}return null}var le=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},ye=[],j=-1;function W(n){return{current:n}}function F(n){0>j||(n.current=ye[j],ye[j]=null,j--)}function Q(n,i){j++,ye[j]=n.current,n.current=i}var re=W(null),pe=W(null),te=W(null),k=W(null);function A(n,i){switch(Q(te,i),Q(pe,n),Q(re,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Ig(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Ig(i),n=kg(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(re),Q(re,n)}function ee(){F(re),F(pe),F(te)}function V(n){n.memoizedState!==null&&Q(k,n);var i=re.current,s=kg(i,n.type);i!==s&&(Q(pe,n),Q(re,s))}function z(n){pe.current===n&&(F(re),F(pe)),k.current===n&&(F(k),wa._currentValue=Me)}var K=Object.prototype.hasOwnProperty,ue=t.unstable_scheduleCallback,R=t.unstable_cancelCallback,X=t.unstable_shouldYield,M=t.unstable_requestPaint,w=t.unstable_now,v=t.unstable_getCurrentPriorityLevel,C=t.unstable_ImmediatePriority,$=t.unstable_UserBlockingPriority,Z=t.unstable_NormalPriority,J=t.unstable_LowPriority,we=t.unstable_IdlePriority,Ie=t.log,be=t.unstable_setDisableYieldValue,Oe=null,Ge=null;function He(n){if(typeof Ie=="function"&&be(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Oe,n)}catch{}}var tt=Math.clz32?Math.clz32:It,gt=Math.log,$t=Math.LN2;function It(n){return n>>>=0,n===0?32:31-(gt(n)/$t|0)|0}var st=256,Et=4194304;function Bt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function on(n,i,s){var f=n.pendingLanes;if(f===0)return 0;var g=0,T=n.suspendedLanes,P=n.pingedLanes;n=n.warmLanes;var G=f&134217727;return G!==0?(f=G&~T,f!==0?g=Bt(f):(P&=G,P!==0?g=Bt(P):s||(s=G&~n,s!==0&&(g=Bt(s))))):(G=f&~T,G!==0?g=Bt(G):P!==0?g=Bt(P):s||(s=f&~n,s!==0&&(g=Bt(s)))),g===0?0:i!==0&&i!==g&&(i&T)===0&&(T=g&-g,s=i&-i,T>=s||T===32&&(s&4194048)!==0)?i:g}function Nn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function bi(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(){var n=st;return st<<=1,(st&4194048)===0&&(st=256),n}function Gt(){var n=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),n}function Sr(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Ct(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function or(n,i,s,f,g,T){var P=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var G=n.entanglements,ie=n.expirationTimes,Te=n.hiddenUpdates;for(s=P&~s;0<s;){var ke=31-tt(s),Ue=1<<ke;G[ke]=0,ie[ke]=-1;var _e=Te[ke];if(_e!==null)for(Te[ke]=null,ke=0;ke<_e.length;ke++){var Ce=_e[ke];Ce!==null&&(Ce.lane&=-536870913)}s&=~Ue}f!==0&&Ts(n,f,0),T!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=T&~(P&~i))}function Ts(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var f=31-tt(i);n.entangledLanes|=i,n.entanglements[f]=n.entanglements[f]|1073741824|s&4194090}function Si(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var f=31-tt(s),g=1<<f;g&i|n[f]&i&&(n[f]|=i),s&=~g}}function Er(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function kt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bs(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:Zg(n.type))}function Ss(n,i){var s=ne.p;try{return ne.p=n,i()}finally{ne.p=s}}var vn=Math.random().toString(36).slice(2),Pt="__reactFiber$"+vn,un="__reactProps$"+vn,sr="__reactContainer$"+vn,Es="__reactEvents$"+vn,_s="__reactListeners$"+vn,ro="__reactHandles$"+vn,Cs="__reactResources$"+vn,Ei="__reactMarker$"+vn;function io(n){delete n[Pt],delete n[un],delete n[Es],delete n[_s],delete n[ro]}function Kr(n){var i=n[Pt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[sr]||s[Pt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Pg(n);n!==null;){if(s=n[Pt])return s;n=Pg(n)}return i}n=s,s=n.parentNode}return null}function _r(n){if(n=n[Pt]||n[sr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function jn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function ar(n){var i=n[Cs];return i||(i=n[Cs]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(n){n[Ei]=!0}var oo=new Set,Fa={};function lr(n,i){ur(n,i),ur(n+"Capture",i)}function ur(n,i){for(Fa[n]=i,n=0;n<i.length;n++)oo.add(i[n])}var Fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),As={},_i={};function Xn(n){return K.call(_i,n)?!0:K.call(As,n)?!1:Fu.test(n)?_i[n]=!0:(As[n]=!0,!1)}function Ci(n,i,s){if(Xn(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Zn(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function wn(n,i,s,f){if(f===null)n.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+f)}}var Ns,Yr;function cr(n){if(Ns===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ns=i&&i[1]||"",Yr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+n+Yr}var Ai=!1;function so(n,i){if(!n||Ai)return"";Ai=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Ce){var _e=Ce}Reflect.construct(n,[],Ue)}else{try{Ue.call()}catch(Ce){_e=Ce}n.call(Ue.prototype)}}else{try{throw Error()}catch(Ce){_e=Ce}(Ue=n())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Ce){if(Ce&&_e&&typeof Ce.stack=="string")return[Ce.stack,_e.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=f.DetermineComponentFrameRoot(),P=T[0],G=T[1];if(P&&G){var ie=P.split(`
`),Te=G.split(`
`);for(g=f=0;f<ie.length&&!ie[f].includes("DetermineComponentFrameRoot");)f++;for(;g<Te.length&&!Te[g].includes("DetermineComponentFrameRoot");)g++;if(f===ie.length||g===Te.length)for(f=ie.length-1,g=Te.length-1;1<=f&&0<=g&&ie[f]!==Te[g];)g--;for(;1<=f&&0<=g;f--,g--)if(ie[f]!==Te[g]){if(f!==1||g!==1)do if(f--,g--,0>g||ie[f]!==Te[g]){var ke=`
`+ie[f].replace(" at new "," at ");return n.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",n.displayName)),ke}while(1<=f&&0<=g);break}}}finally{Ai=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?cr(s):""}function zu(n){switch(n.tag){case 26:case 27:case 5:return cr(n.type);case 16:return cr("Lazy");case 13:return cr("Suspense");case 19:return cr("SuspenseList");case 0:case 15:return so(n.type,!1);case 11:return so(n.type.render,!1);case 1:return so(n.type,!0);case 31:return cr("Activity");default:return""}}function za(n){try{var i="";do i+=zu(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ga(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gu(n){var i=Ga(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),f=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var g=s.get,T=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(P){f=""+P,T.call(this,P)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ao(n){n._valueTracker||(n._valueTracker=Gu(n))}function Va(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),f="";return n&&(f=Ga(n)?n.checked?"true":"false":n.value),n=f,n!==s?(i.setValue(n),!0):!1}function Ni(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vu=/[\n"\\]/g;function bn(n){return n.replace(Vu,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function lo(n,i,s,f,g,T,P,G){n.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?n.type=P:n.removeAttribute("type"),i!=null?P==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Tn(i)):n.value!==""+Tn(i)&&(n.value=""+Tn(i)):P!=="submit"&&P!=="reset"||n.removeAttribute("value"),i!=null?Ri(n,P,Tn(i)):s!=null?Ri(n,P,Tn(s)):f!=null&&n.removeAttribute("value"),g==null&&T!=null&&(n.defaultChecked=!!T),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?n.name=""+Tn(G):n.removeAttribute("name")}function qa(n,i,s,f,g,T,P,G){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.type=T),i!=null||s!=null){if(!(T!=="submit"&&T!=="reset"||i!=null))return;s=s!=null?""+Tn(s):"",i=i!=null?""+Tn(i):s,G||i===n.value||(n.value=i),n.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=G?n.checked:!!f,n.defaultChecked=!!f,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(n.name=P)}function Ri(n,i,s){i==="number"&&Ni(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function $r(n,i,s,f){if(n=n.options,i){i={};for(var g=0;g<s.length;g++)i["$"+s[g]]=!0;for(s=0;s<n.length;s++)g=i.hasOwnProperty("$"+n[s].value),n[s].selected!==g&&(n[s].selected=g),g&&f&&(n[s].defaultSelected=!0)}else{for(s=""+Tn(s),i=null,g=0;g<n.length;g++){if(n[g].value===s){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Ha(n,i,s){if(i!=null&&(i=""+Tn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Tn(s):""}function Ka(n,i,s,f){if(i==null){if(f!=null){if(s!=null)throw Error(o(92));if(le(f)){if(1<f.length)throw Error(o(93));f=f[0]}s=f}s==null&&(s=""),i=s}s=Tn(i),n.defaultValue=s,f=n.textContent,f===s&&f!==""&&f!==null&&(n.value=f)}function Jr(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rs(n,i,s){var f=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?f?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":f?n.setProperty(i,s):typeof s!="number"||s===0||qu.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Ya(n,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,s!=null){for(var f in s)!s.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&s[g]!==f&&Rs(n,g,f)}else for(var T in i)i.hasOwnProperty(T)&&Rs(n,T,i[T])}function Ms(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(n){return Ku.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ds=null;function Is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wr=null,jr=null;function $a(n){var i=_r(n);if(i&&(n=i.stateNode)){var s=n[un]||null;e:switch(n=i.stateNode,i.type){case"input":if(lo(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+bn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var f=s[i];if(f!==n&&f.form===n.form){var g=f[un]||null;if(!g)throw Error(o(90));lo(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<s.length;i++)f=s[i],f.form===n.form&&Va(f)}break e;case"textarea":Ha(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&$r(n,!!s.multiple,i,!1)}}}var co=!1;function Ja(n,i,s){if(co)return n(i,s);co=!0;try{var f=n(i);return f}finally{if(co=!1,(Wr!==null||jr!==null)&&(Dl(),Wr&&(i=Wr,n=jr,jr=Wr=null,$a(i),n)))for(i=0;i<n.length;i++)$a(n[i])}}function Cr(n,i){var s=n.stateNode;if(s===null)return null;var f=s[un]||null;if(f===null)return null;s=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=!1;if(Qn)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){fo=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{fo=!1}var fr=null,ks=null,ho=null;function Wa(){if(ho)return ho;var n,i=ks,s=i.length,f,g="value"in fr?fr.value:fr.textContent,T=g.length;for(n=0;n<s&&i[n]===g[n];n++);var P=s-n;for(f=1;f<=P&&i[s-f]===g[T-f];f++);return ho=g.slice(n,1<f?1-f:void 0)}function po(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function mo(){return!0}function ja(){return!1}function cn(n){function i(s,f,g,T,P){this._reactName=s,this._targetInst=g,this.type=f,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var G in n)n.hasOwnProperty(G)&&(s=n[G],this[G]=s?s(T):T[G]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?mo:ja,this.isPropagationStopped=ja,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),i}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=cn(Ar),Zr=y({},Ar,{view:0,detail:0}),Se=cn(Zr),Ee,ze,Pe,De=y({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pe&&(Pe&&n.type==="mousemove"?(Ee=n.screenX-Pe.screenX,ze=n.screenY-Pe.screenY):ze=Ee=0,Pe=n),Ee)},movementY:function(n){return"movementY"in n?n.movementY:ze}}),Be=cn(De),Ve=y({},De,{dataTransfer:0}),qe=cn(Ve),We=y({},Zr,{relatedTarget:0}),Ze=cn(We),nt=y({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Mt=cn(nt),en=y({},Ar,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ls=cn(en),Bn=y({},Ar,{data:0}),Us=cn(Bn),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nT(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Di[n])?!!i[n]:!1}function $u(){return nT}var rT=y({},Zr,{key:function(n){if(n.key){var i=Xa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=po(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(n){return n.type==="keypress"?po(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?po(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),iT=cn(rT),oT=y({},De,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=cn(oT),sT=y({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),aT=cn(sT),lT=y({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),uT=cn(lT),cT=y({},De,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fT=cn(cT),dT=y({},Ar,{newState:0,oldState:0}),hT=cn(dT),pT=[9,13,27,32],Ju=Qn&&"CompositionEvent"in window,Bs=null;Qn&&"documentMode"in document&&(Bs=document.documentMode);var mT=Qn&&"TextEvent"in window&&!Bs,Gh=Qn&&(!Ju||Bs&&8<Bs&&11>=Bs),Vh=" ",qh=!1;function Hh(n,i){switch(n){case"keyup":return pT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var go=!1;function gT(n,i){switch(n){case"compositionend":return Kh(i);case"keypress":return i.which!==32?null:(qh=!0,Vh);case"textInput":return n=i.data,n===Vh&&qh?null:n;default:return null}}function yT(n,i){if(go)return n==="compositionend"||!Ju&&Hh(n,i)?(n=Wa(),ho=ks=fr=null,go=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gh&&i.locale!=="ko"?null:i.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!vT[n.type]:i==="textarea"}function $h(n,i,s,f){Wr?jr?jr.push(f):jr=[f]:Wr=f,i=Pl(i,"onChange"),0<i.length&&(s=new Mi("onChange","change",null,s,f),n.push({event:s,listeners:i}))}var Ps=null,Os=null;function wT(n){Ag(n,0)}function Za(n){var i=jn(n);if(Va(i))return n}function Jh(n,i){if(n==="change")return i}var Wh=!1;if(Qn){var Wu;if(Qn){var ju="oninput"in document;if(!ju){var jh=document.createElement("div");jh.setAttribute("oninput","return;"),ju=typeof jh.oninput=="function"}Wu=ju}else Wu=!1;Wh=Wu&&(!document.documentMode||9<document.documentMode)}function Xh(){Ps&&(Ps.detachEvent("onpropertychange",Zh),Os=Ps=null)}function Zh(n){if(n.propertyName==="value"&&Za(Os)){var i=[];$h(i,Os,n,Is(n)),Ja(wT,i)}}function xT(n,i,s){n==="focusin"?(Xh(),Ps=i,Os=s,Ps.attachEvent("onpropertychange",Zh)):n==="focusout"&&Xh()}function TT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Za(Os)}function bT(n,i){if(n==="click")return Za(i)}function ST(n,i){if(n==="input"||n==="change")return Za(i)}function ET(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Rn=typeof Object.is=="function"?Object.is:ET;function Fs(n,i){if(Rn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),f=Object.keys(i);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var g=s[f];if(!K.call(i,g)||!Rn(n[g],i[g]))return!1}return!0}function Qh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ep(n,i){var s=Qh(n);n=0;for(var f;s;){if(s.nodeType===3){if(f=n+s.textContent.length,n<=i&&f>=i)return{node:s,offset:i-n};n=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qh(s)}}function tp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?tp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function np(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ni(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Ni(n.document)}return i}function Xu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var _T=Qn&&"documentMode"in document&&11>=document.documentMode,yo=null,Zu=null,zs=null,Qu=!1;function rp(n,i,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qu||yo==null||yo!==Ni(f)||(f=yo,"selectionStart"in f&&Xu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),zs&&Fs(zs,f)||(zs=f,f=Pl(Zu,"onSelect"),0<f.length&&(i=new Mi("onSelect","select",null,i,s),n.push({event:i,listeners:f}),i.target=yo)))}function Ii(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var vo={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},ec={},ip={};Qn&&(ip=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ki(n){if(ec[n])return ec[n];if(!vo[n])return n;var i=vo[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in ip)return ec[n]=i[s];return n}var op=ki("animationend"),sp=ki("animationiteration"),ap=ki("animationstart"),CT=ki("transitionrun"),AT=ki("transitionstart"),NT=ki("transitioncancel"),lp=ki("transitionend"),up=new Map,tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tc.push("scrollEnd");function er(n,i){up.set(n,i),lr(i,[n])}var cp=new WeakMap;function Pn(n,i){if(typeof n=="object"&&n!==null){var s=cp.get(n);return s!==void 0?s:(i={value:n,source:i,stack:za(i)},cp.set(n,i),i)}return{value:n,source:i,stack:za(i)}}var On=[],wo=0,nc=0;function Qa(){for(var n=wo,i=nc=wo=0;i<n;){var s=On[i];On[i++]=null;var f=On[i];On[i++]=null;var g=On[i];On[i++]=null;var T=On[i];if(On[i++]=null,f!==null&&g!==null){var P=f.pending;P===null?g.next=g:(g.next=P.next,P.next=g),f.pending=g}T!==0&&fp(s,g,T)}}function el(n,i,s,f){On[wo++]=n,On[wo++]=i,On[wo++]=s,On[wo++]=f,nc|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function rc(n,i,s,f){return el(n,i,s,f),tl(n)}function xo(n,i){return el(n,null,null,i),tl(n)}function fp(n,i,s){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s);for(var g=!1,T=n.return;T!==null;)T.childLanes|=s,f=T.alternate,f!==null&&(f.childLanes|=s),T.tag===22&&(n=T.stateNode,n===null||n._visibility&1||(g=!0)),n=T,T=T.return;return n.tag===3?(T=n.stateNode,g&&i!==null&&(g=31-tt(s),n=T.hiddenUpdates,f=n[g],f===null?n[g]=[i]:f.push(i),i.lane=s|536870912),T):null}function tl(n){if(50<fa)throw fa=0,cf=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var To={};function RT(n,i,s,f){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(n,i,s,f){return new RT(n,i,s,f)}function ic(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Nr(n,i){var s=n.alternate;return s===null?(s=Mn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function dp(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function nl(n,i,s,f,g,T){var P=0;if(f=n,typeof n=="function")ic(n)&&(P=1);else if(typeof n=="string")P=D1(n,s,re.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case U:return n=Mn(31,s,i,g),n.elementType=U,n.lanes=T,n;case D:return Li(s.children,g,T,i);case _:P=8,g|=24;break;case L:return n=Mn(12,s,i,g|2),n.elementType=L,n.lanes=T,n;case q:return n=Mn(13,s,i,g),n.elementType=q,n.lanes=T,n;case ce:return n=Mn(19,s,i,g),n.elementType=ce,n.lanes=T,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:case O:P=10;break e;case I:P=9;break e;case H:P=11;break e;case oe:P=14;break e;case me:P=16,f=null;break e}P=29,s=Error(o(130,n===null?"null":typeof n,"")),f=null}return i=Mn(P,s,i,g),i.elementType=n,i.type=f,i.lanes=T,i}function Li(n,i,s,f){return n=Mn(7,n,f,i),n.lanes=s,n}function oc(n,i,s){return n=Mn(6,n,null,i),n.lanes=s,n}function sc(n,i,s){return i=Mn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var bo=[],So=0,rl=null,il=0,Fn=[],zn=0,Ui=null,Rr=1,Mr="";function Bi(n,i){bo[So++]=il,bo[So++]=rl,rl=n,il=i}function hp(n,i,s){Fn[zn++]=Rr,Fn[zn++]=Mr,Fn[zn++]=Ui,Ui=n;var f=Rr;n=Mr;var g=32-tt(f)-1;f&=~(1<<g),s+=1;var T=32-tt(i)+g;if(30<T){var P=g-g%5;T=(f&(1<<P)-1).toString(32),f>>=P,g-=P,Rr=1<<32-tt(i)+g|s<<g|f,Mr=T+n}else Rr=1<<T|s<<g|f,Mr=n}function ac(n){n.return!==null&&(Bi(n,1),hp(n,1,0))}function lc(n){for(;n===rl;)rl=bo[--So],bo[So]=null,il=bo[--So],bo[So]=null;for(;n===Ui;)Ui=Fn[--zn],Fn[zn]=null,Mr=Fn[--zn],Fn[zn]=null,Rr=Fn[--zn],Fn[zn]=null}var xn=null,Ot=null,pt=!1,Pi=null,dr=!1,uc=Error(o(519));function Oi(n){var i=Error(o(418,""));throw qs(Pn(i,n)),uc}function pp(n){var i=n.stateNode,s=n.type,f=n.memoizedProps;switch(i[Pt]=n,i[un]=f,s){case"dialog":ut("cancel",i),ut("close",i);break;case"iframe":case"object":case"embed":ut("load",i);break;case"video":case"audio":for(s=0;s<ha.length;s++)ut(ha[s],i);break;case"source":ut("error",i);break;case"img":case"image":case"link":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"input":ut("invalid",i),qa(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ao(i);break;case"select":ut("invalid",i);break;case"textarea":ut("invalid",i),Ka(i,f.value,f.defaultValue,f.children),ao(i)}s=f.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||f.suppressHydrationWarning===!0||Dg(i.textContent,s)?(f.popover!=null&&(ut("beforetoggle",i),ut("toggle",i)),f.onScroll!=null&&ut("scroll",i),f.onScrollEnd!=null&&ut("scrollend",i),f.onClick!=null&&(i.onclick=Ol),i=!0):i=!1,i||Oi(n)}function mp(n){for(xn=n.return;xn;)switch(xn.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:xn=xn.return}}function Gs(n){if(n!==xn)return!1;if(!pt)return mp(n),pt=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Cf(n.type,n.memoizedProps)),s=!s),s&&Ot&&Oi(n),mp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){Ot=nr(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}Ot=null}}else i===27?(i=Ot,pi(n.type)?(n=Mf,Mf=null,Ot=n):Ot=i):Ot=xn?nr(n.stateNode.nextSibling):null;return!0}function Vs(){Ot=xn=null,pt=!1}function gp(){var n=Pi;return n!==null&&(_n===null?_n=n:_n.push.apply(_n,n),Pi=null),n}function qs(n){Pi===null?Pi=[n]:Pi.push(n)}var cc=W(null),Fi=null,Dr=null;function Qr(n,i,s){Q(cc,i._currentValue),i._currentValue=s}function Ir(n){n._currentValue=cc.current,F(cc)}function fc(n,i,s){for(;n!==null;){var f=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),n===s)break;n=n.return}}function dc(n,i,s,f){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var T=g.dependencies;if(T!==null){var P=g.child;T=T.firstContext;e:for(;T!==null;){var G=T;T=g;for(var ie=0;ie<i.length;ie++)if(G.context===i[ie]){T.lanes|=s,G=T.alternate,G!==null&&(G.lanes|=s),fc(T.return,s,n),f||(P=null);break e}T=G.next}}else if(g.tag===18){if(P=g.return,P===null)throw Error(o(341));P.lanes|=s,T=P.alternate,T!==null&&(T.lanes|=s),fc(P,s,n),P=null}else P=g.child;if(P!==null)P.return=g;else for(P=g;P!==null;){if(P===n){P=null;break}if(g=P.sibling,g!==null){g.return=P.return,P=g;break}P=P.return}g=P}}function Hs(n,i,s,f){n=null;for(var g=i,T=!1;g!==null;){if(!T){if((g.flags&524288)!==0)T=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var P=g.alternate;if(P===null)throw Error(o(387));if(P=P.memoizedProps,P!==null){var G=g.type;Rn(g.pendingProps.value,P.value)||(n!==null?n.push(G):n=[G])}}else if(g===k.current){if(P=g.alternate,P===null)throw Error(o(387));P.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(wa):n=[wa])}g=g.return}n!==null&&dc(i,n,s,f),i.flags|=262144}function ol(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function zi(n){Fi=n,Dr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function fn(n){return yp(Fi,n)}function sl(n,i){return Fi===null&&zi(n),yp(n,i)}function yp(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Dr===null){if(n===null)throw Error(o(308));Dr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Dr=Dr.next=i;return s}var MT=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,f){n.push(f)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},DT=t.unstable_scheduleCallback,IT=t.unstable_NormalPriority,jt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hc(){return{controller:new MT,data:new Map,refCount:0}}function Ks(n){n.refCount--,n.refCount===0&&DT(IT,function(){n.controller.abort()})}var Ys=null,pc=0,Eo=0,_o=null;function kT(n,i){if(Ys===null){var s=Ys=[];pc=0,Eo=yf(),_o={status:"pending",value:void 0,then:function(f){s.push(f)}}}return pc++,i.then(vp,vp),i}function vp(){if(--pc===0&&Ys!==null){_o!==null&&(_o.status="fulfilled");var n=Ys;Ys=null,Eo=0,_o=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function LT(n,i){var s=[],f={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return n.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<s.length;g++)(0,s[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),f}var wp=se.S;se.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kT(n,i),wp!==null&&wp(n,i)};var Gi=W(null);function mc(){var n=Gi.current;return n!==null?n:At.pooledCache}function al(n,i){i===null?Q(Gi,Gi.current):Q(Gi,i.pool)}function xp(){var n=mc();return n===null?null:{parent:jt._currentValue,pool:n}}var $s=Error(o(460)),Tp=Error(o(474)),ll=Error(o(542)),gc={then:function(){}};function bp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ul(){}function Sp(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(ul,ul),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,_p(n),n;default:if(typeof i.status=="string")i.then(ul,ul);else{if(n=At,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,_p(n),n}throw Js=i,$s}}var Js=null;function Ep(){if(Js===null)throw Error(o(459));var n=Js;return Js=null,n}function _p(n){if(n===$s||n===ll)throw Error(o(483))}var ei=!1;function yc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vc(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ti(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ni(n,i,s){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(yt&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=tl(n),fp(n,null,s),i}return el(n,f,i,s),tl(n)}function Ws(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var f=i.lanes;f&=n.pendingLanes,s|=f,i.lanes=s,Si(n,s)}}function wc(n,i){var s=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var g=null,T=null;if(s=s.firstBaseUpdate,s!==null){do{var P={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};T===null?g=T=P:T=T.next=P,s=s.next}while(s!==null);T===null?g=T=i:T=T.next=i}else g=T=i;s={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:T,shared:f.shared,callbacks:f.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var xc=!1;function js(){if(xc){var n=_o;if(n!==null)throw n}}function Xs(n,i,s,f){xc=!1;var g=n.updateQueue;ei=!1;var T=g.firstBaseUpdate,P=g.lastBaseUpdate,G=g.shared.pending;if(G!==null){g.shared.pending=null;var ie=G,Te=ie.next;ie.next=null,P===null?T=Te:P.next=Te,P=ie;var ke=n.alternate;ke!==null&&(ke=ke.updateQueue,G=ke.lastBaseUpdate,G!==P&&(G===null?ke.firstBaseUpdate=Te:G.next=Te,ke.lastBaseUpdate=ie))}if(T!==null){var Ue=g.baseState;P=0,ke=Te=ie=null,G=T;do{var _e=G.lane&-536870913,Ce=_e!==G.lane;if(Ce?(ft&_e)===_e:(f&_e)===_e){_e!==0&&_e===Eo&&(xc=!0),ke!==null&&(ke=ke.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Qe=n,je=G;_e=i;var bt=s;switch(je.tag){case 1:if(Qe=je.payload,typeof Qe=="function"){Ue=Qe.call(bt,Ue,_e);break e}Ue=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=je.payload,_e=typeof Qe=="function"?Qe.call(bt,Ue,_e):Qe,_e==null)break e;Ue=y({},Ue,_e);break e;case 2:ei=!0}}_e=G.callback,_e!==null&&(n.flags|=64,Ce&&(n.flags|=8192),Ce=g.callbacks,Ce===null?g.callbacks=[_e]:Ce.push(_e))}else Ce={lane:_e,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ke===null?(Te=ke=Ce,ie=Ue):ke=ke.next=Ce,P|=_e;if(G=G.next,G===null){if(G=g.shared.pending,G===null)break;Ce=G,G=Ce.next,Ce.next=null,g.lastBaseUpdate=Ce,g.shared.pending=null}}while(!0);ke===null&&(ie=Ue),g.baseState=ie,g.firstBaseUpdate=Te,g.lastBaseUpdate=ke,T===null&&(g.shared.lanes=0),ci|=P,n.lanes=P,n.memoizedState=Ue}}function Cp(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function Ap(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Cp(s[n],i)}var Co=W(null),cl=W(0);function Np(n,i){n=Fr,Q(cl,n),Q(Co,i),Fr=n|i.baseLanes}function Tc(){Q(cl,Fr),Q(Co,Co.current)}function bc(){Fr=cl.current,F(Co),F(cl)}var ri=0,it=null,xt=null,Jt=null,fl=!1,Ao=!1,Vi=!1,dl=0,Zs=0,No=null,UT=0;function Vt(){throw Error(o(321))}function Sc(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Rn(n[s],i[s]))return!1;return!0}function Ec(n,i,s,f,g,T){return ri=T,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,se.H=n===null||n.memoizedState===null?fm:dm,Vi=!1,T=s(f,g),Vi=!1,Ao&&(T=Mp(i,s,f,g)),Rp(n),T}function Rp(n){se.H=vl;var i=xt!==null&&xt.next!==null;if(ri=0,Jt=xt=it=null,fl=!1,Zs=0,No=null,i)throw Error(o(300));n===null||tn||(n=n.dependencies,n!==null&&ol(n)&&(tn=!0))}function Mp(n,i,s,f){it=n;var g=0;do{if(Ao&&(No=null),Zs=0,Ao=!1,25<=g)throw Error(o(301));if(g+=1,Jt=xt=null,n.updateQueue!=null){var T=n.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}se.H=VT,T=i(s,f)}while(Ao);return T}function BT(){var n=se.H,i=n.useState()[0];return i=typeof i.then=="function"?Qs(i):i,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&(it.flags|=1024),i}function _c(){var n=dl!==0;return dl=0,n}function Cc(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Ac(n){if(fl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fl=!1}ri=0,Jt=xt=it=null,Ao=!1,Zs=dl=0,No=null}function Sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?it.memoizedState=Jt=n:Jt=Jt.next=n,Jt}function Wt(){if(xt===null){var n=it.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var i=Jt===null?it.memoizedState:Jt.next;if(i!==null)Jt=i,xt=n;else{if(n===null)throw it.alternate===null?Error(o(467)):Error(o(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Jt===null?it.memoizedState=Jt=n:Jt=Jt.next=n}return Jt}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(n){var i=Zs;return Zs+=1,No===null&&(No=[]),n=Sp(No,n,i),i=it,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,se.H=i===null||i.memoizedState===null?fm:dm),n}function hl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Qs(n);if(n.$$typeof===O)return fn(n)}throw Error(o(438,String(n)))}function Rc(n){var i=null,s=it.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var f=it.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Nc(),it.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),f=0;f<n;f++)s[f]=ae;return i.index++,s}function kr(n,i){return typeof i=="function"?i(n):i}function pl(n){var i=Wt();return Mc(i,xt,n)}function Mc(n,i,s){var f=n.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=s;var g=n.baseQueue,T=f.pending;if(T!==null){if(g!==null){var P=g.next;g.next=T.next,T.next=P}i.baseQueue=g=T,f.pending=null}if(T=n.baseState,g===null)n.memoizedState=T;else{i=g.next;var G=P=null,ie=null,Te=i,ke=!1;do{var Ue=Te.lane&-536870913;if(Ue!==Te.lane?(ft&Ue)===Ue:(ri&Ue)===Ue){var _e=Te.revertLane;if(_e===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Ue===Eo&&(ke=!0);else if((ri&_e)===_e){Te=Te.next,_e===Eo&&(ke=!0);continue}else Ue={lane:0,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ie===null?(G=ie=Ue,P=T):ie=ie.next=Ue,it.lanes|=_e,ci|=_e;Ue=Te.action,Vi&&s(T,Ue),T=Te.hasEagerState?Te.eagerState:s(T,Ue)}else _e={lane:Ue,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ie===null?(G=ie=_e,P=T):ie=ie.next=_e,it.lanes|=Ue,ci|=Ue;Te=Te.next}while(Te!==null&&Te!==i);if(ie===null?P=T:ie.next=G,!Rn(T,n.memoizedState)&&(tn=!0,ke&&(s=_o,s!==null)))throw s;n.memoizedState=T,n.baseState=P,n.baseQueue=ie,f.lastRenderedState=T}return g===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function Dc(n){var i=Wt(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var f=s.dispatch,g=s.pending,T=i.memoizedState;if(g!==null){s.pending=null;var P=g=g.next;do T=n(T,P.action),P=P.next;while(P!==g);Rn(T,i.memoizedState)||(tn=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),s.lastRenderedState=T}return[T,f]}function Dp(n,i,s){var f=it,g=Wt(),T=pt;if(T){if(s===void 0)throw Error(o(407));s=s()}else s=i();var P=!Rn((xt||g).memoizedState,s);P&&(g.memoizedState=s,tn=!0),g=g.queue;var G=Lp.bind(null,f,g,n);if(ea(2048,8,G,[n]),g.getSnapshot!==i||P||Jt!==null&&Jt.memoizedState.tag&1){if(f.flags|=2048,Ro(9,ml(),kp.bind(null,f,g,s,i),null),At===null)throw Error(o(349));T||(ri&124)!==0||Ip(f,i,s)}return s}function Ip(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=it.updateQueue,i===null?(i=Nc(),it.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function kp(n,i,s,f){i.value=s,i.getSnapshot=f,Up(i)&&Bp(n)}function Lp(n,i,s){return s(function(){Up(i)&&Bp(n)})}function Up(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Rn(n,s)}catch{return!0}}function Bp(n){var i=xo(n,2);i!==null&&Un(i,n,2)}function Ic(n){var i=Sn();if(typeof n=="function"){var s=n;if(n=s(),Vi){He(!0);try{s()}finally{He(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:n},i}function Pp(n,i,s,f){return n.baseState=s,Mc(n,xt,typeof f=="function"?f:kr)}function PT(n,i,s,f,g){if(yl(n))throw Error(o(485));if(n=i.action,n!==null){var T={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){T.listeners.push(P)}};se.T!==null?s(!0):T.isTransition=!1,f(T),s=i.pending,s===null?(T.next=i.pending=T,Op(i,T)):(T.next=s.next,i.pending=s.next=T)}}function Op(n,i){var s=i.action,f=i.payload,g=n.state;if(i.isTransition){var T=se.T,P={};se.T=P;try{var G=s(g,f),ie=se.S;ie!==null&&ie(P,G),Fp(n,i,G)}catch(Te){kc(n,i,Te)}finally{se.T=T}}else try{T=s(g,f),Fp(n,i,T)}catch(Te){kc(n,i,Te)}}function Fp(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(f){zp(n,i,f)},function(f){return kc(n,i,f)}):zp(n,i,s)}function zp(n,i,s){i.status="fulfilled",i.value=s,Gp(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Op(n,s)))}function kc(n,i,s){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=s,Gp(i),i=i.next;while(i!==f)}n.action=null}function Gp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Vp(n,i){return i}function qp(n,i){if(pt){var s=At.formState;if(s!==null){e:{var f=it;if(pt){if(Ot){t:{for(var g=Ot,T=dr;g.nodeType!==8;){if(!T){g=null;break t}if(g=nr(g.nextSibling),g===null){g=null;break t}}T=g.data,g=T==="F!"||T==="F"?g:null}if(g){Ot=nr(g.nextSibling),f=g.data==="F!";break e}}Oi(f)}f=!1}f&&(i=s[0])}}return s=Sn(),s.memoizedState=s.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:i},s.queue=f,s=lm.bind(null,it,f),f.dispatch=s,f=Ic(!1),T=Oc.bind(null,it,!1,f.queue),f=Sn(),g={state:i,dispatch:null,action:n,pending:null},f.queue=g,s=PT.bind(null,it,g,T,s),g.dispatch=s,f.memoizedState=n,[i,s,!1]}function Hp(n){var i=Wt();return Kp(i,xt,n)}function Kp(n,i,s){if(i=Mc(n,i,Vp)[0],n=pl(kr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Qs(i)}catch(P){throw P===$s?ll:P}else f=i;i=Wt();var g=i.queue,T=g.dispatch;return s!==i.memoizedState&&(it.flags|=2048,Ro(9,ml(),OT.bind(null,g,s),null)),[f,T,n]}function OT(n,i){n.action=i}function Yp(n){var i=Wt(),s=xt;if(s!==null)return Kp(i,s,n);Wt(),i=i.memoizedState,s=Wt();var f=s.queue.dispatch;return s.memoizedState=n,[i,f,!1]}function Ro(n,i,s,f){return n={tag:n,create:s,deps:f,inst:i,next:null},i=it.updateQueue,i===null&&(i=Nc(),it.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(f=s.next,s.next=n,n.next=f,i.lastEffect=n),n}function ml(){return{destroy:void 0,resource:void 0}}function $p(){return Wt().memoizedState}function gl(n,i,s,f){var g=Sn();f=f===void 0?null:f,it.flags|=n,g.memoizedState=Ro(1|i,ml(),s,f)}function ea(n,i,s,f){var g=Wt();f=f===void 0?null:f;var T=g.memoizedState.inst;xt!==null&&f!==null&&Sc(f,xt.memoizedState.deps)?g.memoizedState=Ro(i,T,s,f):(it.flags|=n,g.memoizedState=Ro(1|i,T,s,f))}function Jp(n,i){gl(8390656,8,n,i)}function Wp(n,i){ea(2048,8,n,i)}function jp(n,i){return ea(4,2,n,i)}function Xp(n,i){return ea(4,4,n,i)}function Zp(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Qp(n,i,s){s=s!=null?s.concat([n]):null,ea(4,4,Zp.bind(null,i,n),s)}function Lc(){}function em(n,i){var s=Wt();i=i===void 0?null:i;var f=s.memoizedState;return i!==null&&Sc(i,f[1])?f[0]:(s.memoizedState=[n,i],n)}function tm(n,i){var s=Wt();i=i===void 0?null:i;var f=s.memoizedState;if(i!==null&&Sc(i,f[1]))return f[0];if(f=n(),Vi){He(!0);try{n()}finally{He(!1)}}return s.memoizedState=[f,i],f}function Uc(n,i,s){return s===void 0||(ri&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=ig(),it.lanes|=n,ci|=n,s)}function nm(n,i,s,f){return Rn(s,i)?s:Co.current!==null?(n=Uc(n,s,f),Rn(n,i)||(tn=!0),n):(ri&42)===0?(tn=!0,n.memoizedState=s):(n=ig(),it.lanes|=n,ci|=n,i)}function rm(n,i,s,f,g){var T=ne.p;ne.p=T!==0&&8>T?T:8;var P=se.T,G={};se.T=G,Oc(n,!1,i,s);try{var ie=g(),Te=se.S;if(Te!==null&&Te(G,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var ke=LT(ie,f);ta(n,i,ke,Ln(n))}else ta(n,i,f,Ln(n))}catch(Ue){ta(n,i,{then:function(){},status:"rejected",reason:Ue},Ln())}finally{ne.p=T,se.T=P}}function FT(){}function Bc(n,i,s,f){if(n.tag!==5)throw Error(o(476));var g=im(n).queue;rm(n,g,i,Me,s===null?FT:function(){return om(n),s(f)})}function im(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:Me},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function om(n){var i=im(n).next.queue;ta(n,i,{},Ln())}function Pc(){return fn(wa)}function sm(){return Wt().memoizedState}function am(){return Wt().memoizedState}function zT(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ln();n=ti(s);var f=ni(i,n,s);f!==null&&(Un(f,i,s),Ws(f,i,s)),i={cache:hc()},n.payload=i;return}i=i.return}}function GT(n,i,s){var f=Ln();s={lane:f,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},yl(n)?um(i,s):(s=rc(n,i,s,f),s!==null&&(Un(s,n,f),cm(s,i,f)))}function lm(n,i,s){var f=Ln();ta(n,i,s,f)}function ta(n,i,s,f){var g={lane:f,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(yl(n))um(i,g);else{var T=n.alternate;if(n.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var P=i.lastRenderedState,G=T(P,s);if(g.hasEagerState=!0,g.eagerState=G,Rn(G,P))return el(n,i,g,0),At===null&&Qa(),!1}catch{}finally{}if(s=rc(n,i,g,f),s!==null)return Un(s,n,f),cm(s,i,f),!0}return!1}function Oc(n,i,s,f){if(f={lane:2,revertLane:yf(),action:f,hasEagerState:!1,eagerState:null,next:null},yl(n)){if(i)throw Error(o(479))}else i=rc(n,s,f,2),i!==null&&Un(i,n,2)}function yl(n){var i=n.alternate;return n===it||i!==null&&i===it}function um(n,i){Ao=fl=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function cm(n,i,s){if((s&4194048)!==0){var f=i.lanes;f&=n.pendingLanes,s|=f,i.lanes=s,Si(n,s)}}var vl={readContext:fn,use:hl,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},fm={readContext:fn,use:hl,useCallback:function(n,i){return Sn().memoizedState=[n,i===void 0?null:i],n},useContext:fn,useEffect:Jp,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,gl(4194308,4,Zp.bind(null,i,n),s)},useLayoutEffect:function(n,i){return gl(4194308,4,n,i)},useInsertionEffect:function(n,i){gl(4,2,n,i)},useMemo:function(n,i){var s=Sn();i=i===void 0?null:i;var f=n();if(Vi){He(!0);try{n()}finally{He(!1)}}return s.memoizedState=[f,i],f},useReducer:function(n,i,s){var f=Sn();if(s!==void 0){var g=s(i);if(Vi){He(!0);try{s(i)}finally{He(!1)}}}else g=i;return f.memoizedState=f.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},f.queue=n,n=n.dispatch=GT.bind(null,it,n),[f.memoizedState,n]},useRef:function(n){var i=Sn();return n={current:n},i.memoizedState=n},useState:function(n){n=Ic(n);var i=n.queue,s=lm.bind(null,it,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Lc,useDeferredValue:function(n,i){var s=Sn();return Uc(s,n,i)},useTransition:function(){var n=Ic(!1);return n=rm.bind(null,it,n.queue,!0,!1),Sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var f=it,g=Sn();if(pt){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),At===null)throw Error(o(349));(ft&124)!==0||Ip(f,i,s)}g.memoizedState=s;var T={value:s,getSnapshot:i};return g.queue=T,Jp(Lp.bind(null,f,T,n),[n]),f.flags|=2048,Ro(9,ml(),kp.bind(null,f,T,s,i),null),s},useId:function(){var n=Sn(),i=At.identifierPrefix;if(pt){var s=Mr,f=Rr;s=(f&~(1<<32-tt(f)-1)).toString(32)+s,i="«"+i+"R"+s,s=dl++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=UT++,i="«"+i+"r"+s.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Pc,useFormState:qp,useActionState:qp,useOptimistic:function(n){var i=Sn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Oc.bind(null,it,!0,s),s.dispatch=i,[n,i]},useMemoCache:Rc,useCacheRefresh:function(){return Sn().memoizedState=zT.bind(null,it)}},dm={readContext:fn,use:hl,useCallback:em,useContext:fn,useEffect:Wp,useImperativeHandle:Qp,useInsertionEffect:jp,useLayoutEffect:Xp,useMemo:tm,useReducer:pl,useRef:$p,useState:function(){return pl(kr)},useDebugValue:Lc,useDeferredValue:function(n,i){var s=Wt();return nm(s,xt.memoizedState,n,i)},useTransition:function(){var n=pl(kr)[0],i=Wt().memoizedState;return[typeof n=="boolean"?n:Qs(n),i]},useSyncExternalStore:Dp,useId:sm,useHostTransitionStatus:Pc,useFormState:Hp,useActionState:Hp,useOptimistic:function(n,i){var s=Wt();return Pp(s,xt,n,i)},useMemoCache:Rc,useCacheRefresh:am},VT={readContext:fn,use:hl,useCallback:em,useContext:fn,useEffect:Wp,useImperativeHandle:Qp,useInsertionEffect:jp,useLayoutEffect:Xp,useMemo:tm,useReducer:Dc,useRef:$p,useState:function(){return Dc(kr)},useDebugValue:Lc,useDeferredValue:function(n,i){var s=Wt();return xt===null?Uc(s,n,i):nm(s,xt.memoizedState,n,i)},useTransition:function(){var n=Dc(kr)[0],i=Wt().memoizedState;return[typeof n=="boolean"?n:Qs(n),i]},useSyncExternalStore:Dp,useId:sm,useHostTransitionStatus:Pc,useFormState:Yp,useActionState:Yp,useOptimistic:function(n,i){var s=Wt();return xt!==null?Pp(s,xt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Rc,useCacheRefresh:am},Mo=null,na=0;function wl(n){var i=na;return na+=1,Mo===null&&(Mo=[]),Sp(Mo,n,i)}function ra(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function xl(n,i){throw i.$$typeof===x?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function hm(n){var i=n._init;return i(n._payload)}function pm(n){function i(ge,he){if(n){var ve=ge.deletions;ve===null?(ge.deletions=[he],ge.flags|=16):ve.push(he)}}function s(ge,he){if(!n)return null;for(;he!==null;)i(ge,he),he=he.sibling;return null}function f(ge){for(var he=new Map;ge!==null;)ge.key!==null?he.set(ge.key,ge):he.set(ge.index,ge),ge=ge.sibling;return he}function g(ge,he){return ge=Nr(ge,he),ge.index=0,ge.sibling=null,ge}function T(ge,he,ve){return ge.index=ve,n?(ve=ge.alternate,ve!==null?(ve=ve.index,ve<he?(ge.flags|=67108866,he):ve):(ge.flags|=67108866,he)):(ge.flags|=1048576,he)}function P(ge){return n&&ge.alternate===null&&(ge.flags|=67108866),ge}function G(ge,he,ve,Le){return he===null||he.tag!==6?(he=oc(ve,ge.mode,Le),he.return=ge,he):(he=g(he,ve),he.return=ge,he)}function ie(ge,he,ve,Le){var Ye=ve.type;return Ye===D?ke(ge,he,ve.props.children,Le,ve.key):he!==null&&(he.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===me&&hm(Ye)===he.type)?(he=g(he,ve.props),ra(he,ve),he.return=ge,he):(he=nl(ve.type,ve.key,ve.props,null,ge.mode,Le),ra(he,ve),he.return=ge,he)}function Te(ge,he,ve,Le){return he===null||he.tag!==4||he.stateNode.containerInfo!==ve.containerInfo||he.stateNode.implementation!==ve.implementation?(he=sc(ve,ge.mode,Le),he.return=ge,he):(he=g(he,ve.children||[]),he.return=ge,he)}function ke(ge,he,ve,Le,Ye){return he===null||he.tag!==7?(he=Li(ve,ge.mode,Le,Ye),he.return=ge,he):(he=g(he,ve),he.return=ge,he)}function Ue(ge,he,ve){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=oc(""+he,ge.mode,ve),he.return=ge,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case S:return ve=nl(he.type,he.key,he.props,null,ge.mode,ve),ra(ve,he),ve.return=ge,ve;case E:return he=sc(he,ge.mode,ve),he.return=ge,he;case me:var Le=he._init;return he=Le(he._payload),Ue(ge,he,ve)}if(le(he)||Y(he))return he=Li(he,ge.mode,ve,null),he.return=ge,he;if(typeof he.then=="function")return Ue(ge,wl(he),ve);if(he.$$typeof===O)return Ue(ge,sl(ge,he),ve);xl(ge,he)}return null}function _e(ge,he,ve,Le){var Ye=he!==null?he.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Ye!==null?null:G(ge,he,""+ve,Le);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:return ve.key===Ye?ie(ge,he,ve,Le):null;case E:return ve.key===Ye?Te(ge,he,ve,Le):null;case me:return Ye=ve._init,ve=Ye(ve._payload),_e(ge,he,ve,Le)}if(le(ve)||Y(ve))return Ye!==null?null:ke(ge,he,ve,Le,null);if(typeof ve.then=="function")return _e(ge,he,wl(ve),Le);if(ve.$$typeof===O)return _e(ge,he,sl(ge,ve),Le);xl(ge,ve)}return null}function Ce(ge,he,ve,Le,Ye){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return ge=ge.get(ve)||null,G(he,ge,""+Le,Ye);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case S:return ge=ge.get(Le.key===null?ve:Le.key)||null,ie(he,ge,Le,Ye);case E:return ge=ge.get(Le.key===null?ve:Le.key)||null,Te(he,ge,Le,Ye);case me:var at=Le._init;return Le=at(Le._payload),Ce(ge,he,ve,Le,Ye)}if(le(Le)||Y(Le))return ge=ge.get(ve)||null,ke(he,ge,Le,Ye,null);if(typeof Le.then=="function")return Ce(ge,he,ve,wl(Le),Ye);if(Le.$$typeof===O)return Ce(ge,he,ve,sl(he,Le),Ye);xl(he,Le)}return null}function Qe(ge,he,ve,Le){for(var Ye=null,at=null,Je=he,Xe=he=0,rn=null;Je!==null&&Xe<ve.length;Xe++){Je.index>Xe?(rn=Je,Je=null):rn=Je.sibling;var ht=_e(ge,Je,ve[Xe],Le);if(ht===null){Je===null&&(Je=rn);break}n&&Je&&ht.alternate===null&&i(ge,Je),he=T(ht,he,Xe),at===null?Ye=ht:at.sibling=ht,at=ht,Je=rn}if(Xe===ve.length)return s(ge,Je),pt&&Bi(ge,Xe),Ye;if(Je===null){for(;Xe<ve.length;Xe++)Je=Ue(ge,ve[Xe],Le),Je!==null&&(he=T(Je,he,Xe),at===null?Ye=Je:at.sibling=Je,at=Je);return pt&&Bi(ge,Xe),Ye}for(Je=f(Je);Xe<ve.length;Xe++)rn=Ce(Je,ge,Xe,ve[Xe],Le),rn!==null&&(n&&rn.alternate!==null&&Je.delete(rn.key===null?Xe:rn.key),he=T(rn,he,Xe),at===null?Ye=rn:at.sibling=rn,at=rn);return n&&Je.forEach(function(wi){return i(ge,wi)}),pt&&Bi(ge,Xe),Ye}function je(ge,he,ve,Le){if(ve==null)throw Error(o(151));for(var Ye=null,at=null,Je=he,Xe=he=0,rn=null,ht=ve.next();Je!==null&&!ht.done;Xe++,ht=ve.next()){Je.index>Xe?(rn=Je,Je=null):rn=Je.sibling;var wi=_e(ge,Je,ht.value,Le);if(wi===null){Je===null&&(Je=rn);break}n&&Je&&wi.alternate===null&&i(ge,Je),he=T(wi,he,Xe),at===null?Ye=wi:at.sibling=wi,at=wi,Je=rn}if(ht.done)return s(ge,Je),pt&&Bi(ge,Xe),Ye;if(Je===null){for(;!ht.done;Xe++,ht=ve.next())ht=Ue(ge,ht.value,Le),ht!==null&&(he=T(ht,he,Xe),at===null?Ye=ht:at.sibling=ht,at=ht);return pt&&Bi(ge,Xe),Ye}for(Je=f(Je);!ht.done;Xe++,ht=ve.next())ht=Ce(Je,ge,Xe,ht.value,Le),ht!==null&&(n&&ht.alternate!==null&&Je.delete(ht.key===null?Xe:ht.key),he=T(ht,he,Xe),at===null?Ye=ht:at.sibling=ht,at=ht);return n&&Je.forEach(function(q1){return i(ge,q1)}),pt&&Bi(ge,Xe),Ye}function bt(ge,he,ve,Le){if(typeof ve=="object"&&ve!==null&&ve.type===D&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:e:{for(var Ye=ve.key;he!==null;){if(he.key===Ye){if(Ye=ve.type,Ye===D){if(he.tag===7){s(ge,he.sibling),Le=g(he,ve.props.children),Le.return=ge,ge=Le;break e}}else if(he.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===me&&hm(Ye)===he.type){s(ge,he.sibling),Le=g(he,ve.props),ra(Le,ve),Le.return=ge,ge=Le;break e}s(ge,he);break}else i(ge,he);he=he.sibling}ve.type===D?(Le=Li(ve.props.children,ge.mode,Le,ve.key),Le.return=ge,ge=Le):(Le=nl(ve.type,ve.key,ve.props,null,ge.mode,Le),ra(Le,ve),Le.return=ge,ge=Le)}return P(ge);case E:e:{for(Ye=ve.key;he!==null;){if(he.key===Ye)if(he.tag===4&&he.stateNode.containerInfo===ve.containerInfo&&he.stateNode.implementation===ve.implementation){s(ge,he.sibling),Le=g(he,ve.children||[]),Le.return=ge,ge=Le;break e}else{s(ge,he);break}else i(ge,he);he=he.sibling}Le=sc(ve,ge.mode,Le),Le.return=ge,ge=Le}return P(ge);case me:return Ye=ve._init,ve=Ye(ve._payload),bt(ge,he,ve,Le)}if(le(ve))return Qe(ge,he,ve,Le);if(Y(ve)){if(Ye=Y(ve),typeof Ye!="function")throw Error(o(150));return ve=Ye.call(ve),je(ge,he,ve,Le)}if(typeof ve.then=="function")return bt(ge,he,wl(ve),Le);if(ve.$$typeof===O)return bt(ge,he,sl(ge,ve),Le);xl(ge,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,he!==null&&he.tag===6?(s(ge,he.sibling),Le=g(he,ve),Le.return=ge,ge=Le):(s(ge,he),Le=oc(ve,ge.mode,Le),Le.return=ge,ge=Le),P(ge)):s(ge,he)}return function(ge,he,ve,Le){try{na=0;var Ye=bt(ge,he,ve,Le);return Mo=null,Ye}catch(Je){if(Je===$s||Je===ll)throw Je;var at=Mn(29,Je,null,ge.mode);return at.lanes=Le,at.return=ge,at}finally{}}}var Do=pm(!0),mm=pm(!1),Gn=W(null),hr=null;function ii(n){var i=n.alternate;Q(Xt,Xt.current&1),Q(Gn,n),hr===null&&(i===null||Co.current!==null||i.memoizedState!==null)&&(hr=n)}function gm(n){if(n.tag===22){if(Q(Xt,Xt.current),Q(Gn,n),hr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(hr=n)}}else oi()}function oi(){Q(Xt,Xt.current),Q(Gn,Gn.current)}function Lr(n){F(Gn),hr===n&&(hr=null),F(Xt)}var Xt=W(0);function Tl(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Rf(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Fc(n,i,s,f){i=n.memoizedState,s=s(f,i),s=s==null?i:y({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var zc={enqueueSetState:function(n,i,s){n=n._reactInternals;var f=Ln(),g=ti(f);g.payload=i,s!=null&&(g.callback=s),i=ni(n,g,f),i!==null&&(Un(i,n,f),Ws(i,n,f))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var f=Ln(),g=ti(f);g.tag=1,g.payload=i,s!=null&&(g.callback=s),i=ni(n,g,f),i!==null&&(Un(i,n,f),Ws(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Ln(),f=ti(s);f.tag=2,i!=null&&(f.callback=i),i=ni(n,f,s),i!==null&&(Un(i,n,s),Ws(i,n,s))}};function ym(n,i,s,f,g,T,P){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,T,P):i.prototype&&i.prototype.isPureReactComponent?!Fs(s,f)||!Fs(g,T):!0}function vm(n,i,s,f){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,f),i.state!==n&&zc.enqueueReplaceState(i,i.state,null)}function qi(n,i){var s=i;if("ref"in i){s={};for(var f in i)f!=="ref"&&(s[f]=i[f])}if(n=n.defaultProps){s===i&&(s=y({},s));for(var g in n)s[g]===void 0&&(s[g]=n[g])}return s}var bl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function wm(n){bl(n)}function xm(n){console.error(n)}function Tm(n){bl(n)}function Sl(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function bm(n,i,s){try{var f=n.onCaughtError;f(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Gc(n,i,s){return s=ti(s),s.tag=3,s.payload={element:null},s.callback=function(){Sl(n,i)},s}function Sm(n){return n=ti(n),n.tag=3,n}function Em(n,i,s,f){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var T=f.value;n.payload=function(){return g(T)},n.callback=function(){bm(i,s,f)}}var P=s.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(n.callback=function(){bm(i,s,f),typeof g!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})})}function qT(n,i,s,f,g){if(s.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=s.alternate,i!==null&&Hs(i,s,g,!0),s=Gn.current,s!==null){switch(s.tag){case 13:return hr===null?df():s.alternate===null&&Ft===0&&(Ft=3),s.flags&=-257,s.flags|=65536,s.lanes=g,f===gc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([f]):i.add(f),pf(n,f,g)),!1;case 22:return s.flags|=65536,f===gc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([f]):s.add(f)),pf(n,f,g)),!1}throw Error(o(435,s.tag))}return pf(n,f,g),df(),!1}if(pt)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==uc&&(n=Error(o(422),{cause:f}),qs(Pn(n,s)))):(f!==uc&&(i=Error(o(423),{cause:f}),qs(Pn(i,s))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,f=Pn(f,s),g=Gc(n.stateNode,f,g),wc(n,g),Ft!==4&&(Ft=2)),!1;var T=Error(o(520),{cause:f});if(T=Pn(T,s),ca===null?ca=[T]:ca.push(T),Ft!==4&&(Ft=2),i===null)return!0;f=Pn(f,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=g&-g,s.lanes|=n,n=Gc(s.stateNode,f,n),wc(s,n),!1;case 1:if(i=s.type,T=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(fi===null||!fi.has(T))))return s.flags|=65536,g&=-g,s.lanes|=g,g=Sm(g),Em(g,n,s,f),wc(s,g),!1}s=s.return}while(s!==null);return!1}var _m=Error(o(461)),tn=!1;function sn(n,i,s,f){i.child=n===null?mm(i,null,s,f):Do(i,n.child,s,f)}function Cm(n,i,s,f,g){s=s.render;var T=i.ref;if("ref"in f){var P={};for(var G in f)G!=="ref"&&(P[G]=f[G])}else P=f;return zi(i),f=Ec(n,i,s,P,T,g),G=_c(),n!==null&&!tn?(Cc(n,i,g),Ur(n,i,g)):(pt&&G&&ac(i),i.flags|=1,sn(n,i,f,g),i.child)}function Am(n,i,s,f,g){if(n===null){var T=s.type;return typeof T=="function"&&!ic(T)&&T.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=T,Nm(n,i,T,f,g)):(n=nl(s.type,null,f,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(T=n.child,!Wc(n,g)){var P=T.memoizedProps;if(s=s.compare,s=s!==null?s:Fs,s(P,f)&&n.ref===i.ref)return Ur(n,i,g)}return i.flags|=1,n=Nr(T,f),n.ref=i.ref,n.return=i,i.child=n}function Nm(n,i,s,f,g){if(n!==null){var T=n.memoizedProps;if(Fs(T,f)&&n.ref===i.ref)if(tn=!1,i.pendingProps=f=T,Wc(n,g))(n.flags&131072)!==0&&(tn=!0);else return i.lanes=n.lanes,Ur(n,i,g)}return Vc(n,i,s,f,g)}function Rm(n,i,s){var f=i.pendingProps,g=f.children,T=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=T!==null?T.baseLanes|s:s,n!==null){for(g=i.child=n.child,T=0;g!==null;)T=T|g.lanes|g.childLanes,g=g.sibling;i.childLanes=T&~f}else i.childLanes=0,i.child=null;return Mm(n,i,f,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&al(i,T!==null?T.cachePool:null),T!==null?Np(i,T):Tc(),gm(i);else return i.lanes=i.childLanes=536870912,Mm(n,i,T!==null?T.baseLanes|s:s,s)}else T!==null?(al(i,T.cachePool),Np(i,T),oi(),i.memoizedState=null):(n!==null&&al(i,null),Tc(),oi());return sn(n,i,g,s),i.child}function Mm(n,i,s,f){var g=mc();return g=g===null?null:{parent:jt._currentValue,pool:g},i.memoizedState={baseLanes:s,cachePool:g},n!==null&&al(i,null),Tc(),gm(i),n!==null&&Hs(n,i,f,!0),null}function El(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function Vc(n,i,s,f,g){return zi(i),s=Ec(n,i,s,f,void 0,g),f=_c(),n!==null&&!tn?(Cc(n,i,g),Ur(n,i,g)):(pt&&f&&ac(i),i.flags|=1,sn(n,i,s,g),i.child)}function Dm(n,i,s,f,g,T){return zi(i),i.updateQueue=null,s=Mp(i,f,s,g),Rp(n),f=_c(),n!==null&&!tn?(Cc(n,i,T),Ur(n,i,T)):(pt&&f&&ac(i),i.flags|=1,sn(n,i,s,T),i.child)}function Im(n,i,s,f,g){if(zi(i),i.stateNode===null){var T=To,P=s.contextType;typeof P=="object"&&P!==null&&(T=fn(P)),T=new s(f,T),i.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=zc,i.stateNode=T,T._reactInternals=i,T=i.stateNode,T.props=f,T.state=i.memoizedState,T.refs={},yc(i),P=s.contextType,T.context=typeof P=="object"&&P!==null?fn(P):To,T.state=i.memoizedState,P=s.getDerivedStateFromProps,typeof P=="function"&&(Fc(i,s,P,f),T.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(P=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),P!==T.state&&zc.enqueueReplaceState(T,T.state,null),Xs(i,f,T,g),js(),T.state=i.memoizedState),typeof T.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(n===null){T=i.stateNode;var G=i.memoizedProps,ie=qi(s,G);T.props=ie;var Te=T.context,ke=s.contextType;P=To,typeof ke=="object"&&ke!==null&&(P=fn(ke));var Ue=s.getDerivedStateFromProps;ke=typeof Ue=="function"||typeof T.getSnapshotBeforeUpdate=="function",G=i.pendingProps!==G,ke||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(G||Te!==P)&&vm(i,T,f,P),ei=!1;var _e=i.memoizedState;T.state=_e,Xs(i,f,T,g),js(),Te=i.memoizedState,G||_e!==Te||ei?(typeof Ue=="function"&&(Fc(i,s,Ue,f),Te=i.memoizedState),(ie=ei||ym(i,s,ie,f,_e,Te,P))?(ke||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=Te),T.props=f,T.state=Te,T.context=P,f=ie):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{T=i.stateNode,vc(n,i),P=i.memoizedProps,ke=qi(s,P),T.props=ke,Ue=i.pendingProps,_e=T.context,Te=s.contextType,ie=To,typeof Te=="object"&&Te!==null&&(ie=fn(Te)),G=s.getDerivedStateFromProps,(Te=typeof G=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==Ue||_e!==ie)&&vm(i,T,f,ie),ei=!1,_e=i.memoizedState,T.state=_e,Xs(i,f,T,g),js();var Ce=i.memoizedState;P!==Ue||_e!==Ce||ei||n!==null&&n.dependencies!==null&&ol(n.dependencies)?(typeof G=="function"&&(Fc(i,s,G,f),Ce=i.memoizedState),(ke=ei||ym(i,s,ke,f,_e,Ce,ie)||n!==null&&n.dependencies!==null&&ol(n.dependencies))?(Te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Ce,ie),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Ce,ie)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===n.memoizedProps&&_e===n.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&_e===n.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=Ce),T.props=f,T.state=Ce,T.context=ie,f=ke):(typeof T.componentDidUpdate!="function"||P===n.memoizedProps&&_e===n.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&_e===n.memoizedState||(i.flags|=1024),f=!1)}return T=f,El(n,i),f=(i.flags&128)!==0,T||f?(T=i.stateNode,s=f&&typeof s.getDerivedStateFromError!="function"?null:T.render(),i.flags|=1,n!==null&&f?(i.child=Do(i,n.child,null,g),i.child=Do(i,null,s,g)):sn(n,i,s,g),i.memoizedState=T.state,n=i.child):n=Ur(n,i,g),n}function km(n,i,s,f){return Vs(),i.flags|=256,sn(n,i,s,f),i.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hc(n){return{baseLanes:n,cachePool:xp()}}function Kc(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=Vn),n}function Lm(n,i,s){var f=i.pendingProps,g=!1,T=(i.flags&128)!==0,P;if((P=T)||(P=n!==null&&n.memoizedState===null?!1:(Xt.current&2)!==0),P&&(g=!0,i.flags&=-129),P=(i.flags&32)!==0,i.flags&=-33,n===null){if(pt){if(g?ii(i):oi(),pt){var G=Ot,ie;if(ie=G){e:{for(ie=G,G=dr;ie.nodeType!==8;){if(!G){G=null;break e}if(ie=nr(ie.nextSibling),ie===null){G=null;break e}}G=ie}G!==null?(i.memoizedState={dehydrated:G,treeContext:Ui!==null?{id:Rr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},ie=Mn(18,null,null,0),ie.stateNode=G,ie.return=i,i.child=ie,xn=i,Ot=null,ie=!0):ie=!1}ie||Oi(i)}if(G=i.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return Rf(G)?i.lanes=32:i.lanes=536870912,null;Lr(i)}return G=f.children,f=f.fallback,g?(oi(),g=i.mode,G=_l({mode:"hidden",children:G},g),f=Li(f,g,s,null),G.return=i,f.return=i,G.sibling=f,i.child=G,g=i.child,g.memoizedState=Hc(s),g.childLanes=Kc(n,P,s),i.memoizedState=qc,f):(ii(i),Yc(i,G))}if(ie=n.memoizedState,ie!==null&&(G=ie.dehydrated,G!==null)){if(T)i.flags&256?(ii(i),i.flags&=-257,i=$c(n,i,s)):i.memoizedState!==null?(oi(),i.child=n.child,i.flags|=128,i=null):(oi(),g=f.fallback,G=i.mode,f=_l({mode:"visible",children:f.children},G),g=Li(g,G,s,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,Do(i,n.child,null,s),f=i.child,f.memoizedState=Hc(s),f.childLanes=Kc(n,P,s),i.memoizedState=qc,i=g);else if(ii(i),Rf(G)){if(P=G.nextSibling&&G.nextSibling.dataset,P)var Te=P.dgst;P=Te,f=Error(o(419)),f.stack="",f.digest=P,qs({value:f,source:null,stack:null}),i=$c(n,i,s)}else if(tn||Hs(n,i,s,!1),P=(s&n.childLanes)!==0,tn||P){if(P=At,P!==null&&(f=s&-s,f=(f&42)!==0?1:Er(f),f=(f&(P.suspendedLanes|s))!==0?0:f,f!==0&&f!==ie.retryLane))throw ie.retryLane=f,xo(n,f),Un(P,n,f),_m;G.data==="$?"||df(),i=$c(n,i,s)}else G.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=ie.treeContext,Ot=nr(G.nextSibling),xn=i,pt=!0,Pi=null,dr=!1,n!==null&&(Fn[zn++]=Rr,Fn[zn++]=Mr,Fn[zn++]=Ui,Rr=n.id,Mr=n.overflow,Ui=i),i=Yc(i,f.children),i.flags|=4096);return i}return g?(oi(),g=f.fallback,G=i.mode,ie=n.child,Te=ie.sibling,f=Nr(ie,{mode:"hidden",children:f.children}),f.subtreeFlags=ie.subtreeFlags&65011712,Te!==null?g=Nr(Te,g):(g=Li(g,G,s,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,G=n.child.memoizedState,G===null?G=Hc(s):(ie=G.cachePool,ie!==null?(Te=jt._currentValue,ie=ie.parent!==Te?{parent:Te,pool:Te}:ie):ie=xp(),G={baseLanes:G.baseLanes|s,cachePool:ie}),g.memoizedState=G,g.childLanes=Kc(n,P,s),i.memoizedState=qc,f):(ii(i),s=n.child,n=s.sibling,s=Nr(s,{mode:"visible",children:f.children}),s.return=i,s.sibling=null,n!==null&&(P=i.deletions,P===null?(i.deletions=[n],i.flags|=16):P.push(n)),i.child=s,i.memoizedState=null,s)}function Yc(n,i){return i=_l({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function _l(n,i){return n=Mn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function $c(n,i,s){return Do(i,n.child,null,s),n=Yc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Um(n,i,s){n.lanes|=i;var f=n.alternate;f!==null&&(f.lanes|=i),fc(n.return,i,s)}function Jc(n,i,s,f,g){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=s,T.tailMode=g)}function Bm(n,i,s){var f=i.pendingProps,g=f.revealOrder,T=f.tail;if(sn(n,i,f.children,s),f=Xt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Um(n,s,i);else if(n.tag===19)Um(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(Q(Xt,f),g){case"forwards":for(s=i.child,g=null;s!==null;)n=s.alternate,n!==null&&Tl(n)===null&&(g=s),s=s.sibling;s=g,s===null?(g=i.child,i.child=null):(g=s.sibling,s.sibling=null),Jc(i,!1,g,s,T);break;case"backwards":for(s=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Tl(n)===null){i.child=g;break}n=g.sibling,g.sibling=s,s=g,g=n}Jc(i,!0,s,null,T);break;case"together":Jc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ur(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),ci|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Hs(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,s=Nr(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=Nr(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function Wc(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ol(n)))}function HT(n,i,s){switch(i.tag){case 3:A(i,i.stateNode.containerInfo),Qr(i,jt,n.memoizedState.cache),Vs();break;case 27:case 5:V(i);break;case 4:A(i,i.stateNode.containerInfo);break;case 10:Qr(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(ii(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Lm(n,i,s):(ii(i),n=Ur(n,i,s),n!==null?n.sibling:null);ii(i);break;case 19:var g=(n.flags&128)!==0;if(f=(s&i.childLanes)!==0,f||(Hs(n,i,s,!1),f=(s&i.childLanes)!==0),g){if(f)return Bm(n,i,s);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Q(Xt,Xt.current),f)break;return null;case 22:case 23:return i.lanes=0,Rm(n,i,s);case 24:Qr(i,jt,n.memoizedState.cache)}return Ur(n,i,s)}function Pm(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)tn=!0;else{if(!Wc(n,s)&&(i.flags&128)===0)return tn=!1,HT(n,i,s);tn=(n.flags&131072)!==0}else tn=!1,pt&&(i.flags&1048576)!==0&&hp(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")ic(f)?(n=qi(f,n),i.tag=1,i=Im(null,i,f,n,s)):(i.tag=0,i=Vc(null,i,f,n,s));else{if(f!=null){if(g=f.$$typeof,g===H){i.tag=11,i=Cm(null,i,f,n,s);break e}else if(g===oe){i.tag=14,i=Am(null,i,f,n,s);break e}}throw i=B(f)||f,Error(o(306,i,""))}}return i;case 0:return Vc(n,i,i.type,i.pendingProps,s);case 1:return f=i.type,g=qi(f,i.pendingProps),Im(n,i,f,g,s);case 3:e:{if(A(i,i.stateNode.containerInfo),n===null)throw Error(o(387));f=i.pendingProps;var T=i.memoizedState;g=T.element,vc(n,i),Xs(i,f,null,s);var P=i.memoizedState;if(f=P.cache,Qr(i,jt,f),f!==T.cache&&dc(i,[jt],s,!0),js(),f=P.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:P.cache},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){i=km(n,i,f,s);break e}else if(f!==g){g=Pn(Error(o(424)),i),qs(g),i=km(n,i,f,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ot=nr(n.firstChild),xn=i,pt=!0,Pi=null,dr=!0,s=mm(i,null,f,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Vs(),f===g){i=Ur(n,i,s);break e}sn(n,i,f,s)}i=i.child}return i;case 26:return El(n,i),n===null?(s=Gg(i.type,null,i.pendingProps,null))?i.memoizedState=s:pt||(s=i.type,n=i.pendingProps,f=Fl(te.current).createElement(s),f[Pt]=i,f[un]=n,ln(f,s,n),Rt(f),i.stateNode=f):i.memoizedState=Gg(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return V(i),n===null&&pt&&(f=i.stateNode=Og(i.type,i.pendingProps,te.current),xn=i,dr=!0,g=Ot,pi(i.type)?(Mf=g,Ot=nr(f.firstChild)):Ot=g),sn(n,i,i.pendingProps.children,s),El(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&pt&&((g=f=Ot)&&(f=v1(f,i.type,i.pendingProps,dr),f!==null?(i.stateNode=f,xn=i,Ot=nr(f.firstChild),dr=!1,g=!0):g=!1),g||Oi(i)),V(i),g=i.type,T=i.pendingProps,P=n!==null?n.memoizedProps:null,f=T.children,Cf(g,T)?f=null:P!==null&&Cf(g,P)&&(i.flags|=32),i.memoizedState!==null&&(g=Ec(n,i,BT,null,null,s),wa._currentValue=g),El(n,i),sn(n,i,f,s),i.child;case 6:return n===null&&pt&&((n=s=Ot)&&(s=w1(s,i.pendingProps,dr),s!==null?(i.stateNode=s,xn=i,Ot=null,n=!0):n=!1),n||Oi(i)),null;case 13:return Lm(n,i,s);case 4:return A(i,i.stateNode.containerInfo),f=i.pendingProps,n===null?i.child=Do(i,null,f,s):sn(n,i,f,s),i.child;case 11:return Cm(n,i,i.type,i.pendingProps,s);case 7:return sn(n,i,i.pendingProps,s),i.child;case 8:return sn(n,i,i.pendingProps.children,s),i.child;case 12:return sn(n,i,i.pendingProps.children,s),i.child;case 10:return f=i.pendingProps,Qr(i,i.type,f.value),sn(n,i,f.children,s),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,zi(i),g=fn(g),f=f(g),i.flags|=1,sn(n,i,f,s),i.child;case 14:return Am(n,i,i.type,i.pendingProps,s);case 15:return Nm(n,i,i.type,i.pendingProps,s);case 19:return Bm(n,i,s);case 31:return f=i.pendingProps,s=i.mode,f={mode:f.mode,children:f.children},n===null?(s=_l(f,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Nr(n.child,f),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Rm(n,i,s);case 24:return zi(i),f=fn(jt),n===null?(g=mc(),g===null&&(g=At,T=hc(),g.pooledCache=T,T.refCount++,T!==null&&(g.pooledCacheLanes|=s),g=T),i.memoizedState={parent:f,cache:g},yc(i),Qr(i,jt,g)):((n.lanes&s)!==0&&(vc(n,i),Xs(i,null,null,s),js()),g=n.memoizedState,T=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Qr(i,jt,f)):(f=T.cache,Qr(i,jt,f),f!==g.cache&&dc(i,[jt],s,!0))),sn(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Br(n){n.flags|=4}function Om(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Yg(i)){if(i=Gn.current,i!==null&&((ft&4194048)===ft?hr!==null:(ft&62914560)!==ft&&(ft&536870912)===0||i!==hr))throw Js=gc,Tp;n.flags|=8192}}function Cl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Gt():536870912,n.lanes|=i,Uo|=i)}function ia(n,i){if(!pt)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Ut(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,f=0;if(i)for(var g=n.child;g!==null;)s|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)s|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=s,i}function KT(n,i,s){var f=i.pendingProps;switch(lc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return Ut(i),null;case 3:return s=i.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),Ir(jt),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Gs(i)?Br(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gp())),Ut(i),null;case 26:return s=i.memoizedState,n===null?(Br(i),s!==null?(Ut(i),Om(i,s)):(Ut(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Br(i),Ut(i),Om(i,s)):(Ut(i),i.flags&=-16777217):(n.memoizedProps!==f&&Br(i),Ut(i),i.flags&=-16777217),null;case 27:z(i),s=te.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==f&&Br(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Ut(i),null}n=re.current,Gs(i)?pp(i):(n=Og(g,f,s),i.stateNode=n,Br(i))}return Ut(i),null;case 5:if(z(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==f&&Br(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Ut(i),null}if(n=re.current,Gs(i))pp(i);else{switch(g=Fl(te.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?g.createElement(s,{is:f.is}):g.createElement(s)}}n[Pt]=i,n[un]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(ln(n,s,f),s){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Br(i)}}return Ut(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==f&&Br(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(o(166));if(n=te.current,Gs(i)){if(n=i.stateNode,s=i.memoizedProps,f=null,g=xn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}n[Pt]=i,n=!!(n.nodeValue===s||f!==null&&f.suppressHydrationWarning===!0||Dg(n.nodeValue,s)),n||Oi(i)}else n=Fl(n).createTextNode(f),n[Pt]=i,i.stateNode=n}return Ut(i),null;case 13:if(f=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Gs(i),f!==null&&f.dehydrated!==null){if(n===null){if(!g)throw Error(o(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[Pt]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),g=!1}else g=gp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Lr(i),i):(Lr(i),null)}if(Lr(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=f!==null,n=n!==null&&n.memoizedState!==null,s){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var T=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),T!==g&&(f.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Cl(i,i.updateQueue),Ut(i),null;case 4:return ee(),n===null&&Tf(i.stateNode.containerInfo),Ut(i),null;case 10:return Ir(i.type),Ut(i),null;case 19:if(F(Xt),g=i.memoizedState,g===null)return Ut(i),null;if(f=(i.flags&128)!==0,T=g.rendering,T===null)if(f)ia(g,!1);else{if(Ft!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(T=Tl(n),T!==null){for(i.flags|=128,ia(g,!1),n=T.updateQueue,i.updateQueue=n,Cl(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)dp(s,n),s=s.sibling;return Q(Xt,Xt.current&1|2),i.child}n=n.sibling}g.tail!==null&&w()>Rl&&(i.flags|=128,f=!0,ia(g,!1),i.lanes=4194304)}else{if(!f)if(n=Tl(T),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Cl(i,n),ia(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!pt)return Ut(i),null}else 2*w()-g.renderingStartTime>Rl&&s!==536870912&&(i.flags|=128,f=!0,ia(g,!1),i.lanes=4194304);g.isBackwards?(T.sibling=i.child,i.child=T):(n=g.last,n!==null?n.sibling=T:i.child=T,g.last=T)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=w(),i.sibling=null,n=Xt.current,Q(Xt,f?n&1|2:n&1),i):(Ut(i),null);case 22:case 23:return Lr(i),bc(),f=i.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(s&536870912)!==0&&(i.flags&128)===0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),s=i.updateQueue,s!==null&&Cl(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==s&&(i.flags|=2048),n!==null&&F(Gi),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ir(jt),Ut(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function YT(n,i){switch(lc(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ir(jt),ee(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return z(i),null;case 13:if(Lr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Vs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return F(Xt),null;case 4:return ee(),null;case 10:return Ir(i.type),null;case 22:case 23:return Lr(i),bc(),n!==null&&F(Gi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ir(jt),null;case 25:return null;default:return null}}function Fm(n,i){switch(lc(i),i.tag){case 3:Ir(jt),ee();break;case 26:case 27:case 5:z(i);break;case 4:ee();break;case 13:Lr(i);break;case 19:F(Xt);break;case 10:Ir(i.type);break;case 22:case 23:Lr(i),bc(),n!==null&&F(Gi);break;case 24:Ir(jt)}}function oa(n,i){try{var s=i.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var g=f.next;s=g;do{if((s.tag&n)===n){f=void 0;var T=s.create,P=s.inst;f=T(),P.destroy=f}s=s.next}while(s!==g)}}catch(G){_t(i,i.return,G)}}function si(n,i,s){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var T=g.next;f=T;do{if((f.tag&n)===n){var P=f.inst,G=P.destroy;if(G!==void 0){P.destroy=void 0,g=i;var ie=s,Te=G;try{Te()}catch(ke){_t(g,ie,ke)}}}f=f.next}while(f!==T)}}catch(ke){_t(i,i.return,ke)}}function zm(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Ap(i,s)}catch(f){_t(n,n.return,f)}}}function Gm(n,i,s){s.props=qi(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(f){_t(n,i,f)}}function sa(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof s=="function"?n.refCleanup=s(f):s.current=f}}catch(g){_t(n,i,g)}}function pr(n,i){var s=n.ref,f=n.refCleanup;if(s!==null)if(typeof f=="function")try{f()}catch(g){_t(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){_t(n,i,g)}else s.current=null}function Vm(n){var i=n.type,s=n.memoizedProps,f=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&f.focus();break e;case"img":s.src?f.src=s.src:s.srcSet&&(f.srcset=s.srcSet)}}catch(g){_t(n,n.return,g)}}function jc(n,i,s){try{var f=n.stateNode;h1(f,n.type,s,i),f[un]=i}catch(g){_t(n,n.return,g)}}function qm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&pi(n.type)||n.tag===4}function Xc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||qm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&pi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zc(n,i,s){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Ol));else if(f!==4&&(f===27&&pi(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Zc(n,i,s),n=n.sibling;n!==null;)Zc(n,i,s),n=n.sibling}function Al(n,i,s){var f=n.tag;if(f===5||f===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(f!==4&&(f===27&&pi(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Al(n,i,s),n=n.sibling;n!==null;)Al(n,i,s),n=n.sibling}function Hm(n){var i=n.stateNode,s=n.memoizedProps;try{for(var f=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);ln(i,f,s),i[Pt]=n,i[un]=s}catch(T){_t(n,n.return,T)}}var Pr=!1,qt=!1,Qc=!1,Km=typeof WeakSet=="function"?WeakSet:Set,nn=null;function $T(n,i){if(n=n.containerInfo,Ef=Kl,n=np(n),Xu(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var g=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{s.nodeType,T.nodeType}catch{s=null;break e}var P=0,G=-1,ie=-1,Te=0,ke=0,Ue=n,_e=null;t:for(;;){for(var Ce;Ue!==s||g!==0&&Ue.nodeType!==3||(G=P+g),Ue!==T||f!==0&&Ue.nodeType!==3||(ie=P+f),Ue.nodeType===3&&(P+=Ue.nodeValue.length),(Ce=Ue.firstChild)!==null;)_e=Ue,Ue=Ce;for(;;){if(Ue===n)break t;if(_e===s&&++Te===g&&(G=P),_e===T&&++ke===f&&(ie=P),(Ce=Ue.nextSibling)!==null)break;Ue=_e,_e=Ue.parentNode}Ue=Ce}s=G===-1||ie===-1?null:{start:G,end:ie}}else s=null}s=s||{start:0,end:0}}else s=null;for(_f={focusedElem:n,selectionRange:s},Kl=!1,nn=i;nn!==null;)if(i=nn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,nn=n;else for(;nn!==null;){switch(i=nn,T=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&T!==null){n=void 0,s=i,g=T.memoizedProps,T=T.memoizedState,f=s.stateNode;try{var Qe=qi(s.type,g,s.elementType===s.type);n=f.getSnapshotBeforeUpdate(Qe,T),f.__reactInternalSnapshotBeforeUpdate=n}catch(je){_t(s,s.return,je)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Nf(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,nn=n;break}nn=i.return}}function Ym(n,i,s){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ai(n,s),f&4&&oa(5,s);break;case 1:if(ai(n,s),f&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(P){_t(s,s.return,P)}else{var g=qi(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(P){_t(s,s.return,P)}}f&64&&zm(s),f&512&&sa(s,s.return);break;case 3:if(ai(n,s),f&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Ap(n,i)}catch(P){_t(s,s.return,P)}}break;case 27:i===null&&f&4&&Hm(s);case 26:case 5:ai(n,s),i===null&&f&4&&Vm(s),f&512&&sa(s,s.return);break;case 12:ai(n,s);break;case 13:ai(n,s),f&4&&Wm(n,s),f&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=n1.bind(null,s),x1(n,s))));break;case 22:if(f=s.memoizedState!==null||Pr,!f){i=i!==null&&i.memoizedState!==null||qt,g=Pr;var T=qt;Pr=f,(qt=i)&&!T?li(n,s,(s.subtreeFlags&8772)!==0):ai(n,s),Pr=g,qt=T}break;case 30:break;default:ai(n,s)}}function $m(n){var i=n.alternate;i!==null&&(n.alternate=null,$m(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&io(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Lt=null,En=!1;function Or(n,i,s){for(s=s.child;s!==null;)Jm(n,i,s),s=s.sibling}function Jm(n,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Oe,s)}catch{}switch(s.tag){case 26:qt||pr(s,i),Or(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qt||pr(s,i);var f=Lt,g=En;pi(s.type)&&(Lt=s.stateNode,En=!1),Or(n,i,s),ma(s.stateNode),Lt=f,En=g;break;case 5:qt||pr(s,i);case 6:if(f=Lt,g=En,Lt=null,Or(n,i,s),Lt=f,En=g,Lt!==null)if(En)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(s.stateNode)}catch(T){_t(s,i,T)}else try{Lt.removeChild(s.stateNode)}catch(T){_t(s,i,T)}break;case 18:Lt!==null&&(En?(n=Lt,Bg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Sa(n)):Bg(Lt,s.stateNode));break;case 4:f=Lt,g=En,Lt=s.stateNode.containerInfo,En=!0,Or(n,i,s),Lt=f,En=g;break;case 0:case 11:case 14:case 15:qt||si(2,s,i),qt||si(4,s,i),Or(n,i,s);break;case 1:qt||(pr(s,i),f=s.stateNode,typeof f.componentWillUnmount=="function"&&Gm(s,i,f)),Or(n,i,s);break;case 21:Or(n,i,s);break;case 22:qt=(f=qt)||s.memoizedState!==null,Or(n,i,s),qt=f;break;default:Or(n,i,s)}}function Wm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Sa(n)}catch(s){_t(i,i.return,s)}}function JT(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Km),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Km),i;default:throw Error(o(435,n.tag))}}function ef(n,i){var s=JT(n);i.forEach(function(f){var g=r1.bind(null,n,f);s.has(f)||(s.add(f),f.then(g,g))})}function Dn(n,i){var s=i.deletions;if(s!==null)for(var f=0;f<s.length;f++){var g=s[f],T=n,P=i,G=P;e:for(;G!==null;){switch(G.tag){case 27:if(pi(G.type)){Lt=G.stateNode,En=!1;break e}break;case 5:Lt=G.stateNode,En=!1;break e;case 3:case 4:Lt=G.stateNode.containerInfo,En=!0;break e}G=G.return}if(Lt===null)throw Error(o(160));Jm(T,P,g),Lt=null,En=!1,T=g.alternate,T!==null&&(T.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jm(i,n),i=i.sibling}var tr=null;function jm(n,i){var s=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(i,n),In(n),f&4&&(si(3,n,n.return),oa(3,n),si(5,n,n.return));break;case 1:Dn(i,n),In(n),f&512&&(qt||s===null||pr(s,s.return)),f&64&&Pr&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?f:s.concat(f))));break;case 26:var g=tr;if(Dn(i,n),In(n),f&512&&(qt||s===null||pr(s,s.return)),f&4){var T=s!==null?s.memoizedState:null;if(f=n.memoizedState,s===null)if(f===null)if(n.stateNode===null){e:{f=n.type,s=n.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":T=g.getElementsByTagName("title")[0],(!T||T[Ei]||T[Pt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=g.createElement(f),g.head.insertBefore(T,g.querySelector("head > title"))),ln(T,f,s),T[Pt]=n,Rt(T),f=T;break e;case"link":var P=Hg("link","href",g).get(f+(s.href||""));if(P){for(var G=0;G<P.length;G++)if(T=P[G],T.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&T.getAttribute("rel")===(s.rel==null?null:s.rel)&&T.getAttribute("title")===(s.title==null?null:s.title)&&T.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){P.splice(G,1);break t}}T=g.createElement(f),ln(T,f,s),g.head.appendChild(T);break;case"meta":if(P=Hg("meta","content",g).get(f+(s.content||""))){for(G=0;G<P.length;G++)if(T=P[G],T.getAttribute("content")===(s.content==null?null:""+s.content)&&T.getAttribute("name")===(s.name==null?null:s.name)&&T.getAttribute("property")===(s.property==null?null:s.property)&&T.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&T.getAttribute("charset")===(s.charSet==null?null:s.charSet)){P.splice(G,1);break t}}T=g.createElement(f),ln(T,f,s),g.head.appendChild(T);break;default:throw Error(o(468,f))}T[Pt]=n,Rt(T),f=T}n.stateNode=f}else Kg(g,n.type,n.stateNode);else n.stateNode=qg(g,f,n.memoizedProps);else T!==f?(T===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):T.count--,f===null?Kg(g,n.type,n.stateNode):qg(g,f,n.memoizedProps)):f===null&&n.stateNode!==null&&jc(n,n.memoizedProps,s.memoizedProps)}break;case 27:Dn(i,n),In(n),f&512&&(qt||s===null||pr(s,s.return)),s!==null&&f&4&&jc(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Dn(i,n),In(n),f&512&&(qt||s===null||pr(s,s.return)),n.flags&32){g=n.stateNode;try{Jr(g,"")}catch(Ce){_t(n,n.return,Ce)}}f&4&&n.stateNode!=null&&(g=n.memoizedProps,jc(n,g,s!==null?s.memoizedProps:g)),f&1024&&(Qc=!0);break;case 6:if(Dn(i,n),In(n),f&4){if(n.stateNode===null)throw Error(o(162));f=n.memoizedProps,s=n.stateNode;try{s.nodeValue=f}catch(Ce){_t(n,n.return,Ce)}}break;case 3:if(Vl=null,g=tr,tr=zl(i.containerInfo),Dn(i,n),tr=g,In(n),f&4&&s!==null&&s.memoizedState.isDehydrated)try{Sa(i.containerInfo)}catch(Ce){_t(n,n.return,Ce)}Qc&&(Qc=!1,Xm(n));break;case 4:f=tr,tr=zl(n.stateNode.containerInfo),Dn(i,n),In(n),tr=f;break;case 12:Dn(i,n),In(n);break;case 13:Dn(i,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(af=w()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,ef(n,f)));break;case 22:g=n.memoizedState!==null;var ie=s!==null&&s.memoizedState!==null,Te=Pr,ke=qt;if(Pr=Te||g,qt=ke||ie,Dn(i,n),qt=ke,Pr=Te,In(n),f&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(s===null||ie||Pr||qt||Hi(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){ie=s=i;try{if(T=ie.stateNode,g)P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{G=ie.stateNode;var Ue=ie.memoizedProps.style,_e=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null;G.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Ce){_t(ie,ie.return,Ce)}}}else if(i.tag===6){if(s===null){ie=i;try{ie.stateNode.nodeValue=g?"":ie.memoizedProps}catch(Ce){_t(ie,ie.return,Ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=n.updateQueue,f!==null&&(s=f.retryQueue,s!==null&&(f.retryQueue=null,ef(n,s))));break;case 19:Dn(i,n),In(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,ef(n,f)));break;case 30:break;case 21:break;default:Dn(i,n),In(n)}}function In(n){var i=n.flags;if(i&2){try{for(var s,f=n.return;f!==null;){if(qm(f)){s=f;break}f=f.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var g=s.stateNode,T=Xc(n);Al(n,T,g);break;case 5:var P=s.stateNode;s.flags&32&&(Jr(P,""),s.flags&=-33);var G=Xc(n);Al(n,G,P);break;case 3:case 4:var ie=s.stateNode.containerInfo,Te=Xc(n);Zc(n,Te,ie);break;default:throw Error(o(161))}}catch(ke){_t(n,n.return,ke)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Xm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Xm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ai(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ym(n,i.alternate,i),i=i.sibling}function Hi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:si(4,i,i.return),Hi(i);break;case 1:pr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Gm(i,i.return,s),Hi(i);break;case 27:ma(i.stateNode);case 26:case 5:pr(i,i.return),Hi(i);break;case 22:i.memoizedState===null&&Hi(i);break;case 30:Hi(i);break;default:Hi(i)}n=n.sibling}}function li(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=n,T=i,P=T.flags;switch(T.tag){case 0:case 11:case 15:li(g,T,s),oa(4,T);break;case 1:if(li(g,T,s),f=T,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Te){_t(f,f.return,Te)}if(f=T,g=f.updateQueue,g!==null){var G=f.stateNode;try{var ie=g.shared.hiddenCallbacks;if(ie!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ie.length;g++)Cp(ie[g],G)}catch(Te){_t(f,f.return,Te)}}s&&P&64&&zm(T),sa(T,T.return);break;case 27:Hm(T);case 26:case 5:li(g,T,s),s&&f===null&&P&4&&Vm(T),sa(T,T.return);break;case 12:li(g,T,s);break;case 13:li(g,T,s),s&&P&4&&Wm(g,T);break;case 22:T.memoizedState===null&&li(g,T,s),sa(T,T.return);break;case 30:break;default:li(g,T,s)}i=i.sibling}}function tf(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Ks(s))}function nf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ks(n))}function mr(n,i,s,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zm(n,i,s,f),i=i.sibling}function Zm(n,i,s,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:mr(n,i,s,f),g&2048&&oa(9,i);break;case 1:mr(n,i,s,f);break;case 3:mr(n,i,s,f),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ks(n)));break;case 12:if(g&2048){mr(n,i,s,f),n=i.stateNode;try{var T=i.memoizedProps,P=T.id,G=T.onPostCommit;typeof G=="function"&&G(P,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ie){_t(i,i.return,ie)}}else mr(n,i,s,f);break;case 13:mr(n,i,s,f);break;case 23:break;case 22:T=i.stateNode,P=i.alternate,i.memoizedState!==null?T._visibility&2?mr(n,i,s,f):aa(n,i):T._visibility&2?mr(n,i,s,f):(T._visibility|=2,Io(n,i,s,f,(i.subtreeFlags&10256)!==0)),g&2048&&tf(P,i);break;case 24:mr(n,i,s,f),g&2048&&nf(i.alternate,i);break;default:mr(n,i,s,f)}}function Io(n,i,s,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var T=n,P=i,G=s,ie=f,Te=P.flags;switch(P.tag){case 0:case 11:case 15:Io(T,P,G,ie,g),oa(8,P);break;case 23:break;case 22:var ke=P.stateNode;P.memoizedState!==null?ke._visibility&2?Io(T,P,G,ie,g):aa(T,P):(ke._visibility|=2,Io(T,P,G,ie,g)),g&&Te&2048&&tf(P.alternate,P);break;case 24:Io(T,P,G,ie,g),g&&Te&2048&&nf(P.alternate,P);break;default:Io(T,P,G,ie,g)}i=i.sibling}}function aa(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,f=i,g=f.flags;switch(f.tag){case 22:aa(s,f),g&2048&&tf(f.alternate,f);break;case 24:aa(s,f),g&2048&&nf(f.alternate,f);break;default:aa(s,f)}i=i.sibling}}var la=8192;function ko(n){if(n.subtreeFlags&la)for(n=n.child;n!==null;)Qm(n),n=n.sibling}function Qm(n){switch(n.tag){case 26:ko(n),n.flags&la&&n.memoizedState!==null&&k1(tr,n.memoizedState,n.memoizedProps);break;case 5:ko(n);break;case 3:case 4:var i=tr;tr=zl(n.stateNode.containerInfo),ko(n),tr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=la,la=16777216,ko(n),la=i):ko(n));break;default:ko(n)}}function eg(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ua(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];nn=f,ng(f,n)}eg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tg(n),n=n.sibling}function tg(n){switch(n.tag){case 0:case 11:case 15:ua(n),n.flags&2048&&si(9,n,n.return);break;case 3:ua(n);break;case 12:ua(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Nl(n)):ua(n);break;default:ua(n)}}function Nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];nn=f,ng(f,n)}eg(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:si(8,i,i.return),Nl(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Nl(i));break;default:Nl(i)}n=n.sibling}}function ng(n,i){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:si(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var f=s.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ks(s.memoizedState.cache)}if(f=s.child,f!==null)f.return=s,nn=f;else e:for(s=n;nn!==null;){f=nn;var g=f.sibling,T=f.return;if($m(f),f===s){nn=null;break e}if(g!==null){g.return=T,nn=g;break e}nn=T}}}var WT={getCacheForType:function(n){var i=fn(jt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},jT=typeof WeakMap=="function"?WeakMap:Map,yt=0,At=null,lt=null,ft=0,vt=0,kn=null,ui=!1,Lo=!1,rf=!1,Fr=0,Ft=0,ci=0,Ki=0,of=0,Vn=0,Uo=0,ca=null,_n=null,sf=!1,af=0,Rl=1/0,Ml=null,fi=null,an=0,di=null,Bo=null,Po=0,lf=0,uf=null,rg=null,fa=0,cf=null;function Ln(){if((yt&2)!==0&&ft!==0)return ft&-ft;if(se.T!==null){var n=Eo;return n!==0?n:yf()}return bs()}function ig(){Vn===0&&(Vn=(ft&536870912)===0||pt?br():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Vn}function Un(n,i,s){(n===At&&(vt===2||vt===9)||n.cancelPendingCommit!==null)&&(Oo(n,0),hi(n,ft,Vn,!1)),Ct(n,s),((yt&2)===0||n!==At)&&(n===At&&((yt&2)===0&&(Ki|=s),Ft===4&&hi(n,ft,Vn,!1)),gr(n))}function og(n,i,s){if((yt&6)!==0)throw Error(o(327));var f=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Nn(n,i),g=f?QT(n,i):hf(n,i,!0),T=f;do{if(g===0){Lo&&!f&&hi(n,i,0,!1);break}else{if(s=n.current.alternate,T&&!XT(s)){g=hf(n,i,!1),T=!1;continue}if(g===2){if(T=i,n.errorRecoveryDisabledLanes&T)var P=0;else P=n.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){i=P;e:{var G=n;g=ca;var ie=G.current.memoizedState.isDehydrated;if(ie&&(Oo(G,P).flags|=256),P=hf(G,P,!1),P!==2){if(rf&&!ie){G.errorRecoveryDisabledLanes|=T,Ki|=T,g=4;break e}T=_n,_n=g,T!==null&&(_n===null?_n=T:_n.push.apply(_n,T))}g=P}if(T=!1,g!==2)continue}}if(g===1){Oo(n,0),hi(n,i,0,!0);break}e:{switch(f=n,T=g,T){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:hi(f,i,Vn,!ui);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(g=af+300-w(),10<g)){if(hi(f,i,Vn,!ui),on(f,0,!0)!==0)break e;f.timeoutHandle=Lg(sg.bind(null,f,s,_n,Ml,sf,i,Vn,Ki,Uo,ui,T,2,-0,0),g);break e}sg(f,s,_n,Ml,sf,i,Vn,Ki,Uo,ui,T,0,-0,0)}}break}while(!0);gr(n)}function sg(n,i,s,f,g,T,P,G,ie,Te,ke,Ue,_e,Ce){if(n.timeoutHandle=-1,Ue=i.subtreeFlags,(Ue&8192||(Ue&16785408)===16785408)&&(va={stylesheets:null,count:0,unsuspend:I1},Qm(i),Ue=L1(),Ue!==null)){n.cancelPendingCommit=Ue(hg.bind(null,n,i,T,s,f,g,P,G,ie,ke,1,_e,Ce)),hi(n,T,P,!Te);return}hg(n,i,T,s,f,g,P,G,ie)}function XT(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var f=0;f<s.length;f++){var g=s[f],T=g.getSnapshot;g=g.value;try{if(!Rn(T(),g))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hi(n,i,s,f){i&=~of,i&=~Ki,n.suspendedLanes|=i,n.pingedLanes&=~i,f&&(n.warmLanes|=i),f=n.expirationTimes;for(var g=i;0<g;){var T=31-tt(g),P=1<<T;f[T]=-1,g&=~P}s!==0&&Ts(n,s,i)}function Dl(){return(yt&6)===0?(da(0),!1):!0}function ff(){if(lt!==null){if(vt===0)var n=lt.return;else n=lt,Dr=Fi=null,Ac(n),Mo=null,na=0,n=lt;for(;n!==null;)Fm(n.alternate,n),n=n.return;lt=null}}function Oo(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,m1(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),ff(),At=n,lt=s=Nr(n.current,null),ft=i,vt=0,kn=null,ui=!1,Lo=Nn(n,i),rf=!1,Uo=Vn=of=Ki=ci=Ft=0,_n=ca=null,sf=!1,(i&8)!==0&&(i|=i&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=i;0<f;){var g=31-tt(f),T=1<<g;i|=n[g],f&=~T}return Fr=i,Qa(),s}function ag(n,i){it=null,se.H=vl,i===$s||i===ll?(i=Ep(),vt=3):i===Tp?(i=Ep(),vt=4):vt=i===_m?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,lt===null&&(Ft=1,Sl(n,Pn(i,n.current)))}function lg(){var n=se.H;return se.H=vl,n===null?vl:n}function ug(){var n=se.A;return se.A=WT,n}function df(){Ft=4,ui||(ft&4194048)!==ft&&Gn.current!==null||(Lo=!0),(ci&134217727)===0&&(Ki&134217727)===0||At===null||hi(At,ft,Vn,!1)}function hf(n,i,s){var f=yt;yt|=2;var g=lg(),T=ug();(At!==n||ft!==i)&&(Ml=null,Oo(n,i)),i=!1;var P=Ft;e:do try{if(vt!==0&&lt!==null){var G=lt,ie=kn;switch(vt){case 8:ff(),P=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var Te=vt;if(vt=0,kn=null,Fo(n,G,ie,Te),s&&Lo){P=0;break e}break;default:Te=vt,vt=0,kn=null,Fo(n,G,ie,Te)}}ZT(),P=Ft;break}catch(ke){ag(n,ke)}while(!0);return i&&n.shellSuspendCounter++,Dr=Fi=null,yt=f,se.H=g,se.A=T,lt===null&&(At=null,ft=0,Qa()),P}function ZT(){for(;lt!==null;)cg(lt)}function QT(n,i){var s=yt;yt|=2;var f=lg(),g=ug();At!==n||ft!==i?(Ml=null,Rl=w()+500,Oo(n,i)):Lo=Nn(n,i);e:do try{if(vt!==0&&lt!==null){i=lt;var T=kn;t:switch(vt){case 1:vt=0,kn=null,Fo(n,i,T,1);break;case 2:case 9:if(bp(T)){vt=0,kn=null,fg(i);break}i=function(){vt!==2&&vt!==9||At!==n||(vt=7),gr(n)},T.then(i,i);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:bp(T)?(vt=0,kn=null,fg(i)):(vt=0,kn=null,Fo(n,i,T,7));break;case 5:var P=null;switch(lt.tag){case 26:P=lt.memoizedState;case 5:case 27:var G=lt;if(!P||Yg(P)){vt=0,kn=null;var ie=G.sibling;if(ie!==null)lt=ie;else{var Te=G.return;Te!==null?(lt=Te,Il(Te)):lt=null}break t}}vt=0,kn=null,Fo(n,i,T,5);break;case 6:vt=0,kn=null,Fo(n,i,T,6);break;case 8:ff(),Ft=6;break e;default:throw Error(o(462))}}e1();break}catch(ke){ag(n,ke)}while(!0);return Dr=Fi=null,se.H=f,se.A=g,yt=s,lt!==null?0:(At=null,ft=0,Qa(),Ft)}function e1(){for(;lt!==null&&!X();)cg(lt)}function cg(n){var i=Pm(n.alternate,n,Fr);n.memoizedProps=n.pendingProps,i===null?Il(n):lt=i}function fg(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Dm(s,i,i.pendingProps,i.type,void 0,ft);break;case 11:i=Dm(s,i,i.pendingProps,i.type.render,i.ref,ft);break;case 5:Ac(i);default:Fm(s,i),i=lt=dp(i,Fr),i=Pm(s,i,Fr)}n.memoizedProps=n.pendingProps,i===null?Il(n):lt=i}function Fo(n,i,s,f){Dr=Fi=null,Ac(i),Mo=null,na=0;var g=i.return;try{if(qT(n,g,i,s,ft)){Ft=1,Sl(n,Pn(s,n.current)),lt=null;return}}catch(T){if(g!==null)throw lt=g,T;Ft=1,Sl(n,Pn(s,n.current)),lt=null;return}i.flags&32768?(pt||f===1?n=!0:Lo||(ft&536870912)!==0?n=!1:(ui=n=!0,(f===2||f===9||f===3||f===6)&&(f=Gn.current,f!==null&&f.tag===13&&(f.flags|=16384))),dg(i,n)):Il(i)}function Il(n){var i=n;do{if((i.flags&32768)!==0){dg(i,ui);return}n=i.return;var s=KT(i.alternate,i,Fr);if(s!==null){lt=s;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=n}while(i!==null);Ft===0&&(Ft=5)}function dg(n,i){do{var s=YT(n.alternate,n);if(s!==null){s.flags&=32767,lt=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){lt=n;return}lt=n=s}while(n!==null);Ft=6,lt=null}function hg(n,i,s,f,g,T,P,G,ie){n.cancelPendingCommit=null;do kl();while(an!==0);if((yt&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(T=i.lanes|i.childLanes,T|=nc,or(n,s,T,P,G,ie),n===At&&(lt=At=null,ft=0),Bo=i,di=n,Po=s,lf=T,uf=g,rg=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,i1(Z,function(){return vg(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=se.T,se.T=null,g=ne.p,ne.p=2,P=yt,yt|=4;try{$T(n,i,s)}finally{yt=P,ne.p=g,se.T=f}}an=1,pg(),mg(),gg()}}function pg(){if(an===1){an=0;var n=di,i=Bo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=se.T,se.T=null;var f=ne.p;ne.p=2;var g=yt;yt|=4;try{jm(i,n);var T=_f,P=np(n.containerInfo),G=T.focusedElem,ie=T.selectionRange;if(P!==G&&G&&G.ownerDocument&&tp(G.ownerDocument.documentElement,G)){if(ie!==null&&Xu(G)){var Te=ie.start,ke=ie.end;if(ke===void 0&&(ke=Te),"selectionStart"in G)G.selectionStart=Te,G.selectionEnd=Math.min(ke,G.value.length);else{var Ue=G.ownerDocument||document,_e=Ue&&Ue.defaultView||window;if(_e.getSelection){var Ce=_e.getSelection(),Qe=G.textContent.length,je=Math.min(ie.start,Qe),bt=ie.end===void 0?je:Math.min(ie.end,Qe);!Ce.extend&&je>bt&&(P=bt,bt=je,je=P);var ge=ep(G,je),he=ep(G,bt);if(ge&&he&&(Ce.rangeCount!==1||Ce.anchorNode!==ge.node||Ce.anchorOffset!==ge.offset||Ce.focusNode!==he.node||Ce.focusOffset!==he.offset)){var ve=Ue.createRange();ve.setStart(ge.node,ge.offset),Ce.removeAllRanges(),je>bt?(Ce.addRange(ve),Ce.extend(he.node,he.offset)):(ve.setEnd(he.node,he.offset),Ce.addRange(ve))}}}}for(Ue=[],Ce=G;Ce=Ce.parentNode;)Ce.nodeType===1&&Ue.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ue.length;G++){var Le=Ue[G];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Kl=!!Ef,_f=Ef=null}finally{yt=g,ne.p=f,se.T=s}}n.current=i,an=2}}function mg(){if(an===2){an=0;var n=di,i=Bo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=se.T,se.T=null;var f=ne.p;ne.p=2;var g=yt;yt|=4;try{Ym(n,i.alternate,i)}finally{yt=g,ne.p=f,se.T=s}}an=3}}function gg(){if(an===4||an===3){an=0,M();var n=di,i=Bo,s=Po,f=rg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?an=5:(an=0,Bo=di=null,yg(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(fi=null),kt(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Oe,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=se.T,g=ne.p,ne.p=2,se.T=null;try{for(var T=n.onRecoverableError,P=0;P<f.length;P++){var G=f[P];T(G.value,{componentStack:G.stack})}}finally{se.T=i,ne.p=g}}(Po&3)!==0&&kl(),gr(n),g=n.pendingLanes,(s&4194090)!==0&&(g&42)!==0?n===cf?fa++:(fa=0,cf=n):fa=0,da(0)}}function yg(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ks(i)))}function kl(n){return pg(),mg(),gg(),vg()}function vg(){if(an!==5)return!1;var n=di,i=lf;lf=0;var s=kt(Po),f=se.T,g=ne.p;try{ne.p=32>s?32:s,se.T=null,s=uf,uf=null;var T=di,P=Po;if(an=0,Bo=di=null,Po=0,(yt&6)!==0)throw Error(o(331));var G=yt;if(yt|=4,tg(T.current),Zm(T,T.current,P,s),yt=G,da(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Oe,T)}catch{}return!0}finally{ne.p=g,se.T=f,yg(n,i)}}function wg(n,i,s){i=Pn(s,i),i=Gc(n.stateNode,i,2),n=ni(n,i,2),n!==null&&(Ct(n,2),gr(n))}function _t(n,i,s){if(n.tag===3)wg(n,n,s);else for(;i!==null;){if(i.tag===3){wg(i,n,s);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(fi===null||!fi.has(f))){n=Pn(s,n),s=Sm(2),f=ni(i,s,2),f!==null&&(Em(s,f,i,n),Ct(f,2),gr(f));break}}i=i.return}}function pf(n,i,s){var f=n.pingCache;if(f===null){f=n.pingCache=new jT;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(s)||(rf=!0,g.add(s),n=t1.bind(null,n,i,s),i.then(n,n))}function t1(n,i,s){var f=n.pingCache;f!==null&&f.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,At===n&&(ft&s)===s&&(Ft===4||Ft===3&&(ft&62914560)===ft&&300>w()-af?(yt&2)===0&&Oo(n,0):of|=s,Uo===ft&&(Uo=0)),gr(n)}function xg(n,i){i===0&&(i=Gt()),n=xo(n,i),n!==null&&(Ct(n,i),gr(n))}function n1(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),xg(n,s)}function r1(n,i){var s=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(s=g.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(i),xg(n,s)}function i1(n,i){return ue(n,i)}var Ll=null,zo=null,mf=!1,Ul=!1,gf=!1,Yi=0;function gr(n){n!==zo&&n.next===null&&(zo===null?Ll=zo=n:zo=zo.next=n),Ul=!0,mf||(mf=!0,s1())}function da(n,i){if(!gf&&Ul){gf=!0;do for(var s=!1,f=Ll;f!==null;){if(n!==0){var g=f.pendingLanes;if(g===0)var T=0;else{var P=f.suspendedLanes,G=f.pingedLanes;T=(1<<31-tt(42|n)+1)-1,T&=g&~(P&~G),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(s=!0,Eg(f,T))}else T=ft,T=on(f,f===At?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(T&3)===0||Nn(f,T)||(s=!0,Eg(f,T));f=f.next}while(s);gf=!1}}function o1(){Tg()}function Tg(){Ul=mf=!1;var n=0;Yi!==0&&(p1()&&(n=Yi),Yi=0);for(var i=w(),s=null,f=Ll;f!==null;){var g=f.next,T=bg(f,i);T===0?(f.next=null,s===null?Ll=g:s.next=g,g===null&&(zo=s)):(s=f,(n!==0||(T&3)!==0)&&(Ul=!0)),f=g}da(n)}function bg(n,i){for(var s=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,T=n.pendingLanes&-62914561;0<T;){var P=31-tt(T),G=1<<P,ie=g[P];ie===-1?((G&s)===0||(G&f)!==0)&&(g[P]=bi(G,i)):ie<=i&&(n.expiredLanes|=G),T&=~G}if(i=At,s=ft,s=on(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,s===0||n===i&&(vt===2||vt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&R(f),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Nn(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(f!==null&&R(f),kt(s)){case 2:case 8:s=$;break;case 32:s=Z;break;case 268435456:s=we;break;default:s=Z}return f=Sg.bind(null,n),s=ue(s,f),n.callbackPriority=i,n.callbackNode=s,i}return f!==null&&f!==null&&R(f),n.callbackPriority=2,n.callbackNode=null,2}function Sg(n,i){if(an!==0&&an!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(kl()&&n.callbackNode!==s)return null;var f=ft;return f=on(n,n===At?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(og(n,f,i),bg(n,w()),n.callbackNode!=null&&n.callbackNode===s?Sg.bind(null,n):null)}function Eg(n,i){if(kl())return null;og(n,i,!0)}function s1(){g1(function(){(yt&6)!==0?ue(C,o1):Tg()})}function yf(){return Yi===0&&(Yi=br()),Yi}function _g(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:uo(""+n)}function Cg(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function a1(n,i,s,f,g){if(i==="submit"&&s&&s.stateNode===g){var T=_g((g[un]||null).action),P=f.submitter;P&&(i=(i=P[un]||null)?_g(i.formAction):P.getAttribute("formAction"),i!==null&&(T=i,P=null));var G=new Mi("action","action",null,f,g);n.push({event:G,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Yi!==0){var ie=P?Cg(g,P):new FormData(g);Bc(s,{pending:!0,data:ie,method:g.method,action:T},null,ie)}}else typeof T=="function"&&(G.preventDefault(),ie=P?Cg(g,P):new FormData(g),Bc(s,{pending:!0,data:ie,method:g.method,action:T},T,ie))},currentTarget:g}]})}}for(var vf=0;vf<tc.length;vf++){var wf=tc[vf],l1=wf.toLowerCase(),u1=wf[0].toUpperCase()+wf.slice(1);er(l1,"on"+u1)}er(op,"onAnimationEnd"),er(sp,"onAnimationIteration"),er(ap,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(CT,"onTransitionRun"),er(AT,"onTransitionStart"),er(NT,"onTransitionCancel"),er(lp,"onTransitionEnd"),ur("onMouseEnter",["mouseout","mouseover"]),ur("onMouseLeave",["mouseout","mouseover"]),ur("onPointerEnter",["pointerout","pointerover"]),ur("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ha));function Ag(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var f=n[s],g=f.event;f=f.listeners;e:{var T=void 0;if(i)for(var P=f.length-1;0<=P;P--){var G=f[P],ie=G.instance,Te=G.currentTarget;if(G=G.listener,ie!==T&&g.isPropagationStopped())break e;T=G,g.currentTarget=Te;try{T(g)}catch(ke){bl(ke)}g.currentTarget=null,T=ie}else for(P=0;P<f.length;P++){if(G=f[P],ie=G.instance,Te=G.currentTarget,G=G.listener,ie!==T&&g.isPropagationStopped())break e;T=G,g.currentTarget=Te;try{T(g)}catch(ke){bl(ke)}g.currentTarget=null,T=ie}}}}function ut(n,i){var s=i[Es];s===void 0&&(s=i[Es]=new Set);var f=n+"__bubble";s.has(f)||(Ng(i,n,2,!1),s.add(f))}function xf(n,i,s){var f=0;i&&(f|=4),Ng(s,n,f,i)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Tf(n){if(!n[Bl]){n[Bl]=!0,oo.forEach(function(s){s!=="selectionchange"&&(c1.has(s)||xf(s,!1,n),xf(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Bl]||(i[Bl]=!0,xf("selectionchange",!1,i))}}function Ng(n,i,s,f){switch(Zg(i)){case 2:var g=P1;break;case 8:g=O1;break;default:g=Uf}s=g.bind(null,i,s,n),g=void 0,!fo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(i,s,{capture:!0,passive:g}):n.addEventListener(i,s,!0):g!==void 0?n.addEventListener(i,s,{passive:g}):n.addEventListener(i,s,!1)}function bf(n,i,s,f,g){var T=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var P=f.tag;if(P===3||P===4){var G=f.stateNode.containerInfo;if(G===g)break;if(P===4)for(P=f.return;P!==null;){var ie=P.tag;if((ie===3||ie===4)&&P.stateNode.containerInfo===g)return;P=P.return}for(;G!==null;){if(P=Kr(G),P===null)return;if(ie=P.tag,ie===5||ie===6||ie===26||ie===27){f=T=P;continue e}G=G.parentNode}}f=f.return}Ja(function(){var Te=T,ke=Is(s),Ue=[];e:{var _e=up.get(n);if(_e!==void 0){var Ce=Mi,Qe=n;switch(n){case"keypress":if(po(s)===0)break e;case"keydown":case"keyup":Ce=iT;break;case"focusin":Qe="focus",Ce=Ze;break;case"focusout":Qe="blur",Ce=Ze;break;case"beforeblur":case"afterblur":Ce=Ze;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Be;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=qe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=aT;break;case op:case sp:case ap:Ce=Mt;break;case lp:Ce=uT;break;case"scroll":case"scrollend":Ce=Se;break;case"wheel":Ce=fT;break;case"copy":case"cut":case"paste":Ce=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=zh;break;case"toggle":case"beforetoggle":Ce=hT}var je=(i&4)!==0,bt=!je&&(n==="scroll"||n==="scrollend"),ge=je?_e!==null?_e+"Capture":null:_e;je=[];for(var he=Te,ve;he!==null;){var Le=he;if(ve=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||ve===null||ge===null||(Le=Cr(he,ge),Le!=null&&je.push(pa(he,Le,ve))),bt)break;he=he.return}0<je.length&&(_e=new Ce(_e,Qe,null,s,ke),Ue.push({event:_e,listeners:je}))}}if((i&7)===0){e:{if(_e=n==="mouseover"||n==="pointerover",Ce=n==="mouseout"||n==="pointerout",_e&&s!==Ds&&(Qe=s.relatedTarget||s.fromElement)&&(Kr(Qe)||Qe[sr]))break e;if((Ce||_e)&&(_e=ke.window===ke?ke:(_e=ke.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ce?(Qe=s.relatedTarget||s.toElement,Ce=Te,Qe=Qe?Kr(Qe):null,Qe!==null&&(bt=c(Qe),je=Qe.tag,Qe!==bt||je!==5&&je!==27&&je!==6)&&(Qe=null)):(Ce=null,Qe=Te),Ce!==Qe)){if(je=Be,Le="onMouseLeave",ge="onMouseEnter",he="mouse",(n==="pointerout"||n==="pointerover")&&(je=zh,Le="onPointerLeave",ge="onPointerEnter",he="pointer"),bt=Ce==null?_e:jn(Ce),ve=Qe==null?_e:jn(Qe),_e=new je(Le,he+"leave",Ce,s,ke),_e.target=bt,_e.relatedTarget=ve,Le=null,Kr(ke)===Te&&(je=new je(ge,he+"enter",Qe,s,ke),je.target=ve,je.relatedTarget=bt,Le=je),bt=Le,Ce&&Qe)t:{for(je=Ce,ge=Qe,he=0,ve=je;ve;ve=Go(ve))he++;for(ve=0,Le=ge;Le;Le=Go(Le))ve++;for(;0<he-ve;)je=Go(je),he--;for(;0<ve-he;)ge=Go(ge),ve--;for(;he--;){if(je===ge||ge!==null&&je===ge.alternate)break t;je=Go(je),ge=Go(ge)}je=null}else je=null;Ce!==null&&Rg(Ue,_e,Ce,je,!1),Qe!==null&&bt!==null&&Rg(Ue,bt,Qe,je,!0)}}e:{if(_e=Te?jn(Te):window,Ce=_e.nodeName&&_e.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&_e.type==="file")var Ye=Jh;else if(Yh(_e))if(Wh)Ye=ST;else{Ye=TT;var at=xT}else Ce=_e.nodeName,!Ce||Ce.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?Te&&Ms(Te.elementType)&&(Ye=Jh):Ye=bT;if(Ye&&(Ye=Ye(n,Te))){$h(Ue,Ye,s,ke);break e}at&&at(n,_e,Te),n==="focusout"&&Te&&_e.type==="number"&&Te.memoizedProps.value!=null&&Ri(_e,"number",_e.value)}switch(at=Te?jn(Te):window,n){case"focusin":(Yh(at)||at.contentEditable==="true")&&(yo=at,Zu=Te,zs=null);break;case"focusout":zs=Zu=yo=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,rp(Ue,s,ke);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":rp(Ue,s,ke)}var Je;if(Ju)e:{switch(n){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else go?Hh(n,s)&&(Xe="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Xe="onCompositionStart");Xe&&(Gh&&s.locale!=="ko"&&(go||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&go&&(Je=Wa()):(fr=ke,ks="value"in fr?fr.value:fr.textContent,go=!0)),at=Pl(Te,Xe),0<at.length&&(Xe=new Us(Xe,n,null,s,ke),Ue.push({event:Xe,listeners:at}),Je?Xe.data=Je:(Je=Kh(s),Je!==null&&(Xe.data=Je)))),(Je=mT?gT(n,s):yT(n,s))&&(Xe=Pl(Te,"onBeforeInput"),0<Xe.length&&(at=new Us("onBeforeInput","beforeinput",null,s,ke),Ue.push({event:at,listeners:Xe}),at.data=Je)),a1(Ue,n,Te,s,ke)}Ag(Ue,i)})}function pa(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Pl(n,i){for(var s=i+"Capture",f=[];n!==null;){var g=n,T=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||T===null||(g=Cr(n,s),g!=null&&f.unshift(pa(n,g,T)),g=Cr(n,i),g!=null&&f.push(pa(n,g,T))),n.tag===3)return f;n=n.return}return[]}function Go(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Rg(n,i,s,f,g){for(var T=i._reactName,P=[];s!==null&&s!==f;){var G=s,ie=G.alternate,Te=G.stateNode;if(G=G.tag,ie!==null&&ie===f)break;G!==5&&G!==26&&G!==27||Te===null||(ie=Te,g?(Te=Cr(s,T),Te!=null&&P.unshift(pa(s,Te,ie))):g||(Te=Cr(s,T),Te!=null&&P.push(pa(s,Te,ie)))),s=s.return}P.length!==0&&n.push({event:i,listeners:P})}var f1=/\r\n?/g,d1=/\u0000|\uFFFD/g;function Mg(n){return(typeof n=="string"?n:""+n).replace(f1,`
`).replace(d1,"")}function Dg(n,i){return i=Mg(i),Mg(n)===i}function Ol(){}function Tt(n,i,s,f,g,T){switch(s){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||Jr(n,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&Jr(n,""+f);break;case"className":Zn(n,"class",f);break;case"tabIndex":Zn(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(n,s,f);break;case"style":Ya(n,f,T);break;case"data":if(i!=="object"){Zn(n,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(s);break}f=uo(""+f),n.setAttribute(s,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(s==="formAction"?(i!=="input"&&Tt(n,i,"name",g.name,g,null),Tt(n,i,"formEncType",g.formEncType,g,null),Tt(n,i,"formMethod",g.formMethod,g,null),Tt(n,i,"formTarget",g.formTarget,g,null)):(Tt(n,i,"encType",g.encType,g,null),Tt(n,i,"method",g.method,g,null),Tt(n,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(s);break}f=uo(""+f),n.setAttribute(s,f);break;case"onClick":f!=null&&(n.onclick=Ol);break;case"onScroll":f!=null&&ut("scroll",n);break;case"onScrollEnd":f!=null&&ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(s=f.__html,s!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}s=uo(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,""+f):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":f===!0?n.setAttribute(s,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(s,f):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(s,f):n.removeAttribute(s);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(s):n.setAttribute(s,f);break;case"popover":ut("beforetoggle",n),ut("toggle",n),Ci(n,"popover",f);break;case"xlinkActuate":wn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":wn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":wn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":wn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":wn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":wn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":wn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":wn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":wn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ci(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hu.get(s)||s,Ci(n,s,f))}}function Sf(n,i,s,f,g,T){switch(s){case"style":Ya(n,f,T);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(s=f.__html,s!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"children":typeof f=="string"?Jr(n,f):(typeof f=="number"||typeof f=="bigint")&&Jr(n,""+f);break;case"onScroll":f!=null&&ut("scroll",n);break;case"onScrollEnd":f!=null&&ut("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),i=s.slice(2,g?s.length-7:void 0),T=n[un]||null,T=T!=null?T[s]:null,typeof T=="function"&&n.removeEventListener(i,T,g),typeof f=="function")){typeof T!="function"&&T!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,f,g);break e}s in n?n[s]=f:f===!0?n.setAttribute(s,""):Ci(n,s,f)}}}function ln(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",n),ut("load",n);var f=!1,g=!1,T;for(T in s)if(s.hasOwnProperty(T)){var P=s[T];if(P!=null)switch(T){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Tt(n,i,T,P,s,null)}}g&&Tt(n,i,"srcSet",s.srcSet,s,null),f&&Tt(n,i,"src",s.src,s,null);return;case"input":ut("invalid",n);var G=T=P=g=null,ie=null,Te=null;for(f in s)if(s.hasOwnProperty(f)){var ke=s[f];if(ke!=null)switch(f){case"name":g=ke;break;case"type":P=ke;break;case"checked":ie=ke;break;case"defaultChecked":Te=ke;break;case"value":T=ke;break;case"defaultValue":G=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(o(137,i));break;default:Tt(n,i,f,ke,s,null)}}qa(n,T,G,ie,Te,P,g,!1),ao(n);return;case"select":ut("invalid",n),f=P=T=null;for(g in s)if(s.hasOwnProperty(g)&&(G=s[g],G!=null))switch(g){case"value":T=G;break;case"defaultValue":P=G;break;case"multiple":f=G;default:Tt(n,i,g,G,s,null)}i=T,s=P,n.multiple=!!f,i!=null?$r(n,!!f,i,!1):s!=null&&$r(n,!!f,s,!0);return;case"textarea":ut("invalid",n),T=g=f=null;for(P in s)if(s.hasOwnProperty(P)&&(G=s[P],G!=null))switch(P){case"value":f=G;break;case"defaultValue":g=G;break;case"children":T=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(91));break;default:Tt(n,i,P,G,s,null)}Ka(n,f,g,T),ao(n);return;case"option":for(ie in s)if(s.hasOwnProperty(ie)&&(f=s[ie],f!=null))switch(ie){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Tt(n,i,ie,f,s,null)}return;case"dialog":ut("beforetoggle",n),ut("toggle",n),ut("cancel",n),ut("close",n);break;case"iframe":case"object":ut("load",n);break;case"video":case"audio":for(f=0;f<ha.length;f++)ut(ha[f],n);break;case"image":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"embed":case"source":case"link":ut("error",n),ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in s)if(s.hasOwnProperty(Te)&&(f=s[Te],f!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Tt(n,i,Te,f,s,null)}return;default:if(Ms(i)){for(ke in s)s.hasOwnProperty(ke)&&(f=s[ke],f!==void 0&&Sf(n,i,ke,f,s,void 0));return}}for(G in s)s.hasOwnProperty(G)&&(f=s[G],f!=null&&Tt(n,i,G,f,s,null))}function h1(n,i,s,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,T=null,P=null,G=null,ie=null,Te=null,ke=null;for(Ce in s){var Ue=s[Ce];if(s.hasOwnProperty(Ce)&&Ue!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":ie=Ue;default:f.hasOwnProperty(Ce)||Tt(n,i,Ce,null,f,Ue)}}for(var _e in f){var Ce=f[_e];if(Ue=s[_e],f.hasOwnProperty(_e)&&(Ce!=null||Ue!=null))switch(_e){case"type":T=Ce;break;case"name":g=Ce;break;case"checked":Te=Ce;break;case"defaultChecked":ke=Ce;break;case"value":P=Ce;break;case"defaultValue":G=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(o(137,i));break;default:Ce!==Ue&&Tt(n,i,_e,Ce,f,Ue)}}lo(n,P,G,ie,Te,ke,T,g);return;case"select":Ce=P=G=_e=null;for(T in s)if(ie=s[T],s.hasOwnProperty(T)&&ie!=null)switch(T){case"value":break;case"multiple":Ce=ie;default:f.hasOwnProperty(T)||Tt(n,i,T,null,f,ie)}for(g in f)if(T=f[g],ie=s[g],f.hasOwnProperty(g)&&(T!=null||ie!=null))switch(g){case"value":_e=T;break;case"defaultValue":G=T;break;case"multiple":P=T;default:T!==ie&&Tt(n,i,g,T,f,ie)}i=G,s=P,f=Ce,_e!=null?$r(n,!!s,_e,!1):!!f!=!!s&&(i!=null?$r(n,!!s,i,!0):$r(n,!!s,s?[]:"",!1));return;case"textarea":Ce=_e=null;for(G in s)if(g=s[G],s.hasOwnProperty(G)&&g!=null&&!f.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Tt(n,i,G,null,f,g)}for(P in f)if(g=f[P],T=s[P],f.hasOwnProperty(P)&&(g!=null||T!=null))switch(P){case"value":_e=g;break;case"defaultValue":Ce=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==T&&Tt(n,i,P,g,f,T)}Ha(n,_e,Ce);return;case"option":for(var Qe in s)if(_e=s[Qe],s.hasOwnProperty(Qe)&&_e!=null&&!f.hasOwnProperty(Qe))switch(Qe){case"selected":n.selected=!1;break;default:Tt(n,i,Qe,null,f,_e)}for(ie in f)if(_e=f[ie],Ce=s[ie],f.hasOwnProperty(ie)&&_e!==Ce&&(_e!=null||Ce!=null))switch(ie){case"selected":n.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:Tt(n,i,ie,_e,f,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in s)_e=s[je],s.hasOwnProperty(je)&&_e!=null&&!f.hasOwnProperty(je)&&Tt(n,i,je,null,f,_e);for(Te in f)if(_e=f[Te],Ce=s[Te],f.hasOwnProperty(Te)&&_e!==Ce&&(_e!=null||Ce!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(o(137,i));break;default:Tt(n,i,Te,_e,f,Ce)}return;default:if(Ms(i)){for(var bt in s)_e=s[bt],s.hasOwnProperty(bt)&&_e!==void 0&&!f.hasOwnProperty(bt)&&Sf(n,i,bt,void 0,f,_e);for(ke in f)_e=f[ke],Ce=s[ke],!f.hasOwnProperty(ke)||_e===Ce||_e===void 0&&Ce===void 0||Sf(n,i,ke,_e,f,Ce);return}}for(var ge in s)_e=s[ge],s.hasOwnProperty(ge)&&_e!=null&&!f.hasOwnProperty(ge)&&Tt(n,i,ge,null,f,_e);for(Ue in f)_e=f[Ue],Ce=s[Ue],!f.hasOwnProperty(Ue)||_e===Ce||_e==null&&Ce==null||Tt(n,i,Ue,_e,f,Ce)}var Ef=null,_f=null;function Fl(n){return n.nodeType===9?n:n.ownerDocument}function Ig(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kg(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Cf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Af=null;function p1(){var n=window.event;return n&&n.type==="popstate"?n===Af?!1:(Af=n,!0):(Af=null,!1)}var Lg=typeof setTimeout=="function"?setTimeout:void 0,m1=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,g1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(n){return Ug.resolve(null).then(n).catch(y1)}:Lg;function y1(n){setTimeout(function(){throw n})}function pi(n){return n==="head"}function Bg(n,i){var s=i,f=0,g=0;do{var T=s.nextSibling;if(n.removeChild(s),T&&T.nodeType===8)if(s=T.data,s==="/$"){if(0<f&&8>f){s=f;var P=n.ownerDocument;if(s&1&&ma(P.documentElement),s&2&&ma(P.body),s&4)for(s=P.head,ma(s),P=s.firstChild;P;){var G=P.nextSibling,ie=P.nodeName;P[Ei]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&P.rel.toLowerCase()==="stylesheet"||s.removeChild(P),P=G}}if(g===0){n.removeChild(T),Sa(i);return}g--}else s==="$"||s==="$?"||s==="$!"?g++:f=s.charCodeAt(0)-48;else f=0;s=T}while(s);Sa(i)}function Nf(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Nf(s),io(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function v1(n,i,s,f){for(;n.nodeType===1;){var g=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[Ei])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(T=n.getAttribute("rel"),T==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(T!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(T=n.getAttribute("src"),(T!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&T&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var T=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===T)return n}else return n;if(n=nr(n.nextSibling),n===null)break}return null}function w1(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=nr(n.nextSibling),n===null))return null;return n}function Rf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function x1(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var f=function(){i(),s.removeEventListener("DOMContentLoaded",f)};s.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function nr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Mf=null;function Pg(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function Og(n,i,s){switch(i=Fl(s),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function ma(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);io(n)}var qn=new Map,Fg=new Set;function zl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var zr=ne.d;ne.d={f:T1,r:b1,D:S1,C:E1,L:_1,m:C1,X:N1,S:A1,M:R1};function T1(){var n=zr.f(),i=Dl();return n||i}function b1(n){var i=_r(n);i!==null&&i.tag===5&&i.type==="form"?om(i):zr.r(n)}var Vo=typeof document>"u"?null:document;function zg(n,i,s){var f=Vo;if(f&&typeof i=="string"&&i){var g=bn(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),Fg.has(g)||(Fg.add(g),n={rel:n,crossOrigin:s,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),ln(i,"link",n),Rt(i),f.head.appendChild(i)))}}function S1(n){zr.D(n),zg("dns-prefetch",n,null)}function E1(n,i){zr.C(n,i),zg("preconnect",n,i)}function _1(n,i,s){zr.L(n,i,s);var f=Vo;if(f&&n&&i){var g='link[rel="preload"][as="'+bn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+bn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+bn(s.imageSizes)+'"]')):g+='[href="'+bn(n)+'"]';var T=g;switch(i){case"style":T=qo(n);break;case"script":T=Ho(n)}qn.has(T)||(n=y({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),qn.set(T,n),f.querySelector(g)!==null||i==="style"&&f.querySelector(ga(T))||i==="script"&&f.querySelector(ya(T))||(i=f.createElement("link"),ln(i,"link",n),Rt(i),f.head.appendChild(i)))}}function C1(n,i){zr.m(n,i);var s=Vo;if(s&&n){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+bn(f)+'"][href="'+bn(n)+'"]',T=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Ho(n)}if(!qn.has(T)&&(n=y({rel:"modulepreload",href:n},i),qn.set(T,n),s.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ya(T)))return}f=s.createElement("link"),ln(f,"link",n),Rt(f),s.head.appendChild(f)}}}function A1(n,i,s){zr.S(n,i,s);var f=Vo;if(f&&n){var g=ar(f).hoistableStyles,T=qo(n);i=i||"default";var P=g.get(T);if(!P){var G={loading:0,preload:null};if(P=f.querySelector(ga(T)))G.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},s),(s=qn.get(T))&&Df(n,s);var ie=P=f.createElement("link");Rt(ie),ln(ie,"link",n),ie._p=new Promise(function(Te,ke){ie.onload=Te,ie.onerror=ke}),ie.addEventListener("load",function(){G.loading|=1}),ie.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Gl(P,i,f)}P={type:"stylesheet",instance:P,count:1,state:G},g.set(T,P)}}}function N1(n,i){zr.X(n,i);var s=Vo;if(s&&n){var f=ar(s).hoistableScripts,g=Ho(n),T=f.get(g);T||(T=s.querySelector(ya(g)),T||(n=y({src:n,async:!0},i),(i=qn.get(g))&&If(n,i),T=s.createElement("script"),Rt(T),ln(T,"link",n),s.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(g,T))}}function R1(n,i){zr.M(n,i);var s=Vo;if(s&&n){var f=ar(s).hoistableScripts,g=Ho(n),T=f.get(g);T||(T=s.querySelector(ya(g)),T||(n=y({src:n,async:!0,type:"module"},i),(i=qn.get(g))&&If(n,i),T=s.createElement("script"),Rt(T),ln(T,"link",n),s.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(g,T))}}function Gg(n,i,s,f){var g=(g=te.current)?zl(g):null;if(!g)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=qo(s.href),s=ar(g).hoistableStyles,f=s.get(i),f||(f={type:"style",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=qo(s.href);var T=ar(g).hoistableStyles,P=T.get(n);if(P||(g=g.ownerDocument||g,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(n,P),(T=g.querySelector(ga(n)))&&!T._p&&(P.instance=T,P.state.loading=5),qn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(n,s),T||M1(g,n,s,P.state))),i&&f===null)throw Error(o(528,""));return P}if(i&&f!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ho(s),s=ar(g).hoistableScripts,f=s.get(i),f||(f={type:"script",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function qo(n){return'href="'+bn(n)+'"'}function ga(n){return'link[rel="stylesheet"]['+n+"]"}function Vg(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function M1(n,i,s,f){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=n.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),ln(i,"link",s),Rt(i),n.head.appendChild(i))}function Ho(n){return'[src="'+bn(n)+'"]'}function ya(n){return"script[async]"+n}function qg(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var f=n.querySelector('style[data-href~="'+bn(s.href)+'"]');if(f)return i.instance=f,Rt(f),f;var g=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Rt(f),ln(f,"style",g),Gl(f,s.precedence,n),i.instance=f;case"stylesheet":g=qo(s.href);var T=n.querySelector(ga(g));if(T)return i.state.loading|=4,i.instance=T,Rt(T),T;f=Vg(s),(g=qn.get(g))&&Df(f,g),T=(n.ownerDocument||n).createElement("link"),Rt(T);var P=T;return P._p=new Promise(function(G,ie){P.onload=G,P.onerror=ie}),ln(T,"link",f),i.state.loading|=4,Gl(T,s.precedence,n),i.instance=T;case"script":return T=Ho(s.src),(g=n.querySelector(ya(T)))?(i.instance=g,Rt(g),g):(f=s,(g=qn.get(T))&&(f=y({},s),If(f,g)),n=n.ownerDocument||n,g=n.createElement("script"),Rt(g),ln(g,"link",f),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,Gl(f,s.precedence,n));return i.instance}function Gl(n,i,s){for(var f=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,T=g,P=0;P<f.length;P++){var G=f[P];if(G.dataset.precedence===i)T=G;else if(T!==g)break}T?T.parentNode.insertBefore(n,T.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Df(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function If(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Vl=null;function Hg(n,i,s){if(Vl===null){var f=new Map,g=Vl=new Map;g.set(s,f)}else g=Vl,f=g.get(s),f||(f=new Map,g.set(s,f));if(f.has(n))return f;for(f.set(n,null),s=s.getElementsByTagName(n),g=0;g<s.length;g++){var T=s[g];if(!(T[Ei]||T[Pt]||n==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var P=T.getAttribute(i)||"";P=n+P;var G=f.get(P);G?G.push(T):f.set(P,[T])}}return f}function Kg(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function D1(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Yg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var va=null;function I1(){}function k1(n,i,s){if(va===null)throw Error(o(475));var f=va;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=qo(s.href),T=n.querySelector(ga(g));if(T){n=T._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=ql.bind(f),n.then(f,f)),i.state.loading|=4,i.instance=T,Rt(T);return}T=n.ownerDocument||n,s=Vg(s),(g=qn.get(g))&&Df(s,g),T=T.createElement("link"),Rt(T);var P=T;P._p=new Promise(function(G,ie){P.onload=G,P.onerror=ie}),ln(T,"link",s),i.instance=T}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=ql.bind(f),n.addEventListener("load",i),n.addEventListener("error",i))}}function L1(){if(va===null)throw Error(o(475));var n=va;return n.stylesheets&&n.count===0&&kf(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&kf(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function ql(){if(this.count--,this.count===0){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Hl=null;function kf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Hl=new Map,i.forEach(U1,n),Hl=null,ql.call(n))}function U1(n,i){if(!(i.state.loading&4)){var s=Hl.get(n);if(s)var f=s.get(null);else{s=new Map,Hl.set(n,s);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<g.length;T++){var P=g[T];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(s.set(P.dataset.precedence,P),f=P)}f&&s.set(null,f)}g=i.instance,P=g.getAttribute("data-precedence"),T=s.get(P)||f,T===f&&s.set(null,g),s.set(P,g),this.count++,f=ql.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),T?T.parentNode.insertBefore(g,T.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var wa={$$typeof:O,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function B1(n,i,s,f,g,T,P,G){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=T,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function $g(n,i,s,f,g,T,P,G,ie,Te,ke,Ue){return n=new B1(n,i,s,P,G,ie,Te,Ue),i=1,T===!0&&(i|=24),T=Mn(3,null,null,i),n.current=T,T.stateNode=n,i=hc(),i.refCount++,n.pooledCache=i,i.refCount++,T.memoizedState={element:f,isDehydrated:s,cache:i},yc(T),n}function Jg(n){return n?(n=To,n):To}function Wg(n,i,s,f,g,T){g=Jg(g),f.context===null?f.context=g:f.pendingContext=g,f=ti(i),f.payload={element:s},T=T===void 0?null:T,T!==null&&(f.callback=T),s=ni(n,f,i),s!==null&&(Un(s,n,i),Ws(s,n,i))}function jg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Lf(n,i){jg(n,i),(n=n.alternate)&&jg(n,i)}function Xg(n){if(n.tag===13){var i=xo(n,67108864);i!==null&&Un(i,n,67108864),Lf(n,67108864)}}var Kl=!0;function P1(n,i,s,f){var g=se.T;se.T=null;var T=ne.p;try{ne.p=2,Uf(n,i,s,f)}finally{ne.p=T,se.T=g}}function O1(n,i,s,f){var g=se.T;se.T=null;var T=ne.p;try{ne.p=8,Uf(n,i,s,f)}finally{ne.p=T,se.T=g}}function Uf(n,i,s,f){if(Kl){var g=Bf(f);if(g===null)bf(n,i,f,Yl,s),Qg(n,f);else if(z1(g,n,i,s,f))f.stopPropagation();else if(Qg(n,f),i&4&&-1<F1.indexOf(n)){for(;g!==null;){var T=_r(g);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var P=Bt(T.pendingLanes);if(P!==0){var G=T;for(G.pendingLanes|=2,G.entangledLanes|=2;P;){var ie=1<<31-tt(P);G.entanglements[1]|=ie,P&=~ie}gr(T),(yt&6)===0&&(Rl=w()+500,da(0))}}break;case 13:G=xo(T,2),G!==null&&Un(G,T,2),Dl(),Lf(T,2)}if(T=Bf(f),T===null&&bf(n,i,f,Yl,s),T===g)break;g=T}g!==null&&f.stopPropagation()}else bf(n,i,f,null,s)}}function Bf(n){return n=Is(n),Pf(n)}var Yl=null;function Pf(n){if(Yl=null,n=Kr(n),n!==null){var i=c(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=d(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Yl=n,null}function Zg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(v()){case C:return 2;case $:return 8;case Z:case J:return 32;case we:return 268435456;default:return 32}default:return 32}}var Of=!1,mi=null,gi=null,yi=null,xa=new Map,Ta=new Map,vi=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qg(n,i){switch(n){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":xa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(i.pointerId)}}function ba(n,i,s,f,g,T){return n===null||n.nativeEvent!==T?(n={blockedOn:i,domEventName:s,eventSystemFlags:f,nativeEvent:T,targetContainers:[g]},i!==null&&(i=_r(i),i!==null&&Xg(i)),n):(n.eventSystemFlags|=f,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function z1(n,i,s,f,g){switch(i){case"focusin":return mi=ba(mi,n,i,s,f,g),!0;case"dragenter":return gi=ba(gi,n,i,s,f,g),!0;case"mouseover":return yi=ba(yi,n,i,s,f,g),!0;case"pointerover":var T=g.pointerId;return xa.set(T,ba(xa.get(T)||null,n,i,s,f,g)),!0;case"gotpointercapture":return T=g.pointerId,Ta.set(T,ba(Ta.get(T)||null,n,i,s,f,g)),!0}return!1}function ey(n){var i=Kr(n.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){n.blockedOn=i,Ss(n.priority,function(){if(s.tag===13){var f=Ln();f=Er(f);var g=xo(s,f);g!==null&&Un(g,s,f),Lf(s,f)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $l(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Bf(n.nativeEvent);if(s===null){s=n.nativeEvent;var f=new s.constructor(s.type,s);Ds=f,s.target.dispatchEvent(f),Ds=null}else return i=_r(s),i!==null&&Xg(i),n.blockedOn=s,!1;i.shift()}return!0}function ty(n,i,s){$l(n)&&s.delete(i)}function G1(){Of=!1,mi!==null&&$l(mi)&&(mi=null),gi!==null&&$l(gi)&&(gi=null),yi!==null&&$l(yi)&&(yi=null),xa.forEach(ty),Ta.forEach(ty)}function Jl(n,i){n.blockedOn===i&&(n.blockedOn=null,Of||(Of=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,G1)))}var Wl=null;function ny(n){Wl!==n&&(Wl=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wl===n&&(Wl=null);for(var i=0;i<n.length;i+=3){var s=n[i],f=n[i+1],g=n[i+2];if(typeof f!="function"){if(Pf(f||s)===null)continue;break}var T=_r(s);T!==null&&(n.splice(i,3),i-=3,Bc(T,{pending:!0,data:g,method:s.method,action:f},f,g))}}))}function Sa(n){function i(ie){return Jl(ie,n)}mi!==null&&Jl(mi,n),gi!==null&&Jl(gi,n),yi!==null&&Jl(yi,n),xa.forEach(i),Ta.forEach(i);for(var s=0;s<vi.length;s++){var f=vi[s];f.blockedOn===n&&(f.blockedOn=null)}for(;0<vi.length&&(s=vi[0],s.blockedOn===null);)ey(s),s.blockedOn===null&&vi.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(f=0;f<s.length;f+=3){var g=s[f],T=s[f+1],P=g[un]||null;if(typeof T=="function")P||ny(s);else if(P){var G=null;if(T&&T.hasAttribute("formAction")){if(g=T,P=T[un]||null)G=P.formAction;else if(Pf(g)!==null)continue}else G=P.action;typeof G=="function"?s[f+1]=G:(s.splice(f,3),f-=3),ny(s)}}}function Ff(n){this._internalRoot=n}jl.prototype.render=Ff.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,f=Ln();Wg(s,f,n,i,null,null)},jl.prototype.unmount=Ff.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Wg(n.current,2,null,n,null,null),Dl(),i[sr]=null}};function jl(n){this._internalRoot=n}jl.prototype.unstable_scheduleHydration=function(n){if(n){var i=bs();n={blockedOn:null,target:n,priority:i};for(var s=0;s<vi.length&&i!==0&&i<vi[s].priority;s++);vi.splice(s,0,n),s===0&&ey(n)}};var ry=e.version;if(ry!=="19.1.1")throw Error(o(527,ry,"19.1.1"));ne.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var V1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Oe=Xl.inject(V1),Ge=Xl}catch{}}return _a.createRoot=function(n,i){if(!a(n))throw Error(o(299));var s=!1,f="",g=wm,T=xm,P=Tm,G=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(P=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(G=i.unstable_transitionCallbacks)),i=$g(n,1,!1,null,null,s,f,g,T,P,G,null),n[sr]=i.current,Tf(n),new Ff(i)},_a.hydrateRoot=function(n,i,s){if(!a(n))throw Error(o(299));var f=!1,g="",T=wm,P=xm,G=Tm,ie=null,Te=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(T=s.onUncaughtError),s.onCaughtError!==void 0&&(P=s.onCaughtError),s.onRecoverableError!==void 0&&(G=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(ie=s.unstable_transitionCallbacks),s.formState!==void 0&&(Te=s.formState)),i=$g(n,1,!0,i,s??null,f,g,T,P,G,ie,Te),i.context=Jg(null),s=i.current,f=Ln(),f=Er(f),g=ti(f),g.callback=null,ni(s,g,f),s=f,i.current.lanes=s,Ct(i,s),gr(i),n[sr]=i.current,Tf(n),new jl(i)},_a.version="19.1.1",_a}var hy;function Z1(){if(hy)return Vf.exports;hy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vf.exports=X1(),Vf.exports}var Q1=Z1();const eb=ow(Q1),sw=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),tb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),aw=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 48 48",children:[b.jsx("path",{fill:"#4CAF50",d:"M32.4,18.3l-7.4-12.8L10.3,34.4l7.4,12.8L32.4,18.3z"}),b.jsx("path",{fill:"#FFC107",d:"M10.3,12.8L2.9,25.6l14.7,8.5l7.4-12.8L10.3,12.8z"}),b.jsx("path",{fill:"#2196F3",d:"M45.1,25.6L32.4,47.2l-7.4-12.8L40,12.8L45.1,25.6z"})]}),nb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Zl=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4-2.245 4.5 4.5 0 118.4-2.475c0 1.039-.44 2.002-1.215 2.754a3 3 0 00-1.008 2.836z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 5.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z"})]}),rb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456l1.178.398-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),ib=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),lw=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3v18M3 3h9M3 12h9m-9 9h9M15 3h6m-3 0v18"})}),ob=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),sb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12M8.25 17.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),ab=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),lb=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})]}),ub=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:b.jsx("path",{fillRule:"evenodd",d:"M9.191 2.992c.213.385.418.77.615 1.156a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038zM3 9.75A.75.75 0 013.75 9h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 9.75zm16.491-6.758a.75.75 0 011.107-.038 8.25 8.25 0 011.538 3.327c.079.316.153.636.223.959a.75.75 0 01-.58.871 8.25 8.25 0 00-3.612-.387l-.054.022a.75.75 0 11-.84-1.01c.197-.386.402-.77.615-1.156zM18 9.75a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm-9.841 7.242a.75.75 0 01-.84 1.01l-.054-.022a8.25 8.25 0 00-3.612.387.75.75 0 01-.58-.871c.07-.323.144-.643.223-.959a8.25 8.25 0 011.538-3.327.75.75 0 011.107.038c.213.385.418.77.615 1.156zm8.682 1.01a.75.75 0 00.84-1.01c-.197-.386-.402-.77-.615-1.156a.75.75 0 00-1.107-.038 8.25 8.25 0 00-1.538 3.327c-.079.316-.153.636-.223.959a.75.75 0 00.58.871 8.25 8.25 0 013.612-.387l.054.022z",clipRule:"evenodd"})}),cb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),fb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),hh=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),db=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),Kd=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),hb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Yf=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",pb=t=>{if(!t)return"";try{const e=new Date(t),o=Math.round((new Date().getTime()-e.getTime())/1e3);if(o<2)return"agora";if(o<60)return`${o}s atrás`;const a=Math.round(o/60);if(a<60)return`${a}m atrás`;const c=Math.round(a/60);if(c<24)return`${c}h atrás`;const d=Math.round(c/24);return d<=7?`${d}d atrás`:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}).format(e)}catch{return""}},py=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"})}),mb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),my=({isCollapsed:t})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transition-transform duration-200 ${t?"-rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),gb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),yb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),gy=({width:t,title:e,documents:r,categories:o,activeDocumentId:a,onSelectDocument:c,onUpdateCategoryName:d,onUpdateDocumentTitle:h,onReorderDocuments:p,onReorderCategories:m,onFindReferences:y,onDeleteDocument:x,totalWordCount:S,searchQuery:E,onSearchChange:D,searchResults:_,onSelectSearchResult:L,appVersion:N,onOpenChangelog:I})=>{const[O,H]=xe.useState(null),[q,ce]=xe.useState(""),[oe,me]=xe.useState({}),[U,ae]=xe.useState(!1),[de,Y]=xe.useState(null),fe=A=>{me(ee=>({...ee,[A]:!ee[A]}))},B=A=>{const ee=r.find(z=>z.id===A),V=ee==null?void 0:ee.content.some(z=>z.type==="heading");a===A?V&&ae(z=>!z):(c(A),ae(!1))},le=(A,ee,V)=>{H({type:A,id:ee}),ce(V)},se=()=>{H(null),ce("")},ne=()=>{if(!O||!q.trim()){se();return}O.type==="category"?d(O.id,q):O.type==="document"&&h(O.id,q),se()},Me=A=>{A.key==="Enter"?ne():A.key==="Escape"&&se()},ye=()=>{Y(null)},j=(A,ee)=>{A.dataTransfer.setData("application/json",JSON.stringify({type:"doc",id:ee})),A.dataTransfer.effectAllowed="move",setTimeout(()=>Y({type:"doc",id:ee}),0)},W=A=>{A.preventDefault(),(de==null?void 0:de.type)==="doc"&&A.currentTarget.classList.add("bg-gray-700/50")},F=A=>{A.currentTarget.classList.remove("bg-gray-700/50")},Q=(A,ee)=>{A.preventDefault(),A.currentTarget.classList.remove("bg-gray-700/50");try{const V=JSON.parse(A.dataTransfer.getData("application/json"));V.type==="doc"&&V.id&&V.id!==ee&&p(V.id,ee)}catch(V){console.error(V)}Y(null)},re=(A,ee)=>{A.dataTransfer.setData("application/json",JSON.stringify({type:"category",name:ee})),A.dataTransfer.effectAllowed="move",setTimeout(()=>Y({type:"category",id:ee}),0)},pe=A=>{A.preventDefault(),(de==null?void 0:de.type)==="category"&&A.currentTarget.classList.add("bg-gray-700/50")},te=A=>{A.currentTarget.classList.remove("bg-gray-700/50")},k=(A,ee)=>{A.preventDefault(),A.stopPropagation(),A.currentTarget.classList.remove("bg-gray-700/50");try{const V=JSON.parse(A.dataTransfer.getData("application/json"));V.type==="category"&&V.name&&V.name!==ee&&m(V.name,ee)}catch(V){console.error(V)}Y(null)};return b.jsxs("aside",{style:{width:`${t}px`},className:"bg-gray-800 text-white flex flex-col h-full border-r border-gray-700 flex-shrink-0 transition-all duration-300 overflow-hidden",children:[b.jsxs("div",{className:"p-4 border-b border-gray-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h2",{className:"text-xl font-semibold",children:e}),b.jsxs("button",{onClick:I,className:"text-xs font-mono bg-gray-700 text-gray-400 px-2 py-0.5 rounded-full hover:bg-indigo-600 hover:text-white transition-colors",title:"Ver histórico de versões",children:["v",N]})]}),b.jsxs("div",{className:"relative text-gray-400 focus-within:text-gray-100",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx(gb,{})}),b.jsx("input",{type:"text",placeholder:"Pesquisar documentos...",value:E,onChange:A=>D(A.target.value),className:"w-full pl-10 pr-10 py-2 bg-gray-900 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),E&&b.jsx("button",{onClick:()=>D(""),className:"absolute inset-y-0 right-0 flex items-center pr-3","aria-label":"Clear search",children:b.jsx(yb,{})})]})]}),b.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:E?b.jsx("div",{children:_.length>0?b.jsx("ul",{className:"space-y-2",children:_.map(A=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>L(A.docId,A.viewMode),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("div",{className:"font-semibold text-indigo-400",children:A.docTitle}),b.jsxs("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:[A.category," (",A.viewMode.toUpperCase(),")"]}),b.jsx("div",{className:"space-y-1 text-sm text-gray-400 italic",children:A.snippets.slice(0,3).map((ee,V)=>b.jsx("div",{className:"truncate text-ellipsis",children:ee},V))})]})},A.docId))}):b.jsx("div",{className:"text-center text-gray-500 p-4",children:"Nenhum resultado encontrado."})}):o.map(A=>{const ee=r.filter(ue=>ue.category===A);if(ee.length===0)return null;const V=(O==null?void 0:O.type)==="category"&&O.id===A,z=!!oe[A],K=(de==null?void 0:de.type)==="category"&&de.id===A;return b.jsxs("div",{className:`transition-opacity ${K?"opacity-30":""}`,children:[b.jsx("div",{className:"group flex items-center justify-between mb-2 rounded-md",draggable:!V,onDragStart:V?void 0:ue=>re(ue,A),onDragEnd:V?void 0:ye,onDragOver:V?void 0:pe,onDragLeave:V?void 0:te,onDrop:V?void 0:ue=>k(ue,A),style:{cursor:V?"default":"grab"},children:V?b.jsx("input",{type:"text",value:q,onChange:ue=>ce(ue.target.value),onBlur:ne,onKeyDown:Me,autoFocus:!0,className:"w-full bg-gray-900 text-sm font-bold text-indigo-300 uppercase tracking-wider p-1 rounded border border-indigo-500 outline-none"}):b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>fe(A),className:"flex items-center flex-grow text-left text-sm font-bold text-indigo-400 uppercase tracking-wider p-1 -ml-1 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 group","aria-expanded":!z,"aria-controls":`category-section-${Yf(A)}`,children:[b.jsx(my,{isCollapsed:z}),b.jsx("span",{className:"ml-1 group-hover:text-indigo-300 transition-colors",children:A})]}),b.jsx("button",{onClick:()=>le("category",A,A),className:"text-gray-500 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1 ml-2 flex-shrink-0","aria-label":`Edit category ${A}`,children:b.jsx(py,{})})]})}),!z&&b.jsx("ul",{id:`category-section-${Yf(A)}`,className:"space-y-1 pl-4 border-l border-gray-600 ml-1.5",children:ee.map(ue=>{const R=(O==null?void 0:O.type)==="document"&&O.id===ue.id,X=a===ue.id,M=ue.content.some(v=>v.type==="heading"),w=(de==null?void 0:de.type)==="doc"&&de.id===ue.id;return b.jsxs("li",{draggable:!R,onDragStart:R?void 0:v=>j(v,ue.id),onDragEnd:R?void 0:ye,onDragOver:R?void 0:W,onDragLeave:R?void 0:F,onDrop:R?void 0:v=>Q(v,ue.id),className:`rounded-md transition-opacity ${w?"opacity-30":""}`,children:[b.jsx("div",{className:`group flex items-center justify-between w-full pr-1 transition-colors duration-200 rounded-md ${X?"bg-indigo-600":"hover:bg-gray-700"}`,children:R?b.jsx("input",{type:"text",value:q,onChange:v=>ce(v.target.value),onBlur:ne,onKeyDown:Me,autoFocus:!0,className:"w-full bg-gray-900 text-sm px-3 py-2 rounded-md border border-indigo-500 outline-none"}):b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>B(ue.id),className:`flex items-start flex-grow text-left px-3 py-2 text-sm w-full rounded-l-md ${X?"font-semibold":"text-gray-300 group-hover:text-white"}`,style:{cursor:"grab"},"aria-expanded":X&&M?!U:void 0,"aria-controls":X&&M?`doc-headings-${ue.id}`:void 0,children:[b.jsx("span",{className:"w-4 mr-1 flex-shrink-0 mt-1",children:X&&M&&b.jsx(my,{isCollapsed:U})}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("span",{className:"block truncate",title:ue.title,children:ue.title}),X&&ue.lastEdited&&b.jsx("div",{className:"text-xs font-normal text-indigo-200/80 -mt-0.5",children:pb(ue.lastEdited)})]})]}),b.jsxs("div",{className:"flex items-center flex-shrink-0",children:[b.jsx("button",{onClick:()=>y(ue.id),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Find references for ${ue.title}`,title:`Encontrar referências para ${ue.title}`,children:b.jsx(mb,{})}),b.jsx("button",{onClick:()=>le("document",ue.id,ue.title),className:"text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Edit title for ${ue.title}`,children:b.jsx(py,{})}),b.jsx("button",{onClick:()=>x(ue.id),className:"text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1","aria-label":`Delete document ${ue.title}`,title:`Apagar ${ue.title}`,children:b.jsx(hb,{})})]})]})}),X&&M&&!U&&b.jsx("ul",{id:`doc-headings-${ue.id}`,className:"pl-4 mt-1 space-y-1 border-l border-gray-600 ml-3",children:ue.content.filter(v=>v.type==="heading").map((v,C)=>{const $=Yf(v.text),Z=J=>{switch(J){case 1:return"pl-3";case 2:return"pl-6";case 3:return"pl-9";default:return"pl-3"}};return b.jsx("li",{children:b.jsx("a",{href:`#${$}`,onClick:J=>{J.preventDefault();const we=document.getElementById($);we&&we.scrollIntoView({behavior:"smooth"})},className:`block w-full text-left py-1 text-xs text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors ${Z(v.level)}`,children:v.text})},`${ue.id}-heading-${C}`)})})]},ue.id)})})]},A)})}),b.jsxs("footer",{className:"p-4 border-t border-gray-700 text-xs text-gray-400",children:[b.jsxs("div",{className:"font-semibold uppercase tracking-wider mb-2",children:["Estatísticas (",e.split(" ")[0],")"]}),b.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[b.jsx("div",{children:"Documentos:"}),b.jsx("div",{className:"font-bold text-white text-right",children:r.length}),b.jsx("div",{children:"Categorias:"}),b.jsx("div",{className:"font-bold text-white text-right",children:o.length}),b.jsx("div",{children:"Palavras:"}),b.jsx("div",{className:"font-bold text-white text-right",children:S.toLocaleString("pt-BR")}),b.jsx("div",{className:"text-gray-500",children:"Tokens (est.):"}),b.jsxs("div",{className:"font-bold text-gray-500 text-right",children:["~",(S/.75).toLocaleString("pt-BR")]})]})]})]})},vb=()=>b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 p-8",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Welcome to your GDD"}),b.jsx("p",{className:"mt-2 max-w-md",children:'Select a document from the sidebar to view its content, or use the "Integrate New Idea" button to add new concepts with the help of AI.'})]}),$f=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",wb=({onClick:t})=>b.jsx("button",{onClick:t,className:"heading-level-button p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-indigo-600 hover:text-white transition-all",title:"Alterar nível do título",children:b.jsx(lw,{})}),Ko=({onClick:t})=>b.jsx("button",{onClick:t,className:"p-1.5 bg-gray-700/60 rounded-md text-gray-300 hover:bg-red-600 hover:text-white transition-all",title:"Apagar bloco",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),yy=({onClick:t})=>b.jsx("div",{className:"absolute inset-x-0 -top-4 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10",children:b.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md",title:"Adicionar bloco",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})}),xb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Tb=({document:t,allDocuments:e,onNavigate:r,onRefineRequest:o,onFindReferences:a,onUpdateBlock:c,onUpdateBlockContent:d,onSetContent:h,scrollToHeading:p,onDidScrollToHeading:m,onOpenImageGenerationModal:y,docSearchQuery:x,docSearchCurrentIndex:S,onDocSearchResultsChange:E})=>{const[D,_]=xe.useState(null),[L,N]=xe.useState(null),[I,O]=xe.useState(null),[H,q]=xe.useState(""),ce=xe.useRef(null),oe=xe.useRef(null),me=xe.useRef(null),[U,ae]=xe.useState(null),[de,Y]=xe.useState(0),[fe,B]=xe.useState(null),[le,se]=xe.useState([]),ne=X=>X?X.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"";xe.useEffect(()=>{if(I&&oe.current){const X=oe.current;X.focus(),X.select(),X.style.height="auto",X.style.height=`${X.scrollHeight}px`}},[I]),xe.useEffect(()=>{if(!x.trim()||!t){se([]),E(0);return}const X=ne(x);if(!X)return;const M=[],w=(v,C)=>{if(!v)return;const $=ne(v);let Z=0;for(;(Z=$.indexOf(X,Z))!==-1;)M.push({blockIndex:M.length,itemIndex:C,start:Z,end:Z+x.length,ref:ka.createRef()}),Z+=1};t.content.forEach((v,C)=>{const $=M.length;v.type==="heading"||v.type==="paragraph"||v.type==="blockquote"?w(v.text):v.type==="list"&&Array.isArray(v.items)&&typeof v.items[0]=="string"?v.items.forEach((Z,J)=>w(Z,J)):v.type==="definition_list"&&Array.isArray(v.items)?v.items.forEach((Z,J)=>{w(Z.term,`dl-${J}-term`),w(Z.description,`dl-${J}-desc`)}):v.type==="image"&&w(v.caption);for(let Z=$;Z<M.length;Z++)M[Z].blockIndex=C}),se(M),E(M.length)},[x,t,E]),xe.useEffect(()=>{var X;S!==-1&&le[S]&&((X=le[S].ref.current)==null||X.scrollIntoView({behavior:"smooth",block:"center"}))},[S,le]),xe.useEffect(()=>{if(p&&t){const X=window.document.getElementById(p);X&&(X.scrollIntoView({behavior:"smooth",block:"start"}),X.classList.add("highlight-scroll"),setTimeout(()=>{X.classList.remove("highlight-scroll")},2e3)),m()}},[p,t,m]),xe.useEffect(()=>{const X=M=>{D&&M.target instanceof Element&&!M.target.closest(".refine-popup")&&_(null),L&&M.target instanceof Element&&!M.target.closest(".heading-level-popup, .heading-level-button")&&N(null),U&&M.target instanceof Element&&!M.target.closest(".add-block-menu")&&ae(null)};return window.document.addEventListener("mousedown",X),()=>{window.document.removeEventListener("mousedown",X)}},[D,L,U]);const Me=()=>{var M;if(!t||I)return;const X=window.getSelection();if(X&&!X.isCollapsed&&X.rangeCount>0){const w=X.getRangeAt(0);let v=w.startContainer.parentElement;if(!((M=ce.current)!=null&&M.contains(v))){_(null);return}const C=v==null?void 0:v.closest("[data-block-index]");if(!C){_(null);return}const $=C.getAttribute("data-block-index");if(!$)return;const Z=parseInt($,10),J=t.content[Z];let we,Ie="";if(J.type==="list"&&"items"in J&&Array.isArray(J.items)&&typeof J.items[0]=="string"){const Ge=v==null?void 0:v.closest("[data-item-index]");if(Ge){const He=Ge.getAttribute("data-item-index");He&&(we=parseInt(He,10),Ie=J.items[we])}else{_(null);return}}else if(J.type==="heading"||J.type==="paragraph"||J.type==="blockquote")Ie=J.text;else if(J.type==="image")Ie=J.caption;else{_(null);return}if(!Ie){_(null);return}const be=w.getBoundingClientRect(),Oe=ce.current.getBoundingClientRect();_({top:be.top-Oe.top-40,left:be.left-Oe.left+be.width/2-16,docId:t.id,blockIndex:Z,itemIndex:we,text:Ie})}else D&&setTimeout(()=>_(null),100)},ye=(X,M,w)=>{_(null),O({blockIndex:X,itemIndex:w}),q(M)},j=()=>{O(null),q("")},W=()=>{if(!t||I===null){j();return}const X=t.content[I.blockIndex];let M="";if(X.type==="list"&&typeof I.itemIndex=="number"?M=X.items[I.itemIndex]:X.type==="heading"||X.type==="paragraph"||X.type==="blockquote"?M=X.text:X.type==="image"&&(M=X.caption),H!==M){const w=typeof I.itemIndex=="number"?I.itemIndex:void 0;c(t.id,I.blockIndex,H,w)}j()},F=X=>{q(X.target.value),X.target.style.height="auto",X.target.style.height=`${X.target.scrollHeight}px`},Q=X=>{X.key==="Escape"?(X.preventDefault(),j()):X.key==="Enter"&&(X.metaKey||X.ctrlKey)&&(X.preventDefault(),W())},re=X=>{if(!t)return;const M=t.content.filter((w,v)=>v!==X);h(t.id,M)},pe=(X,M)=>{X.preventDefault();const w=X.currentTarget.getBoundingClientRect(),v=ce.current.getBoundingClientRect();ae({index:M,top:w.top-v.top-45,left:w.left-v.left+w.width/2})},te=(X,M)=>{var v;if(!t)return;if(X==="image"){Y(M),(v=me.current)==null||v.click(),ae(null);return}if(X==="generate-image-ai"){y(t.id,M),ae(null);return}let w=null;switch(X){case"heading":w={type:"heading",level:2,text:"Novo Título"};break;case"paragraph":w={type:"paragraph",text:"Novo parágrafo."};break;case"list":w={type:"list",style:"unordered",items:["Item 1"]};break;case"blockquote":w={type:"blockquote",text:"Citação."};break}if(w){const C=[...t.content];C.splice(M,0,w),h(t.id,C),setTimeout(()=>{(w==null?void 0:w.type)==="list"?ye(M,w.items[0],0):"text"in w&&ye(M,w.text)},50)}ae(null)},k=X=>{var v;const M=(v=X.target.files)==null?void 0:v[0];if(!M||!t)return;const w=new FileReader;w.onload=C=>{var Z;const $=(Z=C.target)==null?void 0:Z.result;if($){const J={type:"image",id:`img-${Date.now()}`,src:$,caption:"Insira uma legenda para a imagem."},we=[...t.content];we.splice(de,0,J),h(t.id,we),setTimeout(()=>ye(de,J.caption),50)}},w.readAsDataURL(M),X.target&&(X.target.value="")},A=(X,M,w)=>{const v=X.currentTarget.getBoundingClientRect(),C=ce.current.getBoundingClientRect();N({top:v.bottom-C.top+4,left:v.left-C.left,blockIndex:M,currentLevel:w})},{docTitleMap:ee,headingMap:V}=xe.useMemo(()=>{const X=new Map,M=new Map;return e.forEach(w=>{X.set(w.title.toLowerCase(),w.id),w.content.forEach(v=>{v.type==="heading"&&v.text&&(M.has(v.text.toLowerCase())||M.set(v.text.toLowerCase(),{docId:w.id,slug:$f(v.text)}))})}),{docTitleMap:X,headingMap:M}},[e]),z=(X,M,w)=>{if(!X)return[];const v=[],C=/\[\[(.*?)\]\]/g;let $;for(;($=C.exec(X))!==null;)v.push({start:$.index,end:$.index+$[0].length,type:"link",data:$[0]});le.filter(be=>be.blockIndex===M&&be.itemIndex===w).forEach(be=>{const Oe=le.findIndex(Ge=>Ge===be);v.push({start:be.start,end:be.end,type:Oe===S?"active-highlight":"highlight",data:X.substring(be.start,be.end),ref:be.ref})});const J=v.filter((be,Oe,Ge)=>be.type.includes("highlight")?!Ge.some(He=>He.type==="link"&&be.start>=He.start&&be.end<=He.end):!0);if(J.length===0)return[X];J.sort((be,Oe)=>be.start-Oe.start);const we=[];let Ie=0;return J.forEach((be,Oe)=>{be.start>Ie&&we.push(X.substring(Ie,be.start));const Ge=be.data;if(be.type==="link"){const He=Ge.slice(2,-2);let tt=He,gt=He,$t=!1;if(He.includes("|")){const It=He.split("|");tt=It[0],gt=It.slice(1).join("|"),$t=!0}if(tt.startsWith("img:")){const It=tt.substring(4),st=t==null?void 0:t.content.find(Et=>Et.type==="image"&&Et.id===It);st?we.push(b.jsx("span",{onMouseEnter:Et=>{const Bt=Et.currentTarget.getBoundingClientRect();B({src:st.src,top:Bt.bottom+5,left:Bt.left})},onMouseLeave:()=>B(null),className:"text-green-400 font-semibold hover:underline bg-green-900/30 px-1 py-0.5 rounded-sm transition-colors cursor-pointer",children:$t?gt:`img:${It.slice(-4)}`},`${Oe}-imglink`)):we.push(b.jsx("span",{className:"text-red-400 line-through px-1",title:`Imagem não encontrada: "${It}"`,children:$t?gt:It},`${Oe}-imglink`))}else{let It=tt,st;tt.includes("#")&&([It,st]=tt.split("#",2));const Et=ee.get(It.toLowerCase());if(Et){const Bt=st?$f(st):void 0;we.push(b.jsx("button",{onClick:()=>r(Et,Bt),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:gt},`${Oe}-link`))}else if(!st&&V.has(It.toLowerCase())){const Bt=V.get(It.toLowerCase());we.push(b.jsx("button",{onClick:()=>r(Bt.docId,Bt.slug),className:"text-indigo-400 font-semibold hover:underline bg-indigo-900/30 px-1 py-0.5 rounded-sm transition-colors",children:gt},`${Oe}-link`))}else we.push(b.jsx("span",{className:"text-red-400 line-through px-1",title:`Link não encontrado: "${tt}"`,children:gt},`${Oe}-link`))}}else we.push(b.jsx("mark",{ref:be.ref,className:be.type==="active-highlight"?"search-highlight-active":"highlight",children:Ge},`${Oe}-highlight`));Ie=be.end}),Ie<X.length&&we.push(X.substring(Ie)),we};if(!t)return b.jsx(vb,{});const K=X=>{switch(X){case 1:return"!text-2xl !font-bold !text-indigo-400 !border-b !border-gray-700 !pb-2";case 2:return"!text-xl !font-semibold !text-gray-200 !mt-8 !mb-2";case 3:return"!text-lg !font-medium !text-gray-300 !mt-6 !mb-1";default:return"!text-2xl !font-bold !text-indigo-400"}},ue=()=>"w-full bg-transparent border-none focus:ring-0 resize-none p-0 m-0 overflow-hidden font-inherit leading-relaxed",R=({state:X,onAddBlock:M})=>{const w=xe.useRef(null),v=[{type:"heading",title:"Título",icon:b.jsx(lw,{})},{type:"paragraph",title:"Parágrafo",icon:b.jsx(ob,{})},{type:"list",title:"Lista",icon:b.jsx(sb,{})},{type:"blockquote",title:"Citação",icon:b.jsx(ub,{})},{type:"image",title:"Imagem",icon:b.jsx(ab,{})},{type:"generate-image-ai",title:"Gerar Imagem com IA",icon:b.jsx(lb,{})}];return b.jsx("div",{ref:w,className:"add-block-menu absolute z-20 flex items-center space-x-1 bg-gray-900 border border-gray-700 p-1 rounded-lg shadow-lg",style:{top:`${X.top}px`,left:`${X.left}px`,transform:"translateX(-50%)"},children:v.map(C=>b.jsx("button",{title:C.title,onClick:()=>M(C.type,X.index),className:"p-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md transition-colors",children:C.icon},C.type))})};return b.jsxs("div",{className:"p-4 md:p-8 lg:p-12 prose prose-invert prose-lg max-w-4xl mx-auto relative",ref:ce,onMouseUp:Me,children:[b.jsx("input",{type:"file",accept:"image/*",ref:me,onChange:k,className:"hidden"}),fe&&b.jsx("div",{className:"fixed z-50 p-1 bg-gray-900 border border-gray-600 rounded-md shadow-lg",style:{top:fe.top,left:fe.left,pointerEvents:"none"},children:b.jsx("img",{src:fe.src,alt:"Preview",className:"max-w-xs max-h-48 rounded-sm"})}),D&&b.jsx("button",{className:"refine-popup absolute z-20 bg-yellow-400 text-gray-900 rounded-full w-8 h-8 flex items-center justify-center shadow-lg hover:bg-yellow-300 transition-all scale-100 hover:scale-110",style:{top:`${D.top}px`,left:`${D.left}px`},onClick:()=>{o(D.docId,D.blockIndex,D.text,D.itemIndex),_(null)},title:"Aprimorar texto com IA",children:"✨"}),U&&b.jsx(R,{state:U,onAddBlock:te}),L&&b.jsx("div",{className:"heading-level-popup absolute z-30 bg-gray-700 rounded-md shadow-lg p-1 flex flex-col",style:{top:`${L.top}px`,left:`${L.left}px`},children:[1,2,3].map(X=>b.jsxs("button",{onClick:()=>{d(t.id,L.blockIndex,{level:X}),N(null)},className:`text-left text-sm px-3 py-1 rounded-sm transition-colors ${L.currentLevel===X?"bg-indigo-600 text-white":"hover:bg-gray-600 text-gray-200"}`,children:["Título ",X]},X))}),b.jsxs("div",{className:"mb-8 pb-4 border-b border-gray-700",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("p",{className:"text-indigo-400 font-semibold",children:t.category}),b.jsxs("button",{onClick:()=>a(t.id),className:"flex items-center space-x-2 text-sm text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md px-2 py-1 transition-colors",title:"Encontrar menções a este documento",children:[b.jsx(xb,{}),b.jsx("span",{children:"Encontrar Referências"})]})]}),b.jsx("h1",{className:"text-4xl font-extrabold text-white !mb-0",children:t.title})]}),b.jsxs("div",{className:"text-gray-300 leading-relaxed",children:[Array.isArray(t.content)&&t.content.map((X,M)=>{if(!X)return null;const w=()=>{switch(X.type){case"heading":{const v=(I==null?void 0:I.blockIndex)===M&&I.itemIndex===void 0,C=$f(X.text),$=`scroll-mt-24 ${K(X.level)}`;return b.jsxs("div",{className:"group relative",children:[!v&&!I&&b.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:[b.jsx(wb,{onClick:Z=>A(Z,M,X.level)}),b.jsx(Ko,{onClick:()=>re(M)})]}),(()=>{const Z=z(X.text,M),J={id:C,"data-block-index":M,className:$,onDoubleClick:()=>ye(M,X.text),style:{display:v?"none":void 0}};switch(X.level){case 1:return b.jsx("h2",{...J,children:Z});case 2:return b.jsx("h3",{...J,children:Z});case 3:return b.jsx("h4",{...J,children:Z});default:return b.jsx("h2",{...J,children:Z})}})(),v&&b.jsx("textarea",{ref:oe,value:H,onChange:F,onBlur:W,onKeyDown:Q,className:`${$} ${ue()}`,rows:1})]})}case"paragraph":{const v=(I==null?void 0:I.blockIndex)===M&&I.itemIndex===void 0;return b.jsxs("div",{className:"group relative",children:[!v&&!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:b.jsx(Ko,{onClick:()=>re(M)})}),b.jsx("p",{"data-block-index":M,style:{display:v?"none":void 0},onDoubleClick:()=>ye(M,X.text),children:z(X.text,M)}),v&&b.jsx("textarea",{ref:oe,value:H,onChange:F,onBlur:W,onKeyDown:Q,className:ue(),rows:1})]})}case"blockquote":{const v=(I==null?void 0:I.blockIndex)===M&&I.itemIndex===void 0,C="border-l-4 border-gray-500 pl-4 italic text-gray-400";return b.jsxs("div",{className:"group relative",children:[!v&&!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:b.jsx(Ko,{onClick:()=>re(M)})}),b.jsx("blockquote",{"data-block-index":M,className:C,style:{display:v?"none":void 0},onDoubleClick:()=>ye(M,X.text),children:z(X.text,M)}),v&&b.jsx("textarea",{ref:oe,value:H,onChange:F,onBlur:W,onKeyDown:Q,className:`${C} ${ue()}`,rows:1})]})}case"list":{const v=X,C=Array.isArray(v.items)?v.items:[];if(C.length===0)return null;const $=v.style==="ordered"?"ol":"ul";return b.jsxs("div",{className:"group relative",children:[!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Ko,{onClick:()=>re(M)})}),b.jsx($,{"data-block-index":M,className:"pl-8 space-y-2",children:C.map((Z,J)=>{const we=(I==null?void 0:I.blockIndex)===M&&I.itemIndex===J;return b.jsxs("li",{"data-item-index":J,onDoubleClick:()=>ye(M,Z,J),children:[b.jsx("div",{style:{display:we?"none":void 0},children:z(Z,M,J)}),we&&b.jsx("textarea",{ref:oe,value:H,onChange:F,onBlur:W,onKeyDown:Q,className:ue(),rows:1})]},J)})})]})}case"definition_list":{const v=X,C=Array.isArray(v.items)?v.items:[];return C.length===0?null:b.jsxs("div",{className:"group relative my-4",children:[!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Ko,{onClick:()=>re(M)})}),b.jsx("dl",{"data-block-index":M,children:C.map(($,Z)=>b.jsxs("div",{className:"mb-2",children:[b.jsx("dt",{className:"font-semibold text-gray-200",children:z($.term,M,`dl-${Z}-term`)}),b.jsx("dd",{className:"ml-4 text-gray-400",children:z($.description,M,`dl-${Z}-desc`)})]},Z))})]})}case"image":{const v=(I==null?void 0:I.blockIndex)===M&&I.itemIndex===void 0,C="text-center text-sm italic text-gray-400 mt-2";return b.jsxs("figure",{id:X.id,"data-block-index":M,className:"my-6 not-prose",children:[b.jsxs("div",{className:"group relative",children:[!v&&!I&&b.jsx("div",{className:"absolute top-1 -right-12 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:b.jsx(Ko,{onClick:()=>re(M)})}),b.jsx("img",{src:X.src,alt:X.caption,className:"w-full rounded-md shadow-lg"})]}),b.jsx("figcaption",{className:C,style:{display:v?"none":void 0},onDoubleClick:()=>ye(M,X.caption),children:z(X.caption,M)}),v&&b.jsx("textarea",{ref:oe,value:H,onChange:F,onBlur:W,onKeyDown:Q,className:`${C} ${ue()}`,rows:1})]})}default:return null}};return b.jsxs("div",{className:"group relative",children:[b.jsx(yy,{onClick:v=>pe(v,M)}),w()]},M)}),Array.isArray(t.content)&&b.jsx("div",{className:"group relative h-8",children:b.jsx(yy,{onClick:X=>pe(X,t.content.length)})}),b.jsx("div",{className:"mt-12 text-center",children:b.jsx("button",{onClick:X=>te("paragraph",t.content.length),className:"text-gray-500 hover:text-indigo-400 transition-colors font-semibold text-sm py-2 px-4 rounded-lg hover:bg-gray-800",children:"[ + ] Adicionar novo bloco"})})]})]})},bb=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[a,c]=xe.useState(""),[d,h]=xe.useState(!1),[p,m]=xe.useState("gemini-2.5-flash"),[y,x]=xe.useState(!0),[S,E]=xe.useState(!0),[D,_]=xe.useState(65e3),[L,N]=xe.useState(1e4),[I,O]=xe.useState(1e4);if(xe.useEffect(()=>{t&&(c(""),h(!1),m("gemini-2.5-flash"),x(!0),E(!0),_(65e3),N(1e4),O(1e4))},[t]),xe.useEffect(()=>{S?(O(L),N(-1)):N(I===-1?1e4:I)},[S]),!t)return null;const H=de=>{de.preventDefault(),a.trim()&&r(a,{model:p,maxOutputTokens:y?void 0:D,thinkingBudget:S?-1:L})},q=de=>{const Y=parseInt(de.target.value,10);_(Y),!S&&L>=Y&&N(Math.max(0,Y-512))},ce=de=>{const Y=parseInt(de.target.value,10);N(Y)},oe=p==="gemini-2.5-flash",me=o==="Secreta"?"Integrar Ideia Estratégica":`Integrar Nova Ideia ao ${o}`,U=o==="Secreta"?"Descreva uma ideia de alto nível, segredo de enredo, ou estratégia de monetização. A IA analisará o GDD e Roteiro como contexto, mas só modificará seus documentos secretos.":`Cole qualquer texto aqui - um novo documento, uma ideia, um parágrafo para adicionar, notas de reunião, etc. A IA irá analisá-lo e sugerir a melhor forma de integrá-lo ao ${o}.`,ae=o==="Secreta"?"Ex: O personagem Kael é na verdade um clone do vilão principal, e a profecia é uma farsa para manipular ambos...":"Ex: Vamos adicionar um sistema de criação onde os jogadores podem combinar fragmentos elementais para criar novos feitiços...";return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:de=>de.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:me}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsx("p",{className:"text-gray-400 mb-4",children:U}),b.jsxs("form",{onSubmit:H,children:[b.jsx("textarea",{value:a,onChange:de=>c(de.target.value),placeholder:ae,className:"w-full h-64 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configurações Avançadas"]}),d&&b.jsxs("div",{className:"mt-2 space-y-6 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"ai-model-idea",className:"block text-sm font-medium text-gray-300",children:"Modelo de IA"}),b.jsxs("select",{id:"ai-model-idea",value:p,onChange:de=>m(de.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base bg-gray-700 border-gray-600 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[b.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash (Rápido)"}),b.jsx("option",{value:"gemini-2.5-pro",children:"Gemini 2.5 Pro (Avançado)"})]}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'"Pro" é mais poderoso para tarefas complexas, mas pode ser mais lento.'})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("label",{htmlFor:"maxOutputTokens",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Saída: ",b.jsx("span",{className:"font-bold text-white",children:y?"Máximo":D.toLocaleString("pt-BR")})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"max-tokens-check",type:"checkbox",checked:y,onChange:de=>x(de.target.checked),className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500"}),b.jsx("label",{htmlFor:"max-tokens-check",className:"ml-2 text-sm text-gray-300",children:"Max"})]})]}),b.jsx("input",{id:"maxOutputTokens",type:"range",min:"2048",max:"65000",step:"512",value:D,onChange:q,disabled:y,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:opacity-50"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho máximo da resposta da IA."})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("label",{htmlFor:"thinkingBudget",className:`block text-sm font-medium transition-colors ${oe?"text-gray-300":"text-gray-500"}`,children:["Orçamento de Raciocínio: ",b.jsx("span",{className:"font-bold text-white",children:S?"Automático":L.toLocaleString("pt-BR")})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"auto-thinking-check",type:"checkbox",checked:S,onChange:de=>E(de.target.checked),disabled:!oe,className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"}),b.jsx("label",{htmlFor:"auto-thinking-check",className:`ml-2 text-sm transition-colors ${oe?"text-gray-300":"text-gray-500"}`,children:"Auto"})]})]}),b.jsx("input",{id:"thinkingBudget",type:"range",min:"0",max:y?16e3:Math.max(0,D-512),step:"256",value:L,onChange:ce,disabled:S||!oe,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:opacity-50"}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[`Reserva tokens para a IA "pensar" para melhor qualidade. 'Auto' é o recomendado.`,!oe&&b.jsx("span",{className:"text-yellow-500 block",children:"Indisponível para o modelo Pro."})]})]})]})]}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:!a.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Deixar a IA Integrar"})]})]})]})})},Sb=["Corrigir ortografia e gramática","Tornar o texto mais formal","Simplificar a linguagem","Expandir esta ideia","Resumir este ponto"],Eb=({isOpen:t,onClose:e,onSubmit:r,initialText:o,contextType:a})=>{const[c,d]=xe.useState(""),[h,p]=xe.useState(!1);if(xe.useEffect(()=>{t&&(d(""),p(!1))},[t]),!t)return null;const m=y=>{y.preventDefault(),c.trim()&&r(c,h)};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:y=>y.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-white flex items-center",children:"✨ Aprimorar Texto com IA"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Texto Original:"}),b.jsx("blockquote",{className:"bg-gray-900/50 border-l-4 border-gray-600 p-3 rounded-r-md text-gray-300 max-h-32 overflow-y-auto",children:o})]}),b.jsxs("form",{onSubmit:m,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Sugestões:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Sb.map(y=>b.jsx("button",{type:"button",onClick:()=>d(y),className:"px-3 py-1 text-sm bg-gray-700 hover:bg-indigo-600 rounded-full transition-colors",children:y},y))})]}),b.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:"Ou escreva sua própria instrução aqui...",className:"w-full h-24 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),b.jsx("div",{className:"mt-4",children:b.jsxs("label",{className:"flex items-center text-gray-400 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:h,onChange:y=>p(y.target.checked),className:"w-4 h-4 bg-gray-900 border-gray-600 rounded text-indigo-600 focus:ring-indigo-500"}),b.jsxs("span",{className:"ml-2 text-sm select-none",children:["Incluir contexto (enviar todo o ",a," para a IA)"]})]})}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:!c.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:"Aprimorar"})]})]})]})})},_b=({isOpen:t,onClose:e,onSubmit:r,contextType:o})=>{const[a,c]=xe.useState(""),[d,h]=xe.useState(!1),[p,m]=xe.useState("gemini-2.5-flash"),[y,x]=xe.useState(!0),[S,E]=xe.useState(!0),[D,_]=xe.useState(65e3),[L,N]=xe.useState(1e4),[I,O]=xe.useState(1e4);if(xe.useEffect(()=>{t&&(c(""),h(!1),m("gemini-2.5-flash"),x(!0),E(!0),_(65e3),N(1e4),O(1e4))},[t]),xe.useEffect(()=>{S?(O(L),N(-1)):N(I===-1?1e4:I)},[S]),!t)return null;const H=U=>{U.preventDefault(),a.trim()&&r(a,{model:p,maxOutputTokens:y?void 0:D,thinkingBudget:S?-1:L})},q=U=>{const ae=parseInt(U.target.value,10);_(ae),!S&&L>=ae&&N(Math.max(0,ae-512))},ce=U=>{const ae=parseInt(U.target.value,10);N(ae)},oe=p==="gemini-2.5-flash",me=o==="GDD"?"Ex: Crie uma nova categoria 'Inimigos' e adicione documentos para 'Grunt' e 'Brute' com base na lore existente...":"Ex: Divida o Ato 1 em mais duas missões, focando na introdução da mecânica de furtividade antes do primeiro chefe.";return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:U=>U.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Atualização Global do ",o," com IA"]}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsxs("p",{className:"text-gray-400 mb-4",children:["Forneça uma instrução de alto nível. A IA analisará todo o ",o," e aplicará as mudanças necessárias, como criar novos documentos, atualizar seções existentes e garantir a consistência dos links."]}),b.jsxs("form",{onSubmit:H,children:[b.jsx("textarea",{value:a,onChange:U=>c(U.target.value),placeholder:me,className:"w-full h-48 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("button",{type:"button",onClick:()=>h(!d),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none",children:[d?"Ocultar":"Mostrar"," Configurações Avançadas"]}),d&&b.jsxs("div",{className:"mt-2 space-y-6 p-4 bg-gray-900/50 rounded-lg border border-gray-700 animate-fade-in",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"ai-model-global",className:"block text-sm font-medium text-gray-300",children:"Modelo de IA"}),b.jsxs("select",{id:"ai-model-global",value:p,onChange:U=>m(U.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base bg-gray-700 border-gray-600 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[b.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash (Rápido)"}),b.jsx("option",{value:"gemini-2.5-pro",children:"Gemini 2.5 Pro (Avançado)"})]}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'"Pro" é mais poderoso para tarefas complexas, mas pode ser mais lento.'})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("label",{htmlFor:"maxOutputTokensGlobal",className:"block text-sm font-medium text-gray-300",children:["Limite de Tokens de Saída: ",b.jsx("span",{className:"font-bold text-white",children:y?"Máximo":D.toLocaleString("pt-BR")})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"max-tokens-check-global",type:"checkbox",checked:y,onChange:U=>x(U.target.checked),className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500"}),b.jsx("label",{htmlFor:"max-tokens-check-global",className:"ml-2 text-sm text-gray-300",children:"Max"})]})]}),b.jsx("input",{id:"maxOutputTokensGlobal",type:"range",min:"2048",max:"65000",step:"512",value:D,onChange:q,disabled:y,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:opacity-50"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Controla o tamanho máximo da resposta da IA."})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("label",{htmlFor:"thinkingBudgetGlobal",className:`block text-sm font-medium transition-colors ${oe?"text-gray-300":"text-gray-500"}`,children:["Orçamento de Raciocínio: ",b.jsx("span",{className:"font-bold text-white",children:S?"Automático":L.toLocaleString("pt-BR")})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"auto-thinking-check-global",type:"checkbox",checked:S,onChange:U=>E(U.target.checked),disabled:!oe,className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"}),b.jsx("label",{htmlFor:"auto-thinking-check-global",className:`ml-2 text-sm transition-colors ${oe?"text-gray-300":"text-gray-500"}`,children:"Auto"})]})]}),b.jsx("input",{id:"thinkingBudgetGlobal",type:"range",min:"0",max:y?16e3:Math.max(0,D-512),step:"256",value:L,onChange:ce,disabled:S||!oe,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:opacity-50"}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[`Reserva tokens para a IA "pensar" para melhor qualidade. 'Auto' é o recomendado.`,!oe&&b.jsx("span",{className:"text-yellow-500 block",children:"Indisponível para o modelo Pro."})]})]})]})]}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsxs("button",{type:"submit",disabled:!a.trim(),className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:["Atualizar ",o]})]})]})]})})},Cb=({message:t,currentTokens:e,estimatedTokens:r})=>{const o=r&&e&&r>0?e/r*100:0,a=typeof e=="number"&&typeof r=="number"&&r>0;return b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 text-white",children:[b.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b.jsx("p",{className:"text-xl font-semibold mb-4",children:t}),a&&b.jsxs("div",{className:"w-80 text-center",children:[b.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:b.jsx("div",{className:"bg-indigo-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(o,100)}%`}})}),b.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[e.toLocaleString("pt-BR")," / ",r.toLocaleString("pt-BR")," tokens gerados (estimativa)"]})]})]})},Ab=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Nb=({isOpen:t,onClose:e,targetDocTitle:r,references:o,onNavigate:a})=>{if(!t)return null;const c=d=>{a(d),e()};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all",onClick:d=>d.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-start mb-6",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(Ab,{}),b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-white",children:['Referências a "',r,'"']}),b.jsxs("p",{className:"text-gray-400 text-sm",children:[o.length," menção(ões) encontrada(s)."]})]})]}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),o.length>0?b.jsx("ul",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:o.map((d,h)=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>c(d.docId),className:"w-full text-left bg-gray-900/50 p-4 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("div",{className:"font-semibold text-indigo-400 text-lg",children:d.docTitle}),b.jsx("div",{className:"text-xs text-gray-500 mb-2 uppercase tracking-wider",children:d.category}),b.jsxs("blockquote",{className:"text-gray-300 border-l-2 border-gray-600 pl-3 text-sm italic",children:["...",d.snippet,"..."]})]})},h))}):b.jsx("div",{className:"text-center py-10",children:b.jsx("p",{className:"text-gray-400",children:"Nenhuma referência encontrada para este documento."})})]})})},vy=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75a7.5 7.5 0 01-7.5-7.5"})]}),Rb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Mb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v18m-4.5-13.5h9M5.25 6H18.75M8.25 4.5V3.75a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5V4.5m-6 13.5V18a1.5 1.5 0 011.5-1.5h3a1.5 1.5 0 011.5 1.5v.75"})}),Db=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Ib=({isOpen:t,onToggle:e,messages:r,isLoading:o,onSendMessage:a,onClearChat:c})=>{const[d,h]=xe.useState(""),p=xe.useRef(null);xe.useEffect(()=>{var x;(x=p.current)==null||x.scrollIntoView({behavior:"smooth"})},[r,o]);const m=()=>{d.trim()&&!o&&(a(d),h(""))},y=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),m())};return t?b.jsxs("div",{className:"fixed bottom-4 right-4 w-[calc(100vw-2rem)] max-w-[400px] h-[70vh] max-h-[600px] bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl flex flex-col z-50 animate-fade-in",children:[b.jsxs("header",{className:"flex items-center justify-between p-4 bg-gray-900/50 rounded-t-2xl border-b border-gray-700",children:[b.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[b.jsx(vy,{}),b.jsx("span",{className:"ml-2",children:"Consulta Avançada"})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",title:"Limpar chat",disabled:r.length===0,children:b.jsx(Mb,{})}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:b.jsx(Rb,{})})]})]}),b.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[r.length===0&&b.jsx("div",{className:"text-center text-gray-400 text-sm h-full flex items-center justify-center",children:b.jsx("p",{children:'Faça uma pergunta sobre o GDD ou o Roteiro. Por exemplo: "Qual o loop de gameplay principal?"'})}),r.map((x,S)=>b.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:b.jsx("div",{className:`max-w-[80%] rounded-xl px-4 py-2 ${x.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-200"}`,children:b.jsx("p",{className:"text-sm whitespace-pre-wrap",children:x.text})})},S)),o&&b.jsx("div",{className:"flex justify-start",children:b.jsx("div",{className:"max-w-[80%] rounded-xl px-4 py-2 bg-gray-700 text-gray-200",children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"})]})})}),b.jsx("div",{ref:p})]}),b.jsx("div",{className:"p-4 border-t border-gray-700",children:b.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg pr-2",children:[b.jsx("input",{type:"text",value:d,onChange:x=>h(x.target.value),onKeyPress:y,placeholder:"Pergunte algo...",className:"w-full bg-transparent p-3 text-sm text-gray-200 focus:outline-none",disabled:o}),b.jsx("button",{onClick:m,disabled:!d.trim()||o,className:"p-2 rounded-md text-gray-400 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed",children:b.jsx(Db,{})})]})})]}):b.jsx("button",{onClick:e,className:"fixed bottom-4 right-4 md:bottom-6 md:right-6 bg-indigo-600 text-white rounded-full p-4 shadow-lg hover:bg-indigo-500 transition-transform hover:scale-110 z-50",title:"Consulta Avançada",children:b.jsx(vy,{})})},kb=({isOpen:t,onClose:e,insight:r})=>{const[o,a]=xe.useState(!1);if(!t||!r)return null;const{summary:c,thinkingProcess:d,rawJson:h}=r;let p="";try{p=JSON.stringify(JSON.parse(h),null,2)}catch{p="Erro ao formatar JSON: "+h}return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-3xl transform transition-all flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Análise da Última Ação da IA"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsxs("div",{className:"overflow-y-auto pr-4 -mr-4 space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Resumo da IA"}),b.jsxs("p",{className:"bg-gray-900/50 p-3 rounded-md text-gray-300 italic",children:['"',c,'"']})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-teal-400 mb-2",children:"Processo de Raciocínio"}),b.jsx("ol",{className:"list-decimal list-inside bg-gray-900/50 p-4 rounded-md text-gray-300 space-y-2",children:d.map((m,y)=>b.jsx("li",{children:m},y))})]}),b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>a(!o),className:"text-sm text-teal-400 hover:text-teal-300 focus:outline-none mb-2",children:[o?"Ocultar":"Mostrar"," Saída JSON Bruta"]}),o&&b.jsx("div",{className:"animate-fade-in bg-gray-900 p-4 rounded-md border border-gray-700 max-h-80 overflow-auto",children:b.jsx("pre",{className:"text-xs text-gray-400",children:b.jsx("code",{children:p})})})]})]})]})})},Lb=({isOpen:t,onClose:e,onSubmit:r})=>{const[o,a]=xe.useState("");if(!t)return null;const c=d=>{d.preventDefault(),r(o),a("")};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all",onClick:d=>d.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerar Imagem com IA"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsx("p",{className:"text-gray-400 mb-4",children:"Opcionalmente, descreva a cena que você quer gerar. A IA usará o contexto do documento (estilo visual, personagens) para criar um prompt detalhado e gerar uma imagem consistente com o GDD."}),b.jsxs("form",{onSubmit:c,children:[b.jsx("textarea",{value:o,onChange:d=>a(d.target.value),placeholder:"Ex: Kael em uma pose de combate, com seu amuleto brilhando intensamente...",className:"w-full h-40 p-4 bg-gray-900 border border-gray-700 rounded-md text-gray-200 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 transition-colors",children:"Gerar Imagem"})]})]})]})})},Ub=({isOpen:t,onClose:e,onUploadLocal:r,onUploadFromUrl:o,isGoogleAuth:a,onGoogleAuthClick:c})=>{const[d,h]=xe.useState("");if(!t)return null;const p=m=>{m.preventDefault(),d.trim()&&o(d)};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:m=>m.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar GDD & Roteiro"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Do seu computador"}),b.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Carregue um arquivo .json salvo anteriormente a partir desta aplicação."}),b.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md",children:[b.jsx(sw,{}),b.jsx("span",{className:"ml-2",children:"Escolher Arquivo do Computador"})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:b.jsx("div",{className:"w-full border-t border-gray-600"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Ou"})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"De um link do Google Drive"}),b.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Cole um link compartilhável de um arquivo .json. Arquivos públicos carregarão diretamente."}),b.jsxs("form",{onSubmit:p,className:"flex items-start space-x-2",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsx("input",{type:"url",value:d,onChange:m=>h(m.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),!a&&b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Para arquivos privados, você precisará"," ",b.jsx("button",{type:"button",onClick:c,className:"text-indigo-400 hover:underline font-semibold",children:"conectar sua conta do Google"}),"."]}),a&&b.jsxs("p",{className:"text-xs text-green-400 mt-1 flex items-center",children:[b.jsx(aw,{})," ",b.jsx("span",{className:"ml-1",children:"Conectado ao Google. Arquivos privados podem ser carregados."})]})]}),b.jsx("button",{type:"submit",disabled:!d.trim(),className:"px-4 py-2 rounded-md font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 transition-colors flex-shrink-0",children:"Carregar"})]})]})]})]})})},Bb=({isOpen:t,onClose:e,isClosable:r=!0,initialUrl:o,initialKey:a,onSaveSettings:c,onUploadClick:d,onDownloadClick:h,isSyncing:p})=>{const[m,y]=xe.useState(o),[x,S]=xe.useState(a),[E,D]=xe.useState(!1);if(!t)return null;const _=()=>{c(m,x)},L=()=>{r&&e()},N=m&&x;return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:L,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-xl transform transition-all animate-dropdown",onClick:I=>I.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[b.jsx(hh,{}),b.jsx("span",{className:"ml-3",children:"Sincronização na Nuvem"})]}),b.jsx("button",{onClick:L,className:"text-gray-400 hover:text-white text-3xl leading-none disabled:text-gray-600 disabled:cursor-not-allowed",disabled:!r,children:"×"})]}),b.jsxs("div",{className:"space-y-6",children:[!r&&b.jsx("div",{className:"p-3 bg-yellow-900/40 border border-yellow-700 rounded-md text-sm text-yellow-300",children:b.jsx("p",{children:"Por favor, insira e salve suas credenciais de sincronização na nuvem para começar a usar a aplicação."})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Configuração"}),b.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Insira os detalhes do seu Worker Cloudflare e a chave de acesso para ativar a sincronização. As informações serão salvas localmente no seu navegador."}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"worker-url",className:"block text-sm font-medium text-gray-300 mb-1",children:"URL do Worker"}),b.jsx("input",{id:"worker-url",type:"url",value:m,onChange:I=>y(I.target.value),placeholder:"https://meu-gdd.meu-usuario.workers.dev",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"access-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chave de Administrador"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"access-key",type:E?"text":"password",value:x,onChange:I=>S(I.target.value),placeholder:"Sua chave secreta",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-10"}),b.jsx("button",{type:"button",onClick:()=>D(!E),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-300",title:E?"Ocultar chave":"Mostrar chave",children:E?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"})}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.644l.66-1.229a1.012 1.012 0 000-.644l-.66-1.229a1.012 1.012 0 01.644-1.666l1.229.66a1.012 1.012 0 00.644 0l1.229-.66a1.012 1.012 0 011.666.644l-.66 1.229a1.012 1.012 0 000 .644l.66 1.229a1.012 1.012 0 01-.644 1.666l-1.229-.66a1.012 1.012 0 00-.644 0l-1.229.66a1.012 1.012 0 01-1.666-.644l.66-1.229a1.012 1.012 0 000-.644l-.66-1.229z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})]}),b.jsx("button",{onClick:_,className:"mt-4 w-full px-4 py-2 text-sm font-semibold rounded-md text-white bg-gray-600 hover:bg-gray-500 transition-colors",children:"Salvar Configurações"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:b.jsx("div",{className:"w-full border-t border-gray-600"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-gray-800 text-gray-500 uppercase",children:"Ações"})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:d,disabled:!N||p,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors rounded-md",children:p?"Sincronizando...":"Salvar Versão na Nuvem"}),b.jsx("button",{onClick:h,disabled:!N||p,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors rounded-md",children:p?"Sincronizando...":"Carregar Versão da Nuvem"})]}),!N&&b.jsx("p",{className:"text-xs text-yellow-500 mt-2 text-center",children:"Salve a URL e a Chave para ativar as ações de sincronização."})]})]})]})})},Pb=({isOpen:t,onClose:e,onConfirm:r,title:o,message:a})=>t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:c=>c.stopPropagation(),children:[b.jsxs("div",{className:"flex items-start",children:[b.jsx("div",{className:"mr-4 flex-shrink-0",children:b.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-900/50 flex items-center justify-center",children:b.jsx(db,{})})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:o}),b.jsx("p",{className:"text-gray-400 mt-2",children:a})]})]}),b.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 rounded-md font-semibold text-white bg-yellow-600 hover:bg-yellow-500 transition-colors",children:"Confirmar"})]})]})}):null,Ob=({isOpen:t,onClose:e,onSave:r,isSaving:o})=>{const[a,c]=xe.useState("");if(!t)return null;const d=h=>{h.preventDefault(),a.trim()&&r(a)};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:h=>h.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Salvar Versão na Nuvem"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsx("p",{className:"text-gray-400 mb-4",children:'Dê um nome a esta versão para identificá-la facilmente mais tarde. Ex: "Após a reunião de design".'}),b.jsxs("form",{onSubmit:d,children:[b.jsx("input",{type:"text",value:a,onChange:h=>c(h.target.value),placeholder:"Nome da Versão",className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,disabled:o,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:!a.trim()||o,className:"px-6 py-2 rounded-md font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:o?"Salvando...":"Salvar"})]})]})]})})},Fb=t=>{if(!t)return"Data desconhecida";try{const e=new Date(t);return new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return"Data inválida"}},wy=({title:t,versions:e,onLoadVersion:r})=>b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:t}),e.length>0?b.jsx("ul",{className:"space-y-2",children:e.map(o=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>r(o.id),className:"w-full text-left p-3 bg-gray-900/50 rounded-lg hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.name&&b.jsx("div",{className:"font-semibold text-indigo-400",children:o.name}),b.jsx("div",{className:"text-sm text-gray-400",children:Fb(o.timestamp)})]})},o.id))}):b.jsx("p",{className:"text-sm text-gray-500 italic",children:"Nenhuma versão encontrada."})]}),zb=({isOpen:t,onClose:e,onLoadVersion:r,versions:o,isLoading:a,error:c})=>t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all animate-dropdown flex flex-col max-h-[90vh]",onClick:d=>d.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Carregar Versão da Nuvem"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsxs("div",{className:"overflow-y-auto pr-2 -mr-4",children:[a&&b.jsx("p",{className:"text-center text-gray-400",children:"Buscando versões..."}),c&&b.jsx("p",{className:"text-center text-red-400 bg-red-900/50 p-3 rounded-md",children:c}),o&&b.jsxs("div",{className:"space-y-6",children:[b.jsx(wy,{title:"Versões Manuais",versions:o.manual,onLoadVersion:r}),b.jsx(wy,{title:"Backups Automáticos",versions:o.automatic,onLoadVersion:r})]})]})]})}):null,Gb=t=>{if(!t)return"Data desconhecida";try{const e=new Date(t);return new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return"Data inválida"}},Vb=({isOpen:t,onClose:e,onConfirm:r,latestVersion:o})=>!t||!o?null:b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all animate-dropdown",onClick:a=>a.stopPropagation(),children:[b.jsxs("div",{className:"flex items-start",children:[b.jsx("div",{className:"mr-4 flex-shrink-0",children:b.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-900/50 flex items-center justify-center text-blue-400",children:b.jsx(hh,{})})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:"Atualização Disponível na Nuvem"}),b.jsx("p",{className:"text-gray-400 mt-2",children:"Uma versão mais recente dos seus documentos foi encontrada na nuvem. Deseja carregá-la agora?"}),b.jsxs("div",{className:"mt-4 p-3 bg-gray-900/50 rounded-md border border-gray-700",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-200",children:o.name?`Nome: ${o.name}`:"Backup Automático"}),b.jsxs("p",{className:"text-xs text-gray-500",children:["Salvo em: ",Gb(o.timestamp)]})]}),b.jsx("p",{className:"text-xs text-yellow-400 mt-3",children:"Atenção: Carregar esta versão substituirá quaisquer alterações locais não salvas."})]})]}),b.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Ignorar"}),b.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 rounded-md font-semibold text-white bg-blue-600 hover:bg-blue-500 transition-colors",children:"Carregar Versão Mais Recente"})]})]})}),qb=({isOpen:t,onClose:e,onUnlock:r})=>{const[o,a]=xe.useState(""),[c,d]=xe.useState(null),[h,p]=xe.useState(!1);if(!t)return null;const m=async y=>{if(y.preventDefault(),d(null),!o.trim()){d("A chave não pode estar em branco.");return}p(!0);try{await r(o)||d("A chave de administrador está incorreta ou a verificação falhou.")}catch(x){d(x instanceof Error?x.message:"Ocorreu um erro de comunicação.")}finally{p(!1)}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-dropdown",onClick:y=>y.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[b.jsx(Kd,{}),b.jsx("span",{className:"ml-2",children:"Acessar Categoria Secreta"})]}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsx("p",{className:"text-gray-400 mb-4",children:"Para visualizar e editar documentos estratégicos, por favor, insira sua chave de Administrador do Worker."}),b.jsxs("form",{onSubmit:m,children:[b.jsx("input",{type:"password",value:o,onChange:y=>{a(y.target.value),d(null)},placeholder:"Sua Chave de Administrador",className:`w-full bg-gray-900 border ${c?"border-red-500":"border-gray-700"} rounded-md p-2 text-sm focus:outline-none focus:ring-2 ${c?"focus:ring-red-500":"focus:ring-indigo-500"}`,autoFocus:!0,disabled:h}),c&&b.jsx("p",{className:"text-red-400 text-sm mt-2",children:c}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,disabled:h,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:!o.trim()||h,className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:h?"Verificando...":"Desbloquear"})]})]})]})})},Hb=t=>t?t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",Kb=({isOpen:t,onClose:e,onSave:r,nodeToEdit:o,allDocuments:a})=>{const[c,d]=xe.useState(""),[h,p]=xe.useState(""),[m,y]=xe.useState("");xe.useEffect(()=>{o&&(d(o.label),p(o.docId||""),y(o.headingSlug||""))},[o]);const x=xe.useMemo(()=>{if(!h)return[];const E=a.find(D=>D.id===h);return E?E.content.filter(D=>D.type==="heading").map(D=>({text:D.text,slug:Hb(D.text)})):[]},[h,a]),S=E=>{E.preventDefault(),!(!o||!c.trim())&&r({...o,label:c.trim(),docId:h||void 0,headingSlug:m||void 0})};return!t||!o?null:b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-lg transform transition-all",onClick:E=>E.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Editar Nó do Mapa Mental"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"×"})]}),b.jsxs("form",{onSubmit:S,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"node-label",className:"block text-sm font-medium text-gray-300 mb-1",children:"Rótulo do Nó"}),b.jsx("input",{id:"node-label",type:"text",value:c,onChange:E=>d(E.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"node-link-doc",className:"block text-sm font-medium text-gray-300 mb-1",children:"Link para Documento (Opcional)"}),b.jsxs("select",{id:"node-link-doc",value:h,onChange:E=>{p(E.target.value),y("")},className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Nenhum"}),a.map(E=>b.jsx("option",{value:E.id,children:E.title},E.id))]})]}),h&&x.length>0&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"node-link-heading",className:"block text-sm font-medium text-gray-300 mb-1",children:"Link para Título (Opcional)"}),b.jsxs("select",{id:"node-link-heading",value:m,onChange:E=>y(E.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Topo do Documento"}),x.map(E=>b.jsx("option",{value:E.slug,children:E.text},E.slug))]})]}),b.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[b.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors",children:"Salvar"})]})]})]})})},Yb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),$b=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),Jb=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Jf={PlusIcon:Yb,EditIcon:$b,TrashIcon:Jb},Zt=180,Qt=50,Hn=60,Kn=30,Ql=50,Wf=["#ef4444","#f97316","#eab308","#84cc16","#22c55e","#14b8a6","#06b6d4","#3b82f6","#8b5cf6","#d946ef"],uw=(t,e)=>{const r=t.filter(o=>o.parentId===e);return r.length===0?[]:r.flatMap(o=>[o.id,...uw(t,o.id)])},Wb=t=>{if(!t)return Wf[0];const e=t.split("").reduce((o,a)=>a.charCodeAt(0)+((o<<5)-o),0),r=Math.abs(e%Wf.length);return Wf[r]},jb=({allDocuments:t,onNavigate:e,nodes:r,setNodes:o})=>{const[a,c]=xe.useState({x:-window.innerWidth/2,y:-window.innerHeight/2,width:window.innerWidth,height:window.innerHeight}),[d,h]=xe.useState(!1),p=xe.useRef({x:0,y:0}),[m,y]=xe.useState(null),[x,S]=xe.useState(!1),E=xe.useRef(null),D=xe.useRef(null);xe.useEffect(()=>{const U=ae=>{ae.key==="d"&&S(de=>!de)};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[]);const{layout:_,clearZone:L}=xe.useMemo(()=>{const U=new Map;let ae={x:0,y:0,width:0,height:0};if(r.length===0)return{layout:U,clearZone:ae};const de=new Map;if(r.length>0){const V=K=>{if(z.has(K))return z.get(K);const ue=r.find(R=>R.id===K);if(ue){if(ue.parentId==="root"&&ue.branch)return z.set(K,ue.branch),ue.branch;if(ue.parentId){const R=V(ue.parentId);return R&&z.set(K,R),R}}},z=de;r.forEach(K=>V(K.id))}const Y=new Map;r.forEach(V=>{V.parentId&&(Y.has(V.parentId)||Y.set(V.parentId,[]),Y.get(V.parentId).push(V))});const fe=new Map,B=V=>{if(fe.has(V))return fe.get(V);const z=Y.get(V)||[];if(z.length===0){const v={width:Zt,height:Qt};return fe.set(V,v),v}const K=z.map(v=>B(v.id)),ue=de.get(V),R=ue==="left"||ue==="right";let X,M;R?(X=Math.max(...K.map(v=>v.width)),M=K.reduce((v,C)=>v+C.height,0)+Kn*(z.length-1)):(X=K.reduce((v,C)=>v+C.width,0)+Hn*(z.length-1),M=Math.max(...K.map(v=>v.height)));const w={width:R?Zt+Hn+X:Math.max(Zt,X),height:R?Math.max(Qt,M):Qt+Kn+M};return fe.set(V,w),w},le={top:r.filter(V=>V.parentId==="root"&&V.branch==="top"),right:r.filter(V=>V.parentId==="root"&&V.branch==="right"),bottom:r.filter(V=>V.parentId==="root"&&V.branch==="bottom"),left:r.filter(V=>V.parentId==="root"&&V.branch==="left")};B("root"),r.forEach(V=>B(V.id));const se=le.top.reduce((V,z)=>V+fe.get(z.id).width,0)+Hn*Math.max(0,le.top.length-1),ne=le.bottom.reduce((V,z)=>V+fe.get(z.id).width,0)+Hn*Math.max(0,le.bottom.length-1),Me=le.left.reduce((V,z)=>V+fe.get(z.id).height,0)+Kn*Math.max(0,le.left.length-1),ye=le.right.reduce((V,z)=>V+fe.get(z.id).height,0)+Kn*Math.max(0,le.right.length-1),j=Math.max(Zt,se,ne),W=Math.max(Qt,Me,ye),F={x_min:-j/2-Hn-Ql,x_max:j/2+Hn+Ql,y_min:-W/2-Kn-Ql,y_max:W/2+Kn+Ql};ae={x:F.x_min,y:F.y_min,width:F.x_max-F.x_min,height:F.y_max-F.y_min};const Q=-Zt/2,re=-Qt/2;U.set("root",{x:Q,y:re,width:Zt,height:Qt,bBox:fe.get("root"),bBoxX:Q,bBoxY:re});const pe=V=>{const z=U.get(V),K=Y.get(V)||[];if(K.length===0)return;const ue=K.map(Z=>fe.get(Z.id)),R=de.get(K[0].id),X=z.y,M=z.y+Qt,w=z.x,v=z.x+Zt,C=z.y+Qt/2,$=z.x+Zt/2;if(R==="left"||R==="right"){const Z=ue.reduce((we,Ie)=>we+Ie.height,0)+Kn*(K.length-1);let J=C-Z/2;K.forEach((we,Ie)=>{const be=ue[Ie],Oe=J+(be.height-Qt)/2;let Ge,He;R==="right"?(Ge=v+Hn,He=Ge):(Ge=w-Hn-Zt,He=Ge-(be.width-Zt));const tt=J;U.set(we.id,{x:Ge,y:Oe,width:Zt,height:Qt,bBox:be,bBoxX:He,bBoxY:tt}),pe(we.id),J+=be.height+Kn})}else{const Z=ue.reduce((we,Ie)=>we+Ie.width,0)+Hn*(K.length-1);let J=$-Z/2;K.forEach((we,Ie)=>{const be=ue[Ie],Oe=J+(be.width-Zt)/2;let Ge,He;R==="bottom"?(Ge=M+Kn,He=Ge):(Ge=X-Kn-Qt,He=Ge-(be.height-Qt));const tt=J;U.set(we.id,{x:Oe,y:Ge,width:Zt,height:Qt,bBox:be,bBoxX:tt,bBoxY:He}),pe(we.id),J+=be.width+Hn})}};let te=-se/2;le.top.forEach(V=>{const z=fe.get(V.id),K=te+(z.width-Zt)/2,ue=F.y_min-z.height;U.set(V.id,{x:K,y:ue,width:Zt,height:Qt,bBox:z,bBoxX:te,bBoxY:ue}),pe(V.id),te+=z.width+Hn});let k=-ne/2;le.bottom.forEach(V=>{const z=fe.get(V.id),K=k+(z.width-Zt)/2,ue=F.y_max;U.set(V.id,{x:K,y:ue,width:Zt,height:Qt,bBox:z,bBoxX:k,bBoxY:ue}),pe(V.id),k+=z.width+Hn});let A=-ye/2;le.right.forEach(V=>{const z=fe.get(V.id),K=F.x_max,ue=A+(z.height-Qt)/2;U.set(V.id,{x:K,y:ue,width:Zt,height:Qt,bBox:z,bBoxX:K,bBoxY:A}),pe(V.id),A+=z.height+Kn});let ee=-Me/2;return le.left.forEach(V=>{const z=fe.get(V.id),K=F.x_min-z.width,ue=ee+(z.height-Qt)/2;U.set(V.id,{x:K,y:ue,width:Zt,height:Qt,bBox:z,bBoxX:K,bBoxY:ee}),pe(V.id),ee+=z.height+Kn}),{layout:U,clearZone:ae}},[r]),N=(U,ae)=>{const de={id:`node-${Date.now()}`,parentId:U,label:"Novo Tópico",...ae&&{branch:ae}};o(Y=>[...Y,de])},I=U=>{o(ae=>{const de=new Set([U,...uw(ae,U)]);return ae.filter(Y=>!de.has(Y.id))})},O=U=>{o(ae=>ae.map(de=>de.id===U.id?U:de)),y(null)},H=U=>{U.preventDefault();const ae=1.1,{clientX:de,clientY:Y,deltaY:fe}=U;if(!E.current)return;const{left:B,top:le,width:se,height:ne}=E.current.getBoundingClientRect(),Me=de-B,ye=Y-le,j=fe>0?a.width*ae:a.width/ae,W=fe>0?a.height*ae:a.height/ae,F=Me/se*(a.width-j),Q=ye/ne*(a.height-W);c(re=>({x:re.x+F,y:re.y+Q,width:j,height:W}))},q=U=>{U.button!==0||U.target.closest(".node-container, .action-button")||(h(!0),p.current={x:U.clientX,y:U.clientY})},ce=()=>h(!1),oe=U=>{if(!d||!E.current)return;const ae=a.width/E.current.clientWidth,de=a.height/E.current.clientHeight,Y=U.clientX-p.current.x,fe=U.clientY-p.current.y;c(B=>({...B,x:B.x-Y*ae,y:B.y-fe*de})),p.current={x:U.clientX,y:U.clientY}},me=U=>{const ae=U.parentId?_.get(U.parentId):null,de=_.get(U.id);if(!ae||!de)return null;const fe=U.parentId==="root"?U.branch==="top"||U.branch==="bottom":Math.abs(ae.y-de.y)>Math.abs(ae.x-de.x);let B,le,se,ne;if(fe)if(de.y>ae.y){B=ae.x+ae.width/2,le=ae.y+ae.height,se=de.x+de.width/2,ne=de.y;const Me=le+(ne-le)/2;return`M ${B},${le} V ${Me} H ${se} V ${ne}`}else{B=ae.x+ae.width/2,le=ae.y,se=de.x+de.width/2,ne=de.y+de.height;const Me=le+(ne-le)/2;return`M ${B},${le} V ${Me} H ${se} V ${ne}`}else if(de.x>ae.x){B=ae.x+ae.width,le=ae.y+ae.height/2,se=de.x,ne=de.y+de.height/2;const Me=B+(se-B)/2;return`M ${B},${le} H ${Me} V ${ne} H ${se}`}else{B=ae.x,le=ae.y+ae.height/2,se=de.x+de.width,ne=de.y+de.height/2;const Me=B+(se-B)/2;return`M ${B},${le} H ${Me} V ${ne} H ${se}`}};return b.jsxs("div",{className:"w-full h-full relative overflow-hidden bg-gray-900 font-sans",children:[b.jsx("div",{ref:E,className:"w-full h-full",onWheel:H,onMouseDown:q,onMouseUp:ce,onMouseLeave:ce,onMouseMove:oe,style:{cursor:d?"grabbing":"grab"},children:b.jsxs("svg",{ref:D,width:"100%",height:"100%",viewBox:`${a.x} ${a.y} ${a.width} ${a.height}`,children:[b.jsx("defs",{children:b.jsx("pattern",{id:"grid-dots",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:b.jsx("circle",{cx:"1",cy:"1",r:"1",fill:"#4a5568"})})}),b.jsx("rect",{x:a.x,y:a.y,width:a.width,height:a.height,fill:"#1a202c"}),b.jsx("rect",{x:a.x,y:a.y,width:a.width,height:a.height,fill:"url(#grid-dots)",opacity:"0.5"}),x&&b.jsxs("g",{id:"debug-layer",style:{pointerEvents:"none"},children:[b.jsx("rect",{x:L.x,y:L.y,width:L.width,height:L.height,fill:"rgba(100, 116, 139, 0.1)",stroke:"rgba(100, 116, 139, 0.5)",strokeDasharray:"5,5",children:b.jsx("title",{children:"Zona de Segurança (ClearZone)"})}),Array.from(_.entries()).map(([U,ae])=>{const de=r.find(fe=>fe.id===U);if(!de)return null;const Y=Wb(U==="root"?"root":de.parentId==="root"?U:de.parentId);return b.jsxs("g",{children:[b.jsx("rect",{x:ae.bBoxX,y:ae.bBoxY,width:ae.bBox.width,height:ae.bBox.height,fill:Y,fillOpacity:"0.1",stroke:Y,strokeOpacity:"0.5",strokeWidth:"1",children:b.jsxs("title",{children:['bBox: "',de.label,'" (w:',Math.round(ae.bBox.width),", h:",Math.round(ae.bBox.height),")"]})}),b.jsx("rect",{x:ae.x,y:ae.y,width:ae.width,height:ae.height,fill:Y,fillOpacity:"0.3",children:b.jsxs("title",{children:['Nó: "',de.label,'"']})})]},`debug-${U}`)})]}),b.jsx("g",{children:r.filter(U=>U.id!=="root").map(U=>{const ae=me(U);return ae?b.jsx("path",{d:ae,stroke:"#4a5568",strokeWidth:"2",fill:"none"},`line-${U.id}`):null})}),r.map(U=>{const ae=_.get(U.id);if(!ae)return null;const de=U.id==="root",Y={"--node-bg":U.docId?"#2d3748":"#1a202c","--node-border":de?"#6366f1":U.docId?"#4f46e5":"#4a5568","--node-text":de?"#c7d2fe":U.docId?"#a5b4fc":"#a0aec0"},fe=({onClick:B,className:le})=>b.jsx("button",{onClick:B,className:`action-button group-hover:opacity-100 group-hover:scale-100 ${le}`,children:b.jsx(Jf.PlusIcon,{})});return b.jsx("g",{className:"node-container transition-transform duration-500 ease-in-out",style:{transform:`translate(${ae.x}px, ${ae.y}px)`},children:b.jsx("foreignObject",{width:ae.width,height:ae.height,style:{overflow:"visible"},children:b.jsxs("div",{className:"group relative w-full h-full",style:Y,children:[b.jsx("div",{onClick:()=>U.docId&&e(U.docId,U.headingSlug),className:"w-full h-full flex items-center justify-center p-2 rounded-lg shadow-lg text-center text-sm border-2 transition-colors cursor-pointer",style:{backgroundColor:"var(--node-bg)",borderColor:"var(--node-border)",color:"var(--node-text)"},children:b.jsx("span",{className:"truncate",children:U.label})}),b.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[de?b.jsxs(b.Fragment,{children:[b.jsx(fe,{onClick:B=>{B.stopPropagation(),N("root","top")},className:"bottom-full mb-1"}),b.jsx(fe,{onClick:B=>{B.stopPropagation(),N("root","bottom")},className:"top-full mt-1"}),b.jsx(fe,{onClick:B=>{B.stopPropagation(),N("root","left")},className:"right-full mr-1"}),b.jsx(fe,{onClick:B=>{B.stopPropagation(),N("root","right")},className:"left-full ml-1"})]}):b.jsx(fe,{onClick:B=>{B.stopPropagation(),N(U.id)},className:"left-full ml-1"}),!de&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:B=>{B.stopPropagation(),y(U)},className:"action-button group-hover:opacity-100 group-hover:scale-100 top-0 left-0 -translate-x-1/2 -translate-y-1/2",children:b.jsx(Jf.EditIcon,{})}),b.jsx("button",{onClick:B=>{B.stopPropagation(),I(U.id)},className:"action-button group-hover:opacity-100 group-hover:scale-100 top-0 right-0 translate-x-1/2 -translate-y-1/2",children:b.jsx(Jf.TrashIcon,{})})]})]})]})})},U.id)})]})}),m&&b.jsx(Kb,{isOpen:!!m,onClose:()=>y(null),onSave:O,nodeToEdit:m,allDocuments:t}),b.jsx("style",{children:`
                .action-button {
                    position: absolute;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    width: 24px;
                    height: 24px;
                    background-color: #4f46e5;
                    color: white;
                    border-radius: 9999px;
                    border: 2px solid #1a202c;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                    cursor: pointer;
                    pointer-events: all;
                    opacity: 0;
                    scale: 0.8;
                    transition: opacity 150ms ease-out, scale 150ms ease-out;
                }
                .action-button:hover {
                    background-color: #6366f1;
                    transform: scale(1.1);
                }
                .action-button svg {
                    width: 14px;
                    height: 14px;
                }
            `})]})},Xb="0.0.1",Zb=["0.0.1"],Qb=async t=>{try{const e=await fetch(`/changelog/${t}.md`);if(!e.ok)throw new Error(`Não foi possível buscar o changelog da versão ${t}. Status: ${e.status}`);return await e.text()}catch(e){return console.error(e),"Falha ao carregar as notas da versão."}},eS=({isExpanded:t})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${t?"rotate-180":""}`,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),tS=t=>{const e=t.split(`
`),r=[];let o=[];const a=()=>{o.length>0&&(r.push(b.jsx("ul",{className:"list-disc list-inside space-y-1 mt-2",children:o},`ul-${r.length}`)),o=[])};return e.forEach((c,d)=>{c.startsWith("### ")?(a(),r.push(b.jsx("h3",{className:"text-lg font-semibold text-indigo-400 mt-4 first:mt-0",children:c.substring(4)},d))):c.startsWith("- ")?o.push(b.jsx("li",{children:c.substring(2)},d)):(a(),c.trim()&&r.push(b.jsx("p",{className:"text-gray-400",children:c},d)))}),a(),r},nS=({version:t})=>{const[e,r]=xe.useState(!1),[o,a]=xe.useState(null),[c,d]=xe.useState(!1),h=xe.useCallback(async()=>{const p=e;if(r(!p),!p&&!o){d(!0);try{const m=await Qb(t);a(tS(m))}catch{a([b.jsx("p",{className:"text-red-400",children:"Falha ao carregar conteúdo."},"error")])}finally{d(!1)}}},[e,o,t]);return b.jsxs("div",{className:"bg-gray-900/50 rounded-lg transition-colors",children:[b.jsxs("button",{onClick:h,className:"w-full flex justify-between items-center text-left p-4 hover:bg-gray-700/50 rounded-lg","aria-expanded":e,children:[b.jsxs("span",{className:"font-semibold text-lg text-gray-200",children:["Versão ",t]}),b.jsx(eS,{isExpanded:e})]}),e&&b.jsxs("div",{className:"p-4 border-t border-gray-700",children:[c&&b.jsx("p",{className:"text-gray-400",children:"Carregando..."}),o]})]})},rS=({isOpen:t,onClose:e})=>t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 transition-opacity animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl transform transition-all animate-dropdown flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Histórico de Versões"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-3xl leading-none",children:"×"})]}),b.jsx("div",{className:"overflow-y-auto pr-2 -mr-4 space-y-3",children:Zb.map(r=>b.jsx(nS,{version:r},r))})]})}):null;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iS,oS;function sS(){return{geminiUrl:iS,vertexUrl:oS}}function aS(t,e,r,o){var a,c;if(!(t!=null&&t.baseUrl)){const d=sS();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:r:(c=d.geminiUrl)!==null&&c!==void 0?c:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qi{}function $e(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(t,e,r){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(r))t[h]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(r))for(let m=0;m<p.length;m++){const y=p[m];u(y,e.slice(c+1),r[m])}else for(const m of p)u(m,e.slice(c+1),r)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];u(p[0],e.slice(c+1),r);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const o=e[e.length-1],a=t[o];if(a!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===a)return;if(typeof a=="object"&&typeof r=="object"&&a!==null&&r!==null)Object.assign(a,r);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=r}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const c=t[a];return Array.isArray(c)?c.map(d=>l(d,e.slice(r+1))):void 0}else return}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xy||(xy={}));var Ty;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ty||(Ty={}));var ct;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ct||(ct={}));var by;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(by||(by={}));var Sy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Sy||(Sy={}));var Ey;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ey||(Ey={}));var _y;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_y||(_y={}));var Cy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Cy||(Cy={}));var Ay;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ay||(Ay={}));var Ny;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ny||(Ny={}));var Ry;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Ry||(Ry={}));var My;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(My||(My={}));var Dy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dy||(Dy={}));var Iy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Iy||(Iy={}));var ky;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ky||(ky={}));var vu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(vu||(vu={}));var Ly;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ly||(Ly={}));var $d;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($d||($d={}));var Uy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Uy||(Uy={}));var By;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(By||(By={}));var Py;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Py||(Py={}));var Oy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Oy||(Oy={}));var Fy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Fy||(Fy={}));var zy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zy||(zy={}));var Gy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Gy||(Gy={}));var Vy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Vy||(Vy={}));var qy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(qy||(qy={}));var Hy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Hy||(Hy={}));var Ky;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ky||(Ky={}));var Yy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Yy||(Yy={}));var $y;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($y||($y={}));var Jy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jy||(Jy={}));var Wy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Wy||(Wy={}));var jy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(jy||(jy={}));var Xy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Xy||(Xy={}));var Zy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Zy||(Zy={}));var Qy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Qy||(Qy={}));var e0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(e0||(e0={}));var t0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(t0||(t0={}));var n0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(n0||(n0={}));var r0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(r0||(r0={}));var i0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(i0||(i0={}));var o0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(o0||(o0={}));var s0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(s0||(s0={}));var a0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(a0||(a0={}));var Xo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xo||(Xo={}));class Jd{constructor(e){const r={};for(const o of e.headers.entries())r[o[0]]=o[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ca{get text(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const x=[];for(const S of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[E,D]of Object.entries(S))E!=="text"&&E!=="thought"&&(D!==null||D!==void 0)&&x.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const x of(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,E]of Object.entries(x))S!=="inlineData"&&(E!==null||E!==void 0)&&y.push(S);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,r,o,a,c,d,h,p;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,r,o,a,c,d,h,p,m;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,r,o,a,c,d,h,p,m;if(((a=(o=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class l0{}class u0{}class lS{}class uS{}class cS{}class fS{}class c0{}class f0{}class d0{}class dS{}class h0{}class wu{_fromAPIResponse({apiResponse:e,isVertexAI:r}){const o=new wu;if(o.name=e.name,o.metadata=e.metadata,o.done=e.done,o.error=e.error,r){const a=e.response;if(a){const c=new h0,d=a.videos;c.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?Yd(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),c.raiMediaFilteredCount=a.raiMediaFilteredCount,c.raiMediaFilteredReasons=a.raiMediaFilteredReasons,o.response=c}}else{const a=e.response;if(a){const c=new h0,d=a.generateVideoResponse,h=d==null?void 0:d.generatedSamples;c.generatedVideos=h==null?void 0:h.map(p=>{const m=p.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?Yd(m==null?void 0:m.encodedVideo):void 0,mimeType:p.encoding}}}),c.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,c.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,o.response=c}}return o}}class p0{}class m0{}class g0{}class hS{}class pS{}class mS{}class y0{}class gS{get text(){var e,r,o;let a="",c=!1;const d=[];for(const h of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,a+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,r,o;let a="";const c=[];for(const d of(o=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&p!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class yS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function cw(t,e){const r=mt(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function fw(t){return Array.isArray(t)?t.map(e=>xu(e)):[xu(t)]}function xu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function dw(t){const e=xu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hw(t){const e=xu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function v0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function pw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>v0(e)):[v0(t)]}function Wd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function w0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function x0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pn(t){if(t==null)throw new Error("ContentUnion is required");return Wd(t)?t:{role:"user",parts:pw(t)}}function mw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const o=pn(r);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const r=pn(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>pn(r)):[pn(e)]}function $n(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(w0(t)||x0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pn(t)]}const e=[],r=[],o=Wd(t[0]);for(const a of t){const c=Wd(a);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(w0(a)||x0(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return o||e.push({role:"user",parts:pw(r)}),e}function vS(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(o=>o!=="null");if(r.length===1)e.type=Object.values(ct).includes(r[0].toUpperCase())?r[0].toUpperCase():ct.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of r)e.anyOf.push({type:Object.values(ct).includes(o.toUpperCase())?o.toUpperCase():ct.TYPE_UNSPECIFIED})}}function Zo(t){const e={},r=["items"],o=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&vS(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(ct).includes(h.toUpperCase())?h.toUpperCase():ct.TYPE_UNSPECIFIED}else if(r.includes(d))e[d]=Zo(h);else if(o.includes(d)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(Zo(m))}e[d]=p}else if(a.includes(d)){const p={};for(const[m,y]of Object.entries(h))p[m]=Zo(y);e[d]=p}else{if(d==="additionalProperties")continue;e[d]=h}return e}function ph(t){return Zo(t)}function mh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function gh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ds(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Zo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Zo(e.response));return t}function hs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function wS(t,e,r,o=1){const a=!e.startsWith(`${r}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:a?`${r}/${e}`:e}function qr(t,e){if(typeof e!="string")throw new Error("name must be a string");return wS(t,e,"cachedContents")}function gw(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function eo(t){return Yd(t)}function xS(t){return t!=null&&typeof t=="object"&&"name"in t}function TS(t){return t!=null&&typeof t=="object"&&"video"in t}function bS(t){return t!=null&&typeof t=="object"&&"uri"in t}function yw(t){var e;let r;if(xS(t)&&(r=t.name),!(bS(t)&&(r=t.uri,r===void 0))&&!(TS(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function vw(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function ww(t){for(const e of["models","tunedModels","publisherModels"])if(SS(t,e))return t[e];return[]}function SS(t,e){return t!==null&&typeof t=="object"&&e in t}function ES(t,e={}){const r=t,o={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(o.responseJsonSchema=r.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function _S(t,e={}){const r=[],o=new Set;for(const a of t){const c=a.name;if(o.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);o.add(c);const d=ES(a,e);d.functionDeclarations&&r.push(...d.functionDeclarations)}return{functionDeclarations:r}}function xw(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function CS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ps(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function Tw(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AS(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function NS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function RS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function MS(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],AS(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],NS(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],RS(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function bw(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>MS(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function DS(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const _=l(t,["minProperties"]);_!=null&&u(e,["minProperties"],_);const L=l(t,["minimum"]);L!=null&&u(e,["minimum"],L);const N=l(t,["nullable"]);N!=null&&u(e,["nullable"],N);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const oe=l(t,["type"]);return oe!=null&&u(e,["type"],oe),e}function IS(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function kS(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function LS(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function US(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],LS(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function BS(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function PS(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],BS(r)),e}function OS(){return{}}function FS(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function zS(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>kS(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],US(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],PS(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],OS());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],FS(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function GS(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function VS(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function qS(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],VS(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function HS(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],GS(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],qS(o)),e}function KS(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Sw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],KS(r)),e}function YS(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Sw(o)),e}function $S(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>YS(a))),u(e,["speakerVoiceConfigs"],o)}return e}function JS(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Sw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],$S(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function WS(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function jS(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],bw(pn(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const _=l(e,["seed"]);_!=null&&u(o,["seed"],_);const L=l(e,["responseMimeType"]);L!=null&&u(o,["responseMimeType"],L);const N=l(e,["responseSchema"]);N!=null&&u(o,["responseSchema"],DS(ph(N)));const I=l(e,["responseJsonSchema"]);if(I!=null&&u(o,["responseJsonSchema"],I),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=l(e,["safetySettings"]);if(r!==void 0&&O!=null){let de=O;Array.isArray(de)&&(de=de.map(Y=>IS(Y))),u(r,["safetySettings"],de)}const H=l(e,["tools"]);if(r!==void 0&&H!=null){let de=hs(H);Array.isArray(de)&&(de=de.map(Y=>zS(ds(Y)))),u(r,["tools"],de)}const q=l(e,["toolConfig"]);if(r!==void 0&&q!=null&&u(r,["toolConfig"],HS(q)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=l(e,["cachedContent"]);r!==void 0&&ce!=null&&u(r,["cachedContent"],qr(t,ce));const oe=l(e,["responseModalities"]);oe!=null&&u(o,["responseModalities"],oe);const me=l(e,["mediaResolution"]);me!=null&&u(o,["mediaResolution"],me);const U=l(e,["speechConfig"]);if(U!=null&&u(o,["speechConfig"],JS(mh(U))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=l(e,["thinkingConfig"]);return ae!=null&&u(o,["thinkingConfig"],WS(ae)),o}function XS(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["request","model"],mt(t,o));const a=l(e,["contents"]);if(a!=null){let d=$n(a);Array.isArray(d)&&(d=d.map(h=>bw(h))),u(r,["request","contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["request","generationConfig"],jS(t,c,r)),r}function ZS(t,e){const r={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(e,["fileName"]);o!=null&&u(r,["fileName"],o);const a=l(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>XS(t,d))),u(r,["requests","requests"],c)}return r}function QS(t,e){const r={},o=l(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function T0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["src"]);a!=null&&u(r,["batch","inputConfig"],ZS(t,xw(t,a)));const c=l(e,["config"]);return c!=null&&u(r,["config"],QS(c,r)),r}function eE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ps(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function tE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ps(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function nE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function rE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],nE(r,e)),e}function iE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ps(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function oE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["instancesFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const a=l(t,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sE(t){const e={},r=l(t,["format"]);r!=null&&u(e,["predictionsFormat"],r);const o=l(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const a=l(t,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function aE(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],sE(CS(a))),r}function lE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],mt(t,o));const a=l(e,["src"]);a!=null&&u(r,["inputConfig"],oE(xw(t,a)));const c=l(e,["config"]);return c!=null&&u(r,["config"],aE(c,r)),r}function uE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ps(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function cE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ps(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function fE(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function dE(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],fE(r,e)),e}function hE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],ps(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function pE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function mE(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function gE(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function yE(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],pE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],mE(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],gE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function vE(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>yE(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function wE(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function xE(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function TE(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>xE(a))),u(e,["urlMetadata"],o)}return e}function bE(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],vE(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],wE(o));const a=l(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],TE(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function SE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>bE(m))),u(e,["candidates"],p)}const a=l(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function Ew(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const a=l(t,["message"]);return a!=null&&u(e,["message"],a),e}function EE(t){const e={},r=l(t,["response"]);r!=null&&u(e,["response"],SE(r));const o=l(t,["error"]);return o!=null&&u(e,["error"],Ew(o)),e}function _E(t){const e={},r=l(t,["responsesFile"]);r!=null&&u(e,["fileName"],r);const o=l(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>EE(c))),u(e,["inlinedResponses"],a)}return e}function hu(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["metadata","state"]);a!=null&&u(e,["state"],Tw(a));const c=l(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["metadata","endTime"]);d!=null&&u(e,["endTime"],d);const h=l(t,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const p=l(t,["metadata","model"]);p!=null&&u(e,["model"],p);const m=l(t,["metadata","output"]);return m!=null&&u(e,["dest"],_E(m)),e}function CE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>hu(d))),u(e,["batchJobs"],c)}return e}function AE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);return c!=null&&u(e,["error"],Ew(c)),e}function _w(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["code"]);o!=null&&u(e,["code"],o);const a=l(t,["message"]);return a!=null&&u(e,["message"],a),e}function NE(t){const e={},r=l(t,["instancesFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const a=l(t,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function RE(t){const e={},r=l(t,["predictionsFormat"]);r!=null&&u(e,["format"],r);const o=l(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const a=l(t,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function jd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],Tw(a));const c=l(t,["error"]);c!=null&&u(e,["error"],_w(c));const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["startTime"]);h!=null&&u(e,["startTime"],h);const p=l(t,["endTime"]);p!=null&&u(e,["endTime"],p);const m=l(t,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=l(t,["model"]);y!=null&&u(e,["model"],y);const x=l(t,["inputConfig"]);x!=null&&u(e,["src"],NE(x));const S=l(t,["outputConfig"]);return S!=null&&u(e,["dest"],RE(S)),e}function ME(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>jd(d))),u(e,["batchJobs"],c)}return e}function DE(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);return c!=null&&u(e,["error"],_w(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Zi||(Zi={}));class Ua{constructor(e,r,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,o,a)}init(e,r,o){var a,c;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=r.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IE extends Qi{constructor(e){super(),this.apiClient=e,this.create=async r=>{var o,a;if(this.apiClient.isVertexAI()){const d=Date.now().toString();if(Array.isArray(r.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(r.config=r.config||{},r.config.displayName===void 0&&(r.config.displayName="genaiBatchJob_${timestampStr}"),r.config.dest===void 0&&typeof r.src=="string")if(r.src.startsWith("gs://")&&r.src.endsWith(".jsonl"))r.config.dest=`${r.src.slice(0,-6)}/dest`;else if(r.src.startsWith("bq://"))r.config.dest=`${r.src}_dest_${d}`;else throw new Error("Unsupported source:"+r.src)}else if(Array.isArray(r.src)||typeof r.src!="string"&&r.src.inlinedRequests){let c="",d={};const h=T0(this.apiClient,r);c=$e("{model}:batchGenerateContent",h._url),d=h._query;const y=h.batch.inputConfig.requests,x=y.requests,S=[];for(const D of x){const _=D;if(_.systemInstruction){const L=_.systemInstruction;delete _.systemInstruction;const N=_.request;N.systemInstruction=L,_.request=N}S.push(_)}return y.requests=S,delete h.config,delete h._url,delete h._query,this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=r.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=r.config)===null||a===void 0?void 0:a.abortSignal}).then(D=>D.json()).then(D=>hu(D))}return await this.createInternal(r)},this.list=async(r={})=>new Ua(Zi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(r),r)}async createInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=lE(this.apiClient,e);return h=$e("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>jd(y))}else{const m=T0(this.apiClient,e);return h=$e("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>hu(y))}}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=uE(this.apiClient,e);return h=$e("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>jd(y))}else{const m=eE(this.apiClient,e);return h=$e("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>hu(y))}}async cancel(e){var r,o,a,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=cE(this.apiClient,e);d=$e("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=tE(this.apiClient,e);d=$e("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=dE(e);return h=$e("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=ME(y),S=new y0;return Object.assign(S,x),S})}else{const m=rE(e);return h=$e("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=CE(y),S=new y0;return Object.assign(S,x),S})}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=hE(this.apiClient,e);return h=$e("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>DE(y))}else{const m=iE(this.apiClient,e);return h=$e("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>AE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function LE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function UE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function BE(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],kE(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],LE(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],UE(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function b0(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>BE(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function PE(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function OE(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function FE(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],OE(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function zE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function GE(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],zE(r)),e}function VE(){return{}}function qE(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function HE(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>PE(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],FE(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],GE(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],VE());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],qE(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function KE(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function YE(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function $E(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],YE(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function JE(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],KE(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],$E(o)),e}function WE(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let y=$n(d);Array.isArray(y)&&(y=y.map(x=>b0(x))),u(e,["contents"],y)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],b0(pn(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(x=>HE(x))),u(e,["tools"],y)}const m=l(t,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],JE(m)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function jE(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],cw(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],WE(a,r)),r}function XE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],qr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function ZE(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],qr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function QE(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),r}function e_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],qr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],QE(a,r)),r}function t_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function n_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],t_(r,e)),e}function r_(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function i_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function o_(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function s_(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],r_(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],i_(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],o_(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function S0(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>s_(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function a_(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function l_(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function u_(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],l_(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function c_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function f_(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],c_(r)),e}function d_(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function h_(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function p_(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],h_(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function m_(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],p_(r)),e}function g_(){return{}}function y_(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function v_(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>a_(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],u_(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],f_(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],d_(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],m_(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],g_());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],y_(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function w_(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function x_(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function T_(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],x_(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function b_(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],w_(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],T_(o)),e}function S_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let x=$n(d);Array.isArray(x)&&(x=x.map(S=>S0(S))),u(e,["contents"],x)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],S0(pn(h)));const p=l(t,["tools"]);if(e!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>v_(S))),u(e,["tools"],x)}const m=l(t,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],b_(m));const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),r}function E_(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["model"],cw(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],S_(a,r)),r}function __(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],qr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function C_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],qr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function A_(t,e){const r={},o=l(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=l(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),r}function N_(t,e){const r={},o=l(e,["name"]);o!=null&&u(r,["_url","name"],qr(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],A_(a,r)),r}function R_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function M_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],R_(r,e)),e}function pu(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["model"]);a!=null&&u(e,["model"],a);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function D_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function I_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>pu(d))),u(e,["cachedContents"],c)}return e}function mu(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["model"]);a!=null&&u(e,["model"],a);const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&u(e,["expireTime"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function k_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function L_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>mu(d))),u(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U_ extends Qi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Ua(Zi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(r),r)}async create(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=E_(this.apiClient,e);return h=$e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>mu(y))}else{const m=jE(this.apiClient,e);return h=$e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>pu(y))}}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=__(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>mu(y))}else{const m=XE(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>pu(y))}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=C_(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=k_(y),S=new m0;return Object.assign(S,x),S})}else{const m=ZE(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=D_(y),S=new m0;return Object.assign(S,x),S})}}async update(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=N_(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>mu(y))}else{const m=e_(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>pu(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=M_(e);return h=$e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=L_(y),S=new g0;return Object.assign(S,x),S})}else{const m=n_(e);return h=$e("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=I_(y),S=new g0;return Object.assign(S,x),S})}}}function E0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dt(t){return this instanceof Dt?(this.v=t,this):new Dt(t)}function Qo(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(E){return function(D){return Promise.resolve(D).then(E,x)}}function h(E,D){o[E]&&(a[E]=function(_){return new Promise(function(L,N){c.push([E,_,L,N])>1||p(E,_)})},D&&(a[E]=D(a[E])))}function p(E,D){try{m(o[E](D))}catch(_){S(c[0][3],_)}}function m(E){E.value instanceof Dt?Promise.resolve(E.value.v).then(y,x):S(c[0][2],E)}function y(E){p("next",E)}function x(E){p("throw",E)}function S(E,D){E(D),c.shift(),c.length&&p(c[0][0],c[0][1])}}function La(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof E0=="function"?E0(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(c){r[c]=t[c]&&function(d){return new Promise(function(h,p){d=t[c](d),a(h,p,d.done,d.value)})}}function a(c,d,h,p){Promise.resolve(p).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:Cw(r)}function Cw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function P_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _0(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let o=0;for(;o<r;)if(t[o].role==="user")e.push(t[o]),o++;else{const a=[];let c=!0;for(;o<r&&t[o].role==="model";)a.push(t[o]),c&&!Cw(t[o])&&(c=!1),o++;c?e.push(...a):e.pop()}return e}class O_{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new F_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class F_{constructor(e,r,o,a={},c=[]){this.apiClient=e,this.modelsModule=r,this.model=o,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),P_(c)}async sendMessage(e){var r;await this.sendPromise;const o=pn(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,d,h;const p=await a,m=(d=(c=p.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=p.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(x))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var r;await this.sendPromise;const o=pn(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,o)}getHistory(e=!1){const r=e?_0(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var o,a;return Qo(this,arguments,function*(){var d,h,p,m;const y=[];try{for(var x=!0,S=La(e),E;E=yield Dt(S.next()),d=E.done,!d;x=!0){m=E.value,x=!1;const D=m;if(B_(D)){const _=(a=(o=D.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;_!==void 0&&y.push(_)}yield yield Dt(D)}}catch(D){h={error:D}}finally{try{!x&&!d&&(p=S.return)&&(yield Dt(p.call(S)))}finally{if(h)throw h.error}}this.recordHistory(r,y)})}recordHistory(e,r,o){let a=[];r.length>0&&r.every(c=>c.role!==void 0)?a=r:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(..._0(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Au extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Au.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r}function G_(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],z_(r,e)),e}function V_(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const a=l(t,["code"]);return a!=null&&u(e,["code"],a),e}function q_(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const x=l(t,["downloadUri"]);x!=null&&u(e,["downloadUri"],x);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const D=l(t,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const _=l(t,["error"]);return _!=null&&u(e,["error"],V_(_)),e}function H_(t){const e={},r=l(t,["file"]);r!=null&&u(e,["file"],q_(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function K_(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],yw(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function Y_(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","file"],yw(r));const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function $_(t){const e={},r=l(t,["details"]);r!=null&&u(e,["details"],r);const o=l(t,["message"]);o!=null&&u(e,["message"],o);const a=l(t,["code"]);return a!=null&&u(e,["code"],a),e}function Xd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=l(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&u(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const y=l(t,["uri"]);y!=null&&u(e,["uri"],y);const x=l(t,["downloadUri"]);x!=null&&u(e,["downloadUri"],x);const S=l(t,["state"]);S!=null&&u(e,["state"],S);const E=l(t,["source"]);E!=null&&u(e,["source"],E);const D=l(t,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const _=l(t,["error"]);return _!=null&&u(e,["error"],$_(_)),e}function J_(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Xd(d))),u(e,["files"],c)}return e}function W_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function j_(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_ extends Qi{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Ua(Zi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>Xd(r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=G_(e);return c=$e("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=J_(p),y=new hS;return Object.assign(y,m),y})}}async createInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=H_(e);return c=$e("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=W_(p),y=new pS;return Object.assign(y,m),y})}}async get(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=K_(e);return c=$e("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Xd(p))}}async delete(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Y_(e);return c=$e("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=j_(p),y=new mS;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z_(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Aw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],Z_(r)),e}function Q_(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Aw(o)),e}function eC(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Q_(a))),u(e,["speakerVoiceConfigs"],o)}return e}function tC(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Aw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],eC(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function nC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function rC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function iC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function oC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],nC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],rC(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],iC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function sC(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>oC(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function aC(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function lC(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function uC(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],lC(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cC(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function fC(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],cC(r)),e}function dC(){return{}}function hC(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function pC(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>aC(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],uC(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],fC(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],dC());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],hC(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function mC(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function C0(){return{}}function gC(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function yC(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],gC(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function vC(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function wC(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],vC(o)),e}function xC(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function TC(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],tC(gh(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],sC(pn(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=hs(D);Array.isArray(q)&&(q=q.map(ce=>pC(ds(ce)))),u(e,["setup","tools"],q)}const _=l(t,["sessionResumption"]);e!==void 0&&_!=null&&u(e,["setup","sessionResumption"],mC(_));const L=l(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],C0());const N=l(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&u(e,["setup","outputAudioTranscription"],C0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],yC(I));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],wC(O));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],xC(H)),r}function bC(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],TC(a,r)),r}function SC(){return{}}function EC(){return{}}function _C(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],fw(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],hw(o));const a=l(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(t,["video"]);c!=null&&u(e,["video"],dw(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],SC()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],EC()),e}function Nw(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function CC(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Nw(a))),u(e,["weightedPrompts"],o)}return e}function Rw(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const a=l(t,["seed"]);a!=null&&u(e,["seed"],a);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const x=l(t,["muteDrums"]);x!=null&&u(e,["muteDrums"],x);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function AC(t){const e={},r=l(t,["musicGenerationConfig"]);return r!=null&&u(e,["musicGenerationConfig"],Rw(r)),e}function Mw(t){const e={},r=l(t,["model"]);return r!=null&&u(e,["model"],r),e}function Dw(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Nw(a))),u(e,["weightedPrompts"],o)}return e}function Zd(t){const e={},r=l(t,["setup"]);r!=null&&u(e,["setup"],Mw(r));const o=l(t,["clientContent"]);o!=null&&u(e,["clientContent"],Dw(o));const a=l(t,["musicGenerationConfig"]);a!=null&&u(e,["musicGenerationConfig"],Rw(a));const c=l(t,["playbackControl"]);return c!=null&&u(e,["playbackControl"],c),e}function NC(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function RC(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],NC(r)),e}function MC(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],RC(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function DC(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function IC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function kC(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function LC(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],DC(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],IC(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],kC(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function UC(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>LC(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function BC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function PC(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function OC(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],PC(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function FC(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function zC(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],FC(r)),e}function GC(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function VC(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function qC(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],VC(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function HC(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],qC(r)),e}function KC(){return{}}function YC(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function $C(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>BC(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],OC(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],zC(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],GC(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],HC(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],KC());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],YC(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function JC(t){const e={},r=l(t,["handle"]);r!=null&&u(e,["handle"],r);const o=l(t,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function A0(){return{}}function WC(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function jC(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],WC(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function XC(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function ZC(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],XC(o)),e}function QC(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function eA(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],MC(gh(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],UC(pn(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=hs(D);Array.isArray(q)&&(q=q.map(ce=>$C(ds(ce)))),u(e,["setup","tools"],q)}const _=l(t,["sessionResumption"]);e!==void 0&&_!=null&&u(e,["setup","sessionResumption"],JC(_));const L=l(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],A0());const N=l(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&u(e,["setup","outputAudioTranscription"],A0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],jC(I));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],ZC(O));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],QC(H)),r}function tA(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],eA(a,r)),r}function nA(){return{}}function rA(){return{}}function iA(t){const e={},r=l(t,["media"]);r!=null&&u(e,["mediaChunks"],fw(r));const o=l(t,["audio"]);o!=null&&u(e,["audio"],hw(o));const a=l(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(t,["video"]);c!=null&&u(e,["video"],dw(c));const d=l(t,["text"]);return d!=null&&u(e,["text"],d),l(t,["activityStart"])!=null&&u(e,["activityStart"],nA()),l(t,["activityEnd"])!=null&&u(e,["activityEnd"],rA()),e}function oA(){return{}}function sA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function aA(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function lA(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function uA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],sA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],aA(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],lA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function cA(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>uA(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function N0(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function fA(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function dA(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>fA(a))),u(e,["urlMetadata"],o)}return e}function hA(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],cA(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=l(t,["interrupted"]);a!=null&&u(e,["interrupted"],a);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],N0(h));const p=l(t,["outputTranscription"]);p!=null&&u(e,["outputTranscription"],N0(p));const m=l(t,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],dA(m)),e}function pA(t){const e={},r=l(t,["id"]);r!=null&&u(e,["id"],r);const o=l(t,["args"]);o!=null&&u(e,["args"],o);const a=l(t,["name"]);return a!=null&&u(e,["name"],a),e}function mA(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>pA(a))),u(e,["functionCalls"],o)}return e}function gA(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function eu(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function yA(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=l(t,["responseTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>eu(E))),u(e,["promptTokensDetails"],S)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>eu(E))),u(e,["cacheTokensDetails"],S)}const y=l(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>eu(E))),u(e,["responseTokensDetails"],S)}const x=l(t,["toolUsePromptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>eu(E))),u(e,["toolUsePromptTokensDetails"],S)}return e}function vA(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function wA(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const a=l(t,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function xA(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],oA());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],hA(o));const a=l(t,["toolCall"]);a!=null&&u(e,["toolCall"],mA(a));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],gA(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],yA(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],vA(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],wA(p)),e}function TA(){return{}}function bA(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["weight"]);return o!=null&&u(e,["weight"],o),e}function SA(t){const e={},r=l(t,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>bA(a))),u(e,["weightedPrompts"],o)}return e}function EA(t){const e={},r=l(t,["temperature"]);r!=null&&u(e,["temperature"],r);const o=l(t,["topK"]);o!=null&&u(e,["topK"],o);const a=l(t,["seed"]);a!=null&&u(e,["seed"],a);const c=l(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&u(e,["bpm"],d);const h=l(t,["density"]);h!=null&&u(e,["density"],h);const p=l(t,["brightness"]);p!=null&&u(e,["brightness"],p);const m=l(t,["scale"]);m!=null&&u(e,["scale"],m);const y=l(t,["muteBass"]);y!=null&&u(e,["muteBass"],y);const x=l(t,["muteDrums"]);x!=null&&u(e,["muteDrums"],x);const S=l(t,["onlyBassAndDrums"]);S!=null&&u(e,["onlyBassAndDrums"],S);const E=l(t,["musicGenerationMode"]);return E!=null&&u(e,["musicGenerationMode"],E),e}function _A(t){const e={},r=l(t,["clientContent"]);r!=null&&u(e,["clientContent"],SA(r));const o=l(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],EA(o)),e}function CA(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);o!=null&&u(e,["mimeType"],o);const a=l(t,["sourceMetadata"]);return a!=null&&u(e,["sourceMetadata"],_A(a)),e}function AA(t){const e={},r=l(t,["audioChunks"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>CA(a))),u(e,["audioChunks"],o)}return e}function NA(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function RA(t){const e={};l(t,["setupComplete"])!=null&&u(e,["setupComplete"],TA());const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],AA(o));const a=l(t,["filteredPrompt"]);return a!=null&&u(e,["filteredPrompt"],NA(a)),e}function MA(t){const e={},r=l(t,["sessionId"]);return r!=null&&u(e,["sessionId"],r),e}function DA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function IA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function kA(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function LA(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],DA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],IA(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],kA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function UA(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>LA(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function R0(t){const e={},r=l(t,["text"]);r!=null&&u(e,["text"],r);const o=l(t,["finished"]);return o!=null&&u(e,["finished"],o),e}function BA(t){const e={},r=l(t,["modelTurn"]);r!=null&&u(e,["modelTurn"],UA(r));const o=l(t,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=l(t,["interrupted"]);a!=null&&u(e,["interrupted"],a);const c=l(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],R0(h));const p=l(t,["outputTranscription"]);return p!=null&&u(e,["outputTranscription"],R0(p)),e}function PA(t){const e={},r=l(t,["args"]);r!=null&&u(e,["args"],r);const o=l(t,["name"]);return o!=null&&u(e,["name"],o),e}function OA(t){const e={},r=l(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>PA(a))),u(e,["functionCalls"],o)}return e}function FA(t){const e={},r=l(t,["ids"]);return r!=null&&u(e,["ids"],r),e}function tu(t){const e={},r=l(t,["modality"]);r!=null&&u(e,["modality"],r);const o=l(t,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function zA(t){const e={},r=l(t,["promptTokenCount"]);r!=null&&u(e,["promptTokenCount"],r);const o=l(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=l(t,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const p=l(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(D=>tu(D))),u(e,["promptTokensDetails"],E)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(D=>tu(D))),u(e,["cacheTokensDetails"],E)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(D=>tu(D))),u(e,["responseTokensDetails"],E)}const x=l(t,["toolUsePromptTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(D=>tu(D))),u(e,["toolUsePromptTokensDetails"],E)}const S=l(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}function GA(t){const e={},r=l(t,["timeLeft"]);return r!=null&&u(e,["timeLeft"],r),e}function VA(t){const e={},r=l(t,["newHandle"]);r!=null&&u(e,["newHandle"],r);const o=l(t,["resumable"]);o!=null&&u(e,["resumable"],o);const a=l(t,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function qA(t){const e={},r=l(t,["setupComplete"]);r!=null&&u(e,["setupComplete"],MA(r));const o=l(t,["serverContent"]);o!=null&&u(e,["serverContent"],BA(o));const a=l(t,["toolCall"]);a!=null&&u(e,["toolCall"],OA(a));const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],FA(c));const d=l(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],zA(d));const h=l(t,["goAway"]);h!=null&&u(e,["goAway"],GA(h));const p=l(t,["sessionResumptionUpdate"]);return p!=null&&u(e,["sessionResumptionUpdate"],VA(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HA(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function KA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function YA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $A(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],HA(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],KA(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],YA(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function Nu(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>$A(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function JA(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const _=l(t,["minProperties"]);_!=null&&u(e,["minProperties"],_);const L=l(t,["minimum"]);L!=null&&u(e,["minimum"],L);const N=l(t,["nullable"]);N!=null&&u(e,["nullable"],N);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const oe=l(t,["type"]);return oe!=null&&u(e,["type"],oe),e}function WA(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["category"]);r!=null&&u(e,["category"],r);const o=l(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function jA(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function XA(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function ZA(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],XA(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function QA(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function eN(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],QA(r)),e}function tN(){return{}}function nN(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function rN(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>jA(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],ZA(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],eN(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],tN());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],nN(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function iN(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function oN(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function sN(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],oN(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function aN(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],iN(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],sN(o)),e}function lN(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Iw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],lN(r)),e}function uN(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Iw(o)),e}function cN(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>uN(a))),u(e,["speakerVoiceConfigs"],o)}return e}function fN(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Iw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],cN(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function dN(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function hN(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],Nu(pn(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const _=l(e,["seed"]);_!=null&&u(o,["seed"],_);const L=l(e,["responseMimeType"]);L!=null&&u(o,["responseMimeType"],L);const N=l(e,["responseSchema"]);N!=null&&u(o,["responseSchema"],JA(ph(N)));const I=l(e,["responseJsonSchema"]);if(I!=null&&u(o,["responseJsonSchema"],I),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=l(e,["safetySettings"]);if(r!==void 0&&O!=null){let de=O;Array.isArray(de)&&(de=de.map(Y=>WA(Y))),u(r,["safetySettings"],de)}const H=l(e,["tools"]);if(r!==void 0&&H!=null){let de=hs(H);Array.isArray(de)&&(de=de.map(Y=>rN(ds(Y)))),u(r,["tools"],de)}const q=l(e,["toolConfig"]);if(r!==void 0&&q!=null&&u(r,["toolConfig"],aN(q)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=l(e,["cachedContent"]);r!==void 0&&ce!=null&&u(r,["cachedContent"],qr(t,ce));const oe=l(e,["responseModalities"]);oe!=null&&u(o,["responseModalities"],oe);const me=l(e,["mediaResolution"]);me!=null&&u(o,["mediaResolution"],me);const U=l(e,["speechConfig"]);if(U!=null&&u(o,["speechConfig"],fN(mh(U))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=l(e,["thinkingConfig"]);return ae!=null&&u(o,["thinkingConfig"],dN(ae)),o}function M0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["contents"]);if(a!=null){let d=$n(a);Array.isArray(d)&&(d=d.map(h=>Nu(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],hN(t,c,r)),r}function pN(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function mN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["contents"]);a!=null&&u(r,["requests[]","content"],mw(t,a));const c=l(e,["config"]);c!=null&&u(r,["config"],pN(c,r));const d=l(e,["model"]);return d!==void 0&&u(r,["requests[]","model"],mt(t,d)),r}function gN(t,e){const r={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const p=l(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const y=l(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&u(e,["parameters","outputOptions","mimeType"],x);const S=l(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=l(t,["imageSize"]);if(e!==void 0&&E!=null&&u(e,["parameters","sampleImageSize"],E),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function yN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&u(r,["config"],gN(c,r)),r}function vN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function wN(t,e,r){const o={},a=l(e,["pageSize"]);r!==void 0&&a!=null&&u(r,["_query","pageSize"],a);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],vw(t,h)),o}function xN(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],wN(t,o,r)),r}function TN(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function bN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],TN(a,r)),r}function SN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function EN(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function _N(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["contents"]);if(a!=null){let d=$n(a);Array.isArray(d)&&(d=d.map(h=>Nu(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],EN(c)),r}function kw(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],eo(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function CN(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);if(e!==void 0&&a!=null&&u(e,["instances[0]","image"],kw(a)),l(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return r}function AN(t,e){const r={},o=l(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=l(t,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const d=l(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);const h=l(t,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function NN(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["image"]);if(c!=null&&u(r,["instances[0]","image"],kw(c)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["source"]);d!=null&&u(r,["config"],CN(d,r));const h=l(e,["config"]);return h!=null&&u(r,["config"],AN(h,r)),r}function RN(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function MN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function DN(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function IN(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],RN(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],MN(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],DN(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function ms(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>IN(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function kN(t){const e={},r=l(t,["anyOf"]);r!=null&&u(e,["anyOf"],r);const o=l(t,["default"]);o!=null&&u(e,["default"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["enum"]);c!=null&&u(e,["enum"],c);const d=l(t,["example"]);d!=null&&u(e,["example"],d);const h=l(t,["format"]);h!=null&&u(e,["format"],h);const p=l(t,["items"]);p!=null&&u(e,["items"],p);const m=l(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const y=l(t,["maxLength"]);y!=null&&u(e,["maxLength"],y);const x=l(t,["maxProperties"]);x!=null&&u(e,["maxProperties"],x);const S=l(t,["maximum"]);S!=null&&u(e,["maximum"],S);const E=l(t,["minItems"]);E!=null&&u(e,["minItems"],E);const D=l(t,["minLength"]);D!=null&&u(e,["minLength"],D);const _=l(t,["minProperties"]);_!=null&&u(e,["minProperties"],_);const L=l(t,["minimum"]);L!=null&&u(e,["minimum"],L);const N=l(t,["nullable"]);N!=null&&u(e,["nullable"],N);const I=l(t,["pattern"]);I!=null&&u(e,["pattern"],I);const O=l(t,["properties"]);O!=null&&u(e,["properties"],O);const H=l(t,["propertyOrdering"]);H!=null&&u(e,["propertyOrdering"],H);const q=l(t,["required"]);q!=null&&u(e,["required"],q);const ce=l(t,["title"]);ce!=null&&u(e,["title"],ce);const oe=l(t,["type"]);return oe!=null&&u(e,["type"],oe),e}function LN(t){const e={},r=l(t,["featureSelectionPreference"]);return r!=null&&u(e,["featureSelectionPreference"],r),e}function UN(t){const e={},r=l(t,["method"]);r!=null&&u(e,["method"],r);const o=l(t,["category"]);o!=null&&u(e,["category"],o);const a=l(t,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function BN(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(t,["description"]);r!=null&&u(e,["description"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&u(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function PN(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function ON(t){const e={},r=l(t,["timeRangeFilter"]);r!=null&&u(e,["timeRangeFilter"],PN(r));const o=l(t,["excludeDomains"]);return o!=null&&u(e,["excludeDomains"],o),e}function FN(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function zN(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],FN(r)),e}function GN(t){const e={},r=l(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function VN(t){const e={},r=l(t,["apiKeyString"]);return r!=null&&u(e,["apiKeyString"],r),e}function qN(t){const e={},r=l(t,["apiKeyConfig"]);r!=null&&u(e,["apiKeyConfig"],VN(r));const o=l(t,["authType"]);o!=null&&u(e,["authType"],o);const a=l(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=l(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function HN(t){const e={},r=l(t,["authConfig"]);return r!=null&&u(e,["authConfig"],qN(r)),e}function KN(){return{}}function YN(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function Lw(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>BN(S))),u(e,["functionDeclarations"],x)}const o=l(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=l(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],ON(a));const c=l(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],zN(c));const d=l(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],GN(d));const h=l(t,["googleMaps"]);h!=null&&u(e,["googleMaps"],HN(h)),l(t,["urlContext"])!=null&&u(e,["urlContext"],KN());const m=l(t,["computerUse"]);m!=null&&u(e,["computerUse"],YN(m));const y=l(t,["codeExecution"]);return y!=null&&u(e,["codeExecution"],y),e}function $N(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function JN(t){const e={},r=l(t,["latitude"]);r!=null&&u(e,["latitude"],r);const o=l(t,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function WN(t){const e={},r=l(t,["latLng"]);r!=null&&u(e,["latLng"],JN(r));const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function jN(t){const e={},r=l(t,["functionCallingConfig"]);r!=null&&u(e,["functionCallingConfig"],$N(r));const o=l(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],WN(o)),e}function XN(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function ZN(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],XN(r)),e}function QN(t){const e={},r=l(t,["voiceConfig"]);if(r!=null&&u(e,["voiceConfig"],ZN(r)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(t,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function eR(t){const e={},r=l(t,["includeThoughts"]);r!=null&&u(e,["includeThoughts"],r);const o=l(t,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function tR(t,e,r){const o={},a=l(e,["systemInstruction"]);r!==void 0&&a!=null&&u(r,["systemInstruction"],ms(pn(a)));const c=l(e,["temperature"]);c!=null&&u(o,["temperature"],c);const d=l(e,["topP"]);d!=null&&u(o,["topP"],d);const h=l(e,["topK"]);h!=null&&u(o,["topK"],h);const p=l(e,["candidateCount"]);p!=null&&u(o,["candidateCount"],p);const m=l(e,["maxOutputTokens"]);m!=null&&u(o,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(o,["stopSequences"],y);const x=l(e,["responseLogprobs"]);x!=null&&u(o,["responseLogprobs"],x);const S=l(e,["logprobs"]);S!=null&&u(o,["logprobs"],S);const E=l(e,["presencePenalty"]);E!=null&&u(o,["presencePenalty"],E);const D=l(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const _=l(e,["seed"]);_!=null&&u(o,["seed"],_);const L=l(e,["responseMimeType"]);L!=null&&u(o,["responseMimeType"],L);const N=l(e,["responseSchema"]);N!=null&&u(o,["responseSchema"],kN(ph(N)));const I=l(e,["responseJsonSchema"]);I!=null&&u(o,["responseJsonSchema"],I);const O=l(e,["routingConfig"]);O!=null&&u(o,["routingConfig"],O);const H=l(e,["modelSelectionConfig"]);H!=null&&u(o,["modelConfig"],LN(H));const q=l(e,["safetySettings"]);if(r!==void 0&&q!=null){let le=q;Array.isArray(le)&&(le=le.map(se=>UN(se))),u(r,["safetySettings"],le)}const ce=l(e,["tools"]);if(r!==void 0&&ce!=null){let le=hs(ce);Array.isArray(le)&&(le=le.map(se=>Lw(ds(se)))),u(r,["tools"],le)}const oe=l(e,["toolConfig"]);r!==void 0&&oe!=null&&u(r,["toolConfig"],jN(oe));const me=l(e,["labels"]);r!==void 0&&me!=null&&u(r,["labels"],me);const U=l(e,["cachedContent"]);r!==void 0&&U!=null&&u(r,["cachedContent"],qr(t,U));const ae=l(e,["responseModalities"]);ae!=null&&u(o,["responseModalities"],ae);const de=l(e,["mediaResolution"]);de!=null&&u(o,["mediaResolution"],de);const Y=l(e,["speechConfig"]);Y!=null&&u(o,["speechConfig"],QN(mh(Y)));const fe=l(e,["audioTimestamp"]);fe!=null&&u(o,["audioTimestamp"],fe);const B=l(e,["thinkingConfig"]);return B!=null&&u(o,["thinkingConfig"],eR(B)),o}function D0(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["contents"]);if(a!=null){let d=$n(a);Array.isArray(d)&&(d=d.map(h=>ms(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["generationConfig"],tR(t,c,r)),r}function nR(t,e){const r={},o=l(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const d=l(t,["mimeType"]);e!==void 0&&d!=null&&u(e,["instances[]","mimeType"],d);const h=l(t,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),r}function rR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["contents"]);a!=null&&u(r,["instances[]","content"],mw(t,a));const c=l(e,["config"]);return c!=null&&u(r,["config"],nR(c,r)),r}function iR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&u(e,["parameters","includeSafetyAttributes"],x);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const D=l(t,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const _=l(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&u(e,["parameters","outputOptions","compressionQuality"],_);const L=l(t,["addWatermark"]);e!==void 0&&L!=null&&u(e,["parameters","addWatermark"],L);const N=l(t,["imageSize"]);e!==void 0&&N!=null&&u(e,["parameters","sampleImageSize"],N);const I=l(t,["enhancePrompt"]);return e!==void 0&&I!=null&&u(e,["parameters","enhancePrompt"],I),r}function oR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&u(r,["config"],iR(c,r)),r}function Tr(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],eo(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function sR(t){const e={},r=l(t,["maskMode"]);r!=null&&u(e,["maskMode"],r);const o=l(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const a=l(t,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function aR(t){const e={},r=l(t,["controlType"]);r!=null&&u(e,["controlType"],r);const o=l(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function lR(t){const e={},r=l(t,["styleDescription"]);return r!=null&&u(e,["styleDescription"],r),e}function uR(t){const e={},r=l(t,["subjectType"]);r!=null&&u(e,["subjectType"],r);const o=l(t,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function cR(t){const e={},r=l(t,["referenceImage"]);r!=null&&u(e,["referenceImage"],Tr(r));const o=l(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const a=l(t,["referenceType"]);a!=null&&u(e,["referenceType"],a);const c=l(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],sR(c));const d=l(t,["controlImageConfig"]);d!=null&&u(e,["controlImageConfig"],aR(d));const h=l(t,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],lR(h));const p=l(t,["subjectImageConfig"]);return p!=null&&u(e,["subjectImageConfig"],uR(p)),e}function fR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&u(e,["parameters","includeSafetyAttributes"],x);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const E=l(t,["language"]);e!==void 0&&E!=null&&u(e,["parameters","language"],E);const D=l(t,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const _=l(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&u(e,["parameters","outputOptions","compressionQuality"],_);const L=l(t,["addWatermark"]);e!==void 0&&L!=null&&u(e,["parameters","addWatermark"],L);const N=l(t,["editMode"]);e!==void 0&&N!=null&&u(e,["parameters","editMode"],N);const I=l(t,["baseSteps"]);return e!==void 0&&I!=null&&u(e,["parameters","editConfig","baseSteps"],I),r}function dR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>cR(p))),u(r,["instances[0]","referenceImages"],h)}const d=l(e,["config"]);return d!=null&&u(r,["config"],fR(d,r)),r}function hR(t,e){const r={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=l(t,["includeRaiReason"]);e!==void 0&&a!=null&&u(e,["parameters","includeRaiReason"],a);const c=l(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);const d=l(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const h=l(t,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=l(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=l(t,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);const y=l(t,["mode"]);return e!==void 0&&y!=null&&u(e,["parameters","mode"],y),r}function pR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["image"]);a!=null&&u(r,["instances[0]","image"],Tr(a));const c=l(e,["upscaleFactor"]);c!=null&&u(r,["parameters","upscaleConfig","upscaleFactor"],c);const d=l(e,["config"]);return d!=null&&u(r,["config"],hR(d,r)),r}function mR(t){const e={},r=l(t,["productImage"]);return r!=null&&u(e,["image"],Tr(r)),e}function gR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["personImage"]);e!==void 0&&a!=null&&u(e,["instances[0]","personImage","image"],Tr(a));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>mR(h))),u(e,["instances[0]","productImages"],d)}return r}function yR(t,e){const r={},o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["baseSteps"]);e!==void 0&&a!=null&&u(e,["parameters","editConfig","baseSteps"],a);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=l(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const m=l(t,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const x=l(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&u(e,["parameters","outputOptions","compressionQuality"],x);const S=l(t,["enhancePrompt"]);return e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S),r}function vR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["source"]);a!=null&&u(r,["config"],gR(a,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],yR(c,r)),r}function wR(t){const e={},r=l(t,["image"]);return r!=null&&u(e,["image"],Tr(r)),e}function xR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Tr(a));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],wR(c)),r}function TR(t,e){const r={},o=l(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const a=l(t,["maxPredictions"]);e!==void 0&&a!=null&&u(e,["parameters","maxPredictions"],a);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const d=l(t,["maskDilation"]);e!==void 0&&d!=null&&u(e,["parameters","maskDilation"],d);const h=l(t,["binaryColorThreshold"]);return e!==void 0&&h!=null&&u(e,["parameters","binaryColorThreshold"],h),r}function bR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["source"]);a!=null&&u(r,["config"],xR(a,r));const c=l(e,["config"]);return c!=null&&u(r,["config"],TR(c,r)),r}function SR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function ER(t,e,r){const o={},a=l(e,["pageSize"]);r!==void 0&&a!=null&&u(r,["_query","pageSize"],a);const c=l(e,["pageToken"]);r!==void 0&&c!=null&&u(r,["_query","pageToken"],c);const d=l(e,["filter"]);r!==void 0&&d!=null&&u(r,["_query","filter"],d);const h=l(e,["queryBase"]);return r!==void 0&&h!=null&&u(r,["_url","models_url"],vw(t,h)),o}function _R(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],ER(t,o,r)),r}function CR(t,e){const r={},o=l(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),r}function AR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],CR(a,r)),r}function NR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","name"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],a),r}function RR(t,e){const r={},o=l(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],ms(pn(o)));const a=l(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Lw(h))),u(e,["tools"],d)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],c),r}function MR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["contents"]);if(a!=null){let d=$n(a);Array.isArray(d)&&(d=d.map(h=>ms(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],RR(c,r)),r}function DR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["contents"]);if(a!=null){let d=$n(a);Array.isArray(d)&&(d=d.map(h=>ms(h))),u(r,["contents"],d)}const c=l(e,["config"]);return c!=null&&u(r,["config"],c),r}function Uw(t){const e={},r=l(t,["uri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],eo(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function IR(t,e){const r={},o=l(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Tr(a));const c=l(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],Uw(c)),r}function kR(t){const e={},r=l(t,["image"]);r!=null&&u(e,["image"],Tr(r));const o=l(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function LR(t,e){const r={},o=l(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=l(t,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=l(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const d=l(t,["durationSeconds"]);e!==void 0&&d!=null&&u(e,["parameters","durationSeconds"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const p=l(t,["aspectRatio"]);e!==void 0&&p!=null&&u(e,["parameters","aspectRatio"],p);const m=l(t,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const x=l(t,["pubsubTopic"]);e!==void 0&&x!=null&&u(e,["parameters","pubsubTopic"],x);const S=l(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const E=l(t,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const D=l(t,["generateAudio"]);e!==void 0&&D!=null&&u(e,["parameters","generateAudio"],D);const _=l(t,["lastFrame"]);e!==void 0&&_!=null&&u(e,["instances[0]","lastFrame"],Tr(_));const L=l(t,["referenceImages"]);if(e!==void 0&&L!=null){let I=L;Array.isArray(I)&&(I=I.map(O=>kR(O))),u(e,["instances[0]","referenceImages"],I)}const N=l(t,["compressionQuality"]);return e!==void 0&&N!=null&&u(e,["parameters","compressionQuality"],N),r}function UR(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["_url","model"],mt(t,o));const a=l(e,["prompt"]);a!=null&&u(r,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(r,["instances[0]","image"],Tr(c));const d=l(e,["video"]);d!=null&&u(r,["instances[0]","video"],Uw(d));const h=l(e,["source"]);h!=null&&u(r,["config"],IR(h,r));const p=l(e,["config"]);return p!=null&&u(r,["config"],LR(p,r)),r}function BR(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function PR(t){const e={},r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function OR(t){const e={},r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function FR(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],BR(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],PR(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],OR(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function zR(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>FR(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function GR(t){const e={},r=l(t,["citationSources"]);return r!=null&&u(e,["citations"],r),e}function VR(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function qR(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>VR(a))),u(e,["urlMetadata"],o)}return e}function HR(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],zR(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],GR(o));const a=l(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],qR(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function I0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>HR(m))),u(e,["candidates"],p)}const a=l(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=l(t,["responseId"]);d!=null&&u(e,["responseId"],d);const h=l(t,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function KR(t){const e={},r=l(t,["values"]);return r!=null&&u(e,["values"],r),e}function YR(){return{}}function $R(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>KR(d))),u(e,["embeddings"],c)}return l(t,["metadata"])!=null&&u(e,["metadata"],YR()),e}function JR(t){const e={},r=l(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],eo(r));const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Bw(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=l(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function WR(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],JR(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=l(t,["_self"]);return a!=null&&u(e,["safetyAttributes"],Bw(a)),e}function jR(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>WR(d))),u(e,["generatedImages"],c)}const a=l(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],Bw(a)),e}function XR(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const a=l(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function Qd(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["version"]);c!=null&&u(e,["version"],c);const d=l(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],XR(d));const h=l(t,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const p=l(t,["outputTokenLimit"]);p!=null&&u(e,["outputTokenLimit"],p);const m=l(t,["supportedGenerationMethods"]);return m!=null&&u(e,["supportedActions"],m),e}function ZR(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["_self"]);if(a!=null){let c=ww(a);Array.isArray(c)&&(c=c.map(d=>Qd(d))),u(e,["models"],c)}return e}function QR(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function eM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const a=l(t,["cachedContentTokenCount"]);return a!=null&&u(e,["cachedContentTokenCount"],a),e}function tM(t){const e={},r=l(t,["video","uri"]);r!=null&&u(e,["uri"],r);const o=l(t,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],eo(o));const a=l(t,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function nM(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],tM(r)),e}function rM(t){const e={},r=l(t,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>nM(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function iM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response","generateVideoResponse"]);return d!=null&&u(e,["response"],rM(d)),e}function oM(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function sM(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["data"]);o!=null&&u(e,["data"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function aM(t){const e={},r=l(t,["displayName"]);r!=null&&u(e,["displayName"],r);const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function lM(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],oM(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],sM(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],aM(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function uM(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>lM(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function cM(t){const e={},r=l(t,["citations"]);return r!=null&&u(e,["citations"],r),e}function fM(t){const e={},r=l(t,["retrievedUrl"]);r!=null&&u(e,["retrievedUrl"],r);const o=l(t,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function dM(t){const e={},r=l(t,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>fM(a))),u(e,["urlMetadata"],o)}return e}function hM(t){const e={},r=l(t,["content"]);r!=null&&u(e,["content"],uM(r));const o=l(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],cM(o));const a=l(t,["finishMessage"]);a!=null&&u(e,["finishMessage"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],dM(d));const h=l(t,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const m=l(t,["index"]);m!=null&&u(e,["index"],m);const y=l(t,["logprobsResult"]);y!=null&&u(e,["logprobsResult"],y);const x=l(t,["safetyRatings"]);return x!=null&&u(e,["safetyRatings"],x),e}function k0(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>hM(y))),u(e,["candidates"],m)}const a=l(t,["createTime"]);a!=null&&u(e,["createTime"],a);const c=l(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=l(t,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const h=l(t,["responseId"]);h!=null&&u(e,["responseId"],h);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function pM(t){const e={},r=l(t,["truncated"]);r!=null&&u(e,["truncated"],r);const o=l(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function mM(t){const e={},r=l(t,["values"]);r!=null&&u(e,["values"],r);const o=l(t,["statistics"]);return o!=null&&u(e,["statistics"],pM(o)),e}function gM(t){const e={},r=l(t,["billableCharacterCount"]);return r!=null&&u(e,["billableCharacterCount"],r),e}function yM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions[]","embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>mM(d))),u(e,["embeddings"],c)}const a=l(t,["metadata"]);return a!=null&&u(e,["metadata"],gM(a)),e}function Pw(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["gcsUri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],eo(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Ow(t){const e={},r=l(t,["safetyAttributes","categories"]);r!=null&&u(e,["categories"],r);const o=l(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=l(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function Ru(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["image"],Pw(r));const o=l(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=l(t,["_self"]);a!=null&&u(e,["safetyAttributes"],Ow(a));const c=l(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function vM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Ru(d))),u(e,["generatedImages"],c)}const a=l(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],Ow(a)),e}function wM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ru(c))),u(e,["generatedImages"],a)}return e}function xM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ru(c))),u(e,["generatedImages"],a)}return e}function TM(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Ru(a))),u(e,["generatedImages"],o)}return e}function bM(t){const e={},r=l(t,["label"]);r!=null&&u(e,["label"],r);const o=l(t,["score"]);return o!=null&&u(e,["score"],o),e}function SM(t){const e={},r=l(t,["_self"]);r!=null&&u(e,["mask"],Pw(r));const o=l(t,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>bM(c))),u(e,["labels"],a)}return e}function EM(t){const e={},r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>SM(a))),u(e,["generatedMasks"],o)}return e}function _M(t){const e={},r=l(t,["endpoint"]);r!=null&&u(e,["name"],r);const o=l(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function CM(t){const e={},r=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["createTime"]);o!=null&&u(e,["createTime"],o);const a=l(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function AM(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const a=l(t,["step"]);return a!=null&&u(e,["step"],a),e}function eh(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["displayName"]);o!=null&&u(e,["displayName"],o);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["versionId"]);c!=null&&u(e,["version"],c);const d=l(t,["deployedModels"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>_M(S))),u(e,["endpoints"],x)}const h=l(t,["labels"]);h!=null&&u(e,["labels"],h);const p=l(t,["_self"]);p!=null&&u(e,["tunedModelInfo"],CM(p));const m=l(t,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const y=l(t,["checkpoints"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(S=>AM(S))),u(e,["checkpoints"],x)}return e}function NM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["_self"]);if(a!=null){let c=ww(a);Array.isArray(c)&&(c=c.map(d=>eh(d))),u(e,["models"],c)}return e}function RM(t){const e={},r=l(t,["sdkHttpResponse"]);return r!=null&&u(e,["sdkHttpResponse"],r),e}function MM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function DM(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["tokensInfo"]);return o!=null&&u(e,["tokensInfo"],o),e}function IM(t){const e={},r=l(t,["gcsUri"]);r!=null&&u(e,["uri"],r);const o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],eo(o));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function kM(t){const e={},r=l(t,["_self"]);return r!=null&&u(e,["video"],IM(r)),e}function LM(t){const e={},r=l(t,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>kM(d))),u(e,["generatedVideos"],c)}const o=l(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function UM(t){const e={},r=l(t,["name"]);r!=null&&u(e,["name"],r);const o=l(t,["metadata"]);o!=null&&u(e,["metadata"],o);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const d=l(t,["response"]);return d!=null&&u(e,["response"],LM(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BM="Content-Type",PM="X-Server-Timeout",OM="User-Agent",th="x-goog-api-client",FM="1.17.0",zM=`google-genai-sdk/${FM}`,GM="v1beta1",VM="v1beta",L0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class qM{constructor(e){var r,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:GM,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:VM,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,o){const a=[this.getRequestUrlInternal(r)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,r,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))a.searchParams.append(d,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,r){const o=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(r))typeof c=="object"?o[a]=Object.assign(Object.assign({},o[a]),c):c!==void 0&&(o[a]=c);return o}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,r,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,o){if(r&&r.timeout||o){const a=new AbortController,c=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const d=setTimeout(()=>a.abort(),r.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=c}return r&&r.extraBody!==null&&HM(e,r.extraBody),e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async a=>(await U0(a),new Jd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,r,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:o})).then(async a=>(await U0(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var r;return Qo(this,arguments,function*(){const a=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:p}=yield Dt(a.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(p,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const S=JSON.parse(JSON.stringify(x.error)),E=S.status,D=S.code,_=`got status: ${E}. ${JSON.stringify(x)}`;if(D>=400&&D<600)throw new Au({message:_,status:D})}}catch(x){if(x.name==="ApiError")throw x}d+=m;let y=d.match(L0);for(;y;){const x=y[1];try{const S=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Dt(new Jd(S)),d=d.slice(y[0].length),y=d.match(L0)}catch(S){throw new Error(`exception parsing stream chunk ${x}. ${S}`)}}}}finally{a.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},r=zM+" "+this.clientOptions.userAgentExtra;return e[OM]=r,e[th]=r,e[BM]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))r.append(o,a);e.timeout&&e.timeout>0&&r.append(PM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var o;const a={};r!=null&&(a.mimeType=r.mimeType,a.name=r.name,a.displayName=r.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);a.sizeBytes=String(d.size);const h=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const p=await this.fetchUploadUrl(a,r);return c.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var o;let a={};r!=null&&r.httpOptions?a=r.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:$e("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:a});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function U0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(o);throw r>=400&&r<600?new Au({message:a,status:r}):new Error(a)}}function HM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(c,d){const h=Object.assign({},c);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p)){const m=d[p],y=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[p]=o(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const a=o(r,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KM="mcp_used/unknown";let YM=!1;function Fw(t){for(const e of t)if($M(e)||typeof e=="object"&&"inputSchema"in e)return!0;return YM}function zw(t){var e;const r=(e=t[th])!==null&&e!==void 0?e:"";t[th]=(r+` ${KM}`).trimStart()}function $M(t){return t!==null&&typeof t=="object"&&t instanceof yh}function JM(t,e=100){return Qo(this,arguments,function*(){let o,a=0;for(;a<e;){const c=yield Dt(t.listTools({cursor:o}));for(const d of c.tools)yield yield Dt(d),a++;if(!c.nextCursor)break;o=c.nextCursor}})}class yh{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new yh(e,r)}async initialize(){var e,r,o,a;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var h=!0,p=(r=void 0,La(JM(y))),m;m=await p.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const x=a;d.push(x);const S=x.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=y}}catch(x){r={error:x}}finally{try{!h&&!e&&(o=p.return)&&await o.call(p)}finally{if(r)throw r.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),_S(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await a.callTool({name:o.name,arguments:o.args},void 0,c);r.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function WM(t,e,r){const o=new yS;let a;r.data instanceof Blob?a=JSON.parse(await r.data.text()):a=JSON.parse(r.data);const c=RA(a);Object.assign(o,c),e(o)}class jM{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o}async connect(e){var r,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=QM(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(O=>{m=O}),x=e.callbacks,S=function(){m({})},E=this.apiClient,D={onopen:S,onmessage:O=>{WM(E,x.onmessage,O)},onerror:(r=x==null?void 0:x.onerror)!==null&&r!==void 0?r:function(O){},onclose:(o=x==null?void 0:x.onclose)!==null&&o!==void 0?o:function(O){}},_=this.webSocketFactory.create(p,ZM(d),D);_.connect(),await y;const L=mt(this.apiClient,e.model),N=Mw({model:L}),I=Zd({setup:N});return _.send(JSON.stringify(I)),new XM(_,this.apiClient)}}class XM{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=CC(e),o=Dw(r);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=AC(e),o=Zd(r);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const r=Zd({playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Xo.PLAY)}pause(){this.sendPlaybackControl(Xo.PAUSE)}stop(){this.sendPlaybackControl(Xo.STOP)}resetContext(){this.sendPlaybackControl(Xo.RESET_CONTEXT)}close(){this.conn.close()}}function ZM(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function QM(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tD(t,e,r){const o=new gS;let a;r.data instanceof Blob?a=await r.data.text():r.data instanceof ArrayBuffer?a=new TextDecoder().decode(r.data):a=r.data;const c=JSON.parse(a);if(t.isVertexAI()){const d=qA(c);Object.assign(o,d)}else{const d=xA(c);Object.assign(o,d)}e(o)}class nD{constructor(e,r,o){this.apiClient=e,this.auth=r,this.webSocketFactory=o,this.music=new jM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,o,a,c,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&Fw(e.config.tools)&&zw(x);const S=sD(x);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const U=this.apiClient.getApiKey();let ae="BidiGenerateContent",de="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",de="access_token"),y=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ae}?${de}=${U}`}let E=()=>{};const D=new Promise(U=>{E=U}),_=e.callbacks,L=function(){var U;(U=_==null?void 0:_.onopen)===null||U===void 0||U.call(_),E({})},N=this.apiClient,I={onopen:L,onmessage:U=>{tD(N,_.onmessage,U)},onerror:(r=_==null?void 0:_.onerror)!==null&&r!==void 0?r:function(U){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(U){}},O=this.webSocketFactory.create(y,oD(S),I);O.connect(),await D;let H=mt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const U=this.apiClient.getProject(),ae=this.apiClient.getLocation();H=`projects/${U}/locations/${ae}/`+H}let q={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vu.AUDIO]}:e.config.responseModalities=[vu.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ce=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],oe=[];for(const U of ce)if(this.isCallableTool(U)){const ae=U;oe.push(await ae.tool())}else oe.push(U);oe.length>0&&(e.config.tools=oe);const me={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=tA(this.apiClient,me):q=bC(this.apiClient,me),delete q.config,O.send(JSON.stringify(q)),new iD(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const rD={turnComplete:!0};class iD{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let o=[];try{o=$n(r.turns),e.isVertexAI()?o=o.map(a=>ms(a)):o=o.map(a=>Nu(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:o,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let o=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?o=r.functionResponses:o=[r.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const c of o){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(eD)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},rD),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:iA(e)}:r={realtimeInput:_C(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function oD(t){const e={};return t.forEach((r,o)=>{e[o]=r}),e}function sD(t){const e=new Headers;for(const[r,o]of Object.entries(t))e.append(r,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B0=10;function P0(t){var e,r,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(es(d)){a=!0;break}if(!a)return!0;const c=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function es(t){return"callTool"in t&&typeof t.callTool=="function"}function aD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(a=>es(a)))!==null&&o!==void 0?o:!1}function lD(t){var e,r,o;return(o=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(a=>!es(a)))!==null&&o!==void 0?o:!1}function O0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uD extends Qi{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var o,a,c,d,h;const p=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!aD(r)||P0(r.config))return await this.generateContentInternal(p);if(lD(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,y;const x=$n(p.contents),S=(c=(a=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:B0;let E=0;for(;E<S&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const D=m.candidates[0].content,_=[];for(const L of(h=(d=r.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(es(L)){const I=await L.callTool(m.functionCalls);_.push(...I)}E++,y={role:"user",parts:_},p.contents=$n(p.contents),p.contents.push(D),p.contents.push(y),O0(p.config)&&(x.push(D),x.push(y))}return O0(p.config)&&(m.automaticFunctionCallingHistory=x),m},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),P0(r.config)){const o=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(o=>{var a;let c;const d=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((a=p==null?void 0:p.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=p==null?void 0:p.safetyAttributes:d.push(p);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async r=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ua(Zi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async r=>{const o={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(o.referenceImages=r.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async r=>{let o={numberOfImages:1,mode:"upscale"};r.config&&(o=Object.assign(Object.assign({},o),r.config));const a={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async r=>{if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,o,a;const c=(r=e.config)===null||r===void 0?void 0:r.tools;if(!c)return e;const d=await Promise.all(c.map(async p=>es(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&Fw(e.config.tools)){const p=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),zw(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var r,o,a;const c=new Map;for(const d of(o=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&o!==void 0?o:[])if(es(d)){const h=d,p=await h.tool();for(const m of(a=p.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(e){var r,o,a;const c=(a=(o=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:B0;let d=!1,h=0;const p=await this.initAfcToolsMap(e);return(function(m,y,x){var S,E;return Qo(this,arguments,function*(){for(var D,_,L,N;h<c;){d&&(h++,d=!1);const q=yield Dt(m.processParamsMaybeAddMcpUsage(x)),ce=yield Dt(m.generateContentStreamInternal(q)),oe=[],me=[];try{for(var I=!0,O=(_=void 0,La(ce)),H;H=yield Dt(O.next()),D=H.done,!D;I=!0){N=H.value,I=!1;const U=N;if(yield yield Dt(U),U.candidates&&(!((S=U.candidates[0])===null||S===void 0)&&S.content)){me.push(U.candidates[0].content);for(const ae of(E=U.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<c&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ae.functionCall.name)){const de=yield Dt(y.get(ae.functionCall.name).callTool([ae.functionCall]));oe.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(U){_={error:U}}finally{try{!I&&!D&&(L=O.return)&&(yield Dt(L.call(O)))}finally{if(_)throw _.error}}if(oe.length>0){d=!0;const U=new Ca;U.candidates=[{content:{role:"user",parts:oe}}],yield yield Dt(U);const ae=[];ae.push(...me),ae.push({role:"user",parts:oe});const de=$n(x.contents).concat(ae);x.contents=de}else break}})})(this,p,e)}async generateContentInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=D0(this.apiClient,e);return h=$e("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=k0(y),S=new Ca;return Object.assign(S,x),S})}else{const m=M0(this.apiClient,e);return h=$e("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=I0(y),S=new Ca;return Object.assign(S,x),S})}}async generateContentStreamInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=D0(this.apiClient,e);return h=$e("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(x){return Qo(this,arguments,function*(){var S,E,D,_;try{for(var L=!0,N=La(x),I;I=yield Dt(N.next()),S=I.done,!S;L=!0){_=I.value,L=!1;const O=_,H=k0(yield Dt(O.json()));H.sdkHttpResponse={headers:O.headers};const q=new Ca;Object.assign(q,H),yield yield Dt(q)}}catch(O){E={error:O}}finally{try{!L&&!S&&(D=N.return)&&(yield Dt(D.call(N)))}finally{if(E)throw E.error}}})})}else{const m=M0(this.apiClient,e);return h=$e("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(x){return Qo(this,arguments,function*(){var S,E,D,_;try{for(var L=!0,N=La(x),I;I=yield Dt(N.next()),S=I.done,!S;L=!0){_=I.value,L=!1;const O=_,H=I0(yield Dt(O.json()));H.sdkHttpResponse={headers:O.headers};const q=new Ca;Object.assign(q,H),yield yield Dt(q)}}catch(O){E={error:O}}finally{try{!L&&!S&&(D=N.return)&&(yield Dt(D.call(N)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=rR(this.apiClient,e);return h=$e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=yM(y),S=new l0;return Object.assign(S,x),S})}else{const m=mN(this.apiClient,e);return h=$e("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=$R(y),S=new l0;return Object.assign(S,x),S})}}async generateImagesInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=oR(this.apiClient,e);return h=$e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=vM(y),S=new u0;return Object.assign(S,x),S})}else{const m=yN(this.apiClient,e);return h=$e("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=jR(y),S=new u0;return Object.assign(S,x),S})}}async editImageInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=dR(this.apiClient,e);return c=$e("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=wM(p),y=new lS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=pR(this.apiClient,e);return c=$e("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=xM(p),y=new uS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=vR(this.apiClient,e);return c=$e("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=TM(p),y=new cS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=bR(this.apiClient,e);return c=$e("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const m=EM(p),y=new fS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=SR(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>eh(y))}else{const m=vN(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Qd(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=_R(this.apiClient,e);return h=$e("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=NM(y),S=new c0;return Object.assign(S,x),S})}else{const m=xN(this.apiClient,e);return h=$e("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=ZR(y),S=new c0;return Object.assign(S,x),S})}}async update(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=AR(this.apiClient,e);return h=$e("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>eh(y))}else{const m=bN(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Qd(y))}}async delete(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=NR(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=RM(y),S=new f0;return Object.assign(S,x),S})}else{const m=SN(this.apiClient,e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=QR(y),S=new f0;return Object.assign(S,x),S})}}async countTokens(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=MR(this.apiClient,e);return h=$e("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=MM(y),S=new d0;return Object.assign(S,x),S})}else{const m=_N(this.apiClient,e);return h=$e("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=eM(y),S=new d0;return Object.assign(S,x),S})}}async computeTokens(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=DR(this.apiClient,e);return c=$e("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const m=DM(p),y=new dS;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=UR(this.apiClient,e);return h=$e("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>{const x=UM(y),S=new wu;return Object.assign(S,x),S})}else{const m=NN(this.apiClient,e);return h=$e("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const x=iM(y),S=new wu;return Object.assign(S,x),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function fD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["operationName"],r);const o=l(t,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const a=l(t,["config"]);return a!=null&&u(e,["config"],a),e}function dD(t){const e={},r=l(t,["operationName"]);r!=null&&u(e,["_url","operationName"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hD extends Qi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const r=e.operation,o=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=dD(e);return h=$e("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d}else{const m=cD(e);return h=$e("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=fD(e);return c=$e("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pD(t){const e={},r=l(t,["voiceName"]);return r!=null&&u(e,["voiceName"],r),e}function Gw(t){const e={},r=l(t,["prebuiltVoiceConfig"]);return r!=null&&u(e,["prebuiltVoiceConfig"],pD(r)),e}function mD(t){const e={},r=l(t,["speaker"]);r!=null&&u(e,["speaker"],r);const o=l(t,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Gw(o)),e}function gD(t){const e={},r=l(t,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>mD(a))),u(e,["speakerVoiceConfigs"],o)}return e}function yD(t){const e={},r=l(t,["voiceConfig"]);r!=null&&u(e,["voiceConfig"],Gw(r));const o=l(t,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],gD(o));const a=l(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function vD(t){const e={},r=l(t,["fps"]);r!=null&&u(e,["fps"],r);const o=l(t,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=l(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function wD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["data"]);r!=null&&u(e,["data"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function xD(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const o=l(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function TD(t){const e={},r=l(t,["videoMetadata"]);r!=null&&u(e,["videoMetadata"],vD(r));const o=l(t,["thought"]);o!=null&&u(e,["thought"],o);const a=l(t,["inlineData"]);a!=null&&u(e,["inlineData"],wD(a));const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],xD(c));const d=l(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const p=l(t,["executableCode"]);p!=null&&u(e,["executableCode"],p);const m=l(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const y=l(t,["functionResponse"]);y!=null&&u(e,["functionResponse"],y);const x=l(t,["text"]);return x!=null&&u(e,["text"],x),e}function bD(t){const e={},r=l(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>TD(c))),u(e,["parts"],a)}const o=l(t,["role"]);return o!=null&&u(e,["role"],o),e}function SD(t){const e={},r=l(t,["behavior"]);r!=null&&u(e,["behavior"],r);const o=l(t,["description"]);o!=null&&u(e,["description"],o);const a=l(t,["name"]);a!=null&&u(e,["name"],a);const c=l(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&u(e,["response"],h);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function ED(t){const e={},r=l(t,["startTime"]);r!=null&&u(e,["startTime"],r);const o=l(t,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function _D(t){const e={},r=l(t,["timeRangeFilter"]);if(r!=null&&u(e,["timeRangeFilter"],ED(r)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function CD(t){const e={},r=l(t,["mode"]);r!=null&&u(e,["mode"],r);const o=l(t,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function AD(t){const e={},r=l(t,["dynamicRetrievalConfig"]);return r!=null&&u(e,["dynamicRetrievalConfig"],CD(r)),e}function ND(){return{}}function RD(t){const e={},r=l(t,["environment"]);return r!=null&&u(e,["environment"],r),e}function MD(t){const e={},r=l(t,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>SD(m))),u(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(t,["googleSearch"]);o!=null&&u(e,["googleSearch"],_D(o));const a=l(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],AD(a)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&u(e,["urlContext"],ND());const d=l(t,["computerUse"]);d!=null&&u(e,["computerUse"],RD(d));const h=l(t,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function DD(t){const e={},r=l(t,["handle"]);if(r!=null&&u(e,["handle"],r),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function F0(){return{}}function ID(t){const e={},r=l(t,["disabled"]);r!=null&&u(e,["disabled"],r);const o=l(t,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=l(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=l(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function kD(t){const e={},r=l(t,["automaticActivityDetection"]);r!=null&&u(e,["automaticActivityDetection"],ID(r));const o=l(t,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=l(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function LD(t){const e={},r=l(t,["targetTokens"]);return r!=null&&u(e,["targetTokens"],r),e}function UD(t){const e={},r=l(t,["triggerTokens"]);r!=null&&u(e,["triggerTokens"],r);const o=l(t,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],LD(o)),e}function BD(t){const e={},r=l(t,["proactiveAudio"]);return r!=null&&u(e,["proactiveAudio"],r),e}function PD(t,e){const r={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const p=l(t,["maxOutputTokens"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","maxOutputTokens"],p);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const x=l(t,["speechConfig"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","speechConfig"],yD(gh(x)));const S=l(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],bD(pn(E)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let q=hs(D);Array.isArray(q)&&(q=q.map(ce=>MD(ds(ce)))),u(e,["setup","tools"],q)}const _=l(t,["sessionResumption"]);e!==void 0&&_!=null&&u(e,["setup","sessionResumption"],DD(_));const L=l(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],F0());const N=l(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&u(e,["setup","outputAudioTranscription"],F0());const I=l(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],kD(I));const O=l(t,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],UD(O));const H=l(t,["proactivity"]);return e!==void 0&&H!=null&&u(e,["setup","proactivity"],BD(H)),r}function OD(t,e){const r={},o=l(e,["model"]);o!=null&&u(r,["setup","model"],mt(t,o));const a=l(e,["config"]);return a!=null&&u(r,["config"],PD(a,r)),r}function FD(t,e,r){const o={},a=l(e,["expireTime"]);r!==void 0&&a!=null&&u(r,["expireTime"],a);const c=l(e,["newSessionExpireTime"]);r!==void 0&&c!=null&&u(r,["newSessionExpireTime"],c);const d=l(e,["uses"]);r!==void 0&&d!=null&&u(r,["uses"],d);const h=l(e,["liveConnectConstraints"]);r!==void 0&&h!=null&&u(r,["bidiGenerateContentSetup"],OD(t,h));const p=l(e,["lockAdditionalFields"]);return r!==void 0&&p!=null&&u(r,["fieldMask"],p),o}function zD(t,e){const r={},o=l(e,["config"]);return o!=null&&u(r,["config"],FD(t,o,r)),r}function GD(t){const e={},r=l(t,["name"]);return r!=null&&u(e,["name"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VD(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(c=>`${r}.${c}`);e.push(...a)}else e.push(r)}return e.join(",")}function qD(t,e){let r=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const c=o.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,r=c):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(r){const c=VD(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const p=[];c&&p.push(c),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class HD extends Qi{constructor(e){super(),this.apiClient=e}async create(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=zD(this.apiClient,e);c=$e("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const p=qD(h,e.config);return a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>GD(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function YD(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function $D(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],YD(r,e)),e}function JD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function WD(t){const e={},r=l(t,["textInput"]);r!=null&&u(e,["textInput"],r);const o=l(t,["output"]);return o!=null&&u(e,["output"],o),e}function jD(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>WD(a))),u(e,["examples","examples"],o)}return e}function XD(t,e){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=l(t,["epochCount"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","epochCount"],a);const c=l(t,["learningRateMultiplier"]);if(c!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(t,["batchSize"]);e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","batchSize"],d);const h=l(t,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),r}function ZD(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const a=l(t,["trainingDataset"]);a!=null&&u(e,["tuningTask","trainingData"],jD(a));const c=l(t,["config"]);return c!=null&&u(e,["config"],XD(c,e)),e}function QD(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function e5(t,e){const r={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),r}function t5(t){const e={},r=l(t,["config"]);return r!=null&&u(e,["config"],e5(r,e)),e}function n5(t){const e={},r=l(t,["name"]);r!=null&&u(e,["_url","name"],r);const o=l(t,["config"]);return o!=null&&u(e,["config"],o),e}function r5(t,e){const r={},o=l(t,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const a=l(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function i5(t,e){const r={},o=l(t,["gcsUri"]);o!=null&&u(r,["validationDatasetUri"],o);const a=l(t,["vertexDatasetResource"]);return e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),r}function o5(t,e){const r={},o=l(t,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],i5(o,r));const a=l(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&u(e,["tunedModelDisplayName"],a);const c=l(t,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=l(t,["epochCount"]);e!==void 0&&d!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=l(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=l(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=l(t,["preTunedModelCheckpointId"]);m!=null&&u(r,["preTunedModel","checkpointId"],m);const y=l(t,["adapterSize"]);if(e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function s5(t){const e={},r=l(t,["baseModel"]);r!=null&&u(e,["baseModel"],r);const o=l(t,["preTunedModel"]);o!=null&&u(e,["preTunedModel"],o);const a=l(t,["trainingDataset"]);a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],r5(a,e));const c=l(t,["config"]);return c!=null&&u(e,["config"],o5(c,e)),e}function a5(t){const e={},r=l(t,["name"]);r!=null&&u(e,["model"],r);const o=l(t,["name"]);return o!=null&&u(e,["endpoint"],o),e}function Vw(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],gw(a));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["tuningTask","startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["tuningTask","completeTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["description"]);m!=null&&u(e,["description"],m);const y=l(t,["baseModel"]);y!=null&&u(e,["baseModel"],y);const x=l(t,["_self"]);x!=null&&u(e,["tunedModel"],a5(x));const S=l(t,["customBaseModel"]);S!=null&&u(e,["customBaseModel"],S);const E=l(t,["experiment"]);E!=null&&u(e,["experiment"],E);const D=l(t,["labels"]);D!=null&&u(e,["labels"],D);const _=l(t,["outputUri"]);_!=null&&u(e,["outputUri"],_);const L=l(t,["pipelineJob"]);L!=null&&u(e,["pipelineJob"],L);const N=l(t,["serviceAccount"]);N!=null&&u(e,["serviceAccount"],N);const I=l(t,["tunedModelDisplayName"]);return I!=null&&u(e,["tunedModelDisplayName"],I),e}function l5(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Vw(d))),u(e,["tuningJobs"],c)}return e}function u5(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["metadata"]);a!=null&&u(e,["metadata"],a);const c=l(t,["done"]);c!=null&&u(e,["done"],c);const d=l(t,["error"]);return d!=null&&u(e,["error"],d),e}function c5(t){const e={},r=l(t,["checkpointId"]);r!=null&&u(e,["checkpointId"],r);const o=l(t,["epoch"]);o!=null&&u(e,["epoch"],o);const a=l(t,["step"]);a!=null&&u(e,["step"],a);const c=l(t,["endpoint"]);return c!=null&&u(e,["endpoint"],c),e}function f5(t){const e={},r=l(t,["model"]);r!=null&&u(e,["model"],r);const o=l(t,["endpoint"]);o!=null&&u(e,["endpoint"],o);const a=l(t,["checkpoints"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>c5(d))),u(e,["checkpoints"],c)}return e}function nh(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["name"]);o!=null&&u(e,["name"],o);const a=l(t,["state"]);a!=null&&u(e,["state"],gw(a));const c=l(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=l(t,["startTime"]);d!=null&&u(e,["startTime"],d);const h=l(t,["endTime"]);h!=null&&u(e,["endTime"],h);const p=l(t,["updateTime"]);p!=null&&u(e,["updateTime"],p);const m=l(t,["error"]);m!=null&&u(e,["error"],m);const y=l(t,["description"]);y!=null&&u(e,["description"],y);const x=l(t,["baseModel"]);x!=null&&u(e,["baseModel"],x);const S=l(t,["tunedModel"]);S!=null&&u(e,["tunedModel"],f5(S));const E=l(t,["preTunedModel"]);E!=null&&u(e,["preTunedModel"],E);const D=l(t,["supervisedTuningSpec"]);D!=null&&u(e,["supervisedTuningSpec"],D);const _=l(t,["tuningDataStats"]);_!=null&&u(e,["tuningDataStats"],_);const L=l(t,["encryptionSpec"]);L!=null&&u(e,["encryptionSpec"],L);const N=l(t,["partnerModelTuningSpec"]);N!=null&&u(e,["partnerModelTuningSpec"],N);const I=l(t,["customBaseModel"]);I!=null&&u(e,["customBaseModel"],I);const O=l(t,["experiment"]);O!=null&&u(e,["experiment"],O);const H=l(t,["labels"]);H!=null&&u(e,["labels"],H);const q=l(t,["outputUri"]);q!=null&&u(e,["outputUri"],q);const ce=l(t,["pipelineJob"]);ce!=null&&u(e,["pipelineJob"],ce);const oe=l(t,["serviceAccount"]);oe!=null&&u(e,["serviceAccount"],oe);const me=l(t,["tunedModelDisplayName"]);return me!=null&&u(e,["tunedModelDisplayName"],me),e}function d5(t){const e={},r=l(t,["sdkHttpResponse"]);r!=null&&u(e,["sdkHttpResponse"],r);const o=l(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const a=l(t,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>nh(d))),u(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h5 extends Qi{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new Ua(Zi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const o={tunedModelName:r.baseModel},a=Object.assign(Object.assign({},r),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},r);return await this.tuneInternal(o)}else{const o=Object.assign({},r),a=await this.tuneMldevInternal(o);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:$d.JOB_STATE_QUEUED}}}}async getInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=QD(e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>nh(y))}else{const m=KD(e);return h=$e("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Vw(y))}}async listInternal(e){var r,o,a,c;let d,h="",p={};if(this.apiClient.isVertexAI()){const m=t5(e);return h=$e("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=d5(y),S=new p0;return Object.assign(S,x),S})}else{const m=$D(e);return h=$e("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const x=l5(y),S=new p0;return Object.assign(S,x),S})}}async cancel(e){var r,o,a,c;let d="",h={};if(this.apiClient.isVertexAI()){const p=n5(e);d=$e("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=JD(e);d=$e("{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI()){const h=s5(e);return c=$e("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>nh(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,o;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZD(e);return c=$e("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>u5(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p5{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const m5=1024*1024*8,g5=3,y5=1e3,v5=2,jf="x-goog-upload-status";async function w5(t,e,r){var o,a,c;let d=0,h=0,p=new Jd(new Response),m="upload";for(d=t.size;h<d;){const x=Math.min(m5,d-h),S=t.slice(h,h+x);h+x>=d&&(m+=", finalize");let E=0,D=y5;for(;E<g5&&(p=await r.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(x)}}}),!(!((o=p==null?void 0:p.headers)===null||o===void 0)&&o[jf]));)E++,await T5(D),D=D*v5;if(h+=x,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[jf])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((c=p==null?void 0:p.headers)===null||c===void 0?void 0:c[jf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function x5(t){return{size:t.size,type:t.type}}function T5(t){return new Promise(e=>setTimeout(e,t))}class b5{async upload(e,r,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await w5(e,r,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await x5(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S5{create(e,r,o){return new E5(e,r,o)}}class E5{constructor(e,r,o){this.url=e,this.headers=r,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z0="x-goog-api-key";class _5{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(z0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(z0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C5="gl-node/";class A5{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const o=aS(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new _5(this.apiKey);this.apiClient=new qM({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:C5+"web",uploader:new b5,downloader:new p5}),this.models=new uD(this.apiClient),this.live=new nD(this.apiClient,a,new S5),this.batches=new IE(this.apiClient),this.chats=new O_(this.models,this.apiClient),this.caches=new U_(this.apiClient),this.files=new X_(this.apiClient),this.operations=new hD(this.apiClient),this.authTokens=new HD(this.apiClient),this.tunings=new h5(this.apiClient)}}const gs=new A5({apiKey:"PLACEHOLDER_API_KEY"}),Jn=t=>t.map(e=>{if(e.type==="image"){const{src:r,...o}=e;return{...o,src:"[IMAGE_DATA_OMITTED]"}}return e.type==="list"?{...e,items:e.items.filter(r=>r&&r.trim()!=="")}:e}),N5={type:ct.OBJECT,properties:{type:{type:ct.STRING,description:"The type of the content block (e.g., 'heading', 'paragraph', 'list')."},level:{type:ct.INTEGER,description:"For 'heading' blocks, the level (1, 2, or 3)."},text:{type:ct.STRING,description:"Text content for 'paragraph', 'heading', or 'blockquote'."},style:{type:ct.STRING,description:"For 'list' blocks, the style ('ordered' or 'unordered')."},id:{type:ct.STRING,description:"For 'image' blocks, the unique ID."},caption:{type:ct.STRING,description:"For 'image' blocks, the caption."}},required:["type"]},G0={type:ct.OBJECT,properties:{id:{type:ct.STRING,description:"Unique ID. For new documents, use format 'doc-TIMESTAMP'. For updated documents, use the existing ID."},title:{type:ct.STRING,description:"The title of the document."},category:{type:ct.STRING,description:"The category of the document. Can be an existing category or a new one."},content:{type:ct.ARRAY,description:"An array of content blocks. Adhere strictly to the content block formats described in the system prompt.",items:N5}},required:["id","title","category","content"]},R5={type:ct.OBJECT,properties:{newDocuments:{type:ct.ARRAY,description:"Array of completely new documents to be created.",items:G0},updatedDocuments:{type:ct.ARRAY,description:"Array of existing documents that have been modified.",items:G0},deletedDocumentIds:{type:ct.ARRAY,description:"Array of document IDs to be deleted.",items:{type:ct.STRING}},summary:{type:ct.STRING,description:"A brief, one-sentence summary of the changes made, in Portuguese."},thinkingProcess:{type:ct.ARRAY,description:"A step-by-step explanation of the reasoning behind the changes, in Portuguese.",items:{type:ct.STRING}}},required:["newDocuments","updatedDocuments","deletedDocumentIds","summary","thinkingProcess"]},qw=`
JSON Response Structure:
- newDocuments: An array of new Document objects.
- updatedDocuments: An array of existing Document objects that you have modified.
- deletedDocumentIds: An array of strings, containing the IDs of documents to be deleted.
- summary: A brief, one-sentence summary of the changes you made, in Brazilian Portuguese.
- thinkingProcess: A step-by-step explanation of your reasoning, in Brazilian Portuguese.

Rules for manipulating documents:
1.  **ID Management**:
    -   When updating an existing document, you MUST preserve its original 'id'.
    -   For new documents, you MUST generate a new, unique ID using the format: "doc-" + a descriptive slug + "-" + timestamp (e.g., "doc-combat-amulets-1712345678").
2.  **Content Blocks**: The 'content' array must consist of objects with a 'type' field. The valid types and their structures are:
    -   \`{ "type": "heading", "level": 1|2|3, "text": "..." }\`
    -   \`{ "type": "paragraph", "text": "..." }\`
    -   \`{ "type": "list", "style": "ordered"|"unordered", "items": ["...", "..."] }\`
    -   \`{ "type": "image", "id": "...", "caption": "..." }\` (PRESERVE existing 'id' and DO NOT include 'src').
    -   \`{ "type": "blockquote", "text": "..." }\`
    -   \`{ "type": "definition_list", "items": [{ "term": "...", "description": "..." }] }\`
3.  **Linking**: Create internal links between documents by wrapping a document's title in double square brackets, e.g., "as described in the [[Mecânicas de Combate]] document."
    -   If you rename a document, you MUST update all links pointing to it across all other documents you are updating.
4.  **Consistency**: Ensure all changes are consistent with the overall style and lore of the existing documents.
5.  **Efficiency**:
    -   Only include documents in the 'updatedDocuments' array if their content has actually changed.
    -   If a user's idea is vague, make reasonable, creative decisions to flesh it out.
    -   If an idea requires splitting a document, create a new document and move the relevant content, leaving a summary and a link in the original document.
    -   If the request is to add a small piece of information, find the most logical document and section to add it to.
6.  **Quality**:
    -   Avoid generating repetitive or redundant content.
    -   If a section is incomplete in the user's prompt (like "Ato 3" of a script), create a single placeholder paragraph for it instead of repeating content to fill space. For example: { "type": "paragraph", "text": "[A ser detalhado]" }.
`,Mu=async(t,e,r,o,a)=>{var m;const c={temperature:.3,responseMimeType:"application/json",responseSchema:R5};if(r.maxOutputTokens&&(c.maxOutputTokens=r.maxOutputTokens),r.model==="gemini-2.5-flash")if(r.thinkingBudget===-1){if(r.maxOutputTokens){const x=Math.min(1e4,Math.round(r.maxOutputTokens*.25));c.thinkingConfig={thinkingBudget:x}}}else c.thinkingConfig={thinkingBudget:r.thinkingBudget};a("Enviando requisição para a IA...");let d="",h=0;const p=await gs.models.generateContentStream({model:r.model,contents:e,config:{systemInstruction:t,...c}});a("IA está processando e gerando as mudanças...");for await(const y of p)d+=y.text,h=((m=y.usageMetadata)==null?void 0:m.totalTokenCount)||h,o(h);a("Analisando e validando a resposta da IA...");try{const y=JSON.parse(d);if(!y.newDocuments||!y.updatedDocuments||!y.deletedDocumentIds||!y.summary||!y.thinkingProcess)throw new Error("A resposta da IA está incompleta ou malformada.");return{payload:y,rawJson:d}}catch(y){throw console.error("Erro ao analisar JSON da IA:",y),console.error("JSON Bruto Recebido:",d),new Error(`A resposta da IA não era um JSON válido. Erro: ${y.message}`)}},vh=t=>`You are an expert game designer and technical writer integrated into a GDD management tool.
Your goal is to intelligently update a set of documents based on a user's request.
You MUST respond with a single, valid JSON object that conforms to the provided schema.
${qw}
Your current task is to modify the ${t}. Analyze the user's request and the provided documents, and then generate the JSON object with the necessary changes.
`;async function M5(t,e,r,o,a,c){const d=vh(r),h=e.map(m=>({...m,content:Jn(m.content)})),p=`
    Here are the current documents for the ${r}:
    ---
    ${JSON.stringify(h,null,2)}
    ---

    Here is the new idea/content to integrate:
    ---
    ${t}
    ---

    Please analyze the idea and the existing documents, and generate the JSON object to integrate this new idea.
    `;return Mu(d,p,c,o,a)}async function D5(t,e,r,o,a,c){const d=`${vh("Roteiro")}

CRITICAL RULES FOR SCRIPT INTEGRATION:
1.  **READ-ONLY CONTEXT**: The GDD (Game Design Document) is provided for context ONLY. You MUST NOT modify, copy, or recreate any part of the GDD documents. Your task is exclusively to update the Script documents.
2.  **CATEGORY ENFORCEMENT**: All new or updated documents you generate in your response MUST have their 'category' field set to 'Roteiro'. Absolutely NO other categories are permitted.
3.  **NO DUPLICATION**: If the user's idea mentions a concept from the GDD (e.g., [[Mecânicas de Combate]]), you should simply keep the link \`[[Mecânicas de Combate]]\` in the script text. You MUST NOT copy the content of the 'Mecânicas de Combate' document into the script.
`,h=e.map(y=>({...y,content:Jn(y.content)})),p=r.map(y=>({...y,content:Jn(y.content)})),m=`
    Your task is to update the SCRIPT documents based on the user's idea. The GDD is provided as read-only context.

    --- GDD CONTEXT (READ-ONLY) ---
    ${JSON.stringify(p,null,2)}
    --- END GDD CONTEXT ---

    --- CURRENT SCRIPT DOCUMENTS (TARGET FOR MODIFICATION) ---
    ${JSON.stringify(h,null,2)}
    --- END SCRIPT DOCUMENTS ---

    Here is the new script idea/content to integrate:
    ---
    ${t}
    ---

    Please analyze the idea and the existing script, using the GDD for read-only context. Generate a JSON object that modifies ONLY the script documents. Do not create copies of GDD documents.
    `;return Mu(d,m,c,o,a)}async function I5(t,e,r,o,a,c,d){const h=`You are a lead game designer and strategist. You will be updating a set of SECRET documents which contain high-level plot twists, monetization strategies, and other sensitive information.
You will be provided with the GDD and Script for full context, but you MUST NOT modify them. Your changes (new, updated, deleted documents) must ONLY apply to the secret documents.
The goal is to integrate the user's secret idea into the secret documents, ensuring it aligns with or subtly subverts the public-facing GDD and script.
You MUST respond with a single, valid JSON object that conforms to the provided schema.
${qw}`,p=e.map(S=>({...S,content:Jn(S.content)})),m=r.map(S=>({...S,content:Jn(S.content)})),y=o.map(S=>({...S,content:Jn(S.content)})),x=`
    GDD Context (read-only):
    ---
    ${JSON.stringify(m,null,2)}
    ---

    Script Context (read-only):
    ---
    ${JSON.stringify(y,null,2)}
    ---
    
    Current Secret Documents (target for changes):
    ---
    ${JSON.stringify(p,null,2)}
    ---

    Here is the new strategic/secret idea to integrate:
    ---
    ${t}
    ---

    Analyze the idea and all provided context, then generate the JSON object to integrate it ONLY into the secret documents.
    `;return Mu(h,x,d,a,c)}async function k5(t,e,r,o,a,c){const d=vh(r),h=e.map(m=>({...m,content:Jn(m.content)})),p=`
    Here are the current documents for the ${r}:
    ---
    ${JSON.stringify(h,null,2)}
    ---

    Here is the high-level instruction for updating the documents:
    ---
    ${t}
    ---

    Please analyze the instruction and the existing documents, and generate the JSON object to apply the requested changes across the entire document set.
    `;return Mu(d,p,c,o,a)}async function L5(t,e,r,o){var d;o==null||o(0);let a=`You are an expert text editor. Refine the following text based on the user's instruction.
    Only return the refined text, with no extra formatting, commentary, or markdown.

    INSTRUCTION: "${e}"

    TEXT TO REFINE:
    ---
    ${t}
    ---
    `;if(r&&r.length>0){const h=r.map(p=>({...p,content:Jn(p.content)}));a+=`
        
For context, here are the relevant documents. You can use them to ensure consistency in style, tone, and terminology.
        CONTEXT DOCUMENTS:
        ---
        ${JSON.stringify(h,null,2)}
        ---
        `}const c=await gs.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{temperature:.5}});return o==null||o(((d=c.usageMetadata)==null?void 0:d.totalTokenCount)||0),c.text.trim()}function U5(t,e){const r=t.map(d=>({...d,content:Jn(d.content)})),o=e.map(d=>({...d,content:Jn(d.content)})),a=`You are a helpful assistant and expert game designer.
    You have been provided with the full Game Design Document (GDD) and the full Script for a video game.
    Your task is to answer questions about the documents accurately.
    When asked about a concept, refer to the document that contains it.
    If the information is not in the documents, state that clearly.

    --- GDD CONTEXT ---
    ${JSON.stringify(r,null,2)}
    --- END GDD CONTEXT ---

    --- SCRIPT CONTEXT ---
    ${JSON.stringify(o,null,2)}
    --- END SCRIPT CONTEXT ---
    `;return gs.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:a}})}async function B5(t,e,r,o){const a=r.map(x=>({...x,content:Jn(x.content)})),c=r.find(x=>x.title.toLowerCase().includes("guia de estilo visual"));let d=`You are an expert prompt engineer for an AI image generation model.
    Your task is to create a detailed, descriptive, and evocative prompt based on the provided game design documents and user request.
    The prompt should be in English.
    The prompt must capture the game's specific visual style.
    `;c&&(d+=`
Here is the Visual Style Guide for the game. Adhere to it strictly:
---
${JSON.stringify(c.content)}
---`);const h=t.content[e],p=h?h.text||h.caption||"a list or other non-text block":"(end of document)";let m=`
    All Game Documents for Context:
    ---
    ${JSON.stringify(a,null,2)}
    ---

    The user wants to generate an image to be inserted in the document "${t.title}" right before this content: "${p}".

    User's specific request: "${o||"Generate an image appropriate for this context."}"

    Based on all of this, generate a single, concise, and highly detailed image prompt. Do not add any commentary. Just return the prompt text.
    Example of a good prompt: "A hyper-detailed cinematic shot of Kael, the agile and mysterious protagonist, crouching on a rain-slicked neon-lit rooftop. Cyberpunk aesthetic fused with ancient mythology. High contrast, neo-noir lighting. Kael's exaggerated silhouette is outlined by a holographic glow from a nearby sign. He wears dark, practical gear with subtle ancient patterns. The city below is a dark, sprawling metropolis with towering skyscrapers and flying vehicles."
    `;return(await gs.models.generateContent({model:"gemini-2.5-flash",contents:m,config:{systemInstruction:d,temperature:.8}})).text.trim()}async function P5(t){const e=await gs.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:"16:9"}});if(!e.generatedImages||e.generatedImages.length===0)throw new Error("A IA não conseguiu gerar uma imagem.");const r=e.generatedImages[0];return{base64:r.image.imageBytes,mimeType:r.image.mimeType||"image/png"}}const O5={type:ct.OBJECT,properties:{id:{type:ct.STRING,description:"Unique ID for the node (e.g., 'ai-gameplay', 'ai-mecanicas-de-combate')."},parentId:{type:ct.STRING,description:"ID of the parent node. Top-level categories should have 'root' as parentId."},label:{type:ct.STRING,description:"The display text for the node."},branch:{type:ct.STRING,description:"For top-level nodes ONLY ('top', 'right', 'bottom', 'left'). Omit for sub-nodes."},docId:{type:ct.STRING,description:"The ID of the document this node links to. Omit for category nodes."}},required:["id","parentId","label"]};async function F5(t){const e=`You are an expert information architect and game designer.
Your task is to analyze a complete Game Design Document (GDD) and Script and organize them into a logical, hierarchical mind map structure.
The output MUST be a JSON array of 'MindMapNode' objects conforming to the provided schema.

Rules:
1.  **Root Node**: The mind map already has a root node with 'id: "root"'. All top-level categories you create must have 'parentId: "root"'. Do NOT generate the root node itself.
2.  **Hierarchy**: Start with broad, logical categories (e.g., 'Arte', 'Gameplay', 'História', 'Som', 'Lógica', 'Roteiro'). Create a node for each category.
3.  **Branching**: Assign a 'branch' property ('top', 'right', 'bottom', 'left') to each top-level category node. Distribute them logically and evenly around the root.
4.  **Document Nodes**: For each document provided, create a mind map node. Its 'parentId' must be the ID of the category node it belongs to.
5.  **ID Generation**: Generate unique, descriptive, URL-safe IDs for each new node. Use the format 'ai-slugified-label'. For example, a node with label "Mecânicas de Combate" should have id: 'ai-mecanicas-de-combate'. A category "Gameplay" should have id: 'ai-gameplay'.
6.  **Linking**: For document nodes, set the 'docId' property to the ID of the document it represents. Do not set 'docId' for category nodes.
7.  **Labels**: The 'label' for document nodes should be the document's 'title'. The 'label' for category nodes should be the category name.
8.  **Completeness**: Ensure every document provided in the context is represented as a node in the mind map under a suitable category.
9.  **Simplicity**: Do not create nodes for individual headings within documents. Focus only on the document-level hierarchy. Do not use the 'headingSlug' property.
`,r=t.map(c=>({...c,content:Jn(c.content)})),o=`
    Here are all the GDD and Script documents:
    ---
    ${JSON.stringify(r,null,2)}
    ---
    Please generate the mind map structure as a JSON array of MindMapNode objects.
    `,a=await gs.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{systemInstruction:e,temperature:.1,responseMimeType:"application/json",responseSchema:{type:ct.ARRAY,items:O5}}});try{const c=JSON.parse(a.text);if(!Array.isArray(c)||c.length>0&&(!c[0].id||!c[0].parentId||!c[0].label))throw new Error("A resposta da IA não é um array de MindMapNode válido.");return c}catch(c){throw console.error("Erro ao analisar JSON do mapa mental da IA:",c),console.error("JSON Bruto Recebido:",a.text),new Error(`A resposta da IA não era um JSON válido. Erro: ${c.message}`)}}function z5(t){const e=t.split(",");if(e.length<2)throw new Error("Invalid data URL format for blob conversion");const r=e[0].match(/:(.*?);/);if(!r)throw new Error("Could not parse MIME type from data URL");const o=r[1],a=atob(e[1]);let c=a.length;const d=new Uint8Array(c);for(;c--;)d[c]=a.charCodeAt(c);return new Blob([d],{type:o})}async function V0(t,e,r,o,a){const c=t.replace(/\/$/,""),d=JSON.parse(JSON.stringify(r)),h=o?JSON.parse(JSON.stringify(o)):null,p=[],m=[...d.gdd,...d.script,...h||[]];for(const y of m)if(!(!y.content||!Array.isArray(y.content))){for(const x of y.content)if(x.type==="image"&&x.src&&x.src.startsWith("data:image")){const S=(async()=>{try{const E=z5(x.src),D=new File([E],`image-${Date.now()}.${E.type.split("/")[1]||"png"}`,{type:E.type}),_=new FormData;_.append("file",D);const L=await fetch(`${c}/upload-imagem`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:_});if(!L.ok){const I=await L.text();throw new Error(`Falha no upload da imagem: ${L.status} - ${I}`)}const N=await L.json();if(!N.url)throw new Error("A resposta do upload de imagem não continha uma URL.");x.src=N.url}catch(E){throw console.error("Erro ao processar e fazer upload de uma imagem:",E),E}})();p.push(S)}}try{await Promise.all(p);const y=await fetch(`${c}/versions`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({type:a.type,name:a.name,versionData:d,secretData:h})});if(!y.ok){const x=await y.text();throw new Error(`Erro do servidor ao salvar a versão: ${y.status} - ${x}`)}return await y.json()}catch(y){throw console.error("Falha ao salvar versão na nuvem:",y),new Error(`Falha na comunicação com o servidor: ${y instanceof Error?y.message:"Erro desconhecido"}`)}}async function G5(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/versions`,{method:"GET",headers:{"X-Access-Key":e}});if(!o.ok){const c=await o.text();throw new Error(`Erro do servidor: ${o.status} - ${c}`)}const a=await o.json();if(!a||!Array.isArray(a.manual)||!Array.isArray(a.automatic))throw new Error("Dados de versões recebidos da nuvem estão em um formato inválido.");return a}catch(o){throw console.error("Falha ao buscar versões da nuvem:",o),new Error(`Falha na comunicação com o servidor: ${o instanceof Error?o.message:"Erro desconhecido"}`)}}async function q0(t,e,r){const o=t.replace(/\/$/,"");try{const a=await fetch(`${o}/versions/${r}`,{method:"GET",headers:{"X-Access-Key":e}});if(!a.ok){const d=await a.text();throw new Error(`Erro do servidor: ${a.status} - ${d}`)}const c=await a.json();if(!c||!Array.isArray(c.gdd)||!Array.isArray(c.script))throw new Error("Dados da versão recebidos da nuvem estão em um formato inválido.");return c}catch(a){throw console.error("Falha ao carregar versão da nuvem:",a),new Error(`Falha na comunicação com o servidor: ${a instanceof Error?a.message:"Erro desconhecido"}`)}}async function H0(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/versions/latest/meta`,{method:"GET",headers:{"X-Access-Key":e}});if(o.status===404)return null;if(!o.ok){const c=await o.text();throw new Error(`Erro do servidor: ${o.status} - ${c}`)}const a=await o.json();if(!a||!a.id||!a.timestamp)throw new Error("Metadados da versão mais recente recebidos em formato inválido.");return a}catch(o){throw console.error("Falha ao buscar metadados da versão mais recente:",o),new Error(`Falha na comunicação com o servidor: ${o instanceof Error?o.message:"Erro desconhecido"}`)}}async function V5(t,e){const r=t.replace(/\/$/,"");try{const o=await fetch(`${r}/verify-admin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})});return o.status===200?(await o.json()).valid===!0:!1}catch(o){throw console.error("Falha ao verificar a chave de administrador:",o),new Error("Não foi possível conectar ao servidor para verificar a chave. Verifique a URL do Worker e sua conexão.")}}async function K0(t,e,r,o){const a=t.replace(/\/$/,""),c=new FormData;if(r&&c.append("gdd_docx",r,"GDD.docx"),o&&c.append("script_docx",o,"Script.docx"),!r&&!o){console.log("Nenhum blob .docx para enviar.");return}try{const d=await fetch(`${a}/latest-docx`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:c});if(!d.ok){const h=await d.text();throw new Error(`Erro do servidor ao salvar .docx: ${d.status} - ${h}`)}console.log("Arquivos .docx salvos com sucesso na nuvem.")}catch(d){console.error("Falha ao salvar arquivos .docx na nuvem:",d)}}const q5="GDD_DATABASE",H5=2,Tu="gdd_documents",bu="script_documents",Su="secret_documents",Hw="all_docs";let Aa=null;function Kw(){return Aa||(Aa=new Promise((t,e)=>{const r=indexedDB.open(q5,H5);r.onerror=()=>{console.error("IndexedDB error:",r.error),e("Error opening IndexedDB."),Aa=null},r.onsuccess=()=>{t(r.result)},r.onupgradeneeded=o=>{const a=o.target.result;a.objectStoreNames.contains(Tu)||a.createObjectStore(Tu),a.objectStoreNames.contains(bu)||a.createObjectStore(bu),a.objectStoreNames.contains(Su)||a.createObjectStore(Su)}}),Aa)}async function wh(t){const e=await Kw();return new Promise((r,o)=>{const d=e.transaction(t,"readonly").objectStore(t).get(Hw);d.onerror=()=>o(`Error getting docs from ${t}`),d.onsuccess=()=>r(d.result||null)})}async function xh(t,e){const r=await Kw();return new Promise((o,a)=>{const h=r.transaction(t,"readwrite").objectStore(t).put(e,Hw);h.onerror=()=>a(`Error saving docs to ${t}`),h.onsuccess=()=>o()})}const K5=()=>wh(Tu),Y5=t=>xh(Tu,t),$5=()=>wh(bu),J5=t=>xh(bu,t),W5=()=>wh(Su),j5=t=>xh(Su,t),Y0="nil",X5=()=>{const[t,e]=xe.useState(null),[r,o]=xe.useState(null);return xe.useEffect(()=>{if(window.opener&&window.location.hash.includes("access_token")){try{const d=new URLSearchParams(window.location.hash.substring(1)).get("access_token");d&&window.opener.handleGoogleAuthCallback&&window.opener.handleGoogleAuthCallback(d)}catch(c){console.error("Erro ao processar o callback de autenticação do Google:",c)}finally{window.close()}return}return window.handleGoogleAuthCallback=c=>{c&&e(c)},()=>{delete window.handleGoogleAuthCallback}},[]),{googleAccessToken:t,authError:r,handleGoogleAuthClick:()=>{if(o(null),Y0.startsWith("SEU_ID_DE_CLIENTE_AQUI")){o("Por favor, configure o ID de Cliente do Google para usar a integração com o Google Drive.");return}let c;try{const S=window.top.location;c=`${S.protocol}//${S.host}${S.pathname}`}catch(S){console.warn("Não foi possível acessar window.top.location para determinar a URI de redirecionamento, recorrendo a window.location.",S);const E=window.location;c=`${E.protocol}//${E.host}${E.pathname}`}const h=`https://accounts.google.com/o/oauth2/v2/auth?scope=${encodeURIComponent("https://www.googleapis.com/auth/drive.file")}&include_granted_scopes=true&response_type=token&redirect_uri=${encodeURIComponent(c)}&client_id=${Y0}`,p=600,m=700,y=(window.innerWidth-p)/2,x=(window.innerHeight-m)/2;window.open(h,"googleAuth",`width=${p},height=${m},left=${y},top=${x},resizable=yes,scrollbars=yes,status=yes`)}}};var Z5=Object.defineProperty,Q5=Object.defineProperties,eI=Object.getOwnPropertyDescriptors,$0=Object.getOwnPropertySymbols,tI=Object.prototype.hasOwnProperty,nI=Object.prototype.propertyIsEnumerable,rh=(t,e,r)=>e in t?Z5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dt=(t,e)=>{for(var r in e||(e={}))tI.call(e,r)&&rh(t,r,e[r]);if($0)for(var r of $0(e))nI.call(e,r)&&rh(t,r,e[r]);return t},ss=(t,e)=>Q5(t,eI(e)),Ae=(t,e,r)=>(rh(t,typeof e!="symbol"?e+"":e,r),r),nu=(t,e,r)=>new Promise((o,a)=>{var c=p=>{try{h(r.next(p))}catch(m){a(m)}},d=p=>{try{h(r.throw(p))}catch(m){a(m)}},h=p=>p.done?o(p.value):Promise.resolve(p.value).then(c,d);h((r=r.apply(t,e)).next())});class Eu{constructor(e){Ae(this,"rootKey"),this.rootKey=e}}const rI=Object.seal({});class Ne extends Eu{constructor(e){super(e),Ae(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const o=this.root.map(a=>a instanceof Eu?a.prepForXml(e):a).filter(a=>a!==void 0);return e.stack.pop(),{[this.rootKey]:o.length?o.length===1&&((r=o[0])!=null&&r._attr)?o[0]:o:rI}}addChildElement(e){return this.root.push(e),this}}class Du extends Ne{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Ke extends Eu{constructor(e){super("_attr"),Ae(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.keys(this.root).forEach(o=>{const a=this.root[o];if(a!==void 0){const c=this.xmlKeys&&this.xmlKeys[o]||o;r[c]=a}}),{_attr:r}}}class ys extends Eu{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:o})=>o!==void 0).reduce((o,{key:a,value:c})=>ss(dt({},o),{[a]:c}),{})}}}class Kt extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $w={},Th={exports:{}},ts=typeof Reflect=="object"?Reflect:null,J0=ts&&typeof ts.apply=="function"?ts.apply:function(e,r,o){return Function.prototype.apply.call(e,r,o)},gu;ts&&typeof ts.ownKeys=="function"?gu=ts.ownKeys:Object.getOwnPropertySymbols?gu=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:gu=function(e){return Object.getOwnPropertyNames(e)};function iI(t){console&&console.warn&&console.warn(t)}var Jw=Number.isNaN||function(e){return e!==e};function St(){St.init.call(this)}Th.exports=St;Th.exports.once=lI;St.EventEmitter=St;St.prototype._events=void 0;St.prototype._eventsCount=0;St.prototype._maxListeners=void 0;var W0=10;function Iu(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(St,"defaultMaxListeners",{enumerable:!0,get:function(){return W0},set:function(t){if(typeof t!="number"||t<0||Jw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");W0=t}});St.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};St.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Jw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ww(t){return t._maxListeners===void 0?St.defaultMaxListeners:t._maxListeners}St.prototype.getMaxListeners=function(){return Ww(this)};St.prototype.emit=function(e){for(var r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);var a=e==="error",c=this._events;if(c!==void 0)a=a&&c.error===void 0;else if(!a)return!1;if(a){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var p=c[e];if(p===void 0)return!1;if(typeof p=="function")J0(p,this,r);else for(var m=p.length,y=ex(p,m),o=0;o<m;++o)J0(y[o],this,r);return!0};function jw(t,e,r,o){var a,c,d;if(Iu(r),c=t._events,c===void 0?(c=t._events=Object.create(null),t._eventsCount=0):(c.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),c=t._events),d=c[e]),d===void 0)d=c[e]=r,++t._eventsCount;else if(typeof d=="function"?d=c[e]=o?[r,d]:[d,r]:o?d.unshift(r):d.push(r),a=Ww(t),a>0&&d.length>a&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=d.length,iI(h)}return t}St.prototype.addListener=function(e,r){return jw(this,e,r,!1)};St.prototype.on=St.prototype.addListener;St.prototype.prependListener=function(e,r){return jw(this,e,r,!0)};function oI(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Xw(t,e,r){var o={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=oI.bind(o);return a.listener=r,o.wrapFn=a,a}St.prototype.once=function(e,r){return Iu(r),this.on(e,Xw(this,e,r)),this};St.prototype.prependOnceListener=function(e,r){return Iu(r),this.prependListener(e,Xw(this,e,r)),this};St.prototype.removeListener=function(e,r){var o,a,c,d,h;if(Iu(r),a=this._events,a===void 0)return this;if(o=a[e],o===void 0)return this;if(o===r||o.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,o.listener||r));else if(typeof o!="function"){for(c=-1,d=o.length-1;d>=0;d--)if(o[d]===r||o[d].listener===r){h=o[d].listener,c=d;break}if(c<0)return this;c===0?o.shift():sI(o,c),o.length===1&&(a[e]=o[0]),a.removeListener!==void 0&&this.emit("removeListener",e,h||r)}return this};St.prototype.off=St.prototype.removeListener;St.prototype.removeAllListeners=function(e){var r,o,a;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[e]),this;if(arguments.length===0){var c=Object.keys(o),d;for(a=0;a<c.length;++a)d=c[a],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=o[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function Zw(t,e,r){var o=t._events;if(o===void 0)return[];var a=o[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?aI(a):ex(a,a.length)}St.prototype.listeners=function(e){return Zw(this,e,!0)};St.prototype.rawListeners=function(e){return Zw(this,e,!1)};St.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Qw.call(t,e)};St.prototype.listenerCount=Qw;function Qw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}St.prototype.eventNames=function(){return this._eventsCount>0?gu(this._events):[]};function ex(t,e){for(var r=new Array(e),o=0;o<e;++o)r[o]=t[o];return r}function sI(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function aI(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function lI(t,e){return new Promise(function(r,o){function a(d){t.removeListener(e,c),o(d)}function c(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}tx(t,e,c,{once:!0}),e!=="error"&&uI(t,a,{once:!0})})}function uI(t,e,r){typeof t.on=="function"&&tx(t,"error",e,r)}function tx(t,e,r,o){if(typeof t.on=="function")o.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(c){o.once&&t.removeEventListener(e,a),r(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var bh=Th.exports,ih={exports:{}};typeof Object.create=="function"?ih.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ih.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}};var to=ih.exports;function cI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nx={exports:{}},Yt=nx.exports={},yr,vr;function oh(){throw new Error("setTimeout has not been defined")}function sh(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?yr=setTimeout:yr=oh}catch{yr=oh}try{typeof clearTimeout=="function"?vr=clearTimeout:vr=sh}catch{vr=sh}})();function rx(t){if(yr===setTimeout)return setTimeout(t,0);if((yr===oh||!yr)&&setTimeout)return yr=setTimeout,setTimeout(t,0);try{return yr(t,0)}catch{try{return yr.call(null,t,0)}catch{return yr.call(this,t,0)}}}function fI(t){if(vr===clearTimeout)return clearTimeout(t);if((vr===sh||!vr)&&clearTimeout)return vr=clearTimeout,clearTimeout(t);try{return vr(t)}catch{try{return vr.call(null,t)}catch{return vr.call(this,t)}}}var Vr=[],ns=!1,ji,yu=-1;function dI(){!ns||!ji||(ns=!1,ji.length?Vr=ji.concat(Vr):yu=-1,Vr.length&&ix())}function ix(){if(!ns){var t=rx(dI);ns=!0;for(var e=Vr.length;e;){for(ji=Vr,Vr=[];++yu<e;)ji&&ji[yu].run();yu=-1,e=Vr.length}ji=null,ns=!1,fI(t)}}Yt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Vr.push(new ox(t,e)),Vr.length===1&&!ns&&rx(ix)};function ox(t,e){this.fun=t,this.array=e}ox.prototype.run=function(){this.fun.apply(null,this.array)};Yt.title="browser";Yt.browser=!0;Yt.env={};Yt.argv=[];Yt.version="";Yt.versions={};function Hr(){}Yt.on=Hr;Yt.addListener=Hr;Yt.once=Hr;Yt.off=Hr;Yt.removeListener=Hr;Yt.removeAllListeners=Hr;Yt.emit=Hr;Yt.prependListener=Hr;Yt.prependOnceListener=Hr;Yt.listeners=function(t){return[]};Yt.binding=function(t){throw new Error("process.binding is not supported")};Yt.cwd=function(){return"/"};Yt.chdir=function(t){throw new Error("process.chdir is not supported")};Yt.umask=function(){return 0};var hI=nx.exports;const ot=cI(hI);var Xf,j0;function sx(){return j0||(j0=1,Xf=bh.EventEmitter),Xf}var Zf={},Na={},X0;function pI(){if(X0)return Na;X0=1,Na.byteLength=h,Na.toByteArray=m,Na.fromByteArray=S;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)t[a]=o[a],e[o.charCodeAt(a)]=a;e[45]=62,e[95]=63;function d(E){var D=E.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=E.indexOf("=");_===-1&&(_=D);var L=_===D?0:4-_%4;return[_,L]}function h(E){var D=d(E),_=D[0],L=D[1];return(_+L)*3/4-L}function p(E,D,_){return(D+_)*3/4-_}function m(E){var D,_=d(E),L=_[0],N=_[1],I=new r(p(E,L,N)),O=0,H=N>0?L-4:L,q;for(q=0;q<H;q+=4)D=e[E.charCodeAt(q)]<<18|e[E.charCodeAt(q+1)]<<12|e[E.charCodeAt(q+2)]<<6|e[E.charCodeAt(q+3)],I[O++]=D>>16&255,I[O++]=D>>8&255,I[O++]=D&255;return N===2&&(D=e[E.charCodeAt(q)]<<2|e[E.charCodeAt(q+1)]>>4,I[O++]=D&255),N===1&&(D=e[E.charCodeAt(q)]<<10|e[E.charCodeAt(q+1)]<<4|e[E.charCodeAt(q+2)]>>2,I[O++]=D>>8&255,I[O++]=D&255),I}function y(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function x(E,D,_){for(var L,N=[],I=D;I<_;I+=3)L=(E[I]<<16&16711680)+(E[I+1]<<8&65280)+(E[I+2]&255),N.push(y(L));return N.join("")}function S(E){for(var D,_=E.length,L=_%3,N=[],I=16383,O=0,H=_-L;O<H;O+=I)N.push(x(E,O,O+I>H?H:O+I));return L===1?(D=E[_-1],N.push(t[D>>2]+t[D<<4&63]+"==")):L===2&&(D=(E[_-2]<<8)+E[_-1],N.push(t[D>>10]+t[D>>4&63]+t[D<<2&63]+"=")),N.join("")}return Na}var ru={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Z0;function mI(){return Z0||(Z0=1,ru.read=function(t,e,r,o,a){var c,d,h=a*8-o-1,p=(1<<h)-1,m=p>>1,y=-7,x=r?a-1:0,S=r?-1:1,E=t[e+x];for(x+=S,c=E&(1<<-y)-1,E>>=-y,y+=h;y>0;c=c*256+t[e+x],x+=S,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=o;y>0;d=d*256+t[e+x],x+=S,y-=8);if(c===0)c=1-m;else{if(c===p)return d?NaN:(E?-1:1)*(1/0);d=d+Math.pow(2,o),c=c-m}return(E?-1:1)*d*Math.pow(2,c-o)},ru.write=function(t,e,r,o,a,c){var d,h,p,m=c*8-a-1,y=(1<<m)-1,x=y>>1,S=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=o?0:c-1,D=o?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,d=y):(d=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-d))<1&&(d--,p*=2),d+x>=1?e+=S/p:e+=S*Math.pow(2,1-x),e*p>=2&&(d++,p/=2),d+x>=y?(h=0,d=y):d+x>=1?(h=(e*p-1)*Math.pow(2,a),d=d+x):(h=e*Math.pow(2,x-1)*Math.pow(2,a),d=0));a>=8;t[r+E]=h&255,E+=D,h/=256,a-=8);for(d=d<<a|h,m+=a;m>0;t[r+E]=d&255,E+=D,d/=256,m-=8);t[r+E-D]|=_*128}),ru}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Q0;function ku(){return Q0||(Q0=1,(function(t){var e=pI(),r=mI(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var M=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(M,w),M.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(M){if(M>a)throw new RangeError('The value "'+M+'" is invalid for option "size"');var w=new Uint8Array(M);return Object.setPrototypeOf(w,h.prototype),w}function h(M,w,v){if(typeof M=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(M)}return p(M,w,v)}h.poolSize=8192;function p(M,w,v){if(typeof M=="string")return S(M,w);if(ArrayBuffer.isView(M))return D(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(ue(M,ArrayBuffer)||M&&ue(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ue(M,SharedArrayBuffer)||M&&ue(M.buffer,SharedArrayBuffer)))return _(M,w,v);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var C=M.valueOf&&M.valueOf();if(C!=null&&C!==M)return h.from(C,w,v);var $=L(M);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return h.from(M[Symbol.toPrimitive]("string"),w,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}h.from=function(M,w,v){return p(M,w,v)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function y(M,w,v){return m(M),M<=0?d(M):w!==void 0?typeof v=="string"?d(M).fill(w,v):d(M).fill(w):d(M)}h.alloc=function(M,w,v){return y(M,w,v)};function x(M){return m(M),d(M<0?0:N(M)|0)}h.allocUnsafe=function(M){return x(M)},h.allocUnsafeSlow=function(M){return x(M)};function S(M,w){if((typeof w!="string"||w==="")&&(w="utf8"),!h.isEncoding(w))throw new TypeError("Unknown encoding: "+w);var v=O(M,w)|0,C=d(v),$=C.write(M,w);return $!==v&&(C=C.slice(0,$)),C}function E(M){for(var w=M.length<0?0:N(M.length)|0,v=d(w),C=0;C<w;C+=1)v[C]=M[C]&255;return v}function D(M){if(ue(M,Uint8Array)){var w=new Uint8Array(M);return _(w.buffer,w.byteOffset,w.byteLength)}return E(M)}function _(M,w,v){if(w<0||M.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<w+(v||0))throw new RangeError('"length" is outside of buffer bounds');var C;return w===void 0&&v===void 0?C=new Uint8Array(M):v===void 0?C=new Uint8Array(M,w):C=new Uint8Array(M,w,v),Object.setPrototypeOf(C,h.prototype),C}function L(M){if(h.isBuffer(M)){var w=N(M.length)|0,v=d(w);return v.length===0||M.copy(v,0,0,w),v}if(M.length!==void 0)return typeof M.length!="number"||R(M.length)?d(0):E(M);if(M.type==="Buffer"&&Array.isArray(M.data))return E(M.data)}function N(M){if(M>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return M|0}function I(M){return+M!=M&&(M=0),h.alloc(+M)}h.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==h.prototype},h.compare=function(w,v){if(ue(w,Uint8Array)&&(w=h.from(w,w.offset,w.byteLength)),ue(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),!h.isBuffer(w)||!h.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===v)return 0;for(var C=w.length,$=v.length,Z=0,J=Math.min(C,$);Z<J;++Z)if(w[Z]!==v[Z]){C=w[Z],$=v[Z];break}return C<$?-1:$<C?1:0},h.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(w,v){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return h.alloc(0);var C;if(v===void 0)for(v=0,C=0;C<w.length;++C)v+=w[C].length;var $=h.allocUnsafe(v),Z=0;for(C=0;C<w.length;++C){var J=w[C];if(ue(J,Uint8Array))Z+J.length>$.length?h.from(J).copy($,Z):Uint8Array.prototype.set.call($,J,Z);else if(h.isBuffer(J))J.copy($,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=J.length}return $};function O(M,w){if(h.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||ue(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);var v=M.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&v===0)return 0;for(var $=!1;;)switch(w){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return A(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return z(M).length;default:if($)return C?-1:A(M).length;w=(""+w).toLowerCase(),$=!0}}h.byteLength=O;function H(M,w,v){var C=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,w>>>=0,v<=w))return"";for(M||(M="utf8");;)switch(M){case"hex":return ye(this,w,v);case"utf8":case"utf-8":return B(this,w,v);case"ascii":return ne(this,w,v);case"latin1":case"binary":return Me(this,w,v);case"base64":return fe(this,w,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,w,v);default:if(C)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),C=!0}}h.prototype._isBuffer=!0;function q(M,w,v){var C=M[w];M[w]=M[v],M[v]=C}h.prototype.swap16=function(){var w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<w;v+=2)q(this,v,v+1);return this},h.prototype.swap32=function(){var w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<w;v+=4)q(this,v,v+3),q(this,v+1,v+2);return this},h.prototype.swap64=function(){var w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<w;v+=8)q(this,v,v+7),q(this,v+1,v+6),q(this,v+2,v+5),q(this,v+3,v+4);return this},h.prototype.toString=function(){var w=this.length;return w===0?"":arguments.length===0?B(this,0,w):H.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(w){if(!h.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:h.compare(this,w)===0},h.prototype.inspect=function(){var w="",v=t.INSPECT_MAX_BYTES;return w=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(w+=" ... "),"<Buffer "+w+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(w,v,C,$,Z){if(ue(w,Uint8Array)&&(w=h.from(w,w.offset,w.byteLength)),!h.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(v===void 0&&(v=0),C===void 0&&(C=w?w.length:0),$===void 0&&($=0),Z===void 0&&(Z=this.length),v<0||C>w.length||$<0||Z>this.length)throw new RangeError("out of range index");if($>=Z&&v>=C)return 0;if($>=Z)return-1;if(v>=C)return 1;if(v>>>=0,C>>>=0,$>>>=0,Z>>>=0,this===w)return 0;for(var J=Z-$,we=C-v,Ie=Math.min(J,we),be=this.slice($,Z),Oe=w.slice(v,C),Ge=0;Ge<Ie;++Ge)if(be[Ge]!==Oe[Ge]){J=be[Ge],we=Oe[Ge];break}return J<we?-1:we<J?1:0};function ce(M,w,v,C,$){if(M.length===0)return-1;if(typeof v=="string"?(C=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,R(v)&&(v=$?0:M.length-1),v<0&&(v=M.length+v),v>=M.length){if($)return-1;v=M.length-1}else if(v<0)if($)v=0;else return-1;if(typeof w=="string"&&(w=h.from(w,C)),h.isBuffer(w))return w.length===0?-1:oe(M,w,v,C,$);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(M,w,v):Uint8Array.prototype.lastIndexOf.call(M,w,v):oe(M,[w],v,C,$);throw new TypeError("val must be string, number or Buffer")}function oe(M,w,v,C,$){var Z=1,J=M.length,we=w.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(M.length<2||w.length<2)return-1;Z=2,J/=2,we/=2,v/=2}function Ie(tt,gt){return Z===1?tt[gt]:tt.readUInt16BE(gt*Z)}var be;if($){var Oe=-1;for(be=v;be<J;be++)if(Ie(M,be)===Ie(w,Oe===-1?0:be-Oe)){if(Oe===-1&&(Oe=be),be-Oe+1===we)return Oe*Z}else Oe!==-1&&(be-=be-Oe),Oe=-1}else for(v+we>J&&(v=J-we),be=v;be>=0;be--){for(var Ge=!0,He=0;He<we;He++)if(Ie(M,be+He)!==Ie(w,He)){Ge=!1;break}if(Ge)return be}return-1}h.prototype.includes=function(w,v,C){return this.indexOf(w,v,C)!==-1},h.prototype.indexOf=function(w,v,C){return ce(this,w,v,C,!0)},h.prototype.lastIndexOf=function(w,v,C){return ce(this,w,v,C,!1)};function me(M,w,v,C){v=Number(v)||0;var $=M.length-v;C?(C=Number(C),C>$&&(C=$)):C=$;var Z=w.length;C>Z/2&&(C=Z/2);for(var J=0;J<C;++J){var we=parseInt(w.substr(J*2,2),16);if(R(we))return J;M[v+J]=we}return J}function U(M,w,v,C){return K(A(w,M.length-v),M,v,C)}function ae(M,w,v,C){return K(ee(w),M,v,C)}function de(M,w,v,C){return K(z(w),M,v,C)}function Y(M,w,v,C){return K(V(w,M.length-v),M,v,C)}h.prototype.write=function(w,v,C,$){if(v===void 0)$="utf8",C=this.length,v=0;else if(C===void 0&&typeof v=="string")$=v,C=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(C)?(C=C>>>0,$===void 0&&($="utf8")):($=C,C=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Z=this.length-v;if((C===void 0||C>Z)&&(C=Z),w.length>0&&(C<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var J=!1;;)switch($){case"hex":return me(this,w,v,C);case"utf8":case"utf-8":return U(this,w,v,C);case"ascii":case"latin1":case"binary":return ae(this,w,v,C);case"base64":return de(this,w,v,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,w,v,C);default:if(J)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),J=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fe(M,w,v){return w===0&&v===M.length?e.fromByteArray(M):e.fromByteArray(M.slice(w,v))}function B(M,w,v){v=Math.min(M.length,v);for(var C=[],$=w;$<v;){var Z=M[$],J=null,we=Z>239?4:Z>223?3:Z>191?2:1;if($+we<=v){var Ie,be,Oe,Ge;switch(we){case 1:Z<128&&(J=Z);break;case 2:Ie=M[$+1],(Ie&192)===128&&(Ge=(Z&31)<<6|Ie&63,Ge>127&&(J=Ge));break;case 3:Ie=M[$+1],be=M[$+2],(Ie&192)===128&&(be&192)===128&&(Ge=(Z&15)<<12|(Ie&63)<<6|be&63,Ge>2047&&(Ge<55296||Ge>57343)&&(J=Ge));break;case 4:Ie=M[$+1],be=M[$+2],Oe=M[$+3],(Ie&192)===128&&(be&192)===128&&(Oe&192)===128&&(Ge=(Z&15)<<18|(Ie&63)<<12|(be&63)<<6|Oe&63,Ge>65535&&Ge<1114112&&(J=Ge))}}J===null?(J=65533,we=1):J>65535&&(J-=65536,C.push(J>>>10&1023|55296),J=56320|J&1023),C.push(J),$+=we}return se(C)}var le=4096;function se(M){var w=M.length;if(w<=le)return String.fromCharCode.apply(String,M);for(var v="",C=0;C<w;)v+=String.fromCharCode.apply(String,M.slice(C,C+=le));return v}function ne(M,w,v){var C="";v=Math.min(M.length,v);for(var $=w;$<v;++$)C+=String.fromCharCode(M[$]&127);return C}function Me(M,w,v){var C="";v=Math.min(M.length,v);for(var $=w;$<v;++$)C+=String.fromCharCode(M[$]);return C}function ye(M,w,v){var C=M.length;(!w||w<0)&&(w=0),(!v||v<0||v>C)&&(v=C);for(var $="",Z=w;Z<v;++Z)$+=X[M[Z]];return $}function j(M,w,v){for(var C=M.slice(w,v),$="",Z=0;Z<C.length-1;Z+=2)$+=String.fromCharCode(C[Z]+C[Z+1]*256);return $}h.prototype.slice=function(w,v){var C=this.length;w=~~w,v=v===void 0?C:~~v,w<0?(w+=C,w<0&&(w=0)):w>C&&(w=C),v<0?(v+=C,v<0&&(v=0)):v>C&&(v=C),v<w&&(v=w);var $=this.subarray(w,v);return Object.setPrototypeOf($,h.prototype),$};function W(M,w,v){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+w>v)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(w,v,C){w=w>>>0,v=v>>>0,C||W(w,v,this.length);for(var $=this[w],Z=1,J=0;++J<v&&(Z*=256);)$+=this[w+J]*Z;return $},h.prototype.readUintBE=h.prototype.readUIntBE=function(w,v,C){w=w>>>0,v=v>>>0,C||W(w,v,this.length);for(var $=this[w+--v],Z=1;v>0&&(Z*=256);)$+=this[w+--v]*Z;return $},h.prototype.readUint8=h.prototype.readUInt8=function(w,v){return w=w>>>0,v||W(w,1,this.length),this[w]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(w,v){return w=w>>>0,v||W(w,2,this.length),this[w]|this[w+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(w,v){return w=w>>>0,v||W(w,2,this.length),this[w]<<8|this[w+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(w,v){return w=w>>>0,v||W(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(w,v){return w=w>>>0,v||W(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},h.prototype.readIntLE=function(w,v,C){w=w>>>0,v=v>>>0,C||W(w,v,this.length);for(var $=this[w],Z=1,J=0;++J<v&&(Z*=256);)$+=this[w+J]*Z;return Z*=128,$>=Z&&($-=Math.pow(2,8*v)),$},h.prototype.readIntBE=function(w,v,C){w=w>>>0,v=v>>>0,C||W(w,v,this.length);for(var $=v,Z=1,J=this[w+--$];$>0&&(Z*=256);)J+=this[w+--$]*Z;return Z*=128,J>=Z&&(J-=Math.pow(2,8*v)),J},h.prototype.readInt8=function(w,v){return w=w>>>0,v||W(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},h.prototype.readInt16LE=function(w,v){w=w>>>0,v||W(w,2,this.length);var C=this[w]|this[w+1]<<8;return C&32768?C|4294901760:C},h.prototype.readInt16BE=function(w,v){w=w>>>0,v||W(w,2,this.length);var C=this[w+1]|this[w]<<8;return C&32768?C|4294901760:C},h.prototype.readInt32LE=function(w,v){return w=w>>>0,v||W(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},h.prototype.readInt32BE=function(w,v){return w=w>>>0,v||W(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},h.prototype.readFloatLE=function(w,v){return w=w>>>0,v||W(w,4,this.length),r.read(this,w,!0,23,4)},h.prototype.readFloatBE=function(w,v){return w=w>>>0,v||W(w,4,this.length),r.read(this,w,!1,23,4)},h.prototype.readDoubleLE=function(w,v){return w=w>>>0,v||W(w,8,this.length),r.read(this,w,!0,52,8)},h.prototype.readDoubleBE=function(w,v){return w=w>>>0,v||W(w,8,this.length),r.read(this,w,!1,52,8)};function F(M,w,v,C,$,Z){if(!h.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>$||w<Z)throw new RangeError('"value" argument is out of bounds');if(v+C>M.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(w,v,C,$){if(w=+w,v=v>>>0,C=C>>>0,!$){var Z=Math.pow(2,8*C)-1;F(this,w,v,C,Z,0)}var J=1,we=0;for(this[v]=w&255;++we<C&&(J*=256);)this[v+we]=w/J&255;return v+C},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(w,v,C,$){if(w=+w,v=v>>>0,C=C>>>0,!$){var Z=Math.pow(2,8*C)-1;F(this,w,v,C,Z,0)}var J=C-1,we=1;for(this[v+J]=w&255;--J>=0&&(we*=256);)this[v+J]=w/we&255;return v+C},h.prototype.writeUint8=h.prototype.writeUInt8=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,1,255,0),this[v]=w&255,v+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,2,65535,0),this[v]=w&255,this[v+1]=w>>>8,v+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,2,65535,0),this[v]=w>>>8,this[v+1]=w&255,v+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,4,4294967295,0),this[v+3]=w>>>24,this[v+2]=w>>>16,this[v+1]=w>>>8,this[v]=w&255,v+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,4,4294967295,0),this[v]=w>>>24,this[v+1]=w>>>16,this[v+2]=w>>>8,this[v+3]=w&255,v+4},h.prototype.writeIntLE=function(w,v,C,$){if(w=+w,v=v>>>0,!$){var Z=Math.pow(2,8*C-1);F(this,w,v,C,Z-1,-Z)}var J=0,we=1,Ie=0;for(this[v]=w&255;++J<C&&(we*=256);)w<0&&Ie===0&&this[v+J-1]!==0&&(Ie=1),this[v+J]=(w/we>>0)-Ie&255;return v+C},h.prototype.writeIntBE=function(w,v,C,$){if(w=+w,v=v>>>0,!$){var Z=Math.pow(2,8*C-1);F(this,w,v,C,Z-1,-Z)}var J=C-1,we=1,Ie=0;for(this[v+J]=w&255;--J>=0&&(we*=256);)w<0&&Ie===0&&this[v+J+1]!==0&&(Ie=1),this[v+J]=(w/we>>0)-Ie&255;return v+C},h.prototype.writeInt8=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,1,127,-128),w<0&&(w=255+w+1),this[v]=w&255,v+1},h.prototype.writeInt16LE=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,2,32767,-32768),this[v]=w&255,this[v+1]=w>>>8,v+2},h.prototype.writeInt16BE=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,2,32767,-32768),this[v]=w>>>8,this[v+1]=w&255,v+2},h.prototype.writeInt32LE=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,4,2147483647,-2147483648),this[v]=w&255,this[v+1]=w>>>8,this[v+2]=w>>>16,this[v+3]=w>>>24,v+4},h.prototype.writeInt32BE=function(w,v,C){return w=+w,v=v>>>0,C||F(this,w,v,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[v]=w>>>24,this[v+1]=w>>>16,this[v+2]=w>>>8,this[v+3]=w&255,v+4};function Q(M,w,v,C,$,Z){if(v+C>M.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function re(M,w,v,C,$){return w=+w,v=v>>>0,$||Q(M,w,v,4),r.write(M,w,v,C,23,4),v+4}h.prototype.writeFloatLE=function(w,v,C){return re(this,w,v,!0,C)},h.prototype.writeFloatBE=function(w,v,C){return re(this,w,v,!1,C)};function pe(M,w,v,C,$){return w=+w,v=v>>>0,$||Q(M,w,v,8),r.write(M,w,v,C,52,8),v+8}h.prototype.writeDoubleLE=function(w,v,C){return pe(this,w,v,!0,C)},h.prototype.writeDoubleBE=function(w,v,C){return pe(this,w,v,!1,C)},h.prototype.copy=function(w,v,C,$){if(!h.isBuffer(w))throw new TypeError("argument should be a Buffer");if(C||(C=0),!$&&$!==0&&($=this.length),v>=w.length&&(v=w.length),v||(v=0),$>0&&$<C&&($=C),$===C||w.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),w.length-v<$-C&&($=w.length-v+C);var Z=$-C;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,C,$):Uint8Array.prototype.set.call(w,this.subarray(C,$),v),Z},h.prototype.fill=function(w,v,C,$){if(typeof w=="string"){if(typeof v=="string"?($=v,v=0,C=this.length):typeof C=="string"&&($=C,C=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!h.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(w.length===1){var Z=w.charCodeAt(0);($==="utf8"&&Z<128||$==="latin1")&&(w=Z)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(v<0||this.length<v||this.length<C)throw new RangeError("Out of range index");if(C<=v)return this;v=v>>>0,C=C===void 0?this.length:C>>>0,w||(w=0);var J;if(typeof w=="number")for(J=v;J<C;++J)this[J]=w;else{var we=h.isBuffer(w)?w:h.from(w,$),Ie=we.length;if(Ie===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(J=0;J<C-v;++J)this[J+v]=we[J%Ie]}return this};var te=/[^+/0-9A-Za-z-_]/g;function k(M){if(M=M.split("=")[0],M=M.trim().replace(te,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function A(M,w){w=w||1/0;for(var v,C=M.length,$=null,Z=[],J=0;J<C;++J){if(v=M.charCodeAt(J),v>55295&&v<57344){if(!$){if(v>56319){(w-=3)>-1&&Z.push(239,191,189);continue}else if(J+1===C){(w-=3)>-1&&Z.push(239,191,189);continue}$=v;continue}if(v<56320){(w-=3)>-1&&Z.push(239,191,189),$=v;continue}v=($-55296<<10|v-56320)+65536}else $&&(w-=3)>-1&&Z.push(239,191,189);if($=null,v<128){if((w-=1)<0)break;Z.push(v)}else if(v<2048){if((w-=2)<0)break;Z.push(v>>6|192,v&63|128)}else if(v<65536){if((w-=3)<0)break;Z.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((w-=4)<0)break;Z.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return Z}function ee(M){for(var w=[],v=0;v<M.length;++v)w.push(M.charCodeAt(v)&255);return w}function V(M,w){for(var v,C,$,Z=[],J=0;J<M.length&&!((w-=2)<0);++J)v=M.charCodeAt(J),C=v>>8,$=v%256,Z.push($),Z.push(C);return Z}function z(M){return e.toByteArray(k(M))}function K(M,w,v,C){for(var $=0;$<C&&!($+v>=w.length||$>=M.length);++$)w[$+v]=M[$];return $}function ue(M,w){return M instanceof w||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===w.name}function R(M){return M!==M}var X=(function(){for(var M="0123456789abcdef",w=new Array(256),v=0;v<16;++v)for(var C=v*16,$=0;$<16;++$)w[C+$]=M[v]+M[$];return w})()})(Zf)),Zf}var Qf={},ed={},td,ev;function ax(){return ev||(ev=1,td=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,r);if(d.value!==a||d.enumerable!==!0)return!1}return!0}),td}var nd,tv;function Sh(){if(tv)return nd;tv=1;var t=ax();return nd=function(){return t()&&!!Symbol.toStringTag},nd}var rd,nv;function gI(){if(nv)return rd;nv=1;var t=typeof Symbol<"u"&&Symbol,e=ax();return rd=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},rd}var id,rv;function yI(){if(rv)return id;rv=1;var t={foo:{}},e=Object;return id=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},id}var od,iv;function vI(){if(iv)return od;iv=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,o="[object Function]",a=function(p,m){for(var y=[],x=0;x<p.length;x+=1)y[x]=p[x];for(var S=0;S<m.length;S+=1)y[S+p.length]=m[S];return y},c=function(p,m){for(var y=[],x=m,S=0;x<p.length;x+=1,S+=1)y[S]=p[x];return y},d=function(h,p){for(var m="",y=0;y<h.length;y+=1)m+=h[y],y+1<h.length&&(m+=p);return m};return od=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==o)throw new TypeError(t+m);for(var y=c(arguments,1),x,S=function(){if(this instanceof x){var N=m.apply(this,a(y,arguments));return Object(N)===N?N:this}return m.apply(p,a(y,arguments))},E=r(0,m.length-y.length),D=[],_=0;_<E;_++)D[_]="$"+_;if(x=Function("binder","return function ("+d(D,",")+"){ return binder.apply(this,arguments); }")(S),m.prototype){var L=function(){};L.prototype=m.prototype,x.prototype=new L,L.prototype=null}return x},od}var sd,ov;function Eh(){if(ov)return sd;ov=1;var t=vI();return sd=Function.prototype.bind||t,sd}var ad,sv;function wI(){if(sv)return ad;sv=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Eh();return ad=r.call(t,e),ad}var ld,av;function vs(){if(av)return ld;av=1;var t,e=SyntaxError,r=Function,o=TypeError,a=function(Y){try{return r('"use strict"; return ('+Y+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var d=function(){throw new o},h=c?(function(){try{return arguments.callee,d}catch{try{return c(arguments,"callee").get}catch{return d}}})():d,p=gI()(),m=yI()(),y=Object.getPrototypeOf||(m?function(Y){return Y.__proto__}:null),x={},S=typeof Uint8Array>"u"||!y?t:y(Uint8Array),E={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":p&&y?y([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":x,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&y?y(y([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!p||!y?t:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!p||!y?t:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&y?y(""[Symbol.iterator]()):t,"%Symbol%":p?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":h,"%TypedArray%":S,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(y)try{null.error}catch(Y){var D=y(y(Y));E["%Error.prototype%"]=D}var _=function Y(fe){var B;if(fe==="%AsyncFunction%")B=a("async function () {}");else if(fe==="%GeneratorFunction%")B=a("function* () {}");else if(fe==="%AsyncGeneratorFunction%")B=a("async function* () {}");else if(fe==="%AsyncGenerator%"){var le=Y("%AsyncGeneratorFunction%");le&&(B=le.prototype)}else if(fe==="%AsyncIteratorPrototype%"){var se=Y("%AsyncGenerator%");se&&y&&(B=y(se.prototype))}return E[fe]=B,B},L={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},N=Eh(),I=wI(),O=N.call(Function.call,Array.prototype.concat),H=N.call(Function.apply,Array.prototype.splice),q=N.call(Function.call,String.prototype.replace),ce=N.call(Function.call,String.prototype.slice),oe=N.call(Function.call,RegExp.prototype.exec),me=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,ae=function(fe){var B=ce(fe,0,1),le=ce(fe,-1);if(B==="%"&&le!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(le==="%"&&B!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var se=[];return q(fe,me,function(ne,Me,ye,j){se[se.length]=ye?q(j,U,"$1"):Me||ne}),se},de=function(fe,B){var le=fe,se;if(I(L,le)&&(se=L[le],le="%"+se[0]+"%"),I(E,le)){var ne=E[le];if(ne===x&&(ne=_(le)),typeof ne>"u"&&!B)throw new o("intrinsic "+fe+" exists, but is not available. Please file an issue!");return{alias:se,name:le,value:ne}}throw new e("intrinsic "+fe+" does not exist!")};return ld=function(fe,B){if(typeof fe!="string"||fe.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new o('"allowMissing" argument must be a boolean');if(oe(/^%?[^%]*%?$/,fe)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var le=ae(fe),se=le.length>0?le[0]:"",ne=de("%"+se+"%",B),Me=ne.name,ye=ne.value,j=!1,W=ne.alias;W&&(se=W[0],H(le,O([0,1],W)));for(var F=1,Q=!0;F<le.length;F+=1){var re=le[F],pe=ce(re,0,1),te=ce(re,-1);if((pe==='"'||pe==="'"||pe==="`"||te==='"'||te==="'"||te==="`")&&pe!==te)throw new e("property names with quotes must have matching quotes");if((re==="constructor"||!Q)&&(j=!0),se+="."+re,Me="%"+se+"%",I(E,Me))ye=E[Me];else if(ye!=null){if(!(re in ye)){if(!B)throw new o("base intrinsic for "+fe+" exists, but the property is not available.");return}if(c&&F+1>=le.length){var k=c(ye,re);Q=!!k,Q&&"get"in k&&!("originalValue"in k.get)?ye=k.get:ye=ye[re]}else Q=I(ye,re),ye=ye[re];Q&&!j&&(E[Me]=ye)}}return ye},ld}var ud={exports:{}},cd,lv;function lx(){if(lv)return cd;lv=1;var t=vs(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},cd=r,cd}var fd,uv;function _h(){if(uv)return fd;uv=1;var t=vs(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return fd=e,fd}var dd,cv;function xI(){if(cv)return dd;cv=1;var t=lx()(),e=vs(),r=t&&e("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var o=e("%SyntaxError%"),a=e("%TypeError%"),c=_h();return dd=function(h,p,m){if(!h||typeof h!="object"&&typeof h!="function")throw new a("`obj` must be an object or a function`");if(typeof p!="string"&&typeof p!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var y=arguments.length>3?arguments[3]:null,x=arguments.length>4?arguments[4]:null,S=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,D=!!c&&c(h,p);if(r)r(h,p,{configurable:S===null&&D?D.configurable:!S,enumerable:y===null&&D?D.enumerable:!y,value:m,writable:x===null&&D?D.writable:!x});else if(E||!y&&!x&&!S)h[p]=m;else throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},dd}var hd,fv;function TI(){if(fv)return hd;fv=1;var t=vs(),e=xI(),r=lx()(),o=_h(),a=t("%TypeError%"),c=t("%Math.floor%");return hd=function(h,p){if(typeof h!="function")throw new a("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||c(p)!==p)throw new a("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],y=!0,x=!0;if("length"in h&&o){var S=o(h,"length");S&&!S.configurable&&(y=!1),S&&!S.writable&&(x=!1)}return(y||x||!m)&&(r?e(h,"length",p,!0,!0):e(h,"length",p)),h},hd}var dv;function ux(){return dv||(dv=1,(function(t){var e=Eh(),r=vs(),o=TI(),a=r("%TypeError%"),c=r("%Function.prototype.apply%"),d=r("%Function.prototype.call%"),h=r("%Reflect.apply%",!0)||e.call(d,c),p=r("%Object.defineProperty%",!0),m=r("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}t.exports=function(S){if(typeof S!="function")throw new a("a function is required");var E=h(e,d,arguments);return o(E,1+m(0,S.length-(arguments.length-1)),!0)};var y=function(){return h(e,c,arguments)};p?p(t.exports,"apply",{value:y}):t.exports.apply=y})(ud)),ud.exports}var pd,hv;function cx(){if(hv)return pd;hv=1;var t=vs(),e=ux(),r=e(t("String.prototype.indexOf"));return pd=function(a,c){var d=t(a,!!c);return typeof d=="function"&&r(a,".prototype.")>-1?e(d):d},pd}var md,pv;function bI(){if(pv)return md;pv=1;var t=Sh()(),e=cx(),r=e("Object.prototype.toString"),o=function(h){return t&&h&&typeof h=="object"&&Symbol.toStringTag in h?!1:r(h)==="[object Arguments]"},a=function(h){return o(h)?!0:h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&r(h)!=="[object Array]"&&r(h.callee)==="[object Function]"},c=(function(){return o(arguments)})();return o.isLegacyArguments=a,md=c?o:a,md}var gd,mv;function SI(){if(mv)return gd;mv=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,o=Sh()(),a=Object.getPrototypeOf,c=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch{}},d;return gd=function(p){if(typeof p!="function")return!1;if(r.test(e.call(p)))return!0;if(!o){var m=t.call(p);return m==="[object GeneratorFunction]"}if(!a)return!1;if(typeof d>"u"){var y=c();d=y?a(y):!1}return a(p)===d},gd}var yd,gv;function EI(){if(gv)return yd;gv=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,o;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},e(function(){throw 42},null,r)}catch(I){I!==o&&(e=null)}else e=null;var a=/^\s*class\b/,c=function(O){try{var H=t.call(O);return a.test(H)}catch{return!1}},d=function(O){try{return c(O)?!1:(t.call(O),!0)}catch{return!1}},h=Object.prototype.toString,p="[object Object]",m="[object Function]",y="[object GeneratorFunction]",x="[object HTMLAllCollection]",S="[object HTML document.all class]",E="[object HTMLCollection]",D=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),L=function(){return!1};if(typeof document=="object"){var N=document.all;h.call(N)===h.call(document.all)&&(L=function(O){if((_||!O)&&(typeof O>"u"||typeof O=="object"))try{var H=h.call(O);return(H===x||H===S||H===E||H===p)&&O("")==null}catch{}return!1})}return yd=e?function(O){if(L(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;try{e(O,null,r)}catch(H){if(H!==o)return!1}return!c(O)&&d(O)}:function(O){if(L(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;if(D)return d(O);if(c(O))return!1;var H=h.call(O);return H!==m&&H!==y&&!/^\[object HTML/.test(H)?!1:d(O)},yd}var vd,yv;function _I(){if(yv)return vd;yv=1;var t=EI(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,o=function(p,m,y){for(var x=0,S=p.length;x<S;x++)r.call(p,x)&&(y==null?m(p[x],x,p):m.call(y,p[x],x,p))},a=function(p,m,y){for(var x=0,S=p.length;x<S;x++)y==null?m(p.charAt(x),x,p):m.call(y,p.charAt(x),x,p)},c=function(p,m,y){for(var x in p)r.call(p,x)&&(y==null?m(p[x],x,p):m.call(y,p[x],x,p))},d=function(p,m,y){if(!t(m))throw new TypeError("iterator must be a function");var x;arguments.length>=3&&(x=y),e.call(p)==="[object Array]"?o(p,m,x):typeof p=="string"?a(p,m,x):c(p,m,x)};return vd=d,vd}var wd,vv;function CI(){if(vv)return wd;vv=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?xr:globalThis;return wd=function(){for(var o=[],a=0;a<t.length;a++)typeof e[t[a]]=="function"&&(o[o.length]=t[a]);return o},wd}var xd,wv;function fx(){if(wv)return xd;wv=1;var t=_I(),e=CI(),r=ux(),o=cx(),a=_h(),c=o("Object.prototype.toString"),d=Sh()(),h=typeof globalThis>"u"?xr:globalThis,p=e(),m=o("String.prototype.slice"),y=Object.getPrototypeOf,x=o("Array.prototype.indexOf",!0)||function(L,N){for(var I=0;I<L.length;I+=1)if(L[I]===N)return I;return-1},S={__proto__:null};d&&a&&y?t(p,function(_){var L=new h[_];if(Symbol.toStringTag in L){var N=y(L),I=a(N,Symbol.toStringTag);if(!I){var O=y(N);I=a(O,Symbol.toStringTag)}S["$"+_]=r(I.get)}}):t(p,function(_){var L=new h[_],N=L.slice||L.set;N&&(S["$"+_]=r(N))});var E=function(L){var N=!1;return t(S,function(I,O){if(!N)try{"$"+I(L)===O&&(N=m(O,1))}catch{}}),N},D=function(L){var N=!1;return t(S,function(I,O){if(!N)try{I(L),N=m(O,1)}catch{}}),N};return xd=function(L){if(!L||typeof L!="object")return!1;if(!d){var N=m(c(L),8,-1);return x(p,N)>-1?N:N!=="Object"?!1:D(L)}return a?E(L):null},xd}var Td,xv;function AI(){if(xv)return Td;xv=1;var t=fx();return Td=function(r){return!!t(r)},Td}var Tv;function NI(){return Tv||(Tv=1,(function(t){var e=bI(),r=SI(),o=fx(),a=AI();function c(C){return C.call.bind(C)}var d=typeof BigInt<"u",h=typeof Symbol<"u",p=c(Object.prototype.toString),m=c(Number.prototype.valueOf),y=c(String.prototype.valueOf),x=c(Boolean.prototype.valueOf);if(d)var S=c(BigInt.prototype.valueOf);if(h)var E=c(Symbol.prototype.valueOf);function D(C,$){if(typeof C!="object")return!1;try{return $(C),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=a;function _(C){return typeof Promise<"u"&&C instanceof Promise||C!==null&&typeof C=="object"&&typeof C.then=="function"&&typeof C.catch=="function"}t.isPromise=_;function L(C){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(C):a(C)||Q(C)}t.isArrayBufferView=L;function N(C){return o(C)==="Uint8Array"}t.isUint8Array=N;function I(C){return o(C)==="Uint8ClampedArray"}t.isUint8ClampedArray=I;function O(C){return o(C)==="Uint16Array"}t.isUint16Array=O;function H(C){return o(C)==="Uint32Array"}t.isUint32Array=H;function q(C){return o(C)==="Int8Array"}t.isInt8Array=q;function ce(C){return o(C)==="Int16Array"}t.isInt16Array=ce;function oe(C){return o(C)==="Int32Array"}t.isInt32Array=oe;function me(C){return o(C)==="Float32Array"}t.isFloat32Array=me;function U(C){return o(C)==="Float64Array"}t.isFloat64Array=U;function ae(C){return o(C)==="BigInt64Array"}t.isBigInt64Array=ae;function de(C){return o(C)==="BigUint64Array"}t.isBigUint64Array=de;function Y(C){return p(C)==="[object Map]"}Y.working=typeof Map<"u"&&Y(new Map);function fe(C){return typeof Map>"u"?!1:Y.working?Y(C):C instanceof Map}t.isMap=fe;function B(C){return p(C)==="[object Set]"}B.working=typeof Set<"u"&&B(new Set);function le(C){return typeof Set>"u"?!1:B.working?B(C):C instanceof Set}t.isSet=le;function se(C){return p(C)==="[object WeakMap]"}se.working=typeof WeakMap<"u"&&se(new WeakMap);function ne(C){return typeof WeakMap>"u"?!1:se.working?se(C):C instanceof WeakMap}t.isWeakMap=ne;function Me(C){return p(C)==="[object WeakSet]"}Me.working=typeof WeakSet<"u"&&Me(new WeakSet);function ye(C){return Me(C)}t.isWeakSet=ye;function j(C){return p(C)==="[object ArrayBuffer]"}j.working=typeof ArrayBuffer<"u"&&j(new ArrayBuffer);function W(C){return typeof ArrayBuffer>"u"?!1:j.working?j(C):C instanceof ArrayBuffer}t.isArrayBuffer=W;function F(C){return p(C)==="[object DataView]"}F.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&F(new DataView(new ArrayBuffer(1),0,1));function Q(C){return typeof DataView>"u"?!1:F.working?F(C):C instanceof DataView}t.isDataView=Q;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function pe(C){return p(C)==="[object SharedArrayBuffer]"}function te(C){return typeof re>"u"?!1:(typeof pe.working>"u"&&(pe.working=pe(new re)),pe.working?pe(C):C instanceof re)}t.isSharedArrayBuffer=te;function k(C){return p(C)==="[object AsyncFunction]"}t.isAsyncFunction=k;function A(C){return p(C)==="[object Map Iterator]"}t.isMapIterator=A;function ee(C){return p(C)==="[object Set Iterator]"}t.isSetIterator=ee;function V(C){return p(C)==="[object Generator]"}t.isGeneratorObject=V;function z(C){return p(C)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=z;function K(C){return D(C,m)}t.isNumberObject=K;function ue(C){return D(C,y)}t.isStringObject=ue;function R(C){return D(C,x)}t.isBooleanObject=R;function X(C){return d&&D(C,S)}t.isBigIntObject=X;function M(C){return h&&D(C,E)}t.isSymbolObject=M;function w(C){return K(C)||ue(C)||R(C)||X(C)||M(C)}t.isBoxedPrimitive=w;function v(C){return typeof Uint8Array<"u"&&(W(C)||te(C))}t.isAnyArrayBuffer=v,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(C){Object.defineProperty(t,C,{enumerable:!1,value:function(){throw new Error(C+" is not supported in userland")}})})})(ed)),ed}var bd,bv;function RI(){return bv||(bv=1,bd=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),bd}var Sv;function dx(){return Sv||(Sv=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(Q){for(var re=Object.keys(Q),pe={},te=0;te<re.length;te++)pe[re[te]]=Object.getOwnPropertyDescriptor(Q,re[te]);return pe},r=/%[sdj%]/g;t.format=function(F){if(!q(F)){for(var Q=[],re=0;re<arguments.length;re++)Q.push(d(arguments[re]));return Q.join(" ")}for(var re=1,pe=arguments,te=pe.length,k=String(F).replace(r,function(ee){if(ee==="%%")return"%";if(re>=te)return ee;switch(ee){case"%s":return String(pe[re++]);case"%d":return Number(pe[re++]);case"%j":try{return JSON.stringify(pe[re++])}catch{return"[Circular]"}default:return ee}}),A=pe[re];re<te;A=pe[++re])I(A)||!U(A)?k+=" "+A:k+=" "+d(A);return k},t.deprecate=function(F,Q){if(typeof ot<"u"&&ot.noDeprecation===!0)return F;if(typeof ot>"u")return function(){return t.deprecate(F,Q).apply(this,arguments)};var re=!1;function pe(){if(!re){if(ot.throwDeprecation)throw new Error(Q);ot.traceDeprecation?console.trace(Q):console.error(Q),re=!0}return F.apply(this,arguments)}return pe};var o={},a=/^$/;if(ot.env.NODE_DEBUG){var c=ot.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}t.debuglog=function(F){if(F=F.toUpperCase(),!o[F])if(a.test(F)){var Q=ot.pid;o[F]=function(){var re=t.format.apply(t,arguments);console.error("%s %d: %s",F,Q,re)}}else o[F]=function(){};return o[F]};function d(F,Q){var re={seen:[],stylize:p};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),N(Q)?re.showHidden=Q:Q&&t._extend(re,Q),oe(re.showHidden)&&(re.showHidden=!1),oe(re.depth)&&(re.depth=2),oe(re.colors)&&(re.colors=!1),oe(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=h),y(re,F,re.depth)}t.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function h(F,Q){var re=d.styles[Q];return re?"\x1B["+d.colors[re][0]+"m"+F+"\x1B["+d.colors[re][1]+"m":F}function p(F,Q){return F}function m(F){var Q={};return F.forEach(function(re,pe){Q[re]=!0}),Q}function y(F,Q,re){if(F.customInspect&&Q&&Y(Q.inspect)&&Q.inspect!==t.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var pe=Q.inspect(re,F);return q(pe)||(pe=y(F,pe,re)),pe}var te=x(F,Q);if(te)return te;var k=Object.keys(Q),A=m(k);if(F.showHidden&&(k=Object.getOwnPropertyNames(Q)),de(Q)&&(k.indexOf("message")>=0||k.indexOf("description")>=0))return S(Q);if(k.length===0){if(Y(Q)){var ee=Q.name?": "+Q.name:"";return F.stylize("[Function"+ee+"]","special")}if(me(Q))return F.stylize(RegExp.prototype.toString.call(Q),"regexp");if(ae(Q))return F.stylize(Date.prototype.toString.call(Q),"date");if(de(Q))return S(Q)}var V="",z=!1,K=["{","}"];if(L(Q)&&(z=!0,K=["[","]"]),Y(Q)){var ue=Q.name?": "+Q.name:"";V=" [Function"+ue+"]"}if(me(Q)&&(V=" "+RegExp.prototype.toString.call(Q)),ae(Q)&&(V=" "+Date.prototype.toUTCString.call(Q)),de(Q)&&(V=" "+S(Q)),k.length===0&&(!z||Q.length==0))return K[0]+V+K[1];if(re<0)return me(Q)?F.stylize(RegExp.prototype.toString.call(Q),"regexp"):F.stylize("[Object]","special");F.seen.push(Q);var R;return z?R=E(F,Q,re,A,k):R=k.map(function(X){return D(F,Q,re,A,X,z)}),F.seen.pop(),_(R,V,K)}function x(F,Q){if(oe(Q))return F.stylize("undefined","undefined");if(q(Q)){var re="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(re,"string")}if(H(Q))return F.stylize(""+Q,"number");if(N(Q))return F.stylize(""+Q,"boolean");if(I(Q))return F.stylize("null","null")}function S(F){return"["+Error.prototype.toString.call(F)+"]"}function E(F,Q,re,pe,te){for(var k=[],A=0,ee=Q.length;A<ee;++A)Me(Q,String(A))?k.push(D(F,Q,re,pe,String(A),!0)):k.push("");return te.forEach(function(V){V.match(/^\d+$/)||k.push(D(F,Q,re,pe,V,!0))}),k}function D(F,Q,re,pe,te,k){var A,ee,V;if(V=Object.getOwnPropertyDescriptor(Q,te)||{value:Q[te]},V.get?V.set?ee=F.stylize("[Getter/Setter]","special"):ee=F.stylize("[Getter]","special"):V.set&&(ee=F.stylize("[Setter]","special")),Me(pe,te)||(A="["+te+"]"),ee||(F.seen.indexOf(V.value)<0?(I(re)?ee=y(F,V.value,null):ee=y(F,V.value,re-1),ee.indexOf(`
`)>-1&&(k?ee=ee.split(`
`).map(function(z){return"  "+z}).join(`
`).slice(2):ee=`
`+ee.split(`
`).map(function(z){return"   "+z}).join(`
`))):ee=F.stylize("[Circular]","special")),oe(A)){if(k&&te.match(/^\d+$/))return ee;A=JSON.stringify(""+te),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.slice(1,-1),A=F.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=F.stylize(A,"string"))}return A+": "+ee}function _(F,Q,re){var pe=F.reduce(function(te,k){return k.indexOf(`
`)>=0,te+k.replace(/\u001b\[\d\d?m/g,"").length+1},0);return pe>60?re[0]+(Q===""?"":Q+`
 `)+" "+F.join(`,
  `)+" "+re[1]:re[0]+Q+" "+F.join(", ")+" "+re[1]}t.types=NI();function L(F){return Array.isArray(F)}t.isArray=L;function N(F){return typeof F=="boolean"}t.isBoolean=N;function I(F){return F===null}t.isNull=I;function O(F){return F==null}t.isNullOrUndefined=O;function H(F){return typeof F=="number"}t.isNumber=H;function q(F){return typeof F=="string"}t.isString=q;function ce(F){return typeof F=="symbol"}t.isSymbol=ce;function oe(F){return F===void 0}t.isUndefined=oe;function me(F){return U(F)&&B(F)==="[object RegExp]"}t.isRegExp=me,t.types.isRegExp=me;function U(F){return typeof F=="object"&&F!==null}t.isObject=U;function ae(F){return U(F)&&B(F)==="[object Date]"}t.isDate=ae,t.types.isDate=ae;function de(F){return U(F)&&(B(F)==="[object Error]"||F instanceof Error)}t.isError=de,t.types.isNativeError=de;function Y(F){return typeof F=="function"}t.isFunction=Y;function fe(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}t.isPrimitive=fe,t.isBuffer=RI();function B(F){return Object.prototype.toString.call(F)}function le(F){return F<10?"0"+F.toString(10):F.toString(10)}var se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ne(){var F=new Date,Q=[le(F.getHours()),le(F.getMinutes()),le(F.getSeconds())].join(":");return[F.getDate(),se[F.getMonth()],Q].join(" ")}t.log=function(){console.log("%s - %s",ne(),t.format.apply(t,arguments))},t.inherits=to,t._extend=function(F,Q){if(!Q||!U(Q))return F;for(var re=Object.keys(Q),pe=re.length;pe--;)F[re[pe]]=Q[re[pe]];return F};function Me(F,Q){return Object.prototype.hasOwnProperty.call(F,Q)}var ye=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');if(ye&&Q[ye]){var re=Q[ye];if(typeof re!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(re,ye,{value:re,enumerable:!1,writable:!1,configurable:!0}),re}function re(){for(var pe,te,k=new Promise(function(V,z){pe=V,te=z}),A=[],ee=0;ee<arguments.length;ee++)A.push(arguments[ee]);A.push(function(V,z){V?te(V):pe(z)});try{Q.apply(this,A)}catch(V){te(V)}return k}return Object.setPrototypeOf(re,Object.getPrototypeOf(Q)),ye&&Object.defineProperty(re,ye,{value:re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(re,e(Q))},t.promisify.custom=ye;function j(F,Q){if(!F){var re=new Error("Promise was rejected with a falsy value");re.reason=F,F=re}return Q(F)}function W(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function Q(){for(var re=[],pe=0;pe<arguments.length;pe++)re.push(arguments[pe]);var te=re.pop();if(typeof te!="function")throw new TypeError("The last argument must be of type Function");var k=this,A=function(){return te.apply(k,arguments)};F.apply(this,re).then(function(ee){ot.nextTick(A.bind(null,null,ee))},function(ee){ot.nextTick(j.bind(null,ee,A))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(F)),Object.defineProperties(Q,e(F)),Q}t.callbackify=W})(Qf)),Qf}var Sd,Ev;function MI(){if(Ev)return Sd;Ev=1;function t(S,E){var D=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);E&&(_=_.filter(function(L){return Object.getOwnPropertyDescriptor(S,L).enumerable})),D.push.apply(D,_)}return D}function e(S){for(var E=1;E<arguments.length;E++){var D=arguments[E]!=null?arguments[E]:{};E%2?t(Object(D),!0).forEach(function(_){r(S,_,D[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(D,_))})}return S}function r(S,E,D){return E in S?Object.defineProperty(S,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[E]=D,S}function o(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function a(S,E){for(var D=0;D<E.length;D++){var _=E[D];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}function c(S,E,D){return E&&a(S.prototype,E),S}var d=ku(),h=d.Buffer,p=dx(),m=p.inspect,y=m&&m.custom||"inspect";function x(S,E,D){h.prototype.copy.call(S,E,D)}return Sd=(function(){function S(){o(this,S),this.head=null,this.tail=null,this.length=0}return c(S,[{key:"push",value:function(D){var _={data:D,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(D){var _={data:D,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var D=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,D}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(D){if(this.length===0)return"";for(var _=this.head,L=""+_.data;_=_.next;)L+=D+_.data;return L}},{key:"concat",value:function(D){if(this.length===0)return h.alloc(0);for(var _=h.allocUnsafe(D>>>0),L=this.head,N=0;L;)x(L.data,_,N),N+=L.data.length,L=L.next;return _}},{key:"consume",value:function(D,_){var L;return D<this.head.data.length?(L=this.head.data.slice(0,D),this.head.data=this.head.data.slice(D)):D===this.head.data.length?L=this.shift():L=_?this._getString(D):this._getBuffer(D),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(D){var _=this.head,L=1,N=_.data;for(D-=N.length;_=_.next;){var I=_.data,O=D>I.length?I.length:D;if(O===I.length?N+=I:N+=I.slice(0,D),D-=O,D===0){O===I.length?(++L,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=I.slice(O));break}++L}return this.length-=L,N}},{key:"_getBuffer",value:function(D){var _=h.allocUnsafe(D),L=this.head,N=1;for(L.data.copy(_),D-=L.data.length;L=L.next;){var I=L.data,O=D>I.length?I.length:D;if(I.copy(_,_.length-D,0,O),D-=O,D===0){O===I.length?(++N,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=I.slice(O));break}++N}return this.length-=N,_}},{key:y,value:function(D,_){return m(this,e({},_,{depth:0,customInspect:!1}))}}]),S})(),Sd}var Ed,_v;function hx(){if(_v)return Ed;_v=1;function t(d,h){var p=this,m=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return m||y?(h?h(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ot.nextTick(a,this,d)):ot.nextTick(a,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(x){!h&&x?p._writableState?p._writableState.errorEmitted?ot.nextTick(r,p):(p._writableState.errorEmitted=!0,ot.nextTick(e,p,x)):ot.nextTick(e,p,x):h?(ot.nextTick(r,p),h(x)):ot.nextTick(r,p)}),this)}function e(d,h){a(d,h),r(d)}function r(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(d,h){d.emit("error",h)}function c(d,h){var p=d._readableState,m=d._writableState;p&&p.autoDestroy||m&&m.autoDestroy?d.destroy(h):d.emit("error",h)}return Ed={destroy:t,undestroy:o,errorOrDestroy:c},Ed}var _d={},Cv;function ws(){if(Cv)return _d;Cv=1;function t(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var e={};function r(h,p,m){m||(m=Error);function y(S,E,D){return typeof p=="string"?p:p(S,E,D)}var x=(function(S){t(E,S);function E(D,_,L){return S.call(this,y(D,_,L))||this}return E})(m);x.prototype.name=m.name,x.prototype.code=h,e[h]=x}function o(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(y){return String(y)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function a(h,p,m){return h.substr(0,p.length)===p}function c(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function d(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}return r("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(h,p,m){var y;typeof p=="string"&&a(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var x;if(c(h," argument"))x="The ".concat(h," ").concat(y," ").concat(o(p,"type"));else{var S=d(h,".")?"property":"argument";x='The "'.concat(h,'" ').concat(S," ").concat(y," ").concat(o(p,"type"))}return x+=". Received type ".concat(typeof m),x},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),_d.codes=e,_d}var Cd,Av;function px(){if(Av)return Cd;Av=1;var t=ws().codes.ERR_INVALID_OPT_VALUE;function e(o,a,c){return o.highWaterMark!=null?o.highWaterMark:a?o[c]:null}function r(o,a,c,d){var h=e(a,d,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var p=d?c:"highWaterMark";throw new t(p,h)}return Math.floor(h)}return o.objectMode?16:16*1024}return Cd={getHighWaterMark:r},Cd}var Ad,Nv;function DI(){if(Nv)return Ad;Nv=1,Ad=t;function t(r,o){if(e("noDeprecation"))return r;var a=!1;function c(){if(!a){if(e("throwDeprecation"))throw new Error(o);e("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return r.apply(this,arguments)}return c}function e(r){try{if(!xr.localStorage)return!1}catch{return!1}var o=xr.localStorage[r];return o==null?!1:String(o).toLowerCase()==="true"}return Ad}var Nd,Rv;function mx(){if(Rv)return Nd;Rv=1,Nd=me;function t(te){var k=this;this.next=null,this.entry=null,this.finish=function(){pe(k,te)}}var e;me.WritableState=ce;var r={deprecate:DI()},o=sx(),a=ku().Buffer,c=xr.Uint8Array||function(){};function d(te){return a.from(te)}function h(te){return a.isBuffer(te)||te instanceof c}var p=hx(),m=px(),y=m.getHighWaterMark,x=ws().codes,S=x.ERR_INVALID_ARG_TYPE,E=x.ERR_METHOD_NOT_IMPLEMENTED,D=x.ERR_MULTIPLE_CALLBACK,_=x.ERR_STREAM_CANNOT_PIPE,L=x.ERR_STREAM_DESTROYED,N=x.ERR_STREAM_NULL_VALUES,I=x.ERR_STREAM_WRITE_AFTER_END,O=x.ERR_UNKNOWN_ENCODING,H=p.errorOrDestroy;to(me,o);function q(){}function ce(te,k,A){e=e||as(),te=te||{},typeof A!="boolean"&&(A=k instanceof e),this.objectMode=!!te.objectMode,A&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=y(this,te,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=te.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){se(k,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}ce.prototype.getBuffer=function(){for(var k=this.bufferedRequest,A=[];k;)A.push(k),k=k.next;return A},(function(){try{Object.defineProperty(ce.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var oe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(oe=Function.prototype[Symbol.hasInstance],Object.defineProperty(me,Symbol.hasInstance,{value:function(k){return oe.call(this,k)?!0:this!==me?!1:k&&k._writableState instanceof ce}})):oe=function(k){return k instanceof this};function me(te){e=e||as();var k=this instanceof e;if(!k&&!oe.call(me,this))return new me(te);this._writableState=new ce(te,this,k),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),o.call(this)}me.prototype.pipe=function(){H(this,new _)};function U(te,k){var A=new I;H(te,A),ot.nextTick(k,A)}function ae(te,k,A,ee){var V;return A===null?V=new N:typeof A!="string"&&!k.objectMode&&(V=new S("chunk",["string","Buffer"],A)),V?(H(te,V),ot.nextTick(ee,V),!1):!0}me.prototype.write=function(te,k,A){var ee=this._writableState,V=!1,z=!ee.objectMode&&h(te);return z&&!a.isBuffer(te)&&(te=d(te)),typeof k=="function"&&(A=k,k=null),z?k="buffer":k||(k=ee.defaultEncoding),typeof A!="function"&&(A=q),ee.ending?U(this,A):(z||ae(this,ee,te,A))&&(ee.pendingcb++,V=Y(this,ee,z,te,k,A)),V},me.prototype.cork=function(){this._writableState.corked++},me.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&ye(this,te))},me.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new O(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(me.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function de(te,k,A){return!te.objectMode&&te.decodeStrings!==!1&&typeof k=="string"&&(k=a.from(k,A)),k}Object.defineProperty(me.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y(te,k,A,ee,V,z){if(!A){var K=de(k,ee,V);ee!==K&&(A=!0,V="buffer",ee=K)}var ue=k.objectMode?1:ee.length;k.length+=ue;var R=k.length<k.highWaterMark;if(R||(k.needDrain=!0),k.writing||k.corked){var X=k.lastBufferedRequest;k.lastBufferedRequest={chunk:ee,encoding:V,isBuf:A,callback:z,next:null},X?X.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else fe(te,k,!1,ue,ee,V,z);return R}function fe(te,k,A,ee,V,z,K){k.writelen=ee,k.writecb=K,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new L("write")):A?te._writev(V,k.onwrite):te._write(V,z,k.onwrite),k.sync=!1}function B(te,k,A,ee,V){--k.pendingcb,A?(ot.nextTick(V,ee),ot.nextTick(Q,te,k),te._writableState.errorEmitted=!0,H(te,ee)):(V(ee),te._writableState.errorEmitted=!0,H(te,ee),Q(te,k))}function le(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function se(te,k){var A=te._writableState,ee=A.sync,V=A.writecb;if(typeof V!="function")throw new D;if(le(A),k)B(te,A,ee,k,V);else{var z=j(A)||te.destroyed;!z&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&ye(te,A),ee?ot.nextTick(ne,te,A,z,V):ne(te,A,z,V)}}function ne(te,k,A,ee){A||Me(te,k),k.pendingcb--,ee(),Q(te,k)}function Me(te,k){k.length===0&&k.needDrain&&(k.needDrain=!1,te.emit("drain"))}function ye(te,k){k.bufferProcessing=!0;var A=k.bufferedRequest;if(te._writev&&A&&A.next){var ee=k.bufferedRequestCount,V=new Array(ee),z=k.corkedRequestsFree;z.entry=A;for(var K=0,ue=!0;A;)V[K]=A,A.isBuf||(ue=!1),A=A.next,K+=1;V.allBuffers=ue,fe(te,k,!0,k.length,V,"",z.finish),k.pendingcb++,k.lastBufferedRequest=null,z.next?(k.corkedRequestsFree=z.next,z.next=null):k.corkedRequestsFree=new t(k),k.bufferedRequestCount=0}else{for(;A;){var R=A.chunk,X=A.encoding,M=A.callback,w=k.objectMode?1:R.length;if(fe(te,k,!1,w,R,X,M),A=A.next,k.bufferedRequestCount--,k.writing)break}A===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=A,k.bufferProcessing=!1}me.prototype._write=function(te,k,A){A(new E("_write()"))},me.prototype._writev=null,me.prototype.end=function(te,k,A){var ee=this._writableState;return typeof te=="function"?(A=te,te=null,k=null):typeof k=="function"&&(A=k,k=null),te!=null&&this.write(te,k),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||re(this,ee,A),this},Object.defineProperty(me.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function W(te,k){te._final(function(A){k.pendingcb--,A&&H(te,A),k.prefinished=!0,te.emit("prefinish"),Q(te,k)})}function F(te,k){!k.prefinished&&!k.finalCalled&&(typeof te._final=="function"&&!k.destroyed?(k.pendingcb++,k.finalCalled=!0,ot.nextTick(W,te,k)):(k.prefinished=!0,te.emit("prefinish")))}function Q(te,k){var A=j(k);if(A&&(F(te,k),k.pendingcb===0&&(k.finished=!0,te.emit("finish"),k.autoDestroy))){var ee=te._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&te.destroy()}return A}function re(te,k,A){k.ending=!0,Q(te,k),A&&(k.finished?ot.nextTick(A):te.once("finish",A)),k.ended=!0,te.writable=!1}function pe(te,k,A){var ee=te.entry;for(te.entry=null;ee;){var V=ee.callback;k.pendingcb--,V(A),ee=ee.next}k.corkedRequestsFree.next=te}return Object.defineProperty(me.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),me.prototype.destroy=p.destroy,me.prototype._undestroy=p.undestroy,me.prototype._destroy=function(te,k){k(te)},Nd}var Rd,Mv;function as(){if(Mv)return Rd;Mv=1;var t=Object.keys||function(m){var y=[];for(var x in m)y.push(x);return y};Rd=d;var e=gx(),r=mx();to(d,e);for(var o=t(r.prototype),a=0;a<o.length;a++){var c=o[a];d.prototype[c]||(d.prototype[c]=r.prototype[c])}function d(m){if(!(this instanceof d))return new d(m);e.call(this,m),r.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||ot.nextTick(p,this)}function p(m){m.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),Rd}var Md={},iu={exports:{}},Dv;function II(){return Dv||(Dv=1,(function(t,e){var r=ku(),o=r.Buffer;function a(d,h){for(var p in d)h[p]=d[p]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=c);function c(d,h,p){return o(d,h,p)}a(o,c),c.from=function(d,h,p){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,h,p)},c.alloc=function(d,h,p){if(typeof d!="number")throw new TypeError("Argument must be a number");var m=o(d);return h!==void 0?typeof p=="string"?m.fill(h,p):m.fill(h):m.fill(0),m},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}})(iu,iu.exports)),iu.exports}var Iv;function ah(){if(Iv)return Md;Iv=1;var t=II().Buffer,e=t.isEncoding||function(N){switch(N=""+N,N&&N.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(N){if(!N)return"utf8";for(var I;;)switch(N){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return N;default:if(I)return;N=(""+N).toLowerCase(),I=!0}}function o(N){var I=r(N);if(typeof I!="string"&&(t.isEncoding===e||!e(N)))throw new Error("Unknown encoding: "+N);return I||N}Md.StringDecoder=a;function a(N){this.encoding=o(N);var I;switch(this.encoding){case"utf16le":this.text=x,this.end=S,I=4;break;case"utf8":this.fillLast=p,I=4;break;case"base64":this.text=E,this.end=D,I=3;break;default:this.write=_,this.end=L;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}a.prototype.write=function(N){if(N.length===0)return"";var I,O;if(this.lastNeed){if(I=this.fillLast(N),I===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<N.length?I?I+this.text(N,O):this.text(N,O):I||""},a.prototype.end=y,a.prototype.text=m,a.prototype.fillLast=function(N){if(this.lastNeed<=N.length)return N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,N.length),this.lastNeed-=N.length};function c(N){return N<=127?0:N>>5===6?2:N>>4===14?3:N>>3===30?4:N>>6===2?-1:-2}function d(N,I,O){var H=I.length-1;if(H<O)return 0;var q=c(I[H]);return q>=0?(q>0&&(N.lastNeed=q-1),q):--H<O||q===-2?0:(q=c(I[H]),q>=0?(q>0&&(N.lastNeed=q-2),q):--H<O||q===-2?0:(q=c(I[H]),q>=0?(q>0&&(q===2?q=0:N.lastNeed=q-3),q):0))}function h(N,I,O){if((I[0]&192)!==128)return N.lastNeed=0,"�";if(N.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return N.lastNeed=1,"�";if(N.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return N.lastNeed=2,"�"}}function p(N){var I=this.lastTotal-this.lastNeed,O=h(this,N);if(O!==void 0)return O;if(this.lastNeed<=N.length)return N.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,I,0,N.length),this.lastNeed-=N.length}function m(N,I){var O=d(this,N,I);if(!this.lastNeed)return N.toString("utf8",I);this.lastTotal=O;var H=N.length-(O-this.lastNeed);return N.copy(this.lastChar,0,H),N.toString("utf8",I,H)}function y(N){var I=N&&N.length?this.write(N):"";return this.lastNeed?I+"�":I}function x(N,I){if((N.length-I)%2===0){var O=N.toString("utf16le",I);if(O){var H=O.charCodeAt(O.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=N[N.length-1],N.toString("utf16le",I,N.length-1)}function S(N){var I=N&&N.length?this.write(N):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,O)}return I}function E(N,I){var O=(N.length-I)%3;return O===0?N.toString("base64",I):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=N[N.length-1]:(this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1]),N.toString("base64",I,N.length-O))}function D(N){var I=N&&N.length?this.write(N):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function _(N){return N.toString(this.encoding)}function L(N){return N&&N.length?this.write(N):""}return Md}var Dd,kv;function Ch(){if(kv)return Dd;kv=1;var t=ws().codes.ERR_STREAM_PREMATURE_CLOSE;function e(c){var d=!1;return function(){if(!d){d=!0;for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];c.apply(this,p)}}}function r(){}function o(c){return c.setHeader&&typeof c.abort=="function"}function a(c,d,h){if(typeof d=="function")return a(c,null,d);d||(d={}),h=e(h||r);var p=d.readable||d.readable!==!1&&c.readable,m=d.writable||d.writable!==!1&&c.writable,y=function(){c.writable||S()},x=c._writableState&&c._writableState.finished,S=function(){m=!1,x=!0,p||h.call(c)},E=c._readableState&&c._readableState.endEmitted,D=function(){p=!1,E=!0,m||h.call(c)},_=function(O){h.call(c,O)},L=function(){var O;if(p&&!E)return(!c._readableState||!c._readableState.ended)&&(O=new t),h.call(c,O);if(m&&!x)return(!c._writableState||!c._writableState.ended)&&(O=new t),h.call(c,O)},N=function(){c.req.on("finish",S)};return o(c)?(c.on("complete",S),c.on("abort",L),c.req?N():c.on("request",N)):m&&!c._writableState&&(c.on("end",y),c.on("close",y)),c.on("end",D),c.on("finish",S),d.error!==!1&&c.on("error",_),c.on("close",L),function(){c.removeListener("complete",S),c.removeListener("abort",L),c.removeListener("request",N),c.req&&c.req.removeListener("finish",S),c.removeListener("end",y),c.removeListener("close",y),c.removeListener("finish",S),c.removeListener("end",D),c.removeListener("error",_),c.removeListener("close",L)}}return Dd=a,Dd}var Id,Lv;function kI(){if(Lv)return Id;Lv=1;var t;function e(N,I,O){return I in N?Object.defineProperty(N,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):N[I]=O,N}var r=Ch(),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),m=Symbol("stream");function y(N,I){return{value:N,done:I}}function x(N){var I=N[o];if(I!==null){var O=N[m].read();O!==null&&(N[h]=null,N[o]=null,N[a]=null,I(y(O,!1)))}}function S(N){ot.nextTick(x,N)}function E(N,I){return function(O,H){N.then(function(){if(I[d]){O(y(void 0,!0));return}I[p](O,H)},H)}}var D=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((t={get stream(){return this[m]},next:function(){var I=this,O=this[c];if(O!==null)return Promise.reject(O);if(this[d])return Promise.resolve(y(void 0,!0));if(this[m].destroyed)return new Promise(function(oe,me){ot.nextTick(function(){I[c]?me(I[c]):oe(y(void 0,!0))})});var H=this[h],q;if(H)q=new Promise(E(H,this));else{var ce=this[m].read();if(ce!==null)return Promise.resolve(y(ce,!1));q=new Promise(this[p])}return this[h]=q,q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var I=this;return new Promise(function(O,H){I[m].destroy(null,function(q){if(q){H(q);return}O(y(void 0,!0))})})}),t),D),L=function(I){var O,H=Object.create(_,(O={},e(O,m,{value:I,writable:!0}),e(O,o,{value:null,writable:!0}),e(O,a,{value:null,writable:!0}),e(O,c,{value:null,writable:!0}),e(O,d,{value:I._readableState.endEmitted,writable:!0}),e(O,p,{value:function(ce,oe){var me=H[m].read();me?(H[h]=null,H[o]=null,H[a]=null,ce(y(me,!1))):(H[o]=ce,H[a]=oe)},writable:!0}),O));return H[h]=null,r(I,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=H[a];ce!==null&&(H[h]=null,H[o]=null,H[a]=null,ce(q)),H[c]=q;return}var oe=H[o];oe!==null&&(H[h]=null,H[o]=null,H[a]=null,oe(y(void 0,!0))),H[d]=!0}),I.on("readable",S.bind(null,H)),H};return Id=L,Id}var kd,Uv;function LI(){return Uv||(Uv=1,kd=function(){throw new Error("Readable.from is not available in the browser")}),kd}var Ld,Bv;function gx(){if(Bv)return Ld;Bv=1,Ld=U;var t;U.ReadableState=me,bh.EventEmitter;var e=function(K,ue){return K.listeners(ue).length},r=sx(),o=ku().Buffer,a=xr.Uint8Array||function(){};function c(z){return o.from(z)}function d(z){return o.isBuffer(z)||z instanceof a}var h=dx(),p;h&&h.debuglog?p=h.debuglog("stream"):p=function(){};var m=MI(),y=hx(),x=px(),S=x.getHighWaterMark,E=ws().codes,D=E.ERR_INVALID_ARG_TYPE,_=E.ERR_STREAM_PUSH_AFTER_EOF,L=E.ERR_METHOD_NOT_IMPLEMENTED,N=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,O,H;to(U,r);var q=y.errorOrDestroy,ce=["error","close","destroy","pause","resume"];function oe(z,K,ue){if(typeof z.prependListener=="function")return z.prependListener(K,ue);!z._events||!z._events[K]?z.on(K,ue):Array.isArray(z._events[K])?z._events[K].unshift(ue):z._events[K]=[ue,z._events[K]]}function me(z,K,ue){t=t||as(),z=z||{},typeof ue!="boolean"&&(ue=K instanceof t),this.objectMode=!!z.objectMode,ue&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=S(this,z,"readableHighWaterMark",ue),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(I||(I=ah().StringDecoder),this.decoder=new I(z.encoding),this.encoding=z.encoding)}function U(z){if(t=t||as(),!(this instanceof U))return new U(z);var K=this instanceof t;this._readableState=new me(z,this,K),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),r.call(this)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),U.prototype.destroy=y.destroy,U.prototype._undestroy=y.undestroy,U.prototype._destroy=function(z,K){K(z)},U.prototype.push=function(z,K){var ue=this._readableState,R;return ue.objectMode?R=!0:typeof z=="string"&&(K=K||ue.defaultEncoding,K!==ue.encoding&&(z=o.from(z,K),K=""),R=!0),ae(this,z,K,!1,R)},U.prototype.unshift=function(z){return ae(this,z,null,!0,!1)};function ae(z,K,ue,R,X){p("readableAddChunk",K);var M=z._readableState;if(K===null)M.reading=!1,se(z,M);else{var w;if(X||(w=Y(M,K)),w)q(z,w);else if(M.objectMode||K&&K.length>0)if(typeof K!="string"&&!M.objectMode&&Object.getPrototypeOf(K)!==o.prototype&&(K=c(K)),R)M.endEmitted?q(z,new N):de(z,M,K,!0);else if(M.ended)q(z,new _);else{if(M.destroyed)return!1;M.reading=!1,M.decoder&&!ue?(K=M.decoder.write(K),M.objectMode||K.length!==0?de(z,M,K,!1):ye(z,M)):de(z,M,K,!1)}else R||(M.reading=!1,ye(z,M))}return!M.ended&&(M.length<M.highWaterMark||M.length===0)}function de(z,K,ue,R){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,z.emit("data",ue)):(K.length+=K.objectMode?1:ue.length,R?K.buffer.unshift(ue):K.buffer.push(ue),K.needReadable&&ne(z)),ye(z,K)}function Y(z,K){var ue;return!d(K)&&typeof K!="string"&&K!==void 0&&!z.objectMode&&(ue=new D("chunk",["string","Buffer","Uint8Array"],K)),ue}U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(z){I||(I=ah().StringDecoder);var K=new I(z);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var ue=this._readableState.buffer.head,R="";ue!==null;)R+=K.write(ue.data),ue=ue.next;return this._readableState.buffer.clear(),R!==""&&this._readableState.buffer.push(R),this._readableState.length=R.length,this};var fe=1073741824;function B(z){return z>=fe?z=fe:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function le(z,K){return z<=0||K.length===0&&K.ended?0:K.objectMode?1:z!==z?K.flowing&&K.length?K.buffer.head.data.length:K.length:(z>K.highWaterMark&&(K.highWaterMark=B(z)),z<=K.length?z:K.ended?K.length:(K.needReadable=!0,0))}U.prototype.read=function(z){p("read",z),z=parseInt(z,10);var K=this._readableState,ue=z;if(z!==0&&(K.emittedReadable=!1),z===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return p("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?A(this):ne(this),null;if(z=le(z,K),z===0&&K.ended)return K.length===0&&A(this),null;var R=K.needReadable;p("need readable",R),(K.length===0||K.length-z<K.highWaterMark)&&(R=!0,p("length less than watermark",R)),K.ended||K.reading?(R=!1,p("reading or ended",R)):R&&(p("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(z=le(ue,K)));var X;return z>0?X=k(z,K):X=null,X===null?(K.needReadable=K.length<=K.highWaterMark,z=0):(K.length-=z,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),ue!==z&&K.ended&&A(this)),X!==null&&this.emit("data",X),X};function se(z,K){if(p("onEofChunk"),!K.ended){if(K.decoder){var ue=K.decoder.end();ue&&ue.length&&(K.buffer.push(ue),K.length+=K.objectMode?1:ue.length)}K.ended=!0,K.sync?ne(z):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,Me(z)))}}function ne(z){var K=z._readableState;p("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(p("emitReadable",K.flowing),K.emittedReadable=!0,ot.nextTick(Me,z))}function Me(z){var K=z._readableState;p("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(z.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,te(z)}function ye(z,K){K.readingMore||(K.readingMore=!0,ot.nextTick(j,z,K))}function j(z,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var ue=K.length;if(p("maybeReadMore read 0"),z.read(0),ue===K.length)break}K.readingMore=!1}U.prototype._read=function(z){q(this,new L("_read()"))},U.prototype.pipe=function(z,K){var ue=this,R=this._readableState;switch(R.pipesCount){case 0:R.pipes=z;break;case 1:R.pipes=[R.pipes,z];break;default:R.pipes.push(z);break}R.pipesCount+=1,p("pipe count=%d opts=%j",R.pipesCount,K);var X=(!K||K.end!==!1)&&z!==ot.stdout&&z!==ot.stderr,M=X?v:Oe;R.endEmitted?ot.nextTick(M):ue.once("end",M),z.on("unpipe",w);function w(Ge,He){p("onunpipe"),Ge===ue&&He&&He.hasUnpiped===!1&&(He.hasUnpiped=!0,Z())}function v(){p("onend"),z.end()}var C=W(ue);z.on("drain",C);var $=!1;function Z(){p("cleanup"),z.removeListener("close",Ie),z.removeListener("finish",be),z.removeListener("drain",C),z.removeListener("error",we),z.removeListener("unpipe",w),ue.removeListener("end",v),ue.removeListener("end",Oe),ue.removeListener("data",J),$=!0,R.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&C()}ue.on("data",J);function J(Ge){p("ondata");var He=z.write(Ge);p("dest.write",He),He===!1&&((R.pipesCount===1&&R.pipes===z||R.pipesCount>1&&V(R.pipes,z)!==-1)&&!$&&(p("false write response, pause",R.awaitDrain),R.awaitDrain++),ue.pause())}function we(Ge){p("onerror",Ge),Oe(),z.removeListener("error",we),e(z,"error")===0&&q(z,Ge)}oe(z,"error",we);function Ie(){z.removeListener("finish",be),Oe()}z.once("close",Ie);function be(){p("onfinish"),z.removeListener("close",Ie),Oe()}z.once("finish",be);function Oe(){p("unpipe"),ue.unpipe(z)}return z.emit("pipe",ue),R.flowing||(p("pipe resume"),ue.resume()),z};function W(z){return function(){var ue=z._readableState;p("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&e(z,"data")&&(ue.flowing=!0,te(z))}}U.prototype.unpipe=function(z){var K=this._readableState,ue={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return z&&z!==K.pipes?this:(z||(z=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,z&&z.emit("unpipe",this,ue),this);if(!z){var R=K.pipes,X=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var M=0;M<X;M++)R[M].emit("unpipe",this,{hasUnpiped:!1});return this}var w=V(K.pipes,z);return w===-1?this:(K.pipes.splice(w,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),z.emit("unpipe",this,ue),this)},U.prototype.on=function(z,K){var ue=r.prototype.on.call(this,z,K),R=this._readableState;return z==="data"?(R.readableListening=this.listenerCount("readable")>0,R.flowing!==!1&&this.resume()):z==="readable"&&!R.endEmitted&&!R.readableListening&&(R.readableListening=R.needReadable=!0,R.flowing=!1,R.emittedReadable=!1,p("on readable",R.length,R.reading),R.length?ne(this):R.reading||ot.nextTick(Q,this)),ue},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(z,K){var ue=r.prototype.removeListener.call(this,z,K);return z==="readable"&&ot.nextTick(F,this),ue},U.prototype.removeAllListeners=function(z){var K=r.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&ot.nextTick(F,this),K};function F(z){var K=z._readableState;K.readableListening=z.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:z.listenerCount("data")>0&&z.resume()}function Q(z){p("readable nexttick read 0"),z.read(0)}U.prototype.resume=function(){var z=this._readableState;return z.flowing||(p("resume"),z.flowing=!z.readableListening,re(this,z)),z.paused=!1,this};function re(z,K){K.resumeScheduled||(K.resumeScheduled=!0,ot.nextTick(pe,z,K))}function pe(z,K){p("resume",K.reading),K.reading||z.read(0),K.resumeScheduled=!1,z.emit("resume"),te(z),K.flowing&&!K.reading&&z.read(0)}U.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(z){var K=z._readableState;for(p("flow",K.flowing);K.flowing&&z.read()!==null;);}U.prototype.wrap=function(z){var K=this,ue=this._readableState,R=!1;z.on("end",function(){if(p("wrapped end"),ue.decoder&&!ue.ended){var w=ue.decoder.end();w&&w.length&&K.push(w)}K.push(null)}),z.on("data",function(w){if(p("wrapped data"),ue.decoder&&(w=ue.decoder.write(w)),!(ue.objectMode&&w==null)&&!(!ue.objectMode&&(!w||!w.length))){var v=K.push(w);v||(R=!0,z.pause())}});for(var X in z)this[X]===void 0&&typeof z[X]=="function"&&(this[X]=(function(v){return function(){return z[v].apply(z,arguments)}})(X));for(var M=0;M<ce.length;M++)z.on(ce[M],this.emit.bind(this,ce[M]));return this._read=function(w){p("wrapped _read",w),R&&(R=!1,z.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=kI()),O(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),U._fromList=k,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function k(z,K){if(K.length===0)return null;var ue;return K.objectMode?ue=K.buffer.shift():!z||z>=K.length?(K.decoder?ue=K.buffer.join(""):K.buffer.length===1?ue=K.buffer.first():ue=K.buffer.concat(K.length),K.buffer.clear()):ue=K.buffer.consume(z,K.decoder),ue}function A(z){var K=z._readableState;p("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,ot.nextTick(ee,K,z))}function ee(z,K){if(p("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,K.readable=!1,K.emit("end"),z.autoDestroy)){var ue=K._writableState;(!ue||ue.autoDestroy&&ue.finished)&&K.destroy()}}typeof Symbol=="function"&&(U.from=function(z,K){return H===void 0&&(H=LI()),H(U,z,K)});function V(z,K){for(var ue=0,R=z.length;ue<R;ue++)if(z[ue]===K)return ue;return-1}return Ld}var Ud,Pv;function yx(){if(Pv)return Ud;Pv=1,Ud=h;var t=ws().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,c=as();to(h,c);function d(y,x){var S=this._transformState;S.transforming=!1;var E=S.writecb;if(E===null)return this.emit("error",new r);S.writechunk=null,S.writecb=null,x!=null&&this.push(x),E(y);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);c.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(x,S){m(y,x,S)}):m(this,null,null)}h.prototype.push=function(y,x){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,x)},h.prototype._transform=function(y,x,S){S(new e("_transform()"))},h.prototype._write=function(y,x,S){var E=this._transformState;if(E.writecb=S,E.writechunk=y,E.writeencoding=x,!E.transforming){var D=this._readableState;(E.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},h.prototype._read=function(y){var x=this._transformState;x.writechunk!==null&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},h.prototype._destroy=function(y,x){c.prototype._destroy.call(this,y,function(S){x(S)})};function m(y,x,S){if(x)return y.emit("error",x);if(S!=null&&y.push(S),y._writableState.length)throw new a;if(y._transformState.transforming)throw new o;return y.push(null)}return Ud}var Bd,Ov;function UI(){if(Ov)return Bd;Ov=1,Bd=e;var t=yx();to(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,o,a){a(null,r)},Bd}var Pd,Fv;function BI(){if(Fv)return Pd;Fv=1;var t;function e(S){var E=!1;return function(){E||(E=!0,S.apply(void 0,arguments))}}var r=ws().codes,o=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function c(S){if(S)throw S}function d(S){return S.setHeader&&typeof S.abort=="function"}function h(S,E,D,_){_=e(_);var L=!1;S.on("close",function(){L=!0}),t===void 0&&(t=Ch()),t(S,{readable:E,writable:D},function(I){if(I)return _(I);L=!0,_()});var N=!1;return function(I){if(!L&&!N){if(N=!0,d(S))return S.abort();if(typeof S.destroy=="function")return S.destroy();_(I||new a("pipe"))}}}function p(S){S()}function m(S,E){return S.pipe(E)}function y(S){return!S.length||typeof S[S.length-1]!="function"?c:S.pop()}function x(){for(var S=arguments.length,E=new Array(S),D=0;D<S;D++)E[D]=arguments[D];var _=y(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new o("streams");var L,N=E.map(function(I,O){var H=O<E.length-1,q=O>0;return h(I,H,q,function(ce){L||(L=ce),ce&&N.forEach(p),!H&&(N.forEach(p),_(L))})});return E.reduce(m)}return Pd=x,Pd}var Ah=Wn,Nh=bh.EventEmitter,PI=to;PI(Wn,Nh);Wn.Readable=gx();Wn.Writable=mx();Wn.Duplex=as();Wn.Transform=yx();Wn.PassThrough=UI();Wn.finished=Ch();Wn.pipeline=BI();Wn.Stream=Wn;function Wn(){Nh.call(this)}Wn.prototype.pipe=function(t,e){var r=this;function o(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}r.on("data",o);function a(){r.readable&&r.resume&&r.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",d),r.on("close",h));var c=!1;function d(){c||(c=!0,t.end())}function h(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function p(y){if(m(),Nh.listenerCount(this,"error")===0)throw y}r.on("error",p),t.on("error",p);function m(){r.removeListener("data",o),t.removeListener("drain",a),r.removeListener("end",d),r.removeListener("close",h),r.removeListener("error",p),t.removeListener("error",p),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t};(function(t){(function(e){e.parser=function(k,A){return new o(k,A)},e.SAXParser=o,e.SAXStream=y,e.createStream=m,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(k,A){if(!(this instanceof o))return new o(k,A);var ee=this;c(ee),ee.q=ee.c="",ee.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ee.opt=A||{},ee.opt.lowercase=ee.opt.lowercase||ee.opt.lowercasetags,ee.looseCase=ee.opt.lowercase?"toLowerCase":"toUpperCase",ee.tags=[],ee.closed=ee.closedRoot=ee.sawRoot=!1,ee.tag=ee.error=null,ee.strict=!!k,ee.noscript=!!(k||ee.opt.noscript),ee.state=U.BEGIN,ee.strictEntities=ee.opt.strictEntities,ee.ENTITIES=ee.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ee.attribList=[],ee.opt.xmlns&&(ee.ns=Object.create(_)),ee.trackPosition=ee.opt.position!==!1,ee.trackPosition&&(ee.position=ee.line=ee.column=0),de(ee,"onready")}Object.create||(Object.create=function(k){function A(){}A.prototype=k;var ee=new A;return ee}),Object.keys||(Object.keys=function(k){var A=[];for(var ee in k)k.hasOwnProperty(ee)&&A.push(ee);return A});function a(k){for(var A=Math.max(e.MAX_BUFFER_LENGTH,10),ee=0,V=0,z=r.length;V<z;V++){var K=k[r[V]].length;if(K>A)switch(r[V]){case"textNode":fe(k);break;case"cdata":Y(k,"oncdata",k.cdata),k.cdata="";break;case"script":Y(k,"onscript",k.script),k.script="";break;default:le(k,"Max buffer length exceeded: "+r[V])}ee=Math.max(ee,K)}var ue=e.MAX_BUFFER_LENGTH-ee;k.bufferCheckPosition=ue+k.position}function c(k){for(var A=0,ee=r.length;A<ee;A++)k[r[A]]=""}function d(k){fe(k),k.cdata!==""&&(Y(k,"oncdata",k.cdata),k.cdata=""),k.script!==""&&(Y(k,"onscript",k.script),k.script="")}o.prototype={end:function(){se(this)},write:te,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var h;try{h=Ah.Stream}catch{h=function(){}}var p=e.EVENTS.filter(function(k){return k!=="error"&&k!=="end"});function m(k,A){return new y(k,A)}function y(k,A){if(!(this instanceof y))return new y(k,A);h.apply(this),this._parser=new o(k,A),this.writable=!0,this.readable=!0;var ee=this;this._parser.onend=function(){ee.emit("end")},this._parser.onerror=function(V){ee.emit("error",V),ee._parser.error=null},this._decoder=null,p.forEach(function(V){Object.defineProperty(ee,"on"+V,{get:function(){return ee._parser["on"+V]},set:function(z){if(!z)return ee.removeAllListeners(V),ee._parser["on"+V]=z,z;ee.on(V,z)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(h.prototype,{constructor:{value:y}}),y.prototype.write=function(k){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(k)){if(!this._decoder){var A=ah().StringDecoder;this._decoder=new A("utf8")}k=this._decoder.write(k)}return this._parser.write(k.toString()),this.emit("data",k),!0},y.prototype.end=function(k){return k&&k.length&&this.write(k),this._parser.end(),!0},y.prototype.on=function(k,A){var ee=this;return!ee._parser["on"+k]&&p.indexOf(k)!==-1&&(ee._parser["on"+k]=function(){var V=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);V.splice(0,0,k),ee.emit.apply(ee,V)}),h.prototype.on.call(ee,k,A)};var x="[CDATA[",S="DOCTYPE",E="http://www.w3.org/XML/1998/namespace",D="http://www.w3.org/2000/xmlns/",_={xml:E,xmlns:D},L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function H(k){return k===" "||k===`
`||k==="\r"||k==="	"}function q(k){return k==='"'||k==="'"}function ce(k){return k===">"||H(k)}function oe(k,A){return k.test(A)}function me(k,A){return!oe(k,A)}var U=0;e.STATE={BEGIN:U++,BEGIN_WHITESPACE:U++,TEXT:U++,TEXT_ENTITY:U++,OPEN_WAKA:U++,SGML_DECL:U++,SGML_DECL_QUOTED:U++,DOCTYPE:U++,DOCTYPE_QUOTED:U++,DOCTYPE_DTD:U++,DOCTYPE_DTD_QUOTED:U++,COMMENT_STARTING:U++,COMMENT:U++,COMMENT_ENDING:U++,COMMENT_ENDED:U++,CDATA:U++,CDATA_ENDING:U++,CDATA_ENDING_2:U++,PROC_INST:U++,PROC_INST_BODY:U++,PROC_INST_ENDING:U++,OPEN_TAG:U++,OPEN_TAG_SLASH:U++,ATTRIB:U++,ATTRIB_NAME:U++,ATTRIB_NAME_SAW_WHITE:U++,ATTRIB_VALUE:U++,ATTRIB_VALUE_QUOTED:U++,ATTRIB_VALUE_CLOSED:U++,ATTRIB_VALUE_UNQUOTED:U++,ATTRIB_VALUE_ENTITY_Q:U++,ATTRIB_VALUE_ENTITY_U:U++,CLOSE_TAG:U++,CLOSE_TAG_SAW_WHITE:U++,SCRIPT:U++,SCRIPT_ENDING:U++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(k){var A=e.ENTITIES[k],ee=typeof A=="number"?String.fromCharCode(A):A;e.ENTITIES[k]=ee});for(var ae in e.STATE)e.STATE[e.STATE[ae]]=ae;U=e.STATE;function de(k,A,ee){k[A]&&k[A](ee)}function Y(k,A,ee){k.textNode&&fe(k),de(k,A,ee)}function fe(k){k.textNode=B(k.opt,k.textNode),k.textNode&&de(k,"ontext",k.textNode),k.textNode=""}function B(k,A){return k.trim&&(A=A.trim()),k.normalize&&(A=A.replace(/\s+/g," ")),A}function le(k,A){return fe(k),k.trackPosition&&(A+=`
Line: `+k.line+`
Column: `+k.column+`
Char: `+k.c),A=new Error(A),k.error=A,de(k,"onerror",A),k}function se(k){return k.sawRoot&&!k.closedRoot&&ne(k,"Unclosed root tag"),k.state!==U.BEGIN&&k.state!==U.BEGIN_WHITESPACE&&k.state!==U.TEXT&&le(k,"Unexpected end"),fe(k),k.c="",k.closed=!0,de(k,"onend"),o.call(k,k.strict,k.opt),k}function ne(k,A){if(typeof k!="object"||!(k instanceof o))throw new Error("bad call to strictFail");k.strict&&le(k,A)}function Me(k){k.strict||(k.tagName=k.tagName[k.looseCase]());var A=k.tags[k.tags.length-1]||k,ee=k.tag={name:k.tagName,attributes:{}};k.opt.xmlns&&(ee.ns=A.ns),k.attribList.length=0,Y(k,"onopentagstart",ee)}function ye(k,A){var ee=k.indexOf(":"),V=ee<0?["",k]:k.split(":"),z=V[0],K=V[1];return A&&k==="xmlns"&&(z="xmlns",K=""),{prefix:z,local:K}}function j(k){if(k.strict||(k.attribName=k.attribName[k.looseCase]()),k.attribList.indexOf(k.attribName)!==-1||k.tag.attributes.hasOwnProperty(k.attribName)){k.attribName=k.attribValue="";return}if(k.opt.xmlns){var A=ye(k.attribName,!0),ee=A.prefix,V=A.local;if(ee==="xmlns")if(V==="xml"&&k.attribValue!==E)ne(k,"xml: prefix must be bound to "+E+`
Actual: `+k.attribValue);else if(V==="xmlns"&&k.attribValue!==D)ne(k,"xmlns: prefix must be bound to "+D+`
Actual: `+k.attribValue);else{var z=k.tag,K=k.tags[k.tags.length-1]||k;z.ns===K.ns&&(z.ns=Object.create(K.ns)),z.ns[V]=k.attribValue}k.attribList.push([k.attribName,k.attribValue])}else k.tag.attributes[k.attribName]=k.attribValue,Y(k,"onattribute",{name:k.attribName,value:k.attribValue});k.attribName=k.attribValue=""}function W(k,A){if(k.opt.xmlns){var ee=k.tag,V=ye(k.tagName);ee.prefix=V.prefix,ee.local=V.local,ee.uri=ee.ns[V.prefix]||"",ee.prefix&&!ee.uri&&(ne(k,"Unbound namespace prefix: "+JSON.stringify(k.tagName)),ee.uri=V.prefix);var z=k.tags[k.tags.length-1]||k;ee.ns&&z.ns!==ee.ns&&Object.keys(ee.ns).forEach(function(J){Y(k,"onopennamespace",{prefix:J,uri:ee.ns[J]})});for(var K=0,ue=k.attribList.length;K<ue;K++){var R=k.attribList[K],X=R[0],M=R[1],w=ye(X,!0),v=w.prefix,C=w.local,$=v===""?"":ee.ns[v]||"",Z={name:X,value:M,prefix:v,local:C,uri:$};v&&v!=="xmlns"&&!$&&(ne(k,"Unbound namespace prefix: "+JSON.stringify(v)),Z.uri=v),k.tag.attributes[X]=Z,Y(k,"onattribute",Z)}k.attribList.length=0}k.tag.isSelfClosing=!!A,k.sawRoot=!0,k.tags.push(k.tag),Y(k,"onopentag",k.tag),A||(!k.noscript&&k.tagName.toLowerCase()==="script"?k.state=U.SCRIPT:k.state=U.TEXT,k.tag=null,k.tagName=""),k.attribName=k.attribValue="",k.attribList.length=0}function F(k){if(!k.tagName){ne(k,"Weird empty close tag."),k.textNode+="</>",k.state=U.TEXT;return}if(k.script){if(k.tagName!=="script"){k.script+="</"+k.tagName+">",k.tagName="",k.state=U.SCRIPT;return}Y(k,"onscript",k.script),k.script=""}var A=k.tags.length,ee=k.tagName;k.strict||(ee=ee[k.looseCase]());for(var V=ee;A--;){var z=k.tags[A];if(z.name!==V)ne(k,"Unexpected close tag");else break}if(A<0){ne(k,"Unmatched closing tag: "+k.tagName),k.textNode+="</"+k.tagName+">",k.state=U.TEXT;return}k.tagName=ee;for(var K=k.tags.length;K-- >A;){var ue=k.tag=k.tags.pop();k.tagName=k.tag.name,Y(k,"onclosetag",k.tagName);var R={};for(var X in ue.ns)R[X]=ue.ns[X];var M=k.tags[k.tags.length-1]||k;k.opt.xmlns&&ue.ns!==M.ns&&Object.keys(ue.ns).forEach(function(w){var v=ue.ns[w];Y(k,"onclosenamespace",{prefix:w,uri:v})})}A===0&&(k.closedRoot=!0),k.tagName=k.attribValue=k.attribName="",k.attribList.length=0,k.state=U.TEXT}function Q(k){var A=k.entity,ee=A.toLowerCase(),V,z="";return k.ENTITIES[A]?k.ENTITIES[A]:k.ENTITIES[ee]?k.ENTITIES[ee]:(A=ee,A.charAt(0)==="#"&&(A.charAt(1)==="x"?(A=A.slice(2),V=parseInt(A,16),z=V.toString(16)):(A=A.slice(1),V=parseInt(A,10),z=V.toString(10))),A=A.replace(/^0+/,""),isNaN(V)||z.toLowerCase()!==A?(ne(k,"Invalid character entity"),"&"+k.entity+";"):String.fromCodePoint(V))}function re(k,A){A==="<"?(k.state=U.OPEN_WAKA,k.startTagPosition=k.position):H(A)||(ne(k,"Non-whitespace before first tag."),k.textNode=A,k.state=U.TEXT)}function pe(k,A){var ee="";return A<k.length&&(ee=k.charAt(A)),ee}function te(k){var A=this;if(this.error)throw this.error;if(A.closed)return le(A,"Cannot write after close. Assign an onready handler.");if(k===null)return se(A);typeof k=="object"&&(k=k.toString());for(var ee=0,V="";V=pe(k,ee++),A.c=V,!!V;)switch(A.trackPosition&&(A.position++,V===`
`?(A.line++,A.column=0):A.column++),A.state){case U.BEGIN:if(A.state=U.BEGIN_WHITESPACE,V==="\uFEFF")continue;re(A,V);continue;case U.BEGIN_WHITESPACE:re(A,V);continue;case U.TEXT:if(A.sawRoot&&!A.closedRoot){for(var z=ee-1;V&&V!=="<"&&V!=="&";)V=pe(k,ee++),V&&A.trackPosition&&(A.position++,V===`
`?(A.line++,A.column=0):A.column++);A.textNode+=k.substring(z,ee-1)}V==="<"&&!(A.sawRoot&&A.closedRoot&&!A.strict)?(A.state=U.OPEN_WAKA,A.startTagPosition=A.position):(!H(V)&&(!A.sawRoot||A.closedRoot)&&ne(A,"Text data outside of root node."),V==="&"?A.state=U.TEXT_ENTITY:A.textNode+=V);continue;case U.SCRIPT:V==="<"?A.state=U.SCRIPT_ENDING:A.script+=V;continue;case U.SCRIPT_ENDING:V==="/"?A.state=U.CLOSE_TAG:(A.script+="<"+V,A.state=U.SCRIPT);continue;case U.OPEN_WAKA:if(V==="!")A.state=U.SGML_DECL,A.sgmlDecl="";else if(!H(V))if(oe(L,V))A.state=U.OPEN_TAG,A.tagName=V;else if(V==="/")A.state=U.CLOSE_TAG,A.tagName="";else if(V==="?")A.state=U.PROC_INST,A.procInstName=A.procInstBody="";else{if(ne(A,"Unencoded <"),A.startTagPosition+1<A.position){var K=A.position-A.startTagPosition;V=new Array(K).join(" ")+V}A.textNode+="<"+V,A.state=U.TEXT}continue;case U.SGML_DECL:(A.sgmlDecl+V).toUpperCase()===x?(Y(A,"onopencdata"),A.state=U.CDATA,A.sgmlDecl="",A.cdata=""):A.sgmlDecl+V==="--"?(A.state=U.COMMENT,A.comment="",A.sgmlDecl=""):(A.sgmlDecl+V).toUpperCase()===S?(A.state=U.DOCTYPE,(A.doctype||A.sawRoot)&&ne(A,"Inappropriately located doctype declaration"),A.doctype="",A.sgmlDecl=""):V===">"?(Y(A,"onsgmldeclaration",A.sgmlDecl),A.sgmlDecl="",A.state=U.TEXT):(q(V)&&(A.state=U.SGML_DECL_QUOTED),A.sgmlDecl+=V);continue;case U.SGML_DECL_QUOTED:V===A.q&&(A.state=U.SGML_DECL,A.q=""),A.sgmlDecl+=V;continue;case U.DOCTYPE:V===">"?(A.state=U.TEXT,Y(A,"ondoctype",A.doctype),A.doctype=!0):(A.doctype+=V,V==="["?A.state=U.DOCTYPE_DTD:q(V)&&(A.state=U.DOCTYPE_QUOTED,A.q=V));continue;case U.DOCTYPE_QUOTED:A.doctype+=V,V===A.q&&(A.q="",A.state=U.DOCTYPE);continue;case U.DOCTYPE_DTD:A.doctype+=V,V==="]"?A.state=U.DOCTYPE:q(V)&&(A.state=U.DOCTYPE_DTD_QUOTED,A.q=V);continue;case U.DOCTYPE_DTD_QUOTED:A.doctype+=V,V===A.q&&(A.state=U.DOCTYPE_DTD,A.q="");continue;case U.COMMENT:V==="-"?A.state=U.COMMENT_ENDING:A.comment+=V;continue;case U.COMMENT_ENDING:V==="-"?(A.state=U.COMMENT_ENDED,A.comment=B(A.opt,A.comment),A.comment&&Y(A,"oncomment",A.comment),A.comment=""):(A.comment+="-"+V,A.state=U.COMMENT);continue;case U.COMMENT_ENDED:V!==">"?(ne(A,"Malformed comment"),A.comment+="--"+V,A.state=U.COMMENT):A.state=U.TEXT;continue;case U.CDATA:V==="]"?A.state=U.CDATA_ENDING:A.cdata+=V;continue;case U.CDATA_ENDING:V==="]"?A.state=U.CDATA_ENDING_2:(A.cdata+="]"+V,A.state=U.CDATA);continue;case U.CDATA_ENDING_2:V===">"?(A.cdata&&Y(A,"oncdata",A.cdata),Y(A,"onclosecdata"),A.cdata="",A.state=U.TEXT):V==="]"?A.cdata+="]":(A.cdata+="]]"+V,A.state=U.CDATA);continue;case U.PROC_INST:V==="?"?A.state=U.PROC_INST_ENDING:H(V)?A.state=U.PROC_INST_BODY:A.procInstName+=V;continue;case U.PROC_INST_BODY:if(!A.procInstBody&&H(V))continue;V==="?"?A.state=U.PROC_INST_ENDING:A.procInstBody+=V;continue;case U.PROC_INST_ENDING:V===">"?(Y(A,"onprocessinginstruction",{name:A.procInstName,body:A.procInstBody}),A.procInstName=A.procInstBody="",A.state=U.TEXT):(A.procInstBody+="?"+V,A.state=U.PROC_INST_BODY);continue;case U.OPEN_TAG:oe(N,V)?A.tagName+=V:(Me(A),V===">"?W(A):V==="/"?A.state=U.OPEN_TAG_SLASH:(H(V)||ne(A,"Invalid character in tag name"),A.state=U.ATTRIB));continue;case U.OPEN_TAG_SLASH:V===">"?(W(A,!0),F(A)):(ne(A,"Forward-slash in opening tag not followed by >"),A.state=U.ATTRIB);continue;case U.ATTRIB:if(H(V))continue;V===">"?W(A):V==="/"?A.state=U.OPEN_TAG_SLASH:oe(L,V)?(A.attribName=V,A.attribValue="",A.state=U.ATTRIB_NAME):ne(A,"Invalid attribute name");continue;case U.ATTRIB_NAME:V==="="?A.state=U.ATTRIB_VALUE:V===">"?(ne(A,"Attribute without value"),A.attribValue=A.attribName,j(A),W(A)):H(V)?A.state=U.ATTRIB_NAME_SAW_WHITE:oe(N,V)?A.attribName+=V:ne(A,"Invalid attribute name");continue;case U.ATTRIB_NAME_SAW_WHITE:if(V==="=")A.state=U.ATTRIB_VALUE;else{if(H(V))continue;ne(A,"Attribute without value"),A.tag.attributes[A.attribName]="",A.attribValue="",Y(A,"onattribute",{name:A.attribName,value:""}),A.attribName="",V===">"?W(A):oe(L,V)?(A.attribName=V,A.state=U.ATTRIB_NAME):(ne(A,"Invalid attribute name"),A.state=U.ATTRIB)}continue;case U.ATTRIB_VALUE:if(H(V))continue;q(V)?(A.q=V,A.state=U.ATTRIB_VALUE_QUOTED):(ne(A,"Unquoted attribute value"),A.state=U.ATTRIB_VALUE_UNQUOTED,A.attribValue=V);continue;case U.ATTRIB_VALUE_QUOTED:if(V!==A.q){V==="&"?A.state=U.ATTRIB_VALUE_ENTITY_Q:A.attribValue+=V;continue}j(A),A.q="",A.state=U.ATTRIB_VALUE_CLOSED;continue;case U.ATTRIB_VALUE_CLOSED:H(V)?A.state=U.ATTRIB:V===">"?W(A):V==="/"?A.state=U.OPEN_TAG_SLASH:oe(L,V)?(ne(A,"No whitespace between attributes"),A.attribName=V,A.attribValue="",A.state=U.ATTRIB_NAME):ne(A,"Invalid attribute name");continue;case U.ATTRIB_VALUE_UNQUOTED:if(!ce(V)){V==="&"?A.state=U.ATTRIB_VALUE_ENTITY_U:A.attribValue+=V;continue}j(A),V===">"?W(A):A.state=U.ATTRIB;continue;case U.CLOSE_TAG:if(A.tagName)V===">"?F(A):oe(N,V)?A.tagName+=V:A.script?(A.script+="</"+A.tagName,A.tagName="",A.state=U.SCRIPT):(H(V)||ne(A,"Invalid tagname in closing tag"),A.state=U.CLOSE_TAG_SAW_WHITE);else{if(H(V))continue;me(L,V)?A.script?(A.script+="</"+V,A.state=U.SCRIPT):ne(A,"Invalid tagname in closing tag."):A.tagName=V}continue;case U.CLOSE_TAG_SAW_WHITE:if(H(V))continue;V===">"?F(A):ne(A,"Invalid characters in closing tag");continue;case U.TEXT_ENTITY:case U.ATTRIB_VALUE_ENTITY_Q:case U.ATTRIB_VALUE_ENTITY_U:var ue,R;switch(A.state){case U.TEXT_ENTITY:ue=U.TEXT,R="textNode";break;case U.ATTRIB_VALUE_ENTITY_Q:ue=U.ATTRIB_VALUE_QUOTED,R="attribValue";break;case U.ATTRIB_VALUE_ENTITY_U:ue=U.ATTRIB_VALUE_UNQUOTED,R="attribValue";break}V===";"?(A[R]+=Q(A),A.entity="",A.state=ue):oe(A.entity.length?O:I,V)?A.entity+=V:(ne(A,"Invalid character in entity name"),A[R]+="&"+A.entity+V,A.entity="",A.state=ue);continue;default:throw new Error(A,"Unknown state: "+A.state)}return A.position>=A.bufferCheckPosition&&a(A),A}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var k=String.fromCharCode,A=Math.floor,ee=function(){var V=16384,z=[],K,ue,R=-1,X=arguments.length;if(!X)return"";for(var M="";++R<X;){var w=Number(arguments[R]);if(!isFinite(w)||w<0||w>1114111||A(w)!==w)throw RangeError("Invalid code point: "+w);w<=65535?z.push(w):(w-=65536,K=(w>>10)+55296,ue=w%1024+56320,z.push(K,ue)),(R+1===X||z.length>V)&&(M+=k.apply(null,z),z.length=0)}return M};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ee,configurable:!0,writable:!0}):String.fromCodePoint=ee})()})(t)})($w);var Rh={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},OI=Rh.isArray,Mh={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!OI(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},FI=$w,wt=Mh,rs=Rh.isArray,Re,et;function zI(t){return Re=wt.copyOptions(t),wt.ensureFlagExists("ignoreDeclaration",Re),wt.ensureFlagExists("ignoreInstruction",Re),wt.ensureFlagExists("ignoreAttributes",Re),wt.ensureFlagExists("ignoreText",Re),wt.ensureFlagExists("ignoreComment",Re),wt.ensureFlagExists("ignoreCdata",Re),wt.ensureFlagExists("ignoreDoctype",Re),wt.ensureFlagExists("compact",Re),wt.ensureFlagExists("alwaysChildren",Re),wt.ensureFlagExists("addParent",Re),wt.ensureFlagExists("trim",Re),wt.ensureFlagExists("nativeType",Re),wt.ensureFlagExists("nativeTypeAttributes",Re),wt.ensureFlagExists("sanitize",Re),wt.ensureFlagExists("instructionHasAttributes",Re),wt.ensureFlagExists("captureSpacesBetweenElements",Re),wt.ensureAlwaysArrayExists(Re),wt.ensureKeyExists("declaration",Re),wt.ensureKeyExists("instruction",Re),wt.ensureKeyExists("attributes",Re),wt.ensureKeyExists("text",Re),wt.ensureKeyExists("comment",Re),wt.ensureKeyExists("cdata",Re),wt.ensureKeyExists("doctype",Re),wt.ensureKeyExists("type",Re),wt.ensureKeyExists("name",Re),wt.ensureKeyExists("elements",Re),wt.ensureKeyExists("parent",Re),Re}function vx(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function Ba(t,e){var r;if(Re.compact){if(!et[Re[t+"Key"]]&&(rs(Re.alwaysArray)?Re.alwaysArray.indexOf(Re[t+"Key"])!==-1:Re.alwaysArray)&&(et[Re[t+"Key"]]=[]),et[Re[t+"Key"]]&&!rs(et[Re[t+"Key"]])&&(et[Re[t+"Key"]]=[et[Re[t+"Key"]]]),t+"Fn"in Re&&typeof e=="string"&&(e=Re[t+"Fn"](e,et)),t==="instruction"&&("instructionFn"in Re||"instructionNameFn"in Re)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in Re)e[r]=Re.instructionFn(e[r],r,et);else{var o=e[r];delete e[r],e[Re.instructionNameFn(r,o,et)]=o}}rs(et[Re[t+"Key"]])?et[Re[t+"Key"]].push(e):et[Re[t+"Key"]]=e}else{et[Re.elementsKey]||(et[Re.elementsKey]=[]);var a={};if(a[Re.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;a[Re.nameKey]="instructionNameFn"in Re?Re.instructionNameFn(r,e,et):r,Re.instructionHasAttributes?(a[Re.attributesKey]=e[r][Re.attributesKey],"instructionFn"in Re&&(a[Re.attributesKey]=Re.instructionFn(a[Re.attributesKey],r,et))):("instructionFn"in Re&&(e[r]=Re.instructionFn(e[r],r,et)),a[Re.instructionKey]=e[r])}else t+"Fn"in Re&&(e=Re[t+"Fn"](e,et)),a[Re[t+"Key"]]=e;Re.addParent&&(a[Re.parentKey]=et),et[Re.elementsKey].push(a)}}function wx(t){if("attributesFn"in Re&&t&&(t=Re.attributesFn(t,et)),(Re.trim||"attributeValueFn"in Re||"attributeNameFn"in Re||Re.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(Re.trim&&(t[e]=t[e].trim()),Re.nativeTypeAttributes&&(t[e]=vx(t[e])),"attributeValueFn"in Re&&(t[e]=Re.attributeValueFn(t[e],e,et)),"attributeNameFn"in Re)){var r=t[e];delete t[e],t[Re.attributeNameFn(e,t[e],et)]=r}}return t}function GI(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||Re.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,o;(o=r.exec(t.body))!==null;)e[o[1]]=o[2]||o[3]||o[4];e=wx(e)}if(t.name.toLowerCase()==="xml"){if(Re.ignoreDeclaration)return;et[Re.declarationKey]={},Object.keys(e).length&&(et[Re.declarationKey][Re.attributesKey]=e),Re.addParent&&(et[Re.declarationKey][Re.parentKey]=et)}else{if(Re.ignoreInstruction)return;Re.trim&&(t.body=t.body.trim());var a={};Re.instructionHasAttributes&&Object.keys(e).length?(a[t.name]={},a[t.name][Re.attributesKey]=e):a[t.name]=t.body,Ba("instruction",a)}}function VI(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=wx(e),"elementNameFn"in Re&&(t=Re.elementNameFn(t,et)),Re.compact){if(r={},!Re.ignoreAttributes&&e&&Object.keys(e).length){r[Re.attributesKey]={};var o;for(o in e)e.hasOwnProperty(o)&&(r[Re.attributesKey][o]=e[o])}!(t in et)&&(rs(Re.alwaysArray)?Re.alwaysArray.indexOf(t)!==-1:Re.alwaysArray)&&(et[t]=[]),et[t]&&!rs(et[t])&&(et[t]=[et[t]]),rs(et[t])?et[t].push(r):et[t]=r}else et[Re.elementsKey]||(et[Re.elementsKey]=[]),r={},r[Re.typeKey]="element",r[Re.nameKey]=t,!Re.ignoreAttributes&&e&&Object.keys(e).length&&(r[Re.attributesKey]=e),Re.alwaysChildren&&(r[Re.elementsKey]=[]),et[Re.elementsKey].push(r);r[Re.parentKey]=et,et=r}function qI(t){Re.ignoreText||!t.trim()&&!Re.captureSpacesBetweenElements||(Re.trim&&(t=t.trim()),Re.nativeType&&(t=vx(t)),Re.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),Ba("text",t))}function HI(t){Re.ignoreComment||(Re.trim&&(t=t.trim()),Ba("comment",t))}function KI(t){var e=et[Re.parentKey];Re.addParent||delete et[Re.parentKey],et=e}function YI(t){Re.ignoreCdata||(Re.trim&&(t=t.trim()),Ba("cdata",t))}function $I(t){Re.ignoreDoctype||(t=t.replace(/^ /,""),Re.trim&&(t=t.trim()),Ba("doctype",t))}function JI(t){t.note=t}var xx=function(t,e){var r=FI.parser(!0,{}),o={};if(et=o,Re=zI(e),r.opt={strictEntities:!0},r.onopentag=VI,r.ontext=qI,r.oncomment=HI,r.onclosetag=KI,r.onerror=JI,r.oncdata=YI,r.ondoctype=$I,r.onprocessinginstruction=GI,r.write(t).close(),o[Re.elementsKey]){var a=o[Re.elementsKey];delete o[Re.elementsKey],o[Re.elementsKey]=a,delete o.text}return o},zv=Mh,WI=xx;function jI(t){var e=zv.copyOptions(t);return zv.ensureSpacesExists(e),e}var XI=function(t,e){var r,o,a,c;return r=jI(e),o=WI(t,r),c="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?a=JSON.stringify(o,function(d,h){return d===c?"_":h},r.spaces):a=JSON.stringify(o,null,r.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Nt=Mh,ZI=Rh.isArray,mn,gn;function QI(t){var e=Nt.copyOptions(t);return Nt.ensureFlagExists("ignoreDeclaration",e),Nt.ensureFlagExists("ignoreInstruction",e),Nt.ensureFlagExists("ignoreAttributes",e),Nt.ensureFlagExists("ignoreText",e),Nt.ensureFlagExists("ignoreComment",e),Nt.ensureFlagExists("ignoreCdata",e),Nt.ensureFlagExists("ignoreDoctype",e),Nt.ensureFlagExists("compact",e),Nt.ensureFlagExists("indentText",e),Nt.ensureFlagExists("indentCdata",e),Nt.ensureFlagExists("indentAttributes",e),Nt.ensureFlagExists("indentInstruction",e),Nt.ensureFlagExists("fullTagEmptyElement",e),Nt.ensureFlagExists("noQuotesForNativeAttributes",e),Nt.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),Nt.ensureKeyExists("declaration",e),Nt.ensureKeyExists("instruction",e),Nt.ensureKeyExists("attributes",e),Nt.ensureKeyExists("text",e),Nt.ensureKeyExists("comment",e),Nt.ensureKeyExists("cdata",e),Nt.ensureKeyExists("doctype",e),Nt.ensureKeyExists("type",e),Nt.ensureKeyExists("name",e),Nt.ensureKeyExists("elements",e),e}function wr(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function Lu(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,gn,mn));var o,a,c,d,h=[];for(o in t)t.hasOwnProperty(o)&&t[o]!==null&&t[o]!==void 0&&(d=e.noQuotesForNativeAttributes&&typeof t[o]!="string"?"":'"',a=""+t[o],a=a.replace(/"/g,"&quot;"),c="attributeNameFn"in e?e.attributeNameFn(o,a,gn,mn):o,h.push(e.spaces&&e.indentAttributes?wr(e,r+1,!1):" "),h.push(c+"="+d+("attributeValueFn"in e?e.attributeValueFn(a,o,gn,mn):a)+d));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&h.push(wr(e,r,!1)),h.join("")}function Tx(t,e,r){return mn=t,gn="xml",e.ignoreDeclaration?"":"<?xml"+Lu(t[e.attributesKey],e,r)+"?>"}function bx(t,e,r){if(e.ignoreInstruction)return"";var o;for(o in t)if(t.hasOwnProperty(o))break;var a="instructionNameFn"in e?e.instructionNameFn(o,t[o],gn,mn):o;if(typeof t[o]=="object")return mn=t,gn=a,"<?"+a+Lu(t[o][e.attributesKey],e,r)+"?>";var c=t[o]?t[o]:"";return"instructionFn"in e&&(c=e.instructionFn(c,o,gn,mn)),"<?"+a+(c?" "+c:"")+"?>"}function Sx(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,gn,mn):t)+"-->"}function Ex(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,gn,mn):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function _x(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,gn,mn):t)+">"}function Dh(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,gn,mn):t)}function ek(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function tk(t,e,r){mn=t,gn=t.name;var o=[],a="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;o.push("<"+a),t[e.attributesKey]&&o.push(Lu(t[e.attributesKey],e,r));var c=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return c||("fullTagEmptyElementFn"in e?c=e.fullTagEmptyElementFn(t.name,t):c=e.fullTagEmptyElement),c?(o.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(o.push(Cx(t[e.elementsKey],e,r+1)),mn=t,gn=t.name),o.push(e.spaces&&ek(t,e)?`
`+Array(r+1).join(e.spaces):""),o.push("</"+a+">")):o.push("/>"),o.join("")}function Cx(t,e,r,o){return t.reduce(function(a,c){var d=wr(e,r,o&&!a);switch(c.type){case"element":return a+d+tk(c,e,r);case"comment":return a+d+Sx(c[e.commentKey],e);case"doctype":return a+d+_x(c[e.doctypeKey],e);case"cdata":return a+(e.indentCdata?d:"")+Ex(c[e.cdataKey],e);case"text":return a+(e.indentText?d:"")+Dh(c[e.textKey],e);case"instruction":var h={};return h[c[e.nameKey]]=c[e.attributesKey]?c:c[e.instructionKey],a+(e.indentInstruction?d:"")+bx(h,e,r)}},"")}function Ax(t,e,r){var o;for(o in t)if(t.hasOwnProperty(o))switch(o){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function nk(t,e,r,o,a){mn=t,gn=e;var c="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var d=[];if(e){if(d.push("<"+c),typeof t!="object")return d.push(">"+Dh(t,r)+"</"+c+">"),d.join("");t[r.attributesKey]&&d.push(Lu(t[r.attributesKey],r,o));var h=Ax(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(h||("fullTagEmptyElementFn"in r?h=r.fullTagEmptyElementFn(e,t):h=r.fullTagEmptyElement),h)d.push(">");else return d.push("/>"),d.join("")}return d.push(Nx(t,r,o+1,!1)),mn=t,gn=e,e&&d.push((a?wr(r,o,!1):"")+"</"+c+">"),d.join("")}function Nx(t,e,r,o){var a,c,d,h=[];for(c in t)if(t.hasOwnProperty(c))for(d=ZI(t[c])?t[c]:[t[c]],a=0;a<d.length;++a){switch(c){case e.declarationKey:h.push(Tx(d[a],e,r));break;case e.instructionKey:h.push((e.indentInstruction?wr(e,r,o):"")+bx(d[a],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:h.push((e.indentText?wr(e,r,o):"")+Dh(d[a],e));break;case e.cdataKey:h.push((e.indentCdata?wr(e,r,o):"")+Ex(d[a],e));break;case e.doctypeKey:h.push(wr(e,r,o)+_x(d[a],e));break;case e.commentKey:h.push(wr(e,r,o)+Sx(d[a],e));break;default:h.push(wr(e,r,o)+nk(d[a],c,e,r,Ax(d[a],e)))}o=o&&!h.length}return h.join("")}var Rx=function(t,e){e=QI(e);var r=[];return mn=t,gn="_root_",e.compact?r.push(Nx(t,e,0,!0)):(t[e.declarationKey]&&r.push(Tx(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(Cx(t[e.elementsKey],e,0,!r.length))),r.join("")},rk=Rx,ik=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return rk(r,e)},ok=xx,sk=XI,ak=Rx,lk=ik,Mx={xml2js:ok,xml2json:sk,js2xml:ak,json2xml:lk};const Ih=t=>{switch(t.type){case void 0:case"element":const e=new ck(t.name,t.attributes),r=t.elements||[];for(const o of r){const a=Ih(o);a!==void 0&&e.push(a)}return e;case"text":return t.text;default:return}};class uk extends Ke{}class ck extends Ne{static fromXmlString(e){const r=Mx.xml2js(e,{compact:!1});return Ih(r)}constructor(e,r){super(e),r&&this.root.push(new uk(r))}push(e){this.root.push(e)}}class fk extends Ne{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class Dx extends Ne{constructor(e,r){super(e),r&&(this.root=r.root)}}const An=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Uu=t=>{const e=An(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},Ix=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},Gv=t=>Ix(t,1),kx=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},Lx=t=>{const e=kx(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},ls=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return Ix(e,3)},Xi=t=>typeof t=="string"?kx(t):An(t),dk=t=>typeof t=="string"?Lx(t):Uu(t),ir=t=>typeof t=="string"?Lx(t):Uu(t),hk=Uu,pk=Uu,mk=t=>t.toISOString();class Fe extends Ne{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new Kt({val:r}))}}class Od extends Ne{constructor(e,r){super(e),this.root.push(new Kt({val:dk(r)}))}}class is extends Ne{constructor(e,r){super(e),this.root.push(new Kt({val:r}))}}const Ra=(t,e)=>new yn({name:t,attributes:{value:{key:"w:val",value:e}}});class kh extends Ne{constructor(e,r){super(e),this.root.push(new Kt({val:r}))}}class $i extends Ne{constructor(e,r){super(e),this.root.push(r)}}class yn extends Ne{constructor({name:e,attributes:r,children:o}){super(e),r&&this.root.push(new ys(r)),o&&this.root.push(...o)}}const Cn={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class gk extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{val:"w:val"})}}class yk extends Ne{constructor(e){super("w:jc"),this.root.push(new gk({val:e}))}}class zt extends Ne{constructor(e,{color:r,size:o,space:a,style:c}){super(e),this.root.push(new vk({style:c,color:r===void 0?void 0:ls(r),size:o===void 0?void 0:hk(o),space:a===void 0?void 0:pk(a)}))}}class vk extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Lh={SINGLE:"single",NONE:"none"};class wk extends Du{constructor(e){super("w:pBdr"),e.top&&this.root.push(new zt("w:top",e.top)),e.bottom&&this.root.push(new zt("w:bottom",e.bottom)),e.left&&this.root.push(new zt("w:left",e.left)),e.right&&this.root.push(new zt("w:right",e.right))}}class xk extends Ne{constructor(){super("w:pBdr");const e=new zt("w:bottom",{color:"auto",space:1,style:Lh.SINGLE,size:6});this.root.push(e)}}class Tk extends Ne{constructor({start:e,end:r,left:o,right:a,hanging:c,firstLine:d}){super("w:ind"),this.root.push(new ys({start:{key:"w:start",value:e===void 0?void 0:Xi(e)},end:{key:"w:end",value:r===void 0?void 0:Xi(r)},left:{key:"w:left",value:o===void 0?void 0:Xi(o)},right:{key:"w:right",value:a===void 0?void 0:Xi(a)},hanging:{key:"w:hanging",value:c===void 0?void 0:ir(c)},firstLine:{key:"w:firstLine",value:d===void 0?void 0:ir(d)}}))}}let bk=class extends Ne{constructor(){super("w:br")}};const Uh={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Bh extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class ou extends Ne{constructor(e){super("w:fldChar"),this.root.push(new Bh({type:Uh.BEGIN,dirty:e}))}}class su extends Ne{constructor(e){super("w:fldChar"),this.root.push(new Bh({type:Uh.SEPARATE,dirty:e}))}}class au extends Ne{constructor(e){super("w:fldChar"),this.root.push(new Bh({type:Uh.END,dirty:e}))}}const us={DEFAULT:"default",PRESERVE:"preserve"};class cs extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{space:"xml:space"})}}class Sk extends Ne{constructor(){super("w:instrText"),this.root.push(new cs({space:us.PRESERVE})),this.root.push("PAGE")}}class Ek extends Ne{constructor(){super("w:instrText"),this.root.push(new cs({space:us.PRESERVE})),this.root.push("NUMPAGES")}}class _k extends Ne{constructor(){super("w:instrText"),this.root.push(new cs({space:us.PRESERVE})),this.root.push("SECTIONPAGES")}}class Ck extends Ne{constructor(){super("w:instrText"),this.root.push(new cs({space:us.PRESERVE})),this.root.push("SECTION")}}class Ak extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Ux extends Ne{constructor({fill:e,color:r,type:o}){super("w:shd"),this.root.push(new Ak({fill:e===void 0?void 0:ls(e),color:r===void 0?void 0:ls(r),type:o}))}}class Nk extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const Rk={DOT:"dot"};class Mk extends Ne{constructor(e){super("w:em"),this.root.push(new Kt({val:e}))}}class Dk extends Mk{constructor(e=Rk.DOT){super(e)}}class Ik extends Ne{constructor(e){super("w:spacing"),this.root.push(new Kt({val:Xi(e)}))}}class kk extends Ne{constructor(e){super("w:color"),this.root.push(new Kt({val:ls(e)}))}}class Lk extends Ne{constructor(e){super("w:highlight"),this.root.push(new Kt({val:e}))}}class Uk extends Ne{constructor(e){super("w:highlightCs"),this.root.push(new Kt({val:e}))}}const Bk=t=>new yn({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class Vv extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Fd extends Ne{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const o=e;this.root.push(new Vv({ascii:o,cs:o,eastAsia:o,hAnsi:o,hint:r}))}else{const o=e;this.root.push(new Vv(o))}}}let Bx=class extends Ne{constructor(e){super("w:vertAlign"),this.root.push(new Kt({val:e}))}};class Pk extends Bx{constructor(){super("superscript")}}class Ok extends Bx{constructor(){super("subscript")}}const Ph={SINGLE:"single"};class Fk extends Ne{constructor(e=Ph.SINGLE,r){super("w:u"),this.root.push(new Kt({val:e,color:r===void 0?void 0:ls(r)}))}}class no extends Du{constructor(e){var r,o;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Fe("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Fe("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Fe("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Fe("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Fe("w:iCs",(o=e.italicsComplexScript)!=null?o:e.italics)),e.underline&&this.push(new Fk(e.underline.type,e.underline.color)),e.effect&&this.push(new is("w:effect",e.effect)),e.emphasisMark&&this.push(new Dk(e.emphasisMark.type)),e.color&&this.push(new kk(e.color)),e.kern&&this.push(new Od("w:kern",e.kern)),e.position&&this.push(new is("w:position",e.position)),e.size!==void 0&&this.push(new Od("w:sz",e.size));const a=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;a&&this.push(new Od("w:szCs",a)),e.rightToLeft!==void 0&&this.push(new Fe("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Fe("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Fe("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Fe("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Fe("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new Ok),e.superScript&&this.push(new Pk),e.style&&this.push(new is("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Fd(e.font)):"name"in e.font?this.push(new Fd(e.font.name,e.font.hint)):this.push(new Fd(e.font))),e.highlight&&this.push(new Lk(e.highlight));const c=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;c&&this.push(new Uk(c)),e.characterSpacing&&this.push(new Ik(e.characterSpacing)),e.emboss!==void 0&&this.push(new Fe("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Fe("w:imprint",e.imprint)),e.shading&&this.push(new Ux(e.shading)),e.revision&&this.push(new zk(e.revision)),e.border&&this.push(new zt("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Fe("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Fe("w:vanish",e.vanish)),e.specVanish&&this.push(new Fe("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new kh("w:w",e.scale)),e.language&&this.push(Bk(e.language)),e.math&&this.push(new Fe("w:oMath",e.math))}push(e){this.root.push(e)}}class zk extends Ne{constructor(e){super("w:rPrChange"),this.root.push(new Nk({id:e.id,author:e.author,date:e.date})),this.addChildElement(new no(e))}}class lh extends Ne{constructor(e){var r;return super("w:t"),typeof e=="string"?(this.root.push(new cs({space:us.PRESERVE})),this.root.push(e),this):(this.root.push(new cs({space:(r=e.space)!=null?r:us.DEFAULT})),this.root.push(e.text),this)}}const lu={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Pa extends Ne{constructor(e){if(super("w:r"),Ae(this,"properties"),this.properties=new no(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new bk);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case lu.CURRENT:this.root.push(new ou),this.root.push(new Sk),this.root.push(new su),this.root.push(new au);break;case lu.TOTAL_PAGES:this.root.push(new ou),this.root.push(new Ek),this.root.push(new su),this.root.push(new au);break;case lu.TOTAL_PAGES_IN_SECTION:this.root.push(new ou),this.root.push(new _k),this.root.push(new su),this.root.push(new au);break;case lu.CURRENT_SECTION:this.root.push(new ou),this.root.push(new Ck),this.root.push(new su),this.root.push(new au);break;default:this.root.push(new lh(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new lh(e.text))}}class Wi extends Pa{constructor(e){if(typeof e=="string")return super({}),this.root.push(new lh(e)),this;super(e)}}let Gk="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Vk=(t,e=21)=>(r=e)=>{let o="",a=r;for(;a--;)o+=t[Math.random()*t.length|0];return o},qk=(t=21)=>{let e="",r=t;for(;r--;)e+=Gk[Math.random()*64|0];return e};const rr=t=>Math.floor(t*72*20),Bu=(t=0)=>{let e=t;return()=>++e},Hk=()=>Bu(),Kk=()=>Bu(1),Yk=()=>Bu(),$k=()=>Bu(),Px=()=>qk().toLowerCase(),Ma=t=>Vk("1234567890abcdef",t)(),Jk=()=>`${Ma(8)}-${Ma(4)}-${Ma(4)}-${Ma(4)}-${Ma(12)}`,Wk={PAGE:"page"},jk={PAGE:"page"};class Xk extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{x:"x",y:"y"})}}class Zk extends Ne{constructor(){super("wp:simplePos"),this.root.push(new Xk({x:0,y:0}))}}class Ox extends Ne{constructor(e){super("wp:align"),this.root.push(e)}}class Fx extends Ne{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class Qk extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class e4 extends Ne{constructor(e){if(super("wp:positionH"),this.root.push(new Qk({relativeFrom:e.relative||Wk.PAGE})),e.align)this.root.push(new Ox(e.align));else if(e.offset!==void 0)this.root.push(new Fx(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class t4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class n4 extends Ne{constructor(e){if(super("wp:positionV"),this.root.push(new t4({relativeFrom:e.relative||jk.PAGE})),e.align)this.root.push(new Ox(e.align));else if(e.offset!==void 0)this.root.push(new Fx(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class r4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{uri:"uri"})}}class i4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{embed:"r:embed",cstate:"cstate"})}}class o4 extends Ne{constructor(e){super("a:blip"),this.root.push(new i4({embed:`rId{${e.fileName}}`,cstate:"none"}))}}class s4 extends Ne{constructor(){super("a:srcRect")}}class a4 extends Ne{constructor(){super("a:fillRect")}}class l4 extends Ne{constructor(){super("a:stretch"),this.root.push(new a4)}}class u4 extends Ne{constructor(e){super("pic:blipFill"),this.root.push(new o4(e)),this.root.push(new s4),this.root.push(new l4)}}class c4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class f4 extends Ne{constructor(){super("a:picLocks"),this.root.push(new c4({noChangeAspect:1,noChangeArrowheads:1}))}}class d4 extends Ne{constructor(){super("pic:cNvPicPr"),this.root.push(new f4)}}const zx=(t,e)=>new yn({name:"a:hlinkClick",attributes:ss(dt({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class h4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class p4 extends Ne{constructor(){super("pic:cNvPr"),this.root.push(new h4({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof Oh){this.root.push(zx(o.linkId,!1));break}}return super.prepForXml(e)}}class m4 extends Ne{constructor(){super("pic:nvPicPr"),this.root.push(new p4),this.root.push(new d4)}}class g4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class y4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class v4 extends Ne{constructor(e,r){super("a:ext"),Ae(this,"attributes"),this.attributes=new y4({cx:e,cy:r}),this.root.push(this.attributes)}}class w4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{x:"x",y:"y"})}}class x4 extends Ne{constructor(){super("a:off"),this.root.push(new w4({x:0,y:0}))}}class T4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class b4 extends Ne{constructor(e){var r,o;super("a:xfrm"),Ae(this,"extents"),this.root.push(new T4({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(o=e.flip)==null?void 0:o.horizontal,rotation:e.rotation})),this.extents=new v4(e.emus.x,e.emus.y),this.root.push(new x4),this.root.push(this.extents)}}const Gx=()=>new yn({name:"a:noFill"}),S4=t=>new yn({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),E4=t=>new yn({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),qv=t=>new yn({name:"a:solidFill",children:[t.type==="rgb"?E4(t):S4(t)]}),_4=t=>new yn({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?Gx():t.solidFillType==="rgb"?qv({type:"rgb",value:t.value}):qv({type:"scheme",value:t.value})]});class C4 extends Ne{constructor(){super("a:avLst")}}class A4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{prst:"prst"})}}class N4 extends Ne{constructor(){super("a:prstGeom"),this.root.push(new A4({prst:"rect"})),this.root.push(new C4)}}class R4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{bwMode:"bwMode"})}}class M4 extends Ne{constructor({outline:e,transform:r}){super("pic:spPr"),Ae(this,"form"),this.root.push(new R4({bwMode:"auto"})),this.form=new b4(r),this.root.push(this.form),this.root.push(new N4),e&&(this.root.push(Gx()),this.root.push(_4(e)))}}class D4 extends Ne{constructor({mediaData:e,transform:r,outline:o}){super("pic:pic"),this.root.push(new g4({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new m4),this.root.push(new u4(e)),this.root.push(new M4({transform:r,outline:o}))}}class I4 extends Ne{constructor({mediaData:e,transform:r,outline:o}){super("a:graphicData"),Ae(this,"pic"),this.root.push(new r4({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new D4({mediaData:e,transform:r,outline:o}),this.root.push(this.pic)}}class k4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{a:"xmlns:a"})}}class Vx extends Ne{constructor({mediaData:e,transform:r,outline:o}){super("a:graphic"),Ae(this,"data"),this.root.push(new k4({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new I4({mediaData:e,transform:r,outline:o}),this.root.push(this.data)}}const uu={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},L4={BOTH_SIDES:"bothSides"};class Hv extends Ne{constructor(){super("wp:wrapNone")}}class U4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class B4 extends Ne{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new U4({wrapText:e.side||L4.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class P4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class O4 extends Ne{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new P4({distT:e.top,distB:e.bottom}))}}class F4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class z4 extends Ne{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new F4({distT:e.top,distB:e.bottom}))}}class qx extends Ne{constructor({name:e,description:r,title:o}={name:"",description:"",title:""}){super("wp:docPr"),Ae(this,"docPropertiesUniqueNumericId",Yk()),this.root.push(new ys({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:r},title:{key:"title",value:o}}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const o=e.stack[r];if(o instanceof Oh){this.root.push(zx(o.linkId,!0));break}}return super.prepForXml(e)}}const Hx=({top:t,right:e,bottom:r,left:o})=>new yn({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:o}}});class G4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Kx extends Ne{constructor(e,r){super("wp:extent"),Ae(this,"attributes"),this.attributes=new G4({cx:e,cy:r}),this.root.push(this.attributes)}}class V4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class q4 extends Ne{constructor(){super("a:graphicFrameLocks"),this.root.push(new V4({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class Yx extends Ne{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new q4)}}class H4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class K4 extends Ne{constructor({mediaData:e,transform:r,drawingOptions:o}){super("wp:anchor");const a=dt({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},o.floating);if(this.root.push(new H4({distT:a.margins&&a.margins.top||0,distB:a.margins&&a.margins.bottom||0,distL:a.margins&&a.margins.left||0,distR:a.margins&&a.margins.right||0,simplePos:"0",allowOverlap:a.allowOverlap===!0?"1":"0",behindDoc:a.behindDocument===!0?"1":"0",locked:a.lockAnchor===!0?"1":"0",layoutInCell:a.layoutInCell===!0?"1":"0",relativeHeight:a.zIndex?a.zIndex:r.emus.y})),this.root.push(new Zk),this.root.push(new e4(a.horizontalPosition)),this.root.push(new n4(a.verticalPosition)),this.root.push(new Kx(r.emus.x,r.emus.y)),this.root.push(Hx({top:0,right:0,bottom:0,left:0})),o.floating!==void 0&&o.floating.wrap!==void 0)switch(o.floating.wrap.type){case uu.SQUARE:this.root.push(new B4(o.floating.wrap,o.floating.margins));break;case uu.TIGHT:this.root.push(new O4(o.floating.margins));break;case uu.TOP_AND_BOTTOM:this.root.push(new z4(o.floating.margins));break;case uu.NONE:default:this.root.push(new Hv)}else this.root.push(new Hv);this.root.push(new qx(o.docProperties)),this.root.push(new Yx),this.root.push(new Vx({mediaData:e,transform:r,outline:o.outline}))}}const Y4=({mediaData:t,transform:e,docProperties:r,outline:o})=>{var a,c,d,h;return new yn({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new Kx(e.emus.x,e.emus.y),Hx(o?{top:((a=o.width)!=null?a:9525)*2,right:((c=o.width)!=null?c:9525)*2,bottom:((d=o.width)!=null?d:9525)*2,left:((h=o.width)!=null?h:9525)*2}:{top:0,right:0,bottom:0,left:0}),new qx(r),new Yx,new Vx({mediaData:t,transform:e,outline:o})]})};class $4 extends Ne{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new K4({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(Y4({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}class J4 extends Pa{constructor(e){super({}),Ae(this,"key",`${Px()}.png`),Ae(this,"imageData");const r=typeof e.data=="string"?this.convertDataURIToBinary(e.data):e.data;this.imageData={stream:r,fileName:this.key,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}};const o=new $4(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(o)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),super.prepForXml(e)}convertDataURIToBinary(e){if(typeof atob=="function"){const r=";base64,",o=e.indexOf(r),a=o===-1?0:o+r.length;return new Uint8Array(atob(e.substring(a)).split("").map(c=>c.charCodeAt(0)))}else{const r=require("buffer");return new r.Buffer(e,"base64")}}}class W4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class j4 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class X4 extends Ne{constructor({id:e,initials:r,author:o,date:a=new Date,children:c}){super("w:comment"),this.root.push(new W4({id:e,initials:r,author:o,date:a.toISOString()}));for(const d of c)this.root.push(d)}}class Z4 extends Ne{constructor({children:e}){super("w:comments"),this.root.push(new j4({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new X4(r))}}class Q4 extends Ne{constructor(){super("w:pageBreakBefore")}}const uh={AUTO:"auto"};class e6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class t6 extends Ne{constructor(e){super("w:spacing"),this.root.push(new e6(e))}}const Yo={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",TITLE:"Title"};let cu=class extends Ne{constructor(e){super("w:pStyle"),this.root.push(new Kt({val:e}))}};class n6 extends Ne{constructor(e){super("w:tabs");for(const r of e)this.root.push(new i6(r))}}const Kv={LEFT:"left",RIGHT:"right"};class r6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class i6 extends Ne{constructor({type:e,position:r,leader:o}){super("w:tab"),this.root.push(new r6({val:e,pos:r,leader:o}))}}class Yv extends Ne{constructor(e,r){super("w:numPr"),this.root.push(new o6(r)),this.root.push(new s6(e))}}class o6 extends Ne{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Kt({val:e}))}}class s6 extends Ne{constructor(e){super("w:numId"),this.root.push(new Kt({val:typeof e=="string"?`{${e}}`:e}))}}class a6 extends Ne{constructor(){super(...arguments),Ae(this,"fileChild",Symbol())}}class l6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const u6={EXTERNAL:"External"};class c6 extends Ne{constructor(e,r,o,a){super("Relationship"),this.root.push(new l6({id:e,type:r,target:o,targetMode:a}))}}class f6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Oh extends Ne{constructor(e,r,o){super("w:hyperlink"),Ae(this,"linkId"),this.linkId=r;const a={history:1,anchor:o||void 0,id:o?void 0:`rId${this.linkId}`},c=new f6(a);this.root.push(c),e.forEach(d=>{this.root.push(d)})}}class d6 extends Ne{constructor(e){super("w:externalHyperlink"),this.options=e}}class h6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class p6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{id:"w:id"})}}class m6{constructor(e){Ae(this,"bookmarkUniqueNumericId",$k()),Ae(this,"start"),Ae(this,"children"),Ae(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new g6(e.id,r),this.children=e.children,this.end=new y6(r)}}class g6 extends Ne{constructor(e,r){super("w:bookmarkStart");const o=new h6({name:e,id:r});this.root.push(o)}}class y6 extends Ne{constructor(e){super("w:bookmarkEnd");const r=new p6({id:e});this.root.push(r)}}class v6 extends Ne{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Kt({val:e}))}}class w6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{verticalAlign:"w:val"})}}class x6 extends Ne{constructor(e){super("w:vAlign"),this.root.push(new w6({verticalAlign:e}))}}const os={DEFAULT:"default",FIRST:"first",EVEN:"even"};class T6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const $v={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class zd extends Ne{constructor(e,r){super(e),this.root.push(new T6({type:r.type||os.DEFAULT,id:`rId${r.id}`}))}}class b6 extends Ne{constructor({space:e,count:r,separate:o,equalWidth:a,children:c}){super("w:cols"),this.root.push(new ys({space:{key:"w:space",value:e===void 0?void 0:ir(e)},count:{key:"w:num",value:r===void 0?void 0:An(r)},separate:{key:"w:sep",value:o},equalWidth:{key:"w:equalWidth",value:a}})),!a&&c&&c.forEach(d=>this.addChildElement(d))}}class S6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class E6 extends Ne{constructor(e,r,o){super("w:docGrid"),this.root.push(new S6({type:o,linePitch:An(e),charSpace:r?An(r):void 0}))}}const _6=({countBy:t,start:e,restart:r,distance:o})=>new yn({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:An(t)},start:{key:"w:start",value:e===void 0?void 0:An(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:o===void 0?void 0:ir(o)}}});class Jv extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class C6 extends Du{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new Jv({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new Jv({})),e.pageBorderTop&&this.root.push(new zt("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new zt("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new zt("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new zt("w:right",e.pageBorderRight))}}class A6 extends Ne{constructor(e,r,o,a,c,d,h){super("w:pgMar"),this.root.push(new ys({top:{key:"w:top",value:Xi(e)},right:{key:"w:right",value:ir(r)},bottom:{key:"w:bottom",value:Xi(o)},left:{key:"w:left",value:ir(a)},header:{key:"w:header",value:ir(c)},footer:{key:"w:footer",value:ir(d)},gutter:{key:"w:gutter",value:ir(h)}}))}}class N6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class R6 extends Ne{constructor({start:e,formatType:r,separator:o}){super("w:pgNumType"),this.root.push(new N6({start:e===void 0?void 0:An(e),formatType:r,separator:o}))}}const $x={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class M6 extends Ne{constructor(e,r,o){super("w:pgSz");const a=o===$x.LANDSCAPE,c=ir(e),d=ir(r);this.root.push(new ys({width:{key:"w:w",value:a?d:c},height:{key:"w:h",value:a?c:d},orientation:{key:"w:orient",value:o}}))}}class D6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{val:"w:val"})}}class I6 extends Ne{constructor(e){super("w:textDirection"),this.root.push(new D6({val:e}))}}class k6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{val:"w:val"})}}class L6 extends Ne{constructor(e){super("w:type"),this.root.push(new k6({val:e}))}}const Ji={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Gd={WIDTH:11906,HEIGHT:16838,ORIENTATION:$x.PORTRAIT};class U6 extends Ne{constructor({page:{size:{width:e=Gd.WIDTH,height:r=Gd.HEIGHT,orientation:o=Gd.ORIENTATION}={},margin:{top:a=Ji.TOP,right:c=Ji.RIGHT,bottom:d=Ji.BOTTOM,left:h=Ji.LEFT,header:p=Ji.HEADER,footer:m=Ji.FOOTER,gutter:y=Ji.GUTTER}={},pageNumbers:x={},borders:S,textDirection:E}={},grid:{linePitch:D=360,charSpace:_,type:L}={},headerWrapperGroup:N={},footerWrapperGroup:I={},lineNumbers:O,titlePage:H,verticalAlign:q,column:ce,type:oe}={}){super("w:sectPr"),this.addHeaderFooterGroup($v.HEADER,N),this.addHeaderFooterGroup($v.FOOTER,I),oe&&this.root.push(new L6(oe)),this.root.push(new M6(e,r,o)),this.root.push(new A6(a,c,d,h,p,m,y)),S&&this.root.push(new C6(S)),O&&this.root.push(_6(O)),this.root.push(new R6(x)),ce&&this.root.push(new b6(ce)),q&&this.root.push(new x6(q)),H!==void 0&&this.root.push(new Fe("w:titlePg",H)),E&&this.root.push(new I6(E)),this.root.push(new E6(D,_,L))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new zd(e,{type:os.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new zd(e,{type:os.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new zd(e,{type:os.EVEN,id:r.even.View.ReferenceId}))}}class B6 extends Ne{constructor(){super("w:body"),Ae(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new U6(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new hn({}),o=new fs({});return o.push(e),r.addChildElement(o),r}}class Oa extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class P6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class O6 extends Ne{constructor(e){super("w:background"),this.root.push(new P6({color:e.color===void 0?void 0:ls(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:Gv(e.themeShade),themeTint:e.themeTint===void 0?void 0:Gv(e.themeTint)}))}}class F6 extends Ne{constructor(e){super("w:document"),Ae(this,"body"),this.root.push(new Oa({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new B6,e.background&&this.root.push(new O6(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class z6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{xmlns:"xmlns"})}}class xs extends Ne{constructor(){super("Relationships"),this.root.push(new z6({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,o,a){const c=new c6(`rId${e}`,r,o,a);return this.root.push(c),c}get RelationshipCount(){return this.root.length-1}}class Jx{constructor(e){Ae(this,"document"),Ae(this,"relationships"),this.document=new F6(e),this.relationships=new xs}get View(){return this.document}get Relationships(){return this.relationships}}class G6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{val:"w:val"})}}class V6 extends Ne{constructor(){super("w:wordWrap"),this.root.push(new G6({val:0}))}}const q6=t=>{var e,r;return new yn({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class fs extends Du{constructor(e){var r,o;if(super("w:pPr"),Ae(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new cu(e.heading)),e.bullet&&this.push(new cu("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new cu("ListParagraph"))),e.style&&this.push(new cu(e.style)),e.keepNext!==void 0&&this.push(new Fe("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Fe("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new Q4),e.frame&&this.push(q6(e.frame)),e.widowControl!==void 0&&this.push(new Fe("w:widowControl",e.widowControl)),e.bullet&&this.push(new Yv(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Yv(`${e.numbering.reference}-${(o=e.numbering.instance)!=null?o:0}`,e.numbering.level))),e.border&&this.push(new wk(e.border)),e.thematicBreak&&this.push(new xk),e.shading&&this.push(new Ux(e.shading)),e.wordWrap&&this.push(new V6),e.overflowPunctuation&&this.push(new Fe("w:overflowPunct",e.overflowPunctuation));const a=[...e.rightTabStop!==void 0?[{type:Kv.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:Kv.LEFT,position:e.leftTabStop}]:[]];a.length>0&&this.push(new n6(a)),e.bidirectional!==void 0&&this.push(new Fe("w:bidi",e.bidirectional)),e.spacing&&this.push(new t6(e.spacing)),e.indent&&this.push(new Tk(e.indent)),e.contextualSpacing!==void 0&&this.push(new Fe("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new yk(e.alignment)),e.outlineLevel!==void 0&&this.push(new v6(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Fe("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Fe("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new no(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Jx)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class hn extends a6{constructor(e){if(super("w:p"),Ae(this,"properties"),typeof e=="string")return this.properties=new fs({}),this.root.push(this.properties),this.root.push(new Wi(e)),this;if(this.properties=new fs(e),this.root.push(this.properties),e.text&&this.root.push(new Wi(e.text)),e.children)for(const r of e.children){if(r instanceof m6){this.root.push(r.start);for(const o of r.children)this.root.push(o);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof d6){const o=this.root.indexOf(r),a=new Oh(r.options.children,Px());e.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,u6.EXTERNAL),this.root[o]=a}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const $o={style:Lh.NONE,size:0,color:"auto"},Jo={style:Lh.SINGLE,size:4,color:"auto"};class H6 extends Ne{constructor(e){super("w:tblBorders"),e.top?this.root.push(new zt("w:top",e.top)):this.root.push(new zt("w:top",Jo)),e.left?this.root.push(new zt("w:left",e.left)):this.root.push(new zt("w:left",Jo)),e.bottom?this.root.push(new zt("w:bottom",e.bottom)):this.root.push(new zt("w:bottom",Jo)),e.right?this.root.push(new zt("w:right",e.right)):this.root.push(new zt("w:right",Jo)),e.insideHorizontal?this.root.push(new zt("w:insideH",e.insideHorizontal)):this.root.push(new zt("w:insideH",Jo)),e.insideVertical?this.root.push(new zt("w:insideV",e.insideVertical)):this.root.push(new zt("w:insideV",Jo))}}Ae(H6,"NONE",{top:$o,bottom:$o,left:$o,right:$o,insideHorizontal:$o,insideVertical:$o});class K6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Y6 extends Ne{constructor(){super("Properties"),this.root.push(new K6({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class $6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{xmlns:"xmlns"})}}class J6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class xi extends Ne{constructor(e,r){super("Default"),this.root.push(new J6({contentType:e,extension:r}))}}class W6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Yn extends Ne{constructor(e,r){super("Override"),this.root.push(new W6({contentType:e,partName:r}))}}class j6 extends Ne{constructor(){super("Types"),this.root.push(new $6({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new xi("image/png","png")),this.root.push(new xi("image/jpeg","jpeg")),this.root.push(new xi("image/jpeg","jpg")),this.root.push(new xi("image/bmp","bmp")),this.root.push(new xi("image/gif","gif")),this.root.push(new xi("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new xi("application/xml","xml")),this.root.push(new xi("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Yn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Yn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class X6 extends Ne{constructor(e){super("cp:coreProperties"),this.root.push(new Oa({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new $i("dc:title",e.title)),e.subject&&this.root.push(new $i("dc:subject",e.subject)),e.creator&&this.root.push(new $i("dc:creator",e.creator)),e.keywords&&this.root.push(new $i("cp:keywords",e.keywords)),e.description&&this.root.push(new $i("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new $i("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new $i("cp:revision",String(e.revision))),this.root.push(new Wv("dcterms:created")),this.root.push(new Wv("dcterms:modified"))}}class Wv extends Ne{constructor(e){super(e),this.root.push(new Oa({type:"dcterms:W3CDTF"})),this.root.push(mk(new Date))}}class Z6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Q6 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class e3 extends Ne{constructor(e,r){super("property"),this.root.push(new Q6({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new t3(r.value))}}class t3 extends Ne{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class n3 extends Ne{constructor(e){super("Properties"),Ae(this,"nextId"),Ae(this,"properties",[]),this.root.push(new Z6({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new e3(this.nextId++,e))}}class r3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let i3=class extends Dx{constructor(e,r){super("w:ftr",r),Ae(this,"refId"),this.refId=e,r||this.root.push(new r3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class o3{constructor(e,r,o){Ae(this,"footer"),Ae(this,"relationships"),this.media=e,this.footer=new i3(r,o),this.relationships=new xs}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class s3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class a3 extends Ne{constructor(){super("w:footnoteRef")}}class l3 extends Pa{constructor(){super({style:"FootnoteReference"}),this.root.push(new a3)}}const jv={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Vd extends Ne{constructor(e){super("w:footnote"),this.root.push(new s3({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const o=e.children[r];r===0&&o.addRunToFront(new l3),this.root.push(o)}}}class u3 extends Ne{constructor(){super("w:continuationSeparator")}}class c3 extends Pa{constructor(){super({}),this.root.push(new u3)}}class f3 extends Ne{constructor(){super("w:separator")}}class d3 extends Pa{constructor(){super({}),this.root.push(new f3)}}class h3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class p3 extends Ne{constructor(){super("w:footnotes"),this.root.push(new h3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Vd({id:-1,type:jv.SEPERATOR,children:[new hn({spacing:{after:0,line:240,lineRule:uh.AUTO},children:[new d3]})]});this.root.push(e);const r=new Vd({id:0,type:jv.CONTINUATION_SEPERATOR,children:[new hn({spacing:{after:0,line:240,lineRule:uh.AUTO},children:[new c3]})]});this.root.push(r)}createFootNote(e,r){const o=new Vd({id:e,children:r});this.root.push(o)}}class m3{constructor(){Ae(this,"footnotess"),Ae(this,"relationships"),this.footnotess=new p3,this.relationships=new xs}get View(){return this.footnotess}get Relationships(){return this.relationships}}class g3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let y3=class extends Dx{constructor(e,r){super("w:hdr",r),Ae(this,"refId"),this.refId=e,r||this.root.push(new g3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class v3{constructor(e,r,o){Ae(this,"header"),Ae(this,"relationships"),this.media=e,this.header=new y3(r,o),this.relationships=new xs}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class w3{constructor(){Ae(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Gr={BULLET:"bullet"};class x3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class T3 extends Ne{constructor(e){super("w:numFmt"),this.root.push(new Kt({val:e}))}}class b3 extends Ne{constructor(e){super("w:lvlText"),this.root.push(new Kt({val:e}))}}class S3 extends Ne{constructor(e){super("w:lvlJc"),this.root.push(new Kt({val:e}))}}class E3 extends Ne{constructor(e){super("w:suff"),this.root.push(new Kt({val:e}))}}class _3 extends Ne{constructor(){super("w:isLgl")}}class C3 extends Ne{constructor({level:e,format:r,text:o,alignment:a=Cn.START,start:c=1,style:d,suffix:h,isLegalNumberingStyle:p}){if(super("w:lvl"),Ae(this,"paragraphProperties"),Ae(this,"runProperties"),this.root.push(new kh("w:start",An(c))),r&&this.root.push(new T3(r)),h&&this.root.push(new E3(h)),p&&this.root.push(new _3),o&&this.root.push(new b3(o)),this.root.push(new S3(a)),this.paragraphProperties=new fs(d&&d.paragraph),this.runProperties=new no(d&&d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new x3({ilvl:An(e),tentative:1}))}}class A3 extends C3{}class N3 extends Ne{constructor(e){super("w:multiLevelType"),this.root.push(new Kt({val:e}))}}class R3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class Xv extends Ne{constructor(e,r){super("w:abstractNum"),Ae(this,"id"),this.root.push(new R3({abstractNumId:An(e),restartNumberingAfterBreak:0})),this.root.push(new N3("hybridMultilevel")),this.id=e;for(const o of r)this.root.push(new A3(o))}}class M3 extends Ne{constructor(e){super("w:abstractNumId"),this.root.push(new Kt({val:e}))}}class D3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{numId:"w:numId"})}}class Zv extends Ne{constructor(e){if(super("w:num"),Ae(this,"numId"),Ae(this,"reference"),Ae(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new D3({numId:An(e.numId)})),this.root.push(new M3(An(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new k3(r.num,r.start))}}class I3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{ilvl:"w:ilvl"})}}class k3 extends Ne{constructor(e,r){super("w:lvlOverride"),this.root.push(new I3({ilvl:e})),r!==void 0&&this.root.push(new U3(r))}}class L3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{val:"w:val"})}}class U3 extends Ne{constructor(e){super("w:startOverride"),this.root.push(new L3({val:e}))}}class B3 extends Ne{constructor(e){super("w:numbering"),Ae(this,"abstractNumberingMap",new Map),Ae(this,"concreteNumberingMap",new Map),Ae(this,"referenceConfigMap",new Map),Ae(this,"abstractNumUniqueNumericId",Hk()),Ae(this,"concreteNumUniqueNumericId",Kk()),this.root.push(new Oa({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new Xv(this.abstractNumUniqueNumericId(),[{level:0,format:Gr.BULLET,text:"●",alignment:Cn.LEFT,style:{paragraph:{indent:{left:rr(.5),hanging:rr(.25)}}}},{level:1,format:Gr.BULLET,text:"○",alignment:Cn.LEFT,style:{paragraph:{indent:{left:rr(1),hanging:rr(.25)}}}},{level:2,format:Gr.BULLET,text:"■",alignment:Cn.LEFT,style:{paragraph:{indent:{left:2160,hanging:rr(.25)}}}},{level:3,format:Gr.BULLET,text:"●",alignment:Cn.LEFT,style:{paragraph:{indent:{left:2880,hanging:rr(.25)}}}},{level:4,format:Gr.BULLET,text:"○",alignment:Cn.LEFT,style:{paragraph:{indent:{left:3600,hanging:rr(.25)}}}},{level:5,format:Gr.BULLET,text:"■",alignment:Cn.LEFT,style:{paragraph:{indent:{left:4320,hanging:rr(.25)}}}},{level:6,format:Gr.BULLET,text:"●",alignment:Cn.LEFT,style:{paragraph:{indent:{left:5040,hanging:rr(.25)}}}},{level:7,format:Gr.BULLET,text:"●",alignment:Cn.LEFT,style:{paragraph:{indent:{left:5760,hanging:rr(.25)}}}},{level:8,format:Gr.BULLET,text:"●",alignment:Cn.LEFT,style:{paragraph:{indent:{left:6480,hanging:rr(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Zv({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const o of e.config)this.abstractNumberingMap.set(o.reference,new Xv(this.abstractNumUniqueNumericId(),o.levels)),this.referenceConfigMap.set(o.reference,o.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const o=this.abstractNumberingMap.get(e);if(!o)return;const a=`${e}-${r}`;if(this.concreteNumberingMap.has(a))return;const c=this.referenceConfigMap.get(e),d=c&&c[0].start,h={numId:this.concreteNumUniqueNumericId(),abstractNumId:o.id,reference:e,instance:r,overrideLevels:[d&&Number.isInteger(d)?{num:0,start:d}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new Zv(h))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class P3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class O3 extends Ne{constructor(e){super("w:compatSetting"),this.root.push(new P3({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class F3 extends Ne{constructor(e){super("w:compat"),e.version&&this.root.push(new O3(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Fe("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Fe("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Fe("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Fe("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Fe("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Fe("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Fe("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Fe("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Fe("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Fe("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Fe("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Fe("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Fe("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Fe("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Fe("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Fe("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Fe("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Fe("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Fe("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Fe("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Fe("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Fe("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Fe("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Fe("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Fe("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Fe("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Fe("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Fe("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Fe("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Fe("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Fe("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Fe("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Fe("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Fe("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Fe("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Fe("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Fe("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Fe("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Fe("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Fe("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Fe("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Fe("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Fe("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Fe("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Fe("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Fe("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Fe("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Fe("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Fe("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Fe("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Fe("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Fe("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Fe("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Fe("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Fe("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Fe("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Fe("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Fe("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Fe("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Fe("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Fe("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Fe("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Fe("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Fe("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Fe("w:cachedColBalance",e.cachedColumnBalance))}}class z3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class G3 extends Ne{constructor(e){var r,o,a,c;super("w:settings"),this.root.push(new z3({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Fe("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Fe("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Fe("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Fe("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new kh("w:defaultTabStop",e.defaultTabStop)),this.root.push(new F3(ss(dt({},(r=e.compatibility)!=null?r:{}),{version:(c=(a=(o=e.compatibility)==null?void 0:o.version)!=null?a:e.compatibilityModeVersion)!=null?c:15})))}}class Wx extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{val:"w:val"})}}class V3 extends Ne{constructor(e){super("w:name"),this.root.push(new Wx({val:e}))}}class q3 extends Ne{constructor(e){super("w:uiPriority"),this.root.push(new Wx({val:An(e)}))}}class H3 extends Ke{constructor(){super(...arguments),Ae(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class jx extends Ne{constructor(e,r){super("w:style"),this.root.push(new H3(e)),r.name&&this.root.push(new V3(r.name)),r.basedOn&&this.root.push(new is("w:basedOn",r.basedOn)),r.next&&this.root.push(new is("w:next",r.next)),r.link&&this.root.push(new is("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new q3(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Fe("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Fe("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Fe("w:qFormat",r.quickFormat))}}class Pu extends jx{constructor(e){super({type:"paragraph",styleId:e.id},e),Ae(this,"paragraphProperties"),Ae(this,"runProperties"),this.paragraphProperties=new fs(e.paragraph),this.runProperties=new no(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Ou extends jx{constructor(e){super({type:"character",styleId:e.id},dt({uiPriority:99,unhideWhenUsed:!0},e)),Ae(this,"runProperties"),this.runProperties=new no(e.run),this.root.push(this.runProperties)}}class Ti extends Pu{constructor(e){super(dt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class K3 extends Ti{constructor(e){super(dt({id:"Title",name:"Title"},e))}}class Y3 extends Ti{constructor(e){super(dt({id:"Heading1",name:"Heading 1"},e))}}class $3 extends Ti{constructor(e){super(dt({id:"Heading2",name:"Heading 2"},e))}}class J3 extends Ti{constructor(e){super(dt({id:"Heading3",name:"Heading 3"},e))}}class W3 extends Ti{constructor(e){super(dt({id:"Heading4",name:"Heading 4"},e))}}class j3 extends Ti{constructor(e){super(dt({id:"Heading5",name:"Heading 5"},e))}}class X3 extends Ti{constructor(e){super(dt({id:"Heading6",name:"Heading 6"},e))}}class Z3 extends Ti{constructor(e){super(dt({id:"Strong",name:"Strong"},e))}}class Q3 extends Pu{constructor(e){super(dt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class eL extends Pu{constructor(e){super(dt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:uh.AUTO}},run:{size:20}},e))}}class tL extends Ou{constructor(e){super(dt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class nL extends Ou{constructor(e){super(dt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class rL extends Ou{constructor(e){super(dt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Ph.SINGLE}}},e))}}class ch extends Ne{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new Pu(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new Ou(r))}}class iL extends Ne{constructor(e){super("w:pPrDefault"),this.root.push(new fs(e))}}class oL extends Ne{constructor(e){super("w:rPrDefault"),this.root.push(new no(e))}}class sL extends Ne{constructor(e){super("w:docDefaults"),Ae(this,"runPropertiesDefaults"),Ae(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new oL(e.run),this.paragraphPropertiesDefaults=new iL(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class aL{newInstance(e){const r=Mx.xml2js(e,{compact:!1});let o;for(const d of r.elements||[])d.name==="w:styles"&&(o=d);if(o===void 0)throw new Error("can not find styles element");const a=o.elements||[];return new ch({initialStyles:new fk(o.attributes),importedStyles:a.map(d=>Ih(d))})}}class Qv{newInstance(e={}){var r;return{initialStyles:new Oa({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new sL((r=e.document)!=null?r:{}),new K3(dt({run:{size:56}},e.title)),new Y3(dt({run:{color:"2E74B5",size:32}},e.heading1)),new $3(dt({run:{color:"2E74B5",size:26}},e.heading2)),new J3(dt({run:{color:"1F4D78",size:24}},e.heading3)),new W3(dt({run:{color:"2E74B5",italics:!0}},e.heading4)),new j3(dt({run:{color:"2E74B5"}},e.heading5)),new X3(dt({run:{color:"1F4D78"}},e.heading6)),new Z3(dt({run:{bold:!0}},e.strong)),new Q3(e.listParagraph||{}),new rL(e.hyperlink||{}),new tL(e.footnoteReference||{}),new eL(e.footnoteText||{}),new nL(e.footnoteTextChar||{})]}}}const fu=({id:t,fontKey:e,subsetted:r},o)=>new yn({name:o,attributes:dt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Fe("w:subsetted",r)]:[]]}),lL=({name:t,altName:e,panose1:r,charset:o,family:a,notTrueType:c,pitch:d,sig:h,embedRegular:p,embedBold:m,embedItalic:y,embedBoldItalic:x})=>new yn({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Ra("w:altName",e)]:[],...r?[Ra("w:panose1",r)]:[],...o?[Ra("w:charset",o)]:[],Ra("w:family",a),...c?[new Fe("w:notTrueType",c)]:[],Ra("w:pitch",d),...h?[new yn({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:h.usb0},usb1:{key:"w:usb1",value:h.usb1},usb2:{key:"w:usb2",value:h.usb2},usb3:{key:"w:usb3",value:h.usb3},csb0:{key:"w:csb0",value:h.csb0},csb1:{key:"w:csb1",value:h.csb1}}})]:[],...p?[fu(p,"w:embedRegular")]:[],...m?[fu(m,"w:embedBold")]:[],...y?[fu(y,"w:embedItalic")]:[],...x?[fu(x,"w:embedBoldItalic")]:[]]}),uL=({name:t,index:e,fontKey:r,characterSet:o})=>lL({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),cL=t=>new yn({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>uL({name:e.name,index:r+1,fontKey:e.fontKey}))});class fL{constructor(e){Ae(this,"fontTable"),Ae(this,"relationships"),Ae(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>ss(dt({},r),{fontKey:Jk()})),this.fontTable=cL(this.fontOptionsWithKey),this.relationships=new xs;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}let dL=class{constructor(e){Ae(this,"currentRelationshipId",1),Ae(this,"documentWrapper"),Ae(this,"headers",[]),Ae(this,"footers",[]),Ae(this,"coreProperties"),Ae(this,"numbering"),Ae(this,"media"),Ae(this,"fileRelationships"),Ae(this,"footnotesWrapper"),Ae(this,"settings"),Ae(this,"contentTypes"),Ae(this,"customProperties"),Ae(this,"appProperties"),Ae(this,"styles"),Ae(this,"comments"),Ae(this,"fontWrapper");var r,o,a,c,d,h,p,m;if(this.coreProperties=new X6(ss(dt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(o=e.revision)!=null?o:1,lastModifiedBy:(a=e.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new B3(e.numbering?e.numbering:{config:[]}),this.comments=new Z4((c=e.comments)!=null?c:{children:[]}),this.fileRelationships=new xs,this.customProperties=new n3((d=e.customProperties)!=null?d:[]),this.appProperties=new Y6,this.footnotesWrapper=new m3,this.contentTypes=new j6,this.documentWrapper=new Jx({background:e.background}),this.settings=new G3({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(h=e.features)==null?void 0:h.trackRevisions,updateFields:(p=e.features)==null?void 0:p.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new w3,e.externalStyles){const y=new aL;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const x=new Qv().newInstance(e.styles.default);this.styles=new ch(dt(dt({},x),e.styles))}else{const y=new Qv;this.styles=new ch(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new fL((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:r={},children:o,properties:a}){this.documentWrapper.View.Body.addSection(ss(dt({},a),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const c of o)this.documentWrapper.View.add(c)}createHeader(e){const r=new v3(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addHeaderToDocument(r),r}createFooter(e){const r=new o3(this.media,this.currentRelationshipId++);for(const o of e.options.children)r.add(o);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=os.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=os.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};function du(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xx={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return(function r(o,a,c){function d(m,y){if(!a[m]){if(!o[m]){var x=typeof du=="function"&&du;if(!y&&x)return x(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var E=a[m]={exports:{}};o[m][0].call(E.exports,function(D){var _=o[m][1][D];return d(_||D)},E,E.exports,r,o,a,c)}return a[m].exports}for(var h=typeof du=="function"&&du,p=0;p<c.length;p++)d(c[p]);return d})({1:[function(r,o,a){var c=r("./utils"),d=r("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(p){for(var m,y,x,S,E,D,_,L=[],N=0,I=p.length,O=I,H=c.getTypeOf(p)!=="string";N<p.length;)O=I-N,x=H?(m=p[N++],y=N<I?p[N++]:0,N<I?p[N++]:0):(m=p.charCodeAt(N++),y=N<I?p.charCodeAt(N++):0,N<I?p.charCodeAt(N++):0),S=m>>2,E=(3&m)<<4|y>>4,D=1<O?(15&y)<<2|x>>6:64,_=2<O?63&x:64,L.push(h.charAt(S)+h.charAt(E)+h.charAt(D)+h.charAt(_));return L.join("")},a.decode=function(p){var m,y,x,S,E,D,_=0,L=0,N="data:";if(p.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");var I,O=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&O--,p.charAt(p.length-2)===h.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=d.uint8array?new Uint8Array(0|O):new Array(0|O);_<p.length;)m=h.indexOf(p.charAt(_++))<<2|(S=h.indexOf(p.charAt(_++)))>>4,y=(15&S)<<4|(E=h.indexOf(p.charAt(_++)))>>2,x=(3&E)<<6|(D=h.indexOf(p.charAt(_++))),I[L++]=m,E!==64&&(I[L++]=y),D!==64&&(I[L++]=x);return I}},{"./support":30,"./utils":32}],2:[function(r,o,a){var c=r("./external"),d=r("./stream/DataWorker"),h=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function m(y,x,S,E,D){this.compressedSize=y,this.uncompressedSize=x,this.crc32=S,this.compression=E,this.compressedContent=D}m.prototype={getContentWorker:function(){var y=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),x=this;return y.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,x,S){return y.pipe(new h).pipe(new p("uncompressedSize")).pipe(x.compressWorker(S)).pipe(new p("compressedSize")).withStreamInfo("compression",x)},o.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,a){var c=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,a){var c=r("./utils"),d=(function(){for(var h,p=[],m=0;m<256;m++){h=m;for(var y=0;y<8;y++)h=1&h?3988292384^h>>>1:h>>>1;p[m]=h}return p})();o.exports=function(h,p){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,y,x,S){var E=d,D=S+x;m^=-1;for(var _=S;_<D;_++)m=m>>>8^E[255&(m^y[_])];return-1^m})(0|p,h,h.length,0):(function(m,y,x,S){var E=d,D=S+x;m^=-1;for(var _=S;_<D;_++)m=m>>>8^E[255&(m^y.charCodeAt(_))];return-1^m})(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(r,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,o,a){var c=null;c=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:c}},{lie:37}],7:[function(r,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=r("pako"),h=r("./utils"),p=r("./stream/GenericWorker"),m=c?"uint8array":"array";function y(x,S){p.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=S,this.meta={}}a.magic="\b\0",h.inherits(y,p),y.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,x.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(S){x.push({data:S,meta:x.meta})}},a.compressWorker=function(x){return new y("Deflate",x)},a.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,a){function c(E,D){var _,L="";for(_=0;_<D;_++)L+=String.fromCharCode(255&E),E>>>=8;return L}function d(E,D,_,L,N,I){var O,H,q=E.file,ce=E.compression,oe=I!==m.utf8encode,me=h.transformTo("string",I(q.name)),U=h.transformTo("string",m.utf8encode(q.name)),ae=q.comment,de=h.transformTo("string",I(ae)),Y=h.transformTo("string",m.utf8encode(ae)),fe=U.length!==q.name.length,B=Y.length!==ae.length,le="",se="",ne="",Me=q.dir,ye=q.date,j={crc32:0,compressedSize:0,uncompressedSize:0};D&&!_||(j.crc32=E.crc32,j.compressedSize=E.compressedSize,j.uncompressedSize=E.uncompressedSize);var W=0;D&&(W|=8),oe||!fe&&!B||(W|=2048);var F=0,Q=0;Me&&(F|=16),N==="UNIX"?(Q=798,F|=(function(pe,te){var k=pe;return pe||(k=te?16893:33204),(65535&k)<<16})(q.unixPermissions,Me)):(Q=20,F|=(function(pe){return 63&(pe||0)})(q.dosPermissions)),O=ye.getUTCHours(),O<<=6,O|=ye.getUTCMinutes(),O<<=5,O|=ye.getUTCSeconds()/2,H=ye.getUTCFullYear()-1980,H<<=4,H|=ye.getUTCMonth()+1,H<<=5,H|=ye.getUTCDate(),fe&&(se=c(1,1)+c(y(me),4)+U,le+="up"+c(se.length,2)+se),B&&(ne=c(1,1)+c(y(de),4)+Y,le+="uc"+c(ne.length,2)+ne);var re="";return re+=`
\0`,re+=c(W,2),re+=ce.magic,re+=c(O,2),re+=c(H,2),re+=c(j.crc32,4),re+=c(j.compressedSize,4),re+=c(j.uncompressedSize,4),re+=c(me.length,2),re+=c(le.length,2),{fileRecord:x.LOCAL_FILE_HEADER+re+me+le,dirRecord:x.CENTRAL_FILE_HEADER+c(Q,2)+re+c(de.length,2)+"\0\0\0\0"+c(F,4)+c(L,4)+me+le+de}}var h=r("../utils"),p=r("../stream/GenericWorker"),m=r("../utf8"),y=r("../crc32"),x=r("../signature");function S(E,D,_,L){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=_,this.encodeFileName=L,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,p),S.prototype.push=function(E){var D=E.meta.percent||0,_=this.entriesCount,L=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,p.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:_?(D+100*(_-L-1))/_:100}}))},S.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var D=this.streamFiles&&!E.file.dir;if(D){var _=d(E,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(E){this.accumulate=!1;var D=this.streamFiles&&!E.file.dir,_=d(E,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),D)this.push({data:(function(L){return x.DATA_DESCRIPTOR+c(L.crc32,4)+c(L.compressedSize,4)+c(L.uncompressedSize,4)})(E),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var E=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var _=this.bytesWritten-E,L=(function(N,I,O,H,q){var ce=h.transformTo("string",q(H));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(N,2)+c(N,2)+c(I,4)+c(O,4)+c(ce.length,2)+ce})(this.dirRecords.length,_,E,this.zipComment,this.encodeFileName);this.push({data:L,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(E){this._sources.push(E);var D=this;return E.on("data",function(_){D.processChunk(_)}),E.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),E.on("error",function(_){D.error(_)}),this},S.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(E){var D=this._sources;if(!p.prototype.error.call(this,E))return!1;for(var _=0;_<D.length;_++)try{D[_].error(E)}catch{}return!0},S.prototype.lock=function(){p.prototype.lock.call(this);for(var E=this._sources,D=0;D<E.length;D++)E[D].lock()},o.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,a){var c=r("../compressions"),d=r("./ZipFileWorker");a.generateWorker=function(h,p,m){var y=new d(p.streamFiles,m,p.platform,p.encodeFileName),x=0;try{h.forEach(function(S,E){x++;var D=(function(I,O){var H=I||O,q=c[H];if(!q)throw new Error(H+" is not a valid compression method !");return q})(E.options.compression,p.compression),_=E.options.compressionOptions||p.compressionOptions||{},L=E.dir,N=E.date;E._compressWorker(D,_).withStreamInfo("file",{name:S,dir:L,date:N,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(y)}),y.entriesCount=x}catch(S){y.error(S)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,a){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=r("./object")).loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=r("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,a){var c=r("./utils"),d=r("./external"),h=r("./utf8"),p=r("./zipEntries"),m=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function x(S){return new d.Promise(function(E,D){var _=S.decompressed.getContentWorker().pipe(new m);_.on("error",function(L){D(L)}).on("end",function(){_.streamInfo.crc32!==S.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}o.exports=function(S,E){var D=this;return E=c.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),y.isNode&&y.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,E.optimizedBinaryString,E.base64).then(function(_){var L=new p(E);return L.load(_),L}).then(function(_){var L=[d.Promise.resolve(_)],N=_.files;if(E.checkCRC32)for(var I=0;I<N.length;I++)L.push(x(N[I]));return d.Promise.all(L)}).then(function(_){for(var L=_.shift(),N=L.files,I=0;I<N.length;I++){var O=N[I],H=O.fileNameStr,q=c.resolve(O.fileNameStr);D.file(q,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:E.createFolders}),O.dir||(D.file(q).unsafeOriginalName=H)}return L.zipComment.length&&(D.comment=L.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,a){var c=r("../utils"),d=r("../stream/GenericWorker");function h(p,m){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,d),h.prototype._bindStream=function(p){var m=this;(this._stream=p).pause(),p.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,a){var c=r("readable-stream").Readable;function d(h,p,m){c.call(this,p),this._helper=h;var y=this;h.on("data",function(x,S){y.push(x)||y._helper.pause(),m&&m(S)}).on("error",function(x){y.emit("error",x)}).on("end",function(){y.push(null)})}r("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(r,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,o,a){function c(q,ce,oe){var me,U=h.getTypeOf(ce),ae=h.extend(oe||{},y);ae.date=ae.date||new Date,ae.compression!==null&&(ae.compression=ae.compression.toUpperCase()),typeof ae.unixPermissions=="string"&&(ae.unixPermissions=parseInt(ae.unixPermissions,8)),ae.unixPermissions&&16384&ae.unixPermissions&&(ae.dir=!0),ae.dosPermissions&&16&ae.dosPermissions&&(ae.dir=!0),ae.dir&&(q=N(q)),ae.createFolders&&(me=L(q))&&I.call(this,me,!0);var de=U==="string"&&ae.binary===!1&&ae.base64===!1;oe&&oe.binary!==void 0||(ae.binary=!de),(ce instanceof x&&ce.uncompressedSize===0||ae.dir||!ce||ce.length===0)&&(ae.base64=!1,ae.binary=!0,ce="",ae.compression="STORE",U="string");var Y=null;Y=ce instanceof x||ce instanceof p?ce:D.isNode&&D.isStream(ce)?new _(q,ce):h.prepareContent(q,ce,ae.binary,ae.optimizedBinaryString,ae.base64);var fe=new S(q,Y,ae);this.files[q]=fe}var d=r("./utf8"),h=r("./utils"),p=r("./stream/GenericWorker"),m=r("./stream/StreamHelper"),y=r("./defaults"),x=r("./compressedObject"),S=r("./zipObject"),E=r("./generate"),D=r("./nodejsUtils"),_=r("./nodejs/NodejsStreamInputAdapter"),L=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var ce=q.lastIndexOf("/");return 0<ce?q.substring(0,ce):""},N=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},I=function(q,ce){return ce=ce!==void 0?ce:y.createFolders,q=N(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:ce}),this.files[q]};function O(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var ce,oe,me;for(ce in this.files)me=this.files[ce],(oe=ce.slice(this.root.length,ce.length))&&ce.slice(0,this.root.length)===this.root&&q(oe,me)},filter:function(q){var ce=[];return this.forEach(function(oe,me){q(oe,me)&&ce.push(me)}),ce},file:function(q,ce,oe){if(arguments.length!==1)return q=this.root+q,c.call(this,q,ce,oe),this;if(O(q)){var me=q;return this.filter(function(ae,de){return!de.dir&&me.test(ae)})}var U=this.files[this.root+q];return U&&!U.dir?U:null},folder:function(q){if(!q)return this;if(O(q))return this.filter(function(U,ae){return ae.dir&&q.test(U)});var ce=this.root+q,oe=I.call(this,ce),me=this.clone();return me.root=oe.name,me},remove:function(q){q=this.root+q;var ce=this.files[q];if(ce||(q.slice(-1)!=="/"&&(q+="/"),ce=this.files[q]),ce&&!ce.dir)delete this.files[q];else for(var oe=this.filter(function(U,ae){return ae.name.slice(0,q.length)===q}),me=0;me<oe.length;me++)delete this.files[oe[me].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var ce,oe={};try{if((oe=h.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=oe.type.toLowerCase(),oe.compression=oe.compression.toUpperCase(),oe.type==="binarystring"&&(oe.type="string"),!oe.type)throw new Error("No output type specified.");h.checkSupport(oe.type),oe.platform!=="darwin"&&oe.platform!=="freebsd"&&oe.platform!=="linux"&&oe.platform!=="sunos"||(oe.platform="UNIX"),oe.platform==="win32"&&(oe.platform="DOS");var me=oe.comment||this.comment||"";ce=E.generateWorker(this,oe,me)}catch(U){(ce=new p("error")).error(U)}return new m(ce,oe.type||"string",oe.mimeType)},generateAsync:function(q,ce){return this.generateInternalStream(q).accumulate(ce)},generateNodeStream:function(q,ce){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(ce)}};o.exports=H},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,a){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,a){var c=r("./DataReader");function d(h){c.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),x=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===p&&this.data[S+1]===m&&this.data[S+2]===y&&this.data[S+3]===x)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),m=h.charCodeAt(1),y=h.charCodeAt(2),x=h.charCodeAt(3),S=this.readData(4);return p===S[0]&&m===S[1]&&y===S[2]&&x===S[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(r,o,a){var c=r("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,m=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)m=(m<<8)+this.byteAt(p);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(r,o,a){var c=r("./Uint8ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,a){var c=r("./DataReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(r,o,a){var c=r("./ArrayReader");function d(h){c.call(this,h)}r("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,a){var c=r("../utils"),d=r("../support"),h=r("./ArrayReader"),p=r("./StringReader"),m=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");o.exports=function(x){var S=c.getTypeOf(x);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(x):d.uint8array?new y(c.transformTo("uint8array",x)):new h(c.transformTo("array",x)):new p(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,a){var c=r("./GenericWorker"),d=r("../utils");function h(p){c.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,a){var c=r("./GenericWorker"),d=r("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(h,c),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,a){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(h,d),h.prototype.processChunk=function(p){if(p){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,a){var c=r("../utils"),d=r("./GenericWorker");function h(p){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=c.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,m);break;case"uint8array":p=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":p=this.data.slice(this.index,m)}return this.index=m,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,a){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(r,o,a){var c=r("../utils"),d=r("./ConvertWorker"),h=r("./GenericWorker"),p=r("../base64"),m=r("../support"),y=r("../external"),x=null;if(m.nodestream)try{x=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(D,_){return new y.Promise(function(L,N){var I=[],O=D._internalType,H=D._outputType,q=D._mimeType;D.on("data",function(ce,oe){I.push(ce),_&&_(oe)}).on("error",function(ce){I=[],N(ce)}).on("end",function(){try{var ce=(function(oe,me,U){switch(oe){case"blob":return c.newBlob(c.transformTo("arraybuffer",me),U);case"base64":return p.encode(me);default:return c.transformTo(oe,me)}})(H,(function(oe,me){var U,ae=0,de=null,Y=0;for(U=0;U<me.length;U++)Y+=me[U].length;switch(oe){case"string":return me.join("");case"array":return Array.prototype.concat.apply([],me);case"uint8array":for(de=new Uint8Array(Y),U=0;U<me.length;U++)de.set(me[U],ae),ae+=me[U].length;return de;case"nodebuffer":return Buffer.concat(me);default:throw new Error("concat : unsupported type '"+oe+"'")}})(O,I),q);L(ce)}catch(oe){N(oe)}I=[]}).resume()})}function E(D,_,L){var N=_;switch(_){case"blob":case"arraybuffer":N="uint8array";break;case"base64":N="string"}try{this._internalType=N,this._outputType=_,this._mimeType=L,c.checkSupport(N),this._worker=D.pipe(new d(N)),D.lock()}catch(I){this._worker=new h("error"),this._worker.error(I)}}E.prototype={accumulate:function(D){return S(this,D)},on:function(D,_){var L=this;return D==="data"?this._worker.on(D,function(N){_.call(L,N.data,N.meta)}):this._worker.on(D,function(){c.delay(_,arguments,L)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},D)}},o.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var c=new ArrayBuffer(0);try{a.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,a){for(var c=r("./utils"),d=r("./support"),h=r("./nodejsUtils"),p=r("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function x(){p.call(this,"utf-8 decode"),this.leftOver=null}function S(){p.call(this,"utf-8 encode")}a.utf8encode=function(E){return d.nodebuffer?h.newBufferFrom(E,"utf-8"):(function(D){var _,L,N,I,O,H=D.length,q=0;for(I=0;I<H;I++)(64512&(L=D.charCodeAt(I)))==55296&&I+1<H&&(64512&(N=D.charCodeAt(I+1)))==56320&&(L=65536+(L-55296<<10)+(N-56320),I++),q+=L<128?1:L<2048?2:L<65536?3:4;for(_=d.uint8array?new Uint8Array(q):new Array(q),I=O=0;O<q;I++)(64512&(L=D.charCodeAt(I)))==55296&&I+1<H&&(64512&(N=D.charCodeAt(I+1)))==56320&&(L=65536+(L-55296<<10)+(N-56320),I++),L<128?_[O++]=L:(L<2048?_[O++]=192|L>>>6:(L<65536?_[O++]=224|L>>>12:(_[O++]=240|L>>>18,_[O++]=128|L>>>12&63),_[O++]=128|L>>>6&63),_[O++]=128|63&L);return _})(E)},a.utf8decode=function(E){return d.nodebuffer?c.transformTo("nodebuffer",E).toString("utf-8"):(function(D){var _,L,N,I,O=D.length,H=new Array(2*O);for(_=L=0;_<O;)if((N=D[_++])<128)H[L++]=N;else if(4<(I=m[N]))H[L++]=65533,_+=I-1;else{for(N&=I===2?31:I===3?15:7;1<I&&_<O;)N=N<<6|63&D[_++],I--;1<I?H[L++]=65533:N<65536?H[L++]=N:(N-=65536,H[L++]=55296|N>>10&1023,H[L++]=56320|1023&N)}return H.length!==L&&(H.subarray?H=H.subarray(0,L):H.length=L),c.applyFromCharCode(H)})(E=c.transformTo(d.uint8array?"uint8array":"array",E))},c.inherits(x,p),x.prototype.processChunk=function(E){var D=c.transformTo(d.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var _=D;(D=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),D.set(_,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var L=(function(I,O){var H;for((O=O||I.length)>I.length&&(O=I.length),H=O-1;0<=H&&(192&I[H])==128;)H--;return H<0||H===0?O:H+m[I[H]]>O?H:O})(D),N=D;L!==D.length&&(d.uint8array?(N=D.subarray(0,L),this.leftOver=D.subarray(L,D.length)):(N=D.slice(0,L),this.leftOver=D.slice(L,D.length))),this.push({data:a.utf8decode(N),meta:E.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=x,c.inherits(S,p),S.prototype.processChunk=function(E){this.push({data:a.utf8encode(E.data),meta:E.meta})},a.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,a){var c=r("./support"),d=r("./base64"),h=r("./nodejsUtils"),p=r("./external");function m(_){return _}function y(_,L){for(var N=0;N<_.length;++N)L[N]=255&_.charCodeAt(N);return L}r("setimmediate"),a.newBlob=function(_,L){a.checkSupport("blob");try{return new Blob([_],{type:L})}catch{try{var N=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return N.append(_),N.getBlob(L)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(_,L,N){var I=[],O=0,H=_.length;if(H<=N)return String.fromCharCode.apply(null,_);for(;O<H;)L==="array"||L==="nodebuffer"?I.push(String.fromCharCode.apply(null,_.slice(O,Math.min(O+N,H)))):I.push(String.fromCharCode.apply(null,_.subarray(O,Math.min(O+N,H)))),O+=N;return I.join("")},stringifyByChar:function(_){for(var L="",N=0;N<_.length;N++)L+=String.fromCharCode(_[N]);return L},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(_){var L=65536,N=a.getTypeOf(_),I=!0;if(N==="uint8array"?I=x.applyCanBeUsed.uint8array:N==="nodebuffer"&&(I=x.applyCanBeUsed.nodebuffer),I)for(;1<L;)try{return x.stringifyByChunk(_,N,L)}catch{L=Math.floor(L/2)}return x.stringifyByChar(_)}function E(_,L){for(var N=0;N<_.length;N++)L[N]=_[N];return L}a.applyFromCharCode=S;var D={};D.string={string:m,array:function(_){return y(_,new Array(_.length))},arraybuffer:function(_){return D.string.uint8array(_).buffer},uint8array:function(_){return y(_,new Uint8Array(_.length))},nodebuffer:function(_){return y(_,h.allocBuffer(_.length))}},D.array={string:S,array:m,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return h.newBufferFrom(_)}},D.arraybuffer={string:function(_){return S(new Uint8Array(_))},array:function(_){return E(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:m,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return h.newBufferFrom(new Uint8Array(_))}},D.uint8array={string:S,array:function(_){return E(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:m,nodebuffer:function(_){return h.newBufferFrom(_)}},D.nodebuffer={string:S,array:function(_){return E(_,new Array(_.length))},arraybuffer:function(_){return D.nodebuffer.uint8array(_).buffer},uint8array:function(_){return E(_,new Uint8Array(_.length))},nodebuffer:m},a.transformTo=function(_,L){if(L=L||"",!_)return L;a.checkSupport(_);var N=a.getTypeOf(L);return D[N][_](L)},a.resolve=function(_){for(var L=_.split("/"),N=[],I=0;I<L.length;I++){var O=L[I];O==="."||O===""&&I!==0&&I!==L.length-1||(O===".."?N.pop():N.push(O))}return N.join("/")},a.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(_)?"nodebuffer":c.uint8array&&_ instanceof Uint8Array?"uint8array":c.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(_){if(!c[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(_){var L,N,I="";for(N=0;N<(_||"").length;N++)I+="\\x"+((L=_.charCodeAt(N))<16?"0":"")+L.toString(16).toUpperCase();return I},a.delay=function(_,L,N){setImmediate(function(){_.apply(N||null,L||[])})},a.inherits=function(_,L){function N(){}N.prototype=L.prototype,_.prototype=new N},a.extend=function(){var _,L,N={};for(_=0;_<arguments.length;_++)for(L in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],L)&&N[L]===void 0&&(N[L]=arguments[_][L]);return N},a.prepareContent=function(_,L,N,I,O){return p.Promise.resolve(L).then(function(H){return c.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new p.Promise(function(q,ce){var oe=new FileReader;oe.onload=function(me){q(me.target.result)},oe.onerror=function(me){ce(me.target.error)},oe.readAsArrayBuffer(H)}):H}).then(function(H){var q=a.getTypeOf(H);return q?(q==="arraybuffer"?H=a.transformTo("uint8array",H):q==="string"&&(O?H=d.decode(H):N&&I!==!0&&(H=(function(ce){return y(ce,c.uint8array?new Uint8Array(ce.length):new Array(ce.length))})(H))),H):p.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,a){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./signature"),p=r("./zipEntry"),m=r("./support");function y(x){this.files=[],this.loadOptions=x}y.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(x)+")")}},isSignature:function(x,S){var E=this.reader.index;this.reader.setIndex(x);var D=this.reader.readString(4)===S;return this.reader.setIndex(E),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",E=d.transformTo(S,x);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,S,E,D=this.zip64EndOfCentralSize-44;0<D;)x=this.reader.readInt(2),S=this.reader.readInt(4),E=this.reader.readData(S),this.zip64ExtensibleData[x]={id:x,length:S,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,S;for(x=0;x<this.files.length;x++)S=this.files[x],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(x=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var S=x;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var D=S-E;if(0<D)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(x){this.reader=c(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,a){var c=r("./reader/readerFor"),d=r("./utils"),h=r("./compressedObject"),p=r("./crc32"),m=r("./utf8"),y=r("./compressions"),x=r("./support");function S(E,D){this.options=E,this.loadOptions=D}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var D,_;if(E.skip(22),this.fileNameLength=E.readInt(2),_=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=(function(L){for(var N in y)if(Object.prototype.hasOwnProperty.call(y,N)&&y[N].magic===L)return y[N];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,D,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var D=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(D),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var D,_,L,N=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<N;)D=E.readInt(2),_=E.readInt(2),L=E.readData(_),this.extraFields[D]={id:D,length:_,value:L};E.setIndex(N)},handleUTF8:function(){var E=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var _=d.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var L=this.findExtraFieldUnicodeComment();if(L!==null)this.fileCommentStr=L;else{var N=d.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var D=c(E.value);return D.readInt(1)!==1||p(this.fileName)!==D.readInt(4)?null:m.utf8decode(D.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var D=c(E.value);return D.readInt(1)!==1||p(this.fileComment)!==D.readInt(4)?null:m.utf8decode(D.readData(E.length-5))}return null}},o.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,a){function c(D,_,L){this.name=D,this.dir=L.dir,this.date=L.date,this.comment=L.comment,this.unixPermissions=L.unixPermissions,this.dosPermissions=L.dosPermissions,this._data=_,this._dataBinary=L.binary,this.options={compression:L.compression,compressionOptions:L.compressionOptions}}var d=r("./stream/StreamHelper"),h=r("./stream/DataWorker"),p=r("./utf8"),m=r("./compressedObject"),y=r("./stream/GenericWorker");c.prototype={internalStream:function(D){var _=null,L="string";try{if(!D)throw new Error("No output type specified.");var N=(L=D.toLowerCase())==="string"||L==="text";L!=="binarystring"&&L!=="text"||(L="string"),_=this._decompressWorker();var I=!this._dataBinary;I&&!N&&(_=_.pipe(new p.Utf8EncodeWorker)),!I&&N&&(_=_.pipe(new p.Utf8DecodeWorker))}catch(O){(_=new y("error")).error(O)}return new d(_,L,"")},async:function(D,_){return this.internalStream(D).accumulate(_)},nodeStream:function(D,_){return this.internalStream(D||"nodebuffer").toNodejsStream(_)},_compressWorker:function(D,_){if(this._data instanceof m&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var L=this._decompressWorker();return this._dataBinary||(L=L.pipe(new p.Utf8EncodeWorker)),m.createWorkerFrom(L,D,_)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new h(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<x.length;E++)c.prototype[x[E]]=S;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,a){(function(c){var d,h,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var m=0,y=new p(D),x=c.document.createTextNode("");y.observe(x,{characterData:!0}),d=function(){x.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var _=c.document.createElement("script");_.onreadystatechange=function(){D(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},c.document.documentElement.appendChild(_)}:function(){setTimeout(D,0)};else{var S=new c.MessageChannel;S.port1.onmessage=D,d=function(){S.port2.postMessage(0)}}var E=[];function D(){var _,L;h=!0;for(var N=E.length;N;){for(L=E,E=[],_=-1;++_<N;)L[_]();N=E.length}h=!1}o.exports=function(_){E.push(_)!==1||h||d()}}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,a){var c=r("immediate");function d(){}var h={},p=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function x(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,N!==d&&_(this,N)}function S(N,I,O){this.promise=N,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function E(N,I,O){c(function(){var H;try{H=I(O)}catch(q){return h.reject(N,q)}H===N?h.reject(N,new TypeError("Cannot resolve promise with itself")):h.resolve(N,H)})}function D(N){var I=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof I=="function")return function(){I.apply(N,arguments)}}function _(N,I){var O=!1;function H(oe){O||(O=!0,h.reject(N,oe))}function q(oe){O||(O=!0,h.resolve(N,oe))}var ce=L(function(){I(q,H)});ce.status==="error"&&H(ce.value)}function L(N,I){var O={};try{O.value=N(I),O.status="success"}catch(H){O.status="error",O.value=H}return O}(o.exports=x).prototype.finally=function(N){if(typeof N!="function")return this;var I=this.constructor;return this.then(function(O){return I.resolve(N()).then(function(){return O})},function(O){return I.resolve(N()).then(function(){throw O})})},x.prototype.catch=function(N){return this.then(null,N)},x.prototype.then=function(N,I){if(typeof N!="function"&&this.state===m||typeof I!="function"&&this.state===p)return this;var O=new this.constructor(d);return this.state!==y?E(O,this.state===m?N:I,this.outcome):this.queue.push(new S(O,N,I)),O},S.prototype.callFulfilled=function(N){h.resolve(this.promise,N)},S.prototype.otherCallFulfilled=function(N){E(this.promise,this.onFulfilled,N)},S.prototype.callRejected=function(N){h.reject(this.promise,N)},S.prototype.otherCallRejected=function(N){E(this.promise,this.onRejected,N)},h.resolve=function(N,I){var O=L(D,I);if(O.status==="error")return h.reject(N,O.value);var H=O.value;if(H)_(N,H);else{N.state=m,N.outcome=I;for(var q=-1,ce=N.queue.length;++q<ce;)N.queue[q].callFulfilled(I)}return N},h.reject=function(N,I){N.state=p,N.outcome=I;for(var O=-1,H=N.queue.length;++O<H;)N.queue[O].callRejected(I);return N},x.resolve=function(N){return N instanceof this?N:h.resolve(new this(d),N)},x.reject=function(N){var I=new this(d);return h.reject(I,N)},x.all=function(N){var I=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=N.length,H=!1;if(!O)return this.resolve([]);for(var q=new Array(O),ce=0,oe=-1,me=new this(d);++oe<O;)U(N[oe],oe);return me;function U(ae,de){I.resolve(ae).then(function(Y){q[de]=Y,++ce!==O||H||(H=!0,h.resolve(me,q))},function(Y){H||(H=!0,h.reject(me,Y))})}},x.race=function(N){var I=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=N.length,H=!1;if(!O)return this.resolve([]);for(var q=-1,ce=new this(d);++q<O;)oe=N[q],I.resolve(oe).then(function(me){H||(H=!0,h.resolve(ce,me))},function(me){H||(H=!0,h.reject(ce,me))});var oe;return ce}},{immediate:36}],38:[function(r,o,a){var c={};(0,r("./lib/utils/common").assign)(c,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,a){var c=r("./zlib/deflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/messages"),m=r("./zlib/zstream"),y=Object.prototype.toString,x=0,S=-1,E=0,D=8;function _(N){if(!(this instanceof _))return new _(N);this.options=d.assign({level:S,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},N||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var O=c.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(O!==x)throw new Error(p[O]);if(I.header&&c.deflateSetHeader(this.strm,I.header),I.dictionary){var H;if(H=typeof I.dictionary=="string"?h.string2buf(I.dictionary):y.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(O=c.deflateSetDictionary(this.strm,H))!==x)throw new Error(p[O]);this._dict_set=!0}}function L(N,I){var O=new _(I);if(O.push(N,!0),O.err)throw O.msg||p[O.err];return O.result}_.prototype.push=function(N,I){var O,H,q=this.strm,ce=this.options.chunkSize;if(this.ended)return!1;H=I===~~I?I:I===!0?4:0,typeof N=="string"?q.input=h.string2buf(N):y.call(N)==="[object ArrayBuffer]"?q.input=new Uint8Array(N):q.input=N,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new d.Buf8(ce),q.next_out=0,q.avail_out=ce),(O=c.deflate(q,H))!==1&&O!==x)return this.onEnd(O),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(q.output,q.next_out))):this.onData(d.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&O!==1);return H===4?(O=c.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===x):H!==2||(this.onEnd(x),!(q.avail_out=0))},_.prototype.onData=function(N){this.chunks.push(N)},_.prototype.onEnd=function(N){N===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},a.Deflate=_,a.deflate=L,a.deflateRaw=function(N,I){return(I=I||{}).raw=!0,L(N,I)},a.gzip=function(N,I){return(I=I||{}).gzip=!0,L(N,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,a){var c=r("./zlib/inflate"),d=r("./utils/common"),h=r("./utils/strings"),p=r("./zlib/constants"),m=r("./zlib/messages"),y=r("./zlib/zstream"),x=r("./zlib/gzheader"),S=Object.prototype.toString;function E(_){if(!(this instanceof E))return new E(_);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},_||{});var L=this.options;L.raw&&0<=L.windowBits&&L.windowBits<16&&(L.windowBits=-L.windowBits,L.windowBits===0&&(L.windowBits=-15)),!(0<=L.windowBits&&L.windowBits<16)||_&&_.windowBits||(L.windowBits+=32),15<L.windowBits&&L.windowBits<48&&(15&L.windowBits)==0&&(L.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var N=c.inflateInit2(this.strm,L.windowBits);if(N!==p.Z_OK)throw new Error(m[N]);this.header=new x,c.inflateGetHeader(this.strm,this.header)}function D(_,L){var N=new E(L);if(N.push(_,!0),N.err)throw N.msg||m[N.err];return N.result}E.prototype.push=function(_,L){var N,I,O,H,q,ce,oe=this.strm,me=this.options.chunkSize,U=this.options.dictionary,ae=!1;if(this.ended)return!1;I=L===~~L?L:L===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof _=="string"?oe.input=h.binstring2buf(_):S.call(_)==="[object ArrayBuffer]"?oe.input=new Uint8Array(_):oe.input=_,oe.next_in=0,oe.avail_in=oe.input.length;do{if(oe.avail_out===0&&(oe.output=new d.Buf8(me),oe.next_out=0,oe.avail_out=me),(N=c.inflate(oe,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&U&&(ce=typeof U=="string"?h.string2buf(U):S.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,N=c.inflateSetDictionary(this.strm,ce)),N===p.Z_BUF_ERROR&&ae===!0&&(N=p.Z_OK,ae=!1),N!==p.Z_STREAM_END&&N!==p.Z_OK)return this.onEnd(N),!(this.ended=!0);oe.next_out&&(oe.avail_out!==0&&N!==p.Z_STREAM_END&&(oe.avail_in!==0||I!==p.Z_FINISH&&I!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=h.utf8border(oe.output,oe.next_out),H=oe.next_out-O,q=h.buf2string(oe.output,O),oe.next_out=H,oe.avail_out=me-H,H&&d.arraySet(oe.output,oe.output,O,H,0),this.onData(q)):this.onData(d.shrinkBuf(oe.output,oe.next_out)))),oe.avail_in===0&&oe.avail_out===0&&(ae=!0)}while((0<oe.avail_in||oe.avail_out===0)&&N!==p.Z_STREAM_END);return N===p.Z_STREAM_END&&(I=p.Z_FINISH),I===p.Z_FINISH?(N=c.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===p.Z_OK):I!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(oe.avail_out=0))},E.prototype.onData=function(_){this.chunks.push(_)},E.prototype.onEnd=function(_){_===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},a.Inflate=E,a.inflate=D,a.inflateRaw=function(_,L){return(L=L||{}).raw=!0,D(_,L)},a.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var x in y)y.hasOwnProperty(x)&&(p[x]=y[x])}}return p},a.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var d={arraySet:function(p,m,y,x,S){if(m.subarray&&p.subarray)p.set(m.subarray(y,y+x),S);else for(var E=0;E<x;E++)p[S+E]=m[y+E]},flattenChunks:function(p){var m,y,x,S,E,D;for(m=x=0,y=p.length;m<y;m++)x+=p[m].length;for(D=new Uint8Array(x),m=S=0,y=p.length;m<y;m++)E=p[m],D.set(E,S),S+=E.length;return D}},h={arraySet:function(p,m,y,x,S){for(var E=0;E<x;E++)p[S+E]=m[y+E]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,h))},a.setTyped(c)},{}],42:[function(r,o,a){var c=r("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new c.Buf8(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(x,S){if(S<65537&&(x.subarray&&h||!x.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(x,S));for(var E="",D=0;D<S;D++)E+=String.fromCharCode(x[D]);return E}p[254]=p[254]=1,a.string2buf=function(x){var S,E,D,_,L,N=x.length,I=0;for(_=0;_<N;_++)(64512&(E=x.charCodeAt(_)))==55296&&_+1<N&&(64512&(D=x.charCodeAt(_+1)))==56320&&(E=65536+(E-55296<<10)+(D-56320),_++),I+=E<128?1:E<2048?2:E<65536?3:4;for(S=new c.Buf8(I),_=L=0;L<I;_++)(64512&(E=x.charCodeAt(_)))==55296&&_+1<N&&(64512&(D=x.charCodeAt(_+1)))==56320&&(E=65536+(E-55296<<10)+(D-56320),_++),E<128?S[L++]=E:(E<2048?S[L++]=192|E>>>6:(E<65536?S[L++]=224|E>>>12:(S[L++]=240|E>>>18,S[L++]=128|E>>>12&63),S[L++]=128|E>>>6&63),S[L++]=128|63&E);return S},a.buf2binstring=function(x){return y(x,x.length)},a.binstring2buf=function(x){for(var S=new c.Buf8(x.length),E=0,D=S.length;E<D;E++)S[E]=x.charCodeAt(E);return S},a.buf2string=function(x,S){var E,D,_,L,N=S||x.length,I=new Array(2*N);for(E=D=0;E<N;)if((_=x[E++])<128)I[D++]=_;else if(4<(L=p[_]))I[D++]=65533,E+=L-1;else{for(_&=L===2?31:L===3?15:7;1<L&&E<N;)_=_<<6|63&x[E++],L--;1<L?I[D++]=65533:_<65536?I[D++]=_:(_-=65536,I[D++]=55296|_>>10&1023,I[D++]=56320|1023&_)}return y(I,D)},a.utf8border=function(x,S){var E;for((S=S||x.length)>x.length&&(S=x.length),E=S-1;0<=E&&(192&x[E])==128;)E--;return E<0||E===0?S:E+p[x[E]]>S?E:S}},{"./common":41}],43:[function(r,o,a){o.exports=function(c,d,h,p){for(var m=65535&c|0,y=c>>>16&65535|0,x=0;h!==0;){for(h-=x=2e3<h?2e3:h;y=y+(m=m+d[p++]|0)|0,--x;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(r,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,a){var c=(function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h})();o.exports=function(d,h,p,m){var y=c,x=m+p;d^=-1;for(var S=m;S<x;S++)d=d>>>8^y[255&(d^h[S])];return-1^d}},{}],46:[function(r,o,a){var c,d=r("../utils/common"),h=r("./trees"),p=r("./adler32"),m=r("./crc32"),y=r("./messages"),x=0,S=4,E=0,D=-2,_=-1,L=4,N=2,I=8,O=9,H=286,q=30,ce=19,oe=2*H+1,me=15,U=3,ae=258,de=ae+U+1,Y=42,fe=113,B=1,le=2,se=3,ne=4;function Me(R,X){return R.msg=y[X],X}function ye(R){return(R<<1)-(4<R?9:0)}function j(R){for(var X=R.length;0<=--X;)R[X]=0}function W(R){var X=R.state,M=X.pending;M>R.avail_out&&(M=R.avail_out),M!==0&&(d.arraySet(R.output,X.pending_buf,X.pending_out,M,R.next_out),R.next_out+=M,X.pending_out+=M,R.total_out+=M,R.avail_out-=M,X.pending-=M,X.pending===0&&(X.pending_out=0))}function F(R,X){h._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,X),R.block_start=R.strstart,W(R.strm)}function Q(R,X){R.pending_buf[R.pending++]=X}function re(R,X){R.pending_buf[R.pending++]=X>>>8&255,R.pending_buf[R.pending++]=255&X}function pe(R,X){var M,w,v=R.max_chain_length,C=R.strstart,$=R.prev_length,Z=R.nice_match,J=R.strstart>R.w_size-de?R.strstart-(R.w_size-de):0,we=R.window,Ie=R.w_mask,be=R.prev,Oe=R.strstart+ae,Ge=we[C+$-1],He=we[C+$];R.prev_length>=R.good_match&&(v>>=2),Z>R.lookahead&&(Z=R.lookahead);do if(we[(M=X)+$]===He&&we[M+$-1]===Ge&&we[M]===we[C]&&we[++M]===we[C+1]){C+=2,M++;do;while(we[++C]===we[++M]&&we[++C]===we[++M]&&we[++C]===we[++M]&&we[++C]===we[++M]&&we[++C]===we[++M]&&we[++C]===we[++M]&&we[++C]===we[++M]&&we[++C]===we[++M]&&C<Oe);if(w=ae-(Oe-C),C=Oe-ae,$<w){if(R.match_start=X,Z<=($=w))break;Ge=we[C+$-1],He=we[C+$]}}while((X=be[X&Ie])>J&&--v!=0);return $<=R.lookahead?$:R.lookahead}function te(R){var X,M,w,v,C,$,Z,J,we,Ie,be=R.w_size;do{if(v=R.window_size-R.lookahead-R.strstart,R.strstart>=be+(be-de)){for(d.arraySet(R.window,R.window,be,be,0),R.match_start-=be,R.strstart-=be,R.block_start-=be,X=M=R.hash_size;w=R.head[--X],R.head[X]=be<=w?w-be:0,--M;);for(X=M=be;w=R.prev[--X],R.prev[X]=be<=w?w-be:0,--M;);v+=be}if(R.strm.avail_in===0)break;if($=R.strm,Z=R.window,J=R.strstart+R.lookahead,we=v,Ie=void 0,Ie=$.avail_in,we<Ie&&(Ie=we),M=Ie===0?0:($.avail_in-=Ie,d.arraySet(Z,$.input,$.next_in,Ie,J),$.state.wrap===1?$.adler=p($.adler,Z,Ie,J):$.state.wrap===2&&($.adler=m($.adler,Z,Ie,J)),$.next_in+=Ie,$.total_in+=Ie,Ie),R.lookahead+=M,R.lookahead+R.insert>=U)for(C=R.strstart-R.insert,R.ins_h=R.window[C],R.ins_h=(R.ins_h<<R.hash_shift^R.window[C+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[C+U-1])&R.hash_mask,R.prev[C&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=C,C++,R.insert--,!(R.lookahead+R.insert<U)););}while(R.lookahead<de&&R.strm.avail_in!==0)}function k(R,X){for(var M,w;;){if(R.lookahead<de){if(te(R),R.lookahead<de&&X===x)return B;if(R.lookahead===0)break}if(M=0,R.lookahead>=U&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+U-1])&R.hash_mask,M=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),M!==0&&R.strstart-M<=R.w_size-de&&(R.match_length=pe(R,M)),R.match_length>=U)if(w=h._tr_tally(R,R.strstart-R.match_start,R.match_length-U),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=U){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+U-1])&R.hash_mask,M=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else w=h._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(w&&(F(R,!1),R.strm.avail_out===0))return B}return R.insert=R.strstart<U-1?R.strstart:U-1,X===S?(F(R,!0),R.strm.avail_out===0?se:ne):R.last_lit&&(F(R,!1),R.strm.avail_out===0)?B:le}function A(R,X){for(var M,w,v;;){if(R.lookahead<de){if(te(R),R.lookahead<de&&X===x)return B;if(R.lookahead===0)break}if(M=0,R.lookahead>=U&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+U-1])&R.hash_mask,M=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=U-1,M!==0&&R.prev_length<R.max_lazy_match&&R.strstart-M<=R.w_size-de&&(R.match_length=pe(R,M),R.match_length<=5&&(R.strategy===1||R.match_length===U&&4096<R.strstart-R.match_start)&&(R.match_length=U-1)),R.prev_length>=U&&R.match_length<=R.prev_length){for(v=R.strstart+R.lookahead-U,w=h._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-U),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=v&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+U-1])&R.hash_mask,M=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=U-1,R.strstart++,w&&(F(R,!1),R.strm.avail_out===0))return B}else if(R.match_available){if((w=h._tr_tally(R,0,R.window[R.strstart-1]))&&F(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return B}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(w=h._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<U-1?R.strstart:U-1,X===S?(F(R,!0),R.strm.avail_out===0?se:ne):R.last_lit&&(F(R,!1),R.strm.avail_out===0)?B:le}function ee(R,X,M,w,v){this.good_length=R,this.max_lazy=X,this.nice_length=M,this.max_chain=w,this.func=v}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*oe),this.dyn_dtree=new d.Buf16(2*(2*q+1)),this.bl_tree=new d.Buf16(2*(2*ce+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(me+1),this.heap=new d.Buf16(2*H+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*H+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(R){var X;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=N,(X=R.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?Y:fe,R.adler=X.wrap===2?0:1,X.last_flush=x,h._tr_init(X),E):Me(R,D)}function K(R){var X=z(R);return X===E&&(function(M){M.window_size=2*M.w_size,j(M.head),M.max_lazy_match=c[M.level].max_lazy,M.good_match=c[M.level].good_length,M.nice_match=c[M.level].nice_length,M.max_chain_length=c[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=U-1,M.match_available=0,M.ins_h=0})(R.state),X}function ue(R,X,M,w,v,C){if(!R)return D;var $=1;if(X===_&&(X=6),w<0?($=0,w=-w):15<w&&($=2,w-=16),v<1||O<v||M!==I||w<8||15<w||X<0||9<X||C<0||L<C)return Me(R,D);w===8&&(w=9);var Z=new V;return(R.state=Z).strm=R,Z.wrap=$,Z.gzhead=null,Z.w_bits=w,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=v+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+U-1)/U),Z.window=new d.Buf8(2*Z.w_size),Z.head=new d.Buf16(Z.hash_size),Z.prev=new d.Buf16(Z.w_size),Z.lit_bufsize=1<<v+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new d.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=X,Z.strategy=C,Z.method=M,K(R)}c=[new ee(0,0,0,0,function(R,X){var M=65535;for(M>R.pending_buf_size-5&&(M=R.pending_buf_size-5);;){if(R.lookahead<=1){if(te(R),R.lookahead===0&&X===x)return B;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var w=R.block_start+M;if((R.strstart===0||R.strstart>=w)&&(R.lookahead=R.strstart-w,R.strstart=w,F(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-de&&(F(R,!1),R.strm.avail_out===0))return B}return R.insert=0,X===S?(F(R,!0),R.strm.avail_out===0?se:ne):(R.strstart>R.block_start&&(F(R,!1),R.strm.avail_out),B)}),new ee(4,4,8,4,k),new ee(4,5,16,8,k),new ee(4,6,32,32,k),new ee(4,4,16,16,A),new ee(8,16,32,32,A),new ee(8,16,128,128,A),new ee(8,32,128,256,A),new ee(32,128,258,1024,A),new ee(32,258,258,4096,A)],a.deflateInit=function(R,X){return ue(R,X,I,15,8,0)},a.deflateInit2=ue,a.deflateReset=K,a.deflateResetKeep=z,a.deflateSetHeader=function(R,X){return R&&R.state?R.state.wrap!==2?D:(R.state.gzhead=X,E):D},a.deflate=function(R,X){var M,w,v,C;if(!R||!R.state||5<X||X<0)return R?Me(R,D):D;if(w=R.state,!R.output||!R.input&&R.avail_in!==0||w.status===666&&X!==S)return Me(R,R.avail_out===0?-5:D);if(w.strm=R,M=w.last_flush,w.last_flush=X,w.status===Y)if(w.wrap===2)R.adler=0,Q(w,31),Q(w,139),Q(w,8),w.gzhead?(Q(w,(w.gzhead.text?1:0)+(w.gzhead.hcrc?2:0)+(w.gzhead.extra?4:0)+(w.gzhead.name?8:0)+(w.gzhead.comment?16:0)),Q(w,255&w.gzhead.time),Q(w,w.gzhead.time>>8&255),Q(w,w.gzhead.time>>16&255),Q(w,w.gzhead.time>>24&255),Q(w,w.level===9?2:2<=w.strategy||w.level<2?4:0),Q(w,255&w.gzhead.os),w.gzhead.extra&&w.gzhead.extra.length&&(Q(w,255&w.gzhead.extra.length),Q(w,w.gzhead.extra.length>>8&255)),w.gzhead.hcrc&&(R.adler=m(R.adler,w.pending_buf,w.pending,0)),w.gzindex=0,w.status=69):(Q(w,0),Q(w,0),Q(w,0),Q(w,0),Q(w,0),Q(w,w.level===9?2:2<=w.strategy||w.level<2?4:0),Q(w,3),w.status=fe);else{var $=I+(w.w_bits-8<<4)<<8;$|=(2<=w.strategy||w.level<2?0:w.level<6?1:w.level===6?2:3)<<6,w.strstart!==0&&($|=32),$+=31-$%31,w.status=fe,re(w,$),w.strstart!==0&&(re(w,R.adler>>>16),re(w,65535&R.adler)),R.adler=1}if(w.status===69)if(w.gzhead.extra){for(v=w.pending;w.gzindex<(65535&w.gzhead.extra.length)&&(w.pending!==w.pending_buf_size||(w.gzhead.hcrc&&w.pending>v&&(R.adler=m(R.adler,w.pending_buf,w.pending-v,v)),W(R),v=w.pending,w.pending!==w.pending_buf_size));)Q(w,255&w.gzhead.extra[w.gzindex]),w.gzindex++;w.gzhead.hcrc&&w.pending>v&&(R.adler=m(R.adler,w.pending_buf,w.pending-v,v)),w.gzindex===w.gzhead.extra.length&&(w.gzindex=0,w.status=73)}else w.status=73;if(w.status===73)if(w.gzhead.name){v=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>v&&(R.adler=m(R.adler,w.pending_buf,w.pending-v,v)),W(R),v=w.pending,w.pending===w.pending_buf_size)){C=1;break}C=w.gzindex<w.gzhead.name.length?255&w.gzhead.name.charCodeAt(w.gzindex++):0,Q(w,C)}while(C!==0);w.gzhead.hcrc&&w.pending>v&&(R.adler=m(R.adler,w.pending_buf,w.pending-v,v)),C===0&&(w.gzindex=0,w.status=91)}else w.status=91;if(w.status===91)if(w.gzhead.comment){v=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>v&&(R.adler=m(R.adler,w.pending_buf,w.pending-v,v)),W(R),v=w.pending,w.pending===w.pending_buf_size)){C=1;break}C=w.gzindex<w.gzhead.comment.length?255&w.gzhead.comment.charCodeAt(w.gzindex++):0,Q(w,C)}while(C!==0);w.gzhead.hcrc&&w.pending>v&&(R.adler=m(R.adler,w.pending_buf,w.pending-v,v)),C===0&&(w.status=103)}else w.status=103;if(w.status===103&&(w.gzhead.hcrc?(w.pending+2>w.pending_buf_size&&W(R),w.pending+2<=w.pending_buf_size&&(Q(w,255&R.adler),Q(w,R.adler>>8&255),R.adler=0,w.status=fe)):w.status=fe),w.pending!==0){if(W(R),R.avail_out===0)return w.last_flush=-1,E}else if(R.avail_in===0&&ye(X)<=ye(M)&&X!==S)return Me(R,-5);if(w.status===666&&R.avail_in!==0)return Me(R,-5);if(R.avail_in!==0||w.lookahead!==0||X!==x&&w.status!==666){var Z=w.strategy===2?(function(J,we){for(var Ie;;){if(J.lookahead===0&&(te(J),J.lookahead===0)){if(we===x)return B;break}if(J.match_length=0,Ie=h._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,Ie&&(F(J,!1),J.strm.avail_out===0))return B}return J.insert=0,we===S?(F(J,!0),J.strm.avail_out===0?se:ne):J.last_lit&&(F(J,!1),J.strm.avail_out===0)?B:le})(w,X):w.strategy===3?(function(J,we){for(var Ie,be,Oe,Ge,He=J.window;;){if(J.lookahead<=ae){if(te(J),J.lookahead<=ae&&we===x)return B;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=U&&0<J.strstart&&(be=He[Oe=J.strstart-1])===He[++Oe]&&be===He[++Oe]&&be===He[++Oe]){Ge=J.strstart+ae;do;while(be===He[++Oe]&&be===He[++Oe]&&be===He[++Oe]&&be===He[++Oe]&&be===He[++Oe]&&be===He[++Oe]&&be===He[++Oe]&&be===He[++Oe]&&Oe<Ge);J.match_length=ae-(Ge-Oe),J.match_length>J.lookahead&&(J.match_length=J.lookahead)}if(J.match_length>=U?(Ie=h._tr_tally(J,1,J.match_length-U),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0):(Ie=h._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++),Ie&&(F(J,!1),J.strm.avail_out===0))return B}return J.insert=0,we===S?(F(J,!0),J.strm.avail_out===0?se:ne):J.last_lit&&(F(J,!1),J.strm.avail_out===0)?B:le})(w,X):c[w.level].func(w,X);if(Z!==se&&Z!==ne||(w.status=666),Z===B||Z===se)return R.avail_out===0&&(w.last_flush=-1),E;if(Z===le&&(X===1?h._tr_align(w):X!==5&&(h._tr_stored_block(w,0,0,!1),X===3&&(j(w.head),w.lookahead===0&&(w.strstart=0,w.block_start=0,w.insert=0))),W(R),R.avail_out===0))return w.last_flush=-1,E}return X!==S?E:w.wrap<=0?1:(w.wrap===2?(Q(w,255&R.adler),Q(w,R.adler>>8&255),Q(w,R.adler>>16&255),Q(w,R.adler>>24&255),Q(w,255&R.total_in),Q(w,R.total_in>>8&255),Q(w,R.total_in>>16&255),Q(w,R.total_in>>24&255)):(re(w,R.adler>>>16),re(w,65535&R.adler)),W(R),0<w.wrap&&(w.wrap=-w.wrap),w.pending!==0?E:1)},a.deflateEnd=function(R){var X;return R&&R.state?(X=R.state.status)!==Y&&X!==69&&X!==73&&X!==91&&X!==103&&X!==fe&&X!==666?Me(R,D):(R.state=null,X===fe?Me(R,-3):E):D},a.deflateSetDictionary=function(R,X){var M,w,v,C,$,Z,J,we,Ie=X.length;if(!R||!R.state||(C=(M=R.state).wrap)===2||C===1&&M.status!==Y||M.lookahead)return D;for(C===1&&(R.adler=p(R.adler,X,Ie,0)),M.wrap=0,Ie>=M.w_size&&(C===0&&(j(M.head),M.strstart=0,M.block_start=0,M.insert=0),we=new d.Buf8(M.w_size),d.arraySet(we,X,Ie-M.w_size,M.w_size,0),X=we,Ie=M.w_size),$=R.avail_in,Z=R.next_in,J=R.input,R.avail_in=Ie,R.next_in=0,R.input=X,te(M);M.lookahead>=U;){for(w=M.strstart,v=M.lookahead-(U-1);M.ins_h=(M.ins_h<<M.hash_shift^M.window[w+U-1])&M.hash_mask,M.prev[w&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=w,w++,--v;);M.strstart=w,M.lookahead=U-1,te(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=U-1,M.match_available=0,R.next_in=Z,R.input=J,R.avail_in=$,M.wrap=C,E},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,a){o.exports=function(c,d){var h,p,m,y,x,S,E,D,_,L,N,I,O,H,q,ce,oe,me,U,ae,de,Y,fe,B,le;h=c.state,p=c.next_in,B=c.input,m=p+(c.avail_in-5),y=c.next_out,le=c.output,x=y-(d-c.avail_out),S=y+(c.avail_out-257),E=h.dmax,D=h.wsize,_=h.whave,L=h.wnext,N=h.window,I=h.hold,O=h.bits,H=h.lencode,q=h.distcode,ce=(1<<h.lenbits)-1,oe=(1<<h.distbits)-1;e:do{O<15&&(I+=B[p++]<<O,O+=8,I+=B[p++]<<O,O+=8),me=H[I&ce];t:for(;;){if(I>>>=U=me>>>24,O-=U,(U=me>>>16&255)===0)le[y++]=65535&me;else{if(!(16&U)){if((64&U)==0){me=H[(65535&me)+(I&(1<<U)-1)];continue t}if(32&U){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}ae=65535&me,(U&=15)&&(O<U&&(I+=B[p++]<<O,O+=8),ae+=I&(1<<U)-1,I>>>=U,O-=U),O<15&&(I+=B[p++]<<O,O+=8,I+=B[p++]<<O,O+=8),me=q[I&oe];n:for(;;){if(I>>>=U=me>>>24,O-=U,!(16&(U=me>>>16&255))){if((64&U)==0){me=q[(65535&me)+(I&(1<<U)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(de=65535&me,O<(U&=15)&&(I+=B[p++]<<O,(O+=8)<U&&(I+=B[p++]<<O,O+=8)),E<(de+=I&(1<<U)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(I>>>=U,O-=U,(U=y-x)<de){if(_<(U=de-U)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(fe=N,(Y=0)===L){if(Y+=D-U,U<ae){for(ae-=U;le[y++]=N[Y++],--U;);Y=y-de,fe=le}}else if(L<U){if(Y+=D+L-U,(U-=L)<ae){for(ae-=U;le[y++]=N[Y++],--U;);if(Y=0,L<ae){for(ae-=U=L;le[y++]=N[Y++],--U;);Y=y-de,fe=le}}}else if(Y+=L-U,U<ae){for(ae-=U;le[y++]=N[Y++],--U;);Y=y-de,fe=le}for(;2<ae;)le[y++]=fe[Y++],le[y++]=fe[Y++],le[y++]=fe[Y++],ae-=3;ae&&(le[y++]=fe[Y++],1<ae&&(le[y++]=fe[Y++]))}else{for(Y=y-de;le[y++]=le[Y++],le[y++]=le[Y++],le[y++]=le[Y++],2<(ae-=3););ae&&(le[y++]=le[Y++],1<ae&&(le[y++]=le[Y++]))}break}}break}}while(p<m&&y<S);p-=ae=O>>3,I&=(1<<(O-=ae<<3))-1,c.next_in=p,c.next_out=y,c.avail_in=p<m?m-p+5:5-(p-m),c.avail_out=y<S?S-y+257:257-(y-S),h.hold=I,h.bits=O}},{}],49:[function(r,o,a){var c=r("../utils/common"),d=r("./adler32"),h=r("./crc32"),p=r("./inffast"),m=r("./inftrees"),y=1,x=2,S=0,E=-2,D=1,_=852,L=592;function N(Y){return(Y>>>24&255)+(Y>>>8&65280)+((65280&Y)<<8)+((255&Y)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(Y){var fe;return Y&&Y.state?(fe=Y.state,Y.total_in=Y.total_out=fe.total=0,Y.msg="",fe.wrap&&(Y.adler=1&fe.wrap),fe.mode=D,fe.last=0,fe.havedict=0,fe.dmax=32768,fe.head=null,fe.hold=0,fe.bits=0,fe.lencode=fe.lendyn=new c.Buf32(_),fe.distcode=fe.distdyn=new c.Buf32(L),fe.sane=1,fe.back=-1,S):E}function H(Y){var fe;return Y&&Y.state?((fe=Y.state).wsize=0,fe.whave=0,fe.wnext=0,O(Y)):E}function q(Y,fe){var B,le;return Y&&Y.state?(le=Y.state,fe<0?(B=0,fe=-fe):(B=1+(fe>>4),fe<48&&(fe&=15)),fe&&(fe<8||15<fe)?E:(le.window!==null&&le.wbits!==fe&&(le.window=null),le.wrap=B,le.wbits=fe,H(Y))):E}function ce(Y,fe){var B,le;return Y?(le=new I,(Y.state=le).window=null,(B=q(Y,fe))!==S&&(Y.state=null),B):E}var oe,me,U=!0;function ae(Y){if(U){var fe;for(oe=new c.Buf32(512),me=new c.Buf32(32),fe=0;fe<144;)Y.lens[fe++]=8;for(;fe<256;)Y.lens[fe++]=9;for(;fe<280;)Y.lens[fe++]=7;for(;fe<288;)Y.lens[fe++]=8;for(m(y,Y.lens,0,288,oe,0,Y.work,{bits:9}),fe=0;fe<32;)Y.lens[fe++]=5;m(x,Y.lens,0,32,me,0,Y.work,{bits:5}),U=!1}Y.lencode=oe,Y.lenbits=9,Y.distcode=me,Y.distbits=5}function de(Y,fe,B,le){var se,ne=Y.state;return ne.window===null&&(ne.wsize=1<<ne.wbits,ne.wnext=0,ne.whave=0,ne.window=new c.Buf8(ne.wsize)),le>=ne.wsize?(c.arraySet(ne.window,fe,B-ne.wsize,ne.wsize,0),ne.wnext=0,ne.whave=ne.wsize):(le<(se=ne.wsize-ne.wnext)&&(se=le),c.arraySet(ne.window,fe,B-le,se,ne.wnext),(le-=se)?(c.arraySet(ne.window,fe,B-le,le,0),ne.wnext=le,ne.whave=ne.wsize):(ne.wnext+=se,ne.wnext===ne.wsize&&(ne.wnext=0),ne.whave<ne.wsize&&(ne.whave+=se))),0}a.inflateReset=H,a.inflateReset2=q,a.inflateResetKeep=O,a.inflateInit=function(Y){return ce(Y,15)},a.inflateInit2=ce,a.inflate=function(Y,fe){var B,le,se,ne,Me,ye,j,W,F,Q,re,pe,te,k,A,ee,V,z,K,ue,R,X,M,w,v=0,C=new c.Buf8(4),$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&Y.avail_in!==0)return E;(B=Y.state).mode===12&&(B.mode=13),Me=Y.next_out,se=Y.output,j=Y.avail_out,ne=Y.next_in,le=Y.input,ye=Y.avail_in,W=B.hold,F=B.bits,Q=ye,re=j,X=S;e:for(;;)switch(B.mode){case D:if(B.wrap===0){B.mode=13;break}for(;F<16;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if(2&B.wrap&&W===35615){C[B.check=0]=255&W,C[1]=W>>>8&255,B.check=h(B.check,C,2,0),F=W=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&W)<<8)+(W>>8))%31){Y.msg="incorrect header check",B.mode=30;break}if((15&W)!=8){Y.msg="unknown compression method",B.mode=30;break}if(F-=4,R=8+(15&(W>>>=4)),B.wbits===0)B.wbits=R;else if(R>B.wbits){Y.msg="invalid window size",B.mode=30;break}B.dmax=1<<R,Y.adler=B.check=1,B.mode=512&W?10:12,F=W=0;break;case 2:for(;F<16;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if(B.flags=W,(255&B.flags)!=8){Y.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){Y.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=W>>8&1),512&B.flags&&(C[0]=255&W,C[1]=W>>>8&255,B.check=h(B.check,C,2,0)),F=W=0,B.mode=3;case 3:for(;F<32;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}B.head&&(B.head.time=W),512&B.flags&&(C[0]=255&W,C[1]=W>>>8&255,C[2]=W>>>16&255,C[3]=W>>>24&255,B.check=h(B.check,C,4,0)),F=W=0,B.mode=4;case 4:for(;F<16;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}B.head&&(B.head.xflags=255&W,B.head.os=W>>8),512&B.flags&&(C[0]=255&W,C[1]=W>>>8&255,B.check=h(B.check,C,2,0)),F=W=0,B.mode=5;case 5:if(1024&B.flags){for(;F<16;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}B.length=W,B.head&&(B.head.extra_len=W),512&B.flags&&(C[0]=255&W,C[1]=W>>>8&255,B.check=h(B.check,C,2,0)),F=W=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(ye<(pe=B.length)&&(pe=ye),pe&&(B.head&&(R=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),c.arraySet(B.head.extra,le,ne,pe,R)),512&B.flags&&(B.check=h(B.check,le,pe,ne)),ye-=pe,ne+=pe,B.length-=pe),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(ye===0)break e;for(pe=0;R=le[ne+pe++],B.head&&R&&B.length<65536&&(B.head.name+=String.fromCharCode(R)),R&&pe<ye;);if(512&B.flags&&(B.check=h(B.check,le,pe,ne)),ye-=pe,ne+=pe,R)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(ye===0)break e;for(pe=0;R=le[ne+pe++],B.head&&R&&B.length<65536&&(B.head.comment+=String.fromCharCode(R)),R&&pe<ye;);if(512&B.flags&&(B.check=h(B.check,le,pe,ne)),ye-=pe,ne+=pe,R)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;F<16;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if(W!==(65535&B.check)){Y.msg="header crc mismatch",B.mode=30;break}F=W=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),Y.adler=B.check=0,B.mode=12;break;case 10:for(;F<32;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}Y.adler=B.check=N(W),F=W=0,B.mode=11;case 11:if(B.havedict===0)return Y.next_out=Me,Y.avail_out=j,Y.next_in=ne,Y.avail_in=ye,B.hold=W,B.bits=F,2;Y.adler=B.check=1,B.mode=12;case 12:if(fe===5||fe===6)break e;case 13:if(B.last){W>>>=7&F,F-=7&F,B.mode=27;break}for(;F<3;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}switch(B.last=1&W,F-=1,3&(W>>>=1)){case 0:B.mode=14;break;case 1:if(ae(B),B.mode=20,fe!==6)break;W>>>=2,F-=2;break e;case 2:B.mode=17;break;case 3:Y.msg="invalid block type",B.mode=30}W>>>=2,F-=2;break;case 14:for(W>>>=7&F,F-=7&F;F<32;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if((65535&W)!=(W>>>16^65535)){Y.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&W,F=W=0,B.mode=15,fe===6)break e;case 15:B.mode=16;case 16:if(pe=B.length){if(ye<pe&&(pe=ye),j<pe&&(pe=j),pe===0)break e;c.arraySet(se,le,ne,pe,Me),ye-=pe,ne+=pe,j-=pe,Me+=pe,B.length-=pe;break}B.mode=12;break;case 17:for(;F<14;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if(B.nlen=257+(31&W),W>>>=5,F-=5,B.ndist=1+(31&W),W>>>=5,F-=5,B.ncode=4+(15&W),W>>>=4,F-=4,286<B.nlen||30<B.ndist){Y.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;F<3;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}B.lens[$[B.have++]]=7&W,W>>>=3,F-=3}for(;B.have<19;)B.lens[$[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,M={bits:B.lenbits},X=m(0,B.lens,0,19,B.lencode,0,B.work,M),B.lenbits=M.bits,X){Y.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;ee=(v=B.lencode[W&(1<<B.lenbits)-1])>>>16&255,V=65535&v,!((A=v>>>24)<=F);){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if(V<16)W>>>=A,F-=A,B.lens[B.have++]=V;else{if(V===16){for(w=A+2;F<w;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if(W>>>=A,F-=A,B.have===0){Y.msg="invalid bit length repeat",B.mode=30;break}R=B.lens[B.have-1],pe=3+(3&W),W>>>=2,F-=2}else if(V===17){for(w=A+3;F<w;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}F-=A,R=0,pe=3+(7&(W>>>=A)),W>>>=3,F-=3}else{for(w=A+7;F<w;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}F-=A,R=0,pe=11+(127&(W>>>=A)),W>>>=7,F-=7}if(B.have+pe>B.nlen+B.ndist){Y.msg="invalid bit length repeat",B.mode=30;break}for(;pe--;)B.lens[B.have++]=R}}if(B.mode===30)break;if(B.lens[256]===0){Y.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,M={bits:B.lenbits},X=m(y,B.lens,0,B.nlen,B.lencode,0,B.work,M),B.lenbits=M.bits,X){Y.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,M={bits:B.distbits},X=m(x,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,M),B.distbits=M.bits,X){Y.msg="invalid distances set",B.mode=30;break}if(B.mode=20,fe===6)break e;case 20:B.mode=21;case 21:if(6<=ye&&258<=j){Y.next_out=Me,Y.avail_out=j,Y.next_in=ne,Y.avail_in=ye,B.hold=W,B.bits=F,p(Y,re),Me=Y.next_out,se=Y.output,j=Y.avail_out,ne=Y.next_in,le=Y.input,ye=Y.avail_in,W=B.hold,F=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;ee=(v=B.lencode[W&(1<<B.lenbits)-1])>>>16&255,V=65535&v,!((A=v>>>24)<=F);){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if(ee&&(240&ee)==0){for(z=A,K=ee,ue=V;ee=(v=B.lencode[ue+((W&(1<<z+K)-1)>>z)])>>>16&255,V=65535&v,!(z+(A=v>>>24)<=F);){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}W>>>=z,F-=z,B.back+=z}if(W>>>=A,F-=A,B.back+=A,B.length=V,ee===0){B.mode=26;break}if(32&ee){B.back=-1,B.mode=12;break}if(64&ee){Y.msg="invalid literal/length code",B.mode=30;break}B.extra=15&ee,B.mode=22;case 22:if(B.extra){for(w=B.extra;F<w;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}B.length+=W&(1<<B.extra)-1,W>>>=B.extra,F-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;ee=(v=B.distcode[W&(1<<B.distbits)-1])>>>16&255,V=65535&v,!((A=v>>>24)<=F);){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if((240&ee)==0){for(z=A,K=ee,ue=V;ee=(v=B.distcode[ue+((W&(1<<z+K)-1)>>z)])>>>16&255,V=65535&v,!(z+(A=v>>>24)<=F);){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}W>>>=z,F-=z,B.back+=z}if(W>>>=A,F-=A,B.back+=A,64&ee){Y.msg="invalid distance code",B.mode=30;break}B.offset=V,B.extra=15&ee,B.mode=24;case 24:if(B.extra){for(w=B.extra;F<w;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}B.offset+=W&(1<<B.extra)-1,W>>>=B.extra,F-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){Y.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(j===0)break e;if(pe=re-j,B.offset>pe){if((pe=B.offset-pe)>B.whave&&B.sane){Y.msg="invalid distance too far back",B.mode=30;break}te=pe>B.wnext?(pe-=B.wnext,B.wsize-pe):B.wnext-pe,pe>B.length&&(pe=B.length),k=B.window}else k=se,te=Me-B.offset,pe=B.length;for(j<pe&&(pe=j),j-=pe,B.length-=pe;se[Me++]=k[te++],--pe;);B.length===0&&(B.mode=21);break;case 26:if(j===0)break e;se[Me++]=B.length,j--,B.mode=21;break;case 27:if(B.wrap){for(;F<32;){if(ye===0)break e;ye--,W|=le[ne++]<<F,F+=8}if(re-=j,Y.total_out+=re,B.total+=re,re&&(Y.adler=B.check=B.flags?h(B.check,se,re,Me-re):d(B.check,se,re,Me-re)),re=j,(B.flags?W:N(W))!==B.check){Y.msg="incorrect data check",B.mode=30;break}F=W=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;F<32;){if(ye===0)break e;ye--,W+=le[ne++]<<F,F+=8}if(W!==(4294967295&B.total)){Y.msg="incorrect length check",B.mode=30;break}F=W=0}B.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;case 32:default:return E}return Y.next_out=Me,Y.avail_out=j,Y.next_in=ne,Y.avail_in=ye,B.hold=W,B.bits=F,(B.wsize||re!==Y.avail_out&&B.mode<30&&(B.mode<27||fe!==4))&&de(Y,Y.output,Y.next_out,re-Y.avail_out)?(B.mode=31,-4):(Q-=Y.avail_in,re-=Y.avail_out,Y.total_in+=Q,Y.total_out+=re,B.total+=re,B.wrap&&re&&(Y.adler=B.check=B.flags?h(B.check,se,re,Y.next_out-re):d(B.check,se,re,Y.next_out-re)),Y.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(Q==0&&re===0||fe===4)&&X===S&&(X=-5),X)},a.inflateEnd=function(Y){if(!Y||!Y.state)return E;var fe=Y.state;return fe.window&&(fe.window=null),Y.state=null,S},a.inflateGetHeader=function(Y,fe){var B;return Y&&Y.state?(2&(B=Y.state).wrap)==0?E:((B.head=fe).done=!1,S):E},a.inflateSetDictionary=function(Y,fe){var B,le=fe.length;return Y&&Y.state?(B=Y.state).wrap!==0&&B.mode!==11?E:B.mode===11&&d(1,fe,le,0)!==B.check?-3:de(Y,fe,le,le)?(B.mode=31,-4):(B.havedict=1,S):E},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,a){var c=r("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(y,x,S,E,D,_,L,N){var I,O,H,q,ce,oe,me,U,ae,de=N.bits,Y=0,fe=0,B=0,le=0,se=0,ne=0,Me=0,ye=0,j=0,W=0,F=null,Q=0,re=new c.Buf16(16),pe=new c.Buf16(16),te=null,k=0;for(Y=0;Y<=15;Y++)re[Y]=0;for(fe=0;fe<E;fe++)re[x[S+fe]]++;for(se=de,le=15;1<=le&&re[le]===0;le--);if(le<se&&(se=le),le===0)return D[_++]=20971520,D[_++]=20971520,N.bits=1,0;for(B=1;B<le&&re[B]===0;B++);for(se<B&&(se=B),Y=ye=1;Y<=15;Y++)if(ye<<=1,(ye-=re[Y])<0)return-1;if(0<ye&&(y===0||le!==1))return-1;for(pe[1]=0,Y=1;Y<15;Y++)pe[Y+1]=pe[Y]+re[Y];for(fe=0;fe<E;fe++)x[S+fe]!==0&&(L[pe[x[S+fe]]++]=fe);if(oe=y===0?(F=te=L,19):y===1?(F=d,Q-=257,te=h,k-=257,256):(F=p,te=m,-1),Y=B,ce=_,Me=fe=W=0,H=-1,q=(j=1<<(ne=se))-1,y===1&&852<j||y===2&&592<j)return 1;for(;;){for(me=Y-Me,ae=L[fe]<oe?(U=0,L[fe]):L[fe]>oe?(U=te[k+L[fe]],F[Q+L[fe]]):(U=96,0),I=1<<Y-Me,B=O=1<<ne;D[ce+(W>>Me)+(O-=I)]=me<<24|U<<16|ae|0,O!==0;);for(I=1<<Y-1;W&I;)I>>=1;if(I!==0?(W&=I-1,W+=I):W=0,fe++,--re[Y]==0){if(Y===le)break;Y=x[S+L[fe]]}if(se<Y&&(W&q)!==H){for(Me===0&&(Me=se),ce+=B,ye=1<<(ne=Y-Me);ne+Me<le&&!((ye-=re[ne+Me])<=0);)ne++,ye<<=1;if(j+=1<<ne,y===1&&852<j||y===2&&592<j)return 1;D[H=W&q]=se<<24|ne<<16|ce-_|0}}return W!==0&&(D[ce+W]=Y-Me<<24|64<<16|0),N.bits=se,0}},{"../utils/common":41}],51:[function(r,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,a){var c=r("../utils/common"),d=0,h=1;function p(v){for(var C=v.length;0<=--C;)v[C]=0}var m=0,y=29,x=256,S=x+1+y,E=30,D=19,_=2*S+1,L=15,N=16,I=7,O=256,H=16,q=17,ce=18,oe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],me=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=new Array(2*(S+2));p(de);var Y=new Array(2*E);p(Y);var fe=new Array(512);p(fe);var B=new Array(256);p(B);var le=new Array(y);p(le);var se,ne,Me,ye=new Array(E);function j(v,C,$,Z,J){this.static_tree=v,this.extra_bits=C,this.extra_base=$,this.elems=Z,this.max_length=J,this.has_stree=v&&v.length}function W(v,C){this.dyn_tree=v,this.max_code=0,this.stat_desc=C}function F(v){return v<256?fe[v]:fe[256+(v>>>7)]}function Q(v,C){v.pending_buf[v.pending++]=255&C,v.pending_buf[v.pending++]=C>>>8&255}function re(v,C,$){v.bi_valid>N-$?(v.bi_buf|=C<<v.bi_valid&65535,Q(v,v.bi_buf),v.bi_buf=C>>N-v.bi_valid,v.bi_valid+=$-N):(v.bi_buf|=C<<v.bi_valid&65535,v.bi_valid+=$)}function pe(v,C,$){re(v,$[2*C],$[2*C+1])}function te(v,C){for(var $=0;$|=1&v,v>>>=1,$<<=1,0<--C;);return $>>>1}function k(v,C,$){var Z,J,we=new Array(L+1),Ie=0;for(Z=1;Z<=L;Z++)we[Z]=Ie=Ie+$[Z-1]<<1;for(J=0;J<=C;J++){var be=v[2*J+1];be!==0&&(v[2*J]=te(we[be]++,be))}}function A(v){var C;for(C=0;C<S;C++)v.dyn_ltree[2*C]=0;for(C=0;C<E;C++)v.dyn_dtree[2*C]=0;for(C=0;C<D;C++)v.bl_tree[2*C]=0;v.dyn_ltree[2*O]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function ee(v){8<v.bi_valid?Q(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function V(v,C,$,Z){var J=2*C,we=2*$;return v[J]<v[we]||v[J]===v[we]&&Z[C]<=Z[$]}function z(v,C,$){for(var Z=v.heap[$],J=$<<1;J<=v.heap_len&&(J<v.heap_len&&V(C,v.heap[J+1],v.heap[J],v.depth)&&J++,!V(C,Z,v.heap[J],v.depth));)v.heap[$]=v.heap[J],$=J,J<<=1;v.heap[$]=Z}function K(v,C,$){var Z,J,we,Ie,be=0;if(v.last_lit!==0)for(;Z=v.pending_buf[v.d_buf+2*be]<<8|v.pending_buf[v.d_buf+2*be+1],J=v.pending_buf[v.l_buf+be],be++,Z===0?pe(v,J,C):(pe(v,(we=B[J])+x+1,C),(Ie=oe[we])!==0&&re(v,J-=le[we],Ie),pe(v,we=F(--Z),$),(Ie=me[we])!==0&&re(v,Z-=ye[we],Ie)),be<v.last_lit;);pe(v,O,C)}function ue(v,C){var $,Z,J,we=C.dyn_tree,Ie=C.stat_desc.static_tree,be=C.stat_desc.has_stree,Oe=C.stat_desc.elems,Ge=-1;for(v.heap_len=0,v.heap_max=_,$=0;$<Oe;$++)we[2*$]!==0?(v.heap[++v.heap_len]=Ge=$,v.depth[$]=0):we[2*$+1]=0;for(;v.heap_len<2;)we[2*(J=v.heap[++v.heap_len]=Ge<2?++Ge:0)]=1,v.depth[J]=0,v.opt_len--,be&&(v.static_len-=Ie[2*J+1]);for(C.max_code=Ge,$=v.heap_len>>1;1<=$;$--)z(v,we,$);for(J=Oe;$=v.heap[1],v.heap[1]=v.heap[v.heap_len--],z(v,we,1),Z=v.heap[1],v.heap[--v.heap_max]=$,v.heap[--v.heap_max]=Z,we[2*J]=we[2*$]+we[2*Z],v.depth[J]=(v.depth[$]>=v.depth[Z]?v.depth[$]:v.depth[Z])+1,we[2*$+1]=we[2*Z+1]=J,v.heap[1]=J++,z(v,we,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],(function(He,tt){var gt,$t,It,st,Et,Bt,on=tt.dyn_tree,Nn=tt.max_code,bi=tt.stat_desc.static_tree,br=tt.stat_desc.has_stree,Gt=tt.stat_desc.extra_bits,Sr=tt.stat_desc.extra_base,Ct=tt.stat_desc.max_length,or=0;for(st=0;st<=L;st++)He.bl_count[st]=0;for(on[2*He.heap[He.heap_max]+1]=0,gt=He.heap_max+1;gt<_;gt++)Ct<(st=on[2*on[2*($t=He.heap[gt])+1]+1]+1)&&(st=Ct,or++),on[2*$t+1]=st,Nn<$t||(He.bl_count[st]++,Et=0,Sr<=$t&&(Et=Gt[$t-Sr]),Bt=on[2*$t],He.opt_len+=Bt*(st+Et),br&&(He.static_len+=Bt*(bi[2*$t+1]+Et)));if(or!==0){do{for(st=Ct-1;He.bl_count[st]===0;)st--;He.bl_count[st]--,He.bl_count[st+1]+=2,He.bl_count[Ct]--,or-=2}while(0<or);for(st=Ct;st!==0;st--)for($t=He.bl_count[st];$t!==0;)Nn<(It=He.heap[--gt])||(on[2*It+1]!==st&&(He.opt_len+=(st-on[2*It+1])*on[2*It],on[2*It+1]=st),$t--)}})(v,C),k(we,Ge,v.bl_count)}function R(v,C,$){var Z,J,we=-1,Ie=C[1],be=0,Oe=7,Ge=4;for(Ie===0&&(Oe=138,Ge=3),C[2*($+1)+1]=65535,Z=0;Z<=$;Z++)J=Ie,Ie=C[2*(Z+1)+1],++be<Oe&&J===Ie||(be<Ge?v.bl_tree[2*J]+=be:J!==0?(J!==we&&v.bl_tree[2*J]++,v.bl_tree[2*H]++):be<=10?v.bl_tree[2*q]++:v.bl_tree[2*ce]++,we=J,Ge=(be=0)===Ie?(Oe=138,3):J===Ie?(Oe=6,3):(Oe=7,4))}function X(v,C,$){var Z,J,we=-1,Ie=C[1],be=0,Oe=7,Ge=4;for(Ie===0&&(Oe=138,Ge=3),Z=0;Z<=$;Z++)if(J=Ie,Ie=C[2*(Z+1)+1],!(++be<Oe&&J===Ie)){if(be<Ge)for(;pe(v,J,v.bl_tree),--be!=0;);else J!==0?(J!==we&&(pe(v,J,v.bl_tree),be--),pe(v,H,v.bl_tree),re(v,be-3,2)):be<=10?(pe(v,q,v.bl_tree),re(v,be-3,3)):(pe(v,ce,v.bl_tree),re(v,be-11,7));we=J,Ge=(be=0)===Ie?(Oe=138,3):J===Ie?(Oe=6,3):(Oe=7,4)}}p(ye);var M=!1;function w(v,C,$,Z){re(v,(m<<1)+(Z?1:0),3),(function(J,we,Ie,be){ee(J),Q(J,Ie),Q(J,~Ie),c.arraySet(J.pending_buf,J.window,we,Ie,J.pending),J.pending+=Ie})(v,C,$)}a._tr_init=function(v){M||((function(){var C,$,Z,J,we,Ie=new Array(L+1);for(J=Z=0;J<y-1;J++)for(le[J]=Z,C=0;C<1<<oe[J];C++)B[Z++]=J;for(B[Z-1]=J,J=we=0;J<16;J++)for(ye[J]=we,C=0;C<1<<me[J];C++)fe[we++]=J;for(we>>=7;J<E;J++)for(ye[J]=we<<7,C=0;C<1<<me[J]-7;C++)fe[256+we++]=J;for($=0;$<=L;$++)Ie[$]=0;for(C=0;C<=143;)de[2*C+1]=8,C++,Ie[8]++;for(;C<=255;)de[2*C+1]=9,C++,Ie[9]++;for(;C<=279;)de[2*C+1]=7,C++,Ie[7]++;for(;C<=287;)de[2*C+1]=8,C++,Ie[8]++;for(k(de,S+1,Ie),C=0;C<E;C++)Y[2*C+1]=5,Y[2*C]=te(C,5);se=new j(de,oe,x+1,S,L),ne=new j(Y,me,0,E,L),Me=new j(new Array(0),U,0,D,I)})(),M=!0),v.l_desc=new W(v.dyn_ltree,se),v.d_desc=new W(v.dyn_dtree,ne),v.bl_desc=new W(v.bl_tree,Me),v.bi_buf=0,v.bi_valid=0,A(v)},a._tr_stored_block=w,a._tr_flush_block=function(v,C,$,Z){var J,we,Ie=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=(function(be){var Oe,Ge=4093624447;for(Oe=0;Oe<=31;Oe++,Ge>>>=1)if(1&Ge&&be.dyn_ltree[2*Oe]!==0)return d;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return h;for(Oe=32;Oe<x;Oe++)if(be.dyn_ltree[2*Oe]!==0)return h;return d})(v)),ue(v,v.l_desc),ue(v,v.d_desc),Ie=(function(be){var Oe;for(R(be,be.dyn_ltree,be.l_desc.max_code),R(be,be.dyn_dtree,be.d_desc.max_code),ue(be,be.bl_desc),Oe=D-1;3<=Oe&&be.bl_tree[2*ae[Oe]+1]===0;Oe--);return be.opt_len+=3*(Oe+1)+5+5+4,Oe})(v),J=v.opt_len+3+7>>>3,(we=v.static_len+3+7>>>3)<=J&&(J=we)):J=we=$+5,$+4<=J&&C!==-1?w(v,C,$,Z):v.strategy===4||we===J?(re(v,2+(Z?1:0),3),K(v,de,Y)):(re(v,4+(Z?1:0),3),(function(be,Oe,Ge,He){var tt;for(re(be,Oe-257,5),re(be,Ge-1,5),re(be,He-4,4),tt=0;tt<He;tt++)re(be,be.bl_tree[2*ae[tt]+1],3);X(be,be.dyn_ltree,Oe-1),X(be,be.dyn_dtree,Ge-1)})(v,v.l_desc.max_code+1,v.d_desc.max_code+1,Ie+1),K(v,v.dyn_ltree,v.dyn_dtree)),A(v),Z&&ee(v)},a._tr_tally=function(v,C,$){return v.pending_buf[v.d_buf+2*v.last_lit]=C>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&C,v.pending_buf[v.l_buf+v.last_lit]=255&$,v.last_lit++,C===0?v.dyn_ltree[2*$]++:(v.matches++,C--,v.dyn_ltree[2*(B[$]+x+1)]++,v.dyn_dtree[2*F(C)]++),v.last_lit===v.lit_bufsize-1},a._tr_align=function(v){re(v,2,3),pe(v,O,de),(function(C){C.bi_valid===16?(Q(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)})(v)}},{"../utils/common":41}],53:[function(r,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,a){(function(c){(function(d,h){if(!d.setImmediate){var p,m,y,x,S=1,E={},D=!1,_=d.document,L=Object.getPrototypeOf&&Object.getPrototypeOf(d);L=L&&L.setTimeout?L:d,p={}.toString.call(d.process)==="[object process]"?function(H){ot.nextTick(function(){I(H)})}:(function(){if(d.postMessage&&!d.importScripts){var H=!0,q=d.onmessage;return d.onmessage=function(){H=!1},d.postMessage("","*"),d.onmessage=q,H}})()?(x="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",O,!1):d.attachEvent("onmessage",O),function(H){d.postMessage(x+H,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(H){I(H.data)},function(H){y.port2.postMessage(H)}):_&&"onreadystatechange"in _.createElement("script")?(m=_.documentElement,function(H){var q=_.createElement("script");q.onreadystatechange=function(){I(H),q.onreadystatechange=null,m.removeChild(q),q=null},m.appendChild(q)}):function(H){setTimeout(I,0,H)},L.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var q=new Array(arguments.length-1),ce=0;ce<q.length;ce++)q[ce]=arguments[ce+1];var oe={callback:H,args:q};return E[S]=oe,p(S),S++},L.clearImmediate=N}function N(H){delete E[H]}function I(H){if(D)setTimeout(I,0,H);else{var q=E[H];if(q){D=!0;try{(function(ce){var oe=ce.callback,me=ce.args;switch(me.length){case 0:oe();break;case 1:oe(me[0]);break;case 2:oe(me[0],me[1]);break;case 3:oe(me[0],me[1],me[2]);break;default:oe.apply(h,me)}})(q)}finally{N(H),D=!1}}}}function O(H){H.source===d&&typeof H.data=="string"&&H.data.indexOf(x)===0&&I(+H.data.slice(x.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xx);var hL=Xx.exports;const pL=Yw(hL);var _u={exports:{}},mL={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function gL(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,r){return mL[r]}):t}var yL=gL,fh=yL,ew=Ah.Stream,vL="    ";function wL(t,e){typeof e!="object"&&(e={indent:e});var r=e.stream?new ew:null,o="",a=!1,c=e.indent?e.indent===!0?vL:e.indent:"",d=!0;function h(S){d?ot.nextTick(S):S()}function p(S,E){if(E!==void 0&&(o+=E),S&&!a&&(r=r||new ew,a=!0),S&&a){var D=o;h(function(){r.emit("data",D)}),o=""}}function m(S,E){Fh(p,Cu(S,c,c?1:0),E)}function y(){if(r){var S=o;h(function(){r.emit("data",S),r.emit("end"),r.readable=!1,r.emit("close")})}}function x(S){var E=S.encoding||"UTF-8",D={version:"1.0",encoding:E};S.standalone&&(D.standalone=S.standalone),m({"?xml":{_attr:D}}),o=o.replace("/>","?>")}return h(function(){d=!1}),e.declaration&&x(e.declaration),t&&t.forEach?t.forEach(function(S,E){var D;E+1===t.length&&(D=y),m(S,D)}):m(t,y),r?(r.readable=!0,r):o}function xL(){var t=Array.prototype.slice.call(arguments),e={_elem:Cu(t)};return e.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var o=this,a=this._elem.indent;Fh(this.append,Cu(r,a,this._elem.icount+(a?1:0)),function(){o.append(!0)})},e.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},e}function TL(t,e){return new Array(e||0).join(t||"")}function Cu(t,e,r){r=r||0;var o=TL(e,r),a,c=t,d=!1;if(typeof t=="object"){var h=Object.keys(t);if(a=h[0],c=t[a],c&&c._elem)return c._elem.name=a,c._elem.icount=r,c._elem.indent=e,c._elem.indents=o,c._elem.interrupt=c,c._elem}var p=[],m=[],y;function x(S){var E=Object.keys(S);E.forEach(function(D){p.push(bL(D,S[D]))})}switch(typeof c){case"object":if(c===null)break;c._attr&&x(c._attr),c._cdata&&m.push(("<![CDATA["+c._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),c.forEach&&(y=!1,m.push(""),c.forEach(function(S){if(typeof S=="object"){var E=Object.keys(S)[0];E=="_attr"?x(S._attr):m.push(Cu(S,e,r+1))}else m.pop(),y=!0,m.push(fh(S))}),y||m.push(""));break;default:m.push(fh(c))}return{name:a,interrupt:d,attributes:p,content:m,icount:r,indents:o,indent:e}}function Fh(t,e,r){if(typeof e!="object")return t(!1,e);var o=e.interrupt?1:e.content.length;function a(){for(;e.content.length;){var d=e.content.shift();if(d!==void 0){if(c(d))return;Fh(t,d)}}t(!1,(o>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!r?`
`:"")),r&&r()}function c(d){return d.interrupt?(d.interrupt.append=t,d.interrupt.end=a,d.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(o?e.name?">":"":e.name?"/>":"")+(e.indent&&o>1?`
`:"")),!o)return t(!1,e.indent?`
`:"");c(e)||a()}function bL(t,e){return t+'="'+fh(e)+'"'}_u.exports=wL;_u.exports.element=_u.exports.Element=xL;var SL=_u.exports;const Ht=Yw(SL),tw=0,nw=32,EL=32,_L=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==EL)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const a=r.replace(/(..)/g,"$1 ").trim().split(" ").map(p=>parseInt(p,16));a.reverse();const d=t.slice(tw,nw).map((p,m)=>p^a[m%a.length]);return Buffer.concat([t.slice(0,tw),d,t.slice(nw)])};class CL{format(e,r={stack:[]}){const o=e.prepForXml(r);if(o)return o;throw Error("XMLComponent did not format correctly")}}class AL{replace(e,r,o){let a=e;return r.forEach((c,d)=>{a=a.replace(new RegExp(`{${c.fileName}}`,"g"),(o+d).toString())}),a}getMediaData(e,r){return r.Array.filter(o=>e.search(`{${o.fileName}}`)>0)}}class NL{replace(e,r){let o=e;for(const a of r)o=o.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return o}}class RL{constructor(){Ae(this,"formatter"),Ae(this,"imageReplacer"),Ae(this,"numberingReplacer"),this.formatter=new CL,this.imageReplacer=new AL,this.numberingReplacer=new NL}compile(e,r){const o=new pL,a=this.xmlifyFile(e,r),c=new Map(Object.entries(a));for(const[,d]of c)if(Array.isArray(d))for(const h of d)o.file(h.path,h.data);else o.file(d.path,d.data);for(const{stream:d,fileName:h}of e.Media.Array)o.file(`word/media/${h}`,d);for(const{data:d,name:h,fontKey:p}of e.FontTable.fontOptionsWithKey){const[m]=h.split(".");o.file(`word/fonts/${m}.odttf`,_L(d,p))}return o}xmlifyFile(e,r){const o=e.Document.Relationships.RelationshipCount+1,a=Ht(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(c.forEach((d,h)=>{e.Document.Relationships.createRelationship(o+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),Ht(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const d=this.imageReplacer.replace(a,c,o);return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const d=Ht(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Ht(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Ht(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Ht(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((d,h)=>{const p=Ht(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,x)=>{d.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Ht(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:e.Footers.map((d,h)=>{const p=Ht(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,x)=>{d.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:Ht(this.formatter.format(d.Relationships,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:e.Headers.map((d,h)=>{const p=Ht(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:e.Footers.map((d,h)=>{const p=Ht(this.formatter.format(d.View,{viewWrapper:d,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,m,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:Ht(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Ht(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Ht(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Ht(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Ht(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Ht(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Ht(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Ht(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Ht(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const ML={WITH_2_BLANKS:"  "},Da=t=>t===!0?ML.WITH_2_BLANKS:t===!1?void 0:t;class Zx{static toString(e,r){return nu(this,null,function*(){return yield this.compiler.compile(e,Da(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,r){return nu(this,null,function*(){return yield this.compiler.compile(e,Da(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,r){return nu(this,null,function*(){return yield this.compiler.compile(e,Da(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,r){return nu(this,null,function*(){return yield this.compiler.compile(e,Da(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,r){const o=new Ah.Stream;return this.compiler.compile(e,Da(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(c=>{o.emit("data",c),o.emit("end")}),o}}Ae(Zx,"compiler",new RL);const Wo=async(t,e)=>{if(!t||t.length===0)return null;const r=d=>d?d.split(/(\[\[.*?\]\])/g).filter(Boolean).map(p=>{if(p.startsWith("[[")&&p.endsWith("]]")){const m=p.slice(2,-2);return new Wi({text:m,style:"LinkStyle"})}return new Wi(p)}):[],o=[];o.push(new hn({text:e==="GDD"?"Game Design Document":"Roteiro do Jogo",heading:Yo.TITLE,alignment:Cn.CENTER}));const a=[...new Set(t.map(d=>d.category))];for(const d of a){o.push(new hn({text:d,heading:Yo.HEADING_1,spacing:{before:400,after:200}}));const h=t.filter(p=>p.category===d);for(const p of h){if(o.push(new hn({text:p.title,heading:Yo.HEADING_2,spacing:{before:300,after:150}})),!p.content||p.content.length===0){o.push(new hn({children:[new Wi({text:"[Este documento está vazio.]",italics:!0,color:"808080"})],spacing:{after:200}}));continue}for(const m of p.content)switch(m.type){case"heading":{const y=m.level===1?Yo.HEADING_3:m.level===2?Yo.HEADING_4:Yo.HEADING_5;o.push(new hn({children:r(m.text),heading:y}));break}case"paragraph":{o.push(new hn({children:r(m.text),spacing:{after:120}}));break}case"blockquote":{o.push(new hn({children:r(m.text),style:"IntenseQuote"}));break}case"definition_list":{if(Array.isArray(m.items))for(const y of m.items)o.push(new hn({children:[new Wi({text:y.term,bold:!0})]})),o.push(new hn({children:r(y.description),indent:{left:400},spacing:{after:100}}));break}case"list":{if(Array.isArray(m.items))for(const y of m.items)typeof y=="string"&&o.push(new hn({children:r(y),...m.style==="ordered"?{numbering:{reference:"default-numbering",level:0}}:{bullet:{level:0}}}));break}case"image":{if(m.src&&m.src.startsWith("data:image"))try{const[y,x]=m.src.split(","),S=y.match(/image\/(jpeg|png|gif|bmp)/);if(!S)throw new Error(`Unsupported image type for docx from data URL: ${y}`);const E=S[1],D=atob(x),_=D.length,L=new Uint8Array(_);for(let N=0;N<_;N++)L[N]=D.charCodeAt(N);o.push(new hn({children:[new J4({type:"buffer",data:L,transformation:{width:500,height:375}})],alignment:Cn.CENTER})),m.caption&&o.push(new hn({children:r(m.caption),style:"Caption"}))}catch(y){console.error("Erro ao processar imagem para o docx:",y),o.push(new hn({children:[new Wi({text:`[Falha ao carregar imagem: ${m.id}]`,color:"FF0000"})]}))}break}}}}const c=new dL({creator:"AI-Powered Interactive GDD",title:e,numbering:{config:[{reference:"default-numbering",levels:[{level:0,format:"decimal",text:"%1.",alignment:Cn.START}]}]},styles:{paragraphStyles:[{id:"Caption",name:"Caption",basedOn:"Normal",next:"Normal",run:{italics:!0,size:18,color:"808080"},paragraph:{alignment:Cn.CENTER,spacing:{after:200}}},{id:"IntenseQuote",name:"Intense Quote",basedOn:"Normal",next:"Normal",run:{color:"5A5A5A",italics:!0},paragraph:{indent:{left:400},border:{left:{color:"auto",space:4,style:"single",size:6}},spacing:{before:200,after:200}}}],characterStyles:[{id:"LinkStyle",name:"Link Style",basedOn:"Default",run:{color:"0000FF",underline:{type:Ph.SINGLE,color:"0000FF"}}}]},sections:[{children:o}]});return Zx.toBlob(c)},DL=t=>Math.round((t||"").length/3.5),rw=(t,e)=>{const r=new Map;t.forEach(p=>{p.content.forEach(m=>{m.type==="image"&&m.src&&r.set(m.id,m.src)})});const o=p=>({...p,content:p.content.map(m=>{if(m.type==="image"&&m.id&&!m.src){const y=r.get(m.id);return{...m,src:y||""}}return m})}),a=new Date().toISOString(),c=new Map(t.map(p=>[p.id,p]));e.deletedDocumentIds.forEach(p=>{c.delete(p)}),e.updatedDocuments.forEach(p=>{const m=o(p);c.set(p.id,{...m,lastEdited:a})});const d=e.newDocuments.map(p=>({...o(p),lastEdited:a}));return[...c.values(),...d]},Ia=t=>{if(!Array.isArray(t))return[];const e=new Date().toISOString();return t.map(r=>({...r,lastEdited:r.lastEdited||e}))},IL="Kael-is-the-key-to-stop-the-end-of-the-world-prophecy",Qx=new TextEncoder,kL=new TextDecoder,eT=t=>{const e=Qx.encode(IL),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t[o]^e[o%e.length];return r};function LL(t){const e=JSON.stringify(t),r=Qx.encode(e),o=eT(r),a=8192;let c="";for(let d=0;d<o.length;d+=a){const h=o.subarray(d,d+a);c+=String.fromCharCode.apply(null,h)}return btoa(c)}function UL(t){const e=atob(t),r=new Uint8Array(e.length).map((c,d)=>e.charCodeAt(d)),o=eT(r),a=kL.decode(o);return JSON.parse(a)}const qd=[{id:"1",title:"Princípios de Design de Personagem",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Nosso design de personagem segue uma abordagem de 'realismo estilizado'. As características principais incluem silhuetas exageradas e rostos expressivos. Todos os personagens devem se encaixar na estética definida no [[Guia de Estilo Visual]]. O protagonista principal, Kael, é projetado para ser ágil e misterioso."}]},{id:"2",title:"Guia de Estilo Visual",category:"Arte",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O estilo visual do jogo é uma fusão de cyberpunk e mitologia antiga. Usamos uma paleta de cores de alto contraste com detalhes em neon contra ambientes escuros e chuvosos. A inspiração é tirada de filmes clássicos neo-noir. Todos os assets devem seguir estas diretrizes."}]},{id:"3",title:"Loop Principal de Gameplay",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O loop principal é: EXPLORAR, LUTAR, MELHORAR. Os jogadores exploram o mundo para encontrar recursos e missões. Eles se envolvem em nossas [[Mecânicas de Combate]] para superar desafios. Finalmente, eles usam recompensas para melhorar seus equipamentos e habilidades."}]},{id:"4",title:"Mecânicas de Combate",category:"Gameplay",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O combate é um sistema de terceira pessoa em ritmo acelerado, focado em esquivar e contra-atacar. Os jogadores têm um ataque leve, um ataque pesado e habilidades especiais ligadas aos [[Amuletos]] equipados. O gerenciamento de estamina é crucial."}]},{id:"5",title:"Música Tema Principal",category:"Som",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"O tema principal é uma peça orquestral com toques eletrônicos, refletindo o cenário do jogo. Deve ser memorável e evoluir durante momentos chave da história, conforme descrito no [[Arco da História Principal]]."}]},{id:"6",title:"Arco da História Principal",category:"História",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"A história segue Kael, um pária que descobre ser a chave para impedir uma profecia de fim do mundo. O arco é dividido em três atos: O Despertar, A Descida e O Acerto de Contas. A jornada de Kael é de autodescoberta e sacrifício."}]},{id:"7",title:"Amuletos",category:"Lógica",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"paragraph",text:"Amuletos são itens mágicos que concedem habilidades especiais. Existem três tipos: Ofensivo, Defensivo e Utilitário. Cada amuleto tem um período de recarga e um custo de energia. Os jogadores podem equipar até dois ao mesmo tempo."}]}],Hd=[{id:"script-1",title:"Ato 1: O Despertar - Missão 1",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Cutscene de Abertura",level:2},{type:"paragraph",text:"A cena começa com Kael acordando em um beco chuvoso, sem memória. Uma figura misteriosa se aproxima e lhe entrega um amuleto brilhante antes de desaparecer nas sombras."},{type:"heading",text:"Objetivos da Missão",level:2},{type:"list",style:"ordered",items:["Siga o rastro da figura misteriosa.","Aprenda a usar as habilidades básicas de combate.","Encontre o primeiro refúgio seguro."]}]},{id:"script-2",title:"Ato 1: O Despertar - Missão 2",category:"Roteiro",lastEdited:"2024-01-01T00:00:00.000Z",content:[{type:"heading",text:"Encontrando o Mentor",level:2},{type:"paragraph",text:"Kael chega ao refúgio e encontra um velho chamado Elara, que explica a importância dos [[Amuletos]] e o perigo que se aproxima. Elara se torna o mentor de Kael."},{type:"heading",text:"Diálogo Chave",level:2},{type:"paragraph",text:'Elara: "Esse amuleto... é parte de você agora. Ele o guiará, mas também o marcará como um alvo. Você deve aprender a controlá-lo antes que eles o encontrem."'}]}],jo="currentCloudVersionMeta",iw="mind-map-nodes-v2";function BL(){var Zr;const{googleAccessToken:t,authError:e,handleGoogleAuthClick:r}=X5(),[o,a]=xe.useState(null),[c,d]=xe.useState(null),[h,p]=xe.useState(null),[m,y]=xe.useState([]),[x,S]=xe.useState(!0),[E,D]=xe.useState(null),[_,L]=xe.useState("gdd"),[N,I]=xe.useState(null),[O,H]=xe.useState(null),[q,ce]=xe.useState(null),[oe,me]=xe.useState(!1),[U,ae]=xe.useState(320),[de,Y]=xe.useState(!1),[fe,B]=xe.useState(320),le=xe.useRef(!1),[se,ne]=xe.useState(!1),[Me,ye]=xe.useState(!1),[j,W]=xe.useState(!1),[F,Q]=xe.useState(!1),[re,pe]=xe.useState(!1),[te,k]=xe.useState(!1),[A,ee]=xe.useState(!1),[V,z]=xe.useState(null),[K,ue]=xe.useState(null),[R,X]=xe.useState({isOpen:!1,docId:null,blockIndex:null,itemIndex:void 0,initialText:""}),[M,w]=xe.useState({isOpen:!1,targetDoc:null,references:[]}),[v,C]=xe.useState({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),[$,Z]=xe.useState(null),[J,we]=xe.useState(!1),[Ie,be]=xe.useState([]),[Oe,Ge]=xe.useState(!1),He=xe.useRef(null),[tt,gt]=xe.useState(!1),$t=xe.useRef(null),[It,st]=xe.useState(""),[Et,Bt]=xe.useState(0),[on,Nn]=xe.useState(-1),[bi,br]=xe.useState(!1),[Gt,Sr]=xe.useState(""),[Ct,or]=xe.useState(""),[Ts,Si]=xe.useState(!1),[Er,kt]=xe.useState(null),[bs,Ss]=xe.useState(!0),[vn,Pt]=xe.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[un,sr]=xe.useState(!1),[Es,_s]=xe.useState(!1),[ro,Cs]=xe.useState(null),[Ei,io]=xe.useState(!1),[Kr,_r]=xe.useState(null),[jn,ar]=xe.useState(null),[Rt,oo]=xe.useState(""),[Fa,lr]=xe.useState(null),[ur,Fu]=xe.useState(window.innerWidth<768),[As,_i]=xe.useState(!1);xe.useEffect(()=>{const Se=()=>Fu(window.innerWidth<768);return window.addEventListener("resize",Se),()=>window.removeEventListener("resize",Se)},[]);const Xn=xe.useMemo(()=>_==="gdd"?o||[]:_==="script"?c||[]:_==="secret"?h||[]:[],[_,o,c,h]),Ci=xe.useMemo(()=>[...o||[],...c||[]],[o,c]),Zn=xe.useMemo(()=>_==="gdd"?N:_==="script"?O:_==="secret"?q:null,[_,N,O,q]),wn=xe.useMemo(()=>Xn.find(Se=>Se.id===Zn)||null,[Zn,Xn]),Ns=xe.useMemo(()=>[...new Set(Xn.map(Se=>Se.category))],[Xn]),Yr=(Se,Ee)=>{const ze=Ee||_;ze==="gdd"&&I(Se),ze==="script"&&H(Se),ze==="secret"&&ce(Se),oo("")},cr=xe.useRef(o),Ai=xe.useRef(c),so=xe.useRef(h);xe.useEffect(()=>{cr.current=o},[o]),xe.useEffect(()=>{Ai.current=c},[c]),xe.useEffect(()=>{so.current=h},[h]),xe.useEffect(()=>{async function Se(){try{let Ee=await K5(),ze=await $5(),Pe=await W5();Ee||(Ee=qd),ze||(ze=Hd),Pe||(Pe=[]),a(Ia(Ee)),d(Ia(ze)),p(Ia(Pe));try{const De=localStorage.getItem(iw);y(De?JSON.parse(De):[{id:"root",label:"Nome do Jogo"}])}catch(De){console.error("Failed to load mind map from localStorage",De),y([{id:"root",label:"Nome do Jogo"}])}Ee.length>0&&I(Ee[0].id),ze.length>0&&H(ze[0].id),Pe.length>0&&ce(Pe[0].id)}catch(Ee){console.error("Falha ao carregar documentos da persistência",Ee),D("Não foi possível carregar os dados salvos."),a(Ia(qd)),d(Ia(Hd)),p([]),y([{id:"root",label:"Nome do Jogo"}])}finally{S(!1)}}Se()},[]),xe.useEffect(()=>{o&&!x&&Y5(o)},[o,x]),xe.useEffect(()=>{c&&!x&&J5(c)},[c,x]),xe.useEffect(()=>{h&&!x&&j5(h)},[h,x]),xe.useEffect(()=>{x||localStorage.setItem(iw,JSON.stringify(m))},[m,x]),xe.useEffect(()=>{if(!x){const Se=localStorage.getItem("cloudSyncUrl"),Ee=localStorage.getItem("cloudSyncKey");Se&&Ee?(Sr(Se),or(Ee)):(Ss(!1),br(!0))}},[x]),xe.useEffect(()=>{!x&&!bi&&(async()=>{if(!Gt||!Ct)return;const Ee=localStorage.getItem(jo);if(Ee)try{const ze=JSON.parse(Ee),Pe=await H0(Gt,Ct);Pe&&Pe.id!==ze.id&&new Date(Pe.timestamp)>new Date(ze.timestamp)&&ar(Pe)}catch(ze){console.error("Failed to check for new versions:",ze)}})()},[Gt,Ct,x,bi]),xe.useEffect(()=>{const Se=ze=>{if(!le.current)return;const Pe=Math.max(240,Math.min(ze.clientX,600));ae(Pe)},Ee=()=>{le.current=!1,document.body.style.cursor="auto",document.body.style.userSelect="auto"};return window.addEventListener("mousemove",Se),window.addEventListener("mouseup",Ee),()=>{window.removeEventListener("mousemove",Se),window.removeEventListener("mouseup",Ee)}},[]),xe.useEffect(()=>{const Se=Ee=>{$t.current&&!$t.current.contains(Ee.target)&&gt(!1)};return document.addEventListener("mousedown",Se),()=>{document.removeEventListener("mousedown",Se)}},[]),xe.useEffect(()=>{st(""),Bt(0),Nn(-1)},[wn==null?void 0:wn.id]);const zu=Se=>{de||(Se.preventDefault(),le.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none")},za=()=>{Y(Se=>{const Ee=!Se;return Ee?(B(U),ae(0)):ae(fe),Ee})};xe.useEffect(()=>{E&&Z(E)},[E]),xe.useEffect(()=>{e&&Z(e)},[e]);const Tn=Se=>{st(Se),Nn(Se.trim()?0:-1)},Ga=()=>{Et>0&&Nn(Se=>(Se-1+Et)%Et)},Gu=()=>{Et>0&&Nn(Se=>(Se+1)%Et)},ao=xe.useMemo(()=>{if(!Rt.trim())return[];const Se=[],Ee=Rt.trim().toLowerCase(),ze=[...(o||[]).map(De=>({...De,viewMode:"gdd"})),...(c||[]).map(De=>({...De,viewMode:"script"}))],Pe=De=>{const Be=De.toLowerCase().indexOf(Ee);if(Be===-1)return null;const Ve=Math.max(0,Be-40),qe=Math.min(De.length,Be+Ee.length+40),We=(Ve>0?"...":"")+De.substring(Ve,qe)+(qe<De.length?"...":""),Ze=new RegExp(`(${Rt.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi"),nt=We.split(Ze);return ka.createElement(ka.Fragment,null,...nt.map((Mt,en)=>en%2===1?ka.createElement("mark",{key:en,className:"bg-yellow-400 text-black px-0.5 rounded-sm"},Mt):Mt))};return ze.forEach(De=>{const Be=new Set;if(De.title.toLowerCase().includes(Ee)){const Ve=Pe(De.title);Ve&&Be.add(Ve)}De.content.forEach(Ve=>{let qe=[];(Ve.type==="heading"||Ve.type==="paragraph")&&Ve.text?qe.push(Ve.text):Ve.type==="list"&&Ve.items?qe.push(...Ve.items.filter(Boolean)):Ve.type==="image"&&Ve.caption&&qe.push(Ve.caption),qe.forEach(We=>{if(We.toLowerCase().includes(Ee)){const Ze=Pe(We);Ze&&Be.add(Ze)}})}),Be.size>0&&Se.push({docId:De.id,docTitle:De.title,category:De.category,viewMode:De.viewMode,snippets:Array.from(Be)})}),Se},[Rt,o,c]),Va=(Se,Ee)=>{st(Rt),L(Ee),Ee==="gdd"?I(Se):H(Se),oo("")},Ni=async(Se,Ee)=>{if(!Gt||!Ct||Ee==="secret"){console.log("Cloud sync not configured or in secret mode, skipping automatic save.");return}const ze=Ee==="gdd"?Se:cr.current,Pe=Ee==="script"?Se:Ai.current;if(!ze||!Pe){console.warn("Skipping auto-save because one of the document sets is not available.");return}kt("Salvando backup automático na nuvem...");try{const Be=await V0(Gt,Ct,{gdd:ze,script:Pe},so.current,{type:"automatic"});localStorage.setItem(jo,JSON.stringify(Be)),kt("Backup automático salvo com sucesso!"),(async()=>{try{const Ve=await Wo(ze,"GDD"),qe=await Wo(Pe,"Roteiro");await K0(Gt,Ct,Ve,qe),console.log("Backup automático de .docx em segundo plano concluído.")}catch(Ve){console.error("Falha ao gerar ou enviar o backup automático de .docx:",Ve)}})()}catch(De){const Be=De instanceof Error?`Falha no backup automático: ${De.message}`:"Falha no backup automático.";kt(Be),console.error(Be,De)}finally{setTimeout(()=>{kt(De=>De!=null&&De.includes("backup")?null:De)},5e3)}},Vu=async(Se,Ee)=>{ne(!1),Z(null);const ze=_==="gdd"?"GDD":_==="script"?"Roteiro":"Secreta";C({isLoading:!0,message:"A IA está analisando sua ideia...",currentTokens:0,estimatedTokens:Ee.maxOutputTokens||0});const Pe=Be=>{C(Ve=>({...Ve,currentTokens:Be}))},De=Be=>{C(Ve=>({...Ve,message:Be}))};try{let Be,Ve;if(_==="secret"){const nt=await I5(Se,h||[],o||[],c||[],Pe,De,Ee);Be=nt.payload,Ve=nt.rawJson}else if(_==="script"){const nt=await D5(Se,c||[],o||[],Pe,De,Ee);Be=nt.payload,Ve=nt.rawJson}else{const Mt=await M5(Se,o||[],ze,Pe,De,Ee);Be=Mt.payload,Ve=Mt.rawJson}ue({...Be,rawJson:Ve}),C(nt=>({...nt,message:`Integrando sugestão da IA: ${Be.summary}`}));const qe=_==="gdd"?a:_==="script"?d:p;let We=[];qe(nt=>(We=rw(nt||[],Be),We)),_!=="secret"&&Ni(We,_);const Ze=Be.newDocuments;Ze.length>0?Yr(Ze[0].id):setTimeout(()=>{!We.some(Mt=>Mt.id===Zn)&&We.length>0&&Yr(We[0].id)},0)}catch(Be){console.error(Be),Z(Be instanceof Error?Be.message:"Ocorreu um erro desconhecido.")}finally{setTimeout(()=>C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},bn=async(Se,Ee)=>{if(ye(!1),Z(null),_==="secret"||_==="mindmap")return;const ze=(_==="gdd"?o:c)||[],Pe=_==="gdd"?a:d,De=_==="gdd"?"GDD":"Roteiro";C({isLoading:!0,message:"A IA está reestruturando os documentos...",currentTokens:0,estimatedTokens:Ee.maxOutputTokens||0});const Be=qe=>{C(We=>({...We,currentTokens:qe}))},Ve=qe=>{C(We=>({...We,message:qe}))};try{const{payload:qe,rawJson:We}=await k5(Se,ze,De,Be,Ve,Ee);ue({...qe,rawJson:We});let Ze=[];Pe(nt=>(Ze=rw(nt||[],qe),Ze)),Ni(Ze,_),C(nt=>({...nt,message:qe.summary||"Documentos atualizados com sucesso!"})),setTimeout(()=>{!Ze.some(Mt=>Mt.id===Zn)&&Ze.length>0&&Yr(Ze[0].id)},0)}catch(qe){console.error(qe),Z(qe instanceof Error?qe.message:`Ocorreu um erro desconhecido durante a atualização global do ${De}.`)}finally{setTimeout(()=>C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1e3)}},lo=async()=>{Z(null),C({isLoading:!0,message:"A IA está gerando o mapa mental...",currentTokens:0,estimatedTokens:0});try{const Se=await F5(Ci);Pt({isOpen:!0,title:"Mapa Mental Gerado com Sucesso",message:"A IA criou uma nova estrutura para o mapa mental. Deseja substituir o mapa atual por esta nova versão?",onConfirm:()=>{const Ee=m.find(ze=>ze.id==="root")||{id:"root",label:"Nome do Jogo"};y([Ee,...Se])}})}catch(Se){console.error("Falha ao gerar mapa mental com IA",Se),Z(Se instanceof Error?Se.message:"Ocorreu um erro desconhecido durante a geração do mapa mental.")}finally{C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},qa=()=>{Z(null);try{const Ee=LL({gdd:o,script:c}),ze=new Blob([Ee],{type:"text/plain"}),Pe=URL.createObjectURL(ze),De=document.createElement("a");De.href=Pe,De.download="gdd-e-roteiro-data.json",document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(Pe)}catch(Se){console.error("Falha ao fazer o download dos dados",Se),Z(Se instanceof Error?Se.message:"Falha ao fazer o download dos dados.")}},Ri=Se=>{try{let Ee;try{Ee=JSON.parse(Se)}catch(Pe){try{Ee=UL(Se)}catch(De){throw console.error("Falha na descriptografia e na análise JSON:",{jsonError:Pe,decryptError:De}),new Error("Formato de arquivo inválido. O arquivo deve ser um JSON válido ou um arquivo criptografado válido deste aplicativo.")}}const ze=Pe=>Array.isArray(Pe)&&Pe.every(De=>De&&typeof De=="object"&&"id"in De&&"title"in De&&"category"in De&&"content"in De);if(localStorage.removeItem(jo),Ee&&typeof Ee=="object"&&"gdd"in Ee&&"script"in Ee&&!Array.isArray(Ee)){if(!ze(Ee.gdd)||!ze(Ee.script))throw new Error("Formato de arquivo inválido. O arquivo combinado deve conter arrays de documentos válidos para GDD e Roteiro.");a(Ee.gdd),d(Ee.script)}else if(ze(Ee))a(Ee);else throw new Error("Formato de arquivo desconhecido ou inválido. O arquivo deve conter um GDD e Roteiro combinados ou apenas um GDD antigo.")}catch(Ee){console.error("Falha ao analisar o arquivo carregado",Ee),Z(Ee instanceof Error?Ee.message:"Falha ao processar o arquivo. Certifique-se de que é um arquivo JSON válido ou um arquivo criptografado válido deste aplicativo.")}finally{C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},$r=()=>{pe(!1),Z(null);const Se=document.createElement("input");Se.type="file",Se.accept="application/json,.json,text/plain",Se.onchange=Ee=>{var Be;const Pe=(Be=Ee.target.files)==null?void 0:Be[0];if(!Pe)return;C({isLoading:!0,message:"Processando arquivo...",currentTokens:0,estimatedTokens:0});const De=new FileReader;De.onload=Ve=>{var We;const qe=(We=Ve.target)==null?void 0:We.result;typeof qe=="string"&&Ri(qe)},De.onerror=()=>{Z("Falha ao ler o arquivo."),C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},De.readAsText(Pe)},Se.click()},Ha=async Se=>{pe(!1),Z(null);const Ee=Se.match(/file\/d\/([a-zA-Z0-9_-]+)/);if(!Ee||!Ee[1]){Z("URL do Google Drive inválida. Certifique-se de que é um link de compartilhamento de arquivo.");return}const ze=Ee[1];C({isLoading:!0,message:"Baixando arquivo do Google Drive...",currentTokens:0,estimatedTokens:0});try{const Pe=`https://www.googleapis.com/drive/v3/files/${ze}?alt=media&key=PLACEHOLDER_API_KEY`,De=await fetch(Pe);if(De.ok){const qe=await De.text();C(We=>({...We,message:"Processando arquivo público..."})),Ri(qe);return}if(!t)throw new Error("Não foi possível buscar o arquivo público. Se for um arquivo privado, por favor, conecte sua conta do Google primeiro.");C(qe=>({...qe,message:"Tentando acesso privado..."}));const Be=await fetch(`https://www.googleapis.com/drive/v3/files/${ze}?alt=media`,{headers:{Authorization:`Bearer ${t}`}});if(!Be.ok)throw Be.status===401?new Error("Não autorizado. Sua sessão do Google pode ter expirado. Por favor, conecte-se novamente."):new Error(`Falha ao buscar o arquivo do Google Drive: ${Be.statusText}`);const Ve=await Be.text();C(qe=>({...qe,message:"Processando arquivo privado..."})),Ri(Ve)}catch(Pe){console.error("Falha ao carregar do Google Drive",Pe),Z(Pe instanceof Error?Pe.message:"Ocorreu um erro desconhecido ao carregar do Google Drive."),C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},Ka=async()=>{Z(null),C({isLoading:!0,message:"Gerando arquivos .docx...",currentTokens:0,estimatedTokens:0});try{const Se=(Pe,De)=>{const Be=URL.createObjectURL(Pe),Ve=document.createElement("a");Ve.href=Be,Ve.download=De,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),URL.revokeObjectURL(Be)},Ee=await Wo(o,"GDD");Ee&&Se(Ee,"GDD.docx"),await new Promise(Pe=>setTimeout(Pe,200));const ze=await Wo(c,"Roteiro");ze&&Se(ze,"Roteiro.docx"),C(Pe=>({...Pe,message:"Documentos gerados com sucesso!"}))}catch(Se){console.error("Falha ao gerar documentos",Se),Z(Se instanceof Error?Se.message:"Falha ao gerar os documentos.")}finally{setTimeout(()=>{C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})},1500)}},Jr=(Se,Ee,ze,Pe)=>{X({isOpen:!0,docId:Se,blockIndex:Ee,initialText:ze,itemIndex:Pe})},qu=async(Se,Ee)=>{const{docId:ze,blockIndex:Pe,itemIndex:De,initialText:Be}=R;if(ze===null||Pe===null||!Be)return;X({...R,isOpen:!1}),Z(null);const Ve=Math.round(DL(Be)*1.5);C({isLoading:!0,message:"A IA está aprimorando o texto...",currentTokens:0,estimatedTokens:Ve});const qe=We=>{C(Ze=>({...Ze,currentTokens:We}))};try{const nt=await L5(Be,Se,Ee?(_==="gdd"?o:_==="script"?c:h)||[]:void 0,qe);fo(ze,Pe,nt,De)}catch(We){console.error("Falha ao aprimorar o texto",We),Z(We instanceof Error?We.message:"Falha ao aprimorar o texto.")}finally{C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},Rs=Se=>{const Ee=[...o||[],...c||[],...h||[]],ze=Ee.find(Ve=>Ve.id===Se);if(!ze)return;const Pe=[],De=new RegExp(`(\\[\\[${ze.title.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\])`),Be=Ve=>Ve.split(De).map((qe,We)=>De.test(qe)?b.jsx("strong",{className:"bg-yellow-400/30 text-yellow-200",children:qe},We):qe);Ee.forEach(Ve=>{Ve.id!==ze.id&&Ve.content.forEach(qe=>{let We=[];(qe.type==="heading"||qe.type==="paragraph"||qe.type==="blockquote")&&qe.text?We.push(qe.text):qe.type==="list"&&qe.items?We.push(...qe.items.filter(Boolean)):qe.type==="image"&&qe.caption&&We.push(qe.caption),We.forEach(Ze=>{De.test(Ze)&&Pe.push({docId:Ve.id,docTitle:Ve.title,category:Ve.category,snippet:b.jsx(b.Fragment,{children:Be(Ze)})})})})}),w({isOpen:!0,targetDoc:ze,references:Pe})},Ya=()=>{w({isOpen:!1,targetDoc:null,references:[]})},Ms=()=>{we(Se=>!Se)},Hu=()=>{be([]),He.current=null},Ku=async Se=>{if(!o||!c)return;const Ee={role:"user",text:Se};be(ze=>[...ze,Ee]),Ge(!0);try{He.current||(He.current=U5(o,c));const Pe={role:"model",text:(await He.current.sendMessage({message:Se})).text};be(De=>[...De,Pe])}catch(ze){console.error("Erro na consulta avançada do chat:",ze);const Pe={role:"model",text:"Desculpe, ocorreu um erro ao processar sua pergunta. Por favor, tente novamente."};be(De=>[...De,Pe])}finally{Ge(!1)}},uo=(Se,Ee)=>{z({docId:Se,insertionIndex:Ee}),Q(!0)},Ds=async Se=>{if(!V)return;const{docId:Ee,insertionIndex:ze}=V,De=Xn.find(Be=>Be.id===Ee);if(!De){Z("Documento alvo para geração de imagem não encontrado.");return}Q(!1),Z(null);try{C({isLoading:!0,message:"A IA está criando um prompt de imagem detalhado...",currentTokens:0,estimatedTokens:0});const Be=await B5(De,ze,[...o||[],...c||[]],Se);C(nt=>({...nt,message:"A IA está gerando a imagem..."}));const{base64:Ve,mimeType:qe}=await P5(Be),We={type:"image",id:`img-ai-${Date.now()}`,src:`data:${qe};base64,${Ve}`,caption:Be},Ze=[...De.content];Ze.splice(ze,0,We),Xr(Ee,Ze),C(nt=>({...nt,message:"Imagem gerada e inserida com sucesso!"}))}catch(Be){console.error("Falha ao gerar a imagem com IA",Be),Z(Be instanceof Error?Be.message:"Ocorreu um erro desconhecido durante a geração da imagem.")}finally{z(null),setTimeout(()=>C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),1500)}},Is=async(Se,Ee)=>{Sr(Se),or(Ee),localStorage.setItem("cloudSyncUrl",Se),localStorage.setItem("cloudSyncKey",Ee);const ze=!bs;if(kt("Configurações salvas com sucesso!"),ze){br(!1),Ss(!0);const Pe=JSON.stringify(cr.current)===JSON.stringify(qd),De=JSON.stringify(Ai.current)===JSON.stringify(Hd);if(Pe&&De){C({isLoading:!0,message:"Buscando a versão mais recente da nuvem...",currentTokens:0,estimatedTokens:0});try{const Be=await H0(Se,Ee);if(Be){C(qe=>({...qe,message:"Baixando a versão mais recente..."}));const Ve=await q0(Se,Ee,Be.id);a(Ve.gdd),d(Ve.script),localStorage.setItem(jo,JSON.stringify(Be)),C(qe=>({...qe,message:"Versão mais recente carregada com sucesso!"}))}else C(Ve=>({...Ve,message:"Nenhuma versão encontrada na nuvem. Mantendo documentos padrão."}))}catch(Be){console.error("Falha ao buscar automaticamente a versão mais recente:",Be);const Ve=Be instanceof Error?Be.message:"Não foi possível carregar a versão mais recente da nuvem.";Z(Ve),kt(`Erro ao carregar da nuvem: ${Ve}`)}finally{setTimeout(()=>C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0}),2e3)}}}setTimeout(()=>kt(null),5e3)},Wr=()=>{if(!Gt||!Ct){kt("Erro: URL do Worker ou Chave não configurada."),setTimeout(()=>kt(null),5e3);return}sr(!0)},jr=async Se=>{Si(!0),kt("Enviando versão para a nuvem..."),sr(!1);try{const Ee=o||[],ze=c||[],Be=await V0(Gt,Ct,{gdd:Ee,script:ze},h,{type:"manual",name:Se});kt(`Versão "${Be.name}" salva com sucesso!`),localStorage.setItem(jo,JSON.stringify(Be)),(async()=>{try{const Ve=await Wo(Ee,"GDD"),qe=await Wo(ze,"Roteiro");await K0(Gt,Ct,Ve,qe),console.log("Backup .docx em segundo plano concluído.")}catch(Ve){console.error("Falha ao gerar ou enviar o backup .docx:",Ve)}})()}catch(Ee){kt(Ee instanceof Error?`Erro no upload: ${Ee.message}`:"Erro desconhecido no upload.")}finally{Si(!1),setTimeout(()=>kt(null),5e3)}},$a=async()=>{if(!Gt||!Ct){kt("Erro: URL do Worker ou Chave não configurada."),setTimeout(()=>kt(null),5e3);return}io(!0),_r(null),Cs(null),_s(!0);try{const Se=await G5(Gt,Ct);Se.manual.sort((Ee,ze)=>new Date(ze.timestamp).getTime()-new Date(Ee.timestamp).getTime()),Se.automatic.sort((Ee,ze)=>new Date(ze.timestamp).getTime()-new Date(Ee.timestamp).getTime()),Cs(Se)}catch(Se){_r(Se instanceof Error?Se.message:"Erro desconhecido ao buscar versões.")}finally{io(!1)}},co=(Se,Ee)=>{Pt({isOpen:!0,title:"Confirmar Carregamento de Versão",message:"Isso substituirá seus documentos locais (GDD e Roteiro). Se você usar a chave de Administrador, os documentos secretos também serão substituídos. Deseja continuar?",onConfirm:async()=>{_s(!1),Si(!0),kt("Baixando versão da nuvem...");try{const Pe=await q0(Gt,Ct,Se);kt("Dados recebidos. Atualizando documentos..."),a(Pe.gdd),d(Pe.script),Pe.secret&&Array.isArray(Pe.secret)&&(p(Pe.secret),me(!0),console.log("Documentos secretos carregados e categoria desbloqueada."));let De=Ee;!De&&ro&&(De=[...ro.manual,...ro.automatic].find(Ve=>Ve.id===Se)),De&&localStorage.setItem(jo,JSON.stringify(De)),kt("Dados carregados da nuvem com sucesso!")}catch(Pe){kt(Pe instanceof Error?`Erro no download: ${Pe.message}`:"Erro desconhecido no download.")}finally{Si(!1),setTimeout(()=>kt(null),5e3)}}})},Ja=xe.useMemo(()=>{const Se=Ee=>Ee?Ee.trim().split(/\s+/).filter(Boolean).length:0;return Xn.reduce((Ee,ze)=>{let Pe=Se(ze.title);return Array.isArray(ze.content)&&ze.content.forEach(De=>{De.type==="heading"||De.type==="paragraph"?Pe+=Se(De.text):De.type==="list"&&Array.isArray(De.items)?De.items.forEach(Be=>Pe+=Se(Be)):De.type==="image"&&(Pe+=Se(De.caption))}),Ee+Pe},0)},[Xn]),Cr=(Se,Ee)=>{const ze=(o||[]).some(Be=>Be.id===Se),Pe=(c||[]).some(Be=>Be.id===Se),De=(h||[]).some(Be=>Be.id===Se);ze?L("gdd"):Pe?L("script"):De&&oe&&L("secret"),Yr(Se),lr(Ee||null)},Qn=()=>lr(null),fo=(Se,Ee,ze,Pe)=>{const De=_==="gdd"?a:_==="script"?d:p,Be=new Date().toISOString();De(Ve=>(Ve||[]).map(qe=>{if(qe.id!==Se)return qe;const We=[...qe.content],Ze={...We[Ee]};if(Ze.type==="list"&&Pe!==void 0&&Array.isArray(Ze.items)){const nt=[...Ze.items];nt[Pe]=ze,Ze.items=nt}else Ze.type==="heading"||Ze.type==="paragraph"||Ze.type==="blockquote"?Ze.text=ze:Ze.type==="image"&&Pe===void 0&&(Ze.caption=ze);return We[Ee]=Ze,{...qe,content:We,lastEdited:Be}}))},Xr=(Se,Ee)=>{const ze=_==="gdd"?a:_==="script"?d:p,Pe=new Date().toISOString();ze(De=>(De||[]).map(Be=>Be.id===Se?{...Be,content:Ee,lastEdited:Pe}:Be))},fr=(Se,Ee,ze)=>{const Pe=_==="gdd"?a:_==="script"?d:p,De=new Date().toISOString();Pe(Be=>(Be||[]).map(Ve=>{if(Ve.id!==Se)return Ve;const qe=[...Ve.content],We=qe[Ee];return We?(qe[Ee]={...We,...ze},{...Ve,content:qe,lastEdited:De}):Ve}))},ks=(Se,Ee)=>{if(!Ee||Ee.trim()===""||Se===Ee)return;const ze=_==="gdd"?a:_==="script"?d:p,Pe=new Date().toISOString();ze(De=>(De||[]).map(Be=>Be.category===Se?{...Be,category:Ee,lastEdited:Pe}:Be))},ho=(Se,Ee)=>{if(!Ee||Ee.trim()==="")return;const ze=_==="gdd"?a:_==="script"?d:p,Pe=new Date().toISOString();ze(De=>{var Ze;const Be=De||[],Ve=(Ze=Be.find(nt=>nt.id===Se))==null?void 0:Ze.title;if(!Ve||Ve===Ee)return Be;const qe=new RegExp(`\\[\\[${Ve.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\]\\]`,"gi"),We=`[[${Ee}]]`;return Be.map(nt=>{let Mt=!1,en={...nt};nt.id===Se&&(en.title=Ee,Mt=!0);const Ls=en.content.map(Bn=>{var Us;if((Bn.type==="heading"||Bn.type==="paragraph")&&((Us=Bn.text)!=null&&Us.match(qe)))return Mt=!0,{...Bn,text:Bn.text.replace(qe,We)};if(Bn.type==="list"&&Array.isArray(Bn.items)){let Xa=!1;const Yu=Bn.items.map(Di=>Di!=null&&Di.match(qe)?(Xa=!0,Di.replace(qe,We)):Di);if(Xa)return Mt=!0,{...Bn,items:Yu}}return Bn});return Mt&&(en.lastEdited=Pe),{...en,content:Ls}})})},Wa=(Se,Ee)=>{(_==="gdd"?a:_==="script"?d:p)(Pe=>{const De=Pe||[],Be=De.findIndex(Mt=>Mt.id===Se),Ve=De.findIndex(Mt=>Mt.id===Ee);if(Be===-1||Ve===-1)return De;const qe=De[Be],We=De[Ve];if(qe.category!==We.category)return De;const Ze=[...De];Ze.splice(Be,1);const nt=Ze.findIndex(Mt=>Mt.id===Ee);return Ze.splice(nt,0,qe),Ze})},po=(Se,Ee)=>{(_==="gdd"?a:_==="script"?d:p)(Pe=>{const De=Pe||[],Be=[...new Set(De.map(en=>en.category))],Ve=Be.indexOf(Se),qe=Be.indexOf(Ee);if(Ve===-1||qe===-1)return De;const We=[...Be],[Ze]=We.splice(Ve,1);We.splice(qe,0,Ze);const nt=new Map;De.forEach(en=>{nt.has(en.category)||nt.set(en.category,[]),nt.get(en.category).push(en)});const Mt=[];return We.forEach(en=>{const Ls=nt.get(en)||[];Mt.push(...Ls)}),Mt})},mo=Se=>{const Ee=Xn.find(ze=>ze.id===Se);Ee&&Pt({isOpen:!0,title:"Confirmar Exclusão de Documento",message:`Você tem certeza de que deseja excluir permanentemente o documento "${Ee.title}"? Esta ação não pode ser desfeita.`,onConfirm:()=>ja(Se)})},ja=Se=>{const Ee=_==="gdd"?a:_==="script"?d:p,ze=_==="gdd"?I:_==="script"?H:ce;Ee(Pe=>{const De=Pe||[],Be=De.findIndex(qe=>qe.id===Se);if(Be===-1)return De;const Ve=De.filter(qe=>qe.id!==Se);if(Se===Zn){let qe=null;Ve.length>0&&(qe=Ve[Math.min(Be,Ve.length-1)].id),ze(qe)}return Ve})},cn=async Se=>{if(!Gt)return Z("A URL de sincronização na nuvem não está configurada. Não é possível verificar a chave."),!1;C({isLoading:!0,message:"Verificando chave de administrador...",currentTokens:0,estimatedTokens:0});try{return await V5(Gt,Se)?(Se!==Ct&&(or(Se),localStorage.setItem("cloudSyncKey",Se)),me(!0),k(!1),L("secret"),!0):!1}catch(Ee){return Z(Ee instanceof Error?Ee.message:"Ocorreu um erro desconhecido durante a verificação da chave."),!1}finally{C({isLoading:!1,message:"",currentTokens:0,estimatedTokens:0})}},Ar=Er&&(Er.toLowerCase().includes("erro")||Er.toLowerCase().includes("falha")),Mi={title:_==="gdd"?"GDD Explorer":_==="script"?"Roteiro Explorer":"Documentos Secretos",documents:Xn,categories:Ns,activeDocumentId:Zn,onUpdateCategoryName:ks,onUpdateDocumentTitle:ho,onReorderDocuments:Wa,onReorderCategories:po,onFindReferences:Rs,onDeleteDocument:mo,totalWordCount:Ja,searchQuery:Rt,onSearchChange:oo,searchResults:ao,onSelectDocument:(Se,Ee)=>{Yr(Se,Ee),ur&&_i(!1)},onSelectSearchResult:(Se,Ee)=>{Va(Se,Ee),ur&&_i(!1)},appVersion:Xb,onOpenChangelog:()=>ee(!0)};return b.jsxs("div",{className:"flex h-screen font-sans relative",children:[(v.isLoading||x)&&b.jsx(Cb,{message:x?"Carregando banco de dados...":v.message,currentTokens:v.currentTokens,estimatedTokens:v.estimatedTokens}),_!=="mindmap"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:`md:hidden fixed top-0 left-0 h-full z-50 transition-transform duration-300 ease-in-out ${As?"translate-x-0":"-translate-x-full"}`,children:b.jsx(gy,{width:Math.min(320,window.innerWidth*.85),...Mi})}),ur&&As&&b.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden animate-fade-in",onClick:()=>_i(!1)}),b.jsx("div",{className:"hidden md:flex h-full flex-shrink-0",children:b.jsx(gy,{width:U,...Mi})}),b.jsx("div",{className:"hidden md:block",children:!de&&b.jsx("div",{onMouseDown:zu,className:"w-1.5 h-full flex-shrink-0 bg-gray-700 hover:bg-indigo-500 transition-colors duration-200",style:{cursor:"col-resize"}})}),b.jsx("button",{onClick:za,className:"absolute top-1/2 -translate-y-1/2 bg-gray-800 hover:bg-indigo-600 border border-gray-700 text-white rounded-full p-1 z-30 transition-all duration-200 shadow-lg hidden md:block",style:{left:de?"8px":`${U-16}px`},title:de?"Expandir":"Recolher","aria-label":de?"Expandir painel lateral":"Recolher painel lateral",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${de?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})})]}),b.jsxs("main",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto min-w-0",children:[b.jsxs("header",{className:"sticky top-0 z-30 flex items-center justify-between p-4 bg-gray-900/80 backdrop-blur-sm border-b border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 flex-shrink-0",children:[b.jsx("button",{onClick:()=>_i(!0),className:"p-1 rounded-full text-gray-300 hover:bg-gray-700 md:hidden","aria-label":"Abrir menu lateral",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),b.jsxs("div",{className:"bg-gray-800 p-1 rounded-lg flex items-center",children:[b.jsx("button",{onClick:()=>L("gdd"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${_==="gdd"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"GDD"}),b.jsx("button",{onClick:()=>L("script"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${_==="script"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"Roteiro"}),b.jsx("button",{onClick:()=>L("mindmap"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${_==="mindmap"?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:"Mapa Mental"}),oe&&b.jsxs("button",{onClick:()=>L("secret"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors flex items-center ${_==="secret"?"bg-red-600 text-white":"text-gray-400 hover:bg-gray-700"}`,children:[b.jsx(Kd,{})," ",b.jsx("span",{className:"ml-1.5",children:"Secreta"})]})]}),b.jsx("div",{className:"h-6 w-px bg-gray-700 hidden md:block"}),_!=="mindmap"?b.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[b.jsxs("button",{onClick:()=>{ne(!0)},className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md shadow-sm",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),b.jsx("span",{className:"ml-2 hidden lg:inline",children:"Integrar Ideia"})]}),b.jsxs("button",{onClick:()=>{ye(!0)},className:"flex items-center px-4 py-2 text-sm text-gray-200 bg-gray-700 hover:bg-gray-600 transition-colors rounded-md shadow-sm disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed",title:`Atualizar todo o ${_.toUpperCase()} com uma instrução`,disabled:_==="secret",children:[b.jsx(Zl,{}),b.jsx("span",{className:"ml-2 hidden lg:inline",children:"Atualização Global"})]})]}):b.jsx("div",{className:"hidden md:flex items-center space-x-2",children:b.jsxs("button",{onClick:lo,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors rounded-md shadow-sm",children:[b.jsx(Zl,{}),b.jsx("span",{className:"ml-2 hidden lg:inline",children:"Gerar com IA"})]})})]}),b.jsx("div",{className:"flex-grow flex justify-center px-2 md:px-4",children:wn&&_!=="mindmap"&&b.jsxs("div",{className:"relative w-full max-w-lg",children:[b.jsx("input",{type:"text",value:It,onChange:Se=>Tn(Se.target.value),placeholder:"Pesquisar neste documento...",className:"w-full bg-gray-800 border border-gray-600 rounded-full py-2 pl-4 pr-32 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),It&&b.jsxs("div",{className:"absolute inset-y-0 right-2 flex items-center space-x-1 text-gray-400",children:[b.jsx("span",{className:"text-xs px-2",children:Et>0?`${on+1} de ${Et}`:"0/0"}),b.jsx("button",{onClick:Ga,disabled:Et===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:b.jsx(cb,{})}),b.jsx("button",{onClick:Gu,disabled:Et===0,className:"p-1 rounded-full hover:bg-gray-700 disabled:text-gray-600",children:b.jsx(fb,{})})]})]})}),b.jsxs("div",{className:"relative flex-shrink-0",ref:$t,children:[b.jsx("button",{onClick:()=>gt(Se=>!Se),className:"p-2 rounded-full hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500","aria-haspopup":"true","aria-expanded":tt,title:"Menu de Ações",children:b.jsx(ib,{})}),tt&&b.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700 rounded-lg shadow-2xl p-2 z-50 animate-dropdown",children:[b.jsxs("div",{className:"md:hidden border-b border-gray-600 my-1",children:[_!=="mindmap"&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{ne(!0),gt(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),b.jsx("span",{className:"ml-3",children:"Integrar Ideia"})]}),b.jsxs("button",{onClick:()=>{ye(!0),gt(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent",disabled:_==="secret",children:[b.jsx(Zl,{}),b.jsx("span",{className:"ml-3",children:"Atualização Global"})]})]}),_==="mindmap"&&b.jsxs("button",{onClick:()=>{lo(),gt(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",children:[b.jsx(Zl,{}),b.jsx("span",{className:"ml-3",children:"Gerar Mapa com IA"})]})]}),b.jsxs("button",{onClick:()=>{pe(!0),gt(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Carregar GDD e Roteiro",children:[b.jsx(sw,{}),b.jsx("span",{className:"ml-3",children:"Carregar GDD & Roteiro"})]}),b.jsxs("button",{onClick:()=>{qa(),gt(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Salvar GDD e Roteiro no computador",children:[b.jsx(tb,{}),b.jsx("span",{className:"ml-3",children:"Salvar GDD & Roteiro"})]}),b.jsxs("button",{onClick:()=>{Ka(),gt(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Gerar e baixar o documento completo",children:[b.jsx(nb,{}),b.jsx("span",{className:"ml-3",children:"Gerar Documentos .docx"})]}),b.jsx("hr",{className:"border-gray-600 my-1"}),b.jsxs("button",{onClick:()=>{Ss(!0),br(!0),gt(!1)},className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 transition-colors rounded-md text-left",title:"Configurar e usar a sincronização na nuvem",children:[b.jsx(hh,{}),b.jsx("span",{className:"ml-3",children:"Sincronização na Nuvem"})]}),b.jsxs("button",{onClick:()=>{r(),gt(!1)},disabled:!!t,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:t?"Conectado ao Google Drive":"Conectar ao Google Drive para salvar backups",children:[b.jsx(aw,{}),b.jsx("span",{className:"ml-3",children:t?"Conectado ao Google Drive":"Conectar ao Google Drive"})]}),b.jsx("hr",{className:"border-gray-600 my-1"}),b.jsxs("button",{onClick:()=>{k(!0),gt(!1)},disabled:!Gt,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:"Acessar documentos estratégicos e secretos",children:[b.jsx(Kd,{}),b.jsx("span",{className:"ml-3",children:"Acessar Categoria Secreta"})]}),b.jsxs("button",{onClick:()=>{W(!0),gt(!1)},disabled:!K,className:"w-full flex items-center px-4 py-3 text-sm text-gray-200 hover:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors rounded-md text-left",title:"Ver o processo de raciocínio da última ação da IA",children:[b.jsx(rb,{}),b.jsx("span",{className:"ml-3",children:"Ver Raciocínio da IA"})]})]})]})]}),$&&b.jsxs("div",{className:"m-4 p-4 bg-red-800/50 border border-red-600 text-red-200 rounded-md relative animate-fade-in",children:[b.jsx("h3",{className:"font-bold",children:"Ocorreu um Erro"}),b.jsx("p",{children:$}),b.jsx("button",{onClick:()=>Z(null),className:"absolute top-2 right-2 text-red-200 hover:text-white p-1",children:"×"})]}),_==="mindmap"?b.jsx(jb,{allDocuments:Ci,onNavigate:Cr,nodes:m,setNodes:y}):b.jsx(Tb,{document:wn,allDocuments:[...o||[],...c||[],...h||[]],onNavigate:Cr,onRefineRequest:Jr,onFindReferences:Rs,onUpdateBlock:fo,onUpdateBlockContent:fr,onSetContent:Xr,scrollToHeading:Fa,onDidScrollToHeading:Qn,onOpenImageGenerationModal:uo,docSearchQuery:It,docSearchCurrentIndex:on,onDocSearchResultsChange:Bt})]}),Er&&b.jsx("div",{className:`fixed bottom-6 right-6 z-50 p-3 rounded-lg shadow-lg text-sm font-semibold transition-all duration-300 animate-fade-in ${Ar?"bg-red-600 text-white":"bg-gray-700 text-gray-200"}`,children:Er}),b.jsx(bb,{isOpen:se,onClose:()=>ne(!1),onSubmit:Vu,contextType:_==="gdd"?"GDD":_==="script"?"Roteiro":"Secreta"}),b.jsx(_b,{isOpen:Me,onClose:()=>ye(!1),onSubmit:bn,contextType:_==="gdd"?"GDD":"Roteiro"}),b.jsx(Lb,{isOpen:F,onClose:()=>Q(!1),onSubmit:Ds}),b.jsx(Ub,{isOpen:re,onClose:()=>pe(!1),onUploadLocal:$r,onUploadFromUrl:Ha,isGoogleAuth:!!t,onGoogleAuthClick:()=>{r()}}),b.jsx(Eb,{isOpen:R.isOpen,onClose:()=>X({...R,isOpen:!1}),onSubmit:qu,initialText:R.initialText,contextType:_==="gdd"?"GDD":"Roteiro"}),b.jsx(Nb,{isOpen:M.isOpen,onClose:Ya,targetDocTitle:((Zr=M.targetDoc)==null?void 0:Zr.title)||"",references:M.references,onNavigate:Cr}),b.jsx(kb,{isOpen:j,onClose:()=>W(!1),insight:K}),b.jsx(Bb,{isOpen:bi,onClose:()=>br(!1),isClosable:bs,initialUrl:Gt,initialKey:Ct,onSaveSettings:Is,onUploadClick:Wr,onDownloadClick:$a,isSyncing:Ts}),b.jsx(Ob,{isOpen:un,onClose:()=>sr(!1),onSave:jr,isSaving:Ts}),b.jsx(zb,{isOpen:Es,onClose:()=>_s(!1),onLoadVersion:co,versions:ro,isLoading:Ei,error:Kr}),b.jsx(Pb,{isOpen:vn.isOpen,onClose:()=>Pt({...vn,isOpen:!1}),onConfirm:()=>{vn.onConfirm(),Pt({...vn,isOpen:!1})},title:vn.title,message:vn.message}),b.jsx(Vb,{isOpen:!!jn,onClose:()=>ar(null),onConfirm:()=>{jn&&co(jn.id,jn),ar(null)},latestVersion:jn}),b.jsx(qb,{isOpen:te,onClose:()=>k(!1),onUnlock:cn}),b.jsx(rS,{isOpen:A,onClose:()=>ee(!1)}),b.jsx(Ib,{isOpen:J,onToggle:Ms,messages:Ie,isLoading:Oe,onSendMessage:Ku,onClearChat:Hu})]})}const tT=document.getElementById("root");if(!tT)throw new Error("Could not find root element to mount to");const PL=eb.createRoot(tT);PL.render(b.jsx(ka.StrictMode,{children:b.jsx(BL,{})}));
